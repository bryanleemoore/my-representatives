{"ast":null,"code":"'use strict';\n/**\n * __        ___    ____  _   _ ___ _   _  ____\n * \\ \\      / / \\  |  _ \\| \\ | |_ _| \\ | |/ ___|\n *  \\ \\ /\\ / / _ \\ | |_) |  \\| || ||  \\| | |  _\n *   \\ V  V / ___ \\|  _ <| |\\  || || |\\  | |_| |\n *    \\_/\\_/_/   \\_\\_| \\_\\_| \\_|___|_| \\_|\\____|\n *\n * This file is critical for vm2. It implements the bridge between the host and the sandbox.\n * If you do not know exactly what you are doing, you should NOT edit this file.\n *\n * The file is loaded in the host and sandbox to handle objects in both directions.\n * This is done to ensure that RangeErrors are from the correct context.\n * The boundary between the sandbox and host might throw RangeErrors from both contexts.\n * Therefore, thisFromOther and friends can handle objects from both domains.\n *\n * Method parameters have comments to tell from which context they came.\n *\n */\n\nconst globalsList = ['Number', 'String', 'Boolean', 'Date', 'RegExp', 'Map', 'WeakMap', 'Set', 'WeakSet', 'Promise', 'Function'];\nconst errorsList = ['RangeError', 'ReferenceError', 'SyntaxError', 'TypeError', 'EvalError', 'URIError', 'Error'];\nconst OPNA = 'Operation not allowed on contextified object.';\nconst thisGlobalPrototypes = {\n  __proto__: null,\n  Object: Object.prototype,\n  Array: Array.prototype\n};\n\nfor (let i = 0; i < globalsList.length; i++) {\n  const key = globalsList[i];\n  const g = global[key];\n  if (g) thisGlobalPrototypes[key] = g.prototype;\n}\n\nfor (let i = 0; i < errorsList.length; i++) {\n  const key = errorsList[i];\n  const g = global[key];\n  if (g) thisGlobalPrototypes[key] = g.prototype;\n}\n\nconst {\n  getPrototypeOf: thisReflectGetPrototypeOf,\n  setPrototypeOf: thisReflectSetPrototypeOf,\n  defineProperty: thisReflectDefineProperty,\n  deleteProperty: thisReflectDeleteProperty,\n  getOwnPropertyDescriptor: thisReflectGetOwnPropertyDescriptor,\n  isExtensible: thisReflectIsExtensible,\n  preventExtensions: thisReflectPreventExtensions,\n  apply: thisReflectApply,\n  construct: thisReflectConstruct,\n  set: thisReflectSet,\n  get: thisReflectGet,\n  has: thisReflectHas,\n  ownKeys: thisReflectOwnKeys,\n  enumerate: thisReflectEnumerate\n} = Reflect;\nconst thisObject = Object;\nconst {\n  freeze: thisObjectFreeze,\n  prototype: thisObjectPrototype\n} = thisObject;\nconst thisObjectHasOwnProperty = thisObjectPrototype.hasOwnProperty;\nconst ThisProxy = Proxy;\nconst ThisWeakMap = WeakMap;\nconst {\n  get: thisWeakMapGet,\n  set: thisWeakMapSet\n} = ThisWeakMap.prototype;\nconst ThisMap = Map;\nconst thisMapGet = ThisMap.prototype.get;\nconst thisMapSet = ThisMap.prototype.set;\nconst thisFunction = Function;\nconst thisFunctionBind = thisFunction.prototype.bind;\nconst thisArrayIsArray = Array.isArray;\nconst thisErrorCaptureStackTrace = Error.captureStackTrace;\nconst thisSymbolToString = Symbol.prototype.toString;\nconst thisSymbolToStringTag = Symbol.toStringTag;\n/**\n * VMError.\n *\n * @public\n * @extends {Error}\n */\n\nclass VMError extends Error {\n  /**\n   * Create VMError instance.\n   *\n   * @public\n   * @param {string} message - Error message.\n   * @param {string} code - Error code.\n   */\n  constructor(message, code) {\n    super(message);\n    this.name = 'VMError';\n    this.code = code;\n    thisErrorCaptureStackTrace(this, this.constructor);\n  }\n\n}\n\nthisGlobalPrototypes['VMError'] = VMError.prototype;\n\nfunction thisUnexpected() {\n  return new VMError('Unexpected');\n}\n\nif (!thisReflectSetPrototypeOf(exports, null)) throw thisUnexpected();\n\nfunction thisSafeGetOwnPropertyDescriptor(obj, key) {\n  const desc = thisReflectGetOwnPropertyDescriptor(obj, key);\n  if (!desc) return desc;\n  if (!thisReflectSetPrototypeOf(desc, null)) throw thisUnexpected();\n  return desc;\n}\n\nfunction thisThrowCallerCalleeArgumentsAccess(key) {\n  'use strict';\n\n  thisThrowCallerCalleeArgumentsAccess[key];\n  return thisUnexpected();\n}\n\nfunction thisIdMapping(factory, other) {\n  return other;\n}\n\nconst thisThrowOnKeyAccessHandler = thisObjectFreeze({\n  __proto__: null,\n\n  get(target, key, receiver) {\n    if (typeof key === 'symbol') {\n      key = thisReflectApply(thisSymbolToString, key, []);\n    }\n\n    throw new VMError(`Unexpected access to key '${key}'`);\n  }\n\n});\nconst emptyForzenObject = thisObjectFreeze({\n  __proto__: null\n});\nconst thisThrowOnKeyAccess = new ThisProxy(emptyForzenObject, thisThrowOnKeyAccessHandler);\n\nfunction SafeBase() {}\n\nif (!thisReflectDefineProperty(SafeBase, 'prototype', {\n  __proto__: null,\n  value: thisThrowOnKeyAccess\n})) throw thisUnexpected();\n\nfunction SHARED_FUNCTION() {}\n\nconst TEST_PROXY_HANDLER = thisObjectFreeze({\n  __proto__: thisThrowOnKeyAccess,\n\n  construct() {\n    return this;\n  }\n\n});\n\nfunction thisIsConstructor(obj) {\n  // Note: obj@any(unsafe)\n  const Func = new ThisProxy(obj, TEST_PROXY_HANDLER);\n\n  try {\n    // eslint-disable-next-line no-new\n    new Func();\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction thisCreateTargetObject(obj, proto) {\n  // Note: obj@any(unsafe) proto@any(unsafe) returns@this(unsafe) throws@this(unsafe)\n  let base;\n\n  if (typeof obj === 'function') {\n    if (thisIsConstructor(obj)) {\n      // Bind the function since bound functions do not have a prototype property.\n      base = thisReflectApply(thisFunctionBind, SHARED_FUNCTION, [null]);\n    } else {\n      base = () => {};\n    }\n  } else if (thisArrayIsArray(obj)) {\n    base = [];\n  } else {\n    return {\n      __proto__: proto\n    };\n  }\n\n  if (!thisReflectSetPrototypeOf(base, proto)) throw thisUnexpected();\n  return base;\n}\n\nfunction createBridge(otherInit, registerProxy) {\n  const mappingOtherToThis = new ThisWeakMap();\n  const protoMappings = new ThisMap();\n  const protoName = new ThisMap();\n\n  function thisAddProtoMapping(proto, other, name) {\n    // Note: proto@this(unsafe) other@other(unsafe) name@this(unsafe) throws@this(unsafe)\n    thisReflectApply(thisMapSet, protoMappings, [proto, thisIdMapping]);\n    thisReflectApply(thisMapSet, protoMappings, [other, (factory, object) => thisProxyOther(factory, object, proto)]);\n    if (name) thisReflectApply(thisMapSet, protoName, [proto, name]);\n  }\n\n  function thisAddProtoMappingFactory(protoFactory, other, name) {\n    // Note: protoFactory@this(unsafe) other@other(unsafe) name@this(unsafe) throws@this(unsafe)\n    let proto;\n    thisReflectApply(thisMapSet, protoMappings, [other, (factory, object) => {\n      if (!proto) {\n        proto = protoFactory();\n        thisReflectApply(thisMapSet, protoMappings, [proto, thisIdMapping]);\n        if (name) thisReflectApply(thisMapSet, protoName, [proto, name]);\n      }\n\n      return thisProxyOther(factory, object, proto);\n    }]);\n  }\n\n  const result = {\n    __proto__: null,\n    globalPrototypes: thisGlobalPrototypes,\n    safeGetOwnPropertyDescriptor: thisSafeGetOwnPropertyDescriptor,\n    fromArguments: thisFromOtherArguments,\n    from: thisFromOther,\n    fromWithFactory: thisFromOtherWithFactory,\n    ensureThis: thisEnsureThis,\n    mapping: mappingOtherToThis,\n    connect: thisConnect,\n    reflectSet: thisReflectSet,\n    reflectGet: thisReflectGet,\n    reflectDefineProperty: thisReflectDefineProperty,\n    reflectDeleteProperty: thisReflectDeleteProperty,\n    reflectApply: thisReflectApply,\n    reflectConstruct: thisReflectConstruct,\n    reflectHas: thisReflectHas,\n    reflectOwnKeys: thisReflectOwnKeys,\n    reflectEnumerate: thisReflectEnumerate,\n    reflectGetPrototypeOf: thisReflectGetPrototypeOf,\n    reflectIsExtensible: thisReflectIsExtensible,\n    reflectPreventExtensions: thisReflectPreventExtensions,\n    objectHasOwnProperty: thisObjectHasOwnProperty,\n    weakMapSet: thisWeakMapSet,\n    addProtoMapping: thisAddProtoMapping,\n    addProtoMappingFactory: thisAddProtoMappingFactory,\n    defaultFactory,\n    protectedFactory,\n    readonlyFactory,\n    VMError\n  };\n  const isHost = typeof otherInit !== 'object';\n\n  if (isHost) {\n    otherInit = otherInit(result, registerProxy);\n  }\n\n  result.other = otherInit;\n  const {\n    globalPrototypes: otherGlobalPrototypes,\n    safeGetOwnPropertyDescriptor: otherSafeGetOwnPropertyDescriptor,\n    fromArguments: otherFromThisArguments,\n    from: otherFromThis,\n    mapping: mappingThisToOther,\n    reflectSet: otherReflectSet,\n    reflectGet: otherReflectGet,\n    reflectDefineProperty: otherReflectDefineProperty,\n    reflectDeleteProperty: otherReflectDeleteProperty,\n    reflectApply: otherReflectApply,\n    reflectConstruct: otherReflectConstruct,\n    reflectHas: otherReflectHas,\n    reflectOwnKeys: otherReflectOwnKeys,\n    reflectEnumerate: otherReflectEnumerate,\n    reflectGetPrototypeOf: otherReflectGetPrototypeOf,\n    reflectIsExtensible: otherReflectIsExtensible,\n    reflectPreventExtensions: otherReflectPreventExtensions,\n    objectHasOwnProperty: otherObjectHasOwnProperty,\n    weakMapSet: otherWeakMapSet\n  } = otherInit;\n\n  function thisOtherHasOwnProperty(object, key) {\n    // Note: object@other(safe) key@prim throws@this(unsafe)\n    try {\n      return otherReflectApply(otherObjectHasOwnProperty, object, [key]) === true;\n    } catch (e) {\n      // @other(unsafe)\n      throw thisFromOtherForThrow(e);\n    }\n  }\n\n  function thisDefaultGet(handler, object, key, desc) {\n    // Note: object@other(unsafe) key@prim desc@other(safe)\n    let ret; // @other(unsafe)\n\n    if (desc.get || desc.set) {\n      const getter = desc.get;\n      if (!getter) return undefined;\n\n      try {\n        ret = otherReflectApply(getter, object, [key]);\n      } catch (e) {\n        throw thisFromOtherForThrow(e);\n      }\n    } else {\n      ret = desc.value;\n    }\n\n    return handler.fromOtherWithContext(ret);\n  }\n\n  function otherFromThisIfAvailable(to, from, key) {\n    // Note: to@other(safe) from@this(safe) key@prim throws@this(unsafe)\n    if (!thisReflectApply(thisObjectHasOwnProperty, from, [key])) return false;\n\n    try {\n      to[key] = otherFromThis(from[key]);\n    } catch (e) {\n      // @other(unsafe)\n      throw thisFromOtherForThrow(e);\n    }\n\n    return true;\n  }\n\n  class BaseHandler extends SafeBase {\n    constructor(object) {\n      // Note: object@other(unsafe) throws@this(unsafe)\n      super();\n      this.object = object;\n    }\n\n    getFactory() {\n      return defaultFactory;\n    }\n\n    fromOtherWithContext(other) {\n      // Note: other@other(unsafe) throws@this(unsafe)\n      return thisFromOtherWithFactory(this.getFactory(), other);\n    }\n\n    doPreventExtensions(target, object, factory) {\n      // Note: target@this(unsafe) object@other(unsafe) throws@this(unsafe)\n      let keys; // @other(safe-array-of-prim)\n\n      try {\n        keys = otherReflectOwnKeys(object);\n      } catch (e) {\n        // @other(unsafe)\n        throw thisFromOtherForThrow(e);\n      }\n\n      for (let i = 0; i < keys.length; i++) {\n        const key = keys[i]; // @prim\n\n        let desc;\n\n        try {\n          desc = otherSafeGetOwnPropertyDescriptor(object, key);\n        } catch (e) {\n          // @other(unsafe)\n          throw thisFromOtherForThrow(e);\n        }\n\n        if (!desc) continue;\n\n        if (!desc.configurable) {\n          const current = thisSafeGetOwnPropertyDescriptor(target, key);\n          if (current && !current.configurable) continue;\n\n          if (desc.get || desc.set) {\n            desc.get = this.fromOtherWithContext(desc.get);\n            desc.set = this.fromOtherWithContext(desc.set);\n          } else if (typeof object === 'function' && (key === 'caller' || key === 'callee' || key === 'arguments')) {\n            desc.value = null;\n          } else {\n            desc.value = this.fromOtherWithContext(desc.value);\n          }\n        } else {\n          if (desc.get || desc.set) {\n            desc = {\n              __proto__: null,\n              configurable: true,\n              enumerable: desc.enumerable,\n              writable: true,\n              value: null\n            };\n          } else {\n            desc.value = null;\n          }\n        }\n\n        if (!thisReflectDefineProperty(target, key, desc)) throw thisUnexpected();\n      }\n\n      if (!thisReflectPreventExtensions(target)) throw thisUnexpected();\n    }\n\n    get(target, key, receiver) {\n      // Note: target@this(unsafe) key@prim receiver@this(unsafe) throws@this(unsafe)\n      const object = this.object; // @other(unsafe)\n\n      switch (key) {\n        case 'constructor':\n          {\n            const desc = otherSafeGetOwnPropertyDescriptor(object, key);\n            if (desc) return thisDefaultGet(this, object, key, desc);\n            const proto = thisReflectGetPrototypeOf(target);\n            return proto === null ? undefined : proto.constructor;\n          }\n\n        case '__proto__':\n          {\n            const desc = otherSafeGetOwnPropertyDescriptor(object, key);\n            if (desc) return thisDefaultGet(this, object, key, desc);\n            return thisReflectGetPrototypeOf(target);\n          }\n\n        case thisSymbolToStringTag:\n          if (!thisOtherHasOwnProperty(object, thisSymbolToStringTag)) {\n            const proto = thisReflectGetPrototypeOf(target);\n            const name = thisReflectApply(thisMapGet, protoName, [proto]);\n            if (name) return name;\n          }\n\n          break;\n\n        case 'arguments':\n        case 'caller':\n        case 'callee':\n          if (typeof object === 'function' && thisOtherHasOwnProperty(object, key)) {\n            throw thisThrowCallerCalleeArgumentsAccess(key);\n          }\n\n          break;\n      }\n\n      let ret; // @other(unsafe)\n\n      try {\n        ret = otherReflectGet(object, key);\n      } catch (e) {\n        // @other(unsafe)\n        throw thisFromOtherForThrow(e);\n      }\n\n      return this.fromOtherWithContext(ret);\n    }\n\n    set(target, key, value, receiver) {\n      // Note: target@this(unsafe) key@prim value@this(unsafe) receiver@this(unsafe) throws@this(unsafe)\n      const object = this.object; // @other(unsafe)\n\n      if (key === '__proto__' && !thisOtherHasOwnProperty(object, key)) {\n        return this.setPrototypeOf(target, value);\n      }\n\n      try {\n        value = otherFromThis(value);\n        return otherReflectSet(object, key, value) === true;\n      } catch (e) {\n        // @other(unsafe)\n        throw thisFromOtherForThrow(e);\n      }\n    }\n\n    getPrototypeOf(target) {\n      // Note: target@this(unsafe)\n      return thisReflectGetPrototypeOf(target);\n    }\n\n    setPrototypeOf(target, value) {\n      // Note: target@this(unsafe) throws@this(unsafe)\n      throw new VMError(OPNA);\n    }\n\n    apply(target, context, args) {\n      // Note: target@this(unsafe) context@this(unsafe) args@this(safe-array) throws@this(unsafe)\n      const object = this.object; // @other(unsafe)\n\n      let ret; // @other(unsafe)\n\n      try {\n        context = otherFromThis(context);\n        args = otherFromThisArguments(args);\n        ret = otherReflectApply(object, context, args);\n      } catch (e) {\n        // @other(unsafe)\n        throw thisFromOtherForThrow(e);\n      }\n\n      return thisFromOther(ret);\n    }\n\n    construct(target, args, newTarget) {\n      // Note: target@this(unsafe) args@this(safe-array) newTarget@this(unsafe) throws@this(unsafe)\n      const object = this.object; // @other(unsafe)\n\n      let ret; // @other(unsafe)\n\n      try {\n        args = otherFromThisArguments(args);\n        ret = otherReflectConstruct(object, args);\n      } catch (e) {\n        // @other(unsafe)\n        throw thisFromOtherForThrow(e);\n      }\n\n      return thisFromOtherWithFactory(this.getFactory(), ret, thisFromOther(object));\n    }\n\n    getOwnPropertyDescriptorDesc(target, prop, desc) {\n      // Note: target@this(unsafe) prop@prim desc@other{safe} throws@this(unsafe)\n      const object = this.object; // @other(unsafe)\n\n      if (desc && typeof object === 'function' && (prop === 'arguments' || prop === 'caller' || prop === 'callee')) desc.value = null;\n      return desc;\n    }\n\n    getOwnPropertyDescriptor(target, prop) {\n      // Note: target@this(unsafe) prop@prim throws@this(unsafe)\n      const object = this.object; // @other(unsafe)\n\n      let desc; // @other(safe)\n\n      try {\n        desc = otherSafeGetOwnPropertyDescriptor(object, prop);\n      } catch (e) {\n        // @other(unsafe)\n        throw thisFromOtherForThrow(e);\n      }\n\n      desc = this.getOwnPropertyDescriptorDesc(target, prop, desc);\n      if (!desc) return undefined;\n      let thisDesc;\n\n      if (desc.get || desc.set) {\n        thisDesc = {\n          __proto__: null,\n          get: this.fromOtherWithContext(desc.get),\n          set: this.fromOtherWithContext(desc.set),\n          enumerable: desc.enumerable === true,\n          configurable: desc.configurable === true\n        };\n      } else {\n        thisDesc = {\n          __proto__: null,\n          value: this.fromOtherWithContext(desc.value),\n          writable: desc.writable === true,\n          enumerable: desc.enumerable === true,\n          configurable: desc.configurable === true\n        };\n      }\n\n      if (!thisDesc.configurable) {\n        const oldDesc = thisSafeGetOwnPropertyDescriptor(target, prop);\n\n        if (!oldDesc || oldDesc.configurable || oldDesc.writable !== thisDesc.writable) {\n          if (!thisReflectDefineProperty(target, prop, thisDesc)) throw thisUnexpected();\n        }\n      }\n\n      return thisDesc;\n    }\n\n    definePropertyDesc(target, prop, desc) {\n      // Note: target@this(unsafe) prop@prim desc@this(safe) throws@this(unsafe)\n      return desc;\n    }\n\n    defineProperty(target, prop, desc) {\n      // Note: target@this(unsafe) prop@prim desc@this(unsafe) throws@this(unsafe)\n      const object = this.object; // @other(unsafe)\n\n      if (!thisReflectSetPrototypeOf(desc, null)) throw thisUnexpected();\n      desc = this.definePropertyDesc(target, prop, desc);\n      if (!desc) return false;\n      let otherDesc = {\n        __proto__: null\n      };\n      let hasFunc = true;\n      let hasValue = true;\n      let hasBasic = true;\n      hasFunc &= otherFromThisIfAvailable(otherDesc, desc, 'get');\n      hasFunc &= otherFromThisIfAvailable(otherDesc, desc, 'set');\n      hasValue &= otherFromThisIfAvailable(otherDesc, desc, 'value');\n      hasValue &= otherFromThisIfAvailable(otherDesc, desc, 'writable');\n      hasBasic &= otherFromThisIfAvailable(otherDesc, desc, 'enumerable');\n      hasBasic &= otherFromThisIfAvailable(otherDesc, desc, 'configurable');\n\n      try {\n        if (!otherReflectDefineProperty(object, prop, otherDesc)) return false;\n\n        if (otherDesc.configurable !== true && (!hasBasic || !(hasFunc || hasValue))) {\n          otherDesc = otherSafeGetOwnPropertyDescriptor(object, prop);\n        }\n      } catch (e) {\n        // @other(unsafe)\n        throw thisFromOtherForThrow(e);\n      }\n\n      if (!otherDesc.configurable) {\n        let thisDesc;\n\n        if (otherDesc.get || otherDesc.set) {\n          thisDesc = {\n            __proto__: null,\n            get: this.fromOtherWithContext(otherDesc.get),\n            set: this.fromOtherWithContext(otherDesc.set),\n            enumerable: otherDesc.enumerable,\n            configurable: otherDesc.configurable\n          };\n        } else {\n          thisDesc = {\n            __proto__: null,\n            value: this.fromOtherWithContext(otherDesc.value),\n            writable: otherDesc.writable,\n            enumerable: otherDesc.enumerable,\n            configurable: otherDesc.configurable\n          };\n        }\n\n        if (!thisReflectDefineProperty(target, prop, thisDesc)) throw thisUnexpected();\n      }\n\n      return true;\n    }\n\n    deleteProperty(target, prop) {\n      // Note: target@this(unsafe) prop@prim throws@this(unsafe)\n      const object = this.object; // @other(unsafe)\n\n      try {\n        return otherReflectDeleteProperty(object, prop) === true;\n      } catch (e) {\n        // @other(unsafe)\n        throw thisFromOtherForThrow(e);\n      }\n    }\n\n    has(target, key) {\n      // Note: target@this(unsafe) key@prim throws@this(unsafe)\n      const object = this.object; // @other(unsafe)\n\n      try {\n        return otherReflectHas(object, key) === true;\n      } catch (e) {\n        // @other(unsafe)\n        throw thisFromOtherForThrow(e);\n      }\n    }\n\n    isExtensible(target) {\n      // Note: target@this(unsafe) throws@this(unsafe)\n      const object = this.object; // @other(unsafe)\n\n      try {\n        if (otherReflectIsExtensible(object)) return true;\n      } catch (e) {\n        // @other(unsafe)\n        throw thisFromOtherForThrow(e);\n      }\n\n      if (thisReflectIsExtensible(target)) {\n        this.doPreventExtensions(target, object, this);\n      }\n\n      return false;\n    }\n\n    ownKeys(target) {\n      // Note: target@this(unsafe) throws@this(unsafe)\n      const object = this.object; // @other(unsafe)\n\n      let res; // @other(unsafe)\n\n      try {\n        res = otherReflectOwnKeys(object);\n      } catch (e) {\n        // @other(unsafe)\n        throw thisFromOtherForThrow(e);\n      }\n\n      return thisFromOther(res);\n    }\n\n    preventExtensions(target) {\n      // Note: target@this(unsafe) throws@this(unsafe)\n      const object = this.object; // @other(unsafe)\n\n      try {\n        if (!otherReflectPreventExtensions(object)) return false;\n      } catch (e) {\n        // @other(unsafe)\n        throw thisFromOtherForThrow(e);\n      }\n\n      if (thisReflectIsExtensible(target)) {\n        this.doPreventExtensions(target, object, this);\n      }\n\n      return true;\n    }\n\n    enumerate(target) {\n      // Note: target@this(unsafe) throws@this(unsafe)\n      const object = this.object; // @other(unsafe)\n\n      let res; // @other(unsafe)\n\n      try {\n        res = otherReflectEnumerate(object);\n      } catch (e) {\n        // @other(unsafe)\n        throw thisFromOtherForThrow(e);\n      }\n\n      return this.fromOtherWithContext(res);\n    }\n\n  }\n\n  function defaultFactory(object) {\n    // Note: other@other(unsafe) returns@this(unsafe) throws@this(unsafe)\n    return new BaseHandler(object);\n  }\n\n  class ProtectedHandler extends BaseHandler {\n    getFactory() {\n      return protectedFactory;\n    }\n\n    set(target, key, value, receiver) {\n      // Note: target@this(unsafe) key@prim value@this(unsafe) receiver@this(unsafe) throws@this(unsafe)\n      if (typeof value === 'function') {\n        return thisReflectDefineProperty(receiver, key, {\n          __proto__: null,\n          value: value,\n          writable: true,\n          enumerable: true,\n          configurable: true\n        }) === true;\n      }\n\n      return super.set(target, key, value, receiver);\n    }\n\n    definePropertyDesc(target, prop, desc) {\n      // Note: target@this(unsafe) prop@prim desc@this(safe) throws@this(unsafe)\n      if (desc && (desc.set || desc.get || typeof desc.value === 'function')) return undefined;\n      return desc;\n    }\n\n  }\n\n  function protectedFactory(object) {\n    // Note: other@other(unsafe) returns@this(unsafe) throws@this(unsafe)\n    return new ProtectedHandler(object);\n  }\n\n  class ReadOnlyHandler extends BaseHandler {\n    getFactory() {\n      return readonlyFactory;\n    }\n\n    set(target, key, value, receiver) {\n      // Note: target@this(unsafe) key@prim value@this(unsafe) receiver@this(unsafe) throws@this(unsafe)\n      return thisReflectDefineProperty(receiver, key, {\n        __proto__: null,\n        value: value,\n        writable: true,\n        enumerable: true,\n        configurable: true\n      });\n    }\n\n    setPrototypeOf(target, value) {\n      // Note: target@this(unsafe) throws@this(unsafe)\n      return false;\n    }\n\n    defineProperty(target, prop, desc) {\n      // Note: target@this(unsafe) prop@prim desc@this(unsafe) throws@this(unsafe)\n      return false;\n    }\n\n    deleteProperty(target, prop) {\n      // Note: target@this(unsafe) prop@prim throws@this(unsafe)\n      return false;\n    }\n\n    isExtensible(target) {\n      // Note: target@this(unsafe) throws@this(unsafe)\n      return false;\n    }\n\n    preventExtensions(target) {\n      // Note: target@this(unsafe) throws@this(unsafe)\n      return false;\n    }\n\n  }\n\n  function readonlyFactory(object) {\n    // Note: other@other(unsafe) returns@this(unsafe) throws@this(unsafe)\n    return new ReadOnlyHandler(object);\n  }\n\n  class ReadOnlyMockHandler extends ReadOnlyHandler {\n    constructor(object, mock) {\n      // Note: object@other(unsafe) mock:this(unsafe) throws@this(unsafe)\n      super(object);\n      this.mock = mock;\n    }\n\n    get(target, key, receiver) {\n      // Note: target@this(unsafe) key@prim receiver@this(unsafe) throws@this(unsafe)\n      const object = this.object; // @other(unsafe)\n\n      const mock = this.mock;\n\n      if (thisReflectApply(thisObjectHasOwnProperty, mock, key) && !thisOtherHasOwnProperty(object, key)) {\n        return mock[key];\n      }\n\n      return super.get(target, key, receiver);\n    }\n\n  }\n\n  function thisFromOther(other) {\n    // Note: other@other(unsafe) returns@this(unsafe) throws@this(unsafe)\n    return thisFromOtherWithFactory(defaultFactory, other);\n  }\n\n  function thisProxyOther(factory, other, proto) {\n    const target = thisCreateTargetObject(other, proto);\n    const handler = factory(other);\n    const proxy = new ThisProxy(target, handler);\n\n    try {\n      otherReflectApply(otherWeakMapSet, mappingThisToOther, [proxy, other]);\n      registerProxy(proxy, handler);\n    } catch (e) {\n      throw new VMError('Unexpected error');\n    }\n\n    if (!isHost) {\n      thisReflectApply(thisWeakMapSet, mappingOtherToThis, [other, proxy]);\n      return proxy;\n    }\n\n    const proxy2 = new ThisProxy(proxy, emptyForzenObject);\n\n    try {\n      otherReflectApply(otherWeakMapSet, mappingThisToOther, [proxy2, other]);\n      registerProxy(proxy2, handler);\n    } catch (e) {\n      throw new VMError('Unexpected error');\n    }\n\n    thisReflectApply(thisWeakMapSet, mappingOtherToThis, [other, proxy2]);\n    return proxy2;\n  }\n\n  function thisEnsureThis(other) {\n    const type = typeof other;\n\n    switch (type) {\n      case 'object':\n        if (other === null) {\n          return null;\n        }\n\n      // fallthrough\n\n      case 'function':\n        let proto = thisReflectGetPrototypeOf(other);\n\n        if (!proto) {\n          return other;\n        }\n\n        while (proto) {\n          const mapping = thisReflectApply(thisMapGet, protoMappings, [proto]);\n\n          if (mapping) {\n            const mapped = thisReflectApply(thisWeakMapGet, mappingOtherToThis, [other]);\n            if (mapped) return mapped;\n            return mapping(defaultFactory, other);\n          }\n\n          proto = thisReflectGetPrototypeOf(proto);\n        }\n\n        return other;\n\n      case 'undefined':\n      case 'string':\n      case 'number':\n      case 'boolean':\n      case 'symbol':\n      case 'bigint':\n        return other;\n\n      default:\n        // new, unknown types can be dangerous\n        throw new VMError(`Unknown type '${type}'`);\n    }\n  }\n\n  function thisFromOtherForThrow(other) {\n    for (let loop = 0; loop < 10; loop++) {\n      const type = typeof other;\n\n      switch (type) {\n        case 'object':\n          if (other === null) {\n            return null;\n          }\n\n        // fallthrough\n\n        case 'function':\n          const mapped = thisReflectApply(thisWeakMapGet, mappingOtherToThis, [other]);\n          if (mapped) return mapped;\n          let proto;\n\n          try {\n            proto = otherReflectGetPrototypeOf(other);\n          } catch (e) {\n            // @other(unsafe)\n            other = e;\n            break;\n          }\n\n          if (!proto) {\n            return thisProxyOther(defaultFactory, other, null);\n          }\n\n          for (;;) {\n            const mapping = thisReflectApply(thisMapGet, protoMappings, [proto]);\n            if (mapping) return mapping(defaultFactory, other);\n\n            try {\n              proto = otherReflectGetPrototypeOf(proto);\n            } catch (e) {\n              // @other(unsafe)\n              other = e;\n              break;\n            }\n\n            if (!proto) return thisProxyOther(defaultFactory, other, thisObjectPrototype);\n          }\n\n          break;\n\n        case 'undefined':\n        case 'string':\n        case 'number':\n        case 'boolean':\n        case 'symbol':\n        case 'bigint':\n          return other;\n\n        default:\n          // new, unknown types can be dangerous\n          throw new VMError(`Unknown type '${type}'`);\n      }\n    }\n\n    throw new VMError('Exception recursion depth');\n  }\n\n  function thisFromOtherWithFactory(factory, other, proto) {\n    const type = typeof other;\n\n    switch (type) {\n      case 'object':\n        if (other === null) {\n          return null;\n        }\n\n      // fallthrough\n\n      case 'function':\n        const mapped = thisReflectApply(thisWeakMapGet, mappingOtherToThis, [other]);\n        if (mapped) return mapped;\n\n        if (proto) {\n          return thisProxyOther(factory, other, proto);\n        }\n\n        try {\n          proto = otherReflectGetPrototypeOf(other);\n        } catch (e) {\n          // @other(unsafe)\n          throw thisFromOtherForThrow(e);\n        }\n\n        if (!proto) {\n          return thisProxyOther(factory, other, null);\n        }\n\n        do {\n          const mapping = thisReflectApply(thisMapGet, protoMappings, [proto]);\n          if (mapping) return mapping(factory, other);\n\n          try {\n            proto = otherReflectGetPrototypeOf(proto);\n          } catch (e) {\n            // @other(unsafe)\n            throw thisFromOtherForThrow(e);\n          }\n        } while (proto);\n\n        return thisProxyOther(factory, other, thisObjectPrototype);\n\n      case 'undefined':\n      case 'string':\n      case 'number':\n      case 'boolean':\n      case 'symbol':\n      case 'bigint':\n        return other;\n\n      default:\n        // new, unknown types can be dangerous\n        throw new VMError(`Unknown type '${type}'`);\n    }\n  }\n\n  function thisFromOtherArguments(args) {\n    // Note: args@other(safe-array) returns@this(safe-array) throws@this(unsafe)\n    const arr = [];\n\n    for (let i = 0; i < args.length; i++) {\n      const value = thisFromOther(args[i]);\n      thisReflectDefineProperty(arr, i, {\n        __proto__: null,\n        value: value,\n        writable: true,\n        enumerable: true,\n        configurable: true\n      });\n    }\n\n    return arr;\n  }\n\n  function thisConnect(obj, other) {\n    // Note: obj@this(unsafe) other@other(unsafe) throws@this(unsafe)\n    try {\n      otherReflectApply(otherWeakMapSet, mappingThisToOther, [obj, other]);\n    } catch (e) {\n      throw new VMError('Unexpected error');\n    }\n\n    thisReflectApply(thisWeakMapSet, mappingOtherToThis, [other, obj]);\n  }\n\n  thisAddProtoMapping(thisGlobalPrototypes.Object, otherGlobalPrototypes.Object);\n  thisAddProtoMapping(thisGlobalPrototypes.Array, otherGlobalPrototypes.Array);\n\n  for (let i = 0; i < globalsList.length; i++) {\n    const key = globalsList[i];\n    const tp = thisGlobalPrototypes[key];\n    const op = otherGlobalPrototypes[key];\n    if (tp && op) thisAddProtoMapping(tp, op, key);\n  }\n\n  for (let i = 0; i < errorsList.length; i++) {\n    const key = errorsList[i];\n    const tp = thisGlobalPrototypes[key];\n    const op = otherGlobalPrototypes[key];\n    if (tp && op) thisAddProtoMapping(tp, op, 'Error');\n  }\n\n  thisAddProtoMapping(thisGlobalPrototypes.VMError, otherGlobalPrototypes.VMError, 'Error');\n  result.BaseHandler = BaseHandler;\n  result.ProtectedHandler = ProtectedHandler;\n  result.ReadOnlyHandler = ReadOnlyHandler;\n  result.ReadOnlyMockHandler = ReadOnlyMockHandler;\n  return result;\n}\n\nexports.createBridge = createBridge;\nexports.VMError = VMError;","map":{"version":3,"names":["globalsList","errorsList","OPNA","thisGlobalPrototypes","__proto__","Object","prototype","Array","i","length","key","g","global","getPrototypeOf","thisReflectGetPrototypeOf","setPrototypeOf","thisReflectSetPrototypeOf","defineProperty","thisReflectDefineProperty","deleteProperty","thisReflectDeleteProperty","getOwnPropertyDescriptor","thisReflectGetOwnPropertyDescriptor","isExtensible","thisReflectIsExtensible","preventExtensions","thisReflectPreventExtensions","apply","thisReflectApply","construct","thisReflectConstruct","set","thisReflectSet","get","thisReflectGet","has","thisReflectHas","ownKeys","thisReflectOwnKeys","enumerate","thisReflectEnumerate","Reflect","thisObject","freeze","thisObjectFreeze","thisObjectPrototype","thisObjectHasOwnProperty","hasOwnProperty","ThisProxy","Proxy","ThisWeakMap","WeakMap","thisWeakMapGet","thisWeakMapSet","ThisMap","Map","thisMapGet","thisMapSet","thisFunction","Function","thisFunctionBind","bind","thisArrayIsArray","isArray","thisErrorCaptureStackTrace","Error","captureStackTrace","thisSymbolToString","Symbol","toString","thisSymbolToStringTag","toStringTag","VMError","constructor","message","code","name","thisUnexpected","exports","thisSafeGetOwnPropertyDescriptor","obj","desc","thisThrowCallerCalleeArgumentsAccess","thisIdMapping","factory","other","thisThrowOnKeyAccessHandler","target","receiver","emptyForzenObject","thisThrowOnKeyAccess","SafeBase","value","SHARED_FUNCTION","TEST_PROXY_HANDLER","thisIsConstructor","Func","e","thisCreateTargetObject","proto","base","createBridge","otherInit","registerProxy","mappingOtherToThis","protoMappings","protoName","thisAddProtoMapping","object","thisProxyOther","thisAddProtoMappingFactory","protoFactory","result","globalPrototypes","safeGetOwnPropertyDescriptor","fromArguments","thisFromOtherArguments","from","thisFromOther","fromWithFactory","thisFromOtherWithFactory","ensureThis","thisEnsureThis","mapping","connect","thisConnect","reflectSet","reflectGet","reflectDefineProperty","reflectDeleteProperty","reflectApply","reflectConstruct","reflectHas","reflectOwnKeys","reflectEnumerate","reflectGetPrototypeOf","reflectIsExtensible","reflectPreventExtensions","objectHasOwnProperty","weakMapSet","addProtoMapping","addProtoMappingFactory","defaultFactory","protectedFactory","readonlyFactory","isHost","otherGlobalPrototypes","otherSafeGetOwnPropertyDescriptor","otherFromThisArguments","otherFromThis","mappingThisToOther","otherReflectSet","otherReflectGet","otherReflectDefineProperty","otherReflectDeleteProperty","otherReflectApply","otherReflectConstruct","otherReflectHas","otherReflectOwnKeys","otherReflectEnumerate","otherReflectGetPrototypeOf","otherReflectIsExtensible","otherReflectPreventExtensions","otherObjectHasOwnProperty","otherWeakMapSet","thisOtherHasOwnProperty","thisFromOtherForThrow","thisDefaultGet","handler","ret","getter","undefined","fromOtherWithContext","otherFromThisIfAvailable","to","BaseHandler","getFactory","doPreventExtensions","keys","configurable","current","enumerable","writable","context","args","newTarget","getOwnPropertyDescriptorDesc","prop","thisDesc","oldDesc","definePropertyDesc","otherDesc","hasFunc","hasValue","hasBasic","res","ProtectedHandler","ReadOnlyHandler","ReadOnlyMockHandler","mock","proxy","proxy2","type","mapped","loop","arr","tp","op"],"sources":["C:/Users/bryan/Desktop/myrepresentatives/frontend/node_modules/vm2/lib/bridge.js"],"sourcesContent":["'use strict';\n\n/**\n * __        ___    ____  _   _ ___ _   _  ____\n * \\ \\      / / \\  |  _ \\| \\ | |_ _| \\ | |/ ___|\n *  \\ \\ /\\ / / _ \\ | |_) |  \\| || ||  \\| | |  _\n *   \\ V  V / ___ \\|  _ <| |\\  || || |\\  | |_| |\n *    \\_/\\_/_/   \\_\\_| \\_\\_| \\_|___|_| \\_|\\____|\n *\n * This file is critical for vm2. It implements the bridge between the host and the sandbox.\n * If you do not know exactly what you are doing, you should NOT edit this file.\n *\n * The file is loaded in the host and sandbox to handle objects in both directions.\n * This is done to ensure that RangeErrors are from the correct context.\n * The boundary between the sandbox and host might throw RangeErrors from both contexts.\n * Therefore, thisFromOther and friends can handle objects from both domains.\n *\n * Method parameters have comments to tell from which context they came.\n *\n */\n\nconst globalsList = [\n\t'Number',\n\t'String',\n\t'Boolean',\n\t'Date',\n\t'RegExp',\n\t'Map',\n\t'WeakMap',\n\t'Set',\n\t'WeakSet',\n\t'Promise',\n\t'Function'\n];\n\nconst errorsList = [\n\t'RangeError',\n\t'ReferenceError',\n\t'SyntaxError',\n\t'TypeError',\n\t'EvalError',\n\t'URIError',\n\t'Error'\n];\n\nconst OPNA = 'Operation not allowed on contextified object.';\n\nconst thisGlobalPrototypes = {\n\t__proto__: null,\n\tObject: Object.prototype,\n\tArray: Array.prototype\n};\n\nfor (let i = 0; i < globalsList.length; i++) {\n\tconst key = globalsList[i];\n\tconst g = global[key];\n\tif (g) thisGlobalPrototypes[key] = g.prototype;\n}\n\nfor (let i = 0; i < errorsList.length; i++) {\n\tconst key = errorsList[i];\n\tconst g = global[key];\n\tif (g) thisGlobalPrototypes[key] = g.prototype;\n}\n\nconst {\n\tgetPrototypeOf: thisReflectGetPrototypeOf,\n\tsetPrototypeOf: thisReflectSetPrototypeOf,\n\tdefineProperty: thisReflectDefineProperty,\n\tdeleteProperty: thisReflectDeleteProperty,\n\tgetOwnPropertyDescriptor: thisReflectGetOwnPropertyDescriptor,\n\tisExtensible: thisReflectIsExtensible,\n\tpreventExtensions: thisReflectPreventExtensions,\n\tapply: thisReflectApply,\n\tconstruct: thisReflectConstruct,\n\tset: thisReflectSet,\n\tget: thisReflectGet,\n\thas: thisReflectHas,\n\townKeys: thisReflectOwnKeys,\n\tenumerate: thisReflectEnumerate,\n} = Reflect;\n\nconst thisObject = Object;\nconst {\n\tfreeze: thisObjectFreeze,\n\tprototype: thisObjectPrototype\n} = thisObject;\nconst thisObjectHasOwnProperty = thisObjectPrototype.hasOwnProperty;\nconst ThisProxy = Proxy;\nconst ThisWeakMap = WeakMap;\nconst {\n\tget: thisWeakMapGet,\n\tset: thisWeakMapSet\n} = ThisWeakMap.prototype;\nconst ThisMap = Map;\nconst thisMapGet = ThisMap.prototype.get;\nconst thisMapSet = ThisMap.prototype.set;\nconst thisFunction = Function;\nconst thisFunctionBind = thisFunction.prototype.bind;\nconst thisArrayIsArray = Array.isArray;\nconst thisErrorCaptureStackTrace = Error.captureStackTrace;\n\nconst thisSymbolToString = Symbol.prototype.toString;\nconst thisSymbolToStringTag = Symbol.toStringTag;\n\n/**\n * VMError.\n *\n * @public\n * @extends {Error}\n */\nclass VMError extends Error {\n\n\t/**\n\t * Create VMError instance.\n\t *\n\t * @public\n\t * @param {string} message - Error message.\n\t * @param {string} code - Error code.\n\t */\n\tconstructor(message, code) {\n\t\tsuper(message);\n\n\t\tthis.name = 'VMError';\n\t\tthis.code = code;\n\n\t\tthisErrorCaptureStackTrace(this, this.constructor);\n\t}\n}\n\nthisGlobalPrototypes['VMError'] = VMError.prototype;\n\nfunction thisUnexpected() {\n\treturn new VMError('Unexpected');\n}\n\nif (!thisReflectSetPrototypeOf(exports, null)) throw thisUnexpected();\n\nfunction thisSafeGetOwnPropertyDescriptor(obj, key) {\n\tconst desc = thisReflectGetOwnPropertyDescriptor(obj, key);\n\tif (!desc) return desc;\n\tif (!thisReflectSetPrototypeOf(desc, null)) throw thisUnexpected();\n\treturn desc;\n}\n\nfunction thisThrowCallerCalleeArgumentsAccess(key) {\n\t'use strict';\n\tthisThrowCallerCalleeArgumentsAccess[key];\n\treturn thisUnexpected();\n}\n\nfunction thisIdMapping(factory, other) {\n\treturn other;\n}\n\nconst thisThrowOnKeyAccessHandler = thisObjectFreeze({\n\t__proto__: null,\n\tget(target, key, receiver) {\n\t\tif (typeof key === 'symbol') {\n\t\t\tkey = thisReflectApply(thisSymbolToString, key, []);\n\t\t}\n\t\tthrow new VMError(`Unexpected access to key '${key}'`);\n\t}\n});\n\nconst emptyForzenObject = thisObjectFreeze({\n\t__proto__: null\n});\n\nconst thisThrowOnKeyAccess = new ThisProxy(emptyForzenObject, thisThrowOnKeyAccessHandler);\n\nfunction SafeBase() {}\n\nif (!thisReflectDefineProperty(SafeBase, 'prototype', {\n\t__proto__: null,\n\tvalue: thisThrowOnKeyAccess\n})) throw thisUnexpected();\n\nfunction SHARED_FUNCTION() {}\n\nconst TEST_PROXY_HANDLER = thisObjectFreeze({\n\t__proto__: thisThrowOnKeyAccess,\n\tconstruct() {\n\t\treturn this;\n\t}\n});\n\nfunction thisIsConstructor(obj) {\n\t// Note: obj@any(unsafe)\n\tconst Func = new ThisProxy(obj, TEST_PROXY_HANDLER);\n\ttry {\n\t\t// eslint-disable-next-line no-new\n\t\tnew Func();\n\t\treturn true;\n\t} catch (e) {\n\t\treturn false;\n\t}\n}\n\nfunction thisCreateTargetObject(obj, proto) {\n\t// Note: obj@any(unsafe) proto@any(unsafe) returns@this(unsafe) throws@this(unsafe)\n\tlet base;\n\tif (typeof obj === 'function') {\n\t\tif (thisIsConstructor(obj)) {\n\t\t\t// Bind the function since bound functions do not have a prototype property.\n\t\t\tbase = thisReflectApply(thisFunctionBind, SHARED_FUNCTION, [null]);\n\t\t} else {\n\t\t\tbase = () => {};\n\t\t}\n\t} else if (thisArrayIsArray(obj)) {\n\t\tbase = [];\n\t} else {\n\t\treturn {__proto__: proto};\n\t}\n\tif (!thisReflectSetPrototypeOf(base, proto)) throw thisUnexpected();\n\treturn base;\n}\n\nfunction createBridge(otherInit, registerProxy) {\n\n\tconst mappingOtherToThis = new ThisWeakMap();\n\tconst protoMappings = new ThisMap();\n\tconst protoName = new ThisMap();\n\n\tfunction thisAddProtoMapping(proto, other, name) {\n\t\t// Note: proto@this(unsafe) other@other(unsafe) name@this(unsafe) throws@this(unsafe)\n\t\tthisReflectApply(thisMapSet, protoMappings, [proto, thisIdMapping]);\n\t\tthisReflectApply(thisMapSet, protoMappings, [other,\n\t\t\t(factory, object) => thisProxyOther(factory, object, proto)]);\n\t\tif (name) thisReflectApply(thisMapSet, protoName, [proto, name]);\n\t}\n\n\tfunction thisAddProtoMappingFactory(protoFactory, other, name) {\n\t\t// Note: protoFactory@this(unsafe) other@other(unsafe) name@this(unsafe) throws@this(unsafe)\n\t\tlet proto;\n\t\tthisReflectApply(thisMapSet, protoMappings, [other,\n\t\t\t(factory, object) => {\n\t\t\t\tif (!proto) {\n\t\t\t\t\tproto = protoFactory();\n\t\t\t\t\tthisReflectApply(thisMapSet, protoMappings, [proto, thisIdMapping]);\n\t\t\t\t\tif (name) thisReflectApply(thisMapSet, protoName, [proto, name]);\n\t\t\t\t}\n\t\t\t\treturn thisProxyOther(factory, object, proto);\n\t\t\t}]);\n\t}\n\n\tconst result = {\n\t\t__proto__: null,\n\t\tglobalPrototypes: thisGlobalPrototypes,\n\t\tsafeGetOwnPropertyDescriptor: thisSafeGetOwnPropertyDescriptor,\n\t\tfromArguments: thisFromOtherArguments,\n\t\tfrom: thisFromOther,\n\t\tfromWithFactory: thisFromOtherWithFactory,\n\t\tensureThis: thisEnsureThis,\n\t\tmapping: mappingOtherToThis,\n\t\tconnect: thisConnect,\n\t\treflectSet: thisReflectSet,\n\t\treflectGet: thisReflectGet,\n\t\treflectDefineProperty: thisReflectDefineProperty,\n\t\treflectDeleteProperty: thisReflectDeleteProperty,\n\t\treflectApply: thisReflectApply,\n\t\treflectConstruct: thisReflectConstruct,\n\t\treflectHas: thisReflectHas,\n\t\treflectOwnKeys: thisReflectOwnKeys,\n\t\treflectEnumerate: thisReflectEnumerate,\n\t\treflectGetPrototypeOf: thisReflectGetPrototypeOf,\n\t\treflectIsExtensible: thisReflectIsExtensible,\n\t\treflectPreventExtensions: thisReflectPreventExtensions,\n\t\tobjectHasOwnProperty: thisObjectHasOwnProperty,\n\t\tweakMapSet: thisWeakMapSet,\n\t\taddProtoMapping: thisAddProtoMapping,\n\t\taddProtoMappingFactory: thisAddProtoMappingFactory,\n\t\tdefaultFactory,\n\t\tprotectedFactory,\n\t\treadonlyFactory,\n\t\tVMError\n\t};\n\n\tconst isHost = typeof otherInit !== 'object';\n\n\tif (isHost) {\n\t\totherInit = otherInit(result, registerProxy);\n\t}\n\n\tresult.other = otherInit;\n\n\tconst {\n\t\tglobalPrototypes: otherGlobalPrototypes,\n\t\tsafeGetOwnPropertyDescriptor: otherSafeGetOwnPropertyDescriptor,\n\t\tfromArguments: otherFromThisArguments,\n\t\tfrom: otherFromThis,\n\t\tmapping: mappingThisToOther,\n\t\treflectSet: otherReflectSet,\n\t\treflectGet: otherReflectGet,\n\t\treflectDefineProperty: otherReflectDefineProperty,\n\t\treflectDeleteProperty: otherReflectDeleteProperty,\n\t\treflectApply: otherReflectApply,\n\t\treflectConstruct: otherReflectConstruct,\n\t\treflectHas: otherReflectHas,\n\t\treflectOwnKeys: otherReflectOwnKeys,\n\t\treflectEnumerate: otherReflectEnumerate,\n\t\treflectGetPrototypeOf: otherReflectGetPrototypeOf,\n\t\treflectIsExtensible: otherReflectIsExtensible,\n\t\treflectPreventExtensions: otherReflectPreventExtensions,\n\t\tobjectHasOwnProperty: otherObjectHasOwnProperty,\n\t\tweakMapSet: otherWeakMapSet\n\t} = otherInit;\n\n\tfunction thisOtherHasOwnProperty(object, key) {\n\t\t// Note: object@other(safe) key@prim throws@this(unsafe)\n\t\ttry {\n\t\t\treturn otherReflectApply(otherObjectHasOwnProperty, object, [key]) === true;\n\t\t} catch (e) { // @other(unsafe)\n\t\t\tthrow thisFromOtherForThrow(e);\n\t\t}\n\t}\n\n\tfunction thisDefaultGet(handler, object, key, desc) {\n\t\t// Note: object@other(unsafe) key@prim desc@other(safe)\n\t\tlet ret; // @other(unsafe)\n\t\tif (desc.get || desc.set) {\n\t\t\tconst getter = desc.get;\n\t\t\tif (!getter) return undefined;\n\t\t\ttry {\n\t\t\t\tret = otherReflectApply(getter, object, [key]);\n\t\t\t} catch (e) {\n\t\t\t\tthrow thisFromOtherForThrow(e);\n\t\t\t}\n\t\t} else {\n\t\t\tret = desc.value;\n\t\t}\n\t\treturn handler.fromOtherWithContext(ret);\n\t}\n\n\tfunction otherFromThisIfAvailable(to, from, key) {\n\t\t// Note: to@other(safe) from@this(safe) key@prim throws@this(unsafe)\n\t\tif (!thisReflectApply(thisObjectHasOwnProperty, from, [key])) return false;\n\t\ttry {\n\t\t\tto[key] = otherFromThis(from[key]);\n\t\t} catch (e) { // @other(unsafe)\n\t\t\tthrow thisFromOtherForThrow(e);\n\t\t}\n\t\treturn true;\n\t}\n\n\tclass BaseHandler extends SafeBase {\n\n\t\tconstructor(object) {\n\t\t\t// Note: object@other(unsafe) throws@this(unsafe)\n\t\t\tsuper();\n\t\t\tthis.object = object;\n\t\t}\n\n\t\tgetFactory() {\n\t\t\treturn defaultFactory;\n\t\t}\n\n\t\tfromOtherWithContext(other) {\n\t\t\t// Note: other@other(unsafe) throws@this(unsafe)\n\t\t\treturn thisFromOtherWithFactory(this.getFactory(), other);\n\t\t}\n\n\t\tdoPreventExtensions(target, object, factory) {\n\t\t\t// Note: target@this(unsafe) object@other(unsafe) throws@this(unsafe)\n\t\t\tlet keys; // @other(safe-array-of-prim)\n\t\t\ttry {\n\t\t\t\tkeys = otherReflectOwnKeys(object);\n\t\t\t} catch (e) { // @other(unsafe)\n\t\t\t\tthrow thisFromOtherForThrow(e);\n\t\t\t}\n\t\t\tfor (let i = 0; i < keys.length; i++) {\n\t\t\t\tconst key = keys[i]; // @prim\n\t\t\t\tlet desc;\n\t\t\t\ttry {\n\t\t\t\t\tdesc = otherSafeGetOwnPropertyDescriptor(object, key);\n\t\t\t\t} catch (e) { // @other(unsafe)\n\t\t\t\t\tthrow thisFromOtherForThrow(e);\n\t\t\t\t}\n\t\t\t\tif (!desc) continue;\n\t\t\t\tif (!desc.configurable) {\n\t\t\t\t\tconst current = thisSafeGetOwnPropertyDescriptor(target, key);\n\t\t\t\t\tif (current && !current.configurable) continue;\n\t\t\t\t\tif (desc.get || desc.set) {\n\t\t\t\t\t\tdesc.get = this.fromOtherWithContext(desc.get);\n\t\t\t\t\t\tdesc.set = this.fromOtherWithContext(desc.set);\n\t\t\t\t\t} else if (typeof object === 'function' && (key === 'caller' || key === 'callee' || key === 'arguments')) {\n\t\t\t\t\t\tdesc.value = null;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdesc.value = this.fromOtherWithContext(desc.value);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (desc.get || desc.set) {\n\t\t\t\t\t\tdesc = {\n\t\t\t\t\t\t\t__proto__: null,\n\t\t\t\t\t\t\tconfigurable: true,\n\t\t\t\t\t\t\tenumerable: desc.enumerable,\n\t\t\t\t\t\t\twritable: true,\n\t\t\t\t\t\t\tvalue: null\n\t\t\t\t\t\t};\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdesc.value = null;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (!thisReflectDefineProperty(target, key, desc)) throw thisUnexpected();\n\t\t\t}\n\t\t\tif (!thisReflectPreventExtensions(target)) throw thisUnexpected();\n\t\t}\n\n\t\tget(target, key, receiver) {\n\t\t\t// Note: target@this(unsafe) key@prim receiver@this(unsafe) throws@this(unsafe)\n\t\t\tconst object = this.object; // @other(unsafe)\n\t\t\tswitch (key) {\n\t\t\t\tcase 'constructor': {\n\t\t\t\t\tconst desc = otherSafeGetOwnPropertyDescriptor(object, key);\n\t\t\t\t\tif (desc) return thisDefaultGet(this, object, key, desc);\n\t\t\t\t\tconst proto = thisReflectGetPrototypeOf(target);\n\t\t\t\t\treturn proto === null ? undefined : proto.constructor;\n\t\t\t\t}\n\t\t\t\tcase '__proto__': {\n\t\t\t\t\tconst desc = otherSafeGetOwnPropertyDescriptor(object, key);\n\t\t\t\t\tif (desc) return thisDefaultGet(this, object, key, desc);\n\t\t\t\t\treturn thisReflectGetPrototypeOf(target);\n\t\t\t\t}\n\t\t\t\tcase thisSymbolToStringTag:\n\t\t\t\t\tif (!thisOtherHasOwnProperty(object, thisSymbolToStringTag)) {\n\t\t\t\t\t\tconst proto = thisReflectGetPrototypeOf(target);\n\t\t\t\t\t\tconst name = thisReflectApply(thisMapGet, protoName, [proto]);\n\t\t\t\t\t\tif (name) return name;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'arguments':\n\t\t\t\tcase 'caller':\n\t\t\t\tcase 'callee':\n\t\t\t\t\tif (typeof object === 'function' && thisOtherHasOwnProperty(object, key)) {\n\t\t\t\t\t\tthrow thisThrowCallerCalleeArgumentsAccess(key);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tlet ret; // @other(unsafe)\n\t\t\ttry {\n\t\t\t\tret = otherReflectGet(object, key);\n\t\t\t} catch (e) { // @other(unsafe)\n\t\t\t\tthrow thisFromOtherForThrow(e);\n\t\t\t}\n\t\t\treturn this.fromOtherWithContext(ret);\n\t\t}\n\n\t\tset(target, key, value, receiver) {\n\t\t\t// Note: target@this(unsafe) key@prim value@this(unsafe) receiver@this(unsafe) throws@this(unsafe)\n\t\t\tconst object = this.object; // @other(unsafe)\n\t\t\tif (key === '__proto__' && !thisOtherHasOwnProperty(object, key)) {\n\t\t\t\treturn this.setPrototypeOf(target, value);\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tvalue = otherFromThis(value);\n\t\t\t\treturn otherReflectSet(object, key, value) === true;\n\t\t\t} catch (e) { // @other(unsafe)\n\t\t\t\tthrow thisFromOtherForThrow(e);\n\t\t\t}\n\t\t}\n\n\t\tgetPrototypeOf(target) {\n\t\t\t// Note: target@this(unsafe)\n\t\t\treturn thisReflectGetPrototypeOf(target);\n\t\t}\n\n\t\tsetPrototypeOf(target, value) {\n\t\t\t// Note: target@this(unsafe) throws@this(unsafe)\n\t\t\tthrow new VMError(OPNA);\n\t\t}\n\n\t\tapply(target, context, args) {\n\t\t\t// Note: target@this(unsafe) context@this(unsafe) args@this(safe-array) throws@this(unsafe)\n\t\t\tconst object = this.object; // @other(unsafe)\n\t\t\tlet ret; // @other(unsafe)\n\t\t\ttry {\n\t\t\t\tcontext = otherFromThis(context);\n\t\t\t\targs = otherFromThisArguments(args);\n\t\t\t\tret = otherReflectApply(object, context, args);\n\t\t\t} catch (e) { // @other(unsafe)\n\t\t\t\tthrow thisFromOtherForThrow(e);\n\t\t\t}\n\t\t\treturn thisFromOther(ret);\n\t\t}\n\n\t\tconstruct(target, args, newTarget) {\n\t\t\t// Note: target@this(unsafe) args@this(safe-array) newTarget@this(unsafe) throws@this(unsafe)\n\t\t\tconst object = this.object; // @other(unsafe)\n\t\t\tlet ret; // @other(unsafe)\n\t\t\ttry {\n\t\t\t\targs = otherFromThisArguments(args);\n\t\t\t\tret = otherReflectConstruct(object, args);\n\t\t\t} catch (e) { // @other(unsafe)\n\t\t\t\tthrow thisFromOtherForThrow(e);\n\t\t\t}\n\t\t\treturn thisFromOtherWithFactory(this.getFactory(), ret, thisFromOther(object));\n\t\t}\n\n\t\tgetOwnPropertyDescriptorDesc(target, prop, desc) {\n\t\t\t// Note: target@this(unsafe) prop@prim desc@other{safe} throws@this(unsafe)\n\t\t\tconst object = this.object; // @other(unsafe)\n\t\t\tif (desc && typeof object === 'function' && (prop === 'arguments' || prop === 'caller' || prop === 'callee')) desc.value = null;\n\t\t\treturn desc;\n\t\t}\n\n\t\tgetOwnPropertyDescriptor(target, prop) {\n\t\t\t// Note: target@this(unsafe) prop@prim throws@this(unsafe)\n\t\t\tconst object = this.object; // @other(unsafe)\n\t\t\tlet desc; // @other(safe)\n\t\t\ttry {\n\t\t\t\tdesc = otherSafeGetOwnPropertyDescriptor(object, prop);\n\t\t\t} catch (e) { // @other(unsafe)\n\t\t\t\tthrow thisFromOtherForThrow(e);\n\t\t\t}\n\n\t\t\tdesc = this.getOwnPropertyDescriptorDesc(target, prop, desc);\n\n\t\t\tif (!desc) return undefined;\n\n\t\t\tlet thisDesc;\n\t\t\tif (desc.get || desc.set) {\n\t\t\t\tthisDesc = {\n\t\t\t\t\t__proto__: null,\n\t\t\t\t\tget: this.fromOtherWithContext(desc.get),\n\t\t\t\t\tset: this.fromOtherWithContext(desc.set),\n\t\t\t\t\tenumerable: desc.enumerable === true,\n\t\t\t\t\tconfigurable: desc.configurable === true\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\tthisDesc = {\n\t\t\t\t\t__proto__: null,\n\t\t\t\t\tvalue: this.fromOtherWithContext(desc.value),\n\t\t\t\t\twritable: desc.writable === true,\n\t\t\t\t\tenumerable: desc.enumerable === true,\n\t\t\t\t\tconfigurable: desc.configurable === true\n\t\t\t\t};\n\t\t\t}\n\t\t\tif (!thisDesc.configurable) {\n\t\t\t\tconst oldDesc = thisSafeGetOwnPropertyDescriptor(target, prop);\n\t\t\t\tif (!oldDesc || oldDesc.configurable || oldDesc.writable !== thisDesc.writable) {\n\t\t\t\t\tif (!thisReflectDefineProperty(target, prop, thisDesc)) throw thisUnexpected();\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn thisDesc;\n\t\t}\n\n\t\tdefinePropertyDesc(target, prop, desc) {\n\t\t\t// Note: target@this(unsafe) prop@prim desc@this(safe) throws@this(unsafe)\n\t\t\treturn desc;\n\t\t}\n\n\t\tdefineProperty(target, prop, desc) {\n\t\t\t// Note: target@this(unsafe) prop@prim desc@this(unsafe) throws@this(unsafe)\n\t\t\tconst object = this.object; // @other(unsafe)\n\t\t\tif (!thisReflectSetPrototypeOf(desc, null)) throw thisUnexpected();\n\n\t\t\tdesc = this.definePropertyDesc(target, prop, desc);\n\n\t\t\tif (!desc) return false;\n\n\t\t\tlet otherDesc = {__proto__: null};\n\t\t\tlet hasFunc = true;\n\t\t\tlet hasValue = true;\n\t\t\tlet hasBasic = true;\n\t\t\thasFunc &= otherFromThisIfAvailable(otherDesc, desc, 'get');\n\t\t\thasFunc &= otherFromThisIfAvailable(otherDesc, desc, 'set');\n\t\t\thasValue &= otherFromThisIfAvailable(otherDesc, desc, 'value');\n\t\t\thasValue &= otherFromThisIfAvailable(otherDesc, desc, 'writable');\n\t\t\thasBasic &= otherFromThisIfAvailable(otherDesc, desc, 'enumerable');\n\t\t\thasBasic &= otherFromThisIfAvailable(otherDesc, desc, 'configurable');\n\n\t\t\ttry {\n\t\t\t\tif (!otherReflectDefineProperty(object, prop, otherDesc)) return false;\n\t\t\t\tif (otherDesc.configurable !== true && (!hasBasic || !(hasFunc || hasValue))) {\n\t\t\t\t\totherDesc = otherSafeGetOwnPropertyDescriptor(object, prop);\n\t\t\t\t}\n\t\t\t} catch (e) { // @other(unsafe)\n\t\t\t\tthrow thisFromOtherForThrow(e);\n\t\t\t}\n\n\t\t\tif (!otherDesc.configurable) {\n\t\t\t\tlet thisDesc;\n\t\t\t\tif (otherDesc.get || otherDesc.set) {\n\t\t\t\t\tthisDesc = {\n\t\t\t\t\t\t__proto__: null,\n\t\t\t\t\t\tget: this.fromOtherWithContext(otherDesc.get),\n\t\t\t\t\t\tset: this.fromOtherWithContext(otherDesc.set),\n\t\t\t\t\t\tenumerable: otherDesc.enumerable,\n\t\t\t\t\t\tconfigurable: otherDesc.configurable\n\t\t\t\t\t};\n\t\t\t\t} else {\n\t\t\t\t\tthisDesc = {\n\t\t\t\t\t\t__proto__: null,\n\t\t\t\t\t\tvalue: this.fromOtherWithContext(otherDesc.value),\n\t\t\t\t\t\twritable: otherDesc.writable,\n\t\t\t\t\t\tenumerable: otherDesc.enumerable,\n\t\t\t\t\t\tconfigurable: otherDesc.configurable\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tif (!thisReflectDefineProperty(target, prop, thisDesc)) throw thisUnexpected();\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\n\t\tdeleteProperty(target, prop) {\n\t\t\t// Note: target@this(unsafe) prop@prim throws@this(unsafe)\n\t\t\tconst object = this.object; // @other(unsafe)\n\t\t\ttry {\n\t\t\t\treturn otherReflectDeleteProperty(object, prop) === true;\n\t\t\t} catch (e) { // @other(unsafe)\n\t\t\t\tthrow thisFromOtherForThrow(e);\n\t\t\t}\n\t\t}\n\n\t\thas(target, key) {\n\t\t\t// Note: target@this(unsafe) key@prim throws@this(unsafe)\n\t\t\tconst object = this.object; // @other(unsafe)\n\t\t\ttry {\n\t\t\t\treturn otherReflectHas(object, key) === true;\n\t\t\t} catch (e) { // @other(unsafe)\n\t\t\t\tthrow thisFromOtherForThrow(e);\n\t\t\t}\n\t\t}\n\n\t\tisExtensible(target) {\n\t\t\t// Note: target@this(unsafe) throws@this(unsafe)\n\t\t\tconst object = this.object; // @other(unsafe)\n\t\t\ttry {\n\t\t\t\tif (otherReflectIsExtensible(object)) return true;\n\t\t\t} catch (e) { // @other(unsafe)\n\t\t\t\tthrow thisFromOtherForThrow(e);\n\t\t\t}\n\t\t\tif (thisReflectIsExtensible(target)) {\n\t\t\t\tthis.doPreventExtensions(target, object, this);\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\n\t\townKeys(target) {\n\t\t\t// Note: target@this(unsafe) throws@this(unsafe)\n\t\t\tconst object = this.object; // @other(unsafe)\n\t\t\tlet res; // @other(unsafe)\n\t\t\ttry {\n\t\t\t\tres = otherReflectOwnKeys(object);\n\t\t\t} catch (e) { // @other(unsafe)\n\t\t\t\tthrow thisFromOtherForThrow(e);\n\t\t\t}\n\t\t\treturn thisFromOther(res);\n\t\t}\n\n\t\tpreventExtensions(target) {\n\t\t\t// Note: target@this(unsafe) throws@this(unsafe)\n\t\t\tconst object = this.object; // @other(unsafe)\n\t\t\ttry {\n\t\t\t\tif (!otherReflectPreventExtensions(object)) return false;\n\t\t\t} catch (e) { // @other(unsafe)\n\t\t\t\tthrow thisFromOtherForThrow(e);\n\t\t\t}\n\t\t\tif (thisReflectIsExtensible(target)) {\n\t\t\t\tthis.doPreventExtensions(target, object, this);\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\n\t\tenumerate(target) {\n\t\t\t// Note: target@this(unsafe) throws@this(unsafe)\n\t\t\tconst object = this.object; // @other(unsafe)\n\t\t\tlet res; // @other(unsafe)\n\t\t\ttry {\n\t\t\t\tres = otherReflectEnumerate(object);\n\t\t\t} catch (e) { // @other(unsafe)\n\t\t\t\tthrow thisFromOtherForThrow(e);\n\t\t\t}\n\t\t\treturn this.fromOtherWithContext(res);\n\t\t}\n\n\t}\n\n\tfunction defaultFactory(object) {\n\t\t// Note: other@other(unsafe) returns@this(unsafe) throws@this(unsafe)\n\t\treturn new BaseHandler(object);\n\t}\n\n\tclass ProtectedHandler extends BaseHandler {\n\n\t\tgetFactory() {\n\t\t\treturn protectedFactory;\n\t\t}\n\n\t\tset(target, key, value, receiver) {\n\t\t\t// Note: target@this(unsafe) key@prim value@this(unsafe) receiver@this(unsafe) throws@this(unsafe)\n\t\t\tif (typeof value === 'function') {\n\t\t\t\treturn thisReflectDefineProperty(receiver, key, {\n\t\t\t\t\t__proto__: null,\n\t\t\t\t\tvalue: value,\n\t\t\t\t\twritable: true,\n\t\t\t\t\tenumerable: true,\n\t\t\t\t\tconfigurable: true\n\t\t\t\t}) === true;\n\t\t\t}\n\t\t\treturn super.set(target, key, value, receiver);\n\t\t}\n\n\t\tdefinePropertyDesc(target, prop, desc) {\n\t\t\t// Note: target@this(unsafe) prop@prim desc@this(safe) throws@this(unsafe)\n\t\t\tif (desc && (desc.set || desc.get || typeof desc.value === 'function')) return undefined;\n\t\t\treturn desc;\n\t\t}\n\n\t}\n\n\tfunction protectedFactory(object) {\n\t\t// Note: other@other(unsafe) returns@this(unsafe) throws@this(unsafe)\n\t\treturn new ProtectedHandler(object);\n\t}\n\n\tclass ReadOnlyHandler extends BaseHandler {\n\n\t\tgetFactory() {\n\t\t\treturn readonlyFactory;\n\t\t}\n\n\t\tset(target, key, value, receiver) {\n\t\t\t// Note: target@this(unsafe) key@prim value@this(unsafe) receiver@this(unsafe) throws@this(unsafe)\n\t\t\treturn thisReflectDefineProperty(receiver, key, {\n\t\t\t\t__proto__: null,\n\t\t\t\tvalue: value,\n\t\t\t\twritable: true,\n\t\t\t\tenumerable: true,\n\t\t\t\tconfigurable: true\n\t\t\t});\n\t\t}\n\n\t\tsetPrototypeOf(target, value) {\n\t\t\t// Note: target@this(unsafe) throws@this(unsafe)\n\t\t\treturn false;\n\t\t}\n\n\t\tdefineProperty(target, prop, desc) {\n\t\t\t// Note: target@this(unsafe) prop@prim desc@this(unsafe) throws@this(unsafe)\n\t\t\treturn false;\n\t\t}\n\n\t\tdeleteProperty(target, prop) {\n\t\t\t// Note: target@this(unsafe) prop@prim throws@this(unsafe)\n\t\t\treturn false;\n\t\t}\n\n\t\tisExtensible(target) {\n\t\t\t// Note: target@this(unsafe) throws@this(unsafe)\n\t\t\treturn false;\n\t\t}\n\n\t\tpreventExtensions(target) {\n\t\t\t// Note: target@this(unsafe) throws@this(unsafe)\n\t\t\treturn false;\n\t\t}\n\n\t}\n\n\tfunction readonlyFactory(object) {\n\t\t// Note: other@other(unsafe) returns@this(unsafe) throws@this(unsafe)\n\t\treturn new ReadOnlyHandler(object);\n\t}\n\n\tclass ReadOnlyMockHandler extends ReadOnlyHandler {\n\n\t\tconstructor(object, mock) {\n\t\t\t// Note: object@other(unsafe) mock:this(unsafe) throws@this(unsafe)\n\t\t\tsuper(object);\n\t\t\tthis.mock = mock;\n\t\t}\n\n\t\tget(target, key, receiver) {\n\t\t\t// Note: target@this(unsafe) key@prim receiver@this(unsafe) throws@this(unsafe)\n\t\t\tconst object = this.object; // @other(unsafe)\n\t\t\tconst mock = this.mock;\n\t\t\tif (thisReflectApply(thisObjectHasOwnProperty, mock, key) && !thisOtherHasOwnProperty(object, key)) {\n\t\t\t\treturn mock[key];\n\t\t\t}\n\t\t\treturn super.get(target, key, receiver);\n\t\t}\n\n\t}\n\n\tfunction thisFromOther(other) {\n\t\t// Note: other@other(unsafe) returns@this(unsafe) throws@this(unsafe)\n\t\treturn thisFromOtherWithFactory(defaultFactory, other);\n\t}\n\n\tfunction thisProxyOther(factory, other, proto) {\n\t\tconst target = thisCreateTargetObject(other, proto);\n\t\tconst handler = factory(other);\n\t\tconst proxy = new ThisProxy(target, handler);\n\t\ttry {\n\t\t\totherReflectApply(otherWeakMapSet, mappingThisToOther, [proxy, other]);\n\t\t\tregisterProxy(proxy, handler);\n\t\t} catch (e) {\n\t\t\tthrow new VMError('Unexpected error');\n\t\t}\n\t\tif (!isHost) {\n\t\t\tthisReflectApply(thisWeakMapSet, mappingOtherToThis, [other, proxy]);\n\t\t\treturn proxy;\n\t\t}\n\t\tconst proxy2 = new ThisProxy(proxy, emptyForzenObject);\n\t\ttry {\n\t\t\totherReflectApply(otherWeakMapSet, mappingThisToOther, [proxy2, other]);\n\t\t\tregisterProxy(proxy2, handler);\n\t\t} catch (e) {\n\t\t\tthrow new VMError('Unexpected error');\n\t\t}\n\t\tthisReflectApply(thisWeakMapSet, mappingOtherToThis, [other, proxy2]);\n\t\treturn proxy2;\n\t}\n\n\tfunction thisEnsureThis(other) {\n\t\tconst type = typeof other;\n\t\tswitch (type) {\n\t\t\tcase 'object':\n\t\t\t\tif (other === null) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\t// fallthrough\n\t\t\tcase 'function':\n\t\t\t\tlet proto = thisReflectGetPrototypeOf(other);\n\t\t\t\tif (!proto) {\n\t\t\t\t\treturn other;\n\t\t\t\t}\n\t\t\t\twhile (proto) {\n\t\t\t\t\tconst mapping = thisReflectApply(thisMapGet, protoMappings, [proto]);\n\t\t\t\t\tif (mapping) {\n\t\t\t\t\t\tconst mapped = thisReflectApply(thisWeakMapGet, mappingOtherToThis, [other]);\n\t\t\t\t\t\tif (mapped) return mapped;\n\t\t\t\t\t\treturn mapping(defaultFactory, other);\n\t\t\t\t\t}\n\t\t\t\t\tproto = thisReflectGetPrototypeOf(proto);\n\t\t\t\t}\n\t\t\t\treturn other;\n\t\t\tcase 'undefined':\n\t\t\tcase 'string':\n\t\t\tcase 'number':\n\t\t\tcase 'boolean':\n\t\t\tcase 'symbol':\n\t\t\tcase 'bigint':\n\t\t\t\treturn other;\n\n\t\t\tdefault: // new, unknown types can be dangerous\n\t\t\t\tthrow new VMError(`Unknown type '${type}'`);\n\t\t}\n\t}\n\n\tfunction thisFromOtherForThrow(other) {\n\t\tfor (let loop = 0; loop < 10; loop++) {\n\t\t\tconst type = typeof other;\n\t\t\tswitch (type) {\n\t\t\t\tcase 'object':\n\t\t\t\t\tif (other === null) {\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\t\t\t\t\t// fallthrough\n\t\t\t\tcase 'function':\n\t\t\t\t\tconst mapped = thisReflectApply(thisWeakMapGet, mappingOtherToThis, [other]);\n\t\t\t\t\tif (mapped) return mapped;\n\t\t\t\t\tlet proto;\n\t\t\t\t\ttry {\n\t\t\t\t\t\tproto = otherReflectGetPrototypeOf(other);\n\t\t\t\t\t} catch (e) { // @other(unsafe)\n\t\t\t\t\t\tother = e;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tif (!proto) {\n\t\t\t\t\t\treturn thisProxyOther(defaultFactory, other, null);\n\t\t\t\t\t}\n\t\t\t\t\tfor (;;) {\n\t\t\t\t\t\tconst mapping = thisReflectApply(thisMapGet, protoMappings, [proto]);\n\t\t\t\t\t\tif (mapping) return mapping(defaultFactory, other);\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tproto = otherReflectGetPrototypeOf(proto);\n\t\t\t\t\t\t} catch (e) { // @other(unsafe)\n\t\t\t\t\t\t\tother = e;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!proto) return thisProxyOther(defaultFactory, other, thisObjectPrototype);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'undefined':\n\t\t\t\tcase 'string':\n\t\t\t\tcase 'number':\n\t\t\t\tcase 'boolean':\n\t\t\t\tcase 'symbol':\n\t\t\t\tcase 'bigint':\n\t\t\t\t\treturn other;\n\n\t\t\t\tdefault: // new, unknown types can be dangerous\n\t\t\t\t\tthrow new VMError(`Unknown type '${type}'`);\n\t\t\t}\n\t\t}\n\t\tthrow new VMError('Exception recursion depth');\n\t}\n\n\tfunction thisFromOtherWithFactory(factory, other, proto) {\n\t\tconst type = typeof other;\n\t\tswitch (type) {\n\t\t\tcase 'object':\n\t\t\t\tif (other === null) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\t// fallthrough\n\t\t\tcase 'function':\n\t\t\t\tconst mapped = thisReflectApply(thisWeakMapGet, mappingOtherToThis, [other]);\n\t\t\t\tif (mapped) return mapped;\n\t\t\t\tif (proto) {\n\t\t\t\t\treturn thisProxyOther(factory, other, proto);\n\t\t\t\t}\n\t\t\t\ttry {\n\t\t\t\t\tproto = otherReflectGetPrototypeOf(other);\n\t\t\t\t} catch (e) { // @other(unsafe)\n\t\t\t\t\tthrow thisFromOtherForThrow(e);\n\t\t\t\t}\n\t\t\t\tif (!proto) {\n\t\t\t\t\treturn thisProxyOther(factory, other, null);\n\t\t\t\t}\n\t\t\t\tdo {\n\t\t\t\t\tconst mapping = thisReflectApply(thisMapGet, protoMappings, [proto]);\n\t\t\t\t\tif (mapping) return mapping(factory, other);\n\t\t\t\t\ttry {\n\t\t\t\t\t\tproto = otherReflectGetPrototypeOf(proto);\n\t\t\t\t\t} catch (e) { // @other(unsafe)\n\t\t\t\t\t\tthrow thisFromOtherForThrow(e);\n\t\t\t\t\t}\n\t\t\t\t} while (proto);\n\t\t\t\treturn thisProxyOther(factory, other, thisObjectPrototype);\n\t\t\tcase 'undefined':\n\t\t\tcase 'string':\n\t\t\tcase 'number':\n\t\t\tcase 'boolean':\n\t\t\tcase 'symbol':\n\t\t\tcase 'bigint':\n\t\t\t\treturn other;\n\n\t\t\tdefault: // new, unknown types can be dangerous\n\t\t\t\tthrow new VMError(`Unknown type '${type}'`);\n\t\t}\n\t}\n\n\tfunction thisFromOtherArguments(args) {\n\t\t// Note: args@other(safe-array) returns@this(safe-array) throws@this(unsafe)\n\t\tconst arr = [];\n\t\tfor (let i = 0; i < args.length; i++) {\n\t\t\tconst value = thisFromOther(args[i]);\n\t\t\tthisReflectDefineProperty(arr, i, {\n\t\t\t\t__proto__: null,\n\t\t\t\tvalue: value,\n\t\t\t\twritable: true,\n\t\t\t\tenumerable: true,\n\t\t\t\tconfigurable: true\n\t\t\t});\n\t\t}\n\t\treturn arr;\n\t}\n\n\tfunction thisConnect(obj, other) {\n\t\t// Note: obj@this(unsafe) other@other(unsafe) throws@this(unsafe)\n\t\ttry {\n\t\t\totherReflectApply(otherWeakMapSet, mappingThisToOther, [obj, other]);\n\t\t} catch (e) {\n\t\t\tthrow new VMError('Unexpected error');\n\t\t}\n\t\tthisReflectApply(thisWeakMapSet, mappingOtherToThis, [other, obj]);\n\t}\n\n\tthisAddProtoMapping(thisGlobalPrototypes.Object, otherGlobalPrototypes.Object);\n\tthisAddProtoMapping(thisGlobalPrototypes.Array, otherGlobalPrototypes.Array);\n\n\tfor (let i = 0; i < globalsList.length; i++) {\n\t\tconst key = globalsList[i];\n\t\tconst tp = thisGlobalPrototypes[key];\n\t\tconst op = otherGlobalPrototypes[key];\n\t\tif (tp && op) thisAddProtoMapping(tp, op, key);\n\t}\n\n\tfor (let i = 0; i < errorsList.length; i++) {\n\t\tconst key = errorsList[i];\n\t\tconst tp = thisGlobalPrototypes[key];\n\t\tconst op = otherGlobalPrototypes[key];\n\t\tif (tp && op) thisAddProtoMapping(tp, op, 'Error');\n\t}\n\n\tthisAddProtoMapping(thisGlobalPrototypes.VMError, otherGlobalPrototypes.VMError, 'Error');\n\n\tresult.BaseHandler = BaseHandler;\n\tresult.ProtectedHandler = ProtectedHandler;\n\tresult.ReadOnlyHandler = ReadOnlyHandler;\n\tresult.ReadOnlyMockHandler = ReadOnlyMockHandler;\n\n\treturn result;\n}\n\nexports.createBridge = createBridge;\nexports.VMError = VMError;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}