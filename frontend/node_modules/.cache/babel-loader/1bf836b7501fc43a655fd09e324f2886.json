{"ast":null,"code":"/*\n * # Fomantic UI - 2.8.8\n * https://github.com/fomantic/Fomantic-UI\n * http://fomantic-ui.com/\n *\n * Copyright 2021 Contributors\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n/*!\n * # Fomantic-UI 2.8.8 - Site\n * http://github.com/fomantic/Fomantic-UI/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n;\n\n(function ($, window, document, undefined) {\n  $.isFunction = $.isFunction || function (obj) {\n    return typeof obj === \"function\" && typeof obj.nodeType !== \"number\";\n  };\n\n  $.site = $.fn.site = function (parameters) {\n    var time = new Date().getTime(),\n        performance = [],\n        query = arguments[0],\n        methodInvoked = typeof query == 'string',\n        queryArguments = [].slice.call(arguments, 1),\n        settings = $.isPlainObject(parameters) ? $.extend(true, {}, $.site.settings, parameters) : $.extend({}, $.site.settings),\n        namespace = settings.namespace,\n        error = settings.error,\n        moduleNamespace = 'module-' + namespace,\n        $document = $(document),\n        $module = $document,\n        element = this,\n        instance = $module.data(moduleNamespace),\n        module,\n        returnedValue;\n    module = {\n      initialize: function () {\n        module.instantiate();\n      },\n      instantiate: function () {\n        module.verbose('Storing instance of site', module);\n        instance = module;\n        $module.data(moduleNamespace, module);\n      },\n      normalize: function () {\n        module.fix.console();\n        module.fix.requestAnimationFrame();\n      },\n      fix: {\n        console: function () {\n          module.debug('Normalizing window.console');\n\n          if (console === undefined || console.log === undefined) {\n            module.verbose('Console not available, normalizing events');\n            module.disable.console();\n          }\n\n          if (typeof console.group == 'undefined' || typeof console.groupEnd == 'undefined' || typeof console.groupCollapsed == 'undefined') {\n            module.verbose('Console group not available, normalizing events');\n\n            window.console.group = function () {};\n\n            window.console.groupEnd = function () {};\n\n            window.console.groupCollapsed = function () {};\n          }\n\n          if (typeof console.markTimeline == 'undefined') {\n            module.verbose('Mark timeline not available, normalizing events');\n\n            window.console.markTimeline = function () {};\n          }\n        },\n        consoleClear: function () {\n          module.debug('Disabling programmatic console clearing');\n\n          window.console.clear = function () {};\n        },\n        requestAnimationFrame: function () {\n          module.debug('Normalizing requestAnimationFrame');\n\n          if (window.requestAnimationFrame === undefined) {\n            module.debug('RequestAnimationFrame not available, normalizing event');\n\n            window.requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || function (callback) {\n              setTimeout(callback, 0);\n            };\n          }\n        }\n      },\n      moduleExists: function (name) {\n        return $.fn[name] !== undefined && $.fn[name].settings !== undefined;\n      },\n      enabled: {\n        modules: function (modules) {\n          var enabledModules = [];\n          modules = modules || settings.modules;\n          $.each(modules, function (index, name) {\n            if (module.moduleExists(name)) {\n              enabledModules.push(name);\n            }\n          });\n          return enabledModules;\n        }\n      },\n      disabled: {\n        modules: function (modules) {\n          var disabledModules = [];\n          modules = modules || settings.modules;\n          $.each(modules, function (index, name) {\n            if (!module.moduleExists(name)) {\n              disabledModules.push(name);\n            }\n          });\n          return disabledModules;\n        }\n      },\n      change: {\n        setting: function (setting, value, modules, modifyExisting) {\n          modules = typeof modules === 'string' ? modules === 'all' ? settings.modules : [modules] : modules || settings.modules;\n          modifyExisting = modifyExisting !== undefined ? modifyExisting : true;\n          $.each(modules, function (index, name) {\n            var namespace = module.moduleExists(name) ? $.fn[name].settings.namespace || false : true,\n                $existingModules;\n\n            if (module.moduleExists(name)) {\n              module.verbose('Changing default setting', setting, value, name);\n              $.fn[name].settings[setting] = value;\n\n              if (modifyExisting && namespace) {\n                $existingModules = $(':data(module-' + namespace + ')');\n\n                if ($existingModules.length > 0) {\n                  module.verbose('Modifying existing settings', $existingModules);\n                  $existingModules[name]('setting', setting, value);\n                }\n              }\n            }\n          });\n        },\n        settings: function (newSettings, modules, modifyExisting) {\n          modules = typeof modules === 'string' ? [modules] : modules || settings.modules;\n          modifyExisting = modifyExisting !== undefined ? modifyExisting : true;\n          $.each(modules, function (index, name) {\n            var $existingModules;\n\n            if (module.moduleExists(name)) {\n              module.verbose('Changing default setting', newSettings, name);\n              $.extend(true, $.fn[name].settings, newSettings);\n\n              if (modifyExisting && namespace) {\n                $existingModules = $(':data(module-' + namespace + ')');\n\n                if ($existingModules.length > 0) {\n                  module.verbose('Modifying existing settings', $existingModules);\n                  $existingModules[name]('setting', newSettings);\n                }\n              }\n            }\n          });\n        }\n      },\n      enable: {\n        console: function () {\n          module.console(true);\n        },\n        debug: function (modules, modifyExisting) {\n          modules = modules || settings.modules;\n          module.debug('Enabling debug for modules', modules);\n          module.change.setting('debug', true, modules, modifyExisting);\n        },\n        verbose: function (modules, modifyExisting) {\n          modules = modules || settings.modules;\n          module.debug('Enabling verbose debug for modules', modules);\n          module.change.setting('verbose', true, modules, modifyExisting);\n        }\n      },\n      disable: {\n        console: function () {\n          module.console(false);\n        },\n        debug: function (modules, modifyExisting) {\n          modules = modules || settings.modules;\n          module.debug('Disabling debug for modules', modules);\n          module.change.setting('debug', false, modules, modifyExisting);\n        },\n        verbose: function (modules, modifyExisting) {\n          modules = modules || settings.modules;\n          module.debug('Disabling verbose debug for modules', modules);\n          module.change.setting('verbose', false, modules, modifyExisting);\n        }\n      },\n      console: function (enable) {\n        if (enable) {\n          if (instance.cache.console === undefined) {\n            module.error(error.console);\n            return;\n          }\n\n          module.debug('Restoring console function');\n          window.console = instance.cache.console;\n        } else {\n          module.debug('Disabling console function');\n          instance.cache.console = window.console;\n          window.console = {\n            clear: function () {},\n            error: function () {},\n            group: function () {},\n            groupCollapsed: function () {},\n            groupEnd: function () {},\n            info: function () {},\n            log: function () {},\n            markTimeline: function () {},\n            warn: function () {}\n          };\n        }\n      },\n      destroy: function () {\n        module.verbose('Destroying previous site for', $module);\n        $module.removeData(moduleNamespace);\n      },\n      cache: {},\n      setting: function (name, value) {\n        if ($.isPlainObject(name)) {\n          $.extend(true, settings, name);\n        } else if (value !== undefined) {\n          settings[name] = value;\n        } else {\n          return settings[name];\n        }\n      },\n      internal: function (name, value) {\n        if ($.isPlainObject(name)) {\n          $.extend(true, module, name);\n        } else if (value !== undefined) {\n          module[name] = value;\n        } else {\n          return module[name];\n        }\n      },\n      debug: function () {\n        if (settings.debug) {\n          if (settings.performance) {\n            module.performance.log(arguments);\n          } else {\n            module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n            module.debug.apply(console, arguments);\n          }\n        }\n      },\n      verbose: function () {\n        if (settings.verbose && settings.debug) {\n          if (settings.performance) {\n            module.performance.log(arguments);\n          } else {\n            module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n            module.verbose.apply(console, arguments);\n          }\n        }\n      },\n      error: function () {\n        module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n        module.error.apply(console, arguments);\n      },\n      performance: {\n        log: function (message) {\n          var currentTime, executionTime, previousTime;\n\n          if (settings.performance) {\n            currentTime = new Date().getTime();\n            previousTime = time || currentTime;\n            executionTime = currentTime - previousTime;\n            time = currentTime;\n            performance.push({\n              'Element': element,\n              'Name': message[0],\n              'Arguments': [].slice.call(message, 1) || '',\n              'Execution Time': executionTime\n            });\n          }\n\n          clearTimeout(module.performance.timer);\n          module.performance.timer = setTimeout(module.performance.display, 500);\n        },\n        display: function () {\n          var title = settings.name + ':',\n              totalTime = 0;\n          time = false;\n          clearTimeout(module.performance.timer);\n          $.each(performance, function (index, data) {\n            totalTime += data['Execution Time'];\n          });\n          title += ' ' + totalTime + 'ms';\n\n          if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n            console.groupCollapsed(title);\n\n            if (console.table) {\n              console.table(performance);\n            } else {\n              $.each(performance, function (index, data) {\n                console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');\n              });\n            }\n\n            console.groupEnd();\n          }\n\n          performance = [];\n        }\n      },\n      invoke: function (query, passedArguments, context) {\n        var object = instance,\n            maxDepth,\n            found,\n            response;\n        passedArguments = passedArguments || queryArguments;\n        context = element || context;\n\n        if (typeof query == 'string' && object !== undefined) {\n          query = query.split(/[\\. ]/);\n          maxDepth = query.length - 1;\n          $.each(query, function (depth, value) {\n            var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;\n\n            if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {\n              object = object[camelCaseValue];\n            } else if (object[camelCaseValue] !== undefined) {\n              found = object[camelCaseValue];\n              return false;\n            } else if ($.isPlainObject(object[value]) && depth != maxDepth) {\n              object = object[value];\n            } else if (object[value] !== undefined) {\n              found = object[value];\n              return false;\n            } else {\n              module.error(error.method, query);\n              return false;\n            }\n          });\n        }\n\n        if ($.isFunction(found)) {\n          response = found.apply(context, passedArguments);\n        } else if (found !== undefined) {\n          response = found;\n        }\n\n        if (Array.isArray(returnedValue)) {\n          returnedValue.push(response);\n        } else if (returnedValue !== undefined) {\n          returnedValue = [returnedValue, response];\n        } else if (response !== undefined) {\n          returnedValue = response;\n        }\n\n        return found;\n      }\n    };\n\n    if (methodInvoked) {\n      if (instance === undefined) {\n        module.initialize();\n      }\n\n      module.invoke(query);\n    } else {\n      if (instance !== undefined) {\n        module.destroy();\n      }\n\n      module.initialize();\n    }\n\n    return returnedValue !== undefined ? returnedValue : this;\n  };\n\n  $.site.settings = {\n    name: 'Site',\n    namespace: 'site',\n    error: {\n      console: 'Console cannot be restored, most likely it was overwritten outside of module',\n      method: 'The method you called is not defined.'\n    },\n    debug: false,\n    verbose: false,\n    performance: true,\n    modules: ['accordion', 'api', 'calendar', 'checkbox', 'dimmer', 'dropdown', 'embed', 'form', 'modal', 'nag', 'popup', 'slider', 'rating', 'shape', 'sidebar', 'state', 'sticky', 'tab', 'toast', 'transition', 'visibility', 'visit'],\n    siteNamespace: 'site',\n    namespaceStub: {\n      cache: {},\n      config: {},\n      sections: {},\n      section: {},\n      utilities: {}\n    }\n  }; // allows for selection of elements with data attributes\n\n  $.extend($.expr[\":\"], {\n    data: $.expr.createPseudo ? $.expr.createPseudo(function (dataName) {\n      return function (elem) {\n        return !!$.data(elem, dataName);\n      };\n    }) : function (elem, i, match) {\n      // support: jQuery < 1.8\n      return !!$.data(elem, match[3]);\n    }\n  });\n})(jQuery, window, document);\n/*!\n * # Fomantic-UI 2.8.8 - Form Validation\n * http://github.com/fomantic/Fomantic-UI/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n\n;\n\n(function ($, window, document, undefined) {\n  'use strict';\n\n  $.isFunction = $.isFunction || function (obj) {\n    return typeof obj === \"function\" && typeof obj.nodeType !== \"number\";\n  };\n\n  window = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\n\n  $.fn.form = function (parameters) {\n    var $allModules = $(this),\n        moduleSelector = $allModules.selector || '',\n        time = new Date().getTime(),\n        performance = [],\n        query = arguments[0],\n        legacyParameters = arguments[1],\n        methodInvoked = typeof query == 'string',\n        queryArguments = [].slice.call(arguments, 1),\n        returnedValue;\n    $allModules.each(function () {\n      var $module = $(this),\n          element = this,\n          formErrors = [],\n          keyHeldDown = false,\n          // set at run-time\n      $field,\n          $group,\n          $message,\n          $prompt,\n          $submit,\n          $clear,\n          $reset,\n          settings,\n          validation,\n          metadata,\n          selector,\n          className,\n          regExp,\n          error,\n          namespace,\n          moduleNamespace,\n          eventNamespace,\n          submitting = false,\n          dirty = false,\n          history = ['clean', 'clean'],\n          instance,\n          module;\n      module = {\n        initialize: function () {\n          // settings grabbed at run time\n          module.get.settings();\n\n          if (methodInvoked) {\n            if (instance === undefined) {\n              module.instantiate();\n            }\n\n            module.invoke(query);\n          } else {\n            if (instance !== undefined) {\n              instance.invoke('destroy');\n              module.refresh();\n            }\n\n            module.verbose('Initializing form validation', $module, settings);\n            module.bindEvents();\n            module.set.defaults();\n\n            if (settings.autoCheckRequired) {\n              module.set.autoCheck();\n            }\n\n            module.instantiate();\n          }\n        },\n        instantiate: function () {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module.data(moduleNamespace, module);\n        },\n        destroy: function () {\n          module.verbose('Destroying previous module', instance);\n          module.removeEvents();\n          $module.removeData(moduleNamespace);\n        },\n        refresh: function () {\n          module.verbose('Refreshing selector cache');\n          $field = $module.find(selector.field);\n          $group = $module.find(selector.group);\n          $message = $module.find(selector.message);\n          $prompt = $module.find(selector.prompt);\n          $submit = $module.find(selector.submit);\n          $clear = $module.find(selector.clear);\n          $reset = $module.find(selector.reset);\n        },\n        submit: function () {\n          module.verbose('Submitting form', $module);\n          submitting = true;\n          $module.submit();\n        },\n        attachEvents: function (selector, action) {\n          action = action || 'submit';\n          $(selector).on('click' + eventNamespace, function (event) {\n            module[action]();\n            event.preventDefault();\n          });\n        },\n        bindEvents: function () {\n          module.verbose('Attaching form events');\n          $module.on('submit' + eventNamespace, module.validate.form).on('blur' + eventNamespace, selector.field, module.event.field.blur).on('click' + eventNamespace, selector.submit, module.submit).on('click' + eventNamespace, selector.reset, module.reset).on('click' + eventNamespace, selector.clear, module.clear);\n\n          if (settings.keyboardShortcuts) {\n            $module.on('keydown' + eventNamespace, selector.field, module.event.field.keydown);\n          }\n\n          $field.each(function (index, el) {\n            var $input = $(el),\n                type = $input.prop('type'),\n                inputEvent = module.get.changeEvent(type, $input);\n            $input.on(inputEvent + eventNamespace, module.event.field.change);\n          }); // Dirty events\n\n          if (settings.preventLeaving) {\n            $(window).on('beforeunload' + eventNamespace, module.event.beforeUnload);\n          }\n\n          $field.on('change click keyup keydown blur', function (e) {\n            module.determine.isDirty();\n          });\n          $module.on('dirty' + eventNamespace, function (e) {\n            settings.onDirty.call();\n          });\n          $module.on('clean' + eventNamespace, function (e) {\n            settings.onClean.call();\n          });\n        },\n        clear: function () {\n          $field.each(function (index, el) {\n            var $field = $(el),\n                $element = $field.parent(),\n                $fieldGroup = $field.closest($group),\n                $prompt = $fieldGroup.find(selector.prompt),\n                $calendar = $field.closest(selector.uiCalendar),\n                defaultValue = $field.data(metadata.defaultValue) || '',\n                isCheckbox = $element.is(selector.uiCheckbox),\n                isDropdown = $element.is(selector.uiDropdown) && module.can.useElement('dropdown'),\n                isCalendar = $calendar.length > 0 && module.can.useElement('calendar'),\n                isErrored = $fieldGroup.hasClass(className.error);\n\n            if (isErrored) {\n              module.verbose('Resetting error on field', $fieldGroup);\n              $fieldGroup.removeClass(className.error);\n              $prompt.remove();\n            }\n\n            if (isDropdown) {\n              module.verbose('Resetting dropdown value', $element, defaultValue);\n              $element.dropdown('clear', true);\n            } else if (isCheckbox) {\n              $field.prop('checked', false);\n            } else if (isCalendar) {\n              $calendar.calendar('clear');\n            } else {\n              module.verbose('Resetting field value', $field, defaultValue);\n              $field.val('');\n            }\n          });\n          module.remove.states();\n        },\n        reset: function () {\n          $field.each(function (index, el) {\n            var $field = $(el),\n                $element = $field.parent(),\n                $fieldGroup = $field.closest($group),\n                $calendar = $field.closest(selector.uiCalendar),\n                $prompt = $fieldGroup.find(selector.prompt),\n                defaultValue = $field.data(metadata.defaultValue),\n                isCheckbox = $element.is(selector.uiCheckbox),\n                isDropdown = $element.is(selector.uiDropdown) && module.can.useElement('dropdown'),\n                isCalendar = $calendar.length > 0 && module.can.useElement('calendar'),\n                isErrored = $fieldGroup.hasClass(className.error);\n\n            if (defaultValue === undefined) {\n              return;\n            }\n\n            if (isErrored) {\n              module.verbose('Resetting error on field', $fieldGroup);\n              $fieldGroup.removeClass(className.error);\n              $prompt.remove();\n            }\n\n            if (isDropdown) {\n              module.verbose('Resetting dropdown value', $element, defaultValue);\n              $element.dropdown('restore defaults', true);\n            } else if (isCheckbox) {\n              module.verbose('Resetting checkbox value', $element, defaultValue);\n              $field.prop('checked', defaultValue);\n            } else if (isCalendar) {\n              $calendar.calendar('set date', defaultValue);\n            } else {\n              module.verbose('Resetting field value', $field, defaultValue);\n              $field.val(defaultValue);\n            }\n          });\n          module.remove.states();\n        },\n        determine: {\n          isValid: function () {\n            var allValid = true;\n            $.each(validation, function (fieldName, field) {\n              if (!module.validate.field(field, fieldName, true)) {\n                allValid = false;\n              }\n            });\n            return allValid;\n          },\n          isDirty: function (e) {\n            var formIsDirty = false;\n            $field.each(function (index, el) {\n              var $el = $(el),\n                  isCheckbox = $el.filter(selector.checkbox).length > 0,\n                  isDirty;\n\n              if (isCheckbox) {\n                isDirty = module.is.checkboxDirty($el);\n              } else {\n                isDirty = module.is.fieldDirty($el);\n              }\n\n              $el.data(settings.metadata.isDirty, isDirty);\n              formIsDirty |= isDirty;\n            });\n\n            if (formIsDirty) {\n              module.set.dirty();\n            } else {\n              module.set.clean();\n            }\n          }\n        },\n        is: {\n          bracketedRule: function (rule) {\n            return rule.type && rule.type.match(settings.regExp.bracket);\n          },\n          // duck type rule test\n          shorthandRules: function (rules) {\n            return typeof rules == 'string' || Array.isArray(rules);\n          },\n          empty: function ($field) {\n            if (!$field || $field.length === 0) {\n              return true;\n            } else if ($field.is(selector.checkbox)) {\n              return !$field.is(':checked');\n            } else {\n              return module.is.blank($field);\n            }\n          },\n          blank: function ($field) {\n            return String($field.val()).trim() === '';\n          },\n          valid: function (field, showErrors) {\n            var allValid = true;\n\n            if (field) {\n              module.verbose('Checking if field is valid', field);\n              return module.validate.field(validation[field], field, !!showErrors);\n            } else {\n              module.verbose('Checking if form is valid');\n              $.each(validation, function (fieldName, field) {\n                if (!module.is.valid(fieldName, showErrors)) {\n                  allValid = false;\n                }\n              });\n              return allValid;\n            }\n          },\n          dirty: function () {\n            return dirty;\n          },\n          clean: function () {\n            return !dirty;\n          },\n          fieldDirty: function ($el) {\n            var initialValue = $el.data(metadata.defaultValue); // Explicitly check for null/undefined here as value may be `false`, so ($el.data(dataInitialValue) || '') would not work\n\n            if (initialValue == null) {\n              initialValue = '';\n            } else if (Array.isArray(initialValue)) {\n              initialValue = initialValue.toString();\n            }\n\n            var currentValue = $el.val();\n\n            if (currentValue == null) {\n              currentValue = '';\n            } // multiple select values are returned as arrays which are never equal, so do string conversion first\n            else if (Array.isArray(currentValue)) {\n              currentValue = currentValue.toString();\n            } // Boolean values can be encoded as \"true/false\" or \"True/False\" depending on underlying frameworks so we need a case insensitive comparison\n\n\n            var boolRegex = /^(true|false)$/i;\n            var isBoolValue = boolRegex.test(initialValue) && boolRegex.test(currentValue);\n\n            if (isBoolValue) {\n              var regex = new RegExp(\"^\" + initialValue + \"$\", \"i\");\n              return !regex.test(currentValue);\n            }\n\n            return currentValue !== initialValue;\n          },\n          checkboxDirty: function ($el) {\n            var initialValue = $el.data(metadata.defaultValue);\n            var currentValue = $el.is(\":checked\");\n            return initialValue !== currentValue;\n          },\n          justDirty: function () {\n            return history[0] === 'dirty';\n          },\n          justClean: function () {\n            return history[0] === 'clean';\n          }\n        },\n        removeEvents: function () {\n          $module.off(eventNamespace);\n          $field.off(eventNamespace);\n          $submit.off(eventNamespace);\n          $field.off(eventNamespace);\n        },\n        event: {\n          field: {\n            keydown: function (event) {\n              var $field = $(this),\n                  key = event.which,\n                  isInput = $field.is(selector.input),\n                  isCheckbox = $field.is(selector.checkbox),\n                  isInDropdown = $field.closest(selector.uiDropdown).length > 0,\n                  keyCode = {\n                enter: 13,\n                escape: 27\n              };\n\n              if (key == keyCode.escape) {\n                module.verbose('Escape key pressed blurring field');\n                $field[0].blur();\n              }\n\n              if (!event.ctrlKey && key == keyCode.enter && isInput && !isInDropdown && !isCheckbox) {\n                if (!keyHeldDown) {\n                  $field.one('keyup' + eventNamespace, module.event.field.keyup);\n                  module.submit();\n                  module.debug('Enter pressed on input submitting form');\n                }\n\n                keyHeldDown = true;\n              }\n            },\n            keyup: function () {\n              keyHeldDown = false;\n            },\n            blur: function (event) {\n              var $field = $(this),\n                  $fieldGroup = $field.closest($group),\n                  validationRules = module.get.validation($field);\n\n              if (validationRules && (settings.on == 'blur' || $fieldGroup.hasClass(className.error) && settings.revalidate)) {\n                module.debug('Revalidating field', $field, validationRules);\n                module.validate.field(validationRules);\n\n                if (!settings.inline) {\n                  module.validate.form(false, true);\n                }\n              }\n            },\n            change: function (event) {\n              var $field = $(this),\n                  $fieldGroup = $field.closest($group),\n                  validationRules = module.get.validation($field);\n\n              if (validationRules && (settings.on == 'change' || $fieldGroup.hasClass(className.error) && settings.revalidate)) {\n                clearTimeout(module.timer);\n                module.timer = setTimeout(function () {\n                  module.debug('Revalidating field', $field, validationRules);\n                  module.validate.field(validationRules);\n\n                  if (!settings.inline) {\n                    module.validate.form(false, true);\n                  }\n                }, settings.delay);\n              }\n            }\n          },\n          beforeUnload: function (event) {\n            if (module.is.dirty() && !submitting) {\n              var event = event || window.event; // For modern browsers\n\n              if (event) {\n                event.returnValue = settings.text.leavingMessage;\n              } // For olders...\n\n\n              return settings.text.leavingMessage;\n            }\n          }\n        },\n        get: {\n          ancillaryValue: function (rule) {\n            if (!rule.type || !rule.value && !module.is.bracketedRule(rule)) {\n              return false;\n            }\n\n            return rule.value !== undefined ? rule.value : rule.type.match(settings.regExp.bracket)[1] + '';\n          },\n          ruleName: function (rule) {\n            if (module.is.bracketedRule(rule)) {\n              return rule.type.replace(rule.type.match(settings.regExp.bracket)[0], '');\n            }\n\n            return rule.type;\n          },\n          changeEvent: function (type, $input) {\n            if (type == 'checkbox' || type == 'radio' || type == 'hidden' || $input.is('select')) {\n              return 'change';\n            } else {\n              return module.get.inputEvent();\n            }\n          },\n          inputEvent: function () {\n            return document.createElement('input').oninput !== undefined ? 'input' : document.createElement('input').onpropertychange !== undefined ? 'propertychange' : 'keyup';\n          },\n          fieldsFromShorthand: function (fields) {\n            var fullFields = {};\n            $.each(fields, function (name, rules) {\n              if (!Array.isArray(rules) && typeof rules === 'object') {\n                fullFields[name] = rules;\n              } else {\n                if (typeof rules == 'string') {\n                  rules = [rules];\n                }\n\n                fullFields[name] = {\n                  rules: []\n                };\n                $.each(rules, function (index, rule) {\n                  fullFields[name].rules.push({\n                    type: rule\n                  });\n                });\n              }\n            });\n            return fullFields;\n          },\n          prompt: function (rule, field) {\n            var ruleName = module.get.ruleName(rule),\n                ancillary = module.get.ancillaryValue(rule),\n                $field = module.get.field(field.identifier),\n                value = $field.val(),\n                prompt = $.isFunction(rule.prompt) ? rule.prompt(value) : rule.prompt || settings.prompt[ruleName] || settings.text.unspecifiedRule,\n                requiresValue = prompt.search('{value}') !== -1,\n                requiresName = prompt.search('{name}') !== -1,\n                $label,\n                name,\n                parts,\n                suffixPrompt;\n\n            if (ancillary && ancillary.indexOf('..') >= 0) {\n              parts = ancillary.split('..', 2);\n\n              if (!rule.prompt) {\n                suffixPrompt = parts[0] === '' ? settings.prompt.maxValue.replace(/\\{ruleValue\\}/g, '{max}') : parts[1] === '' ? settings.prompt.minValue.replace(/\\{ruleValue\\}/g, '{min}') : settings.prompt.range;\n                prompt += suffixPrompt.replace(/\\{name\\}/g, ' ' + settings.text.and);\n              }\n\n              prompt = prompt.replace(/\\{min\\}/g, parts[0]);\n              prompt = prompt.replace(/\\{max\\}/g, parts[1]);\n            }\n\n            if (requiresValue) {\n              prompt = prompt.replace(/\\{value\\}/g, $field.val());\n            }\n\n            if (requiresName) {\n              $label = $field.closest(selector.group).find('label').eq(0);\n              name = $label.length == 1 ? $label.text() : $field.prop('placeholder') || settings.text.unspecifiedField;\n              prompt = prompt.replace(/\\{name\\}/g, name);\n            }\n\n            prompt = prompt.replace(/\\{identifier\\}/g, field.identifier);\n            prompt = prompt.replace(/\\{ruleValue\\}/g, ancillary);\n\n            if (!rule.prompt) {\n              module.verbose('Using default validation prompt for type', prompt, ruleName);\n            }\n\n            return prompt;\n          },\n          settings: function () {\n            if ($.isPlainObject(parameters)) {\n              var keys = Object.keys(parameters),\n                  isLegacySettings = keys.length > 0 ? parameters[keys[0]].identifier !== undefined && parameters[keys[0]].rules !== undefined : false;\n\n              if (isLegacySettings) {\n                // 1.x (ducktyped)\n                settings = $.extend(true, {}, $.fn.form.settings, legacyParameters);\n                validation = $.extend({}, $.fn.form.settings.defaults, parameters);\n                module.error(settings.error.oldSyntax, element);\n                module.verbose('Extending settings from legacy parameters', validation, settings);\n              } else {\n                // 2.x\n                if (parameters.fields) {\n                  parameters.fields = module.get.fieldsFromShorthand(parameters.fields);\n                }\n\n                settings = $.extend(true, {}, $.fn.form.settings, parameters);\n                validation = $.extend({}, $.fn.form.settings.defaults, settings.fields);\n                module.verbose('Extending settings', validation, settings);\n              }\n            } else {\n              settings = $.fn.form.settings;\n              validation = $.fn.form.settings.defaults;\n              module.verbose('Using default form validation', validation, settings);\n            } // shorthand\n\n\n            namespace = settings.namespace;\n            metadata = settings.metadata;\n            selector = settings.selector;\n            className = settings.className;\n            regExp = settings.regExp;\n            error = settings.error;\n            moduleNamespace = 'module-' + namespace;\n            eventNamespace = '.' + namespace; // grab instance\n\n            instance = $module.data(moduleNamespace); // refresh selector cache\n\n            (instance || module).refresh();\n          },\n          field: function (identifier) {\n            module.verbose('Finding field with identifier', identifier);\n            identifier = module.escape.string(identifier);\n            var t;\n\n            if ((t = $field.filter('#' + identifier)).length > 0) {\n              return t;\n            }\n\n            if ((t = $field.filter('[name=\"' + identifier + '\"]')).length > 0) {\n              return t;\n            }\n\n            if ((t = $field.filter('[name=\"' + identifier + '[]\"]')).length > 0) {\n              return t;\n            }\n\n            if ((t = $field.filter('[data-' + metadata.validate + '=\"' + identifier + '\"]')).length > 0) {\n              return t;\n            }\n\n            return $('<input/>');\n          },\n          fields: function (fields) {\n            var $fields = $();\n            $.each(fields, function (index, name) {\n              $fields = $fields.add(module.get.field(name));\n            });\n            return $fields;\n          },\n          validation: function ($field) {\n            var fieldValidation, identifier;\n\n            if (!validation) {\n              return false;\n            }\n\n            $.each(validation, function (fieldName, field) {\n              identifier = field.identifier || fieldName;\n              $.each(module.get.field(identifier), function (index, groupField) {\n                if (groupField == $field[0]) {\n                  field.identifier = identifier;\n                  fieldValidation = field;\n                  return false;\n                }\n              });\n            });\n            return fieldValidation || false;\n          },\n          value: function (field) {\n            var fields = [],\n                results;\n            fields.push(field);\n            results = module.get.values.call(element, fields);\n            return results[field];\n          },\n          values: function (fields) {\n            var $fields = Array.isArray(fields) ? module.get.fields(fields) : $field,\n                values = {};\n            $fields.each(function (index, field) {\n              var $field = $(field),\n                  $calendar = $field.closest(selector.uiCalendar),\n                  name = $field.prop('name'),\n                  value = $field.val(),\n                  isCheckbox = $field.is(selector.checkbox),\n                  isRadio = $field.is(selector.radio),\n                  isMultiple = name.indexOf('[]') !== -1,\n                  isCalendar = $calendar.length > 0 && module.can.useElement('calendar'),\n                  isChecked = isCheckbox ? $field.is(':checked') : false;\n\n              if (name) {\n                if (isMultiple) {\n                  name = name.replace('[]', '');\n\n                  if (!values[name]) {\n                    values[name] = [];\n                  }\n\n                  if (isCheckbox) {\n                    if (isChecked) {\n                      values[name].push(value || true);\n                    } else {\n                      values[name].push(false);\n                    }\n                  } else {\n                    values[name].push(value);\n                  }\n                } else {\n                  if (isRadio) {\n                    if (values[name] === undefined || values[name] === false) {\n                      values[name] = isChecked ? value || true : false;\n                    }\n                  } else if (isCheckbox) {\n                    if (isChecked) {\n                      values[name] = value || true;\n                    } else {\n                      values[name] = false;\n                    }\n                  } else if (isCalendar) {\n                    var date = $calendar.calendar('get date');\n\n                    if (date !== null) {\n                      if (settings.dateHandling == 'date') {\n                        values[name] = date;\n                      } else if (settings.dateHandling == 'input') {\n                        values[name] = $calendar.calendar('get input date');\n                      } else if (settings.dateHandling == 'formatter') {\n                        var type = $calendar.calendar('setting', 'type');\n\n                        switch (type) {\n                          case 'date':\n                            values[name] = settings.formatter.date(date);\n                            break;\n\n                          case 'datetime':\n                            values[name] = settings.formatter.datetime(date);\n                            break;\n\n                          case 'time':\n                            values[name] = settings.formatter.time(date);\n                            break;\n\n                          case 'month':\n                            values[name] = settings.formatter.month(date);\n                            break;\n\n                          case 'year':\n                            values[name] = settings.formatter.year(date);\n                            break;\n\n                          default:\n                            module.debug('Wrong calendar mode', $calendar, type);\n                            values[name] = '';\n                        }\n                      }\n                    } else {\n                      values[name] = '';\n                    }\n                  } else {\n                    values[name] = value;\n                  }\n                }\n              }\n            });\n            return values;\n          },\n          dirtyFields: function () {\n            return $field.filter(function (index, e) {\n              return $(e).data(metadata.isDirty);\n            });\n          }\n        },\n        has: {\n          field: function (identifier) {\n            module.verbose('Checking for existence of a field with identifier', identifier);\n            identifier = module.escape.string(identifier);\n\n            if (typeof identifier !== 'string') {\n              module.error(error.identifier, identifier);\n            }\n\n            if ($field.filter('#' + identifier).length > 0) {\n              return true;\n            } else if ($field.filter('[name=\"' + identifier + '\"]').length > 0) {\n              return true;\n            } else if ($field.filter('[data-' + metadata.validate + '=\"' + identifier + '\"]').length > 0) {\n              return true;\n            }\n\n            return false;\n          }\n        },\n        can: {\n          useElement: function (element) {\n            if ($.fn[element] !== undefined) {\n              return true;\n            }\n\n            module.error(error.noElement.replace('{element}', element));\n            return false;\n          }\n        },\n        escape: {\n          string: function (text) {\n            text = String(text);\n            return text.replace(regExp.escape, '\\\\$&');\n          }\n        },\n        add: {\n          // alias\n          rule: function (name, rules) {\n            module.add.field(name, rules);\n          },\n          field: function (name, rules) {\n            // Validation should have at least a standard format\n            if (validation[name] === undefined || validation[name].rules === undefined) {\n              validation[name] = {\n                rules: []\n              };\n            }\n\n            var newValidation = {\n              rules: []\n            };\n\n            if (module.is.shorthandRules(rules)) {\n              rules = Array.isArray(rules) ? rules : [rules];\n              $.each(rules, function (_index, rule) {\n                newValidation.rules.push({\n                  type: rule\n                });\n              });\n            } else {\n              newValidation.rules = rules.rules;\n            } // For each new rule, check if there's not already one with the same type\n\n\n            $.each(newValidation.rules, function (_index, rule) {\n              if ($.grep(validation[name].rules, function (item) {\n                return item.type == rule.type;\n              }).length == 0) {\n                validation[name].rules.push(rule);\n              }\n            });\n            module.debug('Adding rules', newValidation.rules, validation);\n          },\n          fields: function (fields) {\n            validation = $.extend({}, validation, module.get.fieldsFromShorthand(fields));\n          },\n          prompt: function (identifier, errors, internal) {\n            var $field = module.get.field(identifier),\n                $fieldGroup = $field.closest($group),\n                $prompt = $fieldGroup.children(selector.prompt),\n                promptExists = $prompt.length !== 0;\n            errors = typeof errors == 'string' ? [errors] : errors;\n            module.verbose('Adding field error state', identifier);\n\n            if (!internal) {\n              $fieldGroup.addClass(className.error);\n            }\n\n            if (settings.inline) {\n              if (!promptExists) {\n                $prompt = settings.templates.prompt(errors, className.label);\n                $prompt.appendTo($fieldGroup);\n              }\n\n              $prompt.html(errors[0]);\n\n              if (!promptExists) {\n                if (settings.transition && module.can.useElement('transition') && $module.transition('is supported')) {\n                  module.verbose('Displaying error with css transition', settings.transition);\n                  $prompt.transition(settings.transition + ' in', settings.duration);\n                } else {\n                  module.verbose('Displaying error with fallback javascript animation');\n                  $prompt.fadeIn(settings.duration);\n                }\n              } else {\n                module.verbose('Inline errors are disabled, no inline error added', identifier);\n              }\n            }\n          },\n          errors: function (errors) {\n            module.debug('Adding form error messages', errors);\n            module.set.error();\n            $message.html(settings.templates.error(errors));\n          }\n        },\n        remove: {\n          errors: function () {\n            module.debug('Removing form error messages');\n            $message.empty();\n          },\n          states: function () {\n            $module.removeClass(className.error).removeClass(className.success);\n\n            if (!settings.inline) {\n              module.remove.errors();\n            }\n\n            module.determine.isDirty();\n          },\n          rule: function (field, rule) {\n            var rules = Array.isArray(rule) ? rule : [rule];\n\n            if (validation[field] === undefined || !Array.isArray(validation[field].rules)) {\n              return;\n            }\n\n            if (rule === undefined) {\n              module.debug('Removed all rules');\n              validation[field].rules = [];\n              return;\n            }\n\n            $.each(validation[field].rules, function (index, rule) {\n              if (rule && rules.indexOf(rule.type) !== -1) {\n                module.debug('Removed rule', rule.type);\n                validation[field].rules.splice(index, 1);\n              }\n            });\n          },\n          field: function (field) {\n            var fields = Array.isArray(field) ? field : [field];\n            $.each(fields, function (index, field) {\n              module.remove.rule(field);\n            });\n          },\n          // alias\n          rules: function (field, rules) {\n            if (Array.isArray(field)) {\n              $.each(field, function (index, field) {\n                module.remove.rule(field, rules);\n              });\n            } else {\n              module.remove.rule(field, rules);\n            }\n          },\n          fields: function (fields) {\n            module.remove.field(fields);\n          },\n          prompt: function (identifier) {\n            var $field = module.get.field(identifier),\n                $fieldGroup = $field.closest($group),\n                $prompt = $fieldGroup.children(selector.prompt);\n            $fieldGroup.removeClass(className.error);\n\n            if (settings.inline && $prompt.is(':visible')) {\n              module.verbose('Removing prompt for field', identifier);\n\n              if (settings.transition && module.can.useElement('transition') && $module.transition('is supported')) {\n                $prompt.transition(settings.transition + ' out', settings.duration, function () {\n                  $prompt.remove();\n                });\n              } else {\n                $prompt.fadeOut(settings.duration, function () {\n                  $prompt.remove();\n                });\n              }\n            }\n          }\n        },\n        set: {\n          success: function () {\n            $module.removeClass(className.error).addClass(className.success);\n          },\n          defaults: function () {\n            $field.each(function (index, el) {\n              var $el = $(el),\n                  $parent = $el.parent(),\n                  isCheckbox = $el.filter(selector.checkbox).length > 0,\n                  isDropdown = $parent.is(selector.uiDropdown) && module.can.useElement('dropdown'),\n                  $calendar = $el.closest(selector.uiCalendar),\n                  isCalendar = $calendar.length > 0 && module.can.useElement('calendar'),\n                  value = isCheckbox ? $el.is(':checked') : $el.val();\n\n              if (isDropdown) {\n                $parent.dropdown('save defaults');\n              } else if (isCalendar) {\n                $calendar.calendar('refresh');\n              }\n\n              $el.data(metadata.defaultValue, value);\n              $el.data(metadata.isDirty, false);\n            });\n          },\n          error: function () {\n            $module.removeClass(className.success).addClass(className.error);\n          },\n          value: function (field, value) {\n            var fields = {};\n            fields[field] = value;\n            return module.set.values.call(element, fields);\n          },\n          values: function (fields) {\n            if ($.isEmptyObject(fields)) {\n              return;\n            }\n\n            $.each(fields, function (key, value) {\n              var $field = module.get.field(key),\n                  $element = $field.parent(),\n                  $calendar = $field.closest(selector.uiCalendar),\n                  isMultiple = Array.isArray(value),\n                  isCheckbox = $element.is(selector.uiCheckbox) && module.can.useElement('checkbox'),\n                  isDropdown = $element.is(selector.uiDropdown) && module.can.useElement('dropdown'),\n                  isRadio = $field.is(selector.radio) && isCheckbox,\n                  isCalendar = $calendar.length > 0 && module.can.useElement('calendar'),\n                  fieldExists = $field.length > 0,\n                  $multipleField;\n\n              if (fieldExists) {\n                if (isMultiple && isCheckbox) {\n                  module.verbose('Selecting multiple', value, $field);\n                  $element.checkbox('uncheck');\n                  $.each(value, function (index, value) {\n                    $multipleField = $field.filter('[value=\"' + value + '\"]');\n                    $element = $multipleField.parent();\n\n                    if ($multipleField.length > 0) {\n                      $element.checkbox('check');\n                    }\n                  });\n                } else if (isRadio) {\n                  module.verbose('Selecting radio value', value, $field);\n                  $field.filter('[value=\"' + value + '\"]').parent(selector.uiCheckbox).checkbox('check');\n                } else if (isCheckbox) {\n                  module.verbose('Setting checkbox value', value, $element);\n\n                  if (value === true || value === 1) {\n                    $element.checkbox('check');\n                  } else {\n                    $element.checkbox('uncheck');\n                  }\n                } else if (isDropdown) {\n                  module.verbose('Setting dropdown value', value, $element);\n                  $element.dropdown('set selected', value);\n                } else if (isCalendar) {\n                  $calendar.calendar('set date', value);\n                } else {\n                  module.verbose('Setting field value', value, $field);\n                  $field.val(value);\n                }\n              }\n            });\n          },\n          dirty: function () {\n            module.verbose('Setting state dirty');\n            dirty = true;\n            history[0] = history[1];\n            history[1] = 'dirty';\n\n            if (module.is.justClean()) {\n              $module.trigger('dirty');\n            }\n          },\n          clean: function () {\n            module.verbose('Setting state clean');\n            dirty = false;\n            history[0] = history[1];\n            history[1] = 'clean';\n\n            if (module.is.justDirty()) {\n              $module.trigger('clean');\n            }\n          },\n          asClean: function () {\n            module.set.defaults();\n            module.set.clean();\n          },\n          asDirty: function () {\n            module.set.defaults();\n            module.set.dirty();\n          },\n          autoCheck: function () {\n            module.debug('Enabling auto check on required fields');\n            $field.each(function (_index, el) {\n              var $el = $(el),\n                  $elGroup = $(el).closest($group),\n                  isCheckbox = $el.filter(selector.checkbox).length > 0,\n                  isRequired = $el.prop('required') || $elGroup.hasClass(className.required) || $elGroup.parent().hasClass(className.required),\n                  isDisabled = $el.is(':disabled') || $elGroup.hasClass(className.disabled) || $elGroup.parent().hasClass(className.disabled),\n                  validation = module.get.validation($el),\n                  hasEmptyRule = validation ? $.grep(validation.rules, function (rule) {\n                return rule.type == \"empty\";\n              }) !== 0 : false,\n                  identifier = validation.identifier || $el.attr('id') || $el.attr('name') || $el.data(metadata.validate);\n\n              if (isRequired && !isDisabled && !hasEmptyRule && identifier !== undefined) {\n                if (isCheckbox) {\n                  module.verbose(\"Adding 'checked' rule on field\", identifier);\n                  module.add.rule(identifier, \"checked\");\n                } else {\n                  module.verbose(\"Adding 'empty' rule on field\", identifier);\n                  module.add.rule(identifier, \"empty\");\n                }\n              }\n            });\n          },\n          optional: function (identifier, bool) {\n            bool = bool !== false;\n            $.each(validation, function (fieldName, field) {\n              if (identifier == fieldName || identifier == field.identifier) {\n                field.optional = bool;\n              }\n            });\n          }\n        },\n        validate: {\n          form: function (event, ignoreCallbacks) {\n            var values = module.get.values(); // input keydown event will fire submit repeatedly by browser default\n\n            if (keyHeldDown) {\n              return false;\n            } // reset errors\n\n\n            formErrors = [];\n\n            if (module.determine.isValid()) {\n              module.debug('Form has no validation errors, submitting');\n              module.set.success();\n\n              if (!settings.inline) {\n                module.remove.errors();\n              }\n\n              if (ignoreCallbacks !== true) {\n                return settings.onSuccess.call(element, event, values);\n              }\n            } else {\n              module.debug('Form has errors');\n              submitting = false;\n              module.set.error();\n\n              if (!settings.inline) {\n                module.add.errors(formErrors);\n              } // prevent ajax submit\n\n\n              if (event && $module.data('moduleApi') !== undefined) {\n                event.stopImmediatePropagation();\n              }\n\n              if (settings.errorFocus) {\n                var focusElement,\n                    hasTabIndex = true;\n\n                if (typeof settings.errorFocus === 'string') {\n                  focusElement = $(settings.errorFocus);\n                  hasTabIndex = focusElement.is('[tabindex]'); // to be able to focus/scroll into non input elements we need a tabindex\n\n                  if (!hasTabIndex) {\n                    focusElement.attr('tabindex', -1);\n                  }\n                } else {\n                  focusElement = $group.filter('.' + className.error).first().find(selector.field);\n                }\n\n                focusElement.focus(); // only remove tabindex if it was dynamically created above\n\n                if (!hasTabIndex) {\n                  focusElement.removeAttr('tabindex');\n                }\n              }\n\n              if (ignoreCallbacks !== true) {\n                return settings.onFailure.call(element, formErrors, values);\n              }\n            }\n          },\n          // takes a validation object and returns whether field passes validation\n          field: function (field, fieldName, showErrors) {\n            showErrors = showErrors !== undefined ? showErrors : true;\n\n            if (typeof field == 'string') {\n              module.verbose('Validating field', field);\n              fieldName = field;\n              field = validation[field];\n            }\n\n            var identifier = field.identifier || fieldName,\n                $field = module.get.field(identifier),\n                $dependsField = field.depends ? module.get.field(field.depends) : false,\n                fieldValid = true,\n                fieldErrors = [];\n\n            if (!field.identifier) {\n              module.debug('Using field name as identifier', identifier);\n              field.identifier = identifier;\n            }\n\n            var isDisabled = !$field.filter(':not(:disabled)').length;\n\n            if (isDisabled) {\n              module.debug('Field is disabled. Skipping', identifier);\n            } else if (field.optional && module.is.blank($field)) {\n              module.debug('Field is optional and blank. Skipping', identifier);\n            } else if (field.depends && module.is.empty($dependsField)) {\n              module.debug('Field depends on another value that is not present or empty. Skipping', $dependsField);\n            } else if (field.rules !== undefined) {\n              if (showErrors) {\n                $field.closest($group).removeClass(className.error);\n              }\n\n              $.each(field.rules, function (index, rule) {\n                if (module.has.field(identifier)) {\n                  var invalidFields = module.validate.rule(field, rule, true) || [];\n\n                  if (invalidFields.length > 0) {\n                    module.debug('Field is invalid', identifier, rule.type);\n                    fieldErrors.push(module.get.prompt(rule, field));\n                    fieldValid = false;\n\n                    if (showErrors) {\n                      $(invalidFields).closest($group).addClass(className.error);\n                    }\n                  }\n                }\n              });\n            }\n\n            if (fieldValid) {\n              if (showErrors) {\n                module.remove.prompt(identifier, fieldErrors);\n                settings.onValid.call($field);\n              }\n            } else {\n              if (showErrors) {\n                formErrors = formErrors.concat(fieldErrors);\n                module.add.prompt(identifier, fieldErrors, true);\n                settings.onInvalid.call($field, fieldErrors);\n              }\n\n              return false;\n            }\n\n            return true;\n          },\n          // takes validation rule and returns whether field passes rule\n          rule: function (field, rule, internal) {\n            var $field = module.get.field(field.identifier),\n                ancillary = module.get.ancillaryValue(rule),\n                ruleName = module.get.ruleName(rule),\n                ruleFunction = settings.rules[ruleName],\n                invalidFields = [],\n                isCheckbox = $field.is(selector.checkbox),\n                isValid = function (field) {\n              var value = isCheckbox ? $(field).filter(':checked').val() : $(field).val(); // cast to string avoiding encoding special values\n\n              value = value === undefined || value === '' || value === null ? '' : settings.shouldTrim && rule.shouldTrim !== false || rule.shouldTrim ? String(value + '').trim() : String(value + '');\n              return ruleFunction.call(field, value, ancillary, $module);\n            };\n\n            if (!$.isFunction(ruleFunction)) {\n              module.error(error.noRule, ruleName);\n              return;\n            }\n\n            if (isCheckbox) {\n              if (!isValid($field)) {\n                invalidFields = $field;\n              }\n            } else {\n              $.each($field, function (index, field) {\n                if (!isValid(field)) {\n                  invalidFields.push(field);\n                }\n              });\n            }\n\n            return internal ? invalidFields : !(invalidFields.length > 0);\n          }\n        },\n        setting: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, settings, name);\n          } else if (value !== undefined) {\n            settings[name] = value;\n          } else {\n            return settings[name];\n          }\n        },\n        internal: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, module, name);\n          } else if (value !== undefined) {\n            module[name] = value;\n          } else {\n            return module[name];\n          }\n        },\n        debug: function () {\n          if (!settings.silent && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function () {\n          if (!settings.silent && settings.verbose && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function () {\n          if (!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function (message) {\n            var currentTime, executionTime, previousTime;\n\n            if (settings.performance) {\n              currentTime = new Date().getTime();\n              previousTime = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time = currentTime;\n              performance.push({\n                'Name': message[0],\n                'Arguments': [].slice.call(message, 1) || '',\n                'Element': element,\n                'Execution Time': executionTime\n              });\n            }\n\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function () {\n            var title = settings.name + ':',\n                totalTime = 0;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function (index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n\n            if (moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n\n            if ($allModules.length > 1) {\n              title += ' ' + '(' + $allModules.length + ')';\n            }\n\n            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n\n              if (console.table) {\n                console.table(performance);\n              } else {\n                $.each(performance, function (index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');\n                });\n              }\n\n              console.groupEnd();\n            }\n\n            performance = [];\n          }\n        },\n        invoke: function (query, passedArguments, context) {\n          var object = instance,\n              maxDepth,\n              found,\n              response;\n          passedArguments = passedArguments || queryArguments;\n          context = element || context;\n\n          if (typeof query == 'string' && object !== undefined) {\n            query = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function (depth, value) {\n              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;\n\n              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {\n                object = object[camelCaseValue];\n              } else if (object[camelCaseValue] !== undefined) {\n                found = object[camelCaseValue];\n                return false;\n              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {\n                object = object[value];\n              } else if (object[value] !== undefined) {\n                found = object[value];\n                return false;\n              } else {\n                return false;\n              }\n            });\n          }\n\n          if ($.isFunction(found)) {\n            response = found.apply(context, passedArguments);\n          } else if (found !== undefined) {\n            response = found;\n          }\n\n          if (Array.isArray(returnedValue)) {\n            returnedValue.push(response);\n          } else if (returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          } else if (response !== undefined) {\n            returnedValue = response;\n          }\n\n          return found;\n        }\n      };\n      module.initialize();\n    });\n    return returnedValue !== undefined ? returnedValue : this;\n  };\n\n  $.fn.form.settings = {\n    name: 'Form',\n    namespace: 'form',\n    debug: false,\n    verbose: false,\n    performance: true,\n    fields: false,\n    keyboardShortcuts: true,\n    on: 'submit',\n    inline: false,\n    delay: 200,\n    revalidate: true,\n    shouldTrim: true,\n    transition: 'scale',\n    duration: 200,\n    autoCheckRequired: false,\n    preventLeaving: false,\n    errorFocus: false,\n    dateHandling: 'date',\n    // 'date', 'input', 'formatter'\n    onValid: function () {},\n    onInvalid: function () {},\n    onSuccess: function () {\n      return true;\n    },\n    onFailure: function () {\n      return false;\n    },\n    onDirty: function () {},\n    onClean: function () {},\n    metadata: {\n      defaultValue: 'default',\n      validate: 'validate',\n      isDirty: 'isDirty'\n    },\n    regExp: {\n      htmlID: /^[a-zA-Z][\\w:.-]*$/g,\n      bracket: /\\[(.*)\\]/i,\n      decimal: /^\\d+\\.?\\d*$/,\n      email: /^[a-z0-9!#$%&'*+\\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,\n      escape: /[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|:,=@]/g,\n      flags: /^\\/(.*)\\/(.*)?/,\n      integer: /^\\-?\\d+$/,\n      number: /^\\-?\\d*(\\.\\d+)?$/,\n      url: /(https?:\\/\\/(?:www\\.|(?!www))[^\\s\\.]+\\.[^\\s]{2,}|www\\.[^\\s]+\\.[^\\s]{2,})/i\n    },\n    text: {\n      and: 'and',\n      unspecifiedRule: 'Please enter a valid value',\n      unspecifiedField: 'This field',\n      leavingMessage: 'There are unsaved changes on this page which will be discarded if you continue.'\n    },\n    prompt: {\n      range: '{name} must be in a range from {min} to {max}',\n      maxValue: '{name} must have a maximum value of {ruleValue}',\n      minValue: '{name} must have a minimum value of {ruleValue}',\n      empty: '{name} must have a value',\n      checked: '{name} must be checked',\n      email: '{name} must be a valid e-mail',\n      url: '{name} must be a valid url',\n      regExp: '{name} is not formatted correctly',\n      integer: '{name} must be an integer',\n      decimal: '{name} must be a decimal number',\n      number: '{name} must be set to a number',\n      is: '{name} must be \"{ruleValue}\"',\n      isExactly: '{name} must be exactly \"{ruleValue}\"',\n      not: '{name} cannot be set to \"{ruleValue}\"',\n      notExactly: '{name} cannot be set to exactly \"{ruleValue}\"',\n      contain: '{name} must contain \"{ruleValue}\"',\n      containExactly: '{name} must contain exactly \"{ruleValue}\"',\n      doesntContain: '{name} cannot contain  \"{ruleValue}\"',\n      doesntContainExactly: '{name} cannot contain exactly \"{ruleValue}\"',\n      minLength: '{name} must be at least {ruleValue} characters',\n      length: '{name} must be at least {ruleValue} characters',\n      exactLength: '{name} must be exactly {ruleValue} characters',\n      maxLength: '{name} cannot be longer than {ruleValue} characters',\n      match: '{name} must match {ruleValue} field',\n      different: '{name} must have a different value than {ruleValue} field',\n      creditCard: '{name} must be a valid credit card number',\n      minCount: '{name} must have at least {ruleValue} choices',\n      exactCount: '{name} must have exactly {ruleValue} choices',\n      maxCount: '{name} must have {ruleValue} or less choices'\n    },\n    selector: {\n      checkbox: 'input[type=\"checkbox\"], input[type=\"radio\"]',\n      clear: '.clear',\n      field: 'input:not(.search):not([type=\"file\"]), textarea, select',\n      group: '.field',\n      input: 'input:not([type=\"file\"])',\n      message: '.error.message',\n      prompt: '.prompt.label',\n      radio: 'input[type=\"radio\"]',\n      reset: '.reset:not([type=\"reset\"])',\n      submit: '.submit:not([type=\"submit\"])',\n      uiCheckbox: '.ui.checkbox',\n      uiDropdown: '.ui.dropdown',\n      uiCalendar: '.ui.calendar'\n    },\n    className: {\n      error: 'error',\n      label: 'ui basic red pointing prompt label',\n      pressed: 'down',\n      success: 'success',\n      required: 'required',\n      disabled: 'disabled'\n    },\n    error: {\n      identifier: 'You must specify a string identifier for each field',\n      method: 'The method you called is not defined.',\n      noRule: 'There is no rule matching the one you specified',\n      oldSyntax: 'Starting in 2.0 forms now only take a single settings object. Validation settings converted to new syntax automatically.',\n      noElement: 'This module requires ui {element}'\n    },\n    templates: {\n      // template that produces error message\n      error: function (errors) {\n        var html = '<ul class=\"list\">';\n        $.each(errors, function (index, value) {\n          html += '<li>' + value + '</li>';\n        });\n        html += '</ul>';\n        return $(html);\n      },\n      // template that produces label\n      prompt: function (errors, labelClasses) {\n        return $('<div/>').addClass(labelClasses).html(errors[0]);\n      }\n    },\n    formatter: {\n      date: function (date) {\n        return Intl.DateTimeFormat('en-GB').format(date);\n      },\n      datetime: function (date) {\n        return Intl.DateTimeFormat('en-GB', {\n          year: \"numeric\",\n          month: \"2-digit\",\n          day: \"2-digit\",\n          hour: '2-digit',\n          minute: '2-digit',\n          second: '2-digit'\n        }).format(date);\n      },\n      time: function (date) {\n        return Intl.DateTimeFormat('en-GB', {\n          hour: '2-digit',\n          minute: '2-digit',\n          second: '2-digit'\n        }).format(date);\n      },\n      month: function (date) {\n        return Intl.DateTimeFormat('en-GB', {\n          month: '2-digit',\n          year: 'numeric'\n        }).format(date);\n      },\n      year: function (date) {\n        return Intl.DateTimeFormat('en-GB', {\n          year: 'numeric'\n        }).format(date);\n      }\n    },\n    rules: {\n      // is not empty or blank string\n      empty: function (value) {\n        return !(value === undefined || '' === value || Array.isArray(value) && value.length === 0);\n      },\n      // checkbox checked\n      checked: function () {\n        return $(this).filter(':checked').length > 0;\n      },\n      // is most likely an email\n      email: function (value) {\n        return $.fn.form.settings.regExp.email.test(value);\n      },\n      // value is most likely url\n      url: function (value) {\n        return $.fn.form.settings.regExp.url.test(value);\n      },\n      // matches specified regExp\n      regExp: function (value, regExp) {\n        if (regExp instanceof RegExp) {\n          return value.match(regExp);\n        }\n\n        var regExpParts = regExp.match($.fn.form.settings.regExp.flags),\n            flags; // regular expression specified as /baz/gi (flags)\n\n        if (regExpParts) {\n          regExp = regExpParts.length >= 2 ? regExpParts[1] : regExp;\n          flags = regExpParts.length >= 3 ? regExpParts[2] : '';\n        }\n\n        return value.match(new RegExp(regExp, flags));\n      },\n      minValue: function (value, range) {\n        return $.fn.form.settings.rules.range(value, range + '..', 'number');\n      },\n      maxValue: function (value, range) {\n        return $.fn.form.settings.rules.range(value, '..' + range, 'number');\n      },\n      // is valid integer or matches range\n      integer: function (value, range) {\n        return $.fn.form.settings.rules.range(value, range, 'integer');\n      },\n      range: function (value, range, regExp) {\n        if (typeof regExp == \"string\") {\n          regExp = $.fn.form.settings.regExp[regExp];\n        }\n\n        if (!(regExp instanceof RegExp)) {\n          regExp = $.fn.form.settings.regExp.integer;\n        }\n\n        var min, max, parts;\n\n        if (!range || ['', '..'].indexOf(range) !== -1) {// do nothing\n        } else if (range.indexOf('..') == -1) {\n          if (regExp.test(range)) {\n            min = max = range - 0;\n          }\n        } else {\n          parts = range.split('..', 2);\n\n          if (regExp.test(parts[0])) {\n            min = parts[0] - 0;\n          }\n\n          if (regExp.test(parts[1])) {\n            max = parts[1] - 0;\n          }\n        }\n\n        return regExp.test(value) && (min === undefined || value >= min) && (max === undefined || value <= max);\n      },\n      // is valid number (with decimal)\n      decimal: function (value, range) {\n        return $.fn.form.settings.rules.range(value, range, 'decimal');\n      },\n      // is valid number\n      number: function (value, range) {\n        return $.fn.form.settings.rules.range(value, range, 'number');\n      },\n      // is value (case insensitive)\n      is: function (value, text) {\n        text = typeof text == 'string' ? text.toLowerCase() : text;\n        value = typeof value == 'string' ? value.toLowerCase() : value;\n        return value == text;\n      },\n      // is value\n      isExactly: function (value, text) {\n        return value == text;\n      },\n      // value is not another value (case insensitive)\n      not: function (value, notValue) {\n        value = typeof value == 'string' ? value.toLowerCase() : value;\n        notValue = typeof notValue == 'string' ? notValue.toLowerCase() : notValue;\n        return value != notValue;\n      },\n      // value is not another value (case sensitive)\n      notExactly: function (value, notValue) {\n        return value != notValue;\n      },\n      // value contains text (insensitive)\n      contains: function (value, text) {\n        // escape regex characters\n        text = text.replace($.fn.form.settings.regExp.escape, \"\\\\$&\");\n        return value.search(new RegExp(text, 'i')) !== -1;\n      },\n      // value contains text (case sensitive)\n      containsExactly: function (value, text) {\n        // escape regex characters\n        text = text.replace($.fn.form.settings.regExp.escape, \"\\\\$&\");\n        return value.search(new RegExp(text)) !== -1;\n      },\n      // value contains text (insensitive)\n      doesntContain: function (value, text) {\n        // escape regex characters\n        text = text.replace($.fn.form.settings.regExp.escape, \"\\\\$&\");\n        return value.search(new RegExp(text, 'i')) === -1;\n      },\n      // value contains text (case sensitive)\n      doesntContainExactly: function (value, text) {\n        // escape regex characters\n        text = text.replace($.fn.form.settings.regExp.escape, \"\\\\$&\");\n        return value.search(new RegExp(text)) === -1;\n      },\n      // is at least string length\n      minLength: function (value, requiredLength) {\n        return value !== undefined ? value.length >= requiredLength : false;\n      },\n      // see rls notes for 2.0.6 (this is a duplicate of minLength)\n      length: function (value, requiredLength) {\n        return value !== undefined ? value.length >= requiredLength : false;\n      },\n      // is exactly length\n      exactLength: function (value, requiredLength) {\n        return value !== undefined ? value.length == requiredLength : false;\n      },\n      // is less than length\n      maxLength: function (value, maxLength) {\n        return value !== undefined ? value.length <= maxLength : false;\n      },\n      // matches another field\n      match: function (value, identifier, $module) {\n        var matchingValue, matchingElement;\n\n        if ((matchingElement = $module.find('[data-validate=\"' + identifier + '\"]')).length > 0) {\n          matchingValue = matchingElement.val();\n        } else if ((matchingElement = $module.find('#' + identifier)).length > 0) {\n          matchingValue = matchingElement.val();\n        } else if ((matchingElement = $module.find('[name=\"' + identifier + '\"]')).length > 0) {\n          matchingValue = matchingElement.val();\n        } else if ((matchingElement = $module.find('[name=\"' + identifier + '[]\"]')).length > 0) {\n          matchingValue = matchingElement;\n        }\n\n        return matchingValue !== undefined ? value.toString() == matchingValue.toString() : false;\n      },\n      // different than another field\n      different: function (value, identifier, $module) {\n        // use either id or name of field\n        var matchingValue, matchingElement;\n\n        if ((matchingElement = $module.find('[data-validate=\"' + identifier + '\"]')).length > 0) {\n          matchingValue = matchingElement.val();\n        } else if ((matchingElement = $module.find('#' + identifier)).length > 0) {\n          matchingValue = matchingElement.val();\n        } else if ((matchingElement = $module.find('[name=\"' + identifier + '\"]')).length > 0) {\n          matchingValue = matchingElement.val();\n        } else if ((matchingElement = $module.find('[name=\"' + identifier + '[]\"]')).length > 0) {\n          matchingValue = matchingElement;\n        }\n\n        return matchingValue !== undefined ? value.toString() !== matchingValue.toString() : false;\n      },\n      creditCard: function (cardNumber, cardTypes) {\n        var cards = {\n          visa: {\n            pattern: /^4/,\n            length: [16]\n          },\n          amex: {\n            pattern: /^3[47]/,\n            length: [15]\n          },\n          mastercard: {\n            pattern: /^5[1-5]/,\n            length: [16]\n          },\n          discover: {\n            pattern: /^(6011|622(12[6-9]|1[3-9][0-9]|[2-8][0-9]{2}|9[0-1][0-9]|92[0-5]|64[4-9])|65)/,\n            length: [16]\n          },\n          unionPay: {\n            pattern: /^(62|88)/,\n            length: [16, 17, 18, 19]\n          },\n          jcb: {\n            pattern: /^35(2[89]|[3-8][0-9])/,\n            length: [16]\n          },\n          maestro: {\n            pattern: /^(5018|5020|5038|6304|6759|676[1-3])/,\n            length: [12, 13, 14, 15, 16, 17, 18, 19]\n          },\n          dinersClub: {\n            pattern: /^(30[0-5]|^36)/,\n            length: [14]\n          },\n          laser: {\n            pattern: /^(6304|670[69]|6771)/,\n            length: [16, 17, 18, 19]\n          },\n          visaElectron: {\n            pattern: /^(4026|417500|4508|4844|491(3|7))/,\n            length: [16]\n          }\n        },\n            valid = {},\n            validCard = false,\n            requiredTypes = typeof cardTypes == 'string' ? cardTypes.split(',') : false,\n            unionPay,\n            validation;\n\n        if (typeof cardNumber !== 'string' || cardNumber.length === 0) {\n          return;\n        } // allow dashes and spaces in card\n\n\n        cardNumber = cardNumber.replace(/[\\s\\-]/g, ''); // verify card types\n\n        if (requiredTypes) {\n          $.each(requiredTypes, function (index, type) {\n            // verify each card type\n            validation = cards[type];\n\n            if (validation) {\n              valid = {\n                length: $.inArray(cardNumber.length, validation.length) !== -1,\n                pattern: cardNumber.search(validation.pattern) !== -1\n              };\n\n              if (valid.length && valid.pattern) {\n                validCard = true;\n              }\n            }\n          });\n\n          if (!validCard) {\n            return false;\n          }\n        } // skip luhn for UnionPay\n\n\n        unionPay = {\n          number: $.inArray(cardNumber.length, cards.unionPay.length) !== -1,\n          pattern: cardNumber.search(cards.unionPay.pattern) !== -1\n        };\n\n        if (unionPay.number && unionPay.pattern) {\n          return true;\n        } // verify luhn, adapted from  <https://gist.github.com/2134376>\n\n\n        var length = cardNumber.length,\n            multiple = 0,\n            producedValue = [[0, 1, 2, 3, 4, 5, 6, 7, 8, 9], [0, 2, 4, 6, 8, 1, 3, 5, 7, 9]],\n            sum = 0;\n\n        while (length--) {\n          sum += producedValue[multiple][parseInt(cardNumber.charAt(length), 10)];\n          multiple ^= 1;\n        }\n\n        return sum % 10 === 0 && sum > 0;\n      },\n      minCount: function (value, minCount) {\n        if (minCount == 0) {\n          return true;\n        }\n\n        if (minCount == 1) {\n          return value !== '';\n        }\n\n        return value.split(',').length >= minCount;\n      },\n      exactCount: function (value, exactCount) {\n        if (exactCount == 0) {\n          return value === '';\n        }\n\n        if (exactCount == 1) {\n          return value !== '' && value.search(',') === -1;\n        }\n\n        return value.split(',').length == exactCount;\n      },\n      maxCount: function (value, maxCount) {\n        if (maxCount == 0) {\n          return false;\n        }\n\n        if (maxCount == 1) {\n          return value.search(',') === -1;\n        }\n\n        return value.split(',').length <= maxCount;\n      }\n    }\n  };\n})(jQuery, window, document);\n/*!\n * # Fomantic-UI 2.8.8 - Accordion\n * http://github.com/fomantic/Fomantic-UI/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n\n;\n\n(function ($, window, document, undefined) {\n  'use strict';\n\n  $.isFunction = $.isFunction || function (obj) {\n    return typeof obj === \"function\" && typeof obj.nodeType !== \"number\";\n  };\n\n  window = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\n\n  $.fn.accordion = function (parameters) {\n    var $allModules = $(this),\n        time = new Date().getTime(),\n        performance = [],\n        query = arguments[0],\n        methodInvoked = typeof query == 'string',\n        queryArguments = [].slice.call(arguments, 1),\n        returnedValue;\n    $allModules.each(function () {\n      var settings = $.isPlainObject(parameters) ? $.extend(true, {}, $.fn.accordion.settings, parameters) : $.extend({}, $.fn.accordion.settings),\n          className = settings.className,\n          namespace = settings.namespace,\n          selector = settings.selector,\n          error = settings.error,\n          eventNamespace = '.' + namespace,\n          moduleNamespace = 'module-' + namespace,\n          moduleSelector = $allModules.selector || '',\n          $module = $(this),\n          $title = $module.find(selector.title),\n          $content = $module.find(selector.content),\n          element = this,\n          instance = $module.data(moduleNamespace),\n          observer,\n          module;\n      module = {\n        initialize: function () {\n          module.debug('Initializing', $module);\n          module.bind.events();\n\n          if (settings.observeChanges) {\n            module.observeChanges();\n          }\n\n          module.instantiate();\n        },\n        instantiate: function () {\n          instance = module;\n          $module.data(moduleNamespace, module);\n        },\n        destroy: function () {\n          module.debug('Destroying previous instance', $module);\n          $module.off(eventNamespace).removeData(moduleNamespace);\n        },\n        refresh: function () {\n          $title = $module.find(selector.title);\n          $content = $module.find(selector.content);\n        },\n        observeChanges: function () {\n          if ('MutationObserver' in window) {\n            observer = new MutationObserver(function (mutations) {\n              module.debug('DOM tree modified, updating selector cache');\n              module.refresh();\n            });\n            observer.observe(element, {\n              childList: true,\n              subtree: true\n            });\n            module.debug('Setting up mutation observer', observer);\n          }\n        },\n        bind: {\n          events: function () {\n            module.debug('Binding delegated events');\n            $module.on(settings.on + eventNamespace, selector.trigger, module.event.click);\n          }\n        },\n        event: {\n          click: function () {\n            module.toggle.call(this);\n          }\n        },\n        toggle: function (query) {\n          var $activeTitle = query !== undefined ? typeof query === 'number' ? $title.eq(query) : $(query).closest(selector.title) : $(this).closest(selector.title),\n              $activeContent = $activeTitle.next($content),\n              isAnimating = $activeContent.hasClass(className.animating),\n              isActive = $activeContent.hasClass(className.active),\n              isOpen = isActive && !isAnimating,\n              isOpening = !isActive && isAnimating;\n          module.debug('Toggling visibility of content', $activeTitle);\n\n          if (isOpen || isOpening) {\n            if (settings.collapsible) {\n              module.close.call($activeTitle);\n            } else {\n              module.debug('Cannot close accordion content collapsing is disabled');\n            }\n          } else {\n            module.open.call($activeTitle);\n          }\n        },\n        open: function (query) {\n          var $activeTitle = query !== undefined ? typeof query === 'number' ? $title.eq(query) : $(query).closest(selector.title) : $(this).closest(selector.title),\n              $activeContent = $activeTitle.next($content),\n              isAnimating = $activeContent.hasClass(className.animating),\n              isActive = $activeContent.hasClass(className.active),\n              isOpen = isActive || isAnimating;\n\n          if (isOpen) {\n            module.debug('Accordion already open, skipping', $activeContent);\n            return;\n          }\n\n          module.debug('Opening accordion content', $activeTitle);\n          settings.onOpening.call($activeContent);\n          settings.onChanging.call($activeContent);\n\n          if (settings.exclusive) {\n            module.closeOthers.call($activeTitle);\n          }\n\n          $activeTitle.addClass(className.active);\n          $activeContent.stop(true, true).addClass(className.animating);\n\n          if (settings.animateChildren) {\n            if ($.fn.transition !== undefined && $module.transition('is supported')) {\n              $activeContent.children().transition({\n                animation: 'fade in',\n                queue: false,\n                useFailSafe: true,\n                debug: settings.debug,\n                verbose: settings.verbose,\n                duration: settings.duration,\n                skipInlineHidden: true,\n                onComplete: function () {\n                  $activeContent.children().removeClass(className.transition);\n                }\n              });\n            } else {\n              $activeContent.children().stop(true, true).animate({\n                opacity: 1\n              }, settings.duration, module.resetOpacity);\n            }\n          }\n\n          $activeContent.slideDown(settings.duration, settings.easing, function () {\n            $activeContent.removeClass(className.animating).addClass(className.active);\n            module.reset.display.call(this);\n            settings.onOpen.call(this);\n            settings.onChange.call(this);\n          });\n        },\n        close: function (query) {\n          var $activeTitle = query !== undefined ? typeof query === 'number' ? $title.eq(query) : $(query).closest(selector.title) : $(this).closest(selector.title),\n              $activeContent = $activeTitle.next($content),\n              isAnimating = $activeContent.hasClass(className.animating),\n              isActive = $activeContent.hasClass(className.active),\n              isOpening = !isActive && isAnimating,\n              isClosing = isActive && isAnimating;\n\n          if ((isActive || isOpening) && !isClosing) {\n            module.debug('Closing accordion content', $activeContent);\n            settings.onClosing.call($activeContent);\n            settings.onChanging.call($activeContent);\n            $activeTitle.removeClass(className.active);\n            $activeContent.stop(true, true).addClass(className.animating);\n\n            if (settings.animateChildren) {\n              if ($.fn.transition !== undefined && $module.transition('is supported')) {\n                $activeContent.children().transition({\n                  animation: 'fade out',\n                  queue: false,\n                  useFailSafe: true,\n                  debug: settings.debug,\n                  verbose: settings.verbose,\n                  duration: settings.duration,\n                  skipInlineHidden: true\n                });\n              } else {\n                $activeContent.children().stop(true, true).animate({\n                  opacity: 0\n                }, settings.duration, module.resetOpacity);\n              }\n            }\n\n            $activeContent.slideUp(settings.duration, settings.easing, function () {\n              $activeContent.removeClass(className.animating).removeClass(className.active);\n              module.reset.display.call(this);\n              settings.onClose.call(this);\n              settings.onChange.call(this);\n            });\n          }\n        },\n        closeOthers: function (index) {\n          var $activeTitle = index !== undefined ? $title.eq(index) : $(this).closest(selector.title),\n              $parentTitles = $activeTitle.parents(selector.content).prev(selector.title),\n              $activeAccordion = $activeTitle.closest(selector.accordion),\n              activeSelector = selector.title + '.' + className.active + ':visible',\n              activeContent = selector.content + '.' + className.active + ':visible',\n              $openTitles,\n              $nestedTitles,\n              $openContents;\n\n          if (settings.closeNested) {\n            $openTitles = $activeAccordion.find(activeSelector).not($parentTitles);\n            $openContents = $openTitles.next($content);\n          } else {\n            $openTitles = $activeAccordion.find(activeSelector).not($parentTitles);\n            $nestedTitles = $activeAccordion.find(activeContent).find(activeSelector).not($parentTitles);\n            $openTitles = $openTitles.not($nestedTitles);\n            $openContents = $openTitles.next($content);\n          }\n\n          if ($openTitles.length > 0) {\n            module.debug('Exclusive enabled, closing other content', $openTitles);\n            $openTitles.removeClass(className.active);\n            $openContents.removeClass(className.animating).stop(true, true);\n\n            if (settings.animateChildren) {\n              if ($.fn.transition !== undefined && $module.transition('is supported')) {\n                $openContents.children().transition({\n                  animation: 'fade out',\n                  useFailSafe: true,\n                  debug: settings.debug,\n                  verbose: settings.verbose,\n                  duration: settings.duration,\n                  skipInlineHidden: true\n                });\n              } else {\n                $openContents.children().stop(true, true).animate({\n                  opacity: 0\n                }, settings.duration, module.resetOpacity);\n              }\n            }\n\n            $openContents.slideUp(settings.duration, settings.easing, function () {\n              $(this).removeClass(className.active);\n              module.reset.display.call(this);\n            });\n          }\n        },\n        reset: {\n          display: function () {\n            module.verbose('Removing inline display from element', this);\n            $(this).css('display', '');\n\n            if ($(this).attr('style') === '') {\n              $(this).attr('style', '').removeAttr('style');\n            }\n          },\n          opacity: function () {\n            module.verbose('Removing inline opacity from element', this);\n            $(this).css('opacity', '');\n\n            if ($(this).attr('style') === '') {\n              $(this).attr('style', '').removeAttr('style');\n            }\n          }\n        },\n        setting: function (name, value) {\n          module.debug('Changing setting', name, value);\n\n          if ($.isPlainObject(name)) {\n            $.extend(true, settings, name);\n          } else if (value !== undefined) {\n            if ($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            } else {\n              settings[name] = value;\n            }\n          } else {\n            return settings[name];\n          }\n        },\n        internal: function (name, value) {\n          module.debug('Changing internal', name, value);\n\n          if (value !== undefined) {\n            if ($.isPlainObject(name)) {\n              $.extend(true, module, name);\n            } else {\n              module[name] = value;\n            }\n          } else {\n            return module[name];\n          }\n        },\n        debug: function () {\n          if (!settings.silent && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function () {\n          if (!settings.silent && settings.verbose && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function () {\n          if (!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function (message) {\n            var currentTime, executionTime, previousTime;\n\n            if (settings.performance) {\n              currentTime = new Date().getTime();\n              previousTime = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time = currentTime;\n              performance.push({\n                'Name': message[0],\n                'Arguments': [].slice.call(message, 1) || '',\n                'Element': element,\n                'Execution Time': executionTime\n              });\n            }\n\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function () {\n            var title = settings.name + ':',\n                totalTime = 0;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function (index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n\n            if (moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n\n            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n\n              if (console.table) {\n                console.table(performance);\n              } else {\n                $.each(performance, function (index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');\n                });\n              }\n\n              console.groupEnd();\n            }\n\n            performance = [];\n          }\n        },\n        invoke: function (query, passedArguments, context) {\n          var object = instance,\n              maxDepth,\n              found,\n              response;\n          passedArguments = passedArguments || queryArguments;\n          context = element || context;\n\n          if (typeof query == 'string' && object !== undefined) {\n            query = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function (depth, value) {\n              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;\n\n              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {\n                object = object[camelCaseValue];\n              } else if (object[camelCaseValue] !== undefined) {\n                found = object[camelCaseValue];\n                return false;\n              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {\n                object = object[value];\n              } else if (object[value] !== undefined) {\n                found = object[value];\n                return false;\n              } else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n\n          if ($.isFunction(found)) {\n            response = found.apply(context, passedArguments);\n          } else if (found !== undefined) {\n            response = found;\n          }\n\n          if (Array.isArray(returnedValue)) {\n            returnedValue.push(response);\n          } else if (returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          } else if (response !== undefined) {\n            returnedValue = response;\n          }\n\n          return found;\n        }\n      };\n\n      if (methodInvoked) {\n        if (instance === undefined) {\n          module.initialize();\n        }\n\n        module.invoke(query);\n      } else {\n        if (instance !== undefined) {\n          instance.invoke('destroy');\n        }\n\n        module.initialize();\n      }\n    });\n    return returnedValue !== undefined ? returnedValue : this;\n  };\n\n  $.fn.accordion.settings = {\n    name: 'Accordion',\n    namespace: 'accordion',\n    silent: false,\n    debug: false,\n    verbose: false,\n    performance: true,\n    on: 'click',\n    // event on title that opens accordion\n    observeChanges: true,\n    // whether accordion should automatically refresh on DOM insertion\n    exclusive: true,\n    // whether a single accordion content panel should be open at once\n    collapsible: true,\n    // whether accordion content can be closed\n    closeNested: false,\n    // whether nested content should be closed when a panel is closed\n    animateChildren: true,\n    // whether children opacity should be animated\n    duration: 350,\n    // duration of animation\n    easing: 'easeOutQuad',\n    // easing equation for animation\n    onOpening: function () {},\n    // callback before open animation\n    onClosing: function () {},\n    // callback before closing animation\n    onChanging: function () {},\n    // callback before closing or opening animation\n    onOpen: function () {},\n    // callback after open animation\n    onClose: function () {},\n    // callback after closing animation\n    onChange: function () {},\n    // callback after closing or opening animation\n    error: {\n      method: 'The method you called is not defined'\n    },\n    className: {\n      active: 'active',\n      animating: 'animating',\n      transition: 'transition'\n    },\n    selector: {\n      accordion: '.accordion',\n      title: '.title',\n      trigger: '.title',\n      content: '.content'\n    }\n  }; // Adds easing\n\n  $.extend($.easing, {\n    easeOutQuad: function (x, t, b, c, d) {\n      return -c * (t /= d) * (t - 2) + b;\n    }\n  });\n})(jQuery, window, document);\n/*!\n * # Fomantic-UI 2.8.8 - Calendar\n * http://github.com/fomantic/Fomantic-UI/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n\n;\n\n(function ($, window, document, undefined) {\n  'use strict';\n\n  $.isFunction = $.isFunction || function (obj) {\n    return typeof obj === \"function\" && typeof obj.nodeType !== \"number\";\n  };\n\n  window = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\n\n  $.fn.calendar = function (parameters) {\n    var $allModules = $(this),\n        moduleSelector = $allModules.selector || '',\n        time = new Date().getTime(),\n        performance = [],\n        query = arguments[0],\n        methodInvoked = typeof query == 'string',\n        queryArguments = [].slice.call(arguments, 1),\n        returnedValue,\n        timeGapTable = {\n      '5': {\n        'row': 4,\n        'column': 3\n      },\n      '10': {\n        'row': 3,\n        'column': 2\n      },\n      '15': {\n        'row': 2,\n        'column': 2\n      },\n      '20': {\n        'row': 3,\n        'column': 1\n      },\n      '30': {\n        'row': 2,\n        'column': 1\n      }\n    },\n        numberText = ['', 'one', 'two', 'three', 'four', 'five', 'six', 'seven', 'eight'];\n    $allModules.each(function () {\n      var settings = $.isPlainObject(parameters) ? $.extend(true, {}, $.fn.calendar.settings, parameters) : $.extend({}, $.fn.calendar.settings),\n          className = settings.className,\n          namespace = settings.namespace,\n          selector = settings.selector,\n          formatter = settings.formatter,\n          parser = settings.parser,\n          metadata = settings.metadata,\n          timeGap = timeGapTable[settings.minTimeGap],\n          error = settings.error,\n          eventNamespace = '.' + namespace,\n          moduleNamespace = 'module-' + namespace,\n          $module = $(this),\n          $input = $module.find(selector.input),\n          $container = $module.find(selector.popup),\n          $activator = $module.find(selector.activator),\n          element = this,\n          instance = $module.data(moduleNamespace),\n          isTouch,\n          isTouchDown = false,\n          isInverted = $module.hasClass(className.inverted),\n          focusDateUsedForRange = false,\n          selectionComplete = false,\n          classObserver,\n          module;\n      module = {\n        initialize: function () {\n          module.debug('Initializing calendar for', element, $module);\n          isTouch = module.get.isTouch();\n          module.setup.config();\n          module.setup.popup();\n          module.setup.inline();\n          module.setup.input();\n          module.setup.date();\n          module.create.calendar();\n          module.bind.events();\n          module.observeChanges();\n          module.instantiate();\n        },\n        instantiate: function () {\n          module.verbose('Storing instance of calendar');\n          instance = module;\n          $module.data(moduleNamespace, instance);\n        },\n        destroy: function () {\n          module.verbose('Destroying previous calendar for', element);\n          $module.removeData(moduleNamespace);\n          module.unbind.events();\n          module.disconnect.classObserver();\n        },\n        setup: {\n          config: function () {\n            if (module.get.minDate() !== null) {\n              module.set.minDate($module.data(metadata.minDate));\n            }\n\n            if (module.get.maxDate() !== null) {\n              module.set.maxDate($module.data(metadata.maxDate));\n            }\n\n            module.setting('type', module.get.type());\n            module.setting('on', settings.on || ($input.length ? 'focus' : 'click'));\n          },\n          popup: function () {\n            if (settings.inline) {\n              return;\n            }\n\n            if (!$activator.length) {\n              $activator = $module.children().first();\n\n              if (!$activator.length) {\n                return;\n              }\n            }\n\n            if ($.fn.popup === undefined) {\n              module.error(error.popup);\n              return;\n            }\n\n            if (!$container.length) {\n              //prepend the popup element to the activator's parent so that it has less chance of messing with\n              //the styling (eg input action button needs to be the last child to have correct border radius)\n              var $activatorParent = $activator.parent(),\n                  domPositionFunction = $activatorParent.closest(selector.append).length !== 0 ? 'appendTo' : 'prependTo';\n              $container = $('<div/>').addClass(className.popup)[domPositionFunction]($activatorParent);\n            }\n\n            $container.addClass(className.calendar);\n\n            if (isInverted) {\n              $container.addClass(className.inverted);\n            }\n\n            var onVisible = function () {\n              module.refreshTooltips();\n              return settings.onVisible.apply($container, arguments);\n            };\n\n            var onHidden = settings.onHidden;\n\n            if (!$input.length) {\n              //no input, $container has to handle focus/blur\n              $container.attr('tabindex', '0');\n\n              onVisible = function () {\n                module.refreshTooltips();\n                module.focus();\n                return settings.onVisible.apply($container, arguments);\n              };\n\n              onHidden = function () {\n                module.blur();\n                return settings.onHidden.apply($container, arguments);\n              };\n            }\n\n            var onShow = function () {\n              //reset the focus date onShow\n              module.set.focusDate(module.get.date());\n              module.set.mode(module.get.validatedMode(settings.startMode));\n              return settings.onShow.apply($container, arguments);\n            };\n\n            var on = module.setting('on');\n            var options = $.extend({}, settings.popupOptions, {\n              popup: $container,\n              on: on,\n              hoverable: on === 'hover',\n              closable: on === 'click',\n              onShow: onShow,\n              onVisible: onVisible,\n              onHide: settings.onHide,\n              onHidden: onHidden\n            });\n            module.popup(options);\n          },\n          inline: function () {\n            if ($activator.length && !settings.inline) {\n              return;\n            }\n\n            settings.inline = true;\n            $container = $('<div/>').addClass(className.calendar).appendTo($module);\n\n            if (!$input.length) {\n              $container.attr('tabindex', '0');\n            }\n          },\n          input: function () {\n            if (settings.touchReadonly && $input.length && isTouch) {\n              $input.prop('readonly', true);\n            }\n\n            module.check.disabled();\n          },\n          date: function () {\n            var date;\n\n            if (settings.initialDate) {\n              date = parser.date(settings.initialDate, settings);\n            } else if ($module.data(metadata.date) !== undefined) {\n              date = parser.date($module.data(metadata.date), settings);\n            } else if ($input.length) {\n              date = parser.date($input.val(), settings);\n            }\n\n            module.set.date(date, settings.formatInput, false);\n            module.set.mode(module.get.mode(), false);\n          }\n        },\n        trigger: {\n          change: function () {\n            var inputElement = $input[0];\n\n            if (inputElement) {\n              var events = document.createEvent('HTMLEvents');\n              module.verbose('Triggering native change event');\n              events.initEvent('change', true, false);\n              inputElement.dispatchEvent(events);\n            }\n          }\n        },\n        create: {\n          calendar: function () {\n            var i, r, c, p, row, cell, pageGrid;\n            var mode = module.get.mode(),\n                today = new Date(),\n                date = module.get.date(),\n                focusDate = module.get.focusDate(),\n                display = module.helper.dateInRange(focusDate || date || settings.initialDate || today);\n\n            if (!focusDate) {\n              focusDate = display;\n              module.set.focusDate(focusDate, false, false);\n            }\n\n            var isYear = mode === 'year',\n                isMonth = mode === 'month',\n                isDay = mode === 'day',\n                isHour = mode === 'hour',\n                isMinute = mode === 'minute',\n                isTimeOnly = settings.type === 'time';\n            var multiMonth = Math.max(settings.multiMonth, 1);\n            var monthOffset = !isDay ? 0 : module.get.monthOffset();\n            var minute = display.getMinutes(),\n                hour = display.getHours(),\n                day = display.getDate(),\n                startMonth = display.getMonth() + monthOffset,\n                year = display.getFullYear();\n            var columns = isDay ? settings.showWeekNumbers ? 8 : 7 : isHour ? 4 : timeGap['column'];\n            var rows = isDay || isHour ? 6 : timeGap['row'];\n            var pages = isDay ? multiMonth : 1;\n            var container = $container;\n            var tooltipPosition = container.hasClass(\"left\") ? \"right center\" : \"left center\";\n            container.empty();\n\n            if (pages > 1) {\n              pageGrid = $('<div/>').addClass(className.grid).appendTo(container);\n            }\n\n            for (p = 0; p < pages; p++) {\n              if (pages > 1) {\n                var pageColumn = $('<div/>').addClass(className.column).appendTo(pageGrid);\n                container = pageColumn;\n              }\n\n              var month = startMonth + p;\n              var firstMonthDayColumn = (new Date(year, month, 1).getDay() - settings.firstDayOfWeek % 7 + 7) % 7;\n\n              if (!settings.constantHeight && isDay) {\n                var requiredCells = new Date(year, month + 1, 0).getDate() + firstMonthDayColumn;\n                rows = Math.ceil(requiredCells / 7);\n              }\n\n              var yearChange = isYear ? 10 : isMonth ? 1 : 0,\n                  monthChange = isDay ? 1 : 0,\n                  dayChange = isHour || isMinute ? 1 : 0,\n                  prevNextDay = isHour || isMinute ? day : 1,\n                  prevDate = new Date(year - yearChange, month - monthChange, prevNextDay - dayChange, hour),\n                  nextDate = new Date(year + yearChange, month + monthChange, prevNextDay + dayChange, hour),\n                  prevLast = isYear ? new Date(Math.ceil(year / 10) * 10 - 9, 0, 0) : isMonth ? new Date(year, 0, 0) : isDay ? new Date(year, month, 0) : new Date(year, month, day, -1),\n                  nextFirst = isYear ? new Date(Math.ceil(year / 10) * 10 + 1, 0, 1) : isMonth ? new Date(year + 1, 0, 1) : isDay ? new Date(year, month + 1, 1) : new Date(year, month, day + 1);\n              var tempMode = mode;\n\n              if (isDay && settings.showWeekNumbers) {\n                tempMode += ' andweek';\n              }\n\n              var table = $('<table/>').addClass(className.table).addClass(tempMode).addClass(numberText[columns] + ' column').appendTo(container);\n\n              if (isInverted) {\n                table.addClass(className.inverted);\n              }\n\n              var textColumns = columns; //no header for time-only mode\n\n              if (!isTimeOnly) {\n                var thead = $('<thead/>').appendTo(table);\n                row = $('<tr/>').appendTo(thead);\n                cell = $('<th/>').attr('colspan', '' + columns).appendTo(row);\n                var headerDate = isYear || isMonth ? new Date(year, 0, 1) : isDay ? new Date(year, month, 1) : new Date(year, month, day, hour, minute);\n                var headerText = $('<span/>').addClass(className.link).appendTo(cell);\n                headerText.text(formatter.header(headerDate, mode, settings));\n                var newMode = isMonth ? settings.disableYear ? 'day' : 'year' : isDay ? settings.disableMonth ? 'year' : 'month' : 'day';\n                headerText.data(metadata.mode, newMode);\n\n                if (p === 0) {\n                  var prev = $('<span/>').addClass(className.prev).appendTo(cell);\n                  prev.data(metadata.focusDate, prevDate);\n                  prev.toggleClass(className.disabledCell, !module.helper.isDateInRange(prevLast, mode));\n                  $('<i/>').addClass(className.prevIcon).appendTo(prev);\n                }\n\n                if (p === pages - 1) {\n                  var next = $('<span/>').addClass(className.next).appendTo(cell);\n                  next.data(metadata.focusDate, nextDate);\n                  next.toggleClass(className.disabledCell, !module.helper.isDateInRange(nextFirst, mode));\n                  $('<i/>').addClass(className.nextIcon).appendTo(next);\n                }\n\n                if (isDay) {\n                  row = $('<tr/>').appendTo(thead);\n\n                  if (settings.showWeekNumbers) {\n                    cell = $('<th/>').appendTo(row);\n                    cell.text(settings.text.weekNo);\n                    cell.addClass(className.weekCell);\n                    textColumns--;\n                  }\n\n                  for (i = 0; i < textColumns; i++) {\n                    cell = $('<th/>').appendTo(row);\n                    cell.text(formatter.dayColumnHeader((i + settings.firstDayOfWeek) % 7, settings));\n                  }\n                }\n              }\n\n              var tbody = $('<tbody/>').appendTo(table);\n              i = isYear ? Math.ceil(year / 10) * 10 - 9 : isDay ? 1 - firstMonthDayColumn : 0;\n\n              for (r = 0; r < rows; r++) {\n                row = $('<tr/>').appendTo(tbody);\n\n                if (isDay && settings.showWeekNumbers) {\n                  cell = $('<th/>').appendTo(row);\n                  cell.text(module.get.weekOfYear(year, month, i + 1 - settings.firstDayOfWeek));\n                  cell.addClass(className.weekCell);\n                }\n\n                for (c = 0; c < textColumns; c++, i++) {\n                  var cellDate = isYear ? new Date(i, month, 1, hour, minute) : isMonth ? new Date(year, i, 1, hour, minute) : isDay ? new Date(year, month, i, hour, minute) : isHour ? new Date(year, month, day, i) : new Date(year, month, day, hour, i * settings.minTimeGap);\n                  var cellText = isYear ? i : isMonth ? settings.text.monthsShort[i] : isDay ? cellDate.getDate() : formatter.time(cellDate, settings, true);\n                  cell = $('<td/>').addClass(className.cell).appendTo(row);\n                  cell.text(cellText);\n                  cell.data(metadata.date, cellDate);\n                  var adjacent = isDay && cellDate.getMonth() !== (month + 12) % 12;\n                  var disabled = !settings.selectAdjacentDays && adjacent || !module.helper.isDateInRange(cellDate, mode) || settings.isDisabled(cellDate, mode) || module.helper.isDisabled(cellDate, mode) || !module.helper.isEnabled(cellDate, mode);\n                  var eventDate;\n\n                  if (disabled) {\n                    var disabledDate = module.helper.findDayAsObject(cellDate, mode, settings.disabledDates);\n\n                    if (disabledDate !== null && disabledDate[metadata.message]) {\n                      cell.attr(\"data-tooltip\", disabledDate[metadata.message]);\n                      cell.attr(\"data-position\", disabledDate[metadata.position] || tooltipPosition);\n\n                      if (disabledDate[metadata.inverted] || isInverted && disabledDate[metadata.inverted] === undefined) {\n                        cell.attr(\"data-inverted\", '');\n                      }\n\n                      if (disabledDate[metadata.variation]) {\n                        cell.attr(\"data-variation\", disabledDate[metadata.variation]);\n                      }\n                    }\n                  } else {\n                    eventDate = module.helper.findDayAsObject(cellDate, mode, settings.eventDates);\n\n                    if (eventDate !== null) {\n                      cell.addClass(eventDate[metadata.class] || settings.eventClass);\n\n                      if (eventDate[metadata.message]) {\n                        cell.attr(\"data-tooltip\", eventDate[metadata.message]);\n                        cell.attr(\"data-position\", eventDate[metadata.position] || tooltipPosition);\n\n                        if (eventDate[metadata.inverted] || isInverted && eventDate[metadata.inverted] === undefined) {\n                          cell.attr(\"data-inverted\", '');\n                        }\n\n                        if (eventDate[metadata.variation]) {\n                          cell.attr(\"data-variation\", eventDate[metadata.variation]);\n                        }\n                      }\n                    }\n                  }\n\n                  var active = module.helper.dateEqual(cellDate, date, mode);\n                  var isToday = module.helper.dateEqual(cellDate, today, mode);\n                  cell.toggleClass(className.adjacentCell, adjacent && !eventDate);\n                  cell.toggleClass(className.disabledCell, disabled);\n                  cell.toggleClass(className.activeCell, active && !(adjacent && disabled));\n\n                  if (!isHour && !isMinute) {\n                    cell.toggleClass(className.todayCell, !adjacent && isToday);\n                  } // Allow for external modifications of each cell\n\n\n                  var cellOptions = {\n                    mode: mode,\n                    adjacent: adjacent,\n                    disabled: disabled,\n                    active: active,\n                    today: isToday\n                  };\n                  formatter.cell(cell, cellDate, cellOptions);\n\n                  if (module.helper.dateEqual(cellDate, focusDate, mode)) {\n                    //ensure that the focus date is exactly equal to the cell date\n                    //so that, if selected, the correct value is set\n                    module.set.focusDate(cellDate, false, false);\n                  }\n                }\n              }\n\n              if (settings.today) {\n                var todayRow = $('<tr/>').appendTo(tbody);\n                var todayButton = $('<td/>').attr('colspan', '' + columns).addClass(className.today).appendTo(todayRow);\n                todayButton.text(formatter.today(settings));\n                todayButton.data(metadata.date, today);\n              }\n\n              module.update.focus(false, table);\n\n              if (settings.inline) {\n                module.refreshTooltips();\n              }\n            }\n          }\n        },\n        update: {\n          focus: function (updateRange, container) {\n            container = container || $container;\n            var mode = module.get.mode();\n            var date = module.get.date();\n            var focusDate = module.get.focusDate();\n            var startDate = module.get.startDate();\n            var endDate = module.get.endDate();\n            var rangeDate = (updateRange ? focusDate : null) || date || (!isTouch ? focusDate : null);\n            container.find('td').each(function () {\n              var cell = $(this);\n              var cellDate = cell.data(metadata.date);\n\n              if (!cellDate) {\n                return;\n              }\n\n              var disabled = cell.hasClass(className.disabledCell);\n              var active = cell.hasClass(className.activeCell);\n              var adjacent = cell.hasClass(className.adjacentCell);\n              var focused = module.helper.dateEqual(cellDate, focusDate, mode);\n              var inRange = !rangeDate ? false : !!startDate && module.helper.isDateInRange(cellDate, mode, startDate, rangeDate) || !!endDate && module.helper.isDateInRange(cellDate, mode, rangeDate, endDate);\n              cell.toggleClass(className.focusCell, focused && (!isTouch || isTouchDown) && (!adjacent || settings.selectAdjacentDays && adjacent) && !disabled);\n\n              if (module.helper.isTodayButton(cell)) {\n                return;\n              }\n\n              cell.toggleClass(className.rangeCell, inRange && !active && !disabled);\n            });\n          }\n        },\n        refresh: function () {\n          module.create.calendar();\n        },\n        refreshTooltips: function () {\n          var winWidth = $(window).width();\n          $container.find('td[data-position]').each(function () {\n            var cell = $(this);\n            var tooltipWidth = window.getComputedStyle(cell[0], ':after').width.replace(/[^0-9\\.]/g, '');\n            var tooltipPosition = cell.attr('data-position'); // use a fallback width of 250 (calendar width) for IE/Edge (which return \"auto\")\n\n            var calcPosition = winWidth - cell.width() - (parseInt(tooltipWidth, 10) || 250) > cell.offset().left ? 'right' : 'left';\n\n            if (tooltipPosition.indexOf(calcPosition) === -1) {\n              cell.attr('data-position', tooltipPosition.replace(/(left|right)/, calcPosition));\n            }\n          });\n        },\n        bind: {\n          events: function () {\n            module.debug('Binding events');\n            $container.on('mousedown' + eventNamespace, module.event.mousedown);\n            $container.on('touchstart' + eventNamespace, module.event.mousedown);\n            $container.on('mouseup' + eventNamespace, module.event.mouseup);\n            $container.on('touchend' + eventNamespace, module.event.mouseup);\n            $container.on('mouseover' + eventNamespace, module.event.mouseover);\n\n            if ($input.length) {\n              $input.on('input' + eventNamespace, module.event.inputChange);\n              $input.on('focus' + eventNamespace, module.event.inputFocus);\n              $input.on('blur' + eventNamespace, module.event.inputBlur);\n              $input.on('keydown' + eventNamespace, module.event.keydown);\n            } else {\n              $container.on('keydown' + eventNamespace, module.event.keydown);\n            }\n          }\n        },\n        unbind: {\n          events: function () {\n            module.debug('Unbinding events');\n            $container.off(eventNamespace);\n\n            if ($input.length) {\n              $input.off(eventNamespace);\n            }\n          }\n        },\n        event: {\n          mouseover: function (event) {\n            var target = $(event.target);\n            var date = target.data(metadata.date);\n            var mousedown = event.buttons === 1;\n\n            if (date) {\n              module.set.focusDate(date, false, true, mousedown);\n            }\n          },\n          mousedown: function (event) {\n            if ($input.length) {\n              //prevent the mousedown on the calendar causing the input to lose focus\n              event.preventDefault();\n            }\n\n            isTouchDown = event.type.indexOf('touch') >= 0;\n            var target = $(event.target);\n            var date = target.data(metadata.date);\n\n            if (date) {\n              module.set.focusDate(date, false, true, true);\n            }\n          },\n          mouseup: function (event) {\n            //ensure input has focus so that it receives keydown events for calendar navigation\n            module.focus();\n            event.preventDefault();\n            event.stopPropagation();\n            isTouchDown = false;\n            var target = $(event.target);\n\n            if (target.hasClass(\"disabled\")) {\n              return;\n            }\n\n            var parent = target.parent();\n\n            if (parent.data(metadata.date) || parent.data(metadata.focusDate) || parent.data(metadata.mode)) {\n              //clicked on a child element, switch to parent (used when clicking directly on prev/next <i> icon element)\n              target = parent;\n            }\n\n            var date = target.data(metadata.date);\n            var focusDate = target.data(metadata.focusDate);\n            var mode = target.data(metadata.mode);\n\n            if (date && settings.onSelect.call(element, date, module.get.mode()) !== false) {\n              var forceSet = target.hasClass(className.today);\n              module.selectDate(date, forceSet);\n            } else if (focusDate) {\n              module.set.focusDate(focusDate);\n            } else if (mode) {\n              module.set.mode(mode);\n            }\n          },\n          keydown: function (event) {\n            var keyCode = event.which;\n\n            if (keyCode === 27 || keyCode === 9) {\n              //esc || tab\n              module.popup('hide');\n            }\n\n            if (module.popup('is visible')) {\n              if (keyCode === 37 || keyCode === 38 || keyCode === 39 || keyCode === 40) {\n                //arrow keys\n                var mode = module.get.mode();\n                var bigIncrement = mode === 'day' ? 7 : mode === 'hour' ? 4 : mode === 'minute' ? timeGap['column'] : 3;\n                var increment = keyCode === 37 ? -1 : keyCode === 38 ? -bigIncrement : keyCode == 39 ? 1 : bigIncrement;\n                increment *= mode === 'minute' ? settings.minTimeGap : 1;\n                var focusDate = module.get.focusDate() || module.get.date() || new Date();\n                var year = focusDate.getFullYear() + (mode === 'year' ? increment : 0);\n                var month = focusDate.getMonth() + (mode === 'month' ? increment : 0);\n                var day = focusDate.getDate() + (mode === 'day' ? increment : 0);\n                var hour = focusDate.getHours() + (mode === 'hour' ? increment : 0);\n                var minute = focusDate.getMinutes() + (mode === 'minute' ? increment : 0);\n                var newFocusDate = new Date(year, month, day, hour, minute);\n\n                if (settings.type === 'time') {\n                  newFocusDate = module.helper.mergeDateTime(focusDate, newFocusDate);\n                }\n\n                if (module.helper.isDateInRange(newFocusDate, mode)) {\n                  module.set.focusDate(newFocusDate);\n                }\n              } else if (keyCode === 13) {\n                //enter\n                var mode = module.get.mode();\n                var date = module.get.focusDate();\n\n                if (date && !settings.isDisabled(date, mode) && !module.helper.isDisabled(date, mode) && module.helper.isEnabled(date, mode)) {\n                  module.selectDate(date);\n                } //disable form submission:\n\n\n                event.preventDefault();\n                event.stopPropagation();\n              }\n            }\n\n            if (keyCode === 38 || keyCode === 40) {\n              //arrow-up || arrow-down\n              event.preventDefault(); //don't scroll\n\n              module.popup('show');\n            }\n          },\n          inputChange: function () {\n            var val = $input.val();\n            var date = parser.date(val, settings);\n            module.set.date(date, false);\n          },\n          inputFocus: function () {\n            $container.addClass(className.active);\n          },\n          inputBlur: function () {\n            $container.removeClass(className.active);\n\n            if (settings.formatInput) {\n              var date = module.get.date();\n              var text = formatter.datetime(date, settings);\n              $input.val(text);\n            }\n\n            if (selectionComplete) {\n              module.trigger.change();\n              selectionComplete = false;\n            }\n          },\n          class: {\n            mutation: function (mutations) {\n              mutations.forEach(function (mutation) {\n                if (mutation.attributeName === \"class\") {\n                  module.check.disabled();\n                }\n              });\n            }\n          }\n        },\n        observeChanges: function () {\n          if ('MutationObserver' in window) {\n            classObserver = new MutationObserver(module.event.class.mutation);\n            module.debug('Setting up mutation observer', classObserver);\n            module.observe.class();\n          }\n        },\n        disconnect: {\n          classObserver: function () {\n            if ($input.length && classObserver) {\n              classObserver.disconnect();\n            }\n          }\n        },\n        observe: {\n          class: function () {\n            if ($input.length && classObserver) {\n              classObserver.observe($module[0], {\n                attributes: true\n              });\n            }\n          }\n        },\n        is: {\n          disabled: function () {\n            return $module.hasClass(className.disabled);\n          }\n        },\n        check: {\n          disabled: function () {\n            $input.attr('tabindex', module.is.disabled() ? -1 : 0);\n          }\n        },\n        get: {\n          weekOfYear: function (weekYear, weekMonth, weekDay) {\n            // adapted from http://www.merlyn.demon.co.uk/weekcalc.htm\n            var ms1d = 864e5,\n                // milliseconds in a day\n            ms7d = 7 * ms1d; // milliseconds in a week\n\n            return function () {\n              // return a closure so constants get calculated only once\n              var DC3 = Date.UTC(weekYear, weekMonth, weekDay + 3) / ms1d,\n                  // an Absolute Day Number\n              AWN = Math.floor(DC3 / 7),\n                  // an Absolute Week Number\n              Wyr = new Date(AWN * ms7d).getUTCFullYear();\n              return AWN - Math.floor(Date.UTC(Wyr, 0, 7) / ms7d) + 1;\n            }();\n          },\n          date: function () {\n            return module.helper.sanitiseDate($module.data(metadata.date)) || null;\n          },\n          inputDate: function () {\n            return $input.val();\n          },\n          focusDate: function () {\n            return $module.data(metadata.focusDate) || null;\n          },\n          startDate: function () {\n            var startModule = module.get.calendarModule(settings.startCalendar);\n            return (startModule ? startModule.get.date() : $module.data(metadata.startDate)) || null;\n          },\n          endDate: function () {\n            var endModule = module.get.calendarModule(settings.endCalendar);\n            return (endModule ? endModule.get.date() : $module.data(metadata.endDate)) || null;\n          },\n          minDate: function () {\n            return $module.data(metadata.minDate) || null;\n          },\n          maxDate: function () {\n            return $module.data(metadata.maxDate) || null;\n          },\n          monthOffset: function () {\n            return $module.data(metadata.monthOffset) || 0;\n          },\n          mode: function () {\n            //only returns valid modes for the current settings\n            var mode = $module.data(metadata.mode) || settings.startMode;\n            return module.get.validatedMode(mode);\n          },\n          validatedMode: function (mode) {\n            var validModes = module.get.validModes();\n\n            if ($.inArray(mode, validModes) >= 0) {\n              return mode;\n            }\n\n            return settings.type === 'time' ? 'hour' : settings.type === 'month' ? 'month' : settings.type === 'year' ? 'year' : 'day';\n          },\n          type: function () {\n            return $module.data(metadata.type) || settings.type;\n          },\n          validModes: function () {\n            var validModes = [];\n\n            if (settings.type !== 'time') {\n              if (!settings.disableYear || settings.type === 'year') {\n                validModes.push('year');\n              }\n\n              if (!(settings.disableMonth || settings.type === 'year') || settings.type === 'month') {\n                validModes.push('month');\n              }\n\n              if (settings.type.indexOf('date') >= 0) {\n                validModes.push('day');\n              }\n            }\n\n            if (settings.type.indexOf('time') >= 0) {\n              validModes.push('hour');\n\n              if (!settings.disableMinute) {\n                validModes.push('minute');\n              }\n            }\n\n            return validModes;\n          },\n          isTouch: function () {\n            try {\n              document.createEvent('TouchEvent');\n              return true;\n            } catch (e) {\n              return false;\n            }\n          },\n          calendarModule: function (selector) {\n            if (!selector) {\n              return null;\n            }\n\n            if (!(selector instanceof $)) {\n              selector = $(selector).first();\n            } //assume range related calendars are using the same namespace\n\n\n            return selector.data(moduleNamespace);\n          }\n        },\n        set: {\n          date: function (date, updateInput, fireChange) {\n            updateInput = updateInput !== false;\n            fireChange = fireChange !== false;\n            date = module.helper.sanitiseDate(date);\n            date = module.helper.dateInRange(date);\n            var mode = module.get.mode();\n            var text = formatter.datetime(date, settings);\n\n            if (fireChange && settings.onBeforeChange.call(element, date, text, mode) === false) {\n              return false;\n            }\n\n            module.set.focusDate(date);\n\n            if (settings.isDisabled(date, mode)) {\n              return false;\n            }\n\n            var endDate = module.get.endDate();\n\n            if (!!endDate && !!date && date > endDate) {\n              //selected date is greater than end date in range, so clear end date\n              module.set.endDate(undefined);\n            }\n\n            module.set.dataKeyValue(metadata.date, date);\n\n            if (updateInput && $input.length) {\n              $input.val(text);\n            }\n\n            if (fireChange) {\n              settings.onChange.call(element, date, text, mode);\n            }\n          },\n          startDate: function (date, refreshCalendar) {\n            date = module.helper.sanitiseDate(date);\n            var startModule = module.get.calendarModule(settings.startCalendar);\n\n            if (startModule) {\n              startModule.set.date(date);\n            }\n\n            module.set.dataKeyValue(metadata.startDate, date, refreshCalendar);\n          },\n          endDate: function (date, refreshCalendar) {\n            date = module.helper.sanitiseDate(date);\n            var endModule = module.get.calendarModule(settings.endCalendar);\n\n            if (endModule) {\n              endModule.set.date(date);\n            }\n\n            module.set.dataKeyValue(metadata.endDate, date, refreshCalendar);\n          },\n          focusDate: function (date, refreshCalendar, updateFocus, updateRange) {\n            date = module.helper.sanitiseDate(date);\n            date = module.helper.dateInRange(date);\n            var isDay = module.get.mode() === 'day';\n            var oldFocusDate = module.get.focusDate();\n\n            if (isDay && date && oldFocusDate) {\n              var yearDelta = date.getFullYear() - oldFocusDate.getFullYear();\n              var monthDelta = yearDelta * 12 + date.getMonth() - oldFocusDate.getMonth();\n\n              if (monthDelta) {\n                var monthOffset = module.get.monthOffset() - monthDelta;\n                module.set.monthOffset(monthOffset, false);\n              }\n            }\n\n            var changed = module.set.dataKeyValue(metadata.focusDate, date, !!date && refreshCalendar);\n            updateFocus = updateFocus !== false && changed && refreshCalendar === false || focusDateUsedForRange != updateRange;\n            focusDateUsedForRange = updateRange;\n\n            if (updateFocus) {\n              module.update.focus(updateRange);\n            }\n          },\n          minDate: function (date) {\n            date = module.helper.sanitiseDate(date);\n\n            if (settings.maxDate !== null && settings.maxDate <= date) {\n              module.verbose('Unable to set minDate variable bigger that maxDate variable', date, settings.maxDate);\n            } else {\n              module.setting('minDate', date);\n              module.set.dataKeyValue(metadata.minDate, date);\n            }\n          },\n          maxDate: function (date) {\n            date = module.helper.sanitiseDate(date);\n\n            if (settings.minDate !== null && settings.minDate >= date) {\n              module.verbose('Unable to set maxDate variable lower that minDate variable', date, settings.minDate);\n            } else {\n              module.setting('maxDate', date);\n              module.set.dataKeyValue(metadata.maxDate, date);\n            }\n          },\n          monthOffset: function (monthOffset, refreshCalendar) {\n            var multiMonth = Math.max(settings.multiMonth, 1);\n            monthOffset = Math.max(1 - multiMonth, Math.min(0, monthOffset));\n            module.set.dataKeyValue(metadata.monthOffset, monthOffset, refreshCalendar);\n          },\n          mode: function (mode, refreshCalendar) {\n            module.set.dataKeyValue(metadata.mode, mode, refreshCalendar);\n          },\n          dataKeyValue: function (key, value, refreshCalendar) {\n            var oldValue = $module.data(key);\n            var equal = oldValue === value || oldValue <= value && oldValue >= value; //equality test for dates and string objects\n\n            if (value) {\n              $module.data(key, value);\n            } else {\n              $module.removeData(key);\n            }\n\n            refreshCalendar = refreshCalendar !== false && !equal;\n\n            if (refreshCalendar) {\n              module.refresh();\n            }\n\n            return !equal;\n          }\n        },\n        selectDate: function (date, forceSet) {\n          module.verbose('New date selection', date);\n          var mode = module.get.mode();\n          var complete = forceSet || mode === 'minute' || settings.disableMinute && mode === 'hour' || settings.type === 'date' && mode === 'day' || settings.type === 'month' && mode === 'month' || settings.type === 'year' && mode === 'year';\n\n          if (complete) {\n            var canceled = module.set.date(date) === false;\n\n            if (!canceled) {\n              selectionComplete = true;\n\n              if (settings.closable) {\n                module.popup('hide'); //if this is a range calendar, focus the container or input. This will open the popup from its event listeners.\n\n                var endModule = module.get.calendarModule(settings.endCalendar);\n\n                if (endModule) {\n                  if (endModule.setting('on') !== 'focus') {\n                    endModule.popup('show');\n                  }\n\n                  endModule.focus();\n                }\n              }\n            }\n          } else {\n            var newMode = mode === 'year' ? !settings.disableMonth ? 'month' : 'day' : mode === 'month' ? 'day' : mode === 'day' ? 'hour' : 'minute';\n            module.set.mode(newMode);\n\n            if (mode === 'hour' || mode === 'day' && module.get.date()) {\n              //the user has chosen enough to consider a valid date/time has been chosen\n              module.set.date(date, true, false);\n            } else {\n              module.set.focusDate(date);\n            }\n          }\n        },\n        changeDate: function (date) {\n          module.set.date(date);\n        },\n        clear: function () {\n          module.set.date(undefined);\n        },\n        popup: function () {\n          return $activator.popup.apply($activator, arguments);\n        },\n        focus: function () {\n          if ($input.length) {\n            $input.focus();\n          } else {\n            $container.focus();\n          }\n        },\n        blur: function () {\n          if ($input.length) {\n            $input.blur();\n          } else {\n            $container.blur();\n          }\n        },\n        helper: {\n          isDisabled: function (date, mode) {\n            return (mode === 'day' || mode === 'month' || mode === 'year') && (mode === 'day' && settings.disabledDaysOfWeek.indexOf(date.getDay()) !== -1 || settings.disabledDates.some(function (d) {\n              if (typeof d === 'string') {\n                d = module.helper.sanitiseDate(d);\n              }\n\n              if (d instanceof Date) {\n                return module.helper.dateEqual(date, d, mode);\n              }\n\n              if (d !== null && typeof d === 'object') {\n                if (d[metadata.year]) {\n                  if (typeof d[metadata.year] === 'number') {\n                    return date.getFullYear() == d[metadata.year];\n                  } else if (Array.isArray(d[metadata.year])) {\n                    return d[metadata.year].indexOf(date.getFullYear()) > -1;\n                  }\n                } else if (d[metadata.month]) {\n                  if (typeof d[metadata.month] === 'number') {\n                    return date.getMonth() == d[metadata.month];\n                  } else if (Array.isArray(d[metadata.month])) {\n                    return d[metadata.month].indexOf(date.getMonth()) > -1;\n                  } else if (d[metadata.month] instanceof Date) {\n                    var sdate = module.helper.sanitiseDate(d[metadata.month]);\n                    return date.getMonth() == sdate.getMonth() && date.getFullYear() == sdate.getFullYear();\n                  }\n                } else if (d[metadata.date] && mode === 'day') {\n                  if (d[metadata.date] instanceof Date) {\n                    return module.helper.dateEqual(date, module.helper.sanitiseDate(d[metadata.date]), mode);\n                  } else if (Array.isArray(d[metadata.date])) {\n                    return d[metadata.date].some(function (idate) {\n                      return module.helper.dateEqual(date, idate, mode);\n                    });\n                  }\n                }\n              }\n            }));\n          },\n          isEnabled: function (date, mode) {\n            if (mode === 'day') {\n              return settings.enabledDates.length === 0 || settings.enabledDates.some(function (d) {\n                if (typeof d === 'string') {\n                  d = module.helper.sanitiseDate(d);\n                }\n\n                if (d instanceof Date) {\n                  return module.helper.dateEqual(date, d, mode);\n                }\n\n                if (d !== null && typeof d === 'object' && d[metadata.date]) {\n                  return module.helper.dateEqual(date, module.helper.sanitiseDate(d[metadata.date]), mode);\n                }\n              });\n            } else {\n              return true;\n            }\n          },\n          findDayAsObject: function (date, mode, dates) {\n            if (mode === 'day' || mode === 'month' || mode === 'year') {\n              var d;\n\n              for (var i = 0; i < dates.length; i++) {\n                d = dates[i];\n\n                if (typeof d === 'string') {\n                  d = module.helper.sanitiseDate(d);\n                }\n\n                if (d instanceof Date && module.helper.dateEqual(date, d, mode)) {\n                  var dateObject = {};\n                  dateObject[metadata.date] = d;\n                  return dateObject;\n                } else if (d !== null && typeof d === 'object') {\n                  if (d[metadata.year]) {\n                    if (typeof d[metadata.year] === 'number' && date.getFullYear() == d[metadata.year]) {\n                      return d;\n                    } else if (Array.isArray(d[metadata.year])) {\n                      if (d[metadata.year].indexOf(date.getFullYear()) > -1) {\n                        return d;\n                      }\n                    }\n                  } else if (d[metadata.month]) {\n                    if (typeof d[metadata.month] === 'number' && date.getMonth() == d[metadata.month]) {\n                      return d;\n                    } else if (Array.isArray(d[metadata.month])) {\n                      if (d[metadata.month].indexOf(date.getMonth()) > -1) {\n                        return d;\n                      }\n                    } else if (d[metadata.month] instanceof Date) {\n                      var sdate = module.helper.sanitiseDate(d[metadata.month]);\n\n                      if (date.getMonth() == sdate.getMonth() && date.getFullYear() == sdate.getFullYear()) {\n                        return d;\n                      }\n                    }\n                  } else if (d[metadata.date] && mode === 'day') {\n                    if (d[metadata.date] instanceof Date && module.helper.dateEqual(date, module.helper.sanitiseDate(d[metadata.date]), mode)) {\n                      return d;\n                    } else if (Array.isArray(d[metadata.date])) {\n                      if (d[metadata.date].some(function (idate) {\n                        return module.helper.dateEqual(date, idate, mode);\n                      })) {\n                        return d;\n                      }\n                    }\n                  }\n                }\n              }\n            }\n\n            return null;\n          },\n          sanitiseDate: function (date) {\n            if (!(date instanceof Date)) {\n              date = parser.date('' + date, settings);\n            }\n\n            if (!date || isNaN(date.getTime())) {\n              return null;\n            }\n\n            return date;\n          },\n          dateDiff: function (date1, date2, mode) {\n            mode = mode || 'day';\n            var isTimeOnly = settings.type === 'time';\n            var isYear = mode === 'year';\n            var isYearOrMonth = isYear || mode === 'month';\n            var isMinute = mode === 'minute';\n            var isHourOrMinute = isMinute || mode === 'hour'; //only care about a minute accuracy of settings.minTimeGap\n\n            date1 = new Date(isTimeOnly ? 2000 : date1.getFullYear(), isTimeOnly ? 0 : isYear ? 0 : date1.getMonth(), isTimeOnly ? 1 : isYearOrMonth ? 1 : date1.getDate(), !isHourOrMinute ? 0 : date1.getHours(), !isMinute ? 0 : settings.minTimeGap * Math.floor(date1.getMinutes() / settings.minTimeGap));\n            date2 = new Date(isTimeOnly ? 2000 : date2.getFullYear(), isTimeOnly ? 0 : isYear ? 0 : date2.getMonth(), isTimeOnly ? 1 : isYearOrMonth ? 1 : date2.getDate(), !isHourOrMinute ? 0 : date2.getHours(), !isMinute ? 0 : settings.minTimeGap * Math.floor(date2.getMinutes() / settings.minTimeGap));\n            return date2.getTime() - date1.getTime();\n          },\n          dateEqual: function (date1, date2, mode) {\n            return !!date1 && !!date2 && module.helper.dateDiff(date1, date2, mode) === 0;\n          },\n          isDateInRange: function (date, mode, minDate, maxDate) {\n            if (!minDate && !maxDate) {\n              var startDate = module.get.startDate();\n              minDate = startDate && settings.minDate ? new Date(Math.max(startDate, settings.minDate)) : startDate || settings.minDate;\n              maxDate = settings.maxDate;\n            }\n\n            minDate = minDate && new Date(minDate.getFullYear(), minDate.getMonth(), minDate.getDate(), minDate.getHours(), settings.minTimeGap * Math.ceil(minDate.getMinutes() / settings.minTimeGap));\n            return !(!date || minDate && module.helper.dateDiff(date, minDate, mode) > 0 || maxDate && module.helper.dateDiff(maxDate, date, mode) > 0);\n          },\n          dateInRange: function (date, minDate, maxDate) {\n            if (!minDate && !maxDate) {\n              var startDate = module.get.startDate();\n              minDate = startDate && settings.minDate ? new Date(Math.max(startDate, settings.minDate)) : startDate || settings.minDate;\n              maxDate = settings.maxDate;\n            }\n\n            minDate = minDate && new Date(minDate.getFullYear(), minDate.getMonth(), minDate.getDate(), minDate.getHours(), settings.minTimeGap * Math.ceil(minDate.getMinutes() / settings.minTimeGap));\n            var isTimeOnly = settings.type === 'time';\n            return !date ? date : minDate && module.helper.dateDiff(date, minDate, 'minute') > 0 ? isTimeOnly ? module.helper.mergeDateTime(date, minDate) : minDate : maxDate && module.helper.dateDiff(maxDate, date, 'minute') > 0 ? isTimeOnly ? module.helper.mergeDateTime(date, maxDate) : maxDate : date;\n          },\n          mergeDateTime: function (date, time) {\n            return !date || !time ? time : new Date(date.getFullYear(), date.getMonth(), date.getDate(), time.getHours(), time.getMinutes());\n          },\n          isTodayButton: function (element) {\n            return element.text() === settings.text.today;\n          }\n        },\n        setting: function (name, value) {\n          module.debug('Changing setting', name, value);\n\n          if ($.isPlainObject(name)) {\n            $.extend(true, settings, name);\n          } else if (value !== undefined) {\n            if ($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            } else {\n              settings[name] = value;\n            }\n          } else {\n            return settings[name];\n          }\n        },\n        internal: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, module, name);\n          } else if (value !== undefined) {\n            module[name] = value;\n          } else {\n            return module[name];\n          }\n        },\n        debug: function () {\n          if (!settings.silent && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function () {\n          if (!settings.silent && settings.verbose && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function () {\n          if (!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function (message) {\n            var currentTime, executionTime, previousTime;\n\n            if (settings.performance) {\n              currentTime = new Date().getTime();\n              previousTime = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time = currentTime;\n              performance.push({\n                'Name': message[0],\n                'Arguments': [].slice.call(message, 1) || '',\n                'Element': element,\n                'Execution Time': executionTime\n              });\n            }\n\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function () {\n            var title = settings.name + ':',\n                totalTime = 0;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function (index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n\n            if (moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n\n            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n\n              if (console.table) {\n                console.table(performance);\n              } else {\n                $.each(performance, function (index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');\n                });\n              }\n\n              console.groupEnd();\n            }\n\n            performance = [];\n          }\n        },\n        invoke: function (query, passedArguments, context) {\n          var object = instance,\n              maxDepth,\n              found,\n              response;\n          passedArguments = passedArguments || queryArguments;\n          context = element || context;\n\n          if (typeof query == 'string' && object !== undefined) {\n            query = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function (depth, value) {\n              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;\n\n              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {\n                object = object[camelCaseValue];\n              } else if (object[camelCaseValue] !== undefined) {\n                found = object[camelCaseValue];\n                return false;\n              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {\n                object = object[value];\n              } else if (object[value] !== undefined) {\n                found = object[value];\n                return false;\n              } else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n\n          if ($.isFunction(found)) {\n            response = found.apply(context, passedArguments);\n          } else if (found !== undefined) {\n            response = found;\n          }\n\n          if (Array.isArray(returnedValue)) {\n            returnedValue.push(response);\n          } else if (returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          } else if (response !== undefined) {\n            returnedValue = response;\n          }\n\n          return found;\n        }\n      };\n\n      if (methodInvoked) {\n        if (instance === undefined) {\n          module.initialize();\n        }\n\n        module.invoke(query);\n      } else {\n        if (instance !== undefined) {\n          instance.invoke('destroy');\n        }\n\n        module.initialize();\n      }\n    });\n    return returnedValue !== undefined ? returnedValue : this;\n  };\n\n  $.fn.calendar.settings = {\n    name: 'Calendar',\n    namespace: 'calendar',\n    silent: false,\n    debug: false,\n    verbose: false,\n    performance: false,\n    type: 'datetime',\n    // picker type, can be 'datetime', 'date', 'time', 'month', or 'year'\n    firstDayOfWeek: 0,\n    // day for first day column (0 = Sunday)\n    constantHeight: true,\n    // add rows to shorter months to keep day calendar height consistent (6 rows)\n    today: false,\n    // show a 'today/now' button at the bottom of the calendar\n    closable: true,\n    // close the popup after selecting a date/time\n    monthFirst: true,\n    // month before day when parsing/converting date from/to text\n    touchReadonly: true,\n    // set input to readonly on touch devices\n    inline: false,\n    // create the calendar inline instead of inside a popup\n    on: null,\n    // when to show the popup (defaults to 'focus' for input, 'click' for others)\n    initialDate: null,\n    // date to display initially when no date is selected (null = now)\n    startMode: false,\n    // display mode to start in, can be 'year', 'month', 'day', 'hour', 'minute' (false = 'day')\n    minDate: null,\n    // minimum date/time that can be selected, dates/times before are disabled\n    maxDate: null,\n    // maximum date/time that can be selected, dates/times after are disabled\n    ampm: true,\n    // show am/pm in time mode\n    disableYear: false,\n    // disable year selection mode\n    disableMonth: false,\n    // disable month selection mode\n    disableMinute: false,\n    // disable minute selection mode\n    formatInput: true,\n    // format the input text upon input blur and module creation\n    startCalendar: null,\n    // jquery object or selector for another calendar that represents the start date of a date range\n    endCalendar: null,\n    // jquery object or selector for another calendar that represents the end date of a date range\n    multiMonth: 1,\n    // show multiple months when in 'day' mode\n    minTimeGap: 5,\n    showWeekNumbers: null,\n    // show Number of Week at the very first column of a dayView\n    disabledDates: [],\n    // specific day(s) which won't be selectable and contain additional information.\n    disabledDaysOfWeek: [],\n    // day(s) which won't be selectable(s) (0 = Sunday)\n    enabledDates: [],\n    // specific day(s) which will be selectable, all other days will be disabled\n    eventDates: [],\n    // specific day(s) which will be shown in a different color and using tooltips\n    centuryBreak: 60,\n    // starting short year until 99 where it will be assumed to belong to the last century\n    currentCentury: 2000,\n    // century to be added to 2-digit years (00 to {centuryBreak}-1)\n    selectAdjacentDays: false,\n    // The calendar can show dates from adjacent month. These adjacent month dates can also be made selectable.\n    // popup options ('popup', 'on', 'hoverable', and show/hide callbacks are overridden)\n    popupOptions: {\n      position: 'bottom left',\n      lastResort: 'bottom left',\n      prefer: 'opposite',\n      hideOnScroll: false\n    },\n    text: {\n      days: ['S', 'M', 'T', 'W', 'T', 'F', 'S'],\n      months: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],\n      monthsShort: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\n      today: 'Today',\n      now: 'Now',\n      am: 'AM',\n      pm: 'PM',\n      weekNo: 'Week'\n    },\n    formatter: {\n      header: function (date, mode, settings) {\n        return mode === 'year' ? settings.formatter.yearHeader(date, settings) : mode === 'month' ? settings.formatter.monthHeader(date, settings) : mode === 'day' ? settings.formatter.dayHeader(date, settings) : mode === 'hour' ? settings.formatter.hourHeader(date, settings) : settings.formatter.minuteHeader(date, settings);\n      },\n      yearHeader: function (date, settings) {\n        var decadeYear = Math.ceil(date.getFullYear() / 10) * 10;\n        return decadeYear - 9 + ' - ' + (decadeYear + 2);\n      },\n      monthHeader: function (date, settings) {\n        return date.getFullYear();\n      },\n      dayHeader: function (date, settings) {\n        var month = settings.text.months[date.getMonth()];\n        var year = date.getFullYear();\n        return month + ' ' + year;\n      },\n      hourHeader: function (date, settings) {\n        return settings.formatter.date(date, settings);\n      },\n      minuteHeader: function (date, settings) {\n        return settings.formatter.date(date, settings);\n      },\n      dayColumnHeader: function (day, settings) {\n        return settings.text.days[day];\n      },\n      datetime: function (date, settings) {\n        if (!date) {\n          return '';\n        }\n\n        var day = settings.type === 'time' ? '' : settings.formatter.date(date, settings);\n        var time = settings.type.indexOf('time') < 0 ? '' : settings.formatter.time(date, settings, false);\n        var separator = settings.type === 'datetime' ? ' ' : '';\n        return day + separator + time;\n      },\n      date: function (date, settings) {\n        if (!date) {\n          return '';\n        }\n\n        var day = date.getDate();\n        var month = settings.text.months[date.getMonth()];\n        var year = date.getFullYear();\n        return settings.type === 'year' ? year : settings.type === 'month' ? month + ' ' + year : (settings.monthFirst ? month + ' ' + day : day + ' ' + month) + ', ' + year;\n      },\n      time: function (date, settings, forCalendar) {\n        if (!date) {\n          return '';\n        }\n\n        var hour = date.getHours();\n        var minute = date.getMinutes();\n        var ampm = '';\n\n        if (settings.ampm) {\n          ampm = ' ' + (hour < 12 ? settings.text.am : settings.text.pm);\n          hour = hour === 0 ? 12 : hour > 12 ? hour - 12 : hour;\n        }\n\n        return hour + ':' + (minute < 10 ? '0' : '') + minute + ampm;\n      },\n      today: function (settings) {\n        return settings.type === 'date' ? settings.text.today : settings.text.now;\n      },\n      cell: function (cell, date, cellOptions) {}\n    },\n    parser: {\n      date: function (text, settings) {\n        if (text instanceof Date) {\n          return text;\n        }\n\n        if (!text) {\n          return null;\n        }\n\n        text = String(text).trim();\n\n        if (text.length === 0) {\n          return null;\n        }\n\n        if (text.match(/^[0-9]{4}[\\/\\-\\.][0-9]{1,2}[\\/\\-\\.][0-9]{1,2}$/)) {\n          text = text.replace(/[\\/\\-\\.]/g, '/') + ' 00:00:00';\n        } // Reverse date and month in some cases\n\n\n        text = settings.monthFirst || !text.match(/^[0-9]{1,2}[\\/\\-\\.]/) ? text : text.replace(/[\\/\\-\\.]/g, '/').replace(/([0-9]+)\\/([0-9]+)/, '$2/$1');\n        var textDate = new Date(text);\n        var numberOnly = text.match(/^[0-9]+$/) !== null;\n\n        if (!numberOnly && !isNaN(textDate.getDate())) {\n          return textDate;\n        }\n\n        text = text.toLowerCase();\n        var i, j, k;\n        var minute = -1,\n            hour = -1,\n            day = -1,\n            month = -1,\n            year = -1;\n        var isAm = undefined;\n        var isTimeOnly = settings.type === 'time';\n        var isDateOnly = settings.type.indexOf('time') < 0;\n        var words = text.split(settings.regExp.dateWords),\n            word;\n        var numbers = text.split(settings.regExp.dateNumbers),\n            number;\n        var parts;\n        var monthString;\n\n        if (!isDateOnly) {\n          //am/pm\n          isAm = $.inArray(settings.text.am.toLowerCase(), words) >= 0 ? true : $.inArray(settings.text.pm.toLowerCase(), words) >= 0 ? false : undefined; //time with ':'\n\n          for (i = 0; i < numbers.length; i++) {\n            number = numbers[i];\n\n            if (number.indexOf(':') >= 0) {\n              if (hour < 0 || minute < 0) {\n                parts = number.split(':');\n\n                for (k = 0; k < Math.min(2, parts.length); k++) {\n                  j = parseInt(parts[k]);\n\n                  if (isNaN(j)) {\n                    j = 0;\n                  }\n\n                  if (k === 0) {\n                    hour = j % 24;\n                  } else {\n                    minute = j % 60;\n                  }\n                }\n              }\n\n              numbers.splice(i, 1);\n            }\n          }\n        }\n\n        if (!isTimeOnly) {\n          //textual month\n          for (i = 0; i < words.length; i++) {\n            word = words[i];\n\n            if (word.length <= 0) {\n              continue;\n            }\n\n            for (j = 0; j < settings.text.months.length; j++) {\n              monthString = settings.text.months[j];\n              monthString = monthString.substring(0, word.length).toLowerCase();\n\n              if (monthString === word) {\n                month = j + 1;\n                break;\n              }\n            }\n\n            if (month >= 0) {\n              break;\n            }\n          } //year > settings.centuryBreak\n\n\n          for (i = 0; i < numbers.length; i++) {\n            j = parseInt(numbers[i]);\n\n            if (isNaN(j)) {\n              continue;\n            }\n\n            if (j >= settings.centuryBreak && i === numbers.length - 1) {\n              if (j <= 99) {\n                j += settings.currentCentury - 100;\n              }\n\n              year = j;\n              numbers.splice(i, 1);\n              break;\n            }\n          } //numeric month\n\n\n          if (month < 0) {\n            for (i = 0; i < numbers.length; i++) {\n              k = i > 1 || settings.monthFirst ? i : i === 1 ? 0 : 1;\n              j = parseInt(numbers[k]);\n\n              if (isNaN(j)) {\n                continue;\n              }\n\n              if (1 <= j && j <= 12) {\n                month = j;\n                numbers.splice(k, 1);\n                break;\n              }\n            }\n          } //day\n\n\n          for (i = 0; i < numbers.length; i++) {\n            j = parseInt(numbers[i]);\n\n            if (isNaN(j)) {\n              continue;\n            }\n\n            if (1 <= j && j <= 31) {\n              day = j;\n              numbers.splice(i, 1);\n              break;\n            }\n          } //year <= settings.centuryBreak\n\n\n          if (year < 0) {\n            for (i = numbers.length - 1; i >= 0; i--) {\n              j = parseInt(numbers[i]);\n\n              if (isNaN(j)) {\n                continue;\n              }\n\n              if (j <= 99) {\n                j += settings.currentCentury;\n              }\n\n              year = j;\n              numbers.splice(i, 1);\n              break;\n            }\n          }\n        }\n\n        if (!isDateOnly) {\n          //hour\n          if (hour < 0) {\n            for (i = 0; i < numbers.length; i++) {\n              j = parseInt(numbers[i]);\n\n              if (isNaN(j)) {\n                continue;\n              }\n\n              if (0 <= j && j <= 23) {\n                hour = j;\n                numbers.splice(i, 1);\n                break;\n              }\n            }\n          } //minute\n\n\n          if (minute < 0) {\n            for (i = 0; i < numbers.length; i++) {\n              j = parseInt(numbers[i]);\n\n              if (isNaN(j)) {\n                continue;\n              }\n\n              if (0 <= j && j <= 59) {\n                minute = j;\n                numbers.splice(i, 1);\n                break;\n              }\n            }\n          }\n        }\n\n        if (minute < 0 && hour < 0 && day < 0 && month < 0 && year < 0) {\n          return null;\n        }\n\n        if (minute < 0) {\n          minute = 0;\n        }\n\n        if (hour < 0) {\n          hour = 0;\n        }\n\n        if (day < 0) {\n          day = 1;\n        }\n\n        if (month < 0) {\n          month = 1;\n        }\n\n        if (year < 0) {\n          year = new Date().getFullYear();\n        }\n\n        if (isAm !== undefined) {\n          if (isAm) {\n            if (hour === 12) {\n              hour = 0;\n            }\n          } else if (hour < 12) {\n            hour += 12;\n          }\n        }\n\n        var date = new Date(year, month - 1, day, hour, minute);\n\n        if (date.getMonth() !== month - 1 || date.getFullYear() !== year) {\n          //month or year don't match up, switch to last day of the month\n          date = new Date(year, month, 0, hour, minute);\n        }\n\n        return isNaN(date.getTime()) ? null : date;\n      }\n    },\n    // callback before date is changed, return false to cancel the change\n    onBeforeChange: function (date, text, mode) {\n      return true;\n    },\n    // callback when date changes\n    onChange: function (date, text, mode) {},\n    // callback before show animation, return false to prevent show\n    onShow: function () {},\n    // callback after show animation\n    onVisible: function () {},\n    // callback before hide animation, return false to prevent hide\n    onHide: function () {},\n    // callback after hide animation\n    onHidden: function () {},\n    // callback before item is selected, return false to prevent selection\n    onSelect: function (date, mode) {},\n    // is the given date disabled?\n    isDisabled: function (date, mode) {\n      return false;\n    },\n    selector: {\n      popup: '.ui.popup',\n      input: 'input',\n      activator: 'input',\n      append: '.inline.field,.inline.fields'\n    },\n    regExp: {\n      dateWords: /[^A-Za-z\\u00C0-\\u024F]+/g,\n      dateNumbers: /[^\\d:]+/g\n    },\n    error: {\n      popup: 'UI Popup, a required component is not included in this page',\n      method: 'The method you called is not defined.'\n    },\n    className: {\n      calendar: 'calendar',\n      active: 'active',\n      popup: 'ui popup',\n      grid: 'ui equal width grid',\n      column: 'column',\n      table: 'ui celled center aligned unstackable table',\n      inverted: 'inverted',\n      prev: 'prev link',\n      next: 'next link',\n      prevIcon: 'chevron left icon',\n      nextIcon: 'chevron right icon',\n      link: 'link',\n      cell: 'link',\n      disabledCell: 'disabled',\n      weekCell: 'disabled',\n      adjacentCell: 'adjacent',\n      activeCell: 'active',\n      rangeCell: 'range',\n      focusCell: 'focus',\n      todayCell: 'today',\n      today: 'today link',\n      disabled: 'disabled'\n    },\n    metadata: {\n      date: 'date',\n      focusDate: 'focusDate',\n      startDate: 'startDate',\n      endDate: 'endDate',\n      minDate: 'minDate',\n      maxDate: 'maxDate',\n      mode: 'mode',\n      type: 'type',\n      monthOffset: 'monthOffset',\n      message: 'message',\n      class: 'class',\n      inverted: 'inverted',\n      variation: 'variation',\n      position: 'position',\n      month: 'month',\n      year: 'year'\n    },\n    eventClass: 'blue'\n  };\n})(jQuery, window, document);\n/*!\n * # Fomantic-UI 2.8.8 - Checkbox\n * http://github.com/fomantic/Fomantic-UI/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n\n;\n\n(function ($, window, document, undefined) {\n  'use strict';\n\n  $.isFunction = $.isFunction || function (obj) {\n    return typeof obj === \"function\" && typeof obj.nodeType !== \"number\";\n  };\n\n  window = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\n\n  $.fn.checkbox = function (parameters) {\n    var $allModules = $(this),\n        moduleSelector = $allModules.selector || '',\n        time = new Date().getTime(),\n        performance = [],\n        query = arguments[0],\n        methodInvoked = typeof query == 'string',\n        queryArguments = [].slice.call(arguments, 1),\n        returnedValue;\n    $allModules.each(function () {\n      var settings = $.extend(true, {}, $.fn.checkbox.settings, parameters),\n          className = settings.className,\n          namespace = settings.namespace,\n          selector = settings.selector,\n          error = settings.error,\n          eventNamespace = '.' + namespace,\n          moduleNamespace = 'module-' + namespace,\n          $module = $(this),\n          $label = $(this).children(selector.label),\n          $input = $(this).children(selector.input),\n          input = $input[0],\n          initialLoad = false,\n          shortcutPressed = false,\n          instance = $module.data(moduleNamespace),\n          observer,\n          element = this,\n          module;\n      module = {\n        initialize: function () {\n          module.verbose('Initializing checkbox', settings);\n          module.create.label();\n          module.bind.events();\n          module.set.tabbable();\n          module.hide.input();\n          module.observeChanges();\n          module.instantiate();\n          module.setup();\n        },\n        instantiate: function () {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module.data(moduleNamespace, module);\n        },\n        destroy: function () {\n          module.verbose('Destroying module');\n          module.unbind.events();\n          module.show.input();\n          $module.removeData(moduleNamespace);\n        },\n        fix: {\n          reference: function () {\n            if ($module.is(selector.input)) {\n              module.debug('Behavior called on <input> adjusting invoked element');\n              $module = $module.closest(selector.checkbox);\n              module.refresh();\n            }\n          }\n        },\n        setup: function () {\n          module.set.initialLoad();\n\n          if (module.is.indeterminate()) {\n            module.debug('Initial value is indeterminate');\n            module.indeterminate();\n          } else if (module.is.checked()) {\n            module.debug('Initial value is checked');\n            module.check();\n          } else {\n            module.debug('Initial value is unchecked');\n            module.uncheck();\n          }\n\n          module.remove.initialLoad();\n        },\n        refresh: function () {\n          $label = $module.children(selector.label);\n          $input = $module.children(selector.input);\n          input = $input[0];\n        },\n        hide: {\n          input: function () {\n            module.verbose('Modifying <input> z-index to be unselectable');\n            $input.addClass(className.hidden);\n          }\n        },\n        show: {\n          input: function () {\n            module.verbose('Modifying <input> z-index to be selectable');\n            $input.removeClass(className.hidden);\n          }\n        },\n        observeChanges: function () {\n          if ('MutationObserver' in window) {\n            observer = new MutationObserver(function (mutations) {\n              module.debug('DOM tree modified, updating selector cache');\n              module.refresh();\n            });\n            observer.observe(element, {\n              childList: true,\n              subtree: true\n            });\n            module.debug('Setting up mutation observer', observer);\n          }\n        },\n        attachEvents: function (selector, event) {\n          var $element = $(selector);\n          event = $.isFunction(module[event]) ? module[event] : module.toggle;\n\n          if ($element.length > 0) {\n            module.debug('Attaching checkbox events to element', selector, event);\n            $element.on('click' + eventNamespace, event);\n          } else {\n            module.error(error.notFound);\n          }\n        },\n        preventDefaultOnInputTarget: function () {\n          if (typeof event !== 'undefined' && event !== null && $(event.target).is(selector.input)) {\n            module.verbose('Preventing default check action after manual check action');\n            event.preventDefault();\n          }\n        },\n        event: {\n          change: function (event) {\n            if (!module.should.ignoreCallbacks()) {\n              settings.onChange.call(input);\n            }\n          },\n          click: function (event) {\n            var $target = $(event.target);\n\n            if ($target.is(selector.input)) {\n              module.verbose('Using default check action on initialized checkbox');\n              return;\n            }\n\n            if ($target.is(selector.link)) {\n              module.debug('Clicking link inside checkbox, skipping toggle');\n              return;\n            }\n\n            module.toggle();\n            $input.focus();\n            event.preventDefault();\n          },\n          keydown: function (event) {\n            var key = event.which,\n                keyCode = {\n              enter: 13,\n              space: 32,\n              escape: 27,\n              left: 37,\n              up: 38,\n              right: 39,\n              down: 40\n            };\n            var r = module.get.radios(),\n                rIndex = r.index($module),\n                rLen = r.length,\n                checkIndex = false;\n\n            if (key == keyCode.left || key == keyCode.up) {\n              checkIndex = (rIndex === 0 ? rLen : rIndex) - 1;\n            } else if (key == keyCode.right || key == keyCode.down) {\n              checkIndex = rIndex === rLen - 1 ? 0 : rIndex + 1;\n            }\n\n            if (!module.should.ignoreCallbacks() && checkIndex !== false) {\n              if (settings.beforeUnchecked.apply(input) === false) {\n                module.verbose('Option not allowed to be unchecked, cancelling key navigation');\n                return false;\n              }\n\n              if (settings.beforeChecked.apply($(r[checkIndex]).children(selector.input)[0]) === false) {\n                module.verbose('Next option should not allow check, cancelling key navigation');\n                return false;\n              }\n            }\n\n            if (key == keyCode.escape) {\n              module.verbose('Escape key pressed blurring field');\n              $input.blur();\n              shortcutPressed = true;\n            } else if (!event.ctrlKey && (key == keyCode.space || key == keyCode.enter && settings.enableEnterKey)) {\n              module.verbose('Enter/space key pressed, toggling checkbox');\n              module.toggle();\n              shortcutPressed = true;\n            } else {\n              shortcutPressed = false;\n            }\n          },\n          keyup: function (event) {\n            if (shortcutPressed) {\n              event.preventDefault();\n            }\n          }\n        },\n        check: function () {\n          if (!module.should.allowCheck()) {\n            return;\n          }\n\n          module.debug('Checking checkbox', $input);\n          module.set.checked();\n\n          if (!module.should.ignoreCallbacks()) {\n            settings.onChecked.call(input);\n            module.trigger.change();\n          }\n\n          module.preventDefaultOnInputTarget();\n        },\n        uncheck: function () {\n          if (!module.should.allowUncheck()) {\n            return;\n          }\n\n          module.debug('Unchecking checkbox');\n          module.set.unchecked();\n\n          if (!module.should.ignoreCallbacks()) {\n            settings.onUnchecked.call(input);\n            module.trigger.change();\n          }\n\n          module.preventDefaultOnInputTarget();\n        },\n        indeterminate: function () {\n          if (module.should.allowIndeterminate()) {\n            module.debug('Checkbox is already indeterminate');\n            return;\n          }\n\n          module.debug('Making checkbox indeterminate');\n          module.set.indeterminate();\n\n          if (!module.should.ignoreCallbacks()) {\n            settings.onIndeterminate.call(input);\n            module.trigger.change();\n          }\n        },\n        determinate: function () {\n          if (module.should.allowDeterminate()) {\n            module.debug('Checkbox is already determinate');\n            return;\n          }\n\n          module.debug('Making checkbox determinate');\n          module.set.determinate();\n\n          if (!module.should.ignoreCallbacks()) {\n            settings.onDeterminate.call(input);\n            module.trigger.change();\n          }\n        },\n        enable: function () {\n          if (module.is.enabled()) {\n            module.debug('Checkbox is already enabled');\n            return;\n          }\n\n          module.debug('Enabling checkbox');\n          module.set.enabled();\n\n          if (!module.should.ignoreCallbacks()) {\n            settings.onEnable.call(input); // preserve legacy callbacks\n\n            settings.onEnabled.call(input);\n            module.trigger.change();\n          }\n        },\n        disable: function () {\n          if (module.is.disabled()) {\n            module.debug('Checkbox is already disabled');\n            return;\n          }\n\n          module.debug('Disabling checkbox');\n          module.set.disabled();\n\n          if (!module.should.ignoreCallbacks()) {\n            settings.onDisable.call(input); // preserve legacy callbacks\n\n            settings.onDisabled.call(input);\n            module.trigger.change();\n          }\n        },\n        get: {\n          radios: function () {\n            var name = module.get.name();\n            return $('input[name=\"' + name + '\"]').closest(selector.checkbox);\n          },\n          otherRadios: function () {\n            return module.get.radios().not($module);\n          },\n          name: function () {\n            return $input.attr('name');\n          }\n        },\n        is: {\n          initialLoad: function () {\n            return initialLoad;\n          },\n          radio: function () {\n            return $input.hasClass(className.radio) || $input.attr('type') == 'radio';\n          },\n          indeterminate: function () {\n            return $input.prop('indeterminate') !== undefined && $input.prop('indeterminate');\n          },\n          checked: function () {\n            return $input.prop('checked') !== undefined && $input.prop('checked');\n          },\n          disabled: function () {\n            return $input.prop('disabled') !== undefined && $input.prop('disabled');\n          },\n          enabled: function () {\n            return !module.is.disabled();\n          },\n          determinate: function () {\n            return !module.is.indeterminate();\n          },\n          unchecked: function () {\n            return !module.is.checked();\n          }\n        },\n        should: {\n          allowCheck: function () {\n            if (module.is.determinate() && module.is.checked() && !module.is.initialLoad()) {\n              module.debug('Should not allow check, checkbox is already checked');\n              return false;\n            }\n\n            if (!module.should.ignoreCallbacks() && settings.beforeChecked.apply(input) === false) {\n              module.debug('Should not allow check, beforeChecked cancelled');\n              return false;\n            }\n\n            return true;\n          },\n          allowUncheck: function () {\n            if (module.is.determinate() && module.is.unchecked() && !module.is.initialLoad()) {\n              module.debug('Should not allow uncheck, checkbox is already unchecked');\n              return false;\n            }\n\n            if (!module.should.ignoreCallbacks() && settings.beforeUnchecked.apply(input) === false) {\n              module.debug('Should not allow uncheck, beforeUnchecked cancelled');\n              return false;\n            }\n\n            return true;\n          },\n          allowIndeterminate: function () {\n            if (module.is.indeterminate() && !module.is.initialLoad()) {\n              module.debug('Should not allow indeterminate, checkbox is already indeterminate');\n              return false;\n            }\n\n            if (!module.should.ignoreCallbacks() && settings.beforeIndeterminate.apply(input) === false) {\n              module.debug('Should not allow indeterminate, beforeIndeterminate cancelled');\n              return false;\n            }\n\n            return true;\n          },\n          allowDeterminate: function () {\n            if (module.is.determinate() && !module.is.initialLoad()) {\n              module.debug('Should not allow determinate, checkbox is already determinate');\n              return false;\n            }\n\n            if (!module.should.ignoreCallbacks() && settings.beforeDeterminate.apply(input) === false) {\n              module.debug('Should not allow determinate, beforeDeterminate cancelled');\n              return false;\n            }\n\n            return true;\n          },\n          ignoreCallbacks: function () {\n            return initialLoad && !settings.fireOnInit;\n          }\n        },\n        can: {\n          change: function () {\n            return !($module.hasClass(className.disabled) || $module.hasClass(className.readOnly) || $input.prop('disabled') || $input.prop('readonly'));\n          },\n          uncheck: function () {\n            return typeof settings.uncheckable === 'boolean' ? settings.uncheckable : !module.is.radio();\n          }\n        },\n        set: {\n          initialLoad: function () {\n            initialLoad = true;\n          },\n          checked: function () {\n            module.verbose('Setting class to checked');\n            $module.removeClass(className.indeterminate).addClass(className.checked);\n\n            if (module.is.radio()) {\n              module.uncheckOthers();\n            }\n\n            if (!module.is.indeterminate() && module.is.checked()) {\n              module.debug('Input is already checked, skipping input property change');\n              return;\n            }\n\n            module.verbose('Setting state to checked', input);\n            $input.prop('indeterminate', false).prop('checked', true);\n          },\n          unchecked: function () {\n            module.verbose('Removing checked class');\n            $module.removeClass(className.indeterminate).removeClass(className.checked);\n\n            if (!module.is.indeterminate() && module.is.unchecked()) {\n              module.debug('Input is already unchecked');\n              return;\n            }\n\n            module.debug('Setting state to unchecked');\n            $input.prop('indeterminate', false).prop('checked', false);\n          },\n          indeterminate: function () {\n            module.verbose('Setting class to indeterminate');\n            $module.addClass(className.indeterminate);\n\n            if (module.is.indeterminate()) {\n              module.debug('Input is already indeterminate, skipping input property change');\n              return;\n            }\n\n            module.debug('Setting state to indeterminate');\n            $input.prop('indeterminate', true);\n          },\n          determinate: function () {\n            module.verbose('Removing indeterminate class');\n            $module.removeClass(className.indeterminate);\n\n            if (module.is.determinate()) {\n              module.debug('Input is already determinate, skipping input property change');\n              return;\n            }\n\n            module.debug('Setting state to determinate');\n            $input.prop('indeterminate', false);\n          },\n          disabled: function () {\n            module.verbose('Setting class to disabled');\n            $module.addClass(className.disabled);\n\n            if (module.is.disabled()) {\n              module.debug('Input is already disabled, skipping input property change');\n              return;\n            }\n\n            module.debug('Setting state to disabled');\n            $input.prop('disabled', 'disabled');\n          },\n          enabled: function () {\n            module.verbose('Removing disabled class');\n            $module.removeClass(className.disabled);\n\n            if (module.is.enabled()) {\n              module.debug('Input is already enabled, skipping input property change');\n              return;\n            }\n\n            module.debug('Setting state to enabled');\n            $input.prop('disabled', false);\n          },\n          tabbable: function () {\n            module.verbose('Adding tabindex to checkbox');\n\n            if ($input.attr('tabindex') === undefined) {\n              $input.attr('tabindex', 0);\n            }\n          }\n        },\n        remove: {\n          initialLoad: function () {\n            initialLoad = false;\n          }\n        },\n        trigger: {\n          change: function () {\n            var inputElement = $input[0];\n\n            if (inputElement) {\n              var events = document.createEvent('HTMLEvents');\n              module.verbose('Triggering native change event');\n              events.initEvent('change', true, false);\n              inputElement.dispatchEvent(events);\n            }\n          }\n        },\n        create: {\n          label: function () {\n            if ($input.prevAll(selector.label).length > 0) {\n              $input.prev(selector.label).detach().insertAfter($input);\n              module.debug('Moving existing label', $label);\n            } else if (!module.has.label()) {\n              $label = $('<label>').insertAfter($input);\n              module.debug('Creating label', $label);\n            }\n          }\n        },\n        has: {\n          label: function () {\n            return $label.length > 0;\n          }\n        },\n        bind: {\n          events: function () {\n            module.verbose('Attaching checkbox events');\n            $module.on('click' + eventNamespace, module.event.click).on('change' + eventNamespace, module.event.change).on('keydown' + eventNamespace, selector.input, module.event.keydown).on('keyup' + eventNamespace, selector.input, module.event.keyup);\n          }\n        },\n        unbind: {\n          events: function () {\n            module.debug('Removing events');\n            $module.off(eventNamespace);\n          }\n        },\n        uncheckOthers: function () {\n          var $radios = module.get.otherRadios();\n          module.debug('Unchecking other radios', $radios);\n          $radios.removeClass(className.checked);\n        },\n        toggle: function () {\n          if (!module.can.change()) {\n            if (!module.is.radio()) {\n              module.debug('Checkbox is read-only or disabled, ignoring toggle');\n            }\n\n            return;\n          }\n\n          if (module.is.indeterminate() || module.is.unchecked()) {\n            module.debug('Currently unchecked');\n            module.check();\n          } else if (module.is.checked() && module.can.uncheck()) {\n            module.debug('Currently checked');\n            module.uncheck();\n          }\n        },\n        setting: function (name, value) {\n          module.debug('Changing setting', name, value);\n\n          if ($.isPlainObject(name)) {\n            $.extend(true, settings, name);\n          } else if (value !== undefined) {\n            if ($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            } else {\n              settings[name] = value;\n            }\n          } else {\n            return settings[name];\n          }\n        },\n        internal: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, module, name);\n          } else if (value !== undefined) {\n            module[name] = value;\n          } else {\n            return module[name];\n          }\n        },\n        debug: function () {\n          if (!settings.silent && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function () {\n          if (!settings.silent && settings.verbose && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function () {\n          if (!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function (message) {\n            var currentTime, executionTime, previousTime;\n\n            if (settings.performance) {\n              currentTime = new Date().getTime();\n              previousTime = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time = currentTime;\n              performance.push({\n                'Name': message[0],\n                'Arguments': [].slice.call(message, 1) || '',\n                'Element': element,\n                'Execution Time': executionTime\n              });\n            }\n\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function () {\n            var title = settings.name + ':',\n                totalTime = 0;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function (index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n\n            if (moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n\n            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n\n              if (console.table) {\n                console.table(performance);\n              } else {\n                $.each(performance, function (index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');\n                });\n              }\n\n              console.groupEnd();\n            }\n\n            performance = [];\n          }\n        },\n        invoke: function (query, passedArguments, context) {\n          var object = instance,\n              maxDepth,\n              found,\n              response;\n          passedArguments = passedArguments || queryArguments;\n          context = element || context;\n\n          if (typeof query == 'string' && object !== undefined) {\n            query = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function (depth, value) {\n              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;\n\n              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {\n                object = object[camelCaseValue];\n              } else if (object[camelCaseValue] !== undefined) {\n                found = object[camelCaseValue];\n                return false;\n              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {\n                object = object[value];\n              } else if (object[value] !== undefined) {\n                found = object[value];\n                return false;\n              } else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n\n          if ($.isFunction(found)) {\n            response = found.apply(context, passedArguments);\n          } else if (found !== undefined) {\n            response = found;\n          }\n\n          if (Array.isArray(returnedValue)) {\n            returnedValue.push(response);\n          } else if (returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          } else if (response !== undefined) {\n            returnedValue = response;\n          }\n\n          return found;\n        }\n      };\n\n      if (methodInvoked) {\n        if (instance === undefined) {\n          module.initialize();\n        }\n\n        module.invoke(query);\n      } else {\n        if (instance !== undefined) {\n          instance.invoke('destroy');\n        }\n\n        module.initialize();\n      }\n    });\n    return returnedValue !== undefined ? returnedValue : this;\n  };\n\n  $.fn.checkbox.settings = {\n    name: 'Checkbox',\n    namespace: 'checkbox',\n    silent: false,\n    debug: false,\n    verbose: true,\n    performance: true,\n    // delegated event context\n    uncheckable: 'auto',\n    fireOnInit: false,\n    enableEnterKey: true,\n    onChange: function () {},\n    beforeChecked: function () {},\n    beforeUnchecked: function () {},\n    beforeDeterminate: function () {},\n    beforeIndeterminate: function () {},\n    onChecked: function () {},\n    onUnchecked: function () {},\n    onDeterminate: function () {},\n    onIndeterminate: function () {},\n    onEnable: function () {},\n    onDisable: function () {},\n    // preserve misspelled callbacks (will be removed in 3.0)\n    onEnabled: function () {},\n    onDisabled: function () {},\n    className: {\n      checked: 'checked',\n      indeterminate: 'indeterminate',\n      disabled: 'disabled',\n      hidden: 'hidden',\n      radio: 'radio',\n      readOnly: 'read-only'\n    },\n    error: {\n      method: 'The method you called is not defined'\n    },\n    selector: {\n      checkbox: '.ui.checkbox',\n      label: 'label, .box',\n      input: 'input[type=\"checkbox\"], input[type=\"radio\"]',\n      link: 'a[href]'\n    }\n  };\n})(jQuery, window, document);\n/*!\n * # Fomantic-UI 2.8.8 - Dimmer\n * http://github.com/fomantic/Fomantic-UI/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n\n;\n\n(function ($, window, document, undefined) {\n  'use strict';\n\n  $.isFunction = $.isFunction || function (obj) {\n    return typeof obj === \"function\" && typeof obj.nodeType !== \"number\";\n  };\n\n  window = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\n\n  $.fn.dimmer = function (parameters) {\n    var $allModules = $(this),\n        time = new Date().getTime(),\n        performance = [],\n        query = arguments[0],\n        methodInvoked = typeof query == 'string',\n        queryArguments = [].slice.call(arguments, 1),\n        returnedValue;\n    $allModules.each(function () {\n      var settings = $.isPlainObject(parameters) ? $.extend(true, {}, $.fn.dimmer.settings, parameters) : $.extend({}, $.fn.dimmer.settings),\n          selector = settings.selector,\n          namespace = settings.namespace,\n          className = settings.className,\n          error = settings.error,\n          eventNamespace = '.' + namespace,\n          moduleNamespace = 'module-' + namespace,\n          moduleSelector = $allModules.selector || '',\n          clickEvent = 'ontouchstart' in document.documentElement ? 'touchstart' : 'click',\n          $module = $(this),\n          $dimmer,\n          $dimmable,\n          element = this,\n          instance = $module.data(moduleNamespace),\n          module;\n      module = {\n        preinitialize: function () {\n          if (module.is.dimmer()) {\n            $dimmable = $module.parent();\n            $dimmer = $module;\n          } else {\n            $dimmable = $module;\n\n            if (module.has.dimmer()) {\n              if (settings.dimmerName) {\n                $dimmer = $dimmable.find(selector.dimmer).filter('.' + settings.dimmerName);\n              } else {\n                $dimmer = $dimmable.find(selector.dimmer);\n              }\n            } else {\n              $dimmer = module.create();\n            }\n          }\n        },\n        initialize: function () {\n          module.debug('Initializing dimmer', settings);\n          module.bind.events();\n          module.set.dimmable();\n          module.instantiate();\n        },\n        instantiate: function () {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module.data(moduleNamespace, instance);\n        },\n        destroy: function () {\n          module.verbose('Destroying previous module', $dimmer);\n          module.unbind.events();\n          module.remove.variation();\n          $dimmable.off(eventNamespace);\n        },\n        bind: {\n          events: function () {\n            if (settings.on == 'hover') {\n              $dimmable.on('mouseenter' + eventNamespace, module.show).on('mouseleave' + eventNamespace, module.hide);\n            } else if (settings.on == 'click') {\n              $dimmable.on(clickEvent + eventNamespace, module.toggle);\n            }\n\n            if (module.is.page()) {\n              module.debug('Setting as a page dimmer', $dimmable);\n              module.set.pageDimmer();\n            }\n\n            if (module.is.closable()) {\n              module.verbose('Adding dimmer close event', $dimmer);\n              $dimmable.on(clickEvent + eventNamespace, selector.dimmer, module.event.click);\n            }\n          }\n        },\n        unbind: {\n          events: function () {\n            $module.removeData(moduleNamespace);\n            $dimmable.off(eventNamespace);\n          }\n        },\n        event: {\n          click: function (event) {\n            module.verbose('Determining if event occurred on dimmer', event);\n\n            if ($dimmer.find(event.target).length === 0 || $(event.target).is(selector.content)) {\n              module.hide();\n              event.stopImmediatePropagation();\n            }\n          }\n        },\n        addContent: function (element) {\n          var $content = $(element);\n          module.debug('Add content to dimmer', $content);\n\n          if ($content.parent()[0] !== $dimmer[0]) {\n            $content.detach().appendTo($dimmer);\n          }\n        },\n        create: function () {\n          var $element = $(settings.template.dimmer(settings));\n\n          if (settings.dimmerName) {\n            module.debug('Creating named dimmer', settings.dimmerName);\n            $element.addClass(settings.dimmerName);\n          }\n\n          $element.appendTo($dimmable);\n          return $element;\n        },\n        show: function (callback) {\n          callback = $.isFunction(callback) ? callback : function () {};\n          module.debug('Showing dimmer', $dimmer, settings);\n          module.set.variation();\n\n          if ((!module.is.dimmed() || module.is.animating()) && module.is.enabled()) {\n            module.animate.show(callback);\n            settings.onShow.call(element);\n            settings.onChange.call(element);\n          } else {\n            module.debug('Dimmer is already shown or disabled');\n          }\n        },\n        hide: function (callback) {\n          callback = $.isFunction(callback) ? callback : function () {};\n\n          if (module.is.dimmed() || module.is.animating()) {\n            module.debug('Hiding dimmer', $dimmer);\n            module.animate.hide(callback);\n            settings.onHide.call(element);\n            settings.onChange.call(element);\n          } else {\n            module.debug('Dimmer is not visible');\n          }\n        },\n        toggle: function () {\n          module.verbose('Toggling dimmer visibility', $dimmer);\n\n          if (!module.is.dimmed()) {\n            module.show();\n          } else {\n            if (module.is.closable()) {\n              module.hide();\n            }\n          }\n        },\n        animate: {\n          show: function (callback) {\n            callback = $.isFunction(callback) ? callback : function () {};\n\n            if (settings.useCSS && $.fn.transition !== undefined && $dimmer.transition('is supported')) {\n              if (settings.useFlex) {\n                module.debug('Using flex dimmer');\n                module.remove.legacy();\n              } else {\n                module.debug('Using legacy non-flex dimmer');\n                module.set.legacy();\n              }\n\n              if (settings.opacity !== 'auto') {\n                module.set.opacity();\n              }\n\n              $dimmer.transition({\n                displayType: settings.useFlex ? 'flex' : 'block',\n                animation: (settings.transition.showMethod || settings.transition) + ' in',\n                queue: false,\n                duration: module.get.duration(),\n                useFailSafe: true,\n                onStart: function () {\n                  module.set.dimmed();\n                },\n                onComplete: function () {\n                  module.set.active();\n                  callback();\n                }\n              });\n            } else {\n              module.verbose('Showing dimmer animation with javascript');\n              module.set.dimmed();\n\n              if (settings.opacity == 'auto') {\n                settings.opacity = 0.8;\n              }\n\n              $dimmer.stop().css({\n                opacity: 0,\n                width: '100%',\n                height: '100%'\n              }).fadeTo(module.get.duration(), settings.opacity, function () {\n                $dimmer.removeAttr('style');\n                module.set.active();\n                callback();\n              });\n            }\n          },\n          hide: function (callback) {\n            callback = $.isFunction(callback) ? callback : function () {};\n\n            if (settings.useCSS && $.fn.transition !== undefined && $dimmer.transition('is supported')) {\n              module.verbose('Hiding dimmer with css');\n              $dimmer.transition({\n                displayType: settings.useFlex ? 'flex' : 'block',\n                animation: (settings.transition.hideMethod || settings.transition) + ' out',\n                queue: false,\n                duration: module.get.duration(),\n                useFailSafe: true,\n                onComplete: function () {\n                  module.remove.dimmed();\n                  module.remove.variation();\n                  module.remove.active();\n                  callback();\n                }\n              });\n            } else {\n              module.verbose('Hiding dimmer with javascript');\n              $dimmer.stop().fadeOut(module.get.duration(), function () {\n                module.remove.dimmed();\n                module.remove.active();\n                $dimmer.removeAttr('style');\n                callback();\n              });\n            }\n          }\n        },\n        get: {\n          dimmer: function () {\n            return $dimmer;\n          },\n          duration: function () {\n            if (module.is.active()) {\n              return settings.transition.hideDuration || settings.duration.hide || settings.duration;\n            } else {\n              return settings.transition.showDuration || settings.duration.show || settings.duration;\n            }\n          }\n        },\n        has: {\n          dimmer: function () {\n            if (settings.dimmerName) {\n              return $module.find(selector.dimmer).filter('.' + settings.dimmerName).length > 0;\n            } else {\n              return $module.find(selector.dimmer).length > 0;\n            }\n          }\n        },\n        is: {\n          active: function () {\n            return $dimmer.hasClass(className.active);\n          },\n          animating: function () {\n            return $dimmer.is(':animated') || $dimmer.hasClass(className.animating);\n          },\n          closable: function () {\n            if (settings.closable == 'auto') {\n              if (settings.on == 'hover') {\n                return false;\n              }\n\n              return true;\n            }\n\n            return settings.closable;\n          },\n          dimmer: function () {\n            return $module.hasClass(className.dimmer);\n          },\n          dimmable: function () {\n            return $module.hasClass(className.dimmable);\n          },\n          dimmed: function () {\n            return $dimmable.hasClass(className.dimmed);\n          },\n          disabled: function () {\n            return $dimmable.hasClass(className.disabled);\n          },\n          enabled: function () {\n            return !module.is.disabled();\n          },\n          page: function () {\n            return $dimmable.is('body');\n          },\n          pageDimmer: function () {\n            return $dimmer.hasClass(className.pageDimmer);\n          }\n        },\n        can: {\n          show: function () {\n            return !$dimmer.hasClass(className.disabled);\n          }\n        },\n        set: {\n          opacity: function (opacity) {\n            var color = $dimmer.css('background-color'),\n                colorArray = color.split(','),\n                isRGB = colorArray && colorArray.length >= 3;\n            opacity = settings.opacity === 0 ? 0 : settings.opacity || opacity;\n\n            if (isRGB) {\n              colorArray[2] = colorArray[2].replace(')', '');\n              colorArray[3] = opacity + ')';\n              color = colorArray.join(',');\n            } else {\n              color = 'rgba(0, 0, 0, ' + opacity + ')';\n            }\n\n            module.debug('Setting opacity to', opacity);\n            $dimmer.css('background-color', color);\n          },\n          legacy: function () {\n            $dimmer.addClass(className.legacy);\n          },\n          active: function () {\n            $dimmer.addClass(className.active);\n          },\n          dimmable: function () {\n            $dimmable.addClass(className.dimmable);\n          },\n          dimmed: function () {\n            $dimmable.addClass(className.dimmed);\n          },\n          pageDimmer: function () {\n            $dimmer.addClass(className.pageDimmer);\n          },\n          disabled: function () {\n            $dimmer.addClass(className.disabled);\n          },\n          variation: function (variation) {\n            variation = variation || settings.variation;\n\n            if (variation) {\n              $dimmer.addClass(variation);\n            }\n          }\n        },\n        remove: {\n          active: function () {\n            $dimmer.removeClass(className.active);\n          },\n          legacy: function () {\n            $dimmer.removeClass(className.legacy);\n          },\n          dimmed: function () {\n            $dimmable.removeClass(className.dimmed);\n          },\n          disabled: function () {\n            $dimmer.removeClass(className.disabled);\n          },\n          variation: function (variation) {\n            variation = variation || settings.variation;\n\n            if (variation) {\n              $dimmer.removeClass(variation);\n            }\n          }\n        },\n        setting: function (name, value) {\n          module.debug('Changing setting', name, value);\n\n          if ($.isPlainObject(name)) {\n            $.extend(true, settings, name);\n          } else if (value !== undefined) {\n            if ($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            } else {\n              settings[name] = value;\n            }\n          } else {\n            return settings[name];\n          }\n        },\n        internal: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, module, name);\n          } else if (value !== undefined) {\n            module[name] = value;\n          } else {\n            return module[name];\n          }\n        },\n        debug: function () {\n          if (!settings.silent && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function () {\n          if (!settings.silent && settings.verbose && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function () {\n          if (!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function (message) {\n            var currentTime, executionTime, previousTime;\n\n            if (settings.performance) {\n              currentTime = new Date().getTime();\n              previousTime = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time = currentTime;\n              performance.push({\n                'Name': message[0],\n                'Arguments': [].slice.call(message, 1) || '',\n                'Element': element,\n                'Execution Time': executionTime\n              });\n            }\n\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function () {\n            var title = settings.name + ':',\n                totalTime = 0;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function (index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n\n            if (moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n\n            if ($allModules.length > 1) {\n              title += ' ' + '(' + $allModules.length + ')';\n            }\n\n            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n\n              if (console.table) {\n                console.table(performance);\n              } else {\n                $.each(performance, function (index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');\n                });\n              }\n\n              console.groupEnd();\n            }\n\n            performance = [];\n          }\n        },\n        invoke: function (query, passedArguments, context) {\n          var object = instance,\n              maxDepth,\n              found,\n              response;\n          passedArguments = passedArguments || queryArguments;\n          context = element || context;\n\n          if (typeof query == 'string' && object !== undefined) {\n            query = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function (depth, value) {\n              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;\n\n              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {\n                object = object[camelCaseValue];\n              } else if (object[camelCaseValue] !== undefined) {\n                found = object[camelCaseValue];\n                return false;\n              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {\n                object = object[value];\n              } else if (object[value] !== undefined) {\n                found = object[value];\n                return false;\n              } else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n\n          if ($.isFunction(found)) {\n            response = found.apply(context, passedArguments);\n          } else if (found !== undefined) {\n            response = found;\n          }\n\n          if (Array.isArray(returnedValue)) {\n            returnedValue.push(response);\n          } else if (returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          } else if (response !== undefined) {\n            returnedValue = response;\n          }\n\n          return found;\n        }\n      };\n      module.preinitialize();\n\n      if (methodInvoked) {\n        if (instance === undefined) {\n          module.initialize();\n        }\n\n        module.invoke(query);\n      } else {\n        if (instance !== undefined) {\n          instance.invoke('destroy');\n        }\n\n        module.initialize();\n      }\n    });\n    return returnedValue !== undefined ? returnedValue : this;\n  };\n\n  $.fn.dimmer.settings = {\n    name: 'Dimmer',\n    namespace: 'dimmer',\n    silent: false,\n    debug: false,\n    verbose: false,\n    performance: true,\n    // whether should use flex layout\n    useFlex: true,\n    // name to distinguish between multiple dimmers in context\n    dimmerName: false,\n    // whether to add a variation type\n    variation: false,\n    // whether to bind close events\n    closable: 'auto',\n    // whether to use css animations\n    useCSS: true,\n    // css animation to use\n    transition: 'fade',\n    // event to bind to\n    on: false,\n    // overriding opacity value\n    opacity: 'auto',\n    // transition durations\n    duration: {\n      show: 500,\n      hide: 500\n    },\n    // whether the dynamically created dimmer should have a loader\n    displayLoader: false,\n    loaderText: false,\n    loaderVariation: '',\n    onChange: function () {},\n    onShow: function () {},\n    onHide: function () {},\n    error: {\n      method: 'The method you called is not defined.'\n    },\n    className: {\n      active: 'active',\n      animating: 'animating',\n      dimmable: 'dimmable',\n      dimmed: 'dimmed',\n      dimmer: 'dimmer',\n      disabled: 'disabled',\n      hide: 'hide',\n      legacy: 'legacy',\n      pageDimmer: 'page',\n      show: 'show',\n      loader: 'ui loader'\n    },\n    selector: {\n      dimmer: '> .ui.dimmer',\n      content: '.ui.dimmer > .content, .ui.dimmer > .content > .center'\n    },\n    template: {\n      dimmer: function (settings) {\n        var d = $('<div/>').addClass('ui dimmer'),\n            l;\n\n        if (settings.displayLoader) {\n          l = $('<div/>').addClass(settings.className.loader).addClass(settings.loaderVariation);\n\n          if (!!settings.loaderText) {\n            l.text(settings.loaderText);\n            l.addClass('text');\n          }\n\n          d.append(l);\n        }\n\n        return d;\n      }\n    }\n  };\n})(jQuery, window, document);\n/*!\n * # Fomantic-UI 2.8.8 - Dropdown\n * http://github.com/fomantic/Fomantic-UI/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n\n;\n\n(function ($, window, document, undefined) {\n  'use strict';\n\n  $.isFunction = $.isFunction || function (obj) {\n    return typeof obj === \"function\" && typeof obj.nodeType !== \"number\";\n  };\n\n  window = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\n\n  $.fn.dropdown = function (parameters) {\n    var $allModules = $(this),\n        $document = $(document),\n        moduleSelector = $allModules.selector || '',\n        hasTouch = ('ontouchstart' in document.documentElement),\n        clickEvent = hasTouch ? 'touchstart' : 'click',\n        time = new Date().getTime(),\n        performance = [],\n        query = arguments[0],\n        methodInvoked = typeof query == 'string',\n        queryArguments = [].slice.call(arguments, 1),\n        returnedValue;\n    $allModules.each(function (elementIndex) {\n      var settings = $.isPlainObject(parameters) ? $.extend(true, {}, $.fn.dropdown.settings, parameters) : $.extend({}, $.fn.dropdown.settings),\n          className = settings.className,\n          message = settings.message,\n          fields = settings.fields,\n          keys = settings.keys,\n          metadata = settings.metadata,\n          namespace = settings.namespace,\n          regExp = settings.regExp,\n          selector = settings.selector,\n          error = settings.error,\n          templates = settings.templates,\n          eventNamespace = '.' + namespace,\n          moduleNamespace = 'module-' + namespace,\n          $module = $(this),\n          $context = $(settings.context),\n          $text = $module.find(selector.text),\n          $search = $module.find(selector.search),\n          $sizer = $module.find(selector.sizer),\n          $input = $module.find(selector.input),\n          $icon = $module.find(selector.icon),\n          $clear = $module.find(selector.clearIcon),\n          $combo = $module.prev().find(selector.text).length > 0 ? $module.prev().find(selector.text) : $module.prev(),\n          $menu = $module.children(selector.menu),\n          $item = $menu.find(selector.item),\n          $divider = settings.hideDividers ? $item.parent().children(selector.divider) : $(),\n          activated = false,\n          itemActivated = false,\n          internalChange = false,\n          iconClicked = false,\n          element = this,\n          focused = false,\n          instance = $module.data(moduleNamespace),\n          selectActionActive,\n          initialLoad,\n          pageLostFocus,\n          willRefocus,\n          elementNamespace,\n          id,\n          selectObserver,\n          menuObserver,\n          classObserver,\n          module;\n      module = {\n        initialize: function () {\n          module.debug('Initializing dropdown', settings);\n\n          if (module.is.alreadySetup()) {\n            module.setup.reference();\n          } else {\n            if (settings.ignoreDiacritics && !String.prototype.normalize) {\n              settings.ignoreDiacritics = false;\n              module.error(error.noNormalize, element);\n            }\n\n            module.setup.layout();\n\n            if (settings.values) {\n              module.set.initialLoad();\n              module.change.values(settings.values);\n              module.remove.initialLoad();\n            }\n\n            module.refreshData();\n            module.save.defaults();\n            module.restore.selected();\n            module.create.id();\n            module.bind.events();\n            module.observeChanges();\n            module.instantiate();\n          }\n        },\n        instantiate: function () {\n          module.verbose('Storing instance of dropdown', module);\n          instance = module;\n          $module.data(moduleNamespace, module);\n        },\n        destroy: function () {\n          module.verbose('Destroying previous dropdown', $module);\n          module.remove.tabbable();\n          module.remove.active();\n          $menu.transition('stop all');\n          $menu.removeClass(className.visible).addClass(className.hidden);\n          $module.off(eventNamespace).removeData(moduleNamespace);\n          $menu.off(eventNamespace);\n          $document.off(elementNamespace);\n          module.disconnect.menuObserver();\n          module.disconnect.selectObserver();\n          module.disconnect.classObserver();\n        },\n        observeChanges: function () {\n          if ('MutationObserver' in window) {\n            selectObserver = new MutationObserver(module.event.select.mutation);\n            menuObserver = new MutationObserver(module.event.menu.mutation);\n            classObserver = new MutationObserver(module.event.class.mutation);\n            module.debug('Setting up mutation observer', selectObserver, menuObserver, classObserver);\n            module.observe.select();\n            module.observe.menu();\n            module.observe.class();\n          }\n        },\n        disconnect: {\n          menuObserver: function () {\n            if (menuObserver) {\n              menuObserver.disconnect();\n            }\n          },\n          selectObserver: function () {\n            if (selectObserver) {\n              selectObserver.disconnect();\n            }\n          },\n          classObserver: function () {\n            if (classObserver) {\n              classObserver.disconnect();\n            }\n          }\n        },\n        observe: {\n          select: function () {\n            if (module.has.input() && selectObserver) {\n              selectObserver.observe($module[0], {\n                childList: true,\n                subtree: true\n              });\n            }\n          },\n          menu: function () {\n            if (module.has.menu() && menuObserver) {\n              menuObserver.observe($menu[0], {\n                childList: true,\n                subtree: true\n              });\n            }\n          },\n          class: function () {\n            if (module.has.search() && classObserver) {\n              classObserver.observe($module[0], {\n                attributes: true\n              });\n            }\n          }\n        },\n        create: {\n          id: function () {\n            id = (Math.random().toString(16) + '000000000').substr(2, 8);\n            elementNamespace = '.' + id;\n            module.verbose('Creating unique id for element', id);\n          },\n          userChoice: function (values) {\n            var $userChoices, $userChoice, isUserValue, html;\n            values = values || module.get.userValues();\n\n            if (!values) {\n              return false;\n            }\n\n            values = Array.isArray(values) ? values : [values];\n            $.each(values, function (index, value) {\n              if (module.get.item(value) === false) {\n                html = settings.templates.addition(module.add.variables(message.addResult, value));\n                $userChoice = $('<div />').html(html).attr('data-' + metadata.value, value).attr('data-' + metadata.text, value).addClass(className.addition).addClass(className.item);\n\n                if (settings.hideAdditions) {\n                  $userChoice.addClass(className.hidden);\n                }\n\n                $userChoices = $userChoices === undefined ? $userChoice : $userChoices.add($userChoice);\n                module.verbose('Creating user choices for value', value, $userChoice);\n              }\n            });\n            return $userChoices;\n          },\n          userLabels: function (value) {\n            var userValues = module.get.userValues();\n\n            if (userValues) {\n              module.debug('Adding user labels', userValues);\n              $.each(userValues, function (index, value) {\n                module.verbose('Adding custom user value');\n                module.add.label(value, value);\n              });\n            }\n          },\n          menu: function () {\n            $menu = $('<div />').addClass(className.menu).appendTo($module);\n          },\n          sizer: function () {\n            $sizer = $('<span />').addClass(className.sizer).insertAfter($search);\n          }\n        },\n        search: function (query) {\n          query = query !== undefined ? query : module.get.query();\n          module.verbose('Searching for query', query);\n\n          if (settings.fireOnInit === false && module.is.initialLoad()) {\n            module.verbose('Skipping callback on initial load', settings.onSearch);\n          } else if (module.has.minCharacters(query) && settings.onSearch.call(element, query) !== false) {\n            module.filter(query);\n          } else {\n            module.hide(null, true);\n          }\n        },\n        select: {\n          firstUnfiltered: function () {\n            module.verbose('Selecting first non-filtered element');\n            module.remove.selectedItem();\n            $item.not(selector.unselectable).not(selector.addition + selector.hidden).eq(0).addClass(className.selected);\n          },\n          nextAvailable: function ($selected) {\n            $selected = $selected.eq(0);\n            var $nextAvailable = $selected.nextAll(selector.item).not(selector.unselectable).eq(0),\n                $prevAvailable = $selected.prevAll(selector.item).not(selector.unselectable).eq(0),\n                hasNext = $nextAvailable.length > 0;\n\n            if (hasNext) {\n              module.verbose('Moving selection to', $nextAvailable);\n              $nextAvailable.addClass(className.selected);\n            } else {\n              module.verbose('Moving selection to', $prevAvailable);\n              $prevAvailable.addClass(className.selected);\n            }\n          }\n        },\n        setup: {\n          api: function () {\n            var apiSettings = {\n              debug: settings.debug,\n              urlData: {\n                value: module.get.value(),\n                query: module.get.query()\n              },\n              on: false\n            };\n            module.verbose('First request, initializing API');\n            $module.api(apiSettings);\n          },\n          layout: function () {\n            if ($module.is('select')) {\n              module.setup.select();\n              module.setup.returnedObject();\n            }\n\n            if (!module.has.menu()) {\n              module.create.menu();\n            }\n\n            if (module.is.clearable() && !module.has.clearItem()) {\n              module.verbose('Adding clear icon');\n              $clear = $('<i />').addClass('remove icon').insertBefore($text);\n            }\n\n            if (module.is.search() && !module.has.search()) {\n              module.verbose('Adding search input');\n              $search = $('<input />').addClass(className.search).prop('autocomplete', module.is.chrome() ? 'fomantic-search' : 'off').insertBefore($text);\n            }\n\n            if (module.is.multiple() && module.is.searchSelection() && !module.has.sizer()) {\n              module.create.sizer();\n            }\n\n            if (settings.allowTab) {\n              module.set.tabbable();\n            }\n          },\n          select: function () {\n            var selectValues = module.get.selectValues();\n            module.debug('Dropdown initialized on a select', selectValues);\n\n            if ($module.is('select')) {\n              $input = $module;\n            } // see if select is placed correctly already\n\n\n            if ($input.parent(selector.dropdown).length > 0) {\n              module.debug('UI dropdown already exists. Creating dropdown menu only');\n              $module = $input.closest(selector.dropdown);\n\n              if (!module.has.menu()) {\n                module.create.menu();\n              }\n\n              $menu = $module.children(selector.menu);\n              module.setup.menu(selectValues);\n            } else {\n              module.debug('Creating entire dropdown from select');\n              $module = $('<div />').attr('class', $input.attr('class')).addClass(className.selection).addClass(className.dropdown).html(templates.dropdown(selectValues, fields, settings.preserveHTML, settings.className)).insertBefore($input);\n\n              if ($input.hasClass(className.multiple) && $input.prop('multiple') === false) {\n                module.error(error.missingMultiple);\n                $input.prop('multiple', true);\n              }\n\n              if ($input.is('[multiple]')) {\n                module.set.multiple();\n              }\n\n              if ($input.prop('disabled')) {\n                module.debug('Disabling dropdown');\n                $module.addClass(className.disabled);\n              }\n\n              $input.removeAttr('required').removeAttr('class').detach().prependTo($module);\n            }\n\n            module.refresh();\n          },\n          menu: function (values) {\n            $menu.html(templates.menu(values, fields, settings.preserveHTML, settings.className));\n            $item = $menu.find(selector.item);\n            $divider = settings.hideDividers ? $item.parent().children(selector.divider) : $();\n          },\n          reference: function () {\n            module.debug('Dropdown behavior was called on select, replacing with closest dropdown'); // replace module reference\n\n            $module = $module.parent(selector.dropdown);\n            instance = $module.data(moduleNamespace);\n            element = $module.get(0);\n            module.refresh();\n            module.setup.returnedObject();\n          },\n          returnedObject: function () {\n            var $firstModules = $allModules.slice(0, elementIndex),\n                $lastModules = $allModules.slice(elementIndex + 1); // adjust all modules to use correct reference\n\n            $allModules = $firstModules.add($module).add($lastModules);\n          }\n        },\n        refresh: function () {\n          module.refreshSelectors();\n          module.refreshData();\n        },\n        refreshItems: function () {\n          $item = $menu.find(selector.item);\n          $divider = settings.hideDividers ? $item.parent().children(selector.divider) : $();\n        },\n        refreshSelectors: function () {\n          module.verbose('Refreshing selector cache');\n          $text = $module.find(selector.text);\n          $search = $module.find(selector.search);\n          $input = $module.find(selector.input);\n          $icon = $module.find(selector.icon);\n          $combo = $module.prev().find(selector.text).length > 0 ? $module.prev().find(selector.text) : $module.prev();\n          $menu = $module.children(selector.menu);\n          $item = $menu.find(selector.item);\n          $divider = settings.hideDividers ? $item.parent().children(selector.divider) : $();\n        },\n        refreshData: function () {\n          module.verbose('Refreshing cached metadata');\n          $item.removeData(metadata.text).removeData(metadata.value);\n        },\n        clearData: function () {\n          module.verbose('Clearing metadata');\n          $item.removeData(metadata.text).removeData(metadata.value);\n          $module.removeData(metadata.defaultText).removeData(metadata.defaultValue).removeData(metadata.placeholderText);\n        },\n        clearItems: function () {\n          $menu.empty();\n          module.refreshItems();\n        },\n        toggle: function () {\n          module.verbose('Toggling menu visibility');\n\n          if (!module.is.active()) {\n            module.show();\n          } else {\n            module.hide();\n          }\n        },\n        show: function (callback, preventFocus) {\n          callback = $.isFunction(callback) ? callback : function () {};\n\n          if ((focused || iconClicked) && module.is.remote() && module.is.noApiCache()) {\n            module.clearItems();\n          }\n\n          if (!module.can.show() && module.is.remote()) {\n            module.debug('No API results retrieved, searching before show');\n            module.queryRemote(module.get.query(), module.show, [callback, preventFocus]);\n          }\n\n          if (module.can.show() && !module.is.active()) {\n            module.debug('Showing dropdown');\n\n            if (module.has.message() && !(module.has.maxSelections() || module.has.allResultsFiltered())) {\n              module.remove.message();\n            }\n\n            if (module.is.allFiltered()) {\n              return true;\n            }\n\n            if (settings.onShow.call(element) !== false) {\n              module.animate.show(function () {\n                if (module.can.click()) {\n                  module.bind.intent();\n                }\n\n                if (module.has.search() && !preventFocus) {\n                  module.focusSearch();\n                }\n\n                module.set.visible();\n                callback.call(element);\n              });\n            }\n          }\n        },\n        hide: function (callback, preventBlur) {\n          callback = $.isFunction(callback) ? callback : function () {};\n\n          if (module.is.active() && !module.is.animatingOutward()) {\n            module.debug('Hiding dropdown');\n\n            if (settings.onHide.call(element) !== false) {\n              module.animate.hide(function () {\n                module.remove.visible(); // hidding search focus\n\n                if (module.is.focusedOnSearch() && preventBlur !== true) {\n                  $search.blur();\n                }\n\n                callback.call(element);\n              });\n            }\n          } else if (module.can.click()) {\n            module.unbind.intent();\n          }\n\n          iconClicked = false;\n          focused = false;\n        },\n        hideOthers: function () {\n          module.verbose('Finding other dropdowns to hide');\n          $allModules.not($module).has(selector.menu + '.' + className.visible).dropdown('hide');\n        },\n        hideMenu: function () {\n          module.verbose('Hiding menu  instantaneously');\n          module.remove.active();\n          module.remove.visible();\n          $menu.transition('hide');\n        },\n        hideSubMenus: function () {\n          var $subMenus = $menu.children(selector.item).find(selector.menu);\n          module.verbose('Hiding sub menus', $subMenus);\n          $subMenus.transition('hide');\n        },\n        bind: {\n          events: function () {\n            module.bind.keyboardEvents();\n            module.bind.inputEvents();\n            module.bind.mouseEvents();\n          },\n          keyboardEvents: function () {\n            module.verbose('Binding keyboard events');\n            $module.on('keydown' + eventNamespace, module.event.keydown);\n\n            if (module.has.search()) {\n              $module.on(module.get.inputEvent() + eventNamespace, selector.search, module.event.input);\n            }\n\n            if (module.is.multiple()) {\n              $document.on('keydown' + elementNamespace, module.event.document.keydown);\n            }\n          },\n          inputEvents: function () {\n            module.verbose('Binding input change events');\n            $module.on('change' + eventNamespace, selector.input, module.event.change);\n          },\n          mouseEvents: function () {\n            module.verbose('Binding mouse events');\n\n            if (module.is.multiple()) {\n              $module.on(clickEvent + eventNamespace, selector.label, module.event.label.click).on(clickEvent + eventNamespace, selector.remove, module.event.remove.click);\n            }\n\n            if (module.is.searchSelection()) {\n              $module.on('mousedown' + eventNamespace, module.event.mousedown).on('mouseup' + eventNamespace, module.event.mouseup).on('mousedown' + eventNamespace, selector.menu, module.event.menu.mousedown).on('mouseup' + eventNamespace, selector.menu, module.event.menu.mouseup).on(clickEvent + eventNamespace, selector.icon, module.event.icon.click).on(clickEvent + eventNamespace, selector.clearIcon, module.event.clearIcon.click).on('focus' + eventNamespace, selector.search, module.event.search.focus).on(clickEvent + eventNamespace, selector.search, module.event.search.focus).on('blur' + eventNamespace, selector.search, module.event.search.blur).on(clickEvent + eventNamespace, selector.text, module.event.text.focus);\n\n              if (module.is.multiple()) {\n                $module.on(clickEvent + eventNamespace, module.event.click).on(clickEvent + eventNamespace, module.event.search.focus);\n              }\n            } else {\n              if (settings.on == 'click') {\n                $module.on(clickEvent + eventNamespace, selector.icon, module.event.icon.click).on(clickEvent + eventNamespace, module.event.test.toggle);\n              } else if (settings.on == 'hover') {\n                $module.on('mouseenter' + eventNamespace, module.delay.show).on('mouseleave' + eventNamespace, module.delay.hide);\n              } else {\n                $module.on(settings.on + eventNamespace, module.toggle);\n              }\n\n              $module.on('mousedown' + eventNamespace, module.event.mousedown).on('mouseup' + eventNamespace, module.event.mouseup).on('focus' + eventNamespace, module.event.focus).on(clickEvent + eventNamespace, selector.clearIcon, module.event.clearIcon.click);\n\n              if (module.has.menuSearch()) {\n                $module.on('blur' + eventNamespace, selector.search, module.event.search.blur);\n              } else {\n                $module.on('blur' + eventNamespace, module.event.blur);\n              }\n            }\n\n            $menu.on((hasTouch ? 'touchstart' : 'mouseenter') + eventNamespace, selector.item, module.event.item.mouseenter).on('mouseleave' + eventNamespace, selector.item, module.event.item.mouseleave).on('click' + eventNamespace, selector.item, module.event.item.click);\n          },\n          intent: function () {\n            module.verbose('Binding hide intent event to document');\n\n            if (hasTouch) {\n              $document.on('touchstart' + elementNamespace, module.event.test.touch).on('touchmove' + elementNamespace, module.event.test.touch);\n            }\n\n            $document.on(clickEvent + elementNamespace, module.event.test.hide);\n          }\n        },\n        unbind: {\n          intent: function () {\n            module.verbose('Removing hide intent event from document');\n\n            if (hasTouch) {\n              $document.off('touchstart' + elementNamespace).off('touchmove' + elementNamespace);\n            }\n\n            $document.off(clickEvent + elementNamespace);\n          }\n        },\n        filter: function (query) {\n          var searchTerm = query !== undefined ? query : module.get.query(),\n              afterFiltered = function () {\n            if (module.is.multiple()) {\n              module.filterActive();\n            }\n\n            if (query || !query && module.get.activeItem().length == 0) {\n              module.select.firstUnfiltered();\n            }\n\n            if (module.has.allResultsFiltered()) {\n              if (settings.onNoResults.call(element, searchTerm)) {\n                if (settings.allowAdditions) {\n                  if (settings.hideAdditions) {\n                    module.verbose('User addition with no menu, setting empty style');\n                    module.set.empty();\n                    module.hideMenu();\n                  }\n                } else {\n                  module.verbose('All items filtered, showing message', searchTerm);\n                  module.add.message(message.noResults);\n                }\n              } else {\n                module.verbose('All items filtered, hiding dropdown', searchTerm);\n                module.hideMenu();\n              }\n            } else {\n              module.remove.empty();\n              module.remove.message();\n            }\n\n            if (settings.allowAdditions) {\n              module.add.userSuggestion(module.escape.htmlEntities(query));\n            }\n\n            if (module.is.searchSelection() && module.can.show() && module.is.focusedOnSearch()) {\n              module.show();\n            }\n          };\n\n          if (settings.useLabels && module.has.maxSelections()) {\n            return;\n          }\n\n          if (settings.apiSettings) {\n            if (module.can.useAPI()) {\n              module.queryRemote(searchTerm, function () {\n                if (settings.filterRemoteData) {\n                  module.filterItems(searchTerm);\n                }\n\n                var preSelected = $input.val();\n\n                if (!Array.isArray(preSelected)) {\n                  preSelected = preSelected && preSelected !== \"\" ? preSelected.split(settings.delimiter) : [];\n                }\n\n                if (module.is.multiple()) {\n                  $.each(preSelected, function (index, value) {\n                    $item.filter('[data-value=\"' + value + '\"]').addClass(className.filtered);\n                  });\n                }\n\n                module.focusSearch(true);\n                afterFiltered();\n              });\n            } else {\n              module.error(error.noAPI);\n            }\n          } else {\n            module.filterItems(searchTerm);\n            afterFiltered();\n          }\n        },\n        queryRemote: function (query, callback, callbackParameters) {\n          if (!Array.isArray(callbackParameters)) {\n            callbackParameters = [callbackParameters];\n          }\n\n          var apiSettings = {\n            errorDuration: false,\n            cache: 'local',\n            throttle: settings.throttle,\n            urlData: {\n              query: query\n            },\n            onError: function () {\n              module.add.message(message.serverError);\n              iconClicked = false;\n              focused = false;\n              callback.apply(null, callbackParameters);\n            },\n            onFailure: function () {\n              module.add.message(message.serverError);\n              iconClicked = false;\n              focused = false;\n              callback.apply(null, callbackParameters);\n            },\n            onSuccess: function (response) {\n              var values = response[fields.remoteValues];\n\n              if (!Array.isArray(values)) {\n                values = [];\n              }\n\n              module.remove.message();\n              var menuConfig = {};\n              menuConfig[fields.values] = values;\n              module.setup.menu(menuConfig);\n\n              if (values.length === 0 && !settings.allowAdditions) {\n                module.add.message(message.noResults);\n              } else {\n                var value = module.is.multiple() ? module.get.values() : module.get.value();\n\n                if (value !== '') {\n                  module.verbose('Value(s) present after click icon, select value(s) in items');\n                  module.set.selected(value, null, null, true);\n                }\n              }\n\n              iconClicked = false;\n              focused = false;\n              callback.apply(null, callbackParameters);\n            }\n          };\n\n          if (!$module.api('get request')) {\n            module.setup.api();\n          }\n\n          apiSettings = $.extend(true, {}, apiSettings, settings.apiSettings);\n          $module.api('setting', apiSettings).api('query');\n        },\n        filterItems: function (query) {\n          var searchTerm = module.remove.diacritics(query !== undefined ? query : module.get.query()),\n              results = null,\n              escapedTerm = module.escape.string(searchTerm),\n              regExpFlags = (settings.ignoreSearchCase ? 'i' : '') + 'gm',\n              beginsWithRegExp = new RegExp('^' + escapedTerm, regExpFlags); // avoid loop if we're matching nothing\n\n          if (module.has.query()) {\n            results = [];\n            module.verbose('Searching for matching values', searchTerm);\n            $item.each(function () {\n              var $choice = $(this),\n                  text,\n                  value;\n\n              if ($choice.hasClass(className.unfilterable)) {\n                results.push(this);\n                return true;\n              }\n\n              if (settings.match === 'both' || settings.match === 'text') {\n                text = module.remove.diacritics(String(module.get.choiceText($choice, false)));\n\n                if (text.search(beginsWithRegExp) !== -1) {\n                  results.push(this);\n                  return true;\n                } else if (settings.fullTextSearch === 'exact' && module.exactSearch(searchTerm, text)) {\n                  results.push(this);\n                  return true;\n                } else if (settings.fullTextSearch === true && module.fuzzySearch(searchTerm, text)) {\n                  results.push(this);\n                  return true;\n                }\n              }\n\n              if (settings.match === 'both' || settings.match === 'value') {\n                value = module.remove.diacritics(String(module.get.choiceValue($choice, text)));\n\n                if (value.search(beginsWithRegExp) !== -1) {\n                  results.push(this);\n                  return true;\n                } else if (settings.fullTextSearch === 'exact' && module.exactSearch(searchTerm, value)) {\n                  results.push(this);\n                  return true;\n                } else if (settings.fullTextSearch === true && module.fuzzySearch(searchTerm, value)) {\n                  results.push(this);\n                  return true;\n                }\n              }\n            });\n          }\n\n          module.debug('Showing only matched items', searchTerm);\n          module.remove.filteredItem();\n\n          if (results) {\n            $item.not(results).addClass(className.filtered);\n          }\n\n          if (!module.has.query()) {\n            $divider.removeClass(className.hidden);\n          } else if (settings.hideDividers === true) {\n            $divider.addClass(className.hidden);\n          } else if (settings.hideDividers === 'empty') {\n            $divider.removeClass(className.hidden).filter(function () {\n              // First find the last divider in this divider group\n              // Dividers which are direct siblings are considered a group\n              var lastDivider = $(this).nextUntil(selector.item);\n              return (lastDivider.length ? lastDivider : $(this) // Count all non-filtered items until the next divider (or end of the dropdown)\n              ).nextUntil(selector.divider).filter(selector.item + \":not(.\" + className.filtered + \")\") // Hide divider if no items are found\n              .length === 0;\n            }).addClass(className.hidden);\n          }\n        },\n        fuzzySearch: function (query, term) {\n          var termLength = term.length,\n              queryLength = query.length;\n          query = settings.ignoreSearchCase ? query.toLowerCase() : query;\n          term = settings.ignoreSearchCase ? term.toLowerCase() : term;\n\n          if (queryLength > termLength) {\n            return false;\n          }\n\n          if (queryLength === termLength) {\n            return query === term;\n          }\n\n          search: for (var characterIndex = 0, nextCharacterIndex = 0; characterIndex < queryLength; characterIndex++) {\n            var queryCharacter = query.charCodeAt(characterIndex);\n\n            while (nextCharacterIndex < termLength) {\n              if (term.charCodeAt(nextCharacterIndex++) === queryCharacter) {\n                continue search;\n              }\n            }\n\n            return false;\n          }\n\n          return true;\n        },\n        exactSearch: function (query, term) {\n          query = settings.ignoreSearchCase ? query.toLowerCase() : query;\n          term = settings.ignoreSearchCase ? term.toLowerCase() : term;\n          return term.indexOf(query) > -1;\n        },\n        filterActive: function () {\n          if (settings.useLabels) {\n            $item.filter('.' + className.active).addClass(className.filtered);\n          }\n        },\n        focusSearch: function (skipHandler) {\n          if (module.has.search() && !module.is.focusedOnSearch()) {\n            if (skipHandler) {\n              $module.off('focus' + eventNamespace, selector.search);\n              $search.focus();\n              $module.on('focus' + eventNamespace, selector.search, module.event.search.focus);\n            } else {\n              $search.focus();\n            }\n          }\n        },\n        blurSearch: function () {\n          if (module.has.search()) {\n            $search.blur();\n          }\n        },\n        forceSelection: function () {\n          var $currentlySelected = $item.not(className.filtered).filter('.' + className.selected).eq(0),\n              $activeItem = $item.not(className.filtered).filter('.' + className.active).eq(0),\n              $selectedItem = $currentlySelected.length > 0 ? $currentlySelected : $activeItem,\n              hasSelected = $selectedItem.length > 0;\n\n          if (settings.allowAdditions || hasSelected && !module.is.multiple()) {\n            module.debug('Forcing partial selection to selected item', $selectedItem);\n            module.event.item.click.call($selectedItem, {}, true);\n          } else {\n            module.remove.searchTerm();\n          }\n        },\n        change: {\n          values: function (values) {\n            if (!settings.allowAdditions) {\n              module.clear();\n            }\n\n            module.debug('Creating dropdown with specified values', values);\n            var menuConfig = {};\n            menuConfig[fields.values] = values;\n            module.setup.menu(menuConfig);\n            $.each(values, function (index, item) {\n              if (item.selected == true) {\n                module.debug('Setting initial selection to', item[fields.value]);\n                module.set.selected(item[fields.value]);\n\n                if (!module.is.multiple()) {\n                  return false;\n                }\n              }\n            });\n\n            if (module.has.selectInput()) {\n              module.disconnect.selectObserver();\n              $input.html('');\n              $input.append('<option disabled selected value></option>');\n              $.each(values, function (index, item) {\n                var value = settings.templates.deQuote(item[fields.value]),\n                    name = settings.templates.escape(item[fields.name] || '', settings.preserveHTML);\n                $input.append('<option value=\"' + value + '\">' + name + '</option>');\n              });\n              module.observe.select();\n            }\n          }\n        },\n        event: {\n          change: function () {\n            if (!internalChange) {\n              module.debug('Input changed, updating selection');\n              module.set.selected();\n            }\n          },\n          focus: function () {\n            if (settings.showOnFocus && !activated && module.is.hidden() && !pageLostFocus) {\n              focused = true;\n              module.show();\n            }\n          },\n          blur: function (event) {\n            pageLostFocus = document.activeElement === this;\n\n            if (!activated && !pageLostFocus) {\n              module.remove.activeLabel();\n              module.hide();\n            }\n          },\n          mousedown: function () {\n            if (module.is.searchSelection()) {\n              // prevent menu hiding on immediate re-focus\n              willRefocus = true;\n            } else {\n              // prevents focus callback from occurring on mousedown\n              activated = true;\n            }\n          },\n          mouseup: function () {\n            if (module.is.searchSelection()) {\n              // prevent menu hiding on immediate re-focus\n              willRefocus = false;\n            } else {\n              activated = false;\n            }\n          },\n          click: function (event) {\n            var $target = $(event.target); // focus search\n\n            if ($target.is($module)) {\n              if (!module.is.focusedOnSearch()) {\n                module.focusSearch();\n              } else {\n                module.show();\n              }\n            }\n          },\n          search: {\n            focus: function (event) {\n              activated = true;\n\n              if (module.is.multiple()) {\n                module.remove.activeLabel();\n              }\n\n              if (!focused && !module.is.active() && (settings.showOnFocus || event.type !== 'focus' && event.type !== 'focusin')) {\n                focused = true;\n                module.search();\n              }\n            },\n            blur: function (event) {\n              pageLostFocus = document.activeElement === this;\n\n              if (module.is.searchSelection() && !willRefocus) {\n                if (!itemActivated && !pageLostFocus) {\n                  if (settings.forceSelection) {\n                    module.forceSelection();\n                  } else if (!settings.allowAdditions) {\n                    module.remove.searchTerm();\n                  }\n\n                  module.hide();\n                }\n              }\n\n              willRefocus = false;\n            }\n          },\n          clearIcon: {\n            click: function (event) {\n              module.clear();\n\n              if (module.is.searchSelection()) {\n                module.remove.searchTerm();\n              }\n\n              module.hide();\n              event.stopPropagation();\n            }\n          },\n          icon: {\n            click: function (event) {\n              iconClicked = true;\n\n              if (module.has.search()) {\n                if (!module.is.active()) {\n                  if (settings.showOnFocus) {\n                    module.focusSearch();\n                  } else {\n                    module.toggle();\n                  }\n                } else {\n                  module.blurSearch();\n                }\n              } else {\n                module.toggle();\n              }\n\n              event.stopPropagation();\n            }\n          },\n          text: {\n            focus: function (event) {\n              activated = true;\n              module.focusSearch();\n            }\n          },\n          input: function (event) {\n            if (module.is.multiple() || module.is.searchSelection()) {\n              module.set.filtered();\n            }\n\n            clearTimeout(module.timer);\n            module.timer = setTimeout(module.search, settings.delay.search);\n          },\n          label: {\n            click: function (event) {\n              var $label = $(this),\n                  $labels = $module.find(selector.label),\n                  $activeLabels = $labels.filter('.' + className.active),\n                  $nextActive = $label.nextAll('.' + className.active),\n                  $prevActive = $label.prevAll('.' + className.active),\n                  $range = $nextActive.length > 0 ? $label.nextUntil($nextActive).add($activeLabels).add($label) : $label.prevUntil($prevActive).add($activeLabels).add($label);\n\n              if (event.shiftKey) {\n                $activeLabels.removeClass(className.active);\n                $range.addClass(className.active);\n              } else if (event.ctrlKey) {\n                $label.toggleClass(className.active);\n              } else {\n                $activeLabels.removeClass(className.active);\n                $label.addClass(className.active);\n              }\n\n              settings.onLabelSelect.apply(this, $labels.filter('.' + className.active));\n              event.stopPropagation();\n            }\n          },\n          remove: {\n            click: function (event) {\n              var $label = $(this).parent();\n\n              if ($label.hasClass(className.active)) {\n                // remove all selected labels\n                module.remove.activeLabels();\n              } else {\n                // remove this label only\n                module.remove.activeLabels($label);\n              }\n\n              event.stopPropagation();\n            }\n          },\n          test: {\n            toggle: function (event) {\n              var toggleBehavior = module.is.multiple() ? module.show : module.toggle;\n\n              if (module.is.bubbledLabelClick(event) || module.is.bubbledIconClick(event)) {\n                return;\n              }\n\n              if (!module.is.multiple() || module.is.multiple() && !module.is.active()) {\n                focused = true;\n              }\n\n              if (module.determine.eventOnElement(event, toggleBehavior)) {\n                event.preventDefault();\n              }\n            },\n            touch: function (event) {\n              module.determine.eventOnElement(event, function () {\n                if (event.type == 'touchstart') {\n                  module.timer = setTimeout(function () {\n                    module.hide();\n                  }, settings.delay.touch);\n                } else if (event.type == 'touchmove') {\n                  clearTimeout(module.timer);\n                }\n              });\n              event.stopPropagation();\n            },\n            hide: function (event) {\n              if (module.determine.eventInModule(event, module.hide)) {\n                if (element.id && $(event.target).attr('for') === element.id) {\n                  event.preventDefault();\n                }\n              }\n            }\n          },\n          class: {\n            mutation: function (mutations) {\n              mutations.forEach(function (mutation) {\n                if (mutation.attributeName === \"class\") {\n                  module.check.disabled();\n                }\n              });\n            }\n          },\n          select: {\n            mutation: function (mutations) {\n              module.debug('<select> modified, recreating menu');\n\n              if (module.is.selectMutation(mutations)) {\n                module.disconnect.selectObserver();\n                module.refresh();\n                module.setup.select();\n                module.set.selected();\n                module.observe.select();\n              }\n            }\n          },\n          menu: {\n            mutation: function (mutations) {\n              var mutation = mutations[0],\n                  $addedNode = mutation.addedNodes ? $(mutation.addedNodes[0]) : $(false),\n                  $removedNode = mutation.removedNodes ? $(mutation.removedNodes[0]) : $(false),\n                  $changedNodes = $addedNode.add($removedNode),\n                  isUserAddition = $changedNodes.is(selector.addition) || $changedNodes.closest(selector.addition).length > 0,\n                  isMessage = $changedNodes.is(selector.message) || $changedNodes.closest(selector.message).length > 0;\n\n              if (isUserAddition || isMessage) {\n                module.debug('Updating item selector cache');\n                module.refreshItems();\n              } else {\n                module.debug('Menu modified, updating selector cache');\n                module.refresh();\n              }\n            },\n            mousedown: function () {\n              itemActivated = true;\n            },\n            mouseup: function () {\n              itemActivated = false;\n            }\n          },\n          item: {\n            mouseenter: function (event) {\n              var $target = $(event.target),\n                  $item = $(this),\n                  $subMenu = $item.children(selector.menu),\n                  $otherMenus = $item.siblings(selector.item).children(selector.menu),\n                  hasSubMenu = $subMenu.length > 0,\n                  isBubbledEvent = $subMenu.find($target).length > 0;\n\n              if (!isBubbledEvent && hasSubMenu) {\n                clearTimeout(module.itemTimer);\n                module.itemTimer = setTimeout(function () {\n                  module.verbose('Showing sub-menu', $subMenu);\n                  $.each($otherMenus, function () {\n                    module.animate.hide(false, $(this));\n                  });\n                  module.animate.show(false, $subMenu);\n                }, settings.delay.show);\n                event.preventDefault();\n              }\n            },\n            mouseleave: function (event) {\n              var $subMenu = $(this).children(selector.menu);\n\n              if ($subMenu.length > 0) {\n                clearTimeout(module.itemTimer);\n                module.itemTimer = setTimeout(function () {\n                  module.verbose('Hiding sub-menu', $subMenu);\n                  module.animate.hide(false, $subMenu);\n                }, settings.delay.hide);\n              }\n            },\n            click: function (event, skipRefocus) {\n              var $choice = $(this),\n                  $target = event ? $(event.target) : $(''),\n                  $subMenu = $choice.find(selector.menu),\n                  text = module.get.choiceText($choice),\n                  value = module.get.choiceValue($choice, text),\n                  hasSubMenu = $subMenu.length > 0,\n                  isBubbledEvent = $subMenu.find($target).length > 0; // prevents IE11 bug where menu receives focus even though `tabindex=-1`\n\n              if (document.activeElement.tagName.toLowerCase() !== 'input') {\n                $(document.activeElement).blur();\n              }\n\n              if (!isBubbledEvent && (!hasSubMenu || settings.allowCategorySelection)) {\n                if (module.is.searchSelection()) {\n                  if (settings.allowAdditions) {\n                    module.remove.userAddition();\n                  }\n\n                  module.remove.searchTerm();\n\n                  if (!module.is.focusedOnSearch() && !(skipRefocus == true)) {\n                    module.focusSearch(true);\n                  }\n                }\n\n                if (!settings.useLabels) {\n                  module.remove.filteredItem();\n                  module.set.scrollPosition($choice);\n                }\n\n                module.determine.selectAction.call(this, text, value);\n              }\n            }\n          },\n          document: {\n            // label selection should occur even when element has no focus\n            keydown: function (event) {\n              var pressedKey = event.which,\n                  isShortcutKey = module.is.inObject(pressedKey, keys);\n\n              if (isShortcutKey) {\n                var $label = $module.find(selector.label),\n                    $activeLabel = $label.filter('.' + className.active),\n                    activeValue = $activeLabel.data(metadata.value),\n                    labelIndex = $label.index($activeLabel),\n                    labelCount = $label.length,\n                    hasActiveLabel = $activeLabel.length > 0,\n                    hasMultipleActive = $activeLabel.length > 1,\n                    isFirstLabel = labelIndex === 0,\n                    isLastLabel = labelIndex + 1 == labelCount,\n                    isSearch = module.is.searchSelection(),\n                    isFocusedOnSearch = module.is.focusedOnSearch(),\n                    isFocused = module.is.focused(),\n                    caretAtStart = isFocusedOnSearch && module.get.caretPosition(false) === 0,\n                    isSelectedSearch = caretAtStart && module.get.caretPosition(true) !== 0,\n                    $nextLabel;\n\n                if (isSearch && !hasActiveLabel && !isFocusedOnSearch) {\n                  return;\n                }\n\n                if (pressedKey == keys.leftArrow) {\n                  // activate previous label\n                  if ((isFocused || caretAtStart) && !hasActiveLabel) {\n                    module.verbose('Selecting previous label');\n                    $label.last().addClass(className.active);\n                  } else if (hasActiveLabel) {\n                    if (!event.shiftKey) {\n                      module.verbose('Selecting previous label');\n                      $label.removeClass(className.active);\n                    } else {\n                      module.verbose('Adding previous label to selection');\n                    }\n\n                    if (isFirstLabel && !hasMultipleActive) {\n                      $activeLabel.addClass(className.active);\n                    } else {\n                      $activeLabel.prev(selector.siblingLabel).addClass(className.active).end();\n                    }\n\n                    event.preventDefault();\n                  }\n                } else if (pressedKey == keys.rightArrow) {\n                  // activate first label\n                  if (isFocused && !hasActiveLabel) {\n                    $label.first().addClass(className.active);\n                  } // activate next label\n\n\n                  if (hasActiveLabel) {\n                    if (!event.shiftKey) {\n                      module.verbose('Selecting next label');\n                      $label.removeClass(className.active);\n                    } else {\n                      module.verbose('Adding next label to selection');\n                    }\n\n                    if (isLastLabel) {\n                      if (isSearch) {\n                        if (!isFocusedOnSearch) {\n                          module.focusSearch();\n                        } else {\n                          $label.removeClass(className.active);\n                        }\n                      } else if (hasMultipleActive) {\n                        $activeLabel.next(selector.siblingLabel).addClass(className.active);\n                      } else {\n                        $activeLabel.addClass(className.active);\n                      }\n                    } else {\n                      $activeLabel.next(selector.siblingLabel).addClass(className.active);\n                    }\n\n                    event.preventDefault();\n                  }\n                } else if (pressedKey == keys.deleteKey || pressedKey == keys.backspace) {\n                  if (hasActiveLabel) {\n                    module.verbose('Removing active labels');\n\n                    if (isLastLabel) {\n                      if (isSearch && !isFocusedOnSearch) {\n                        module.focusSearch();\n                      }\n                    }\n\n                    $activeLabel.last().next(selector.siblingLabel).addClass(className.active);\n                    module.remove.activeLabels($activeLabel);\n                    event.preventDefault();\n                  } else if (caretAtStart && !isSelectedSearch && !hasActiveLabel && pressedKey == keys.backspace) {\n                    module.verbose('Removing last label on input backspace');\n                    $activeLabel = $label.last().addClass(className.active);\n                    module.remove.activeLabels($activeLabel);\n                  }\n                } else {\n                  $activeLabel.removeClass(className.active);\n                }\n              }\n            }\n          },\n          keydown: function (event) {\n            var pressedKey = event.which,\n                isShortcutKey = module.is.inObject(pressedKey, keys);\n\n            if (isShortcutKey) {\n              var $currentlySelected = $item.not(selector.unselectable).filter('.' + className.selected).eq(0),\n                  $activeItem = $menu.children('.' + className.active).eq(0),\n                  $selectedItem = $currentlySelected.length > 0 ? $currentlySelected : $activeItem,\n                  $visibleItems = $selectedItem.length > 0 ? $selectedItem.siblings(':not(.' + className.filtered + ')').addBack() : $menu.children(':not(.' + className.filtered + ')'),\n                  $subMenu = $selectedItem.children(selector.menu),\n                  $parentMenu = $selectedItem.closest(selector.menu),\n                  inVisibleMenu = $parentMenu.hasClass(className.visible) || $parentMenu.hasClass(className.animating) || $parentMenu.parent(selector.menu).length > 0,\n                  hasSubMenu = $subMenu.length > 0,\n                  hasSelectedItem = $selectedItem.length > 0,\n                  selectedIsSelectable = $selectedItem.not(selector.unselectable).length > 0,\n                  delimiterPressed = pressedKey == keys.delimiter && settings.allowAdditions && module.is.multiple(),\n                  isAdditionWithoutMenu = settings.allowAdditions && settings.hideAdditions && (pressedKey == keys.enter || delimiterPressed) && selectedIsSelectable,\n                  $nextItem,\n                  isSubMenuItem,\n                  newIndex; // allow selection with menu closed\n\n              if (isAdditionWithoutMenu) {\n                module.verbose('Selecting item from keyboard shortcut', $selectedItem);\n                module.event.item.click.call($selectedItem, event);\n\n                if (module.is.searchSelection()) {\n                  module.remove.searchTerm();\n                }\n\n                if (module.is.multiple()) {\n                  event.preventDefault();\n                }\n              } // visible menu keyboard shortcuts\n\n\n              if (module.is.visible()) {\n                // enter (select or open sub-menu)\n                if (pressedKey == keys.enter || delimiterPressed) {\n                  if (pressedKey == keys.enter && hasSelectedItem && hasSubMenu && !settings.allowCategorySelection) {\n                    module.verbose('Pressed enter on unselectable category, opening sub menu');\n                    pressedKey = keys.rightArrow;\n                  } else if (selectedIsSelectable) {\n                    module.verbose('Selecting item from keyboard shortcut', $selectedItem);\n                    module.event.item.click.call($selectedItem, event);\n\n                    if (module.is.searchSelection()) {\n                      module.remove.searchTerm();\n\n                      if (module.is.multiple()) {\n                        $search.focus();\n                      }\n                    }\n                  }\n\n                  event.preventDefault();\n                } // sub-menu actions\n\n\n                if (hasSelectedItem) {\n                  if (pressedKey == keys.leftArrow) {\n                    isSubMenuItem = $parentMenu[0] !== $menu[0];\n\n                    if (isSubMenuItem) {\n                      module.verbose('Left key pressed, closing sub-menu');\n                      module.animate.hide(false, $parentMenu);\n                      $selectedItem.removeClass(className.selected);\n                      $parentMenu.closest(selector.item).addClass(className.selected);\n                      event.preventDefault();\n                    }\n                  } // right arrow (show sub-menu)\n\n\n                  if (pressedKey == keys.rightArrow) {\n                    if (hasSubMenu) {\n                      module.verbose('Right key pressed, opening sub-menu');\n                      module.animate.show(false, $subMenu);\n                      $selectedItem.removeClass(className.selected);\n                      $subMenu.find(selector.item).eq(0).addClass(className.selected);\n                      event.preventDefault();\n                    }\n                  }\n                } // up arrow (traverse menu up)\n\n\n                if (pressedKey == keys.upArrow) {\n                  $nextItem = hasSelectedItem && inVisibleMenu ? $selectedItem.prevAll(selector.item + ':not(' + selector.unselectable + ')').eq(0) : $item.eq(0);\n\n                  if ($visibleItems.index($nextItem) < 0) {\n                    module.verbose('Up key pressed but reached top of current menu');\n                    event.preventDefault();\n                    return;\n                  } else {\n                    module.verbose('Up key pressed, changing active item');\n                    $selectedItem.removeClass(className.selected);\n                    $nextItem.addClass(className.selected);\n                    module.set.scrollPosition($nextItem);\n\n                    if (settings.selectOnKeydown && module.is.single()) {\n                      module.set.selectedItem($nextItem);\n                    }\n                  }\n\n                  event.preventDefault();\n                } // down arrow (traverse menu down)\n\n\n                if (pressedKey == keys.downArrow) {\n                  $nextItem = hasSelectedItem && inVisibleMenu ? $nextItem = $selectedItem.nextAll(selector.item + ':not(' + selector.unselectable + ')').eq(0) : $item.eq(0);\n\n                  if ($nextItem.length === 0) {\n                    module.verbose('Down key pressed but reached bottom of current menu');\n                    event.preventDefault();\n                    return;\n                  } else {\n                    module.verbose('Down key pressed, changing active item');\n                    $item.removeClass(className.selected);\n                    $nextItem.addClass(className.selected);\n                    module.set.scrollPosition($nextItem);\n\n                    if (settings.selectOnKeydown && module.is.single()) {\n                      module.set.selectedItem($nextItem);\n                    }\n                  }\n\n                  event.preventDefault();\n                } // page down (show next page)\n\n\n                if (pressedKey == keys.pageUp) {\n                  module.scrollPage('up');\n                  event.preventDefault();\n                }\n\n                if (pressedKey == keys.pageDown) {\n                  module.scrollPage('down');\n                  event.preventDefault();\n                } // escape (close menu)\n\n\n                if (pressedKey == keys.escape) {\n                  module.verbose('Escape key pressed, closing dropdown');\n                  module.hide();\n                }\n              } else {\n                // delimiter key\n                if (delimiterPressed) {\n                  event.preventDefault();\n                } // down arrow (open menu)\n\n\n                if (pressedKey == keys.downArrow && !module.is.visible()) {\n                  module.verbose('Down key pressed, showing dropdown');\n                  module.show();\n                  event.preventDefault();\n                }\n              }\n            } else {\n              if (!module.has.search()) {\n                module.set.selectedLetter(String.fromCharCode(pressedKey));\n              }\n            }\n          }\n        },\n        trigger: {\n          change: function () {\n            var inputElement = $input[0];\n\n            if (inputElement) {\n              var events = document.createEvent('HTMLEvents');\n              module.verbose('Triggering native change event');\n              events.initEvent('change', true, false);\n              inputElement.dispatchEvent(events);\n            }\n          }\n        },\n        determine: {\n          selectAction: function (text, value) {\n            selectActionActive = true;\n            module.verbose('Determining action', settings.action);\n\n            if ($.isFunction(module.action[settings.action])) {\n              module.verbose('Triggering preset action', settings.action, text, value);\n              module.action[settings.action].call(element, text, value, this);\n            } else if ($.isFunction(settings.action)) {\n              module.verbose('Triggering user action', settings.action, text, value);\n              settings.action.call(element, text, value, this);\n            } else {\n              module.error(error.action, settings.action);\n            }\n\n            selectActionActive = false;\n          },\n          eventInModule: function (event, callback) {\n            var $target = $(event.target),\n                inDocument = $target.closest(document.documentElement).length > 0,\n                inModule = $target.closest($module).length > 0;\n            callback = $.isFunction(callback) ? callback : function () {};\n\n            if (inDocument && !inModule) {\n              module.verbose('Triggering event', callback);\n              callback();\n              return true;\n            } else {\n              module.verbose('Event occurred in dropdown, canceling callback');\n              return false;\n            }\n          },\n          eventOnElement: function (event, callback) {\n            var $target = $(event.target),\n                $label = $target.closest(selector.siblingLabel),\n                inVisibleDOM = document.body.contains(event.target),\n                notOnLabel = $module.find($label).length === 0 || !(module.is.multiple() && settings.useLabels),\n                notInMenu = $target.closest($menu).length === 0;\n            callback = $.isFunction(callback) ? callback : function () {};\n\n            if (inVisibleDOM && notOnLabel && notInMenu) {\n              module.verbose('Triggering event', callback);\n              callback();\n              return true;\n            } else {\n              module.verbose('Event occurred in dropdown menu, canceling callback');\n              return false;\n            }\n          }\n        },\n        action: {\n          nothing: function () {},\n          activate: function (text, value, element) {\n            value = value !== undefined ? value : text;\n\n            if (module.can.activate($(element))) {\n              module.set.selected(value, $(element));\n\n              if (!module.is.multiple()) {\n                module.hideAndClear();\n              }\n            }\n          },\n          select: function (text, value, element) {\n            value = value !== undefined ? value : text;\n\n            if (module.can.activate($(element))) {\n              module.set.value(value, text, $(element));\n\n              if (!module.is.multiple()) {\n                module.hideAndClear();\n              }\n            }\n          },\n          combo: function (text, value, element) {\n            value = value !== undefined ? value : text;\n            module.set.selected(value, $(element));\n            module.hideAndClear();\n          },\n          hide: function (text, value, element) {\n            module.set.value(value, text, $(element));\n            module.hideAndClear();\n          }\n        },\n        get: {\n          id: function () {\n            return id;\n          },\n          defaultText: function () {\n            return $module.data(metadata.defaultText);\n          },\n          defaultValue: function () {\n            return $module.data(metadata.defaultValue);\n          },\n          placeholderText: function () {\n            if (settings.placeholder != 'auto' && typeof settings.placeholder == 'string') {\n              return settings.placeholder;\n            }\n\n            return $module.data(metadata.placeholderText) || '';\n          },\n          text: function () {\n            return settings.preserveHTML ? $text.html() : $text.text();\n          },\n          query: function () {\n            return String($search.val()).trim();\n          },\n          searchWidth: function (value) {\n            value = value !== undefined ? value : $search.val();\n            $sizer.text(value); // prevent rounding issues\n\n            return Math.ceil($sizer.width() + 1);\n          },\n          selectionCount: function () {\n            var values = module.get.values(),\n                count;\n            count = module.is.multiple() ? Array.isArray(values) ? values.length : 0 : module.get.value() !== '' ? 1 : 0;\n            return count;\n          },\n          transition: function ($subMenu) {\n            return settings.transition === 'auto' ? module.is.upward($subMenu) ? 'slide up' : 'slide down' : settings.transition;\n          },\n          userValues: function () {\n            var values = module.get.values();\n\n            if (!values) {\n              return false;\n            }\n\n            values = Array.isArray(values) ? values : [values];\n            return $.grep(values, function (value) {\n              return module.get.item(value) === false;\n            });\n          },\n          uniqueArray: function (array) {\n            return $.grep(array, function (value, index) {\n              return $.inArray(value, array) === index;\n            });\n          },\n          caretPosition: function (returnEndPos) {\n            var input = $search.get(0),\n                range,\n                rangeLength;\n\n            if (returnEndPos && 'selectionEnd' in input) {\n              return input.selectionEnd;\n            } else if (!returnEndPos && 'selectionStart' in input) {\n              return input.selectionStart;\n            }\n\n            if (document.selection) {\n              input.focus();\n              range = document.selection.createRange();\n              rangeLength = range.text.length;\n\n              if (returnEndPos) {\n                return rangeLength;\n              }\n\n              range.moveStart('character', -input.value.length);\n              return range.text.length - rangeLength;\n            }\n          },\n          value: function () {\n            var value = $input.length > 0 ? $input.val() : $module.data(metadata.value),\n                isEmptyMultiselect = Array.isArray(value) && value.length === 1 && value[0] === ''; // prevents placeholder element from being selected when multiple\n\n            return value === undefined || isEmptyMultiselect ? '' : value;\n          },\n          values: function (raw) {\n            var value = module.get.value();\n\n            if (value === '') {\n              return '';\n            }\n\n            return !module.has.selectInput() && module.is.multiple() ? typeof value == 'string' // delimited string\n            ? (raw ? value : module.escape.htmlEntities(value)).split(settings.delimiter) : '' : value;\n          },\n          remoteValues: function () {\n            var values = module.get.values(),\n                remoteValues = false;\n\n            if (values) {\n              if (typeof values == 'string') {\n                values = [values];\n              }\n\n              $.each(values, function (index, value) {\n                var name = module.read.remoteData(value);\n                module.verbose('Restoring value from session data', name, value);\n\n                if (name) {\n                  if (!remoteValues) {\n                    remoteValues = {};\n                  }\n\n                  remoteValues[value] = name;\n                }\n              });\n            }\n\n            return remoteValues;\n          },\n          choiceText: function ($choice, preserveHTML) {\n            preserveHTML = preserveHTML !== undefined ? preserveHTML : settings.preserveHTML;\n\n            if ($choice) {\n              if ($choice.find(selector.menu).length > 0) {\n                module.verbose('Retrieving text of element with sub-menu');\n                $choice = $choice.clone();\n                $choice.find(selector.menu).remove();\n                $choice.find(selector.menuIcon).remove();\n              }\n\n              return $choice.data(metadata.text) !== undefined ? $choice.data(metadata.text) : preserveHTML ? $choice.html() && $choice.html().trim() : $choice.text() && $choice.text().trim();\n            }\n          },\n          choiceValue: function ($choice, choiceText) {\n            choiceText = choiceText || module.get.choiceText($choice);\n\n            if (!$choice) {\n              return false;\n            }\n\n            return $choice.data(metadata.value) !== undefined ? String($choice.data(metadata.value)) : typeof choiceText === 'string' ? String(settings.ignoreSearchCase ? choiceText.toLowerCase() : choiceText).trim() : String(choiceText);\n          },\n          inputEvent: function () {\n            var input = $search[0];\n\n            if (input) {\n              return input.oninput !== undefined ? 'input' : input.onpropertychange !== undefined ? 'propertychange' : 'keyup';\n            }\n\n            return false;\n          },\n          selectValues: function () {\n            var select = {},\n                oldGroup = [],\n                values = [];\n            $module.find('option').each(function () {\n              var $option = $(this),\n                  name = $option.html(),\n                  disabled = $option.attr('disabled'),\n                  value = $option.attr('value') !== undefined ? $option.attr('value') : name,\n                  text = $option.data(metadata.text) !== undefined ? $option.data(metadata.text) : name,\n                  group = $option.parent('optgroup');\n\n              if (settings.placeholder === 'auto' && value === '') {\n                select.placeholder = name;\n              } else {\n                if (group.length !== oldGroup.length || group[0] !== oldGroup[0]) {\n                  values.push({\n                    type: 'header',\n                    divider: settings.headerDivider,\n                    name: group.attr('label') || ''\n                  });\n                  oldGroup = group;\n                }\n\n                values.push({\n                  name: name,\n                  value: value,\n                  text: text,\n                  disabled: disabled\n                });\n              }\n            });\n\n            if (settings.placeholder && settings.placeholder !== 'auto') {\n              module.debug('Setting placeholder value to', settings.placeholder);\n              select.placeholder = settings.placeholder;\n            }\n\n            if (settings.sortSelect) {\n              if (settings.sortSelect === true) {\n                values.sort(function (a, b) {\n                  return a.name.localeCompare(b.name);\n                });\n              } else if (settings.sortSelect === 'natural') {\n                values.sort(function (a, b) {\n                  return a.name.toLowerCase().localeCompare(b.name.toLowerCase());\n                });\n              } else if ($.isFunction(settings.sortSelect)) {\n                values.sort(settings.sortSelect);\n              }\n\n              select[fields.values] = values;\n              module.debug('Retrieved and sorted values from select', select);\n            } else {\n              select[fields.values] = values;\n              module.debug('Retrieved values from select', select);\n            }\n\n            return select;\n          },\n          activeItem: function () {\n            return $item.filter('.' + className.active);\n          },\n          selectedItem: function () {\n            var $selectedItem = $item.not(selector.unselectable).filter('.' + className.selected);\n            return $selectedItem.length > 0 ? $selectedItem : $item.eq(0);\n          },\n          itemWithAdditions: function (value) {\n            var $items = module.get.item(value),\n                $userItems = module.create.userChoice(value),\n                hasUserItems = $userItems && $userItems.length > 0;\n\n            if (hasUserItems) {\n              $items = $items.length > 0 ? $items.add($userItems) : $userItems;\n            }\n\n            return $items;\n          },\n          item: function (value, strict) {\n            var $selectedItem = false,\n                shouldSearch,\n                isMultiple;\n            value = value !== undefined ? value : module.get.values() !== undefined ? module.get.values() : module.get.text();\n            isMultiple = module.is.multiple() && Array.isArray(value);\n            shouldSearch = isMultiple ? value.length > 0 : value !== undefined && value !== null;\n            strict = value === '' || value === false || value === true ? true : strict || false;\n\n            if (shouldSearch) {\n              $item.each(function () {\n                var $choice = $(this),\n                    optionText = module.get.choiceText($choice),\n                    optionValue = module.get.choiceValue($choice, optionText); // safe early exit\n\n                if (optionValue === null || optionValue === undefined) {\n                  return;\n                }\n\n                if (isMultiple) {\n                  if ($.inArray(module.escape.htmlEntities(String(optionValue)), value.map(function (v) {\n                    return String(v);\n                  })) !== -1) {\n                    $selectedItem = $selectedItem ? $selectedItem.add($choice) : $choice;\n                  }\n                } else if (strict) {\n                  module.verbose('Ambiguous dropdown value using strict type check', $choice, value);\n\n                  if (optionValue === value) {\n                    $selectedItem = $choice;\n                    return true;\n                  }\n                } else {\n                  if (settings.ignoreCase) {\n                    optionValue = optionValue.toLowerCase();\n                    value = value.toLowerCase();\n                  }\n\n                  if (module.escape.htmlEntities(String(optionValue)) === module.escape.htmlEntities(String(value))) {\n                    module.verbose('Found select item by value', optionValue, value);\n                    $selectedItem = $choice;\n                    return true;\n                  }\n                }\n              });\n            }\n\n            return $selectedItem;\n          },\n          displayType: function () {\n            return $module.hasClass('column') ? 'flex' : settings.displayType;\n          }\n        },\n        check: {\n          maxSelections: function (selectionCount) {\n            if (settings.maxSelections) {\n              selectionCount = selectionCount !== undefined ? selectionCount : module.get.selectionCount();\n\n              if (selectionCount >= settings.maxSelections) {\n                module.debug('Maximum selection count reached');\n\n                if (settings.useLabels) {\n                  $item.addClass(className.filtered);\n                  module.add.message(message.maxSelections);\n                }\n\n                return true;\n              } else {\n                module.verbose('No longer at maximum selection count');\n                module.remove.message();\n                module.remove.filteredItem();\n\n                if (module.is.searchSelection()) {\n                  module.filterItems();\n                }\n\n                return false;\n              }\n            }\n\n            return true;\n          },\n          disabled: function () {\n            $search.attr('tabindex', module.is.disabled() ? -1 : 0);\n          }\n        },\n        restore: {\n          defaults: function (preventChangeTrigger) {\n            module.clear(preventChangeTrigger);\n            module.restore.defaultText();\n            module.restore.defaultValue();\n          },\n          defaultText: function () {\n            var defaultText = module.get.defaultText(),\n                placeholderText = module.get.placeholderText;\n\n            if (defaultText === placeholderText) {\n              module.debug('Restoring default placeholder text', defaultText);\n              module.set.placeholderText(defaultText);\n            } else {\n              module.debug('Restoring default text', defaultText);\n              module.set.text(defaultText);\n            }\n          },\n          placeholderText: function () {\n            module.set.placeholderText();\n          },\n          defaultValue: function () {\n            var defaultValue = module.get.defaultValue();\n\n            if (defaultValue !== undefined) {\n              module.debug('Restoring default value', defaultValue);\n\n              if (defaultValue !== '') {\n                module.set.value(defaultValue);\n                module.set.selected();\n              } else {\n                module.remove.activeItem();\n                module.remove.selectedItem();\n              }\n            }\n          },\n          labels: function () {\n            if (settings.allowAdditions) {\n              if (!settings.useLabels) {\n                module.error(error.labels);\n                settings.useLabels = true;\n              }\n\n              module.debug('Restoring selected values');\n              module.create.userLabels();\n            }\n\n            module.check.maxSelections();\n          },\n          selected: function () {\n            module.restore.values();\n\n            if (module.is.multiple()) {\n              module.debug('Restoring previously selected values and labels');\n              module.restore.labels();\n            } else {\n              module.debug('Restoring previously selected values');\n            }\n          },\n          values: function () {\n            // prevents callbacks from occurring on initial load\n            module.set.initialLoad();\n\n            if (settings.apiSettings && settings.saveRemoteData && module.get.remoteValues()) {\n              module.restore.remoteValues();\n            } else {\n              module.set.selected();\n            }\n\n            var value = module.get.value();\n\n            if (value && value !== '' && !(Array.isArray(value) && value.length === 0)) {\n              $input.removeClass(className.noselection);\n            } else {\n              $input.addClass(className.noselection);\n            }\n\n            module.remove.initialLoad();\n          },\n          remoteValues: function () {\n            var values = module.get.remoteValues();\n            module.debug('Recreating selected from session data', values);\n\n            if (values) {\n              if (module.is.single()) {\n                $.each(values, function (value, name) {\n                  module.set.text(name);\n                });\n              } else {\n                $.each(values, function (value, name) {\n                  module.add.label(value, name);\n                });\n              }\n            }\n          }\n        },\n        read: {\n          remoteData: function (value) {\n            var name;\n\n            if (window.Storage === undefined) {\n              module.error(error.noStorage);\n              return;\n            }\n\n            name = sessionStorage.getItem(value);\n            return name !== undefined ? name : false;\n          }\n        },\n        save: {\n          defaults: function () {\n            module.save.defaultText();\n            module.save.placeholderText();\n            module.save.defaultValue();\n          },\n          defaultValue: function () {\n            var value = module.get.value();\n            module.verbose('Saving default value as', value);\n            $module.data(metadata.defaultValue, value);\n          },\n          defaultText: function () {\n            var text = module.get.text();\n            module.verbose('Saving default text as', text);\n            $module.data(metadata.defaultText, text);\n          },\n          placeholderText: function () {\n            var text;\n\n            if (settings.placeholder !== false && $text.hasClass(className.placeholder)) {\n              text = module.get.text();\n              module.verbose('Saving placeholder text as', text);\n              $module.data(metadata.placeholderText, text);\n            }\n          },\n          remoteData: function (name, value) {\n            if (window.Storage === undefined) {\n              module.error(error.noStorage);\n              return;\n            }\n\n            module.verbose('Saving remote data to session storage', value, name);\n            sessionStorage.setItem(value, name);\n          }\n        },\n        clear: function (preventChangeTrigger) {\n          if (module.is.multiple() && settings.useLabels) {\n            module.remove.labels($module.find(selector.label), preventChangeTrigger);\n          } else {\n            module.remove.activeItem();\n            module.remove.selectedItem();\n            module.remove.filteredItem();\n          }\n\n          module.set.placeholderText();\n          module.clearValue(preventChangeTrigger);\n        },\n        clearValue: function (preventChangeTrigger) {\n          module.set.value('', null, null, preventChangeTrigger);\n        },\n        scrollPage: function (direction, $selectedItem) {\n          var $currentItem = $selectedItem || module.get.selectedItem(),\n              $menu = $currentItem.closest(selector.menu),\n              menuHeight = $menu.outerHeight(),\n              currentScroll = $menu.scrollTop(),\n              itemHeight = $item.eq(0).outerHeight(),\n              itemsPerPage = Math.floor(menuHeight / itemHeight),\n              maxScroll = $menu.prop('scrollHeight'),\n              newScroll = direction == 'up' ? currentScroll - itemHeight * itemsPerPage : currentScroll + itemHeight * itemsPerPage,\n              $selectableItem = $item.not(selector.unselectable),\n              isWithinRange,\n              $nextSelectedItem,\n              elementIndex;\n          elementIndex = direction == 'up' ? $selectableItem.index($currentItem) - itemsPerPage : $selectableItem.index($currentItem) + itemsPerPage;\n          isWithinRange = direction == 'up' ? elementIndex >= 0 : elementIndex < $selectableItem.length;\n          $nextSelectedItem = isWithinRange ? $selectableItem.eq(elementIndex) : direction == 'up' ? $selectableItem.first() : $selectableItem.last();\n\n          if ($nextSelectedItem.length > 0) {\n            module.debug('Scrolling page', direction, $nextSelectedItem);\n            $currentItem.removeClass(className.selected);\n            $nextSelectedItem.addClass(className.selected);\n\n            if (settings.selectOnKeydown && module.is.single()) {\n              module.set.selectedItem($nextSelectedItem);\n            }\n\n            $menu.scrollTop(newScroll);\n          }\n        },\n        set: {\n          filtered: function () {\n            var isMultiple = module.is.multiple(),\n                isSearch = module.is.searchSelection(),\n                isSearchMultiple = isMultiple && isSearch,\n                searchValue = isSearch ? module.get.query() : '',\n                hasSearchValue = typeof searchValue === 'string' && searchValue.length > 0,\n                searchWidth = module.get.searchWidth(),\n                valueIsSet = searchValue !== '';\n\n            if (isMultiple && hasSearchValue) {\n              module.verbose('Adjusting input width', searchWidth, settings.glyphWidth);\n              $search.css('width', searchWidth);\n            }\n\n            if (hasSearchValue || isSearchMultiple && valueIsSet) {\n              module.verbose('Hiding placeholder text');\n              $text.addClass(className.filtered);\n            } else if (!isMultiple || isSearchMultiple && !valueIsSet) {\n              module.verbose('Showing placeholder text');\n              $text.removeClass(className.filtered);\n            }\n          },\n          empty: function () {\n            $module.addClass(className.empty);\n          },\n          loading: function () {\n            $module.addClass(className.loading);\n          },\n          placeholderText: function (text) {\n            text = text || module.get.placeholderText();\n            module.debug('Setting placeholder text', text);\n            module.set.text(text);\n            $text.addClass(className.placeholder);\n          },\n          tabbable: function () {\n            if (module.is.searchSelection()) {\n              module.debug('Added tabindex to searchable dropdown');\n              $search.val('');\n              module.check.disabled();\n              $menu.attr('tabindex', -1);\n            } else {\n              module.debug('Added tabindex to dropdown');\n\n              if ($module.attr('tabindex') === undefined) {\n                $module.attr('tabindex', 0);\n                $menu.attr('tabindex', -1);\n              }\n            }\n          },\n          initialLoad: function () {\n            module.verbose('Setting initial load');\n            initialLoad = true;\n          },\n          activeItem: function ($item) {\n            if (settings.allowAdditions && $item.filter(selector.addition).length > 0) {\n              $item.addClass(className.filtered);\n            } else {\n              $item.addClass(className.active);\n            }\n          },\n          partialSearch: function (text) {\n            var length = module.get.query().length;\n            $search.val(text.substr(0, length));\n          },\n          scrollPosition: function ($item, forceScroll) {\n            var edgeTolerance = 5,\n                $menu,\n                hasActive,\n                offset,\n                itemHeight,\n                itemOffset,\n                menuOffset,\n                menuScroll,\n                menuHeight,\n                abovePage,\n                belowPage;\n            $item = $item || module.get.selectedItem();\n            $menu = $item.closest(selector.menu);\n            hasActive = $item && $item.length > 0;\n            forceScroll = forceScroll !== undefined ? forceScroll : false;\n\n            if (module.get.activeItem().length === 0) {\n              forceScroll = false;\n            }\n\n            if ($item && $menu.length > 0 && hasActive) {\n              itemOffset = $item.position().top;\n              $menu.addClass(className.loading);\n              menuScroll = $menu.scrollTop();\n              menuOffset = $menu.offset().top;\n              itemOffset = $item.offset().top;\n              offset = menuScroll - menuOffset + itemOffset;\n\n              if (!forceScroll) {\n                menuHeight = $menu.height();\n                belowPage = menuScroll + menuHeight < offset + edgeTolerance;\n                abovePage = offset - edgeTolerance < menuScroll;\n              }\n\n              module.debug('Scrolling to active item', offset);\n\n              if (forceScroll || abovePage || belowPage) {\n                $menu.scrollTop(offset);\n              }\n\n              $menu.removeClass(className.loading);\n            }\n          },\n          text: function (text) {\n            if (settings.action === 'combo') {\n              module.debug('Changing combo button text', text, $combo);\n\n              if (settings.preserveHTML) {\n                $combo.html(text);\n              } else {\n                $combo.text(text);\n              }\n            } else if (settings.action === 'activate') {\n              if (text !== module.get.placeholderText()) {\n                $text.removeClass(className.placeholder);\n              }\n\n              module.debug('Changing text', text, $text);\n              $text.removeClass(className.filtered);\n\n              if (settings.preserveHTML) {\n                $text.html(text);\n              } else {\n                $text.text(text);\n              }\n            }\n          },\n          selectedItem: function ($item) {\n            var value = module.get.choiceValue($item),\n                searchText = module.get.choiceText($item, false),\n                text = module.get.choiceText($item, true);\n            module.debug('Setting user selection to item', $item);\n            module.remove.activeItem();\n            module.set.partialSearch(searchText);\n            module.set.activeItem($item);\n            module.set.selected(value, $item);\n            module.set.text(text);\n          },\n          selectedLetter: function (letter) {\n            var $selectedItem = $item.filter('.' + className.selected),\n                alreadySelectedLetter = $selectedItem.length > 0 && module.has.firstLetter($selectedItem, letter),\n                $nextValue = false,\n                $nextItem; // check next of same letter\n\n            if (alreadySelectedLetter) {\n              $nextItem = $selectedItem.nextAll($item).eq(0);\n\n              if (module.has.firstLetter($nextItem, letter)) {\n                $nextValue = $nextItem;\n              }\n            } // check all values\n\n\n            if (!$nextValue) {\n              $item.each(function () {\n                if (module.has.firstLetter($(this), letter)) {\n                  $nextValue = $(this);\n                  return false;\n                }\n              });\n            } // set next value\n\n\n            if ($nextValue) {\n              module.verbose('Scrolling to next value with letter', letter);\n              module.set.scrollPosition($nextValue);\n              $selectedItem.removeClass(className.selected);\n              $nextValue.addClass(className.selected);\n\n              if (settings.selectOnKeydown && module.is.single()) {\n                module.set.selectedItem($nextValue);\n              }\n            }\n          },\n          direction: function ($menu) {\n            if (settings.direction == 'auto') {\n              // reset position, remove upward if it's base menu\n              if (!$menu) {\n                module.remove.upward();\n              } else if (module.is.upward($menu)) {\n                //we need make sure when make assertion openDownward for $menu, $menu does not have upward class\n                module.remove.upward($menu);\n              }\n\n              if (module.can.openDownward($menu)) {\n                module.remove.upward($menu);\n              } else {\n                module.set.upward($menu);\n              }\n\n              if (!module.is.leftward($menu) && !module.can.openRightward($menu)) {\n                module.set.leftward($menu);\n              }\n            } else if (settings.direction == 'upward') {\n              module.set.upward($menu);\n            }\n          },\n          upward: function ($currentMenu) {\n            var $element = $currentMenu || $module;\n            $element.addClass(className.upward);\n          },\n          leftward: function ($currentMenu) {\n            var $element = $currentMenu || $menu;\n            $element.addClass(className.leftward);\n          },\n          value: function (value, text, $selected, preventChangeTrigger) {\n            if (value !== undefined && value !== '' && !(Array.isArray(value) && value.length === 0)) {\n              $input.removeClass(className.noselection);\n            } else {\n              $input.addClass(className.noselection);\n            }\n\n            var escapedValue = module.escape.value(value),\n                hasInput = $input.length > 0,\n                currentValue = module.get.values(),\n                stringValue = value !== undefined ? String(value) : value,\n                newValue;\n\n            if (hasInput) {\n              if (!settings.allowReselection && stringValue == currentValue) {\n                module.verbose('Skipping value update already same value', value, currentValue);\n\n                if (!module.is.initialLoad()) {\n                  return;\n                }\n              }\n\n              if (module.is.single() && module.has.selectInput() && module.can.extendSelect()) {\n                module.debug('Adding user option', value);\n                module.add.optionValue(value);\n              }\n\n              module.debug('Updating input value', escapedValue, currentValue);\n              internalChange = true;\n              $input.val(escapedValue);\n\n              if (settings.fireOnInit === false && module.is.initialLoad()) {\n                module.debug('Input native change event ignored on initial load');\n              } else if (preventChangeTrigger !== true) {\n                module.trigger.change();\n              }\n\n              internalChange = false;\n            } else {\n              module.verbose('Storing value in metadata', escapedValue, $input);\n\n              if (escapedValue !== currentValue) {\n                $module.data(metadata.value, stringValue);\n              }\n            }\n\n            if (settings.fireOnInit === false && module.is.initialLoad()) {\n              module.verbose('No callback on initial load', settings.onChange);\n            } else if (preventChangeTrigger !== true) {\n              settings.onChange.call(element, value, text, $selected);\n            }\n          },\n          active: function () {\n            $module.addClass(className.active);\n          },\n          multiple: function () {\n            $module.addClass(className.multiple);\n          },\n          visible: function () {\n            $module.addClass(className.visible);\n          },\n          exactly: function (value, $selectedItem) {\n            module.debug('Setting selected to exact values');\n            module.clear();\n            module.set.selected(value, $selectedItem);\n          },\n          selected: function (value, $selectedItem, preventChangeTrigger, keepSearchTerm) {\n            var isMultiple = module.is.multiple();\n            $selectedItem = settings.allowAdditions ? $selectedItem || module.get.itemWithAdditions(value) : $selectedItem || module.get.item(value);\n\n            if (!$selectedItem) {\n              return;\n            }\n\n            module.debug('Setting selected menu item to', $selectedItem);\n\n            if (module.is.multiple()) {\n              module.remove.searchWidth();\n            }\n\n            if (module.is.single()) {\n              module.remove.activeItem();\n              module.remove.selectedItem();\n            } else if (settings.useLabels) {\n              module.remove.selectedItem();\n            } // select each item\n\n\n            $selectedItem.each(function () {\n              var $selected = $(this),\n                  selectedText = module.get.choiceText($selected),\n                  selectedValue = module.get.choiceValue($selected, selectedText),\n                  isFiltered = $selected.hasClass(className.filtered),\n                  isActive = $selected.hasClass(className.active),\n                  isUserValue = $selected.hasClass(className.addition),\n                  shouldAnimate = isMultiple && $selectedItem.length == 1;\n\n              if (isMultiple) {\n                if (!isActive || isUserValue) {\n                  if (settings.apiSettings && settings.saveRemoteData) {\n                    module.save.remoteData(selectedText, selectedValue);\n                  }\n\n                  if (settings.useLabels) {\n                    module.add.label(selectedValue, selectedText, shouldAnimate);\n                    module.add.value(selectedValue, selectedText, $selected);\n                    module.set.activeItem($selected);\n                    module.filterActive();\n                    module.select.nextAvailable($selectedItem);\n                  } else {\n                    module.add.value(selectedValue, selectedText, $selected);\n                    module.set.text(module.add.variables(message.count));\n                    module.set.activeItem($selected);\n                  }\n                } else if (!isFiltered && (settings.useLabels || selectActionActive)) {\n                  module.debug('Selected active value, removing label');\n                  module.remove.selected(selectedValue);\n                }\n              } else {\n                if (settings.apiSettings && settings.saveRemoteData) {\n                  module.save.remoteData(selectedText, selectedValue);\n                }\n\n                if (!keepSearchTerm) {\n                  module.set.text(selectedText);\n                }\n\n                module.set.value(selectedValue, selectedText, $selected, preventChangeTrigger);\n                $selected.addClass(className.active).addClass(className.selected);\n              }\n            });\n\n            if (!keepSearchTerm) {\n              module.remove.searchTerm();\n            }\n          }\n        },\n        add: {\n          label: function (value, text, shouldAnimate) {\n            var $next = module.is.searchSelection() ? $search : $text,\n                escapedValue = module.escape.value(value),\n                $label;\n\n            if (settings.ignoreCase) {\n              escapedValue = escapedValue.toLowerCase();\n            }\n\n            $label = $('<a />').addClass(className.label).attr('data-' + metadata.value, escapedValue).html(templates.label(escapedValue, text, settings.preserveHTML, settings.className));\n            $label = settings.onLabelCreate.call($label, escapedValue, text);\n\n            if (module.has.label(value)) {\n              module.debug('User selection already exists, skipping', escapedValue);\n              return;\n            }\n\n            if (settings.label.variation) {\n              $label.addClass(settings.label.variation);\n            }\n\n            if (shouldAnimate === true) {\n              module.debug('Animating in label', $label);\n              $label.addClass(className.hidden).insertBefore($next).transition({\n                animation: settings.label.transition,\n                debug: settings.debug,\n                verbose: settings.verbose,\n                duration: settings.label.duration\n              });\n            } else {\n              module.debug('Adding selection label', $label);\n              $label.insertBefore($next);\n            }\n          },\n          message: function (message) {\n            var $message = $menu.children(selector.message),\n                html = settings.templates.message(module.add.variables(message));\n\n            if ($message.length > 0) {\n              $message.html(html);\n            } else {\n              $message = $('<div/>').html(html).addClass(className.message).appendTo($menu);\n            }\n          },\n          optionValue: function (value) {\n            var escapedValue = module.escape.value(value),\n                $option = $input.find('option[value=\"' + module.escape.string(escapedValue) + '\"]'),\n                hasOption = $option.length > 0;\n\n            if (hasOption) {\n              return;\n            } // temporarily disconnect observer\n\n\n            module.disconnect.selectObserver();\n\n            if (module.is.single()) {\n              module.verbose('Removing previous user addition');\n              $input.find('option.' + className.addition).remove();\n            }\n\n            $('<option/>').prop('value', escapedValue).addClass(className.addition).html(value).appendTo($input);\n            module.verbose('Adding user addition as an <option>', value);\n            module.observe.select();\n          },\n          userSuggestion: function (value) {\n            var $addition = $menu.children(selector.addition),\n                $existingItem = module.get.item(value),\n                alreadyHasValue = $existingItem && $existingItem.not(selector.addition).length,\n                hasUserSuggestion = $addition.length > 0,\n                html;\n\n            if (settings.useLabels && module.has.maxSelections()) {\n              return;\n            }\n\n            if (value === '' || alreadyHasValue) {\n              $addition.remove();\n              return;\n            }\n\n            if (hasUserSuggestion) {\n              $addition.data(metadata.value, value).data(metadata.text, value).attr('data-' + metadata.value, value).attr('data-' + metadata.text, value).removeClass(className.filtered);\n\n              if (!settings.hideAdditions) {\n                html = settings.templates.addition(module.add.variables(message.addResult, value));\n                $addition.html(html);\n              }\n\n              module.verbose('Replacing user suggestion with new value', $addition);\n            } else {\n              $addition = module.create.userChoice(value);\n              $addition.prependTo($menu);\n              module.verbose('Adding item choice to menu corresponding with user choice addition', $addition);\n            }\n\n            if (!settings.hideAdditions || module.is.allFiltered()) {\n              $addition.addClass(className.selected).siblings().removeClass(className.selected);\n            }\n\n            module.refreshItems();\n          },\n          variables: function (message, term) {\n            var hasCount = message.search('{count}') !== -1,\n                hasMaxCount = message.search('{maxCount}') !== -1,\n                hasTerm = message.search('{term}') !== -1,\n                count,\n                query;\n            module.verbose('Adding templated variables to message', message);\n\n            if (hasCount) {\n              count = module.get.selectionCount();\n              message = message.replace('{count}', count);\n            }\n\n            if (hasMaxCount) {\n              count = module.get.selectionCount();\n              message = message.replace('{maxCount}', settings.maxSelections);\n            }\n\n            if (hasTerm) {\n              query = term || module.get.query();\n              message = message.replace('{term}', query);\n            }\n\n            return message;\n          },\n          value: function (addedValue, addedText, $selectedItem) {\n            var currentValue = module.get.values(true),\n                newValue;\n\n            if (module.has.value(addedValue)) {\n              module.debug('Value already selected');\n              return;\n            }\n\n            if (addedValue === '') {\n              module.debug('Cannot select blank values from multiselect');\n              return;\n            } // extend current array\n\n\n            if (Array.isArray(currentValue)) {\n              newValue = currentValue.concat([addedValue]);\n              newValue = module.get.uniqueArray(newValue);\n            } else {\n              newValue = [addedValue];\n            } // add values\n\n\n            if (module.has.selectInput()) {\n              if (module.can.extendSelect()) {\n                module.debug('Adding value to select', addedValue, newValue, $input);\n                module.add.optionValue(addedValue);\n              }\n            } else {\n              newValue = newValue.join(settings.delimiter);\n              module.debug('Setting hidden input to delimited value', newValue, $input);\n            }\n\n            if (settings.fireOnInit === false && module.is.initialLoad()) {\n              module.verbose('Skipping onadd callback on initial load', settings.onAdd);\n            } else {\n              settings.onAdd.call(element, addedValue, addedText, $selectedItem);\n            }\n\n            module.set.value(newValue, addedText, $selectedItem);\n            module.check.maxSelections();\n          }\n        },\n        remove: {\n          active: function () {\n            $module.removeClass(className.active);\n          },\n          activeLabel: function () {\n            $module.find(selector.label).removeClass(className.active);\n          },\n          empty: function () {\n            $module.removeClass(className.empty);\n          },\n          loading: function () {\n            $module.removeClass(className.loading);\n          },\n          initialLoad: function () {\n            initialLoad = false;\n          },\n          upward: function ($currentMenu) {\n            var $element = $currentMenu || $module;\n            $element.removeClass(className.upward);\n          },\n          leftward: function ($currentMenu) {\n            var $element = $currentMenu || $menu;\n            $element.removeClass(className.leftward);\n          },\n          visible: function () {\n            $module.removeClass(className.visible);\n          },\n          activeItem: function () {\n            $item.removeClass(className.active);\n          },\n          filteredItem: function () {\n            if (settings.useLabels && module.has.maxSelections()) {\n              return;\n            }\n\n            if (settings.useLabels && module.is.multiple()) {\n              $item.not('.' + className.active).removeClass(className.filtered);\n            } else {\n              $item.removeClass(className.filtered);\n            }\n\n            if (settings.hideDividers) {\n              $divider.removeClass(className.hidden);\n            }\n\n            module.remove.empty();\n          },\n          optionValue: function (value) {\n            var escapedValue = module.escape.value(value),\n                $option = $input.find('option[value=\"' + module.escape.string(escapedValue) + '\"]'),\n                hasOption = $option.length > 0;\n\n            if (!hasOption || !$option.hasClass(className.addition)) {\n              return;\n            } // temporarily disconnect observer\n\n\n            if (selectObserver) {\n              selectObserver.disconnect();\n              module.verbose('Temporarily disconnecting mutation observer');\n            }\n\n            $option.remove();\n            module.verbose('Removing user addition as an <option>', escapedValue);\n\n            if (selectObserver) {\n              selectObserver.observe($input[0], {\n                childList: true,\n                subtree: true\n              });\n            }\n          },\n          message: function () {\n            $menu.children(selector.message).remove();\n          },\n          searchWidth: function () {\n            $search.css('width', '');\n          },\n          searchTerm: function () {\n            module.verbose('Cleared search term');\n            $search.val('');\n            module.set.filtered();\n          },\n          userAddition: function () {\n            $item.filter(selector.addition).remove();\n          },\n          selected: function (value, $selectedItem, preventChangeTrigger) {\n            $selectedItem = settings.allowAdditions ? $selectedItem || module.get.itemWithAdditions(value) : $selectedItem || module.get.item(value);\n\n            if (!$selectedItem) {\n              return false;\n            }\n\n            $selectedItem.each(function () {\n              var $selected = $(this),\n                  selectedText = module.get.choiceText($selected),\n                  selectedValue = module.get.choiceValue($selected, selectedText);\n\n              if (module.is.multiple()) {\n                if (settings.useLabels) {\n                  module.remove.value(selectedValue, selectedText, $selected, preventChangeTrigger);\n                  module.remove.label(selectedValue);\n                } else {\n                  module.remove.value(selectedValue, selectedText, $selected, preventChangeTrigger);\n\n                  if (module.get.selectionCount() === 0) {\n                    module.set.placeholderText();\n                  } else {\n                    module.set.text(module.add.variables(message.count));\n                  }\n                }\n              } else {\n                module.remove.value(selectedValue, selectedText, $selected, preventChangeTrigger);\n              }\n\n              $selected.removeClass(className.filtered).removeClass(className.active);\n\n              if (settings.useLabels) {\n                $selected.removeClass(className.selected);\n              }\n            });\n          },\n          selectedItem: function () {\n            $item.removeClass(className.selected);\n          },\n          value: function (removedValue, removedText, $removedItem, preventChangeTrigger) {\n            var values = module.get.values(),\n                newValue;\n            removedValue = module.escape.htmlEntities(removedValue);\n\n            if (module.has.selectInput()) {\n              module.verbose('Input is <select> removing selected option', removedValue);\n              newValue = module.remove.arrayValue(removedValue, values);\n              module.remove.optionValue(removedValue);\n            } else {\n              module.verbose('Removing from delimited values', removedValue);\n              newValue = module.remove.arrayValue(removedValue, values);\n              newValue = newValue.join(settings.delimiter);\n            }\n\n            if (settings.fireOnInit === false && module.is.initialLoad()) {\n              module.verbose('No callback on initial load', settings.onRemove);\n            } else {\n              settings.onRemove.call(element, removedValue, removedText, $removedItem);\n            }\n\n            module.set.value(newValue, removedText, $removedItem, preventChangeTrigger);\n            module.check.maxSelections();\n          },\n          arrayValue: function (removedValue, values) {\n            if (!Array.isArray(values)) {\n              values = [values];\n            }\n\n            values = $.grep(values, function (value) {\n              return removedValue != value;\n            });\n            module.verbose('Removed value from delimited string', removedValue, values);\n            return values;\n          },\n          label: function (value, shouldAnimate) {\n            var escapedValue = module.escape.value(value),\n                $labels = $module.find(selector.label),\n                $removedLabel = $labels.filter('[data-' + metadata.value + '=\"' + module.escape.string(settings.ignoreCase ? escapedValue.toLowerCase() : escapedValue) + '\"]');\n            module.verbose('Removing label', $removedLabel);\n            $removedLabel.remove();\n          },\n          activeLabels: function ($activeLabels) {\n            $activeLabels = $activeLabels || $module.find(selector.label).filter('.' + className.active);\n            module.verbose('Removing active label selections', $activeLabels);\n            module.remove.labels($activeLabels);\n          },\n          labels: function ($labels, preventChangeTrigger) {\n            $labels = $labels || $module.find(selector.label);\n            module.verbose('Removing labels', $labels);\n            $labels.each(function () {\n              var $label = $(this),\n                  value = $label.data(metadata.value),\n                  stringValue = value !== undefined ? String(value) : value,\n                  isUserValue = module.is.userValue(stringValue);\n\n              if (settings.onLabelRemove.call($label, value) === false) {\n                module.debug('Label remove callback cancelled removal');\n                return;\n              }\n\n              module.remove.message();\n\n              if (isUserValue) {\n                module.remove.value(stringValue, stringValue, module.get.item(stringValue), preventChangeTrigger);\n                module.remove.label(stringValue);\n              } else {\n                // selected will also remove label\n                module.remove.selected(stringValue, false, preventChangeTrigger);\n              }\n            });\n          },\n          tabbable: function () {\n            if (module.is.searchSelection()) {\n              module.debug('Searchable dropdown initialized');\n              $search.removeAttr('tabindex');\n              $menu.removeAttr('tabindex');\n            } else {\n              module.debug('Simple selection dropdown initialized');\n              $module.removeAttr('tabindex');\n              $menu.removeAttr('tabindex');\n            }\n          },\n          diacritics: function (text) {\n            return settings.ignoreDiacritics ? text.normalize('NFD').replace(/[\\u0300-\\u036f]/g, '') : text;\n          }\n        },\n        has: {\n          menuSearch: function () {\n            return module.has.search() && $search.closest($menu).length > 0;\n          },\n          clearItem: function () {\n            return $clear.length > 0;\n          },\n          search: function () {\n            return $search.length > 0;\n          },\n          sizer: function () {\n            return $sizer.length > 0;\n          },\n          selectInput: function () {\n            return $input.is('select');\n          },\n          minCharacters: function (searchTerm) {\n            if (settings.minCharacters && !iconClicked) {\n              searchTerm = searchTerm !== undefined ? String(searchTerm) : String(module.get.query());\n              return searchTerm.length >= settings.minCharacters;\n            }\n\n            iconClicked = false;\n            return true;\n          },\n          firstLetter: function ($item, letter) {\n            var text, firstLetter;\n\n            if (!$item || $item.length === 0 || typeof letter !== 'string') {\n              return false;\n            }\n\n            text = module.get.choiceText($item, false);\n            letter = letter.toLowerCase();\n            firstLetter = String(text).charAt(0).toLowerCase();\n            return letter == firstLetter;\n          },\n          input: function () {\n            return $input.length > 0;\n          },\n          items: function () {\n            return $item.length > 0;\n          },\n          menu: function () {\n            return $menu.length > 0;\n          },\n          subMenu: function ($currentMenu) {\n            return ($currentMenu || $menu).find(selector.menu).length > 0;\n          },\n          message: function () {\n            return $menu.children(selector.message).length !== 0;\n          },\n          label: function (value) {\n            var escapedValue = module.escape.value(value),\n                $labels = $module.find(selector.label);\n\n            if (settings.ignoreCase) {\n              escapedValue = escapedValue.toLowerCase();\n            }\n\n            return $labels.filter('[data-' + metadata.value + '=\"' + module.escape.string(escapedValue) + '\"]').length > 0;\n          },\n          maxSelections: function () {\n            return settings.maxSelections && module.get.selectionCount() >= settings.maxSelections;\n          },\n          allResultsFiltered: function () {\n            var $normalResults = $item.not(selector.addition);\n            return $normalResults.filter(selector.unselectable).length === $normalResults.length;\n          },\n          userSuggestion: function () {\n            return $menu.children(selector.addition).length > 0;\n          },\n          query: function () {\n            return module.get.query() !== '';\n          },\n          value: function (value) {\n            return settings.ignoreCase ? module.has.valueIgnoringCase(value) : module.has.valueMatchingCase(value);\n          },\n          valueMatchingCase: function (value) {\n            var values = module.get.values(true),\n                hasValue = Array.isArray(values) ? values && $.inArray(value, values) !== -1 : values == value;\n            return hasValue ? true : false;\n          },\n          valueIgnoringCase: function (value) {\n            var values = module.get.values(true),\n                hasValue = false;\n\n            if (!Array.isArray(values)) {\n              values = [values];\n            }\n\n            $.each(values, function (index, existingValue) {\n              if (String(value).toLowerCase() == String(existingValue).toLowerCase()) {\n                hasValue = true;\n                return false;\n              }\n            });\n            return hasValue;\n          }\n        },\n        is: {\n          active: function () {\n            return $module.hasClass(className.active);\n          },\n          animatingInward: function () {\n            return $menu.transition('is inward');\n          },\n          animatingOutward: function () {\n            return $menu.transition('is outward');\n          },\n          bubbledLabelClick: function (event) {\n            return $(event.target).is('select, input') && $module.closest('label').length > 0;\n          },\n          bubbledIconClick: function (event) {\n            return $(event.target).closest($icon).length > 0;\n          },\n          chrome: function () {\n            return !!window.chrome && (!!window.chrome.webstore || !!window.chrome.runtime);\n          },\n          alreadySetup: function () {\n            return $module.is('select') && $module.parent(selector.dropdown).data(moduleNamespace) !== undefined && $module.prev().length === 0;\n          },\n          animating: function ($subMenu) {\n            return $subMenu ? $subMenu.transition && $subMenu.transition('is animating') : $menu.transition && $menu.transition('is animating');\n          },\n          leftward: function ($subMenu) {\n            var $selectedMenu = $subMenu || $menu;\n            return $selectedMenu.hasClass(className.leftward);\n          },\n          clearable: function () {\n            return $module.hasClass(className.clearable) || settings.clearable;\n          },\n          disabled: function () {\n            return $module.hasClass(className.disabled);\n          },\n          focused: function () {\n            return document.activeElement === $module[0];\n          },\n          focusedOnSearch: function () {\n            return document.activeElement === $search[0];\n          },\n          allFiltered: function () {\n            return (module.is.multiple() || module.has.search()) && !(settings.hideAdditions == false && module.has.userSuggestion()) && !module.has.message() && module.has.allResultsFiltered();\n          },\n          hidden: function ($subMenu) {\n            return !module.is.visible($subMenu);\n          },\n          initialLoad: function () {\n            return initialLoad;\n          },\n          inObject: function (needle, object) {\n            var found = false;\n            $.each(object, function (index, property) {\n              if (property == needle) {\n                found = true;\n                return true;\n              }\n            });\n            return found;\n          },\n          multiple: function () {\n            return $module.hasClass(className.multiple);\n          },\n          remote: function () {\n            return settings.apiSettings && module.can.useAPI();\n          },\n          noApiCache: function () {\n            return settings.apiSettings && !settings.apiSettings.cache;\n          },\n          single: function () {\n            return !module.is.multiple();\n          },\n          selectMutation: function (mutations) {\n            var selectChanged = false;\n            $.each(mutations, function (index, mutation) {\n              if ($(mutation.target).is('select') || $(mutation.addedNodes).is('select')) {\n                selectChanged = true;\n                return false;\n              }\n            });\n            return selectChanged;\n          },\n          search: function () {\n            return $module.hasClass(className.search);\n          },\n          searchSelection: function () {\n            return module.has.search() && $search.parent(selector.dropdown).length === 1;\n          },\n          selection: function () {\n            return $module.hasClass(className.selection);\n          },\n          userValue: function (value) {\n            return $.inArray(value, module.get.userValues()) !== -1;\n          },\n          upward: function ($menu) {\n            var $element = $menu || $module;\n            return $element.hasClass(className.upward);\n          },\n          visible: function ($subMenu) {\n            return $subMenu ? $subMenu.hasClass(className.visible) : $menu.hasClass(className.visible);\n          },\n          verticallyScrollableContext: function () {\n            var overflowY = $context.get(0) !== window ? $context.css('overflow-y') : false;\n            return overflowY == 'auto' || overflowY == 'scroll';\n          },\n          horizontallyScrollableContext: function () {\n            var overflowX = $context.get(0) !== window ? $context.css('overflow-X') : false;\n            return overflowX == 'auto' || overflowX == 'scroll';\n          }\n        },\n        can: {\n          activate: function ($item) {\n            if (settings.useLabels) {\n              return true;\n            }\n\n            if (!module.has.maxSelections()) {\n              return true;\n            }\n\n            if (module.has.maxSelections() && $item.hasClass(className.active)) {\n              return true;\n            }\n\n            return false;\n          },\n          openDownward: function ($subMenu) {\n            var $currentMenu = $subMenu || $menu,\n                canOpenDownward = true,\n                onScreen = {},\n                calculations;\n            $currentMenu.addClass(className.loading);\n            calculations = {\n              context: {\n                offset: $context.get(0) === window ? {\n                  top: 0,\n                  left: 0\n                } : $context.offset(),\n                scrollTop: $context.scrollTop(),\n                height: $context.outerHeight()\n              },\n              menu: {\n                offset: $currentMenu.offset(),\n                height: $currentMenu.outerHeight()\n              }\n            };\n\n            if (module.is.verticallyScrollableContext()) {\n              calculations.menu.offset.top += calculations.context.scrollTop;\n            }\n\n            if (module.has.subMenu($currentMenu)) {\n              calculations.menu.height += $currentMenu.find(selector.menu).first().outerHeight();\n            }\n\n            onScreen = {\n              above: calculations.context.scrollTop <= calculations.menu.offset.top - calculations.context.offset.top - calculations.menu.height,\n              below: calculations.context.scrollTop + calculations.context.height >= calculations.menu.offset.top - calculations.context.offset.top + calculations.menu.height\n            };\n\n            if (onScreen.below) {\n              module.verbose('Dropdown can fit in context downward', onScreen);\n              canOpenDownward = true;\n            } else if (!onScreen.below && !onScreen.above) {\n              module.verbose('Dropdown cannot fit in either direction, favoring downward', onScreen);\n              canOpenDownward = true;\n            } else {\n              module.verbose('Dropdown cannot fit below, opening upward', onScreen);\n              canOpenDownward = false;\n            }\n\n            $currentMenu.removeClass(className.loading);\n            return canOpenDownward;\n          },\n          openRightward: function ($subMenu) {\n            var $currentMenu = $subMenu || $menu,\n                canOpenRightward = true,\n                isOffscreenRight = false,\n                calculations;\n            $currentMenu.addClass(className.loading);\n            calculations = {\n              context: {\n                offset: $context.get(0) === window ? {\n                  top: 0,\n                  left: 0\n                } : $context.offset(),\n                scrollLeft: $context.scrollLeft(),\n                width: $context.outerWidth()\n              },\n              menu: {\n                offset: $currentMenu.offset(),\n                width: $currentMenu.outerWidth()\n              }\n            };\n\n            if (module.is.horizontallyScrollableContext()) {\n              calculations.menu.offset.left += calculations.context.scrollLeft;\n            }\n\n            isOffscreenRight = calculations.menu.offset.left - calculations.context.offset.left + calculations.menu.width >= calculations.context.scrollLeft + calculations.context.width;\n\n            if (isOffscreenRight) {\n              module.verbose('Dropdown cannot fit in context rightward', isOffscreenRight);\n              canOpenRightward = false;\n            }\n\n            $currentMenu.removeClass(className.loading);\n            return canOpenRightward;\n          },\n          click: function () {\n            return hasTouch || settings.on == 'click';\n          },\n          extendSelect: function () {\n            return settings.allowAdditions || settings.apiSettings;\n          },\n          show: function () {\n            return !module.is.disabled() && (module.has.items() || module.has.message());\n          },\n          useAPI: function () {\n            return $.fn.api !== undefined;\n          }\n        },\n        animate: {\n          show: function (callback, $subMenu) {\n            var $currentMenu = $subMenu || $menu,\n                start = $subMenu ? function () {} : function () {\n              module.hideSubMenus();\n              module.hideOthers();\n              module.set.active();\n            },\n                transition;\n            callback = $.isFunction(callback) ? callback : function () {};\n            module.verbose('Doing menu show animation', $currentMenu);\n            module.set.direction($subMenu);\n            transition = settings.transition.showMethod || module.get.transition($subMenu);\n\n            if (module.is.selection()) {\n              module.set.scrollPosition(module.get.selectedItem(), true);\n            }\n\n            if (module.is.hidden($currentMenu) || module.is.animating($currentMenu)) {\n              if (transition === 'none') {\n                start();\n                $currentMenu.transition({\n                  displayType: module.get.displayType()\n                }).transition('show');\n                callback.call(element);\n              } else if ($.fn.transition !== undefined && $module.transition('is supported')) {\n                $currentMenu.transition({\n                  animation: transition + ' in',\n                  debug: settings.debug,\n                  verbose: settings.verbose,\n                  duration: settings.transition.showDuration || settings.duration,\n                  queue: true,\n                  onStart: start,\n                  displayType: module.get.displayType(),\n                  onComplete: function () {\n                    callback.call(element);\n                  }\n                });\n              } else {\n                module.error(error.noTransition, transition);\n              }\n            }\n          },\n          hide: function (callback, $subMenu) {\n            var $currentMenu = $subMenu || $menu,\n                start = $subMenu ? function () {} : function () {\n              if (module.can.click()) {\n                module.unbind.intent();\n              }\n\n              module.remove.active();\n            },\n                transition = settings.transition.hideMethod || module.get.transition($subMenu);\n            callback = $.isFunction(callback) ? callback : function () {};\n\n            if (module.is.visible($currentMenu) || module.is.animating($currentMenu)) {\n              module.verbose('Doing menu hide animation', $currentMenu);\n\n              if (transition === 'none') {\n                start();\n                $currentMenu.transition({\n                  displayType: module.get.displayType()\n                }).transition('hide');\n                callback.call(element);\n              } else if ($.fn.transition !== undefined && $module.transition('is supported')) {\n                $currentMenu.transition({\n                  animation: transition + ' out',\n                  duration: settings.transition.hideDuration || settings.duration,\n                  debug: settings.debug,\n                  verbose: settings.verbose,\n                  queue: false,\n                  onStart: start,\n                  displayType: module.get.displayType(),\n                  onComplete: function () {\n                    callback.call(element);\n                  }\n                });\n              } else {\n                module.error(error.transition);\n              }\n            }\n          }\n        },\n        hideAndClear: function () {\n          module.remove.searchTerm();\n\n          if (module.has.maxSelections()) {\n            return;\n          }\n\n          if (module.has.search()) {\n            module.hide(function () {\n              module.remove.filteredItem();\n            });\n          } else {\n            module.hide();\n          }\n        },\n        delay: {\n          show: function () {\n            module.verbose('Delaying show event to ensure user intent');\n            clearTimeout(module.timer);\n            module.timer = setTimeout(module.show, settings.delay.show);\n          },\n          hide: function () {\n            module.verbose('Delaying hide event to ensure user intent');\n            clearTimeout(module.timer);\n            module.timer = setTimeout(module.hide, settings.delay.hide);\n          }\n        },\n        escape: {\n          value: function (value) {\n            var multipleValues = Array.isArray(value),\n                stringValue = typeof value === 'string',\n                isUnparsable = !stringValue && !multipleValues,\n                hasQuotes = stringValue && value.search(regExp.quote) !== -1,\n                values = [];\n\n            if (isUnparsable || !hasQuotes) {\n              return value;\n            }\n\n            module.debug('Encoding quote values for use in select', value);\n\n            if (multipleValues) {\n              $.each(value, function (index, value) {\n                values.push(value.replace(regExp.quote, '&quot;'));\n              });\n              return values;\n            }\n\n            return value.replace(regExp.quote, '&quot;');\n          },\n          string: function (text) {\n            text = String(text);\n            return text.replace(regExp.escape, '\\\\$&');\n          },\n          htmlEntities: function (string) {\n            var badChars = /[<>\"'`]/g,\n                shouldEscape = /[&<>\"'`]/,\n                escape = {\n              \"<\": \"&lt;\",\n              \">\": \"&gt;\",\n              '\"': \"&quot;\",\n              \"'\": \"&#x27;\",\n              \"`\": \"&#x60;\"\n            },\n                escapedChar = function (chr) {\n              return escape[chr];\n            };\n\n            if (shouldEscape.test(string)) {\n              string = string.replace(/&(?![a-z0-9#]{1,6};)/, \"&amp;\");\n              return string.replace(badChars, escapedChar);\n            }\n\n            return string;\n          }\n        },\n        setting: function (name, value) {\n          module.debug('Changing setting', name, value);\n\n          if ($.isPlainObject(name)) {\n            $.extend(true, settings, name);\n          } else if (value !== undefined) {\n            if ($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            } else {\n              settings[name] = value;\n            }\n          } else {\n            return settings[name];\n          }\n        },\n        internal: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, module, name);\n          } else if (value !== undefined) {\n            module[name] = value;\n          } else {\n            return module[name];\n          }\n        },\n        debug: function () {\n          if (!settings.silent && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function () {\n          if (!settings.silent && settings.verbose && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function () {\n          if (!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function (message) {\n            var currentTime, executionTime, previousTime;\n\n            if (settings.performance) {\n              currentTime = new Date().getTime();\n              previousTime = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time = currentTime;\n              performance.push({\n                'Name': message[0],\n                'Arguments': [].slice.call(message, 1) || '',\n                'Element': element,\n                'Execution Time': executionTime\n              });\n            }\n\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function () {\n            var title = settings.name + ':',\n                totalTime = 0;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function (index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n\n            if (moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n\n            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n\n              if (console.table) {\n                console.table(performance);\n              } else {\n                $.each(performance, function (index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');\n                });\n              }\n\n              console.groupEnd();\n            }\n\n            performance = [];\n          }\n        },\n        invoke: function (query, passedArguments, context) {\n          var object = instance,\n              maxDepth,\n              found,\n              response;\n          passedArguments = passedArguments || queryArguments;\n          context = element || context;\n\n          if (typeof query == 'string' && object !== undefined) {\n            query = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function (depth, value) {\n              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;\n\n              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {\n                object = object[camelCaseValue];\n              } else if (object[camelCaseValue] !== undefined) {\n                found = object[camelCaseValue];\n                return false;\n              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {\n                object = object[value];\n              } else if (object[value] !== undefined) {\n                found = object[value];\n                return false;\n              } else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n\n          if ($.isFunction(found)) {\n            response = found.apply(context, passedArguments);\n          } else if (found !== undefined) {\n            response = found;\n          }\n\n          if (Array.isArray(returnedValue)) {\n            returnedValue.push(response);\n          } else if (returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          } else if (response !== undefined) {\n            returnedValue = response;\n          }\n\n          return found;\n        }\n      };\n\n      if (methodInvoked) {\n        if (instance === undefined) {\n          module.initialize();\n        }\n\n        module.invoke(query);\n      } else {\n        if (instance !== undefined) {\n          instance.invoke('destroy');\n        }\n\n        module.initialize();\n      }\n    });\n    return returnedValue !== undefined ? returnedValue : $allModules;\n  };\n\n  $.fn.dropdown.settings = {\n    silent: false,\n    debug: false,\n    verbose: false,\n    performance: true,\n    on: 'click',\n    // what event should show menu action on item selection\n    action: 'activate',\n    // action on item selection (nothing, activate, select, combo, hide, function(){})\n    values: false,\n    // specify values to use for dropdown\n    clearable: false,\n    // whether the value of the dropdown can be cleared\n    apiSettings: false,\n    selectOnKeydown: true,\n    // Whether selection should occur automatically when keyboard shortcuts used\n    minCharacters: 0,\n    // Minimum characters required to trigger API call\n    filterRemoteData: false,\n    // Whether API results should be filtered after being returned for query term\n    saveRemoteData: true,\n    // Whether remote name/value pairs should be stored in sessionStorage to allow remote data to be restored on page refresh\n    throttle: 200,\n    // How long to wait after last user input to search remotely\n    context: window,\n    // Context to use when determining if on screen\n    direction: 'auto',\n    // Whether dropdown should always open in one direction\n    keepOnScreen: true,\n    // Whether dropdown should check whether it is on screen before showing\n    match: 'both',\n    // what to match against with search selection (both, text, or label)\n    fullTextSearch: false,\n    // search anywhere in value (set to 'exact' to require exact matches)\n    ignoreDiacritics: false,\n    // match results also if they contain diacritics of the same base character (for example searching for \"a\" will also match \"\" or \"\" or \"\", etc...)\n    hideDividers: false,\n    // Whether to hide any divider elements (specified in selector.divider) that are sibling to any items when searched (set to true will hide all dividers, set to 'empty' will hide them when they are not followed by a visible item)\n    placeholder: 'auto',\n    // whether to convert blank <select> values to placeholder text\n    preserveHTML: true,\n    // preserve html when selecting value\n    sortSelect: false,\n    // sort selection on init\n    forceSelection: true,\n    // force a choice on blur with search selection\n    allowAdditions: false,\n    // whether multiple select should allow user added values\n    ignoreCase: false,\n    // whether to consider case sensitivity when creating labels\n    ignoreSearchCase: true,\n    // whether to consider case sensitivity when filtering items\n    hideAdditions: true,\n    // whether or not to hide special message prompting a user they can enter a value\n    maxSelections: false,\n    // When set to a number limits the number of selections to this count\n    useLabels: true,\n    // whether multiple select should filter currently active selections from choices\n    delimiter: ',',\n    // when multiselect uses normal <input> the values will be delimited with this character\n    showOnFocus: true,\n    // show menu on focus\n    allowReselection: false,\n    // whether current value should trigger callbacks when reselected\n    allowTab: true,\n    // add tabindex to element\n    allowCategorySelection: false,\n    // allow elements with sub-menus to be selected\n    fireOnInit: false,\n    // Whether callbacks should fire when initializing dropdown values\n    transition: 'auto',\n    // auto transition will slide down or up based on direction\n    duration: 200,\n    // duration of transition\n    displayType: false,\n    // displayType of transition\n    glyphWidth: 1.037,\n    // widest glyph width in em (W is 1.037 em) used to calculate multiselect input width\n    headerDivider: true,\n    // whether option headers should have an additional divider line underneath when converted from <select> <optgroup>\n    // label settings on multi-select\n    label: {\n      transition: 'scale',\n      duration: 200,\n      variation: false\n    },\n    // delay before event\n    delay: {\n      hide: 300,\n      show: 200,\n      search: 20,\n      touch: 50\n    },\n\n    /* Callbacks */\n    onChange: function (value, text, $selected) {},\n    onAdd: function (value, text, $selected) {},\n    onRemove: function (value, text, $selected) {},\n    onSearch: function (searchTerm) {},\n    onLabelSelect: function ($selectedLabels) {},\n    onLabelCreate: function (value, text) {\n      return $(this);\n    },\n    onLabelRemove: function (value) {\n      return true;\n    },\n    onNoResults: function (searchTerm) {\n      return true;\n    },\n    onShow: function () {},\n    onHide: function () {},\n\n    /* Component */\n    name: 'Dropdown',\n    namespace: 'dropdown',\n    message: {\n      addResult: 'Add <b>{term}</b>',\n      count: '{count} selected',\n      maxSelections: 'Max {maxCount} selections',\n      noResults: 'No results found.',\n      serverError: 'There was an error contacting the server'\n    },\n    error: {\n      action: 'You called a dropdown action that was not defined',\n      alreadySetup: 'Once a select has been initialized behaviors must be called on the created ui dropdown',\n      labels: 'Allowing user additions currently requires the use of labels.',\n      missingMultiple: '<select> requires multiple property to be set to correctly preserve multiple values',\n      method: 'The method you called is not defined.',\n      noAPI: 'The API module is required to load resources remotely',\n      noStorage: 'Saving remote data requires session storage',\n      noTransition: 'This module requires ui transitions <https://github.com/Semantic-Org/UI-Transition>',\n      noNormalize: '\"ignoreDiacritics\" setting will be ignored. Browser does not support String().normalize(). You may consider including <https://cdn.jsdelivr.net/npm/unorm@1.4.1/lib/unorm.min.js> as a polyfill.'\n    },\n    regExp: {\n      escape: /[-[\\]{}()*+?.,\\\\^$|#\\s:=@]/g,\n      quote: /\"/g\n    },\n    metadata: {\n      defaultText: 'defaultText',\n      defaultValue: 'defaultValue',\n      placeholderText: 'placeholder',\n      text: 'text',\n      value: 'value'\n    },\n    // property names for remote query\n    fields: {\n      remoteValues: 'results',\n      // grouping for api results\n      values: 'values',\n      // grouping for all dropdown values\n      disabled: 'disabled',\n      // whether value should be disabled\n      name: 'name',\n      // displayed dropdown text\n      description: 'description',\n      // displayed dropdown description\n      descriptionVertical: 'descriptionVertical',\n      // whether description should be vertical\n      value: 'value',\n      // actual dropdown value\n      text: 'text',\n      // displayed text when selected\n      type: 'type',\n      // type of dropdown element\n      image: 'image',\n      // optional image path\n      imageClass: 'imageClass',\n      // optional individual class for image\n      icon: 'icon',\n      // optional icon name\n      iconClass: 'iconClass',\n      // optional individual class for icon (for example to use flag instead)\n      class: 'class',\n      // optional individual class for item/header\n      divider: 'divider' // optional divider append for group headers\n\n    },\n    keys: {\n      backspace: 8,\n      delimiter: 188,\n      // comma\n      deleteKey: 46,\n      enter: 13,\n      escape: 27,\n      pageUp: 33,\n      pageDown: 34,\n      leftArrow: 37,\n      upArrow: 38,\n      rightArrow: 39,\n      downArrow: 40\n    },\n    selector: {\n      addition: '.addition',\n      divider: '.divider, .header',\n      dropdown: '.ui.dropdown',\n      hidden: '.hidden',\n      icon: '> .dropdown.icon',\n      input: '> input[type=\"hidden\"], > select',\n      item: '.item',\n      label: '> .label',\n      remove: '> .label > .delete.icon',\n      siblingLabel: '.label',\n      menu: '.menu',\n      message: '.message',\n      menuIcon: '.dropdown.icon',\n      search: 'input.search, .menu > .search > input, .menu input.search',\n      sizer: '> span.sizer',\n      text: '> .text:not(.icon)',\n      unselectable: '.disabled, .filtered',\n      clearIcon: '> .remove.icon'\n    },\n    className: {\n      active: 'active',\n      addition: 'addition',\n      animating: 'animating',\n      description: 'description',\n      descriptionVertical: 'vertical',\n      disabled: 'disabled',\n      empty: 'empty',\n      dropdown: 'ui dropdown',\n      filtered: 'filtered',\n      hidden: 'hidden transition',\n      icon: 'icon',\n      image: 'image',\n      item: 'item',\n      label: 'ui label',\n      loading: 'loading',\n      menu: 'menu',\n      message: 'message',\n      multiple: 'multiple',\n      placeholder: 'default',\n      sizer: 'sizer',\n      search: 'search',\n      selected: 'selected',\n      selection: 'selection',\n      text: 'text',\n      upward: 'upward',\n      leftward: 'left',\n      visible: 'visible',\n      clearable: 'clearable',\n      noselection: 'noselection',\n      delete: 'delete',\n      header: 'header',\n      divider: 'divider',\n      groupIcon: '',\n      unfilterable: 'unfilterable'\n    }\n  };\n  /* Templates */\n\n  $.fn.dropdown.settings.templates = {\n    deQuote: function (string, encode) {\n      return String(string).replace(/\"/g, encode ? \"&quot;\" : \"\");\n    },\n    escape: function (string, preserveHTML) {\n      if (preserveHTML) {\n        return string;\n      }\n\n      var badChars = /[<>\"'`]/g,\n          shouldEscape = /[&<>\"'`]/,\n          escape = {\n        \"<\": \"&lt;\",\n        \">\": \"&gt;\",\n        '\"': \"&quot;\",\n        \"'\": \"&#x27;\",\n        \"`\": \"&#x60;\"\n      },\n          escapedChar = function (chr) {\n        return escape[chr];\n      };\n\n      if (shouldEscape.test(string)) {\n        string = string.replace(/&(?![a-z0-9#]{1,6};)/, \"&amp;\");\n        return string.replace(badChars, escapedChar);\n      }\n\n      return string;\n    },\n    // generates dropdown from select values\n    dropdown: function (select, fields, preserveHTML, className) {\n      var placeholder = select.placeholder || false,\n          html = '',\n          escape = $.fn.dropdown.settings.templates.escape;\n      html += '<i class=\"dropdown icon\"></i>';\n\n      if (placeholder) {\n        html += '<div class=\"default text\">' + escape(placeholder, preserveHTML) + '</div>';\n      } else {\n        html += '<div class=\"text\"></div>';\n      }\n\n      html += '<div class=\"' + className.menu + '\">';\n      html += $.fn.dropdown.settings.templates.menu(select, fields, preserveHTML, className);\n      html += '</div>';\n      return html;\n    },\n    // generates just menu from select\n    menu: function (response, fields, preserveHTML, className) {\n      var values = response[fields.values] || [],\n          html = '',\n          escape = $.fn.dropdown.settings.templates.escape,\n          deQuote = $.fn.dropdown.settings.templates.deQuote;\n      $.each(values, function (index, option) {\n        var itemType = option[fields.type] ? option[fields.type] : 'item',\n            isMenu = itemType.indexOf('menu') !== -1;\n\n        if (itemType === 'item' || isMenu) {\n          var maybeText = option[fields.text] ? ' data-text=\"' + deQuote(option[fields.text], true) + '\"' : '',\n              maybeDisabled = option[fields.disabled] ? className.disabled + ' ' : '',\n              maybeDescriptionVertical = option[fields.descriptionVertical] ? className.descriptionVertical + ' ' : '',\n              hasDescription = escape(option[fields.description] || '', preserveHTML) != '';\n          html += '<div class=\"' + maybeDisabled + maybeDescriptionVertical + (option[fields.class] ? deQuote(option[fields.class]) : className.item) + '\" data-value=\"' + deQuote(option[fields.value], true) + '\"' + maybeText + '>';\n\n          if (isMenu) {\n            html += '<i class=\"' + (itemType.indexOf('left') !== -1 ? 'left' : '') + ' dropdown icon\"></i>';\n          }\n\n          if (option[fields.image]) {\n            html += '<img class=\"' + (option[fields.imageClass] ? deQuote(option[fields.imageClass]) : className.image) + '\" src=\"' + deQuote(option[fields.image]) + '\">';\n          }\n\n          if (option[fields.icon]) {\n            html += '<i class=\"' + deQuote(option[fields.icon]) + ' ' + (option[fields.iconClass] ? deQuote(option[fields.iconClass]) : className.icon) + '\"></i>';\n          }\n\n          if (hasDescription) {\n            html += '<span class=\"' + className.description + '\">' + escape(option[fields.description] || '', preserveHTML) + '</span>';\n            html += !isMenu ? '<span class=\"' + className.text + '\">' : '';\n          }\n\n          if (isMenu) {\n            html += '<span class=\"' + className.text + '\">';\n          }\n\n          html += escape(option[fields.name] || '', preserveHTML);\n\n          if (isMenu) {\n            html += '</span>';\n            html += '<div class=\"' + itemType + '\">';\n            html += $.fn.dropdown.settings.templates.menu(option, fields, preserveHTML, className);\n            html += '</div>';\n          } else if (hasDescription) {\n            html += '</span>';\n          }\n\n          html += '</div>';\n        } else if (itemType === 'header') {\n          var groupName = escape(option[fields.name] || '', preserveHTML),\n              groupIcon = option[fields.icon] ? deQuote(option[fields.icon]) : className.groupIcon;\n\n          if (groupName !== '' || groupIcon !== '') {\n            html += '<div class=\"' + (option[fields.class] ? deQuote(option[fields.class]) : className.header) + '\">';\n\n            if (groupIcon !== '') {\n              html += '<i class=\"' + groupIcon + ' ' + (option[fields.iconClass] ? deQuote(option[fields.iconClass]) : className.icon) + '\"></i>';\n            }\n\n            html += groupName;\n            html += '</div>';\n          }\n\n          if (option[fields.divider]) {\n            html += '<div class=\"' + className.divider + '\"></div>';\n          }\n        }\n      });\n      return html;\n    },\n    // generates label for multiselect\n    label: function (value, text, preserveHTML, className) {\n      var escape = $.fn.dropdown.settings.templates.escape;\n      return escape(text, preserveHTML) + '<i class=\"' + className.delete + ' icon\"></i>';\n    },\n    // generates messages like \"No results\"\n    message: function (message) {\n      return message;\n    },\n    // generates user addition to selection menu\n    addition: function (choice) {\n      return choice;\n    }\n  };\n})(jQuery, window, document);\n/*!\n * # Fomantic-UI 2.8.8 - Embed\n * http://github.com/fomantic/Fomantic-UI/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n\n;\n\n(function ($, window, document, undefined) {\n  \"use strict\";\n\n  $.isFunction = $.isFunction || function (obj) {\n    return typeof obj === \"function\" && typeof obj.nodeType !== \"number\";\n  };\n\n  window = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\n\n  $.fn.embed = function (parameters) {\n    var $allModules = $(this),\n        moduleSelector = $allModules.selector || '',\n        time = new Date().getTime(),\n        performance = [],\n        query = arguments[0],\n        methodInvoked = typeof query == 'string',\n        queryArguments = [].slice.call(arguments, 1),\n        returnedValue;\n    $allModules.each(function () {\n      var settings = $.isPlainObject(parameters) ? $.extend(true, {}, $.fn.embed.settings, parameters) : $.extend({}, $.fn.embed.settings),\n          selector = settings.selector,\n          className = settings.className,\n          sources = settings.sources,\n          error = settings.error,\n          metadata = settings.metadata,\n          namespace = settings.namespace,\n          templates = settings.templates,\n          eventNamespace = '.' + namespace,\n          moduleNamespace = 'module-' + namespace,\n          $module = $(this),\n          $placeholder = $module.find(selector.placeholder),\n          $icon = $module.find(selector.icon),\n          $embed = $module.find(selector.embed),\n          element = this,\n          instance = $module.data(moduleNamespace),\n          module;\n      module = {\n        initialize: function () {\n          module.debug('Initializing embed');\n          module.determine.autoplay();\n          module.create();\n          module.bind.events();\n          module.instantiate();\n        },\n        instantiate: function () {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module.data(moduleNamespace, module);\n        },\n        destroy: function () {\n          module.verbose('Destroying previous instance of embed');\n          module.reset();\n          $module.removeData(moduleNamespace).off(eventNamespace);\n        },\n        refresh: function () {\n          module.verbose('Refreshing selector cache');\n          $placeholder = $module.find(selector.placeholder);\n          $icon = $module.find(selector.icon);\n          $embed = $module.find(selector.embed);\n        },\n        bind: {\n          events: function () {\n            if (module.has.placeholder()) {\n              module.debug('Adding placeholder events');\n              $module.on('click' + eventNamespace, selector.placeholder, module.createAndShow).on('click' + eventNamespace, selector.icon, module.createAndShow);\n            }\n          }\n        },\n        create: function () {\n          var placeholder = module.get.placeholder();\n\n          if (placeholder) {\n            module.createPlaceholder();\n          } else {\n            module.createAndShow();\n          }\n        },\n        createPlaceholder: function (placeholder) {\n          var icon = module.get.icon(),\n              url = module.get.url(),\n              embed = module.generate.embed(url);\n          placeholder = placeholder || module.get.placeholder();\n          $module.html(templates.placeholder(placeholder, icon));\n          module.debug('Creating placeholder for embed', placeholder, icon);\n        },\n        createEmbed: function (url) {\n          module.refresh();\n          url = url || module.get.url();\n          $embed = $('<div/>').addClass(className.embed).html(module.generate.embed(url)).appendTo($module);\n          settings.onCreate.call(element, url);\n          module.debug('Creating embed object', $embed);\n        },\n        changeEmbed: function (url) {\n          $embed.html(module.generate.embed(url));\n        },\n        createAndShow: function () {\n          module.createEmbed();\n          module.show();\n        },\n        // sets new embed\n        change: function (source, id, url) {\n          module.debug('Changing video to ', source, id, url);\n          $module.data(metadata.source, source).data(metadata.id, id);\n\n          if (url) {\n            $module.data(metadata.url, url);\n          } else {\n            $module.removeData(metadata.url);\n          }\n\n          if (module.has.embed()) {\n            module.changeEmbed();\n          } else {\n            module.create();\n          }\n        },\n        // clears embed\n        reset: function () {\n          module.debug('Clearing embed and showing placeholder');\n          module.remove.data();\n          module.remove.active();\n          module.remove.embed();\n          module.showPlaceholder();\n          settings.onReset.call(element);\n        },\n        // shows current embed\n        show: function () {\n          module.debug('Showing embed');\n          module.set.active();\n          settings.onDisplay.call(element);\n        },\n        hide: function () {\n          module.debug('Hiding embed');\n          module.showPlaceholder();\n        },\n        showPlaceholder: function () {\n          module.debug('Showing placeholder image');\n          module.remove.active();\n          settings.onPlaceholderDisplay.call(element);\n        },\n        get: {\n          id: function () {\n            return settings.id || $module.data(metadata.id);\n          },\n          placeholder: function () {\n            return settings.placeholder || $module.data(metadata.placeholder);\n          },\n          icon: function () {\n            return settings.icon ? settings.icon : $module.data(metadata.icon) !== undefined ? $module.data(metadata.icon) : module.determine.icon();\n          },\n          source: function (url) {\n            return settings.source ? settings.source : $module.data(metadata.source) !== undefined ? $module.data(metadata.source) : module.determine.source();\n          },\n          type: function () {\n            var source = module.get.source();\n            return sources[source] !== undefined ? sources[source].type : false;\n          },\n          url: function () {\n            return settings.url ? settings.url : $module.data(metadata.url) !== undefined ? $module.data(metadata.url) : module.determine.url();\n          }\n        },\n        determine: {\n          autoplay: function () {\n            if (module.should.autoplay()) {\n              settings.autoplay = true;\n            }\n          },\n          source: function (url) {\n            var matchedSource = false;\n            url = url || module.get.url();\n\n            if (url) {\n              $.each(sources, function (name, source) {\n                if (url.search(source.domain) !== -1) {\n                  matchedSource = name;\n                  return false;\n                }\n              });\n            }\n\n            return matchedSource;\n          },\n          icon: function () {\n            var source = module.get.source();\n            return sources[source] !== undefined ? sources[source].icon : false;\n          },\n          url: function () {\n            var id = settings.id || $module.data(metadata.id),\n                source = settings.source || $module.data(metadata.source),\n                url;\n            url = sources[source] !== undefined ? sources[source].url.replace('{id}', id) : false;\n\n            if (url) {\n              $module.data(metadata.url, url);\n            }\n\n            return url;\n          }\n        },\n        set: {\n          active: function () {\n            $module.addClass(className.active);\n          }\n        },\n        remove: {\n          data: function () {\n            $module.removeData(metadata.id).removeData(metadata.icon).removeData(metadata.placeholder).removeData(metadata.source).removeData(metadata.url);\n          },\n          active: function () {\n            $module.removeClass(className.active);\n          },\n          embed: function () {\n            $embed.empty();\n          }\n        },\n        encode: {\n          parameters: function (parameters) {\n            var urlString = [],\n                index;\n\n            for (index in parameters) {\n              urlString.push(encodeURIComponent(index) + '=' + encodeURIComponent(parameters[index]));\n            }\n\n            return urlString.join('&amp;');\n          }\n        },\n        generate: {\n          embed: function (url) {\n            module.debug('Generating embed html');\n            var source = module.get.source(),\n                html,\n                parameters;\n            url = module.get.url(url);\n\n            if (url) {\n              parameters = module.generate.parameters(source);\n              html = templates.iframe(url, parameters);\n            } else {\n              module.error(error.noURL, $module);\n            }\n\n            return html;\n          },\n          parameters: function (source, extraParameters) {\n            var parameters = sources[source] && sources[source].parameters !== undefined ? sources[source].parameters(settings) : {};\n            extraParameters = extraParameters || settings.parameters;\n\n            if (extraParameters) {\n              parameters = $.extend({}, parameters, extraParameters);\n            }\n\n            parameters = settings.onEmbed(parameters);\n            return module.encode.parameters(parameters);\n          }\n        },\n        has: {\n          embed: function () {\n            return $embed.length > 0;\n          },\n          placeholder: function () {\n            return settings.placeholder || $module.data(metadata.placeholder);\n          }\n        },\n        should: {\n          autoplay: function () {\n            return settings.autoplay === 'auto' ? settings.placeholder || $module.data(metadata.placeholder) !== undefined : settings.autoplay;\n          }\n        },\n        is: {\n          video: function () {\n            return module.get.type() == 'video';\n          }\n        },\n        setting: function (name, value) {\n          module.debug('Changing setting', name, value);\n\n          if ($.isPlainObject(name)) {\n            $.extend(true, settings, name);\n          } else if (value !== undefined) {\n            if ($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            } else {\n              settings[name] = value;\n            }\n          } else {\n            return settings[name];\n          }\n        },\n        internal: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, module, name);\n          } else if (value !== undefined) {\n            module[name] = value;\n          } else {\n            return module[name];\n          }\n        },\n        debug: function () {\n          if (!settings.silent && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function () {\n          if (!settings.silent && settings.verbose && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function () {\n          if (!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function (message) {\n            var currentTime, executionTime, previousTime;\n\n            if (settings.performance) {\n              currentTime = new Date().getTime();\n              previousTime = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time = currentTime;\n              performance.push({\n                'Name': message[0],\n                'Arguments': [].slice.call(message, 1) || '',\n                'Element': element,\n                'Execution Time': executionTime\n              });\n            }\n\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function () {\n            var title = settings.name + ':',\n                totalTime = 0;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function (index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n\n            if (moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n\n            if ($allModules.length > 1) {\n              title += ' ' + '(' + $allModules.length + ')';\n            }\n\n            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n\n              if (console.table) {\n                console.table(performance);\n              } else {\n                $.each(performance, function (index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');\n                });\n              }\n\n              console.groupEnd();\n            }\n\n            performance = [];\n          }\n        },\n        invoke: function (query, passedArguments, context) {\n          var object = instance,\n              maxDepth,\n              found,\n              response;\n          passedArguments = passedArguments || queryArguments;\n          context = element || context;\n\n          if (typeof query == 'string' && object !== undefined) {\n            query = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function (depth, value) {\n              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;\n\n              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {\n                object = object[camelCaseValue];\n              } else if (object[camelCaseValue] !== undefined) {\n                found = object[camelCaseValue];\n                return false;\n              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {\n                object = object[value];\n              } else if (object[value] !== undefined) {\n                found = object[value];\n                return false;\n              } else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n\n          if ($.isFunction(found)) {\n            response = found.apply(context, passedArguments);\n          } else if (found !== undefined) {\n            response = found;\n          }\n\n          if (Array.isArray(returnedValue)) {\n            returnedValue.push(response);\n          } else if (returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          } else if (response !== undefined) {\n            returnedValue = response;\n          }\n\n          return found;\n        }\n      };\n\n      if (methodInvoked) {\n        if (instance === undefined) {\n          module.initialize();\n        }\n\n        module.invoke(query);\n      } else {\n        if (instance !== undefined) {\n          instance.invoke('destroy');\n        }\n\n        module.initialize();\n      }\n    });\n    return returnedValue !== undefined ? returnedValue : this;\n  };\n\n  $.fn.embed.settings = {\n    name: 'Embed',\n    namespace: 'embed',\n    silent: false,\n    debug: false,\n    verbose: false,\n    performance: true,\n    icon: false,\n    source: false,\n    url: false,\n    id: false,\n    // standard video settings\n    autoplay: 'auto',\n    color: '#444444',\n    hd: true,\n    brandedUI: false,\n    // additional parameters to include with the embed\n    parameters: false,\n    onDisplay: function () {},\n    onPlaceholderDisplay: function () {},\n    onReset: function () {},\n    onCreate: function (url) {},\n    onEmbed: function (parameters) {\n      return parameters;\n    },\n    metadata: {\n      id: 'id',\n      icon: 'icon',\n      placeholder: 'placeholder',\n      source: 'source',\n      url: 'url'\n    },\n    error: {\n      noURL: 'No URL specified',\n      method: 'The method you called is not defined'\n    },\n    className: {\n      active: 'active',\n      embed: 'embed'\n    },\n    selector: {\n      embed: '.embed',\n      placeholder: '.placeholder',\n      icon: '.icon'\n    },\n    sources: {\n      youtube: {\n        name: 'youtube',\n        type: 'video',\n        icon: 'video play',\n        domain: 'youtube.com',\n        url: '//www.youtube.com/embed/{id}',\n        parameters: function (settings) {\n          return {\n            autohide: !settings.brandedUI,\n            autoplay: settings.autoplay,\n            color: settings.color || undefined,\n            hq: settings.hd,\n            jsapi: settings.api,\n            modestbranding: !settings.brandedUI\n          };\n        }\n      },\n      vimeo: {\n        name: 'vimeo',\n        type: 'video',\n        icon: 'video play',\n        domain: 'vimeo.com',\n        url: '//player.vimeo.com/video/{id}',\n        parameters: function (settings) {\n          return {\n            api: settings.api,\n            autoplay: settings.autoplay,\n            byline: settings.brandedUI,\n            color: settings.color || undefined,\n            portrait: settings.brandedUI,\n            title: settings.brandedUI\n          };\n        }\n      }\n    },\n    templates: {\n      iframe: function (url, parameters) {\n        var src = url;\n\n        if (parameters) {\n          src += '?' + parameters;\n        }\n\n        return '' + '<iframe src=\"' + src + '\"' + ' width=\"100%\" height=\"100%\"' + ' webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>';\n      },\n      placeholder: function (image, icon) {\n        var html = '';\n\n        if (icon) {\n          html += '<i class=\"' + icon + ' icon\"></i>';\n        }\n\n        if (image) {\n          html += '<img class=\"placeholder\" src=\"' + image + '\">';\n        }\n\n        return html;\n      }\n    },\n    // NOT YET IMPLEMENTED\n    api: false,\n    onPause: function () {},\n    onPlay: function () {},\n    onStop: function () {}\n  };\n})(jQuery, window, document);\n/*!\n * # Fomantic-UI 2.8.8 - Modal\n * http://github.com/fomantic/Fomantic-UI/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n\n;\n\n(function ($, window, document, undefined) {\n  'use strict';\n\n  $.isFunction = $.isFunction || function (obj) {\n    return typeof obj === \"function\" && typeof obj.nodeType !== \"number\";\n  };\n\n  window = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\n\n  $.fn.modal = function (parameters) {\n    var $allModules = $(this),\n        $window = $(window),\n        $document = $(document),\n        $body = $('body'),\n        moduleSelector = $allModules.selector || '',\n        time = new Date().getTime(),\n        performance = [],\n        query = arguments[0],\n        methodInvoked = typeof query == 'string',\n        queryArguments = [].slice.call(arguments, 1),\n        requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || function (callback) {\n      setTimeout(callback, 0);\n    },\n        returnedValue;\n\n    $allModules.each(function () {\n      var settings = $.isPlainObject(parameters) ? $.extend(true, {}, $.fn.modal.settings, parameters) : $.extend({}, $.fn.modal.settings),\n          selector = settings.selector,\n          className = settings.className,\n          namespace = settings.namespace,\n          fields = settings.fields,\n          error = settings.error,\n          eventNamespace = '.' + namespace,\n          moduleNamespace = 'module-' + namespace,\n          $module = $(this),\n          $context = $(settings.context),\n          $close = $module.find(selector.close),\n          $allModals,\n          $otherModals,\n          $focusedElement,\n          $dimmable,\n          $dimmer,\n          element = this,\n          instance = $module.hasClass('modal') ? $module.data(moduleNamespace) : undefined,\n          ignoreRepeatedEvents = false,\n          initialMouseDownInModal,\n          initialMouseDownInScrollbar,\n          initialBodyMargin = '',\n          tempBodyMargin = '',\n          elementEventNamespace,\n          id,\n          observer,\n          module;\n      module = {\n        initialize: function () {\n          if (!$module.hasClass('modal')) {\n            module.create.modal();\n\n            if (!$.isFunction(settings.onHidden)) {\n              settings.onHidden = function () {\n                module.destroy();\n                $module.remove();\n              };\n            }\n          }\n\n          $module.addClass(settings.class);\n\n          if (settings.title !== '') {\n            $module.find(selector.title).html(module.helpers.escape(settings.title, settings.preserveHTML)).addClass(settings.classTitle);\n          }\n\n          if (settings.content !== '') {\n            $module.find(selector.content).html(module.helpers.escape(settings.content, settings.preserveHTML)).addClass(settings.classContent);\n          }\n\n          if (module.has.configActions()) {\n            var $actions = $module.find(selector.actions).addClass(settings.classActions);\n\n            if ($actions.length === 0) {\n              $actions = $('<div/>', {\n                class: className.actions + ' ' + (settings.classActions || '')\n              }).appendTo($module);\n            } else {\n              $actions.empty();\n            }\n\n            settings.actions.forEach(function (el) {\n              var icon = el[fields.icon] ? '<i class=\"' + module.helpers.deQuote(el[fields.icon]) + ' icon\"></i>' : '',\n                  text = module.helpers.escape(el[fields.text] || '', settings.preserveHTML),\n                  cls = module.helpers.deQuote(el[fields.class] || ''),\n                  click = el[fields.click] && $.isFunction(el[fields.click]) ? el[fields.click] : function () {};\n              $actions.append($('<button/>', {\n                html: icon + text,\n                class: className.button + ' ' + cls,\n                click: function () {\n                  if (click.call(element, $module) === false) {\n                    return;\n                  }\n\n                  module.hide();\n                }\n              }));\n            });\n          }\n\n          module.cache = {};\n          module.verbose('Initializing dimmer', $context);\n          module.create.id();\n          module.create.dimmer();\n\n          if (settings.allowMultiple) {\n            module.create.innerDimmer();\n          }\n\n          if (!settings.centered) {\n            $module.addClass('top aligned');\n          }\n\n          module.refreshModals();\n          module.bind.events();\n\n          if (settings.observeChanges) {\n            module.observeChanges();\n          }\n\n          module.instantiate();\n\n          if (settings.autoShow) {\n            module.show();\n          }\n        },\n        instantiate: function () {\n          module.verbose('Storing instance of modal');\n          instance = module;\n          $module.data(moduleNamespace, instance);\n        },\n        create: {\n          modal: function () {\n            $module = $('<div/>', {\n              class: className.modal\n            });\n\n            if (settings.closeIcon) {\n              $close = $('<i/>', {\n                class: className.close\n              });\n              $module.append($close);\n            }\n\n            if (settings.title !== '') {\n              $('<div/>', {\n                class: className.title\n              }).appendTo($module);\n            }\n\n            if (settings.content !== '') {\n              $('<div/>', {\n                class: className.content\n              }).appendTo($module);\n            }\n\n            if (module.has.configActions()) {\n              $('<div/>', {\n                class: className.actions\n              }).appendTo($module);\n            }\n\n            $context.append($module);\n          },\n          dimmer: function () {\n            var defaultSettings = {\n              debug: settings.debug,\n              dimmerName: 'modals'\n            },\n                dimmerSettings = $.extend(true, defaultSettings, settings.dimmerSettings);\n\n            if ($.fn.dimmer === undefined) {\n              module.error(error.dimmer);\n              return;\n            }\n\n            module.debug('Creating dimmer');\n            $dimmable = $context.dimmer(dimmerSettings);\n\n            if (settings.detachable) {\n              module.verbose('Modal is detachable, moving content into dimmer');\n              $dimmable.dimmer('add content', $module);\n            } else {\n              module.set.undetached();\n            }\n\n            $dimmer = $dimmable.dimmer('get dimmer');\n          },\n          id: function () {\n            id = (Math.random().toString(16) + '000000000').substr(2, 8);\n            elementEventNamespace = '.' + id;\n            module.verbose('Creating unique id for element', id);\n          },\n          innerDimmer: function () {\n            if ($module.find(selector.dimmer).length == 0) {\n              $module.prepend('<div class=\"ui inverted dimmer\"></div>');\n            }\n          }\n        },\n        destroy: function () {\n          if (observer) {\n            observer.disconnect();\n          }\n\n          module.verbose('Destroying previous modal');\n          $module.removeData(moduleNamespace).off(eventNamespace);\n          $window.off(elementEventNamespace);\n          $dimmer.off(elementEventNamespace);\n          $close.off(eventNamespace);\n          $context.dimmer('destroy');\n        },\n        observeChanges: function () {\n          if ('MutationObserver' in window) {\n            observer = new MutationObserver(function (mutations) {\n              module.debug('DOM tree modified, refreshing');\n              module.refresh();\n            });\n            observer.observe(element, {\n              childList: true,\n              subtree: true\n            });\n            module.debug('Setting up mutation observer', observer);\n          }\n        },\n        refresh: function () {\n          module.remove.scrolling();\n          module.cacheSizes();\n\n          if (!module.can.useFlex()) {\n            module.set.modalOffset();\n          }\n\n          module.set.screenHeight();\n          module.set.type();\n        },\n        refreshModals: function () {\n          $otherModals = $module.siblings(selector.modal);\n          $allModals = $otherModals.add($module);\n        },\n        attachEvents: function (selector, event) {\n          var $toggle = $(selector);\n          event = $.isFunction(module[event]) ? module[event] : module.toggle;\n\n          if ($toggle.length > 0) {\n            module.debug('Attaching modal events to element', selector, event);\n            $toggle.off(eventNamespace).on('click' + eventNamespace, event);\n          } else {\n            module.error(error.notFound, selector);\n          }\n        },\n        bind: {\n          events: function () {\n            module.verbose('Attaching events');\n            $module.on('click' + eventNamespace, selector.close, module.event.close).on('click' + eventNamespace, selector.approve, module.event.approve).on('click' + eventNamespace, selector.deny, module.event.deny);\n            $window.on('resize' + elementEventNamespace, module.event.resize);\n          },\n          scrollLock: function () {\n            // touch events default to passive, due to changes in chrome to optimize mobile perf\n            $dimmable.get(0).addEventListener('touchmove', module.event.preventScroll, {\n              passive: false\n            });\n          }\n        },\n        unbind: {\n          scrollLock: function () {\n            $dimmable.get(0).removeEventListener('touchmove', module.event.preventScroll, {\n              passive: false\n            });\n          }\n        },\n        get: {\n          id: function () {\n            return (Math.random().toString(16) + '000000000').substr(2, 8);\n          },\n          element: function () {\n            return $module;\n          },\n          settings: function () {\n            return settings;\n          }\n        },\n        event: {\n          approve: function () {\n            if (ignoreRepeatedEvents || settings.onApprove.call(element, $(this)) === false) {\n              module.verbose('Approve callback returned false cancelling hide');\n              return;\n            }\n\n            ignoreRepeatedEvents = true;\n            module.hide(function () {\n              ignoreRepeatedEvents = false;\n            });\n          },\n          preventScroll: function (event) {\n            if (event.target.className.indexOf('dimmer') !== -1) {\n              event.preventDefault();\n            }\n          },\n          deny: function () {\n            if (ignoreRepeatedEvents || settings.onDeny.call(element, $(this)) === false) {\n              module.verbose('Deny callback returned false cancelling hide');\n              return;\n            }\n\n            ignoreRepeatedEvents = true;\n            module.hide(function () {\n              ignoreRepeatedEvents = false;\n            });\n          },\n          close: function () {\n            module.hide();\n          },\n          mousedown: function (event) {\n            var $target = $(event.target),\n                isRtl = module.is.rtl();\n            ;\n            initialMouseDownInModal = $target.closest(selector.modal).length > 0;\n\n            if (initialMouseDownInModal) {\n              module.verbose('Mouse down event registered inside the modal');\n            }\n\n            initialMouseDownInScrollbar = module.is.scrolling() && (!isRtl && $(window).outerWidth() - settings.scrollbarWidth <= event.clientX || isRtl && settings.scrollbarWidth >= event.clientX);\n\n            if (initialMouseDownInScrollbar) {\n              module.verbose('Mouse down event registered inside the scrollbar');\n            }\n          },\n          mouseup: function (event) {\n            if (!settings.closable) {\n              module.verbose('Dimmer clicked but closable setting is disabled');\n              return;\n            }\n\n            if (initialMouseDownInModal) {\n              module.debug('Dimmer clicked but mouse down was initially registered inside the modal');\n              return;\n            }\n\n            if (initialMouseDownInScrollbar) {\n              module.debug('Dimmer clicked but mouse down was initially registered inside the scrollbar');\n              return;\n            }\n\n            var $target = $(event.target),\n                isInModal = $target.closest(selector.modal).length > 0,\n                isInDOM = $.contains(document.documentElement, event.target);\n\n            if (!isInModal && isInDOM && module.is.active() && $module.hasClass(className.front)) {\n              module.debug('Dimmer clicked, hiding all modals');\n\n              if (settings.allowMultiple) {\n                if (!module.hideAll()) {\n                  return;\n                }\n              } else if (!module.hide()) {\n                return;\n              }\n\n              module.remove.clickaway();\n            }\n          },\n          debounce: function (method, delay) {\n            clearTimeout(module.timer);\n            module.timer = setTimeout(method, delay);\n          },\n          keyboard: function (event) {\n            var keyCode = event.which,\n                escapeKey = 27;\n\n            if (keyCode == escapeKey) {\n              if (settings.closable) {\n                module.debug('Escape key pressed hiding modal');\n\n                if ($module.hasClass(className.front)) {\n                  module.hide();\n                }\n              } else {\n                module.debug('Escape key pressed, but closable is set to false');\n              }\n\n              event.preventDefault();\n            }\n          },\n          resize: function () {\n            if ($dimmable.dimmer('is active') && (module.is.animating() || module.is.active())) {\n              requestAnimationFrame(module.refresh);\n            }\n          }\n        },\n        toggle: function () {\n          if (module.is.active() || module.is.animating()) {\n            module.hide();\n          } else {\n            module.show();\n          }\n        },\n        show: function (callback) {\n          callback = $.isFunction(callback) ? callback : function () {};\n          module.refreshModals();\n          module.set.dimmerSettings();\n          module.set.dimmerStyles();\n          module.showModal(callback);\n        },\n        hide: function (callback) {\n          callback = $.isFunction(callback) ? callback : function () {};\n          module.refreshModals();\n          return module.hideModal(callback);\n        },\n        showModal: function (callback) {\n          callback = $.isFunction(callback) ? callback : function () {};\n\n          if (module.is.animating() || !module.is.active()) {\n            module.showDimmer();\n            module.cacheSizes();\n            module.set.bodyMargin();\n\n            if (module.can.useFlex()) {\n              module.remove.legacy();\n            } else {\n              module.set.legacy();\n              module.set.modalOffset();\n              module.debug('Using non-flex legacy modal positioning.');\n            }\n\n            module.set.screenHeight();\n            module.set.type();\n            module.set.clickaway();\n\n            if (!settings.allowMultiple && module.others.active()) {\n              module.hideOthers(module.showModal);\n            } else {\n              ignoreRepeatedEvents = false;\n\n              if (settings.allowMultiple) {\n                if (module.others.active()) {\n                  $otherModals.filter('.' + className.active).find(selector.dimmer).addClass('active');\n                }\n\n                if (settings.detachable) {\n                  $module.detach().appendTo($dimmer);\n                }\n              }\n\n              settings.onShow.call(element);\n\n              if (settings.transition && $.fn.transition !== undefined && $module.transition('is supported')) {\n                module.debug('Showing modal with css animations');\n                $module.transition({\n                  debug: settings.debug,\n                  animation: (settings.transition.showMethod || settings.transition) + ' in',\n                  queue: settings.queue,\n                  duration: settings.transition.showDuration || settings.duration,\n                  useFailSafe: true,\n                  onComplete: function () {\n                    settings.onVisible.apply(element);\n\n                    if (settings.keyboardShortcuts) {\n                      module.add.keyboardShortcuts();\n                    }\n\n                    module.save.focus();\n                    module.set.active();\n\n                    if (settings.autofocus) {\n                      module.set.autofocus();\n                    }\n\n                    callback();\n                  }\n                });\n              } else {\n                module.error(error.noTransition);\n              }\n            }\n          } else {\n            module.debug('Modal is already visible');\n          }\n        },\n        hideModal: function (callback, keepDimmed, hideOthersToo) {\n          var $previousModal = $otherModals.filter('.' + className.active).last();\n          callback = $.isFunction(callback) ? callback : function () {};\n          module.debug('Hiding modal');\n\n          if (settings.onHide.call(element, $(this)) === false) {\n            module.verbose('Hide callback returned false cancelling hide');\n            ignoreRepeatedEvents = false;\n            return false;\n          }\n\n          if (module.is.animating() || module.is.active()) {\n            if (settings.transition && $.fn.transition !== undefined && $module.transition('is supported')) {\n              module.remove.active();\n              $module.transition({\n                debug: settings.debug,\n                animation: (settings.transition.hideMethod || settings.transition) + ' out',\n                queue: settings.queue,\n                duration: settings.transition.hideDuration || settings.duration,\n                useFailSafe: true,\n                onStart: function () {\n                  if (!module.others.active() && !module.others.animating() && !keepDimmed) {\n                    module.hideDimmer();\n                  }\n\n                  if (settings.keyboardShortcuts && !module.others.active()) {\n                    module.remove.keyboardShortcuts();\n                  }\n                },\n                onComplete: function () {\n                  module.unbind.scrollLock();\n\n                  if (settings.allowMultiple) {\n                    $previousModal.addClass(className.front);\n                    $module.removeClass(className.front);\n\n                    if (hideOthersToo) {\n                      $allModals.find(selector.dimmer).removeClass('active');\n                    } else {\n                      $previousModal.find(selector.dimmer).removeClass('active');\n                    }\n                  }\n\n                  if ($.isFunction(settings.onHidden)) {\n                    settings.onHidden.call(element);\n                  }\n\n                  module.remove.dimmerStyles();\n                  module.restore.focus();\n                  callback();\n                }\n              });\n            } else {\n              module.error(error.noTransition);\n            }\n          }\n        },\n        showDimmer: function () {\n          if ($dimmable.dimmer('is animating') || !$dimmable.dimmer('is active')) {\n            module.save.bodyMargin();\n            module.debug('Showing dimmer');\n            $dimmable.dimmer('show');\n          } else {\n            module.debug('Dimmer already visible');\n          }\n        },\n        hideDimmer: function () {\n          if ($dimmable.dimmer('is animating') || $dimmable.dimmer('is active')) {\n            module.unbind.scrollLock();\n            $dimmable.dimmer('hide', function () {\n              module.restore.bodyMargin();\n              module.remove.clickaway();\n              module.remove.screenHeight();\n            });\n          } else {\n            module.debug('Dimmer is not visible cannot hide');\n            return;\n          }\n        },\n        hideAll: function (callback) {\n          var $visibleModals = $allModals.filter('.' + className.active + ', .' + className.animating);\n          callback = $.isFunction(callback) ? callback : function () {};\n\n          if ($visibleModals.length > 0) {\n            module.debug('Hiding all visible modals');\n            var hideOk = true; //check in reverse order trying to hide most top displayed modal first\n\n            $($visibleModals.get().reverse()).each(function (index, element) {\n              if (hideOk) {\n                hideOk = $(element).modal('hide modal', callback, false, true);\n              }\n            });\n\n            if (hideOk) {\n              module.hideDimmer();\n            }\n\n            return hideOk;\n          }\n        },\n        hideOthers: function (callback) {\n          var $visibleModals = $otherModals.filter('.' + className.active + ', .' + className.animating);\n          callback = $.isFunction(callback) ? callback : function () {};\n\n          if ($visibleModals.length > 0) {\n            module.debug('Hiding other modals', $otherModals);\n            $visibleModals.modal('hide modal', callback, true);\n          }\n        },\n        others: {\n          active: function () {\n            return $otherModals.filter('.' + className.active).length > 0;\n          },\n          animating: function () {\n            return $otherModals.filter('.' + className.animating).length > 0;\n          }\n        },\n        add: {\n          keyboardShortcuts: function () {\n            module.verbose('Adding keyboard shortcuts');\n            $document.on('keyup' + eventNamespace, module.event.keyboard);\n          }\n        },\n        save: {\n          focus: function () {\n            var $activeElement = $(document.activeElement),\n                inCurrentModal = $activeElement.closest($module).length > 0;\n\n            if (!inCurrentModal) {\n              $focusedElement = $(document.activeElement).blur();\n            }\n          },\n          bodyMargin: function () {\n            initialBodyMargin = $body.css('margin-' + (module.can.leftBodyScrollbar() ? 'left' : 'right'));\n            var bodyMarginRightPixel = parseInt(initialBodyMargin.replace(/[^\\d.]/g, '')),\n                bodyScrollbarWidth = window.innerWidth - document.documentElement.clientWidth;\n            tempBodyMargin = bodyMarginRightPixel + bodyScrollbarWidth;\n          }\n        },\n        restore: {\n          focus: function () {\n            if ($focusedElement && $focusedElement.length > 0 && settings.restoreFocus) {\n              $focusedElement.focus();\n            }\n          },\n          bodyMargin: function () {\n            var position = module.can.leftBodyScrollbar() ? 'left' : 'right';\n            $body.css('margin-' + position, initialBodyMargin);\n            $body.find(selector.bodyFixed.replace('right', position)).each(function () {\n              var el = $(this),\n                  attribute = el.css('position') === 'fixed' ? 'padding-' + position : position;\n              el.css(attribute, '');\n            });\n          }\n        },\n        remove: {\n          active: function () {\n            $module.removeClass(className.active);\n          },\n          legacy: function () {\n            $module.removeClass(className.legacy);\n          },\n          clickaway: function () {\n            if (!settings.detachable) {\n              $module.off('mousedown' + elementEventNamespace);\n            }\n\n            $dimmer.off('mousedown' + elementEventNamespace);\n            $dimmer.off('mouseup' + elementEventNamespace);\n          },\n          dimmerStyles: function () {\n            $dimmer.removeClass(className.inverted);\n            $dimmable.removeClass(className.blurring);\n          },\n          bodyStyle: function () {\n            if ($body.attr('style') === '') {\n              module.verbose('Removing style attribute');\n              $body.removeAttr('style');\n            }\n          },\n          screenHeight: function () {\n            module.debug('Removing page height');\n            $body.css('height', '');\n          },\n          keyboardShortcuts: function () {\n            module.verbose('Removing keyboard shortcuts');\n            $document.off('keyup' + eventNamespace);\n          },\n          scrolling: function () {\n            $dimmable.removeClass(className.scrolling);\n            $module.removeClass(className.scrolling);\n          }\n        },\n        cacheSizes: function () {\n          $module.addClass(className.loading);\n          var scrollHeight = $module.prop('scrollHeight'),\n              modalWidth = $module.outerWidth(),\n              modalHeight = $module.outerHeight();\n\n          if (module.cache.pageHeight === undefined || modalHeight !== 0) {\n            $.extend(module.cache, {\n              pageHeight: $(document).outerHeight(),\n              width: modalWidth,\n              height: modalHeight + settings.offset,\n              scrollHeight: scrollHeight + settings.offset,\n              contextHeight: settings.context == 'body' ? $(window).height() : $dimmable.height()\n            });\n            module.cache.topOffset = -(module.cache.height / 2);\n          }\n\n          $module.removeClass(className.loading);\n          module.debug('Caching modal and container sizes', module.cache);\n        },\n        helpers: {\n          deQuote: function (string) {\n            return String(string).replace(/\"/g, \"\");\n          },\n          escape: function (string, preserveHTML) {\n            if (preserveHTML) {\n              return string;\n            }\n\n            var badChars = /[<>\"'`]/g,\n                shouldEscape = /[&<>\"'`]/,\n                escape = {\n              \"<\": \"&lt;\",\n              \">\": \"&gt;\",\n              '\"': \"&quot;\",\n              \"'\": \"&#x27;\",\n              \"`\": \"&#x60;\"\n            },\n                escapedChar = function (chr) {\n              return escape[chr];\n            };\n\n            if (shouldEscape.test(string)) {\n              string = string.replace(/&(?![a-z0-9#]{1,6};)/, \"&amp;\");\n              return string.replace(badChars, escapedChar);\n            }\n\n            return string;\n          }\n        },\n        can: {\n          leftBodyScrollbar: function () {\n            if (module.cache.leftBodyScrollbar === undefined) {\n              module.cache.leftBodyScrollbar = module.is.rtl() && (module.is.iframe && !module.is.firefox() || module.is.safari() || module.is.edge() || module.is.ie());\n            }\n\n            return module.cache.leftBodyScrollbar;\n          },\n          useFlex: function () {\n            if (settings.useFlex === 'auto') {\n              return settings.detachable && !module.is.ie();\n            }\n\n            if (settings.useFlex && module.is.ie()) {\n              module.debug('useFlex true is not supported in IE');\n            } else if (settings.useFlex && !settings.detachable) {\n              module.debug('useFlex true in combination with detachable false is not supported');\n            }\n\n            return settings.useFlex;\n          },\n          fit: function () {\n            var contextHeight = module.cache.contextHeight,\n                verticalCenter = module.cache.contextHeight / 2,\n                topOffset = module.cache.topOffset,\n                scrollHeight = module.cache.scrollHeight,\n                height = module.cache.height,\n                paddingHeight = settings.padding,\n                startPosition = verticalCenter + topOffset;\n            return scrollHeight > height ? startPosition + scrollHeight + paddingHeight < contextHeight : height + paddingHeight * 2 < contextHeight;\n          }\n        },\n        has: {\n          configActions: function () {\n            return Array.isArray(settings.actions) && settings.actions.length > 0;\n          }\n        },\n        is: {\n          active: function () {\n            return $module.hasClass(className.active);\n          },\n          ie: function () {\n            if (module.cache.isIE === undefined) {\n              var isIE11 = !window.ActiveXObject && 'ActiveXObject' in window,\n                  isIE = ('ActiveXObject' in window);\n              module.cache.isIE = isIE11 || isIE;\n            }\n\n            return module.cache.isIE;\n          },\n          animating: function () {\n            return $module.transition('is supported') ? $module.transition('is animating') : $module.is(':visible');\n          },\n          scrolling: function () {\n            return $dimmable.hasClass(className.scrolling);\n          },\n          modernBrowser: function () {\n            // appName for IE11 reports 'Netscape' can no longer use\n            return !(window.ActiveXObject || 'ActiveXObject' in window);\n          },\n          rtl: function () {\n            if (module.cache.isRTL === undefined) {\n              module.cache.isRTL = $body.attr('dir') === 'rtl' || $body.css('direction') === 'rtl';\n            }\n\n            return module.cache.isRTL;\n          },\n          safari: function () {\n            if (module.cache.isSafari === undefined) {\n              module.cache.isSafari = /constructor/i.test(window.HTMLElement) || !!window.ApplePaySession;\n            }\n\n            return module.cache.isSafari;\n          },\n          edge: function () {\n            if (module.cache.isEdge === undefined) {\n              module.cache.isEdge = !!window.setImmediate && !module.is.ie();\n            }\n\n            return module.cache.isEdge;\n          },\n          firefox: function () {\n            if (module.cache.isFirefox === undefined) {\n              module.cache.isFirefox = !!window.InstallTrigger;\n            }\n\n            return module.cache.isFirefox;\n          },\n          iframe: function () {\n            return !(self === top);\n          }\n        },\n        set: {\n          autofocus: function () {\n            var $inputs = $module.find('[tabindex], :input').filter(':visible').filter(function () {\n              return $(this).closest('.disabled').length === 0;\n            }),\n                $autofocus = $inputs.filter('[autofocus]'),\n                $input = $autofocus.length > 0 ? $autofocus.first() : $inputs.first();\n\n            if ($input.length > 0) {\n              $input.focus();\n            }\n          },\n          bodyMargin: function () {\n            var position = module.can.leftBodyScrollbar() ? 'left' : 'right';\n\n            if (settings.detachable || module.can.fit()) {\n              $body.css('margin-' + position, tempBodyMargin + 'px');\n            }\n\n            $body.find(selector.bodyFixed.replace('right', position)).each(function () {\n              var el = $(this),\n                  attribute = el.css('position') === 'fixed' ? 'padding-' + position : position;\n              el.css(attribute, 'calc(' + el.css(attribute) + ' + ' + tempBodyMargin + 'px)');\n            });\n          },\n          clickaway: function () {\n            if (!settings.detachable) {\n              $module.on('mousedown' + elementEventNamespace, module.event.mousedown);\n            }\n\n            $dimmer.on('mousedown' + elementEventNamespace, module.event.mousedown);\n            $dimmer.on('mouseup' + elementEventNamespace, module.event.mouseup);\n          },\n          dimmerSettings: function () {\n            if ($.fn.dimmer === undefined) {\n              module.error(error.dimmer);\n              return;\n            }\n\n            var defaultSettings = {\n              debug: settings.debug,\n              dimmerName: 'modals',\n              closable: 'auto',\n              useFlex: module.can.useFlex(),\n              duration: {\n                show: settings.transition.showDuration || settings.duration,\n                hide: settings.transition.hideDuration || settings.duration\n              }\n            },\n                dimmerSettings = $.extend(true, defaultSettings, settings.dimmerSettings);\n\n            if (settings.inverted) {\n              dimmerSettings.variation = dimmerSettings.variation !== undefined ? dimmerSettings.variation + ' inverted' : 'inverted';\n            }\n\n            $context.dimmer('setting', dimmerSettings);\n          },\n          dimmerStyles: function () {\n            if (settings.inverted) {\n              $dimmer.addClass(className.inverted);\n            } else {\n              $dimmer.removeClass(className.inverted);\n            }\n\n            if (settings.blurring) {\n              $dimmable.addClass(className.blurring);\n            } else {\n              $dimmable.removeClass(className.blurring);\n            }\n          },\n          modalOffset: function () {\n            if (!settings.detachable) {\n              var canFit = module.can.fit();\n              $module.css({\n                top: !$module.hasClass('aligned') && canFit ? $(document).scrollTop() + (module.cache.contextHeight - module.cache.height) / 2 : !canFit || $module.hasClass('top') ? $(document).scrollTop() + settings.padding : $(document).scrollTop() + (module.cache.contextHeight - module.cache.height - settings.padding),\n                marginLeft: -(module.cache.width / 2)\n              });\n            } else {\n              $module.css({\n                marginTop: !$module.hasClass('aligned') && module.can.fit() ? -(module.cache.height / 2) : settings.padding / 2,\n                marginLeft: -(module.cache.width / 2)\n              });\n            }\n\n            module.verbose('Setting modal offset for legacy mode');\n          },\n          screenHeight: function () {\n            if (module.can.fit()) {\n              $body.css('height', '');\n            } else if (!$module.hasClass('bottom')) {\n              module.debug('Modal is taller than page content, resizing page height');\n              $body.css('height', module.cache.height + settings.padding * 2);\n            }\n          },\n          active: function () {\n            $module.addClass(className.active + ' ' + className.front);\n            $otherModals.filter('.' + className.active).removeClass(className.front);\n          },\n          scrolling: function () {\n            $dimmable.addClass(className.scrolling);\n            $module.addClass(className.scrolling);\n            module.unbind.scrollLock();\n          },\n          legacy: function () {\n            $module.addClass(className.legacy);\n          },\n          type: function () {\n            if (module.can.fit()) {\n              module.verbose('Modal fits on screen');\n\n              if (!module.others.active() && !module.others.animating()) {\n                module.remove.scrolling();\n                module.bind.scrollLock();\n              }\n            } else if (!$module.hasClass('bottom')) {\n              module.verbose('Modal cannot fit on screen setting to scrolling');\n              module.set.scrolling();\n            } else {\n              module.verbose('Bottom aligned modal not fitting on screen is unsupported for scrolling');\n            }\n          },\n          undetached: function () {\n            $dimmable.addClass(className.undetached);\n          }\n        },\n        setting: function (name, value) {\n          module.debug('Changing setting', name, value);\n\n          if ($.isPlainObject(name)) {\n            $.extend(true, settings, name);\n          } else if (value !== undefined) {\n            if ($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            } else {\n              settings[name] = value;\n            }\n          } else {\n            return settings[name];\n          }\n        },\n        internal: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, module, name);\n          } else if (value !== undefined) {\n            module[name] = value;\n          } else {\n            return module[name];\n          }\n        },\n        debug: function () {\n          if (!settings.silent && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function () {\n          if (!settings.silent && settings.verbose && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function () {\n          if (!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function (message) {\n            var currentTime, executionTime, previousTime;\n\n            if (settings.performance) {\n              currentTime = new Date().getTime();\n              previousTime = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time = currentTime;\n              performance.push({\n                'Name': message[0],\n                'Arguments': [].slice.call(message, 1) || '',\n                'Element': element,\n                'Execution Time': executionTime\n              });\n            }\n\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function () {\n            var title = settings.name + ':',\n                totalTime = 0;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function (index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n\n            if (moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n\n            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n\n              if (console.table) {\n                console.table(performance);\n              } else {\n                $.each(performance, function (index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');\n                });\n              }\n\n              console.groupEnd();\n            }\n\n            performance = [];\n          }\n        },\n        invoke: function (query, passedArguments, context) {\n          var object = instance,\n              maxDepth,\n              found,\n              response;\n          passedArguments = passedArguments || queryArguments;\n          context = element || context;\n\n          if (typeof query == 'string' && object !== undefined) {\n            query = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function (depth, value) {\n              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;\n\n              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {\n                object = object[camelCaseValue];\n              } else if (object[camelCaseValue] !== undefined) {\n                found = object[camelCaseValue];\n                return false;\n              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {\n                object = object[value];\n              } else if (object[value] !== undefined) {\n                found = object[value];\n                return false;\n              } else {\n                return false;\n              }\n            });\n          }\n\n          if ($.isFunction(found)) {\n            response = found.apply(context, passedArguments);\n          } else if (found !== undefined) {\n            response = found;\n          }\n\n          if (Array.isArray(returnedValue)) {\n            returnedValue.push(response);\n          } else if (returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          } else if (response !== undefined) {\n            returnedValue = response;\n          }\n\n          return found;\n        }\n      };\n\n      if (methodInvoked) {\n        if (instance === undefined) {\n          if ($.isFunction(settings.templates[query])) {\n            settings.autoShow = true;\n            settings.className.modal = settings.className.template;\n            settings = $.extend(true, {}, settings, settings.templates[query].apply(module, queryArguments)); // reassign shortcuts\n\n            className = settings.className;\n            namespace = settings.namespace;\n            fields = settings.fields;\n            error = settings.error;\n          }\n\n          module.initialize();\n        }\n\n        if (!$.isFunction(settings.templates[query])) {\n          module.invoke(query);\n        }\n      } else {\n        if (instance !== undefined) {\n          instance.invoke('destroy');\n        }\n\n        module.initialize();\n        returnedValue = $module;\n      }\n    });\n    return returnedValue !== undefined ? returnedValue : this;\n  };\n\n  $.fn.modal.settings = {\n    name: 'Modal',\n    namespace: 'modal',\n    useFlex: 'auto',\n    offset: 0,\n    silent: false,\n    debug: false,\n    verbose: false,\n    performance: true,\n    observeChanges: false,\n    allowMultiple: false,\n    detachable: true,\n    closable: true,\n    autofocus: true,\n    restoreFocus: true,\n    autoShow: false,\n    inverted: false,\n    blurring: false,\n    centered: true,\n    dimmerSettings: {\n      closable: false,\n      useCSS: true\n    },\n    // whether to use keyboard shortcuts\n    keyboardShortcuts: true,\n    context: 'body',\n    queue: false,\n    duration: 500,\n    transition: 'scale',\n    // padding with edge of page\n    padding: 50,\n    scrollbarWidth: 10,\n    //dynamic content\n    title: '',\n    content: '',\n    class: '',\n    classTitle: '',\n    classContent: '',\n    classActions: '',\n    closeIcon: false,\n    actions: false,\n    preserveHTML: true,\n    fields: {\n      class: 'class',\n      text: 'text',\n      icon: 'icon',\n      click: 'click'\n    },\n    // called before show animation\n    onShow: function () {},\n    // called after show animation\n    onVisible: function () {},\n    // called before hide animation\n    onHide: function () {\n      return true;\n    },\n    // called after hide animation\n    onHidden: false,\n    // called after approve selector match\n    onApprove: function () {\n      return true;\n    },\n    // called after deny selector match\n    onDeny: function () {\n      return true;\n    },\n    selector: {\n      title: '> .header',\n      content: '> .content',\n      actions: '> .actions',\n      close: '> .close',\n      approve: '.actions .positive, .actions .approve, .actions .ok',\n      deny: '.actions .negative, .actions .deny, .actions .cancel',\n      modal: '.ui.modal',\n      dimmer: '> .ui.dimmer',\n      bodyFixed: '> .ui.fixed.menu, > .ui.right.toast-container, > .ui.right.sidebar, > .ui.fixed.nag, > .ui.fixed.nag > .close',\n      prompt: '.ui.input > input'\n    },\n    error: {\n      dimmer: 'UI Dimmer, a required component is not included in this page',\n      method: 'The method you called is not defined.',\n      notFound: 'The element you specified could not be found'\n    },\n    className: {\n      active: 'active',\n      animating: 'animating',\n      blurring: 'blurring',\n      inverted: 'inverted',\n      legacy: 'legacy',\n      loading: 'loading',\n      scrolling: 'scrolling',\n      undetached: 'undetached',\n      front: 'front',\n      close: 'close icon',\n      button: 'ui button',\n      modal: 'ui modal',\n      title: 'header',\n      content: 'content',\n      actions: 'actions',\n      template: 'ui tiny modal',\n      ok: 'positive',\n      cancel: 'negative',\n      prompt: 'ui fluid input'\n    },\n    text: {\n      ok: 'Ok',\n      cancel: 'Cancel'\n    }\n  };\n  $.fn.modal.settings.templates = {\n    getArguments: function (args) {\n      var queryArguments = [].slice.call(args);\n\n      if ($.isPlainObject(queryArguments[0])) {\n        return $.extend({\n          handler: function () {},\n          content: '',\n          title: ''\n        }, queryArguments[0]);\n      } else {\n        if (!$.isFunction(queryArguments[queryArguments.length - 1])) {\n          queryArguments.push(function () {});\n        }\n\n        return {\n          handler: queryArguments.pop(),\n          content: queryArguments.pop() || '',\n          title: queryArguments.pop() || ''\n        };\n      }\n    },\n    alert: function () {\n      var settings = this.get.settings(),\n          args = settings.templates.getArguments(arguments);\n      return {\n        title: args.title,\n        content: args.content,\n        actions: [{\n          text: settings.text.ok,\n          class: settings.className.ok,\n          click: args.handler\n        }]\n      };\n    },\n    confirm: function () {\n      var settings = this.get.settings(),\n          args = settings.templates.getArguments(arguments);\n      return {\n        title: args.title,\n        content: args.content,\n        actions: [{\n          text: settings.text.ok,\n          class: settings.className.ok,\n          click: function () {\n            args.handler(true);\n          }\n        }, {\n          text: settings.text.cancel,\n          class: settings.className.cancel,\n          click: function () {\n            args.handler(false);\n          }\n        }]\n      };\n    },\n    prompt: function () {\n      var $this = this,\n          settings = this.get.settings(),\n          args = settings.templates.getArguments(arguments),\n          input = $($.parseHTML(args.content)).filter('.ui.input');\n\n      if (input.length === 0) {\n        args.content += '<p><div class=\"' + settings.className.prompt + '\"><input placeholder=\"' + this.helpers.deQuote(args.placeholder || '') + '\" type=\"text\" value=\"' + this.helpers.deQuote(args.defaultValue || '') + '\"></div></p>';\n      }\n\n      return {\n        title: args.title,\n        content: args.content,\n        actions: [{\n          text: settings.text.ok,\n          class: settings.className.ok,\n          click: function () {\n            var settings = $this.get.settings(),\n                inputField = $this.get.element().find(settings.selector.prompt)[0];\n            args.handler($(inputField).val());\n          }\n        }, {\n          text: settings.text.cancel,\n          class: settings.className.cancel,\n          click: function () {\n            args.handler(null);\n          }\n        }]\n      };\n    }\n  };\n})(jQuery, window, document);\n/*!\n * # Fomantic-UI 2.8.8 - Nag\n * http://github.com/fomantic/Fomantic-UI/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n\n;\n\n(function ($, window, document, undefined) {\n  'use strict';\n\n  $.isFunction = $.isFunction || function (obj) {\n    return typeof obj === \"function\" && typeof obj.nodeType !== \"number\";\n  };\n\n  window = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\n\n  $.fn.nag = function (parameters) {\n    var $allModules = $(this),\n        moduleSelector = $allModules.selector || '',\n        time = new Date().getTime(),\n        performance = [],\n        query = arguments[0],\n        methodInvoked = typeof query == 'string',\n        queryArguments = [].slice.call(arguments, 1),\n        returnedValue;\n    $allModules.each(function () {\n      var settings = $.isPlainObject(parameters) ? $.extend(true, {}, $.fn.nag.settings, parameters) : $.extend({}, $.fn.nag.settings),\n          selector = settings.selector,\n          error = settings.error,\n          namespace = settings.namespace,\n          eventNamespace = '.' + namespace,\n          moduleNamespace = namespace + '-module',\n          $module = $(this),\n          $context = settings.context ? $(settings.context) : $('body'),\n          element = this,\n          instance = $module.data(moduleNamespace),\n          storage,\n          module;\n      module = {\n        initialize: function () {\n          module.verbose('Initializing element');\n          storage = module.get.storage();\n          $module.on('click' + eventNamespace, selector.close, module.dismiss).data(moduleNamespace, module);\n\n          if (settings.detachable && $module.parent()[0] !== $context[0]) {\n            $module.detach().prependTo($context);\n          }\n\n          if (settings.displayTime > 0) {\n            setTimeout(module.hide, settings.displayTime);\n          }\n\n          module.show();\n        },\n        destroy: function () {\n          module.verbose('Destroying instance');\n          $module.removeData(moduleNamespace).off(eventNamespace);\n        },\n        show: function () {\n          if (module.should.show() && !$module.is(':visible')) {\n            if (settings.onShow.call(element) === false) {\n              module.debug('onShow callback returned false, cancelling nag animation');\n              return false;\n            }\n\n            module.debug('Showing nag', settings.animation.show);\n\n            if (settings.animation.show === 'fade') {\n              $module.fadeIn(settings.duration, settings.easing, settings.onVisible);\n            } else {\n              $module.slideDown(settings.duration, settings.easing, settings.onVisible);\n            }\n          }\n        },\n        hide: function () {\n          if (settings.onHide.call(element) === false) {\n            module.debug('onHide callback returned false, cancelling nag animation');\n            return false;\n          }\n\n          module.debug('Hiding nag', settings.animation.hide);\n\n          if (settings.animation.hide === 'fade') {\n            $module.fadeOut(settings.duration, settings.easing, settings.onHidden);\n          } else {\n            $module.slideUp(settings.duration, settings.easing, settings.onHidden);\n          }\n        },\n        dismiss: function (event) {\n          if (module.hide() !== false && settings.storageMethod) {\n            module.debug('Dismissing nag', settings.storageMethod, settings.key, settings.value, settings.expires);\n            module.storage.set(settings.key, settings.value);\n          }\n\n          event.stopImmediatePropagation();\n          event.preventDefault();\n        },\n        should: {\n          show: function () {\n            if (settings.persist) {\n              module.debug('Persistent nag is set, can show nag');\n              return true;\n            }\n\n            if (module.storage.get(settings.key) != settings.value.toString()) {\n              module.debug('Stored value is not set, can show nag', module.storage.get(settings.key));\n              return true;\n            }\n\n            module.debug('Stored value is set, cannot show nag', module.storage.get(settings.key));\n            return false;\n          }\n        },\n        get: {\n          expirationDate: function (expires) {\n            if (typeof expires === 'number') {\n              expires = new Date(Date.now() + expires * 864e5);\n            }\n\n            if (expires instanceof Date && expires.getTime()) {\n              return expires.toUTCString();\n            } else {\n              module.error(error.expiresFormat);\n            }\n          },\n          storage: function () {\n            if (settings.storageMethod === 'localstorage' && window.localStorage !== undefined) {\n              module.debug('Using local storage');\n              return window.localStorage;\n            } else if (settings.storageMethod === 'sessionstorage' && window.sessionStorage !== undefined) {\n              module.debug('Using session storage');\n              return window.sessionStorage;\n            } else if (\"cookie\" in document) {\n              module.debug('Using cookie');\n              return {\n                setItem: function (key, value, options) {\n                  // RFC6265 compliant encoding\n                  key = encodeURIComponent(key).replace(/%(2[346B]|5E|60|7C)/g, decodeURIComponent).replace(/[()]/g, escape);\n                  value = encodeURIComponent(value).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g, decodeURIComponent);\n                  var cookieOptions = '';\n\n                  for (var option in options) {\n                    if (options.hasOwnProperty(option)) {\n                      cookieOptions += '; ' + option;\n\n                      if (typeof options[option] === 'string') {\n                        cookieOptions += '=' + options[option].split(';')[0];\n                      }\n                    }\n                  }\n\n                  document.cookie = key + '=' + value + cookieOptions;\n                },\n                getItem: function (key) {\n                  var cookies = document.cookie.split('; ');\n\n                  for (var i = 0, il = cookies.length; i < il; i++) {\n                    var parts = cookies[i].split('='),\n                        foundKey = parts[0].replace(/(%[\\dA-F]{2})+/gi, decodeURIComponent);\n\n                    if (key === foundKey) {\n                      return parts[1] || '';\n                    }\n                  }\n                },\n                removeItem: function (key, options) {\n                  storage.setItem(key, '', options);\n                }\n              };\n            } else {\n              module.error(error.noStorage);\n            }\n          },\n          storageOptions: function () {\n            var options = {};\n\n            if (settings.expires) {\n              options.expires = module.get.expirationDate(settings.expires);\n            }\n\n            if (settings.domain) {\n              options.domain = settings.domain;\n            }\n\n            if (settings.path) {\n              options.path = settings.path;\n            }\n\n            if (settings.secure) {\n              options.secure = settings.secure;\n            }\n\n            if (settings.samesite) {\n              options.samesite = settings.samesite;\n            }\n\n            return options;\n          }\n        },\n        clear: function () {\n          module.storage.remove(settings.key);\n        },\n        storage: {\n          set: function (key, value) {\n            var options = module.get.storageOptions();\n\n            if (storage === window.localStorage && options.expires) {\n              module.debug('Storing expiration value in localStorage', key, options.expires);\n              storage.setItem(key + settings.expirationKey, options.expires);\n            }\n\n            module.debug('Value stored', key, value);\n\n            try {\n              storage.setItem(key, value, options);\n            } catch (e) {\n              module.error(error.setItem, e);\n            }\n          },\n          get: function (key) {\n            var storedValue;\n            storedValue = storage.getItem(key);\n\n            if (storage === window.localStorage) {\n              var expiration = storage.getItem(key + settings.expirationKey);\n\n              if (expiration !== null && expiration !== undefined && new Date(expiration) < new Date()) {\n                module.debug('Value in localStorage has expired. Deleting key', key);\n                module.storage.remove(key);\n                storedValue = null;\n              }\n            }\n\n            if (storedValue == 'undefined' || storedValue == 'null' || storedValue === undefined || storedValue === null) {\n              storedValue = undefined;\n            }\n\n            return storedValue;\n          },\n          remove: function (key) {\n            var options = module.get.storageOptions();\n            options.expires = module.get.expirationDate(-1);\n\n            if (storage === window.localStorage) {\n              storage.removeItem(key + settings.expirationKey);\n            }\n\n            storage.removeItem(key, options);\n          }\n        },\n        setting: function (name, value) {\n          module.debug('Changing setting', name, value);\n\n          if ($.isPlainObject(name)) {\n            $.extend(true, settings, name);\n          } else if (value !== undefined) {\n            if ($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            } else {\n              settings[name] = value;\n            }\n          } else {\n            return settings[name];\n          }\n        },\n        internal: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, module, name);\n          } else if (value !== undefined) {\n            module[name] = value;\n          } else {\n            return module[name];\n          }\n        },\n        debug: function () {\n          if (!settings.silent && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function () {\n          if (!settings.silent && settings.verbose && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function () {\n          if (!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function (message) {\n            var currentTime, executionTime, previousTime;\n\n            if (settings.performance) {\n              currentTime = new Date().getTime();\n              previousTime = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time = currentTime;\n              performance.push({\n                'Name': message[0],\n                'Arguments': [].slice.call(message, 1) || '',\n                'Element': element,\n                'Execution Time': executionTime\n              });\n            }\n\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function () {\n            var title = settings.name + ':',\n                totalTime = 0;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function (index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n\n            if (moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n\n            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n\n              if (console.table) {\n                console.table(performance);\n              } else {\n                $.each(performance, function (index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');\n                });\n              }\n\n              console.groupEnd();\n            }\n\n            performance = [];\n          }\n        },\n        invoke: function (query, passedArguments, context) {\n          var object = instance,\n              maxDepth,\n              found,\n              response;\n          passedArguments = passedArguments || queryArguments;\n          context = element || context;\n\n          if (typeof query == 'string' && object !== undefined) {\n            query = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function (depth, value) {\n              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;\n\n              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {\n                object = object[camelCaseValue];\n              } else if (object[camelCaseValue] !== undefined) {\n                found = object[camelCaseValue];\n                return false;\n              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {\n                object = object[value];\n              } else if (object[value] !== undefined) {\n                found = object[value];\n                return false;\n              } else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n\n          if ($.isFunction(found)) {\n            response = found.apply(context, passedArguments);\n          } else if (found !== undefined) {\n            response = found;\n          }\n\n          if (Array.isArray(returnedValue)) {\n            returnedValue.push(response);\n          } else if (returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          } else if (response !== undefined) {\n            returnedValue = response;\n          }\n\n          return found;\n        }\n      };\n\n      if (methodInvoked) {\n        if (instance === undefined) {\n          module.initialize();\n        }\n\n        module.invoke(query);\n      } else {\n        if (instance !== undefined) {\n          instance.invoke('destroy');\n        }\n\n        module.initialize();\n      }\n    });\n    return returnedValue !== undefined ? returnedValue : this;\n  };\n\n  $.fn.nag.settings = {\n    name: 'Nag',\n    silent: false,\n    debug: false,\n    verbose: false,\n    performance: true,\n    namespace: 'Nag',\n    // allows cookie to be overridden\n    persist: false,\n    // set to zero to require manually dismissal, otherwise hides on its own\n    displayTime: 0,\n    animation: {\n      show: 'slide',\n      hide: 'slide'\n    },\n    context: false,\n    detachable: false,\n    expires: 30,\n    // cookie storage only options\n    domain: false,\n    path: '/',\n    secure: false,\n    samesite: false,\n    // type of storage to use\n    storageMethod: 'cookie',\n    // value to store in dismissed localstorage/cookie\n    key: 'nag',\n    value: 'dismiss',\n    // Key suffix to support expiration in localstorage\n    expirationKey: 'ExpirationDate',\n    error: {\n      noStorage: 'Unsupported storage method',\n      method: 'The method you called is not defined.',\n      setItem: 'Unexpected error while setting value',\n      expiresFormat: '\"expires\" must be a number of days or a Date Object'\n    },\n    className: {\n      bottom: 'bottom',\n      fixed: 'fixed'\n    },\n    selector: {\n      close: '> .close.icon'\n    },\n    duration: 500,\n    easing: 'easeOutQuad',\n    // callback before show animation, return false to prevent show\n    onShow: function () {},\n    // called after show animation\n    onVisible: function () {},\n    // callback before hide animation, return false to prevent hide\n    onHide: function () {},\n    // callback after hide animation\n    onHidden: function () {}\n  }; // Adds easing\n\n  $.extend($.easing, {\n    easeOutQuad: function (x, t, b, c, d) {\n      return -c * (t /= d) * (t - 2) + b;\n    }\n  });\n})(jQuery, window, document);\n/*!\n * # Fomantic-UI 2.8.8 - Popup\n * http://github.com/fomantic/Fomantic-UI/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n\n;\n\n(function ($, window, document, undefined) {\n  'use strict';\n\n  $.isFunction = $.isFunction || function (obj) {\n    return typeof obj === \"function\" && typeof obj.nodeType !== \"number\";\n  };\n\n  window = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\n\n  $.fn.popup = function (parameters) {\n    var $allModules = $(this),\n        $document = $(document),\n        $window = $(window),\n        $body = $('body'),\n        moduleSelector = $allModules.selector || '',\n        clickEvent = 'ontouchstart' in document.documentElement ? 'touchstart' : 'click',\n        time = new Date().getTime(),\n        performance = [],\n        query = arguments[0],\n        methodInvoked = typeof query == 'string',\n        queryArguments = [].slice.call(arguments, 1),\n        returnedValue;\n    $allModules.each(function () {\n      var settings = $.isPlainObject(parameters) ? $.extend(true, {}, $.fn.popup.settings, parameters) : $.extend({}, $.fn.popup.settings),\n          selector = settings.selector,\n          className = settings.className,\n          error = settings.error,\n          metadata = settings.metadata,\n          namespace = settings.namespace,\n          eventNamespace = '.' + settings.namespace,\n          moduleNamespace = 'module-' + namespace,\n          $module = $(this),\n          $context = $(settings.context),\n          $scrollContext = $(settings.scrollContext),\n          $boundary = $(settings.boundary),\n          $target = settings.target ? $(settings.target) : $module,\n          $popup,\n          $offsetParent,\n          searchDepth = 0,\n          triedPositions = false,\n          openedWithTouch = false,\n          element = this,\n          instance = $module.data(moduleNamespace),\n          documentObserver,\n          elementNamespace,\n          id,\n          module;\n      module = {\n        // binds events\n        initialize: function () {\n          module.debug('Initializing', $module);\n          module.createID();\n          module.bind.events();\n\n          if (!module.exists() && settings.preserve) {\n            module.create();\n          }\n\n          if (settings.observeChanges) {\n            module.observeChanges();\n          }\n\n          module.instantiate();\n        },\n        instantiate: function () {\n          module.verbose('Storing instance', module);\n          instance = module;\n          $module.data(moduleNamespace, instance);\n        },\n        observeChanges: function () {\n          if ('MutationObserver' in window) {\n            documentObserver = new MutationObserver(module.event.documentChanged);\n            documentObserver.observe(document, {\n              childList: true,\n              subtree: true\n            });\n            module.debug('Setting up mutation observer', documentObserver);\n          }\n        },\n        refresh: function () {\n          if (settings.popup) {\n            $popup = $(settings.popup).eq(0);\n          } else {\n            if (settings.inline) {\n              $popup = $target.nextAll(selector.popup).eq(0);\n              settings.popup = $popup;\n            }\n          }\n\n          if (settings.popup) {\n            $popup.addClass(className.loading);\n            $offsetParent = module.get.offsetParent();\n            $popup.removeClass(className.loading);\n\n            if (settings.movePopup && module.has.popup() && module.get.offsetParent($popup)[0] !== $offsetParent[0]) {\n              module.debug('Moving popup to the same offset parent as target');\n              $popup.detach().appendTo($offsetParent);\n            }\n          } else {\n            $offsetParent = settings.inline ? module.get.offsetParent($target) : module.has.popup() ? module.get.offsetParent($popup) : $body;\n          }\n\n          if ($offsetParent.is('html') && $offsetParent[0] !== $body[0]) {\n            module.debug('Setting page as offset parent');\n            $offsetParent = $body;\n          }\n\n          if (module.get.variation()) {\n            module.set.variation();\n          }\n        },\n        reposition: function () {\n          module.refresh();\n          module.set.position();\n        },\n        destroy: function () {\n          module.debug('Destroying previous module');\n\n          if (documentObserver) {\n            documentObserver.disconnect();\n          } // remove element only if was created dynamically\n\n\n          if ($popup && !settings.preserve) {\n            module.removePopup();\n          } // clear all timeouts\n\n\n          clearTimeout(module.hideTimer);\n          clearTimeout(module.showTimer); // remove events\n\n          module.unbind.close();\n          module.unbind.events();\n          $module.removeData(moduleNamespace);\n        },\n        event: {\n          start: function (event) {\n            var delay = $.isPlainObject(settings.delay) ? settings.delay.show : settings.delay;\n            clearTimeout(module.hideTimer);\n\n            if (!openedWithTouch || openedWithTouch && settings.addTouchEvents) {\n              module.showTimer = setTimeout(module.show, delay);\n            }\n          },\n          end: function () {\n            var delay = $.isPlainObject(settings.delay) ? settings.delay.hide : settings.delay;\n            clearTimeout(module.showTimer);\n            module.hideTimer = setTimeout(module.hide, delay);\n          },\n          touchstart: function (event) {\n            openedWithTouch = true;\n\n            if (settings.addTouchEvents) {\n              module.show();\n            }\n          },\n          resize: function () {\n            if (module.is.visible()) {\n              module.set.position();\n            }\n          },\n          documentChanged: function (mutations) {\n            [].forEach.call(mutations, function (mutation) {\n              if (mutation.removedNodes) {\n                [].forEach.call(mutation.removedNodes, function (node) {\n                  if (node == element || $(node).find(element).length > 0) {\n                    module.debug('Element removed from DOM, tearing down events');\n                    module.destroy();\n                  }\n                });\n              }\n            });\n          },\n          hideGracefully: function (event) {\n            var $target = $(event.target),\n                isInDOM = $.contains(document.documentElement, event.target),\n                inPopup = $target.closest(selector.popup).length > 0; // don't close on clicks inside popup\n\n            if (event && !inPopup && isInDOM) {\n              module.debug('Click occurred outside popup hiding popup');\n              module.hide();\n            } else {\n              module.debug('Click was inside popup, keeping popup open');\n            }\n          }\n        },\n        // generates popup html from metadata\n        create: function () {\n          var html = module.get.html(),\n              title = module.get.title(),\n              content = module.get.content();\n\n          if (html || content || title) {\n            module.debug('Creating pop-up html');\n\n            if (!html) {\n              html = settings.templates.popup({\n                title: title,\n                content: content\n              });\n            }\n\n            $popup = $('<div/>').addClass(className.popup).data(metadata.activator, $module).html(html);\n\n            if (settings.inline) {\n              module.verbose('Inserting popup element inline', $popup);\n              $popup.insertAfter($module);\n            } else {\n              module.verbose('Appending popup element to body', $popup);\n              $popup.appendTo($context);\n            }\n\n            module.refresh();\n            module.set.variation();\n\n            if (settings.hoverable) {\n              module.bind.popup();\n            }\n\n            settings.onCreate.call($popup, element);\n          } else if (settings.popup) {\n            $(settings.popup).data(metadata.activator, $module);\n            module.verbose('Used popup specified in settings');\n            module.refresh();\n\n            if (settings.hoverable) {\n              module.bind.popup();\n            }\n          } else if ($target.next(selector.popup).length !== 0) {\n            module.verbose('Pre-existing popup found');\n            settings.inline = true;\n            settings.popup = $target.next(selector.popup).data(metadata.activator, $module);\n            module.refresh();\n\n            if (settings.hoverable) {\n              module.bind.popup();\n            }\n          } else {\n            module.debug('No content specified skipping display', element);\n          }\n        },\n        createID: function () {\n          id = (Math.random().toString(16) + '000000000').substr(2, 8);\n          elementNamespace = '.' + id;\n          module.verbose('Creating unique id for element', id);\n        },\n        // determines popup state\n        toggle: function () {\n          module.debug('Toggling pop-up');\n\n          if (module.is.hidden()) {\n            module.debug('Popup is hidden, showing pop-up');\n            module.unbind.close();\n            module.show();\n          } else {\n            module.debug('Popup is visible, hiding pop-up');\n            module.hide();\n          }\n        },\n        show: function (callback) {\n          callback = callback || function () {};\n\n          module.debug('Showing pop-up', settings.transition);\n\n          if (module.is.hidden() && !(module.is.active() && module.is.dropdown())) {\n            if (!module.exists()) {\n              module.create();\n            }\n\n            if (settings.onShow.call($popup, element) === false) {\n              module.debug('onShow callback returned false, cancelling popup animation');\n              return;\n            } else if (!settings.preserve && !settings.popup) {\n              module.refresh();\n            }\n\n            if ($popup && module.set.position()) {\n              module.save.conditions();\n\n              if (settings.exclusive) {\n                module.hideAll();\n              }\n\n              module.animate.show(callback);\n            }\n          }\n        },\n        hide: function (callback) {\n          callback = callback || function () {};\n\n          if (module.is.visible() || module.is.animating()) {\n            if (settings.onHide.call($popup, element) === false) {\n              module.debug('onHide callback returned false, cancelling popup animation');\n              return;\n            }\n\n            module.remove.visible();\n            module.unbind.close();\n            module.restore.conditions();\n            module.animate.hide(callback);\n          }\n        },\n        hideAll: function () {\n          $(selector.popup).filter('.' + className.popupVisible).each(function () {\n            $(this).data(metadata.activator).popup('hide');\n          });\n        },\n        exists: function () {\n          if (!$popup) {\n            return false;\n          }\n\n          if (settings.inline || settings.popup) {\n            return module.has.popup();\n          } else {\n            return $popup.closest($context).length >= 1 ? true : false;\n          }\n        },\n        removePopup: function () {\n          if (module.has.popup() && !settings.popup) {\n            module.debug('Removing popup', $popup);\n            $popup.remove();\n            $popup = undefined;\n            settings.onRemove.call($popup, element);\n          }\n        },\n        save: {\n          conditions: function () {\n            module.cache = {\n              title: $module.attr('title')\n            };\n\n            if (module.cache.title) {\n              $module.removeAttr('title');\n            }\n\n            module.verbose('Saving original attributes', module.cache.title);\n          }\n        },\n        restore: {\n          conditions: function () {\n            if (module.cache && module.cache.title) {\n              $module.attr('title', module.cache.title);\n              module.verbose('Restoring original attributes', module.cache.title);\n            }\n\n            return true;\n          }\n        },\n        supports: {\n          svg: function () {\n            return typeof SVGGraphicsElement !== 'undefined';\n          }\n        },\n        animate: {\n          show: function (callback) {\n            callback = $.isFunction(callback) ? callback : function () {};\n\n            if (settings.transition && $.fn.transition !== undefined && $module.transition('is supported')) {\n              module.set.visible();\n              $popup.transition({\n                animation: (settings.transition.showMethod || settings.transition) + ' in',\n                queue: false,\n                debug: settings.debug,\n                verbose: settings.verbose,\n                duration: settings.transition.showDuration || settings.duration,\n                onComplete: function () {\n                  module.bind.close();\n                  callback.call($popup, element);\n                  settings.onVisible.call($popup, element);\n                }\n              });\n            } else {\n              module.error(error.noTransition);\n            }\n          },\n          hide: function (callback) {\n            callback = $.isFunction(callback) ? callback : function () {};\n            module.debug('Hiding pop-up');\n\n            if (settings.transition && $.fn.transition !== undefined && $module.transition('is supported')) {\n              $popup.transition({\n                animation: (settings.transition.hideMethod || settings.transition) + ' out',\n                queue: false,\n                duration: settings.transition.hideDuration || settings.duration,\n                debug: settings.debug,\n                verbose: settings.verbose,\n                onComplete: function () {\n                  module.reset();\n                  callback.call($popup, element);\n                  settings.onHidden.call($popup, element);\n                }\n              });\n            } else {\n              module.error(error.noTransition);\n            }\n          }\n        },\n        change: {\n          content: function (html) {\n            $popup.html(html);\n          }\n        },\n        get: {\n          html: function () {\n            $module.removeData(metadata.html);\n            return $module.data(metadata.html) || settings.html;\n          },\n          title: function () {\n            $module.removeData(metadata.title);\n            return $module.data(metadata.title) || settings.title;\n          },\n          content: function () {\n            $module.removeData(metadata.content);\n            return $module.data(metadata.content) || settings.content || $module.attr('title');\n          },\n          variation: function () {\n            $module.removeData(metadata.variation);\n            return $module.data(metadata.variation) || settings.variation;\n          },\n          popup: function () {\n            return $popup;\n          },\n          popupOffset: function () {\n            return $popup.offset();\n          },\n          calculations: function () {\n            var $popupOffsetParent = module.get.offsetParent($popup),\n                targetElement = $target[0],\n                isWindow = $boundary[0] == window,\n                targetOffset = $target.offset(),\n                parentOffset = settings.inline || settings.popup && settings.movePopup ? $target.offsetParent().offset() : {\n              top: 0,\n              left: 0\n            },\n                screenPosition = isWindow ? {\n              top: 0,\n              left: 0\n            } : $boundary.offset(),\n                calculations = {},\n                scroll = isWindow ? {\n              top: $window.scrollTop(),\n              left: $window.scrollLeft()\n            } : {\n              top: 0,\n              left: 0\n            },\n                screen;\n            calculations = {\n              // element which is launching popup\n              target: {\n                element: $target[0],\n                width: $target.outerWidth(),\n                height: $target.outerHeight(),\n                top: targetOffset.top - parentOffset.top,\n                left: targetOffset.left - parentOffset.left,\n                margin: {}\n              },\n              // popup itself\n              popup: {\n                width: $popup.outerWidth(),\n                height: $popup.outerHeight()\n              },\n              // offset container (or 3d context)\n              parent: {\n                width: $offsetParent.outerWidth(),\n                height: $offsetParent.outerHeight()\n              },\n              // screen boundaries\n              screen: {\n                top: screenPosition.top,\n                left: screenPosition.left,\n                scroll: {\n                  top: scroll.top,\n                  left: scroll.left\n                },\n                width: $boundary.width(),\n                height: $boundary.height()\n              }\n            }; // if popup offset context is not same as target, then adjust calculations\n\n            if ($popupOffsetParent.get(0) !== $offsetParent.get(0)) {\n              var popupOffset = $popupOffsetParent.offset();\n              calculations.target.top -= popupOffset.top;\n              calculations.target.left -= popupOffset.left;\n              calculations.parent.width = $popupOffsetParent.outerWidth();\n              calculations.parent.height = $popupOffsetParent.outerHeight();\n            } // add in container calcs if fluid\n\n\n            if (settings.setFluidWidth && module.is.fluid()) {\n              calculations.container = {\n                width: $popup.parent().outerWidth()\n              };\n              calculations.popup.width = calculations.container.width;\n            } // add in margins if inline\n\n\n            calculations.target.margin.top = settings.inline ? parseInt(window.getComputedStyle(targetElement).getPropertyValue('margin-top'), 10) : 0;\n            calculations.target.margin.left = settings.inline ? module.is.rtl() ? parseInt(window.getComputedStyle(targetElement).getPropertyValue('margin-right'), 10) : parseInt(window.getComputedStyle(targetElement).getPropertyValue('margin-left'), 10) : 0; // calculate screen boundaries\n\n            screen = calculations.screen;\n            calculations.boundary = {\n              top: screen.top + screen.scroll.top,\n              bottom: screen.top + screen.scroll.top + screen.height,\n              left: screen.left + screen.scroll.left,\n              right: screen.left + screen.scroll.left + screen.width\n            };\n            return calculations;\n          },\n          id: function () {\n            return id;\n          },\n          startEvent: function () {\n            if (settings.on == 'hover') {\n              return 'mouseenter';\n            } else if (settings.on == 'focus') {\n              return 'focus';\n            }\n\n            return false;\n          },\n          scrollEvent: function () {\n            return 'scroll';\n          },\n          endEvent: function () {\n            if (settings.on == 'hover') {\n              return 'mouseleave';\n            } else if (settings.on == 'focus') {\n              return 'blur';\n            }\n\n            return false;\n          },\n          distanceFromBoundary: function (offset, calculations) {\n            var distanceFromBoundary = {},\n                popup,\n                boundary;\n            calculations = calculations || module.get.calculations(); // shorthand\n\n            popup = calculations.popup;\n            boundary = calculations.boundary;\n\n            if (offset) {\n              distanceFromBoundary = {\n                top: offset.top - boundary.top,\n                left: offset.left - boundary.left,\n                right: boundary.right - (offset.left + popup.width),\n                bottom: boundary.bottom - (offset.top + popup.height)\n              };\n              module.verbose('Distance from boundaries determined', offset, distanceFromBoundary);\n            }\n\n            return distanceFromBoundary;\n          },\n          offsetParent: function ($element) {\n            var element = $element !== undefined ? $element[0] : $target[0],\n                parentNode = element.parentNode,\n                $node = $(parentNode);\n\n            if (parentNode) {\n              var is2D = $node.css('transform') === 'none',\n                  isStatic = $node.css('position') === 'static',\n                  isBody = $node.is('body');\n\n              while (parentNode && !isBody && isStatic && is2D) {\n                parentNode = parentNode.parentNode;\n                $node = $(parentNode);\n                is2D = $node.css('transform') === 'none';\n                isStatic = $node.css('position') === 'static';\n                isBody = $node.is('body');\n              }\n            }\n\n            return $node && $node.length > 0 ? $node : $();\n          },\n          positions: function () {\n            return {\n              'top left': false,\n              'top center': false,\n              'top right': false,\n              'bottom left': false,\n              'bottom center': false,\n              'bottom right': false,\n              'left center': false,\n              'right center': false\n            };\n          },\n          nextPosition: function (position) {\n            var positions = position.split(' '),\n                verticalPosition = positions[0],\n                horizontalPosition = positions[1],\n                opposite = {\n              top: 'bottom',\n              bottom: 'top',\n              left: 'right',\n              right: 'left'\n            },\n                adjacent = {\n              left: 'center',\n              center: 'right',\n              right: 'left'\n            },\n                backup = {\n              'top left': 'top center',\n              'top center': 'top right',\n              'top right': 'right center',\n              'right center': 'bottom right',\n              'bottom right': 'bottom center',\n              'bottom center': 'bottom left',\n              'bottom left': 'left center',\n              'left center': 'top left'\n            },\n                adjacentsAvailable = verticalPosition == 'top' || verticalPosition == 'bottom',\n                oppositeTried = false,\n                adjacentTried = false,\n                nextPosition = false;\n\n            if (!triedPositions) {\n              module.verbose('All available positions available');\n              triedPositions = module.get.positions();\n            }\n\n            module.debug('Recording last position tried', position);\n            triedPositions[position] = true;\n\n            if (settings.prefer === 'opposite') {\n              nextPosition = [opposite[verticalPosition], horizontalPosition];\n              nextPosition = nextPosition.join(' ');\n              oppositeTried = triedPositions[nextPosition] === true;\n              module.debug('Trying opposite strategy', nextPosition);\n            }\n\n            if (settings.prefer === 'adjacent' && adjacentsAvailable) {\n              nextPosition = [verticalPosition, adjacent[horizontalPosition]];\n              nextPosition = nextPosition.join(' ');\n              adjacentTried = triedPositions[nextPosition] === true;\n              module.debug('Trying adjacent strategy', nextPosition);\n            }\n\n            if (adjacentTried || oppositeTried) {\n              module.debug('Using backup position', nextPosition);\n              nextPosition = backup[position];\n            }\n\n            return nextPosition;\n          }\n        },\n        set: {\n          position: function (position, calculations) {\n            // exit conditions\n            if ($target.length === 0 || $popup.length === 0) {\n              module.error(error.notFound);\n              return;\n            }\n\n            var offset, distanceAway, target, popup, parent, positioning, popupOffset, distanceFromBoundary;\n            calculations = calculations || module.get.calculations();\n            position = position || $module.data(metadata.position) || settings.position;\n            offset = $module.data(metadata.offset) || settings.offset;\n            distanceAway = settings.distanceAway; // shorthand\n\n            target = calculations.target;\n            popup = calculations.popup;\n            parent = calculations.parent;\n\n            if (module.should.centerArrow(calculations)) {\n              module.verbose('Adjusting offset to center arrow on small target element');\n\n              if (position == 'top left' || position == 'bottom left') {\n                offset += target.width / 2;\n                offset -= settings.arrowPixelsFromEdge;\n              }\n\n              if (position == 'top right' || position == 'bottom right') {\n                offset -= target.width / 2;\n                offset += settings.arrowPixelsFromEdge;\n              }\n            }\n\n            if (target.width === 0 && target.height === 0 && !module.is.svg(target.element)) {\n              module.debug('Popup target is hidden, no action taken');\n              return false;\n            }\n\n            if (settings.inline) {\n              module.debug('Adding margin to calculation', target.margin);\n\n              if (position == 'left center' || position == 'right center') {\n                offset += target.margin.top;\n                distanceAway += -target.margin.left;\n              } else if (position == 'top left' || position == 'top center' || position == 'top right') {\n                offset += target.margin.left;\n                distanceAway -= target.margin.top;\n              } else {\n                offset += target.margin.left;\n                distanceAway += target.margin.top;\n              }\n            }\n\n            module.debug('Determining popup position from calculations', position, calculations);\n\n            if (module.is.rtl()) {\n              position = position.replace(/left|right/g, function (match) {\n                return match == 'left' ? 'right' : 'left';\n              });\n              module.debug('RTL: Popup position updated', position);\n            } // if last attempt use specified last resort position\n\n\n            if (searchDepth == settings.maxSearchDepth && typeof settings.lastResort === 'string') {\n              position = settings.lastResort;\n            }\n\n            switch (position) {\n              case 'top left':\n                positioning = {\n                  top: 'auto',\n                  bottom: parent.height - target.top + distanceAway,\n                  left: target.left + offset,\n                  right: 'auto'\n                };\n                break;\n\n              case 'top center':\n                positioning = {\n                  bottom: parent.height - target.top + distanceAway,\n                  left: target.left + target.width / 2 - popup.width / 2 + offset,\n                  top: 'auto',\n                  right: 'auto'\n                };\n                break;\n\n              case 'top right':\n                positioning = {\n                  bottom: parent.height - target.top + distanceAway,\n                  right: parent.width - target.left - target.width - offset,\n                  top: 'auto',\n                  left: 'auto'\n                };\n                break;\n\n              case 'left center':\n                positioning = {\n                  top: target.top + target.height / 2 - popup.height / 2 + offset,\n                  right: parent.width - target.left + distanceAway,\n                  left: 'auto',\n                  bottom: 'auto'\n                };\n                break;\n\n              case 'right center':\n                positioning = {\n                  top: target.top + target.height / 2 - popup.height / 2 + offset,\n                  left: target.left + target.width + distanceAway,\n                  bottom: 'auto',\n                  right: 'auto'\n                };\n                break;\n\n              case 'bottom left':\n                positioning = {\n                  top: target.top + target.height + distanceAway,\n                  left: target.left + offset,\n                  bottom: 'auto',\n                  right: 'auto'\n                };\n                break;\n\n              case 'bottom center':\n                positioning = {\n                  top: target.top + target.height + distanceAway,\n                  left: target.left + target.width / 2 - popup.width / 2 + offset,\n                  bottom: 'auto',\n                  right: 'auto'\n                };\n                break;\n\n              case 'bottom right':\n                positioning = {\n                  top: target.top + target.height + distanceAway,\n                  right: parent.width - target.left - target.width - offset,\n                  left: 'auto',\n                  bottom: 'auto'\n                };\n                break;\n            }\n\n            if (positioning === undefined) {\n              module.error(error.invalidPosition, position);\n            }\n\n            module.debug('Calculated popup positioning values', positioning); // tentatively place on stage\n\n            $popup.css(positioning).removeClass(className.position).addClass(position).addClass(className.loading);\n            popupOffset = module.get.popupOffset(); // see if any boundaries are surpassed with this tentative position\n\n            distanceFromBoundary = module.get.distanceFromBoundary(popupOffset, calculations);\n\n            if (!settings.forcePosition && module.is.offstage(distanceFromBoundary, position)) {\n              module.debug('Position is outside viewport', position);\n\n              if (searchDepth < settings.maxSearchDepth) {\n                searchDepth++;\n                position = module.get.nextPosition(position);\n                module.debug('Trying new position', position);\n                return $popup ? module.set.position(position, calculations) : false;\n              } else {\n                if (settings.lastResort) {\n                  module.debug('No position found, showing with last position');\n                } else {\n                  module.debug('Popup could not find a position to display', $popup);\n                  module.error(error.cannotPlace, element);\n                  module.remove.attempts();\n                  module.remove.loading();\n                  module.reset();\n                  settings.onUnplaceable.call($popup, element);\n                  return false;\n                }\n              }\n            }\n\n            module.debug('Position is on stage', position);\n            module.remove.attempts();\n            module.remove.loading();\n\n            if (settings.setFluidWidth && module.is.fluid()) {\n              module.set.fluidWidth(calculations);\n            }\n\n            return true;\n          },\n          fluidWidth: function (calculations) {\n            calculations = calculations || module.get.calculations();\n            module.debug('Automatically setting element width to parent width', calculations.parent.width);\n            $popup.css('width', calculations.container.width);\n          },\n          variation: function (variation) {\n            variation = variation || module.get.variation();\n\n            if (variation && module.has.popup()) {\n              module.verbose('Adding variation to popup', variation);\n              $popup.addClass(variation);\n            }\n          },\n          visible: function () {\n            $module.addClass(className.visible);\n          }\n        },\n        remove: {\n          loading: function () {\n            $popup.removeClass(className.loading);\n          },\n          variation: function (variation) {\n            variation = variation || module.get.variation();\n\n            if (variation) {\n              module.verbose('Removing variation', variation);\n              $popup.removeClass(variation);\n            }\n          },\n          visible: function () {\n            $module.removeClass(className.visible);\n          },\n          attempts: function () {\n            module.verbose('Resetting all searched positions');\n            searchDepth = 0;\n            triedPositions = false;\n          }\n        },\n        bind: {\n          events: function () {\n            module.debug('Binding popup events to module');\n\n            if (settings.on == 'click') {\n              $module.on(clickEvent + eventNamespace, module.toggle);\n            }\n\n            if (settings.on == 'hover') {\n              $module.on('touchstart' + eventNamespace, module.event.touchstart);\n            }\n\n            if (module.get.startEvent()) {\n              $module.on(module.get.startEvent() + eventNamespace, module.event.start).on(module.get.endEvent() + eventNamespace, module.event.end);\n            }\n\n            if (settings.target) {\n              module.debug('Target set to element', $target);\n            }\n\n            $window.on('resize' + elementNamespace, module.event.resize);\n          },\n          popup: function () {\n            module.verbose('Allowing hover events on popup to prevent closing');\n\n            if ($popup && module.has.popup()) {\n              $popup.on('mouseenter' + eventNamespace, module.event.start).on('mouseleave' + eventNamespace, module.event.end);\n            }\n          },\n          close: function () {\n            if (settings.hideOnScroll === true || settings.hideOnScroll == 'auto' && settings.on != 'click') {\n              module.bind.closeOnScroll();\n            }\n\n            if (module.is.closable()) {\n              module.bind.clickaway();\n            } else if (settings.on == 'hover' && openedWithTouch) {\n              module.bind.touchClose();\n            }\n          },\n          closeOnScroll: function () {\n            module.verbose('Binding scroll close event to document');\n            $scrollContext.one(module.get.scrollEvent() + elementNamespace, module.event.hideGracefully);\n          },\n          touchClose: function () {\n            module.verbose('Binding popup touchclose event to document');\n            $document.on('touchstart' + elementNamespace, function (event) {\n              module.verbose('Touched away from popup');\n              module.event.hideGracefully.call(element, event);\n            });\n          },\n          clickaway: function () {\n            module.verbose('Binding popup close event to document');\n            $document.on(clickEvent + elementNamespace, function (event) {\n              module.verbose('Clicked away from popup');\n              module.event.hideGracefully.call(element, event);\n            });\n          }\n        },\n        unbind: {\n          events: function () {\n            $window.off(elementNamespace);\n            $module.off(eventNamespace);\n          },\n          close: function () {\n            $document.off(elementNamespace);\n            $scrollContext.off(elementNamespace);\n          }\n        },\n        has: {\n          popup: function () {\n            return $popup && $popup.length > 0;\n          }\n        },\n        should: {\n          centerArrow: function (calculations) {\n            return !module.is.basic() && calculations.target.width <= settings.arrowPixelsFromEdge * 2;\n          }\n        },\n        is: {\n          closable: function () {\n            if (settings.closable == 'auto') {\n              if (settings.on == 'hover') {\n                return false;\n              }\n\n              return true;\n            }\n\n            return settings.closable;\n          },\n          offstage: function (distanceFromBoundary, position) {\n            var offstage = []; // return boundaries that have been surpassed\n\n            $.each(distanceFromBoundary, function (direction, distance) {\n              if (distance < -settings.jitter) {\n                module.debug('Position exceeds allowable distance from edge', direction, distance, position);\n                offstage.push(direction);\n              }\n            });\n\n            if (offstage.length > 0) {\n              return true;\n            } else {\n              return false;\n            }\n          },\n          svg: function (element) {\n            return module.supports.svg() && element instanceof SVGGraphicsElement;\n          },\n          basic: function () {\n            return $module.hasClass(className.basic);\n          },\n          active: function () {\n            return $module.hasClass(className.active);\n          },\n          animating: function () {\n            return $popup !== undefined && $popup.hasClass(className.animating);\n          },\n          fluid: function () {\n            return $popup !== undefined && $popup.hasClass(className.fluid);\n          },\n          visible: function () {\n            return $popup !== undefined && $popup.hasClass(className.popupVisible);\n          },\n          dropdown: function () {\n            return $module.hasClass(className.dropdown);\n          },\n          hidden: function () {\n            return !module.is.visible();\n          },\n          rtl: function () {\n            return $module.attr('dir') === 'rtl' || $module.css('direction') === 'rtl';\n          }\n        },\n        reset: function () {\n          module.remove.visible();\n\n          if (settings.preserve) {\n            if ($.fn.transition !== undefined) {\n              $popup.transition('remove transition');\n            }\n          } else {\n            module.removePopup();\n          }\n        },\n        setting: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, settings, name);\n          } else if (value !== undefined) {\n            settings[name] = value;\n          } else {\n            return settings[name];\n          }\n        },\n        internal: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, module, name);\n          } else if (value !== undefined) {\n            module[name] = value;\n          } else {\n            return module[name];\n          }\n        },\n        debug: function () {\n          if (!settings.silent && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function () {\n          if (!settings.silent && settings.verbose && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function () {\n          if (!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function (message) {\n            var currentTime, executionTime, previousTime;\n\n            if (settings.performance) {\n              currentTime = new Date().getTime();\n              previousTime = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time = currentTime;\n              performance.push({\n                'Name': message[0],\n                'Arguments': [].slice.call(message, 1) || '',\n                'Element': element,\n                'Execution Time': executionTime\n              });\n            }\n\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function () {\n            var title = settings.name + ':',\n                totalTime = 0;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function (index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n\n            if (moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n\n            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n\n              if (console.table) {\n                console.table(performance);\n              } else {\n                $.each(performance, function (index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');\n                });\n              }\n\n              console.groupEnd();\n            }\n\n            performance = [];\n          }\n        },\n        invoke: function (query, passedArguments, context) {\n          var object = instance,\n              maxDepth,\n              found,\n              response;\n          passedArguments = passedArguments || queryArguments;\n          context = element || context;\n\n          if (typeof query == 'string' && object !== undefined) {\n            query = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function (depth, value) {\n              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;\n\n              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {\n                object = object[camelCaseValue];\n              } else if (object[camelCaseValue] !== undefined) {\n                found = object[camelCaseValue];\n                return false;\n              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {\n                object = object[value];\n              } else if (object[value] !== undefined) {\n                found = object[value];\n                return false;\n              } else {\n                return false;\n              }\n            });\n          }\n\n          if ($.isFunction(found)) {\n            response = found.apply(context, passedArguments);\n          } else if (found !== undefined) {\n            response = found;\n          }\n\n          if (Array.isArray(returnedValue)) {\n            returnedValue.push(response);\n          } else if (returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          } else if (response !== undefined) {\n            returnedValue = response;\n          }\n\n          return found;\n        }\n      };\n\n      if (methodInvoked) {\n        if (instance === undefined) {\n          module.initialize();\n        }\n\n        module.invoke(query);\n      } else {\n        if (instance !== undefined) {\n          instance.invoke('destroy');\n        }\n\n        module.initialize();\n      }\n    });\n    return returnedValue !== undefined ? returnedValue : this;\n  };\n\n  $.fn.popup.settings = {\n    name: 'Popup',\n    // module settings\n    silent: false,\n    debug: false,\n    verbose: false,\n    performance: true,\n    namespace: 'popup',\n    // whether it should use dom mutation observers\n    observeChanges: true,\n    // callback only when element added to dom\n    onCreate: function () {},\n    // callback before element removed from dom\n    onRemove: function () {},\n    // callback before show animation\n    onShow: function () {},\n    // callback after show animation\n    onVisible: function () {},\n    // callback before hide animation\n    onHide: function () {},\n    // callback when popup cannot be positioned in visible screen\n    onUnplaceable: function () {},\n    // callback after hide animation\n    onHidden: function () {},\n    // when to show popup\n    on: 'hover',\n    // element to use to determine if popup is out of boundary\n    boundary: window,\n    // whether to add touchstart events when using hover\n    addTouchEvents: true,\n    // default position relative to element\n    position: 'top left',\n    // if given position should be used regardless if popup fits\n    forcePosition: false,\n    // name of variation to use\n    variation: '',\n    // whether popup should be moved to context\n    movePopup: true,\n    // element which popup should be relative to\n    target: false,\n    // jq selector or element that should be used as popup\n    popup: false,\n    // popup should remain inline next to activator\n    inline: false,\n    // popup should be removed from page on hide\n    preserve: false,\n    // popup should not close when being hovered on\n    hoverable: false,\n    // explicitly set content\n    content: false,\n    // explicitly set html\n    html: false,\n    // explicitly set title\n    title: false,\n    // whether automatically close on clickaway when on click\n    closable: true,\n    // automatically hide on scroll\n    hideOnScroll: 'auto',\n    // hide other popups on show\n    exclusive: false,\n    // context to attach popups\n    context: 'body',\n    // context for binding scroll events\n    scrollContext: window,\n    // position to prefer when calculating new position\n    prefer: 'opposite',\n    // specify position to appear even if it doesn't fit\n    lastResort: false,\n    // number of pixels from edge of popup to pointing arrow center (used from centering)\n    arrowPixelsFromEdge: 20,\n    // delay used to prevent accidental refiring of animations due to user error\n    delay: {\n      show: 50,\n      hide: 70\n    },\n    // whether fluid variation should assign width explicitly\n    setFluidWidth: true,\n    // transition settings\n    duration: 200,\n    transition: 'scale',\n    // distance away from activating element in px\n    distanceAway: 0,\n    // number of pixels an element is allowed to be \"offstage\" for a position to be chosen (allows for rounding)\n    jitter: 2,\n    // offset on aligning axis from calculated position\n    offset: 0,\n    // maximum times to look for a position before failing (9 positions total)\n    maxSearchDepth: 15,\n    error: {\n      invalidPosition: 'The position you specified is not a valid position',\n      cannotPlace: 'Popup does not fit within the boundaries of the viewport',\n      method: 'The method you called is not defined.',\n      noTransition: 'This module requires ui transitions <https://github.com/Semantic-Org/UI-Transition>',\n      notFound: 'The target or popup you specified does not exist on the page'\n    },\n    metadata: {\n      activator: 'activator',\n      content: 'content',\n      html: 'html',\n      offset: 'offset',\n      position: 'position',\n      title: 'title',\n      variation: 'variation'\n    },\n    className: {\n      active: 'active',\n      basic: 'basic',\n      animating: 'animating',\n      dropdown: 'dropdown',\n      fluid: 'fluid',\n      loading: 'loading',\n      popup: 'ui popup',\n      position: 'top left center bottom right',\n      visible: 'visible',\n      popupVisible: 'visible'\n    },\n    selector: {\n      popup: '.ui.popup'\n    },\n    templates: {\n      escape: function (string) {\n        var badChars = /[<>\"'`]/g,\n            shouldEscape = /[&<>\"'`]/,\n            escape = {\n          \"<\": \"&lt;\",\n          \">\": \"&gt;\",\n          '\"': \"&quot;\",\n          \"'\": \"&#x27;\",\n          \"`\": \"&#x60;\"\n        },\n            escapedChar = function (chr) {\n          return escape[chr];\n        };\n\n        if (shouldEscape.test(string)) {\n          string = string.replace(/&(?![a-z0-9#]{1,6};)/, \"&amp;\");\n          return string.replace(badChars, escapedChar);\n        }\n\n        return string;\n      },\n      popup: function (text) {\n        var html = '',\n            escape = $.fn.popup.settings.templates.escape;\n\n        if (typeof text !== undefined) {\n          if (typeof text.title !== undefined && text.title) {\n            text.title = escape(text.title);\n            html += '<div class=\"header\">' + text.title + '</div>';\n          }\n\n          if (typeof text.content !== undefined && text.content) {\n            text.content = escape(text.content);\n            html += '<div class=\"content\">' + text.content + '</div>';\n          }\n        }\n\n        return html;\n      }\n    }\n  };\n})(jQuery, window, document);\n/*!\n * # Fomantic-UI 2.8.8 - Progress\n * http://github.com/fomantic/Fomantic-UI/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n\n;\n\n(function ($, window, document, undefined) {\n  'use strict';\n\n  $.isFunction = $.isFunction || function (obj) {\n    return typeof obj === \"function\" && typeof obj.nodeType !== \"number\";\n  };\n\n  window = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\n\n  $.fn.progress = function (parameters) {\n    var $allModules = $(this),\n        moduleSelector = $allModules.selector || '',\n        time = new Date().getTime(),\n        performance = [],\n        query = arguments[0],\n        methodInvoked = typeof query == 'string',\n        queryArguments = [].slice.call(arguments, 1),\n        returnedValue;\n    $allModules.each(function () {\n      var settings = $.isPlainObject(parameters) ? $.extend(true, {}, $.fn.progress.settings, parameters) : $.extend({}, $.fn.progress.settings),\n          className = settings.className,\n          metadata = settings.metadata,\n          namespace = settings.namespace,\n          selector = settings.selector,\n          error = settings.error,\n          eventNamespace = '.' + namespace,\n          moduleNamespace = 'module-' + namespace,\n          $module = $(this),\n          $bars = $(this).find(selector.bar),\n          $progresses = $(this).find(selector.progress),\n          $label = $(this).find(selector.label),\n          element = this,\n          instance = $module.data(moduleNamespace),\n          animating = false,\n          transitionEnd,\n          module;\n      module = {\n        helper: {\n          sum: function (nums) {\n            return Array.isArray(nums) ? nums.reduce(function (left, right) {\n              return left + Number(right);\n            }, 0) : 0;\n          },\n\n          /**\n           * Derive precision for multiple progress with total and values.\n           *\n           * This helper dervices a precision that is sufficiently large to show minimum value of multiple progress.\n           *\n           * Example1\n           * - total: 1122\n           * - values: [325, 111, 74, 612]\n           * - min ratio: 74/1122 = 0.0659...\n           * - required precision:  100\n           *\n           * Example2\n           * - total: 10541\n           * - values: [3235, 1111, 74, 6121]\n           * - min ratio: 74/10541 = 0.0070...\n           * - required precision:   1000\n           *\n           * @param min A minimum value within multiple values\n           * @param total A total amount of multiple values\n           * @returns {number} A precison. Could be 1, 10, 100, ... 1e+10.\n           */\n          derivePrecision: function (min, total) {\n            var precisionPower = 0;\n            var precision = 1;\n            var ratio = min / total;\n\n            while (precisionPower < 10) {\n              ratio = ratio * precision;\n\n              if (ratio > 1) {\n                break;\n              }\n\n              precision = Math.pow(10, precisionPower++);\n            }\n\n            return precision;\n          },\n          forceArray: function (element) {\n            return Array.isArray(element) ? element : !isNaN(element) ? [element] : typeof element == 'string' ? element.split(',') : [];\n          }\n        },\n        initialize: function () {\n          module.set.duration();\n          module.set.transitionEvent();\n          module.debug(element);\n          module.read.metadata();\n          module.read.settings();\n          module.instantiate();\n        },\n        instantiate: function () {\n          module.verbose('Storing instance of progress', module);\n          instance = module;\n          $module.data(moduleNamespace, module);\n        },\n        destroy: function () {\n          module.verbose('Destroying previous progress for', $module);\n          clearInterval(instance.interval);\n          module.remove.state();\n          $module.removeData(moduleNamespace);\n          instance = undefined;\n        },\n        reset: function () {\n          module.remove.nextValue();\n          module.update.progress(0);\n        },\n        complete: function (keepState) {\n          if (module.percent === undefined || module.percent < 100) {\n            module.remove.progressPoll();\n\n            if (keepState !== true) {\n              module.set.percent(100);\n            }\n          }\n        },\n        read: {\n          metadata: function () {\n            var data = {\n              percent: module.helper.forceArray($module.data(metadata.percent)),\n              total: $module.data(metadata.total),\n              value: module.helper.forceArray($module.data(metadata.value))\n            };\n\n            if (data.total !== undefined) {\n              module.debug('Total value set from metadata', data.total);\n              module.set.total(data.total);\n            }\n\n            if (data.value.length > 0) {\n              module.debug('Current value set from metadata', data.value);\n              module.set.value(data.value);\n              module.set.progress(data.value);\n            }\n\n            if (data.percent.length > 0) {\n              module.debug('Current percent value set from metadata', data.percent);\n              module.set.percent(data.percent);\n            }\n          },\n          settings: function () {\n            if (settings.total !== false) {\n              module.debug('Current total set in settings', settings.total);\n              module.set.total(settings.total);\n            }\n\n            if (settings.value !== false) {\n              module.debug('Current value set in settings', settings.value);\n              module.set.value(settings.value);\n              module.set.progress(module.value);\n            }\n\n            if (settings.percent !== false) {\n              module.debug('Current percent set in settings', settings.percent);\n              module.set.percent(settings.percent);\n            }\n          }\n        },\n        bind: {\n          transitionEnd: function (callback) {\n            var transitionEnd = module.get.transitionEnd();\n            $bars.one(transitionEnd + eventNamespace, function (event) {\n              clearTimeout(module.failSafeTimer);\n              callback.call(this, event);\n            });\n            module.failSafeTimer = setTimeout(function () {\n              $bars.triggerHandler(transitionEnd);\n            }, settings.duration + settings.failSafeDelay);\n            module.verbose('Adding fail safe timer', module.timer);\n          }\n        },\n        increment: function (incrementValue) {\n          var startValue, newValue;\n\n          if (module.has.total()) {\n            startValue = module.get.value();\n            incrementValue = incrementValue || 1;\n          } else {\n            startValue = module.get.percent();\n            incrementValue = incrementValue || module.get.randomValue();\n          }\n\n          newValue = startValue + incrementValue;\n          module.debug('Incrementing percentage by', startValue, newValue, incrementValue);\n          newValue = module.get.normalizedValue(newValue);\n          module.set.progress(newValue);\n        },\n        decrement: function (decrementValue) {\n          var total = module.get.total(),\n              startValue,\n              newValue;\n\n          if (total) {\n            startValue = module.get.value();\n            decrementValue = decrementValue || 1;\n            newValue = startValue - decrementValue;\n            module.debug('Decrementing value by', decrementValue, startValue);\n          } else {\n            startValue = module.get.percent();\n            decrementValue = decrementValue || module.get.randomValue();\n            newValue = startValue - decrementValue;\n            module.debug('Decrementing percentage by', decrementValue, startValue);\n          }\n\n          newValue = module.get.normalizedValue(newValue);\n          module.set.progress(newValue);\n        },\n        has: {\n          progressPoll: function () {\n            return module.progressPoll;\n          },\n          total: function () {\n            return module.get.total() !== false;\n          }\n        },\n        get: {\n          text: function (templateText, index) {\n            var index_ = index || 0,\n                value = module.get.value(index_),\n                total = module.get.total(),\n                percent = animating ? module.get.displayPercent(index_) : module.get.percent(index_),\n                left = total !== false ? Math.max(0, total - value) : 100 - percent;\n            templateText = templateText || '';\n            templateText = templateText.replace('{value}', value).replace('{total}', total || 0).replace('{left}', left).replace('{percent}', percent).replace('{bar}', settings.text.bars[index_] || '');\n            module.verbose('Adding variables to progress bar text', templateText);\n            return templateText;\n          },\n          normalizedValue: function (value) {\n            if (value < 0) {\n              module.debug('Value cannot decrement below 0');\n              return 0;\n            }\n\n            if (module.has.total()) {\n              if (value > module.total) {\n                module.debug('Value cannot increment above total', module.total);\n                return module.total;\n              }\n            } else if (value > 100) {\n              module.debug('Value cannot increment above 100 percent');\n              return 100;\n            }\n\n            return value;\n          },\n          updateInterval: function () {\n            if (settings.updateInterval == 'auto') {\n              return settings.duration;\n            }\n\n            return settings.updateInterval;\n          },\n          randomValue: function () {\n            module.debug('Generating random increment percentage');\n            return Math.floor(Math.random() * settings.random.max + settings.random.min);\n          },\n          numericValue: function (value) {\n            return typeof value === 'string' ? value.replace(/[^\\d.]/g, '') !== '' ? +value.replace(/[^\\d.]/g, '') : false : value;\n          },\n          transitionEnd: function () {\n            var element = document.createElement('element'),\n                transitions = {\n              'transition': 'transitionend',\n              'OTransition': 'oTransitionEnd',\n              'MozTransition': 'transitionend',\n              'WebkitTransition': 'webkitTransitionEnd'\n            },\n                transition;\n\n            for (transition in transitions) {\n              if (element.style[transition] !== undefined) {\n                return transitions[transition];\n              }\n            }\n          },\n          // gets current displayed percentage (if animating values this is the intermediary value)\n          displayPercent: function (index) {\n            var $bar = $($bars[index]),\n                barWidth = $bar.width(),\n                totalWidth = $module.width(),\n                minDisplay = parseInt($bar.css('min-width'), 10),\n                displayPercent = barWidth > minDisplay ? barWidth / totalWidth * 100 : module.percent;\n            return settings.precision > 0 ? Math.round(displayPercent * (10 * settings.precision)) / (10 * settings.precision) : Math.round(displayPercent);\n          },\n          percent: function (index) {\n            return module.percent && module.percent[index || 0] || 0;\n          },\n          value: function (index) {\n            return module.nextValue || module.value && module.value[index || 0] || 0;\n          },\n          total: function () {\n            return module.total !== undefined ? module.total : false;\n          }\n        },\n        create: {\n          progressPoll: function () {\n            module.progressPoll = setTimeout(function () {\n              module.update.toNextValue();\n              module.remove.progressPoll();\n            }, module.get.updateInterval());\n          }\n        },\n        is: {\n          complete: function () {\n            return module.is.success() || module.is.warning() || module.is.error();\n          },\n          success: function () {\n            return $module.hasClass(className.success);\n          },\n          warning: function () {\n            return $module.hasClass(className.warning);\n          },\n          error: function () {\n            return $module.hasClass(className.error);\n          },\n          active: function () {\n            return $module.hasClass(className.active);\n          },\n          visible: function () {\n            return $module.is(':visible');\n          }\n        },\n        remove: {\n          progressPoll: function () {\n            module.verbose('Removing progress poll timer');\n\n            if (module.progressPoll) {\n              clearTimeout(module.progressPoll);\n              delete module.progressPoll;\n            }\n          },\n          nextValue: function () {\n            module.verbose('Removing progress value stored for next update');\n            delete module.nextValue;\n          },\n          state: function () {\n            module.verbose('Removing stored state');\n            delete module.total;\n            delete module.percent;\n            delete module.value;\n          },\n          active: function () {\n            module.verbose('Removing active state');\n            $module.removeClass(className.active);\n          },\n          success: function () {\n            module.verbose('Removing success state');\n            $module.removeClass(className.success);\n          },\n          warning: function () {\n            module.verbose('Removing warning state');\n            $module.removeClass(className.warning);\n          },\n          error: function () {\n            module.verbose('Removing error state');\n            $module.removeClass(className.error);\n          }\n        },\n        set: {\n          barWidth: function (values) {\n            module.debug(\"set bar width with \", values);\n            values = module.helper.forceArray(values);\n            var firstNonZeroIndex = -1;\n            var lastNonZeroIndex = -1;\n            var valuesSum = module.helper.sum(values);\n            var barCounts = $bars.length;\n            var isMultiple = barCounts > 1;\n            var percents = values.map(function (value, index) {\n              var allZero = index === barCounts - 1 && valuesSum === 0;\n              var $bar = $($bars[index]);\n\n              if (value === 0 && isMultiple && !allZero) {\n                $bar.css('display', 'none');\n              } else {\n                if (isMultiple && allZero) {\n                  $bar.css('background', 'transparent');\n                }\n\n                if (firstNonZeroIndex == -1) {\n                  firstNonZeroIndex = index;\n                }\n\n                lastNonZeroIndex = index;\n                $bar.css({\n                  display: 'block',\n                  width: value + '%'\n                });\n              }\n\n              return parseFloat(value);\n            });\n            values.forEach(function (_, index) {\n              var $bar = $($bars[index]);\n              $bar.css({\n                borderTopLeftRadius: index == firstNonZeroIndex ? '' : 0,\n                borderBottomLeftRadius: index == firstNonZeroIndex ? '' : 0,\n                borderTopRightRadius: index == lastNonZeroIndex ? '' : 0,\n                borderBottomRightRadius: index == lastNonZeroIndex ? '' : 0\n              });\n            });\n            $module.attr('data-percent', percents);\n          },\n          duration: function (duration) {\n            duration = duration || settings.duration;\n            duration = typeof duration == 'number' ? duration + 'ms' : duration;\n            module.verbose('Setting progress bar transition duration', duration);\n            $bars.css({\n              'transition-duration': duration\n            });\n          },\n          percent: function (percents) {\n            percents = module.helper.forceArray(percents).map(function (percent) {\n              percent = typeof percent == 'string' ? +percent.replace('%', '') : percent;\n              return settings.limitValues ? Math.max(0, Math.min(100, percent)) : percent;\n            });\n            var hasTotal = module.has.total();\n            var totalPercent = module.helper.sum(percents);\n            var isMultipleValues = percents.length > 1 && hasTotal;\n            var sumTotal = module.helper.sum(module.helper.forceArray(module.value));\n\n            if (isMultipleValues && sumTotal > module.total) {\n              // Sum values instead of pecents to avoid precision issues when summing floats\n              module.error(error.sumExceedsTotal, sumTotal, module.total);\n            } else if (!isMultipleValues && totalPercent > 100) {\n              // Sum before rounding since sum of rounded may have error though sum of actual is fine\n              module.error(error.tooHigh, totalPercent);\n            } else if (totalPercent < 0) {\n              module.error(error.tooLow, totalPercent);\n            } else {\n              var autoPrecision = settings.precision > 0 ? settings.precision : isMultipleValues ? module.helper.derivePrecision(Math.min.apply(null, module.value), module.total) : 0; // round display percentage\n\n              var roundedPercents = percents.map(function (percent) {\n                return autoPrecision > 0 ? Math.round(percent * (10 * autoPrecision)) / (10 * autoPrecision) : Math.round(percent);\n              });\n              module.percent = roundedPercents;\n\n              if (hasTotal) {\n                module.value = percents.map(function (percent) {\n                  return autoPrecision > 0 ? Math.round(percent / 100 * module.total * (10 * autoPrecision)) / (10 * autoPrecision) : Math.round(percent / 100 * module.total * 10) / 10;\n                });\n              }\n\n              module.set.barWidth(percents);\n              module.set.labelInterval();\n            }\n\n            settings.onChange.call(element, percents, module.value, module.total);\n          },\n          labelInterval: function () {\n            var animationCallback = function () {\n              module.verbose('Bar finished animating, removing continuous label updates');\n              clearInterval(module.interval);\n              animating = false;\n              module.set.labels();\n            };\n\n            clearInterval(module.interval);\n            module.bind.transitionEnd(animationCallback);\n            animating = true;\n            module.interval = setInterval(function () {\n              var isInDOM = $.contains(document.documentElement, element);\n\n              if (!isInDOM) {\n                clearInterval(module.interval);\n                animating = false;\n              }\n\n              module.set.labels();\n            }, settings.framerate);\n          },\n          labels: function () {\n            module.verbose('Setting both bar progress and outer label text');\n            module.set.barLabel();\n            module.set.state();\n          },\n          label: function (text) {\n            text = text || '';\n\n            if (text) {\n              text = module.get.text(text);\n              module.verbose('Setting label to text', text);\n              $label.text(text);\n            }\n          },\n          state: function (percent) {\n            percent = percent !== undefined ? percent : module.helper.sum(module.percent);\n\n            if (percent === 100) {\n              if (settings.autoSuccess && $bars.length === 1 && !(module.is.warning() || module.is.error() || module.is.success())) {\n                module.set.success();\n                module.debug('Automatically triggering success at 100%');\n              } else {\n                module.verbose('Reached 100% removing active state');\n                module.remove.active();\n                module.remove.progressPoll();\n              }\n            } else if (percent > 0) {\n              module.verbose('Adjusting active progress bar label', percent);\n              module.set.active();\n            } else {\n              module.remove.active();\n              module.set.label(settings.text.active);\n            }\n          },\n          barLabel: function (text) {\n            $progresses.map(function (index, element) {\n              var $progress = $(element);\n\n              if (text !== undefined) {\n                $progress.text(module.get.text(text, index));\n              } else if (settings.label == 'ratio' && module.has.total()) {\n                module.verbose('Adding ratio to bar label');\n                $progress.text(module.get.text(settings.text.ratio, index));\n              } else if (settings.label == 'percent') {\n                module.verbose('Adding percentage to bar label');\n                $progress.text(module.get.text(settings.text.percent, index));\n              }\n            });\n          },\n          active: function (text) {\n            text = text || settings.text.active;\n            module.debug('Setting active state');\n\n            if (settings.showActivity && !module.is.active()) {\n              $module.addClass(className.active);\n            }\n\n            module.remove.warning();\n            module.remove.error();\n            module.remove.success();\n            text = settings.onLabelUpdate('active', text, module.value, module.total);\n\n            if (text) {\n              module.set.label(text);\n            }\n\n            module.bind.transitionEnd(function () {\n              settings.onActive.call(element, module.value, module.total);\n            });\n          },\n          success: function (text, keepState) {\n            text = text || settings.text.success || settings.text.active;\n            module.debug('Setting success state');\n            $module.addClass(className.success);\n            module.remove.active();\n            module.remove.warning();\n            module.remove.error();\n            module.complete(keepState);\n\n            if (settings.text.success) {\n              text = settings.onLabelUpdate('success', text, module.value, module.total);\n              module.set.label(text);\n            } else {\n              text = settings.onLabelUpdate('active', text, module.value, module.total);\n              module.set.label(text);\n            }\n\n            module.bind.transitionEnd(function () {\n              settings.onSuccess.call(element, module.total);\n            });\n          },\n          warning: function (text, keepState) {\n            text = text || settings.text.warning;\n            module.debug('Setting warning state');\n            $module.addClass(className.warning);\n            module.remove.active();\n            module.remove.success();\n            module.remove.error();\n            module.complete(keepState);\n            text = settings.onLabelUpdate('warning', text, module.value, module.total);\n\n            if (text) {\n              module.set.label(text);\n            }\n\n            module.bind.transitionEnd(function () {\n              settings.onWarning.call(element, module.value, module.total);\n            });\n          },\n          error: function (text, keepState) {\n            text = text || settings.text.error;\n            module.debug('Setting error state');\n            $module.addClass(className.error);\n            module.remove.active();\n            module.remove.success();\n            module.remove.warning();\n            module.complete(keepState);\n            text = settings.onLabelUpdate('error', text, module.value, module.total);\n\n            if (text) {\n              module.set.label(text);\n            }\n\n            module.bind.transitionEnd(function () {\n              settings.onError.call(element, module.value, module.total);\n            });\n          },\n          transitionEvent: function () {\n            transitionEnd = module.get.transitionEnd();\n          },\n          total: function (totalValue) {\n            module.total = totalValue;\n          },\n          value: function (value) {\n            module.value = module.helper.forceArray(value);\n          },\n          progress: function (value) {\n            if (!module.has.progressPoll()) {\n              module.debug('First update in progress update interval, immediately updating', value);\n              module.update.progress(value);\n              module.create.progressPoll();\n            } else {\n              module.debug('Updated within interval, setting next update to use new value', value);\n              module.set.nextValue(value);\n            }\n          },\n          nextValue: function (value) {\n            module.nextValue = value;\n          }\n        },\n        update: {\n          toNextValue: function () {\n            var nextValue = module.nextValue;\n\n            if (nextValue) {\n              module.debug('Update interval complete using last updated value', nextValue);\n              module.update.progress(nextValue);\n              module.remove.nextValue();\n            }\n          },\n          progress: function (values) {\n            var hasTotal = module.has.total();\n\n            if (hasTotal) {\n              module.set.value(values);\n            }\n\n            var percentCompletes = module.helper.forceArray(values).map(function (value) {\n              var percentComplete;\n              value = module.get.numericValue(value);\n\n              if (value === false) {\n                module.error(error.nonNumeric, value);\n              }\n\n              value = module.get.normalizedValue(value);\n\n              if (hasTotal) {\n                percentComplete = module.total > 0 ? value / module.total * 100 : 100;\n                module.debug('Calculating percent complete from total', percentComplete);\n              } else {\n                percentComplete = value;\n                module.debug('Setting value to exact percentage value', percentComplete);\n              }\n\n              return percentComplete;\n            });\n            module.set.percent(percentCompletes);\n          }\n        },\n        setting: function (name, value) {\n          module.debug('Changing setting', name, value);\n\n          if ($.isPlainObject(name)) {\n            $.extend(true, settings, name);\n          } else if (value !== undefined) {\n            if ($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            } else {\n              settings[name] = value;\n            }\n          } else {\n            return settings[name];\n          }\n        },\n        internal: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, module, name);\n          } else if (value !== undefined) {\n            module[name] = value;\n          } else {\n            return module[name];\n          }\n        },\n        debug: function () {\n          if (!settings.silent && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function () {\n          if (!settings.silent && settings.verbose && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function () {\n          if (!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function (message) {\n            var currentTime, executionTime, previousTime;\n\n            if (settings.performance) {\n              currentTime = new Date().getTime();\n              previousTime = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time = currentTime;\n              performance.push({\n                'Name': message[0],\n                'Arguments': [].slice.call(message, 1) || '',\n                'Element': element,\n                'Execution Time': executionTime\n              });\n            }\n\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function () {\n            var title = settings.name + ':',\n                totalTime = 0;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function (index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n\n            if (moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n\n            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n\n              if (console.table) {\n                console.table(performance);\n              } else {\n                $.each(performance, function (index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');\n                });\n              }\n\n              console.groupEnd();\n            }\n\n            performance = [];\n          }\n        },\n        invoke: function (query, passedArguments, context) {\n          var object = instance,\n              maxDepth,\n              found,\n              response;\n          passedArguments = passedArguments || queryArguments;\n          context = element || context;\n\n          if (typeof query == 'string' && object !== undefined) {\n            query = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function (depth, value) {\n              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;\n\n              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {\n                object = object[camelCaseValue];\n              } else if (object[camelCaseValue] !== undefined) {\n                found = object[camelCaseValue];\n                return false;\n              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {\n                object = object[value];\n              } else if (object[value] !== undefined) {\n                found = object[value];\n                return false;\n              } else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n\n          if ($.isFunction(found)) {\n            response = found.apply(context, passedArguments);\n          } else if (found !== undefined) {\n            response = found;\n          }\n\n          if (Array.isArray(returnedValue)) {\n            returnedValue.push(response);\n          } else if (returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          } else if (response !== undefined) {\n            returnedValue = response;\n          }\n\n          return found;\n        }\n      };\n\n      if (methodInvoked) {\n        if (instance === undefined) {\n          module.initialize();\n        }\n\n        module.invoke(query);\n      } else {\n        if (instance !== undefined) {\n          instance.invoke('destroy');\n        }\n\n        module.initialize();\n      }\n    });\n    return returnedValue !== undefined ? returnedValue : this;\n  };\n\n  $.fn.progress.settings = {\n    name: 'Progress',\n    namespace: 'progress',\n    silent: false,\n    debug: false,\n    verbose: false,\n    performance: true,\n    random: {\n      min: 2,\n      max: 5\n    },\n    duration: 300,\n    updateInterval: 'auto',\n    autoSuccess: true,\n    showActivity: true,\n    limitValues: true,\n    label: 'percent',\n    precision: 0,\n    framerate: 1000 / 30,\n    /// 30 fps\n    percent: false,\n    total: false,\n    value: false,\n    // delay in ms for fail safe animation callback\n    failSafeDelay: 100,\n    onLabelUpdate: function (state, text, value, total) {\n      return text;\n    },\n    onChange: function (percent, value, total) {},\n    onSuccess: function (total) {},\n    onActive: function (value, total) {},\n    onError: function (value, total) {},\n    onWarning: function (value, total) {},\n    error: {\n      method: 'The method you called is not defined.',\n      nonNumeric: 'Progress value is non numeric',\n      tooHigh: 'Value specified is above 100%',\n      tooLow: 'Value specified is below 0%',\n      sumExceedsTotal: 'Sum of multple values exceed total'\n    },\n    regExp: {\n      variable: /\\{\\$*[A-z0-9]+\\}/g\n    },\n    metadata: {\n      percent: 'percent',\n      total: 'total',\n      value: 'value'\n    },\n    selector: {\n      bar: '> .bar',\n      label: '> .label',\n      progress: '.bar > .progress'\n    },\n    text: {\n      active: false,\n      error: false,\n      success: false,\n      warning: false,\n      percent: '{percent}%',\n      ratio: '{value} of {total}',\n      bars: ['']\n    },\n    className: {\n      active: 'active',\n      error: 'error',\n      success: 'success',\n      warning: 'warning'\n    }\n  };\n})(jQuery, window, document);\n/*!\n * # Fomantic-UI 2.8.8 - Slider\n * http://github.com/fomantic/Fomantic-UI/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n\n;\n\n(function ($, window, document, undefined) {\n  \"use strict\";\n\n  window = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\n\n  $.fn.slider = function (parameters) {\n    var $allModules = $(this),\n        $window = $(window),\n        moduleSelector = $allModules.selector || '',\n        time = new Date().getTime(),\n        performance = [],\n        query = arguments[0],\n        methodInvoked = typeof query == 'string',\n        queryArguments = [].slice.call(arguments, 1),\n        alphabet = ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z'],\n        SINGLE_STEP = 1,\n        BIG_STEP = 2,\n        NO_STEP = 0,\n        SINGLE_BACKSTEP = -1,\n        BIG_BACKSTEP = -2,\n        // Used to manage document bound events.\n    // Use this so that we can distinguish between which document events are bound to which range.\n    currentRange = 0,\n        returnedValue;\n    $allModules.each(function () {\n      var settings = $.isPlainObject(parameters) ? $.extend(true, {}, $.fn.slider.settings, parameters) : $.extend({}, $.fn.slider.settings),\n          className = settings.className,\n          metadata = settings.metadata,\n          namespace = settings.namespace,\n          error = settings.error,\n          keys = settings.keys,\n          interpretLabel = settings.interpretLabel,\n          isHover = false,\n          eventNamespace = '.' + namespace,\n          moduleNamespace = 'module-' + namespace,\n          $module = $(this),\n          $currThumb,\n          $thumb,\n          $secondThumb,\n          $track,\n          $trackFill,\n          $labels,\n          element = this,\n          instance = $module.data(moduleNamespace),\n          documentEventID,\n          value,\n          position,\n          secondPos,\n          offset,\n          precision,\n          isTouch,\n          gapRatio = 1,\n          previousValue,\n          initialPosition,\n          initialLoad,\n          module;\n      module = {\n        initialize: function () {\n          module.debug('Initializing slider', settings);\n          initialLoad = true;\n          currentRange += 1;\n          documentEventID = currentRange;\n          isTouch = module.setup.testOutTouch();\n          module.setup.layout();\n          module.setup.labels();\n\n          if (!module.is.disabled()) {\n            module.bind.events();\n          }\n\n          module.read.metadata();\n          module.read.settings();\n          initialLoad = false;\n          module.instantiate();\n        },\n        instantiate: function () {\n          module.verbose('Storing instance of slider', module);\n          instance = module;\n          $module.data(moduleNamespace, module);\n        },\n        destroy: function () {\n          module.verbose('Destroying previous slider for', $module);\n          clearInterval(instance.interval);\n          module.unbind.events();\n          module.unbind.slidingEvents();\n          $module.removeData(moduleNamespace);\n          instance = undefined;\n        },\n        setup: {\n          layout: function () {\n            if ($module.attr('tabindex') === undefined) {\n              $module.attr('tabindex', 0);\n            }\n\n            if ($module.find('.inner').length == 0) {\n              $module.append(\"<div class='inner'>\" + \"<div class='track'></div>\" + \"<div class='track-fill'></div>\" + \"<div class='thumb'></div>\" + \"</div>\");\n            }\n\n            precision = module.get.precision();\n            $thumb = $module.find('.thumb:not(.second)');\n            $currThumb = $thumb;\n\n            if (module.is.range()) {\n              if ($module.find('.thumb.second').length == 0) {\n                $module.find('.inner').append(\"<div class='thumb second'></div>\");\n              }\n\n              $secondThumb = $module.find('.thumb.second');\n            }\n\n            $track = $module.find('.track');\n            $trackFill = $module.find('.track-fill');\n            offset = $thumb.width() / 2;\n          },\n          labels: function () {\n            if (module.is.labeled()) {\n              $labels = $module.find('.labels:not(.auto)');\n\n              if ($labels.length != 0) {\n                module.setup.customLabel();\n              } else {\n                module.setup.autoLabel();\n              }\n\n              if (settings.showLabelTicks) {\n                $module.addClass(className.ticked);\n              }\n            }\n          },\n          testOutTouch: function () {\n            try {\n              document.createEvent('TouchEvent');\n              return true;\n            } catch (e) {\n              return false;\n            }\n          },\n          customLabel: function () {\n            var $children = $labels.find('.label'),\n                numChildren = $children.length,\n                min = module.get.min(),\n                max = module.get.max(),\n                ratio;\n            $children.each(function (index) {\n              var $child = $(this),\n                  attrValue = $child.attr('data-value');\n\n              if (attrValue) {\n                attrValue = attrValue > max ? max : attrValue < min ? min : attrValue;\n                ratio = (attrValue - min) / (max - min);\n              } else {\n                ratio = (index + 1) / (numChildren + 1);\n              }\n\n              module.update.labelPosition(ratio, $(this));\n            });\n          },\n          autoLabel: function () {\n            $labels = $module.find('.labels');\n\n            if ($labels.length != 0) {\n              $labels.empty();\n            } else {\n              $labels = $module.append('<ul class=\"auto labels\"></ul>').find('.labels');\n            }\n\n            for (var i = 0, len = module.get.numLabels(); i <= len; i++) {\n              var labelText = module.get.label(i),\n                  $label = labelText !== \"\" ? !(i % module.get.gapRatio()) ? $('<li class=\"label\">' + labelText + '</li>') : $('<li class=\"halftick label\"></li>') : null,\n                  ratio = i / len;\n\n              if ($label) {\n                module.update.labelPosition(ratio, $label);\n                $labels.append($label);\n              }\n            }\n          }\n        },\n        bind: {\n          events: function () {\n            module.bind.globalKeyboardEvents();\n            module.bind.keyboardEvents();\n            module.bind.mouseEvents();\n\n            if (module.is.touch()) {\n              module.bind.touchEvents();\n            }\n\n            if (settings.autoAdjustLabels) {\n              module.bind.windowEvents();\n            }\n          },\n          keyboardEvents: function () {\n            module.verbose('Binding keyboard events');\n            $module.on('keydown' + eventNamespace, module.event.keydown);\n          },\n          globalKeyboardEvents: function () {\n            $(document).on('keydown' + eventNamespace + documentEventID, module.event.activateFocus);\n          },\n          mouseEvents: function () {\n            module.verbose('Binding mouse events');\n            $module.find('.track, .thumb, .inner').on('mousedown' + eventNamespace, function (event) {\n              event.stopImmediatePropagation();\n              event.preventDefault();\n              module.event.down(event);\n            });\n            $module.on('mousedown' + eventNamespace, module.event.down);\n            $module.on('mouseenter' + eventNamespace, function (event) {\n              isHover = true;\n            });\n            $module.on('mouseleave' + eventNamespace, function (event) {\n              isHover = false;\n            });\n          },\n          touchEvents: function () {\n            module.verbose('Binding touch events');\n            $module.find('.track, .thumb, .inner').on('touchstart' + eventNamespace, function (event) {\n              event.stopImmediatePropagation();\n              event.preventDefault();\n              module.event.down(event);\n            });\n            $module.on('touchstart' + eventNamespace, module.event.down);\n          },\n          slidingEvents: function () {\n            // these don't need the identifier because we only ever want one of them to be registered with document\n            module.verbose('Binding page wide events while handle is being draged');\n\n            if (module.is.touch()) {\n              $(document).on('touchmove' + eventNamespace, module.event.move);\n              $(document).on('touchend' + eventNamespace, module.event.up);\n            } else {\n              $(document).on('mousemove' + eventNamespace, module.event.move);\n              $(document).on('mouseup' + eventNamespace, module.event.up);\n            }\n          },\n          windowEvents: function () {\n            $window.on('resize' + eventNamespace, module.event.resize);\n          }\n        },\n        unbind: {\n          events: function () {\n            $module.find('.track, .thumb, .inner').off('mousedown' + eventNamespace);\n            $module.find('.track, .thumb, .inner').off('touchstart' + eventNamespace);\n            $module.off('mousedown' + eventNamespace);\n            $module.off('mouseenter' + eventNamespace);\n            $module.off('mouseleave' + eventNamespace);\n            $module.off('touchstart' + eventNamespace);\n            $module.off('keydown' + eventNamespace);\n            $module.off('focusout' + eventNamespace);\n            $(document).off('keydown' + eventNamespace + documentEventID, module.event.activateFocus);\n            $window.off('resize' + eventNamespace);\n          },\n          slidingEvents: function () {\n            if (module.is.touch()) {\n              $(document).off('touchmove' + eventNamespace);\n              $(document).off('touchend' + eventNamespace);\n            } else {\n              $(document).off('mousemove' + eventNamespace);\n              $(document).off('mouseup' + eventNamespace);\n            }\n          }\n        },\n        event: {\n          down: function (event) {\n            event.preventDefault();\n\n            if (module.is.range()) {\n              var eventPos = module.determine.eventPos(event),\n                  newPos = module.determine.pos(eventPos); // Special handling if range mode and both thumbs have the same value\n\n              if (settings.preventCrossover && module.is.range() && module.thumbVal === module.secondThumbVal) {\n                initialPosition = newPos;\n                $currThumb = undefined;\n              } else {\n                $currThumb = module.determine.closestThumb(newPos);\n              }\n\n              if (previousValue === undefined) {\n                previousValue = module.get.currentThumbValue();\n              }\n            } else if (previousValue === undefined) {\n              previousValue = module.get.value();\n            }\n\n            if (!module.is.disabled()) {\n              module.bind.slidingEvents();\n            }\n          },\n          move: function (event) {\n            event.preventDefault();\n            var value = module.determine.valueFromEvent(event);\n\n            if ($currThumb === undefined) {\n              var eventPos = module.determine.eventPos(event),\n                  newPos = module.determine.pos(eventPos);\n              $currThumb = initialPosition > newPos ? $thumb : $secondThumb;\n            }\n\n            if (module.get.step() == 0 || module.is.smooth()) {\n              var thumbVal = module.thumbVal,\n                  secondThumbVal = module.secondThumbVal,\n                  thumbSmoothVal = module.determine.smoothValueFromEvent(event);\n\n              if (!$currThumb.hasClass('second')) {\n                if (settings.preventCrossover && module.is.range()) {\n                  value = Math.min(secondThumbVal, value);\n                  thumbSmoothVal = Math.min(secondThumbVal, thumbSmoothVal);\n                }\n\n                thumbVal = value;\n              } else {\n                if (settings.preventCrossover && module.is.range()) {\n                  value = Math.max(thumbVal, value);\n                  thumbSmoothVal = Math.max(thumbVal, thumbSmoothVal);\n                }\n\n                secondThumbVal = value;\n              }\n\n              value = Math.abs(thumbVal - (secondThumbVal || 0));\n              module.update.position(thumbSmoothVal);\n              settings.onMove.call(element, value, thumbVal, secondThumbVal);\n            } else {\n              module.update.value(value, function (value, thumbVal, secondThumbVal) {\n                settings.onMove.call(element, value, thumbVal, secondThumbVal);\n              });\n            }\n          },\n          up: function (event) {\n            event.preventDefault();\n            var value = module.determine.valueFromEvent(event);\n            module.set.value(value);\n            module.unbind.slidingEvents();\n\n            if (previousValue !== undefined) {\n              previousValue = undefined;\n            }\n          },\n          keydown: function (event, first) {\n            if (settings.preventCrossover && module.is.range() && module.thumbVal === module.secondThumbVal) {\n              $currThumb = undefined;\n            }\n\n            if (module.is.focused()) {\n              $(document).trigger(event);\n            }\n\n            if (first || module.is.focused()) {\n              var step = module.determine.keyMovement(event);\n\n              if (step != NO_STEP) {\n                event.preventDefault();\n\n                switch (step) {\n                  case SINGLE_STEP:\n                    module.takeStep();\n                    break;\n\n                  case BIG_STEP:\n                    module.takeStep(module.get.multiplier());\n                    break;\n\n                  case SINGLE_BACKSTEP:\n                    module.backStep();\n                    break;\n\n                  case BIG_BACKSTEP:\n                    module.backStep(module.get.multiplier());\n                    break;\n                }\n              }\n            }\n          },\n          activateFocus: function (event) {\n            if (!module.is.focused() && module.is.hover() && module.determine.keyMovement(event) != NO_STEP) {\n              event.preventDefault();\n              module.event.keydown(event, true);\n              $module.focus();\n            }\n          },\n          resize: function (_event) {\n            // To avoid a useless performance cost, we only call the label refresh when its necessary\n            if (gapRatio != module.get.gapRatio()) {\n              module.setup.labels();\n              gapRatio = module.get.gapRatio();\n            }\n          }\n        },\n        resync: function () {\n          module.verbose('Resyncing thumb position based on value');\n\n          if (module.is.range()) {\n            module.update.position(module.secondThumbVal, $secondThumb);\n          }\n\n          module.update.position(module.thumbVal, $thumb);\n          module.setup.labels();\n        },\n        takeStep: function (multiplier) {\n          var multiplier = multiplier != undefined ? multiplier : 1,\n              step = module.get.step(),\n              currValue = module.get.currentThumbValue();\n          module.verbose('Taking a step');\n\n          if (step > 0) {\n            module.set.value(currValue + step * multiplier);\n          } else if (step == 0) {\n            var precision = module.get.precision(),\n                newValue = currValue + multiplier / precision;\n            module.set.value(Math.round(newValue * precision) / precision);\n          }\n        },\n        backStep: function (multiplier) {\n          var multiplier = multiplier != undefined ? multiplier : 1,\n              step = module.get.step(),\n              currValue = module.get.currentThumbValue();\n          module.verbose('Going back a step');\n\n          if (step > 0) {\n            module.set.value(currValue - step * multiplier);\n          } else if (step == 0) {\n            var precision = module.get.precision(),\n                newValue = currValue - multiplier / precision;\n            module.set.value(Math.round(newValue * precision) / precision);\n          }\n        },\n        is: {\n          range: function () {\n            return $module.hasClass(settings.className.range);\n          },\n          hover: function () {\n            return isHover;\n          },\n          focused: function () {\n            return $module.is(':focus');\n          },\n          disabled: function () {\n            return $module.hasClass(settings.className.disabled);\n          },\n          labeled: function () {\n            return $module.hasClass(settings.className.labeled);\n          },\n          reversed: function () {\n            return $module.hasClass(settings.className.reversed);\n          },\n          vertical: function () {\n            return $module.hasClass(settings.className.vertical);\n          },\n          smooth: function () {\n            return settings.smooth || $module.hasClass(settings.className.smooth);\n          },\n          touch: function () {\n            return isTouch;\n          }\n        },\n        get: {\n          trackOffset: function () {\n            if (module.is.vertical()) {\n              return $track.offset().top;\n            } else {\n              return $track.offset().left;\n            }\n          },\n          trackLength: function () {\n            if (module.is.vertical()) {\n              return $track.height();\n            } else {\n              return $track.width();\n            }\n          },\n          trackLeft: function () {\n            if (module.is.vertical()) {\n              return $track.position().top;\n            } else {\n              return $track.position().left;\n            }\n          },\n          trackStartPos: function () {\n            return module.is.reversed() ? module.get.trackLeft() + module.get.trackLength() : module.get.trackLeft();\n          },\n          trackEndPos: function () {\n            return module.is.reversed() ? module.get.trackLeft() : module.get.trackLeft() + module.get.trackLength();\n          },\n          trackStartMargin: function () {\n            var margin;\n\n            if (module.is.vertical()) {\n              margin = module.is.reversed() ? $module.css('padding-bottom') : $module.css('padding-top');\n            } else {\n              margin = module.is.reversed() ? $module.css('padding-right') : $module.css('padding-left');\n            }\n\n            return margin || '0px';\n          },\n          trackEndMargin: function () {\n            var margin;\n\n            if (module.is.vertical()) {\n              margin = module.is.reversed() ? $module.css('padding-top') : $module.css('padding-bottom');\n            } else {\n              margin = module.is.reversed() ? $module.css('padding-left') : $module.css('padding-right');\n            }\n\n            return margin || '0px';\n          },\n          precision: function () {\n            var decimalPlaces,\n                step = module.get.step();\n\n            if (step != 0) {\n              var split = String(step).split('.');\n\n              if (split.length == 2) {\n                decimalPlaces = split[1].length;\n              } else {\n                decimalPlaces = 0;\n              }\n            } else {\n              decimalPlaces = settings.decimalPlaces;\n            }\n\n            var precision = Math.pow(10, decimalPlaces);\n            module.debug('Precision determined', precision);\n            return precision;\n          },\n          min: function () {\n            return settings.min;\n          },\n          max: function () {\n            var step = module.get.step(),\n                min = module.get.min(),\n                quotient = step === 0 ? 0 : Math.floor((settings.max - min) / step),\n                remainder = step === 0 ? 0 : (settings.max - min) % step;\n            return remainder === 0 ? settings.max : min + quotient * step;\n          },\n          step: function () {\n            return settings.step;\n          },\n          numLabels: function () {\n            var value = Math.round((module.get.max() - module.get.min()) / (module.get.step() === 0 ? 1 : module.get.step()));\n            module.debug('Determined that there should be ' + value + ' labels');\n            return value;\n          },\n          labelType: function () {\n            return settings.labelType;\n          },\n          label: function (value) {\n            if (interpretLabel) {\n              return interpretLabel(value);\n            }\n\n            switch (settings.labelType) {\n              case settings.labelTypes.number:\n                return Math.round((value * (module.get.step() === 0 ? 1 : module.get.step()) + module.get.min()) * precision) / precision;\n\n              case settings.labelTypes.letter:\n                return alphabet[value % 26];\n\n              default:\n                return value;\n            }\n          },\n          value: function () {\n            return value;\n          },\n          currentThumbValue: function () {\n            return $currThumb !== undefined && $currThumb.hasClass('second') ? module.secondThumbVal : module.thumbVal;\n          },\n          thumbValue: function (which) {\n            switch (which) {\n              case 'second':\n                if (module.is.range()) {\n                  return module.secondThumbVal;\n                } else {\n                  module.error(error.notrange);\n                  break;\n                }\n\n              case 'first':\n              default:\n                return module.thumbVal;\n            }\n          },\n          multiplier: function () {\n            return settings.pageMultiplier;\n          },\n          thumbPosition: function (which) {\n            switch (which) {\n              case 'second':\n                if (module.is.range()) {\n                  return secondPos;\n                } else {\n                  module.error(error.notrange);\n                  break;\n                }\n\n              case 'first':\n              default:\n                return position;\n            }\n          },\n          gapRatio: function () {\n            var gapRatio = 1;\n\n            if (settings.autoAdjustLabels) {\n              var numLabels = module.get.numLabels(),\n                  trackLength = module.get.trackLength(),\n                  gapCounter = 1; // While the distance between two labels is too short,\n              // we divide the number of labels at each iteration\n              // and apply only if the modulo of the operation is an odd number.\n\n              if (trackLength > 0) {\n                while (trackLength / numLabels * gapCounter < settings.labelDistance) {\n                  if (!(numLabels % gapCounter)) {\n                    gapRatio = gapCounter;\n                  }\n\n                  gapCounter += 1;\n                }\n              }\n            }\n\n            return gapRatio;\n          }\n        },\n        determine: {\n          pos: function (pagePos) {\n            return module.is.reversed() ? module.get.trackStartPos() - pagePos + module.get.trackOffset() : pagePos - module.get.trackOffset() - module.get.trackStartPos();\n          },\n          closestThumb: function (eventPos) {\n            var thumbPos = parseFloat(module.determine.thumbPos($thumb)),\n                thumbDelta = Math.abs(eventPos - thumbPos),\n                secondThumbPos = parseFloat(module.determine.thumbPos($secondThumb)),\n                secondThumbDelta = Math.abs(eventPos - secondThumbPos);\n\n            if (thumbDelta === secondThumbDelta && module.get.thumbValue() === module.get.min()) {\n              return $secondThumb;\n            }\n\n            return thumbDelta <= secondThumbDelta ? $thumb : $secondThumb;\n          },\n          closestThumbPos: function (eventPos) {\n            var thumbPos = parseFloat(module.determine.thumbPos($thumb)),\n                thumbDelta = Math.abs(eventPos - thumbPos),\n                secondThumbPos = parseFloat(module.determine.thumbPos($secondThumb)),\n                secondThumbDelta = Math.abs(eventPos - secondThumbPos);\n            return thumbDelta <= secondThumbDelta ? thumbPos : secondThumbPos;\n          },\n          thumbPos: function ($element) {\n            var pos = module.is.vertical() ? module.is.reversed() ? $element.css('bottom') : $element.css('top') : module.is.reversed() ? $element.css('right') : $element.css('left');\n            return pos;\n          },\n          positionFromValue: function (value) {\n            var min = module.get.min(),\n                max = module.get.max(),\n                value = value > max ? max : value < min ? min : value,\n                trackLength = module.get.trackLength(),\n                ratio = (value - min) / (max - min),\n                position = Math.round(ratio * trackLength);\n            module.verbose('Determined position: ' + position + ' from value: ' + value);\n            return position;\n          },\n          positionFromRatio: function (ratio) {\n            var trackLength = module.get.trackLength(),\n                step = module.get.step(),\n                position = Math.round(ratio * trackLength),\n                adjustedPos = step == 0 ? position : Math.round(position / step) * step;\n            return adjustedPos;\n          },\n          valueFromEvent: function (event) {\n            var eventPos = module.determine.eventPos(event),\n                newPos = module.determine.pos(eventPos),\n                value;\n\n            if (eventPos < module.get.trackOffset()) {\n              value = module.is.reversed() ? module.get.max() : module.get.min();\n            } else if (eventPos > module.get.trackOffset() + module.get.trackLength()) {\n              value = module.is.reversed() ? module.get.min() : module.get.max();\n            } else {\n              value = module.determine.value(newPos);\n            }\n\n            return value;\n          },\n          smoothValueFromEvent: function (event) {\n            var min = module.get.min(),\n                max = module.get.max(),\n                trackLength = module.get.trackLength(),\n                eventPos = module.determine.eventPos(event),\n                newPos = eventPos - module.get.trackOffset(),\n                ratio,\n                value;\n            newPos = newPos < 0 ? 0 : newPos > trackLength ? trackLength : newPos;\n            ratio = newPos / trackLength;\n\n            if (module.is.reversed()) {\n              ratio = 1 - ratio;\n            }\n\n            value = ratio * (max - min) + min;\n            return value;\n          },\n          eventPos: function (event) {\n            if (module.is.touch()) {\n              var touchEvent = event.changedTouches ? event : event.originalEvent,\n                  touches = touchEvent.changedTouches[0] ? touchEvent.changedTouches : touchEvent.touches,\n                  touchY = touches[0].pageY,\n                  touchX = touches[0].pageX;\n              return module.is.vertical() ? touchY : touchX;\n            }\n\n            var clickY = event.pageY || event.originalEvent.pageY,\n                clickX = event.pageX || event.originalEvent.pageX;\n            return module.is.vertical() ? clickY : clickX;\n          },\n          value: function (position) {\n            var startPos = module.is.reversed() ? module.get.trackEndPos() : module.get.trackStartPos(),\n                endPos = module.is.reversed() ? module.get.trackStartPos() : module.get.trackEndPos(),\n                ratio = (position - startPos) / (endPos - startPos),\n                range = module.get.max() - module.get.min(),\n                step = module.get.step(),\n                value = ratio * range,\n                difference = step == 0 ? value : Math.round(value / step) * step;\n            module.verbose('Determined value based upon position: ' + position + ' as: ' + value);\n\n            if (value != difference) {\n              module.verbose('Rounding value to closest step: ' + difference);\n            } // Use precision to avoid ugly Javascript floating point rounding issues\n            // (like 35 * .01 = 0.35000000000000003)\n\n\n            module.verbose('Cutting off additional decimal places');\n            return Math.round((difference + module.get.min()) * precision) / precision;\n          },\n          keyMovement: function (event) {\n            var key = event.which,\n                downArrow = module.is.vertical() ? module.is.reversed() ? keys.downArrow : keys.upArrow : keys.downArrow,\n                upArrow = module.is.vertical() ? module.is.reversed() ? keys.upArrow : keys.downArrow : keys.upArrow,\n                leftArrow = !module.is.vertical() ? module.is.reversed() ? keys.rightArrow : keys.leftArrow : keys.leftArrow,\n                rightArrow = !module.is.vertical() ? module.is.reversed() ? keys.leftArrow : keys.rightArrow : keys.rightArrow;\n\n            if (key == downArrow || key == leftArrow) {\n              return SINGLE_BACKSTEP;\n            } else if (key == upArrow || key == rightArrow) {\n              return SINGLE_STEP;\n            } else if (key == keys.pageDown) {\n              return BIG_BACKSTEP;\n            } else if (key == keys.pageUp) {\n              return BIG_STEP;\n            } else {\n              return NO_STEP;\n            }\n          }\n        },\n        handleNewValuePosition: function (val) {\n          var min = module.get.min(),\n              max = module.get.max(),\n              newPos;\n\n          if (val <= min) {\n            val = min;\n          } else if (val >= max) {\n            val = max;\n          }\n\n          newPos = module.determine.positionFromValue(val);\n          return newPos;\n        },\n        set: {\n          value: function (newValue, fireChange) {\n            fireChange = fireChange !== false;\n            var toReset = previousValue === undefined;\n            previousValue = previousValue === undefined ? module.get.value() : previousValue;\n            module.update.value(newValue, function (value, thumbVal, secondThumbVal) {\n              if ((!initialLoad || settings.fireOnInit) && fireChange) {\n                if (newValue !== previousValue) {\n                  settings.onChange.call(element, value, thumbVal, secondThumbVal);\n                }\n\n                settings.onMove.call(element, value, thumbVal, secondThumbVal);\n              }\n\n              if (toReset) {\n                previousValue = undefined;\n              }\n            });\n          },\n          rangeValue: function (first, second, fireChange) {\n            fireChange = fireChange !== false;\n\n            if (module.is.range()) {\n              var min = module.get.min(),\n                  max = module.get.max(),\n                  toReset = previousValue === undefined;\n              previousValue = previousValue === undefined ? module.get.value() : previousValue;\n\n              if (first <= min) {\n                first = min;\n              } else if (first >= max) {\n                first = max;\n              }\n\n              if (second <= min) {\n                second = min;\n              } else if (second >= max) {\n                second = max;\n              }\n\n              module.thumbVal = first;\n              module.secondThumbVal = second;\n              value = Math.abs(module.thumbVal - module.secondThumbVal);\n              module.update.position(module.thumbVal, $thumb);\n              module.update.position(module.secondThumbVal, $secondThumb);\n\n              if ((!initialLoad || settings.fireOnInit) && fireChange) {\n                if (value !== previousValue) {\n                  settings.onChange.call(element, value, module.thumbVal, module.secondThumbVal);\n                }\n\n                settings.onMove.call(element, value, module.thumbVal, module.secondThumbVal);\n              }\n\n              if (toReset) {\n                previousValue = undefined;\n              }\n            } else {\n              module.error(error.notrange);\n            }\n          },\n          position: function (position, which) {\n            var thumbVal = module.determine.value(position);\n\n            switch (which) {\n              case 'second':\n                module.secondThumbVal = thumbVal;\n                module.update.position(thumbVal, $secondThumb);\n                break;\n\n              default:\n                module.thumbVal = thumbVal;\n                module.update.position(thumbVal, $thumb);\n            }\n\n            value = Math.abs(module.thumbVal - (module.secondThumbVal || 0));\n            module.set.value(value);\n          }\n        },\n        update: {\n          value: function (newValue, callback) {\n            var min = module.get.min(),\n                max = module.get.max();\n\n            if (newValue <= min) {\n              newValue = min;\n            } else if (newValue >= max) {\n              newValue = max;\n            }\n\n            if (!module.is.range()) {\n              value = newValue;\n              module.thumbVal = value;\n            } else {\n              if ($currThumb === undefined) {\n                $currThumb = newValue <= module.get.currentThumbValue() ? $thumb : $secondThumb;\n              }\n\n              if (!$currThumb.hasClass('second')) {\n                if (settings.preventCrossover && module.is.range()) {\n                  newValue = Math.min(module.secondThumbVal, newValue);\n                }\n\n                module.thumbVal = newValue;\n              } else {\n                if (settings.preventCrossover && module.is.range()) {\n                  newValue = Math.max(module.thumbVal, newValue);\n                }\n\n                module.secondThumbVal = newValue;\n              }\n\n              value = Math.abs(module.thumbVal - module.secondThumbVal);\n            }\n\n            module.update.position(newValue);\n            module.debug('Setting slider value to ' + value);\n\n            if (typeof callback === 'function') {\n              callback(value, module.thumbVal, module.secondThumbVal);\n            }\n          },\n          position: function (newValue, $element) {\n            var newPos = module.handleNewValuePosition(newValue),\n                $targetThumb = $element != undefined ? $element : $currThumb,\n                thumbVal = module.thumbVal || module.get.min(),\n                secondThumbVal = module.secondThumbVal || module.get.min();\n\n            if (module.is.range()) {\n              if (!$targetThumb.hasClass('second')) {\n                position = newPos;\n                thumbVal = newValue;\n              } else {\n                secondPos = newPos;\n                secondThumbVal = newValue;\n              }\n            } else {\n              position = newPos;\n              thumbVal = newValue;\n            }\n\n            var trackPosValue,\n                thumbPosValue,\n                min = module.get.min(),\n                max = module.get.max(),\n                thumbPosPercent = 100 * (newValue - min) / (max - min),\n                trackStartPosPercent = 100 * (Math.min(thumbVal, secondThumbVal) - min) / (max - min),\n                trackEndPosPercent = 100 * (1 - (Math.max(thumbVal, secondThumbVal) - min) / (max - min));\n\n            if (module.is.vertical()) {\n              if (module.is.reversed()) {\n                thumbPosValue = {\n                  bottom: 'calc(' + thumbPosPercent + '% - ' + offset + 'px)',\n                  top: 'auto'\n                };\n                trackPosValue = {\n                  bottom: trackStartPosPercent + '%',\n                  top: trackEndPosPercent + '%'\n                };\n              } else {\n                thumbPosValue = {\n                  top: 'calc(' + thumbPosPercent + '% - ' + offset + 'px)',\n                  bottom: 'auto'\n                };\n                trackPosValue = {\n                  top: trackStartPosPercent + '%',\n                  bottom: trackEndPosPercent + '%'\n                };\n              }\n            } else {\n              if (module.is.reversed()) {\n                thumbPosValue = {\n                  right: 'calc(' + thumbPosPercent + '% - ' + offset + 'px)',\n                  left: 'auto'\n                };\n                trackPosValue = {\n                  right: trackStartPosPercent + '%',\n                  left: trackEndPosPercent + '%'\n                };\n              } else {\n                thumbPosValue = {\n                  left: 'calc(' + thumbPosPercent + '% - ' + offset + 'px)',\n                  right: 'auto'\n                };\n                trackPosValue = {\n                  left: trackStartPosPercent + '%',\n                  right: trackEndPosPercent + '%'\n                };\n              }\n            }\n\n            $targetThumb.css(thumbPosValue);\n            $trackFill.css(trackPosValue);\n            module.debug('Setting slider position to ' + newPos);\n          },\n          labelPosition: function (ratio, $label) {\n            var startMargin = module.get.trackStartMargin(),\n                endMargin = module.get.trackEndMargin(),\n                posDir = module.is.vertical() ? module.is.reversed() ? 'bottom' : 'top' : module.is.reversed() ? 'right' : 'left',\n                startMarginMod = module.is.reversed() && !module.is.vertical() ? ' - ' : ' + ';\n            var position = '(100% - ' + startMargin + ' - ' + endMargin + ') * ' + ratio;\n            $label.css(posDir, 'calc(' + position + startMarginMod + startMargin + ')');\n          }\n        },\n        goto: {\n          max: function () {\n            module.set.value(module.get.max());\n          },\n          min: function () {\n            module.set.value(module.get.min());\n          }\n        },\n        read: {\n          metadata: function () {\n            var data = {\n              thumbVal: $module.data(metadata.thumbVal),\n              secondThumbVal: $module.data(metadata.secondThumbVal)\n            };\n\n            if (data.thumbVal) {\n              if (module.is.range() && data.secondThumbVal) {\n                module.debug('Current value set from metadata', data.thumbVal, data.secondThumbVal);\n                module.set.rangeValue(data.thumbVal, data.secondThumbVal);\n              } else {\n                module.debug('Current value set from metadata', data.thumbVal);\n                module.set.value(data.thumbVal);\n              }\n            }\n          },\n          settings: function () {\n            if (settings.start !== false) {\n              if (module.is.range()) {\n                module.debug('Start position set from settings', settings.start, settings.end);\n                module.set.rangeValue(settings.start, settings.end);\n              } else {\n                module.debug('Start position set from settings', settings.start);\n                module.set.value(settings.start);\n              }\n            }\n          }\n        },\n        setting: function (name, value) {\n          module.debug('Changing setting', name, value);\n\n          if ($.isPlainObject(name)) {\n            $.extend(true, settings, name);\n          } else if (value !== undefined) {\n            if ($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            } else {\n              settings[name] = value;\n            }\n          } else {\n            return settings[name];\n          }\n        },\n        internal: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, module, name);\n          } else if (value !== undefined) {\n            module[name] = value;\n          } else {\n            return module[name];\n          }\n        },\n        debug: function () {\n          if (!settings.silent && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function () {\n          if (!settings.silent && settings.verbose && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function () {\n          if (!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function (message) {\n            var currentTime, executionTime, previousTime;\n\n            if (settings.performance) {\n              currentTime = new Date().getTime();\n              previousTime = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time = currentTime;\n              performance.push({\n                'Name': message[0],\n                'Arguments': [].slice.call(message, 1) || '',\n                'Element': element,\n                'Execution Time': executionTime\n              });\n            }\n\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function () {\n            var title = settings.name + ':',\n                totalTime = 0;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function (index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n\n            if (moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n\n            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n\n              if (console.table) {\n                console.table(performance);\n              } else {\n                $.each(performance, function (index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');\n                });\n              }\n\n              console.groupEnd();\n            }\n\n            performance = [];\n          }\n        },\n        invoke: function (query, passedArguments, context) {\n          var object = instance,\n              maxDepth,\n              found,\n              response;\n          passedArguments = passedArguments || queryArguments;\n          context = element || context;\n\n          if (typeof query == 'string' && object !== undefined) {\n            query = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function (depth, value) {\n              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;\n\n              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {\n                object = object[camelCaseValue];\n              } else if (object[camelCaseValue] !== undefined) {\n                found = object[camelCaseValue];\n                return false;\n              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {\n                object = object[value];\n              } else if (object[value] !== undefined) {\n                found = object[value];\n                return false;\n              } else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n\n          if ($.isFunction(found)) {\n            response = found.apply(context, passedArguments);\n          } else if (found !== undefined) {\n            response = found;\n          }\n\n          if ($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          } else if (returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          } else if (response !== undefined) {\n            returnedValue = response;\n          }\n\n          return found;\n        }\n      };\n\n      if (methodInvoked) {\n        if (instance === undefined) {\n          module.initialize();\n        }\n\n        module.invoke(query);\n      } else {\n        if (instance !== undefined) {\n          instance.invoke('destroy');\n        }\n\n        module.initialize();\n      }\n    });\n    return returnedValue !== undefined ? returnedValue : this;\n  };\n\n  $.fn.slider.settings = {\n    silent: false,\n    debug: false,\n    verbose: false,\n    performance: true,\n    name: 'Slider',\n    namespace: 'slider',\n    error: {\n      method: 'The method you called is not defined.',\n      notrange: 'This slider is not a range slider'\n    },\n    metadata: {\n      thumbVal: 'thumbVal',\n      secondThumbVal: 'secondThumbVal'\n    },\n    min: 0,\n    max: 20,\n    step: 1,\n    start: 0,\n    end: 20,\n    labelType: 'number',\n    showLabelTicks: false,\n    smooth: false,\n    autoAdjustLabels: true,\n    labelDistance: 100,\n    preventCrossover: true,\n    fireOnInit: false,\n    interpretLabel: false,\n    //the decimal place to round to if step is undefined\n    decimalPlaces: 2,\n    // page up/down multiplier. How many more times the steps to take on page up/down press\n    pageMultiplier: 2,\n    selector: {},\n    className: {\n      reversed: 'reversed',\n      disabled: 'disabled',\n      labeled: 'labeled',\n      ticked: 'ticked',\n      vertical: 'vertical',\n      range: 'range',\n      smooth: 'smooth'\n    },\n    keys: {\n      pageUp: 33,\n      pageDown: 34,\n      leftArrow: 37,\n      upArrow: 38,\n      rightArrow: 39,\n      downArrow: 40\n    },\n    labelTypes: {\n      number: 'number',\n      letter: 'letter'\n    },\n    onChange: function (value, thumbVal, secondThumbVal) {},\n    onMove: function (value, thumbVal, secondThumbVal) {}\n  };\n})(jQuery, window, document);\n/*!\n * # Fomantic-UI 2.8.8 - Rating\n * http://github.com/fomantic/Fomantic-UI/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n\n;\n\n(function ($, window, document, undefined) {\n  'use strict';\n\n  $.isFunction = $.isFunction || function (obj) {\n    return typeof obj === \"function\" && typeof obj.nodeType !== \"number\";\n  };\n\n  window = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\n\n  $.fn.rating = function (parameters) {\n    var $allModules = $(this),\n        moduleSelector = $allModules.selector || '',\n        time = new Date().getTime(),\n        performance = [],\n        query = arguments[0],\n        methodInvoked = typeof query == 'string',\n        queryArguments = [].slice.call(arguments, 1),\n        returnedValue;\n    $allModules.each(function () {\n      var settings = $.isPlainObject(parameters) ? $.extend(true, {}, $.fn.rating.settings, parameters) : $.extend({}, $.fn.rating.settings),\n          namespace = settings.namespace,\n          className = settings.className,\n          metadata = settings.metadata,\n          selector = settings.selector,\n          cssVars = settings.cssVars,\n          eventNamespace = '.' + namespace,\n          moduleNamespace = 'module-' + namespace,\n          element = this,\n          instance = $(this).data(moduleNamespace),\n          $module = $(this),\n          $icon = $module.find(selector.icon),\n          initialLoad,\n          module;\n      module = {\n        initialize: function () {\n          module.verbose('Initializing rating module', settings);\n\n          if ($icon.length === 0) {\n            module.setup.layout();\n          }\n\n          if (settings.interactive && !module.is.disabled()) {\n            module.enable();\n          } else {\n            module.disable();\n          }\n\n          module.set.initialLoad();\n          module.set.rating(module.get.initialRating());\n          module.remove.initialLoad();\n          module.instantiate();\n        },\n        instantiate: function () {\n          module.verbose('Instantiating module', settings);\n          instance = module;\n          $module.data(moduleNamespace, module);\n        },\n        destroy: function () {\n          module.verbose('Destroying previous instance', instance);\n          module.remove.events();\n          $module.removeData(moduleNamespace);\n        },\n        refresh: function () {\n          $icon = $module.find(selector.icon);\n        },\n        setup: {\n          layout: function () {\n            var maxRating = module.get.maxRating(),\n                icon = module.get.icon(),\n                html = $.fn.rating.settings.templates.icon(maxRating, icon);\n            module.debug('Generating icon html dynamically');\n            $module.html(html);\n            module.refresh();\n          }\n        },\n        event: {\n          mouseenter: function () {\n            var $activeIcon = $(this);\n            $activeIcon.nextAll().removeClass(className.selected);\n            $module.addClass(className.selected);\n            $activeIcon.addClass(className.selected).prevAll().addClass(className.selected);\n          },\n          mouseleave: function () {\n            $module.removeClass(className.selected);\n            $icon.removeClass(className.selected);\n          },\n          click: function () {\n            var $activeIcon = $(this),\n                currentRating = module.get.rating(),\n                rating = $icon.index($activeIcon) + 1,\n                canClear = settings.clearable == 'auto' ? $icon.length === 1 : settings.clearable;\n\n            if (canClear && currentRating == rating) {\n              module.clearRating();\n            } else {\n              module.set.rating(rating);\n            }\n          }\n        },\n        clearRating: function () {\n          module.debug('Clearing current rating');\n          module.set.rating(0);\n        },\n        bind: {\n          events: function () {\n            module.verbose('Binding events');\n            $module.on('mouseenter' + eventNamespace, selector.icon, module.event.mouseenter).on('mouseleave' + eventNamespace, selector.icon, module.event.mouseleave).on('click' + eventNamespace, selector.icon, module.event.click);\n          }\n        },\n        remove: {\n          events: function () {\n            module.verbose('Removing events');\n            $module.off(eventNamespace);\n          },\n          initialLoad: function () {\n            initialLoad = false;\n          }\n        },\n        enable: function () {\n          module.debug('Setting rating to interactive mode');\n          module.bind.events();\n          $module.removeClass(className.disabled);\n        },\n        disable: function () {\n          module.debug('Setting rating to read-only mode');\n          module.remove.events();\n          $module.addClass(className.disabled);\n        },\n        is: {\n          initialLoad: function () {\n            return initialLoad;\n          },\n          disabled: function () {\n            return $module.hasClass(className.disabled);\n          }\n        },\n        get: {\n          icon: function () {\n            var icon = $module.data(metadata.icon);\n\n            if (icon) {\n              $module.removeData(metadata.icon);\n            }\n\n            return icon || settings.icon;\n          },\n          initialRating: function () {\n            if ($module.data(metadata.rating) !== undefined) {\n              $module.removeData(metadata.rating);\n              return $module.data(metadata.rating);\n            }\n\n            return settings.initialRating;\n          },\n          maxRating: function () {\n            if ($module.data(metadata.maxRating) !== undefined) {\n              $module.removeData(metadata.maxRating);\n              return $module.data(metadata.maxRating);\n            }\n\n            return settings.maxRating;\n          },\n          rating: function () {\n            var currentRating = $icon.filter('.' + className.active).length;\n            module.verbose('Current rating retrieved', currentRating);\n            return currentRating;\n          }\n        },\n        set: {\n          rating: function (rating) {\n            var ratingIndex = Math.floor(rating - 1 >= 0 ? rating - 1 : 0),\n                $activeIcon = $icon.eq(ratingIndex),\n                $partialActiveIcon = rating <= 1 ? $activeIcon : $activeIcon.next(),\n                filledPercentage = rating % 1 * 100;\n            $module.removeClass(className.selected);\n            $icon.removeClass(className.selected).removeClass(className.active).removeClass(className.partiallyActive);\n\n            if (rating > 0) {\n              module.verbose('Setting current rating to', rating);\n              $activeIcon.prevAll().addBack().addClass(className.active);\n\n              if ($activeIcon.next() && rating % 1 !== 0) {\n                $partialActiveIcon.addClass(className.partiallyActive).addClass(className.active);\n                $partialActiveIcon.css(cssVars.filledCustomPropName, filledPercentage + '%');\n\n                if ($partialActiveIcon.css('backgroundColor') === 'transparent') {\n                  $partialActiveIcon.removeClass(className.partiallyActive).removeClass(className.active);\n                }\n              }\n            }\n\n            if (!module.is.initialLoad()) {\n              settings.onRate.call(element, rating);\n            }\n          },\n          initialLoad: function () {\n            initialLoad = true;\n          }\n        },\n        setting: function (name, value) {\n          module.debug('Changing setting', name, value);\n\n          if ($.isPlainObject(name)) {\n            $.extend(true, settings, name);\n          } else if (value !== undefined) {\n            if ($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            } else {\n              settings[name] = value;\n            }\n          } else {\n            return settings[name];\n          }\n        },\n        internal: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, module, name);\n          } else if (value !== undefined) {\n            module[name] = value;\n          } else {\n            return module[name];\n          }\n        },\n        debug: function () {\n          if (!settings.silent && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function () {\n          if (!settings.silent && settings.verbose && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function () {\n          if (!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function (message) {\n            var currentTime, executionTime, previousTime;\n\n            if (settings.performance) {\n              currentTime = new Date().getTime();\n              previousTime = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time = currentTime;\n              performance.push({\n                'Name': message[0],\n                'Arguments': [].slice.call(message, 1) || '',\n                'Element': element,\n                'Execution Time': executionTime\n              });\n            }\n\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function () {\n            var title = settings.name + ':',\n                totalTime = 0;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function (index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n\n            if (moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n\n            if ($allModules.length > 1) {\n              title += ' ' + '(' + $allModules.length + ')';\n            }\n\n            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n\n              if (console.table) {\n                console.table(performance);\n              } else {\n                $.each(performance, function (index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');\n                });\n              }\n\n              console.groupEnd();\n            }\n\n            performance = [];\n          }\n        },\n        invoke: function (query, passedArguments, context) {\n          var object = instance,\n              maxDepth,\n              found,\n              response;\n          passedArguments = passedArguments || queryArguments;\n          context = element || context;\n\n          if (typeof query == 'string' && object !== undefined) {\n            query = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function (depth, value) {\n              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;\n\n              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {\n                object = object[camelCaseValue];\n              } else if (object[camelCaseValue] !== undefined) {\n                found = object[camelCaseValue];\n                return false;\n              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {\n                object = object[value];\n              } else if (object[value] !== undefined) {\n                found = object[value];\n                return false;\n              } else {\n                return false;\n              }\n            });\n          }\n\n          if ($.isFunction(found)) {\n            response = found.apply(context, passedArguments);\n          } else if (found !== undefined) {\n            response = found;\n          }\n\n          if (Array.isArray(returnedValue)) {\n            returnedValue.push(response);\n          } else if (returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          } else if (response !== undefined) {\n            returnedValue = response;\n          }\n\n          return found;\n        }\n      };\n\n      if (methodInvoked) {\n        if (instance === undefined) {\n          module.initialize();\n        }\n\n        module.invoke(query);\n      } else {\n        if (instance !== undefined) {\n          instance.invoke('destroy');\n        }\n\n        module.initialize();\n      }\n    });\n    return returnedValue !== undefined ? returnedValue : this;\n  };\n\n  $.fn.rating.settings = {\n    name: 'Rating',\n    namespace: 'rating',\n    icon: 'star',\n    silent: false,\n    debug: false,\n    verbose: false,\n    performance: true,\n    initialRating: 0,\n    interactive: true,\n    maxRating: 4,\n    clearable: 'auto',\n    fireOnInit: false,\n    onRate: function (rating) {},\n    error: {\n      method: 'The method you called is not defined',\n      noMaximum: 'No maximum rating specified. Cannot generate HTML automatically'\n    },\n    metadata: {\n      rating: 'rating',\n      maxRating: 'maxRating',\n      icon: 'icon'\n    },\n    className: {\n      active: 'active',\n      disabled: 'disabled',\n      selected: 'selected',\n      loading: 'loading',\n      partiallyActive: 'partial'\n    },\n    cssVars: {\n      filledCustomPropName: '--full'\n    },\n    selector: {\n      icon: '.icon'\n    },\n    templates: {\n      icon: function (maxRating, iconClass) {\n        var icon = 1,\n            html = '';\n\n        while (icon <= maxRating) {\n          html += '<i class=\"' + iconClass + ' icon\"></i>';\n          icon++;\n        }\n\n        return html;\n      }\n    }\n  };\n})(jQuery, window, document);\n/*!\n * # Fomantic-UI 2.8.8 - Search\n * http://github.com/fomantic/Fomantic-UI/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n\n;\n\n(function ($, window, document, undefined) {\n  'use strict';\n\n  $.isFunction = $.isFunction || function (obj) {\n    return typeof obj === \"function\" && typeof obj.nodeType !== \"number\";\n  };\n\n  window = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\n\n  $.fn.search = function (parameters) {\n    var $allModules = $(this),\n        moduleSelector = $allModules.selector || '',\n        time = new Date().getTime(),\n        performance = [],\n        query = arguments[0],\n        methodInvoked = typeof query == 'string',\n        queryArguments = [].slice.call(arguments, 1),\n        returnedValue;\n    $(this).each(function () {\n      var settings = $.isPlainObject(parameters) ? $.extend(true, {}, $.fn.search.settings, parameters) : $.extend({}, $.fn.search.settings),\n          className = settings.className,\n          metadata = settings.metadata,\n          regExp = settings.regExp,\n          fields = settings.fields,\n          selector = settings.selector,\n          error = settings.error,\n          namespace = settings.namespace,\n          eventNamespace = '.' + namespace,\n          moduleNamespace = namespace + '-module',\n          $module = $(this),\n          $prompt = $module.find(selector.prompt),\n          $searchButton = $module.find(selector.searchButton),\n          $results = $module.find(selector.results),\n          $result = $module.find(selector.result),\n          $category = $module.find(selector.category),\n          element = this,\n          instance = $module.data(moduleNamespace),\n          disabledBubbled = false,\n          resultsDismissed = false,\n          module;\n      module = {\n        initialize: function () {\n          module.verbose('Initializing module');\n          module.get.settings();\n          module.determine.searchFields();\n          module.bind.events();\n          module.set.type();\n          module.create.results();\n          module.instantiate();\n        },\n        instantiate: function () {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module.data(moduleNamespace, module);\n        },\n        destroy: function () {\n          module.verbose('Destroying instance');\n          $module.off(eventNamespace).removeData(moduleNamespace);\n        },\n        refresh: function () {\n          module.debug('Refreshing selector cache');\n          $prompt = $module.find(selector.prompt);\n          $searchButton = $module.find(selector.searchButton);\n          $category = $module.find(selector.category);\n          $results = $module.find(selector.results);\n          $result = $module.find(selector.result);\n        },\n        refreshResults: function () {\n          $results = $module.find(selector.results);\n          $result = $module.find(selector.result);\n        },\n        bind: {\n          events: function () {\n            module.verbose('Binding events to search');\n\n            if (settings.automatic) {\n              $module.on(module.get.inputEvent() + eventNamespace, selector.prompt, module.event.input);\n              $prompt.attr('autocomplete', module.is.chrome() ? 'fomantic-search' : 'off');\n            }\n\n            $module // prompt\n            .on('focus' + eventNamespace, selector.prompt, module.event.focus).on('blur' + eventNamespace, selector.prompt, module.event.blur).on('keydown' + eventNamespace, selector.prompt, module.handleKeyboard) // search button\n            .on('click' + eventNamespace, selector.searchButton, module.query) // results\n            .on('mousedown' + eventNamespace, selector.results, module.event.result.mousedown).on('mouseup' + eventNamespace, selector.results, module.event.result.mouseup).on('click' + eventNamespace, selector.result, module.event.result.click);\n          }\n        },\n        determine: {\n          searchFields: function () {\n            // this makes sure $.extend does not add specified search fields to default fields\n            // this is the only setting which should not extend defaults\n            if (parameters && parameters.searchFields !== undefined) {\n              settings.searchFields = parameters.searchFields;\n            }\n          }\n        },\n        event: {\n          input: function () {\n            if (settings.searchDelay) {\n              clearTimeout(module.timer);\n              module.timer = setTimeout(function () {\n                if (module.is.focused()) {\n                  module.query();\n                }\n              }, settings.searchDelay);\n            } else {\n              module.query();\n            }\n          },\n          focus: function () {\n            module.set.focus();\n\n            if (settings.searchOnFocus && module.has.minimumCharacters()) {\n              module.query(function () {\n                if (module.can.show()) {\n                  module.showResults();\n                }\n              });\n            }\n          },\n          blur: function (event) {\n            var pageLostFocus = document.activeElement === this,\n                callback = function () {\n              module.cancel.query();\n              module.remove.focus();\n              module.timer = setTimeout(module.hideResults, settings.hideDelay);\n            };\n\n            if (pageLostFocus) {\n              return;\n            }\n\n            resultsDismissed = false;\n\n            if (module.resultsClicked) {\n              module.debug('Determining if user action caused search to close');\n              $module.one('click.close' + eventNamespace, selector.results, function (event) {\n                if (module.is.inMessage(event) || disabledBubbled) {\n                  $prompt.focus();\n                  return;\n                }\n\n                disabledBubbled = false;\n\n                if (!module.is.animating() && !module.is.hidden()) {\n                  callback();\n                }\n              });\n            } else {\n              module.debug('Input blurred without user action, closing results');\n              callback();\n            }\n          },\n          result: {\n            mousedown: function () {\n              module.resultsClicked = true;\n            },\n            mouseup: function () {\n              module.resultsClicked = false;\n            },\n            click: function (event) {\n              module.debug('Search result selected');\n              var $result = $(this),\n                  $title = $result.find(selector.title).eq(0),\n                  $link = $result.is('a[href]') ? $result : $result.find('a[href]').eq(0),\n                  href = $link.attr('href') || false,\n                  target = $link.attr('target') || false,\n                  // title is used for result lookup\n              value = $title.length > 0 ? $title.text() : false,\n                  results = module.get.results(),\n                  result = $result.data(metadata.result) || module.get.result(value, results);\n              var oldValue = module.get.value();\n\n              if ($.isFunction(settings.onSelect)) {\n                if (settings.onSelect.call(element, result, results) === false) {\n                  module.debug('Custom onSelect callback cancelled default select action');\n                  disabledBubbled = true;\n                  return;\n                }\n              }\n\n              module.hideResults();\n\n              if (value && module.get.value() === oldValue) {\n                module.set.value(value);\n              }\n\n              if (href) {\n                event.preventDefault();\n                module.verbose('Opening search link found in result', $link);\n\n                if (target == '_blank' || event.ctrlKey) {\n                  window.open(href);\n                } else {\n                  window.location.href = href;\n                }\n              }\n            }\n          }\n        },\n        ensureVisible: function ($el) {\n          var elTop, elBottom, resultsScrollTop, resultsHeight;\n\n          if ($el.length === 0) {\n            return;\n          }\n\n          elTop = $el.position().top;\n          elBottom = elTop + $el.outerHeight(true);\n          resultsScrollTop = $results.scrollTop();\n          resultsHeight = $results.height();\n\n          if (elTop < 0) {\n            $results.scrollTop(resultsScrollTop + elTop);\n          } else if (resultsHeight < elBottom) {\n            $results.scrollTop(resultsScrollTop + (elBottom - resultsHeight));\n          }\n        },\n        handleKeyboard: function (event) {\n          var // force selector refresh\n          $result = $module.find(selector.result),\n              $category = $module.find(selector.category),\n              $activeResult = $result.filter('.' + className.active),\n              currentIndex = $result.index($activeResult),\n              resultSize = $result.length,\n              hasActiveResult = $activeResult.length > 0,\n              keyCode = event.which,\n              keys = {\n            backspace: 8,\n            enter: 13,\n            escape: 27,\n            upArrow: 38,\n            downArrow: 40\n          },\n              newIndex; // search shortcuts\n\n          if (keyCode == keys.escape) {\n            module.verbose('Escape key pressed, blurring search field');\n            module.hideResults();\n            resultsDismissed = true;\n          }\n\n          if (module.is.visible()) {\n            if (keyCode == keys.enter) {\n              module.verbose('Enter key pressed, selecting active result');\n\n              if ($result.filter('.' + className.active).length > 0) {\n                module.event.result.click.call($result.filter('.' + className.active), event);\n                event.preventDefault();\n                return false;\n              }\n            } else if (keyCode == keys.upArrow && hasActiveResult) {\n              module.verbose('Up key pressed, changing active result');\n              newIndex = currentIndex - 1 < 0 ? currentIndex : currentIndex - 1;\n              $category.removeClass(className.active);\n              $result.removeClass(className.active).eq(newIndex).addClass(className.active).closest($category).addClass(className.active);\n              module.ensureVisible($result.eq(newIndex));\n              event.preventDefault();\n            } else if (keyCode == keys.downArrow) {\n              module.verbose('Down key pressed, changing active result');\n              newIndex = currentIndex + 1 >= resultSize ? currentIndex : currentIndex + 1;\n              $category.removeClass(className.active);\n              $result.removeClass(className.active).eq(newIndex).addClass(className.active).closest($category).addClass(className.active);\n              module.ensureVisible($result.eq(newIndex));\n              event.preventDefault();\n            }\n          } else {\n            // query shortcuts\n            if (keyCode == keys.enter) {\n              module.verbose('Enter key pressed, executing query');\n              module.query();\n              module.set.buttonPressed();\n              $prompt.one('keyup', module.remove.buttonFocus);\n            }\n          }\n        },\n        setup: {\n          api: function (searchTerm, callback) {\n            var apiSettings = {\n              debug: settings.debug,\n              on: false,\n              cache: settings.cache,\n              action: 'search',\n              urlData: {\n                query: searchTerm\n              },\n              onSuccess: function (response) {\n                module.parse.response.call(element, response, searchTerm);\n                callback();\n              },\n              onFailure: function () {\n                module.displayMessage(error.serverError);\n                callback();\n              },\n              onAbort: function (response) {},\n              onError: module.error\n            };\n            $.extend(true, apiSettings, settings.apiSettings);\n            module.verbose('Setting up API request', apiSettings);\n            $module.api(apiSettings);\n          }\n        },\n        can: {\n          useAPI: function () {\n            return $.fn.api !== undefined;\n          },\n          show: function () {\n            return module.is.focused() && !module.is.visible() && !module.is.empty();\n          },\n          transition: function () {\n            return settings.transition && $.fn.transition !== undefined && $module.transition('is supported');\n          }\n        },\n        is: {\n          animating: function () {\n            return $results.hasClass(className.animating);\n          },\n          chrome: function () {\n            return !!window.chrome && (!!window.chrome.webstore || !!window.chrome.runtime);\n          },\n          hidden: function () {\n            return $results.hasClass(className.hidden);\n          },\n          inMessage: function (event) {\n            if (!event.target) {\n              return;\n            }\n\n            var $target = $(event.target),\n                isInDOM = $.contains(document.documentElement, event.target);\n            return isInDOM && $target.closest(selector.message).length > 0;\n          },\n          empty: function () {\n            return $results.html() === '';\n          },\n          visible: function () {\n            return $results.filter(':visible').length > 0;\n          },\n          focused: function () {\n            return $prompt.filter(':focus').length > 0;\n          }\n        },\n        get: {\n          settings: function () {\n            if ($.isPlainObject(parameters) && parameters.searchFullText) {\n              settings.fullTextSearch = parameters.searchFullText;\n              module.error(settings.error.oldSearchSyntax, element);\n            }\n\n            if (settings.ignoreDiacritics && !String.prototype.normalize) {\n              settings.ignoreDiacritics = false;\n              module.error(error.noNormalize, element);\n            }\n          },\n          inputEvent: function () {\n            var prompt = $prompt[0],\n                inputEvent = prompt !== undefined && prompt.oninput !== undefined ? 'input' : prompt !== undefined && prompt.onpropertychange !== undefined ? 'propertychange' : 'keyup';\n            return inputEvent;\n          },\n          value: function () {\n            return $prompt.val();\n          },\n          results: function () {\n            var results = $module.data(metadata.results);\n            return results;\n          },\n          result: function (value, results) {\n            var result = false;\n            value = value !== undefined ? value : module.get.value();\n            results = results !== undefined ? results : module.get.results();\n\n            if (settings.type === 'category') {\n              module.debug('Finding result that matches', value);\n              $.each(results, function (index, category) {\n                if (Array.isArray(category.results)) {\n                  result = module.search.object(value, category.results)[0]; // don't continue searching if a result is found\n\n                  if (result) {\n                    return false;\n                  }\n                }\n              });\n            } else {\n              module.debug('Finding result in results object', value);\n              result = module.search.object(value, results)[0];\n            }\n\n            return result || false;\n          }\n        },\n        select: {\n          firstResult: function () {\n            module.verbose('Selecting first result');\n            $result.first().addClass(className.active);\n          }\n        },\n        set: {\n          focus: function () {\n            $module.addClass(className.focus);\n          },\n          loading: function () {\n            $module.addClass(className.loading);\n          },\n          value: function (value) {\n            module.verbose('Setting search input value', value);\n            $prompt.val(value);\n          },\n          type: function (type) {\n            type = type || settings.type;\n\n            if (settings.type == 'category') {\n              $module.addClass(settings.type);\n            }\n          },\n          buttonPressed: function () {\n            $searchButton.addClass(className.pressed);\n          }\n        },\n        remove: {\n          loading: function () {\n            $module.removeClass(className.loading);\n          },\n          focus: function () {\n            $module.removeClass(className.focus);\n          },\n          buttonPressed: function () {\n            $searchButton.removeClass(className.pressed);\n          },\n          diacritics: function (text) {\n            return settings.ignoreDiacritics ? text.normalize('NFD').replace(/[\\u0300-\\u036f]/g, '') : text;\n          }\n        },\n        query: function (callback) {\n          callback = $.isFunction(callback) ? callback : function () {};\n          var searchTerm = module.get.value(),\n              cache = module.read.cache(searchTerm);\n\n          callback = callback || function () {};\n\n          if (module.has.minimumCharacters()) {\n            if (cache) {\n              module.debug('Reading result from cache', searchTerm);\n              module.save.results(cache.results);\n              module.addResults(cache.html);\n              module.inject.id(cache.results);\n              callback();\n            } else {\n              module.debug('Querying for', searchTerm);\n\n              if ($.isPlainObject(settings.source) || Array.isArray(settings.source)) {\n                module.search.local(searchTerm);\n                callback();\n              } else if (module.can.useAPI()) {\n                module.search.remote(searchTerm, callback);\n              } else {\n                module.error(error.source);\n                callback();\n              }\n            }\n\n            settings.onSearchQuery.call(element, searchTerm);\n          } else {\n            module.hideResults();\n          }\n        },\n        search: {\n          local: function (searchTerm) {\n            var results = module.search.object(searchTerm, settings.source),\n                searchHTML;\n            module.set.loading();\n            module.save.results(results);\n            module.debug('Returned full local search results', results);\n\n            if (settings.maxResults > 0) {\n              module.debug('Using specified max results', results);\n              results = results.slice(0, settings.maxResults);\n            }\n\n            if (settings.type == 'category') {\n              results = module.create.categoryResults(results);\n            }\n\n            searchHTML = module.generateResults({\n              results: results\n            });\n            module.remove.loading();\n            module.addResults(searchHTML);\n            module.inject.id(results);\n            module.write.cache(searchTerm, {\n              html: searchHTML,\n              results: results\n            });\n          },\n          remote: function (searchTerm, callback) {\n            callback = $.isFunction(callback) ? callback : function () {};\n\n            if ($module.api('is loading')) {\n              $module.api('abort');\n            }\n\n            module.setup.api(searchTerm, callback);\n            $module.api('query');\n          },\n          object: function (searchTerm, source, searchFields) {\n            searchTerm = module.remove.diacritics(String(searchTerm));\n\n            var results = [],\n                exactResults = [],\n                fuzzyResults = [],\n                searchExp = searchTerm.replace(regExp.escape, '\\\\$&'),\n                matchRegExp = new RegExp(regExp.beginsWith + searchExp, 'i'),\n                // avoid duplicates when pushing results\n            addResult = function (array, result) {\n              var notResult = $.inArray(result, results) == -1,\n                  notFuzzyResult = $.inArray(result, fuzzyResults) == -1,\n                  notExactResults = $.inArray(result, exactResults) == -1;\n\n              if (notResult && notFuzzyResult && notExactResults) {\n                array.push(result);\n              }\n            };\n\n            source = source || settings.source;\n            searchFields = searchFields !== undefined ? searchFields : settings.searchFields; // search fields should be array to loop correctly\n\n            if (!Array.isArray(searchFields)) {\n              searchFields = [searchFields];\n            } // exit conditions if no source\n\n\n            if (source === undefined || source === false) {\n              module.error(error.source);\n              return [];\n            } // iterate through search fields looking for matches\n\n\n            $.each(searchFields, function (index, field) {\n              $.each(source, function (label, content) {\n                var fieldExists = typeof content[field] == 'string' || typeof content[field] == 'number';\n\n                if (fieldExists) {\n                  var text;\n\n                  if (typeof content[field] === 'string') {\n                    text = module.remove.diacritics(content[field]);\n                  } else {\n                    text = content[field].toString();\n                  }\n\n                  if (text.search(matchRegExp) !== -1) {\n                    // content starts with value (first in results)\n                    addResult(results, content);\n                  } else if (settings.fullTextSearch === 'exact' && module.exactSearch(searchTerm, text)) {\n                    // content fuzzy matches (last in results)\n                    addResult(exactResults, content);\n                  } else if (settings.fullTextSearch == true && module.fuzzySearch(searchTerm, text)) {\n                    // content fuzzy matches (last in results)\n                    addResult(fuzzyResults, content);\n                  }\n                }\n              });\n            });\n            $.merge(exactResults, fuzzyResults);\n            $.merge(results, exactResults);\n            return results;\n          }\n        },\n        exactSearch: function (query, term) {\n          query = query.toLowerCase();\n          term = term.toLowerCase();\n          return term.indexOf(query) > -1;\n        },\n        fuzzySearch: function (query, term) {\n          var termLength = term.length,\n              queryLength = query.length;\n\n          if (typeof query !== 'string') {\n            return false;\n          }\n\n          query = query.toLowerCase();\n          term = term.toLowerCase();\n\n          if (queryLength > termLength) {\n            return false;\n          }\n\n          if (queryLength === termLength) {\n            return query === term;\n          }\n\n          search: for (var characterIndex = 0, nextCharacterIndex = 0; characterIndex < queryLength; characterIndex++) {\n            var queryCharacter = query.charCodeAt(characterIndex);\n\n            while (nextCharacterIndex < termLength) {\n              if (term.charCodeAt(nextCharacterIndex++) === queryCharacter) {\n                continue search;\n              }\n            }\n\n            return false;\n          }\n\n          return true;\n        },\n        parse: {\n          response: function (response, searchTerm) {\n            if (Array.isArray(response)) {\n              var o = {};\n              o[fields.results] = response;\n              response = o;\n            }\n\n            var searchHTML = module.generateResults(response);\n            module.verbose('Parsing server response', response);\n\n            if (response !== undefined) {\n              if (searchTerm !== undefined && response[fields.results] !== undefined) {\n                module.addResults(searchHTML);\n                module.inject.id(response[fields.results]);\n                module.write.cache(searchTerm, {\n                  html: searchHTML,\n                  results: response[fields.results]\n                });\n                module.save.results(response[fields.results]);\n              }\n            }\n          }\n        },\n        cancel: {\n          query: function () {\n            if (module.can.useAPI()) {\n              $module.api('abort');\n            }\n          }\n        },\n        has: {\n          minimumCharacters: function () {\n            var searchTerm = module.get.value(),\n                numCharacters = searchTerm.length;\n            return numCharacters >= settings.minCharacters;\n          },\n          results: function () {\n            if ($results.length === 0) {\n              return false;\n            }\n\n            var html = $results.html();\n            return html != '';\n          }\n        },\n        clear: {\n          cache: function (value) {\n            var cache = $module.data(metadata.cache);\n\n            if (!value) {\n              module.debug('Clearing cache', value);\n              $module.removeData(metadata.cache);\n            } else if (value && cache && cache[value]) {\n              module.debug('Removing value from cache', value);\n              delete cache[value];\n              $module.data(metadata.cache, cache);\n            }\n          }\n        },\n        read: {\n          cache: function (name) {\n            var cache = $module.data(metadata.cache);\n\n            if (settings.cache) {\n              module.verbose('Checking cache for generated html for query', name);\n              return typeof cache == 'object' && cache[name] !== undefined ? cache[name] : false;\n            }\n\n            return false;\n          }\n        },\n        create: {\n          categoryResults: function (results) {\n            var categoryResults = {};\n            $.each(results, function (index, result) {\n              if (!result.category) {\n                return;\n              }\n\n              if (categoryResults[result.category] === undefined) {\n                module.verbose('Creating new category of results', result.category);\n                categoryResults[result.category] = {\n                  name: result.category,\n                  results: [result]\n                };\n              } else {\n                categoryResults[result.category].results.push(result);\n              }\n            });\n            return categoryResults;\n          },\n          id: function (resultIndex, categoryIndex) {\n            var resultID = resultIndex + 1,\n                // not zero indexed\n            letterID,\n                id;\n\n            if (categoryIndex !== undefined) {\n              // start char code for \"A\"\n              letterID = String.fromCharCode(97 + categoryIndex);\n              id = letterID + resultID;\n              module.verbose('Creating category result id', id);\n            } else {\n              id = resultID;\n              module.verbose('Creating result id', id);\n            }\n\n            return id;\n          },\n          results: function () {\n            if ($results.length === 0) {\n              $results = $('<div />').addClass(className.results).appendTo($module);\n            }\n          }\n        },\n        inject: {\n          result: function (result, resultIndex, categoryIndex) {\n            module.verbose('Injecting result into results');\n            var $selectedResult = categoryIndex !== undefined ? $results.children().eq(categoryIndex).children(selector.results).first().children(selector.result).eq(resultIndex) : $results.children(selector.result).eq(resultIndex);\n            module.verbose('Injecting results metadata', $selectedResult);\n            $selectedResult.data(metadata.result, result);\n          },\n          id: function (results) {\n            module.debug('Injecting unique ids into results');\n            var // since results may be object, we must use counters\n            categoryIndex = 0,\n                resultIndex = 0;\n\n            if (settings.type === 'category') {\n              // iterate through each category result\n              $.each(results, function (index, category) {\n                if (category.results.length > 0) {\n                  resultIndex = 0;\n                  $.each(category.results, function (index, result) {\n                    if (result.id === undefined) {\n                      result.id = module.create.id(resultIndex, categoryIndex);\n                    }\n\n                    module.inject.result(result, resultIndex, categoryIndex);\n                    resultIndex++;\n                  });\n                  categoryIndex++;\n                }\n              });\n            } else {\n              // top level\n              $.each(results, function (index, result) {\n                if (result.id === undefined) {\n                  result.id = module.create.id(resultIndex);\n                }\n\n                module.inject.result(result, resultIndex);\n                resultIndex++;\n              });\n            }\n\n            return results;\n          }\n        },\n        save: {\n          results: function (results) {\n            module.verbose('Saving current search results to metadata', results);\n            $module.data(metadata.results, results);\n          }\n        },\n        write: {\n          cache: function (name, value) {\n            var cache = $module.data(metadata.cache) !== undefined ? $module.data(metadata.cache) : {};\n\n            if (settings.cache) {\n              module.verbose('Writing generated html to cache', name, value);\n              cache[name] = value;\n              $module.data(metadata.cache, cache);\n            }\n          }\n        },\n        addResults: function (html) {\n          if ($.isFunction(settings.onResultsAdd)) {\n            if (settings.onResultsAdd.call($results, html) === false) {\n              module.debug('onResultsAdd callback cancelled default action');\n              return false;\n            }\n          }\n\n          if (html) {\n            $results.html(html);\n            module.refreshResults();\n\n            if (settings.selectFirstResult) {\n              module.select.firstResult();\n            }\n\n            module.showResults();\n          } else {\n            module.hideResults(function () {\n              $results.empty();\n            });\n          }\n        },\n        showResults: function (callback) {\n          callback = $.isFunction(callback) ? callback : function () {};\n\n          if (resultsDismissed) {\n            return;\n          }\n\n          if (!module.is.visible() && module.has.results()) {\n            if (module.can.transition()) {\n              module.debug('Showing results with css animations');\n              $results.transition({\n                animation: settings.transition + ' in',\n                debug: settings.debug,\n                verbose: settings.verbose,\n                duration: settings.duration,\n                onShow: function () {\n                  var $firstResult = $module.find(selector.result).eq(0);\n                  module.ensureVisible($firstResult);\n                },\n                onComplete: function () {\n                  callback();\n                },\n                queue: true\n              });\n            } else {\n              module.debug('Showing results with javascript');\n              $results.stop().fadeIn(settings.duration, settings.easing);\n            }\n\n            settings.onResultsOpen.call($results);\n          }\n        },\n        hideResults: function (callback) {\n          callback = $.isFunction(callback) ? callback : function () {};\n\n          if (module.is.visible()) {\n            if (module.can.transition()) {\n              module.debug('Hiding results with css animations');\n              $results.transition({\n                animation: settings.transition + ' out',\n                debug: settings.debug,\n                verbose: settings.verbose,\n                duration: settings.duration,\n                onComplete: function () {\n                  callback();\n                },\n                queue: true\n              });\n            } else {\n              module.debug('Hiding results with javascript');\n              $results.stop().fadeOut(settings.duration, settings.easing);\n            }\n\n            settings.onResultsClose.call($results);\n          }\n        },\n        generateResults: function (response) {\n          module.debug('Generating html from response', response);\n          var template = settings.templates[settings.type],\n              isProperObject = $.isPlainObject(response[fields.results]) && !$.isEmptyObject(response[fields.results]),\n              isProperArray = Array.isArray(response[fields.results]) && response[fields.results].length > 0,\n              html = '';\n\n          if (isProperObject || isProperArray) {\n            if (settings.maxResults > 0) {\n              if (isProperObject) {\n                if (settings.type == 'standard') {\n                  module.error(error.maxResults);\n                }\n              } else {\n                response[fields.results] = response[fields.results].slice(0, settings.maxResults);\n              }\n            }\n\n            if ($.isFunction(template)) {\n              html = template(response, fields, settings.preserveHTML);\n            } else {\n              module.error(error.noTemplate, false);\n            }\n          } else if (settings.showNoResults) {\n            html = module.displayMessage(error.noResults, 'empty', error.noResultsHeader);\n          }\n\n          settings.onResults.call(element, response);\n          return html;\n        },\n        displayMessage: function (text, type, header) {\n          type = type || 'standard';\n          module.debug('Displaying message', text, type, header);\n          module.addResults(settings.templates.message(text, type, header));\n          return settings.templates.message(text, type, header);\n        },\n        setting: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, settings, name);\n          } else if (value !== undefined) {\n            settings[name] = value;\n          } else {\n            return settings[name];\n          }\n        },\n        internal: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, module, name);\n          } else if (value !== undefined) {\n            module[name] = value;\n          } else {\n            return module[name];\n          }\n        },\n        debug: function () {\n          if (!settings.silent && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function () {\n          if (!settings.silent && settings.verbose && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function () {\n          if (!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function (message) {\n            var currentTime, executionTime, previousTime;\n\n            if (settings.performance) {\n              currentTime = new Date().getTime();\n              previousTime = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time = currentTime;\n              performance.push({\n                'Name': message[0],\n                'Arguments': [].slice.call(message, 1) || '',\n                'Element': element,\n                'Execution Time': executionTime\n              });\n            }\n\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function () {\n            var title = settings.name + ':',\n                totalTime = 0;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function (index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n\n            if (moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n\n            if ($allModules.length > 1) {\n              title += ' ' + '(' + $allModules.length + ')';\n            }\n\n            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n\n              if (console.table) {\n                console.table(performance);\n              } else {\n                $.each(performance, function (index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');\n                });\n              }\n\n              console.groupEnd();\n            }\n\n            performance = [];\n          }\n        },\n        invoke: function (query, passedArguments, context) {\n          var object = instance,\n              maxDepth,\n              found,\n              response;\n          passedArguments = passedArguments || queryArguments;\n          context = element || context;\n\n          if (typeof query == 'string' && object !== undefined) {\n            query = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function (depth, value) {\n              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;\n\n              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {\n                object = object[camelCaseValue];\n              } else if (object[camelCaseValue] !== undefined) {\n                found = object[camelCaseValue];\n                return false;\n              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {\n                object = object[value];\n              } else if (object[value] !== undefined) {\n                found = object[value];\n                return false;\n              } else {\n                return false;\n              }\n            });\n          }\n\n          if ($.isFunction(found)) {\n            response = found.apply(context, passedArguments);\n          } else if (found !== undefined) {\n            response = found;\n          }\n\n          if (Array.isArray(returnedValue)) {\n            returnedValue.push(response);\n          } else if (returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          } else if (response !== undefined) {\n            returnedValue = response;\n          }\n\n          return found;\n        }\n      };\n\n      if (methodInvoked) {\n        if (instance === undefined) {\n          module.initialize();\n        }\n\n        module.invoke(query);\n      } else {\n        if (instance !== undefined) {\n          instance.invoke('destroy');\n        }\n\n        module.initialize();\n      }\n    });\n    return returnedValue !== undefined ? returnedValue : this;\n  };\n\n  $.fn.search.settings = {\n    name: 'Search',\n    namespace: 'search',\n    silent: false,\n    debug: false,\n    verbose: false,\n    performance: true,\n    // template to use (specified in settings.templates)\n    type: 'standard',\n    // minimum characters required to search\n    minCharacters: 1,\n    // whether to select first result after searching automatically\n    selectFirstResult: false,\n    // API config\n    apiSettings: false,\n    // object to search\n    source: false,\n    // Whether search should query current term on focus\n    searchOnFocus: true,\n    // fields to search\n    searchFields: ['id', 'title', 'description'],\n    // field to display in standard results template\n    displayField: '',\n    // search anywhere in value (set to 'exact' to require exact matches\n    fullTextSearch: 'exact',\n    // match results also if they contain diacritics of the same base character (for example searching for \"a\" will also match \"\" or \"\" or \"\", etc...)\n    ignoreDiacritics: false,\n    // whether to add events to prompt automatically\n    automatic: true,\n    // delay before hiding menu after blur\n    hideDelay: 0,\n    // delay before searching\n    searchDelay: 200,\n    // maximum results returned from search\n    maxResults: 7,\n    // whether to store lookups in local cache\n    cache: true,\n    // whether no results errors should be shown\n    showNoResults: true,\n    // preserve possible html of resultset values\n    preserveHTML: true,\n    // transition settings\n    transition: 'scale',\n    duration: 200,\n    easing: 'easeOutExpo',\n    // callbacks\n    onSelect: false,\n    onResultsAdd: false,\n    onSearchQuery: function (query) {},\n    onResults: function (response) {},\n    onResultsOpen: function () {},\n    onResultsClose: function () {},\n    className: {\n      animating: 'animating',\n      active: 'active',\n      empty: 'empty',\n      focus: 'focus',\n      hidden: 'hidden',\n      loading: 'loading',\n      results: 'results',\n      pressed: 'down'\n    },\n    error: {\n      source: 'Cannot search. No source used, and Semantic API module was not included',\n      noResultsHeader: 'No Results',\n      noResults: 'Your search returned no results',\n      logging: 'Error in debug logging, exiting.',\n      noEndpoint: 'No search endpoint was specified',\n      noTemplate: 'A valid template name was not specified.',\n      oldSearchSyntax: 'searchFullText setting has been renamed fullTextSearch for consistency, please adjust your settings.',\n      serverError: 'There was an issue querying the server.',\n      maxResults: 'Results must be an array to use maxResults setting',\n      method: 'The method you called is not defined.',\n      noNormalize: '\"ignoreDiacritics\" setting will be ignored. Browser does not support String().normalize(). You may consider including <https://cdn.jsdelivr.net/npm/unorm@1.4.1/lib/unorm.min.js> as a polyfill.'\n    },\n    metadata: {\n      cache: 'cache',\n      results: 'results',\n      result: 'result'\n    },\n    regExp: {\n      escape: /[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g,\n      beginsWith: '(?:\\s|^)'\n    },\n    // maps api response attributes to internal representation\n    fields: {\n      categories: 'results',\n      // array of categories (category view)\n      categoryName: 'name',\n      // name of category (category view)\n      categoryResults: 'results',\n      // array of results (category view)\n      description: 'description',\n      // result description\n      image: 'image',\n      // result image\n      price: 'price',\n      // result price\n      results: 'results',\n      // array of results (standard)\n      title: 'title',\n      // result title\n      url: 'url',\n      // result url\n      action: 'action',\n      // \"view more\" object name\n      actionText: 'text',\n      // \"view more\" text\n      actionURL: 'url' // \"view more\" url\n\n    },\n    selector: {\n      prompt: '.prompt',\n      searchButton: '.search.button',\n      results: '.results',\n      message: '.results > .message',\n      category: '.category',\n      result: '.result',\n      title: '.title, .name'\n    },\n    templates: {\n      escape: function (string, preserveHTML) {\n        if (preserveHTML) {\n          return string;\n        }\n\n        var badChars = /[<>\"'`]/g,\n            shouldEscape = /[&<>\"'`]/,\n            escape = {\n          \"<\": \"&lt;\",\n          \">\": \"&gt;\",\n          '\"': \"&quot;\",\n          \"'\": \"&#x27;\",\n          \"`\": \"&#x60;\"\n        },\n            escapedChar = function (chr) {\n          return escape[chr];\n        };\n\n        if (shouldEscape.test(string)) {\n          string = string.replace(/&(?![a-z0-9#]{1,6};)/, \"&amp;\");\n          return string.replace(badChars, escapedChar);\n        }\n\n        return string;\n      },\n      message: function (message, type, header) {\n        var html = '';\n\n        if (message !== undefined && type !== undefined) {\n          html += '' + '<div class=\"message ' + type + '\">';\n\n          if (header) {\n            html += '' + '<div class=\"header\">' + header + '</div>';\n          }\n\n          html += ' <div class=\"description\">' + message + '</div>';\n          html += '</div>';\n        }\n\n        return html;\n      },\n      category: function (response, fields, preserveHTML) {\n        var html = '',\n            escape = $.fn.search.settings.templates.escape;\n\n        if (response[fields.categoryResults] !== undefined) {\n          // each category\n          $.each(response[fields.categoryResults], function (index, category) {\n            if (category[fields.results] !== undefined && category.results.length > 0) {\n              html += '<div class=\"category\">';\n\n              if (category[fields.categoryName] !== undefined) {\n                html += '<div class=\"name\">' + escape(category[fields.categoryName], preserveHTML) + '</div>';\n              } // each item inside category\n\n\n              html += '<div class=\"results\">';\n              $.each(category.results, function (index, result) {\n                if (result[fields.url]) {\n                  html += '<a class=\"result\" href=\"' + result[fields.url].replace(/\"/g, \"\") + '\">';\n                } else {\n                  html += '<a class=\"result\">';\n                }\n\n                if (result[fields.image] !== undefined) {\n                  html += '' + '<div class=\"image\">' + ' <img src=\"' + result[fields.image].replace(/\"/g, \"\") + '\">' + '</div>';\n                }\n\n                html += '<div class=\"content\">';\n\n                if (result[fields.price] !== undefined) {\n                  html += '<div class=\"price\">' + escape(result[fields.price], preserveHTML) + '</div>';\n                }\n\n                if (result[fields.title] !== undefined) {\n                  html += '<div class=\"title\">' + escape(result[fields.title], preserveHTML) + '</div>';\n                }\n\n                if (result[fields.description] !== undefined) {\n                  html += '<div class=\"description\">' + escape(result[fields.description], preserveHTML) + '</div>';\n                }\n\n                html += '' + '</div>';\n                html += '</a>';\n              });\n              html += '</div>';\n              html += '' + '</div>';\n            }\n          });\n\n          if (response[fields.action]) {\n            if (fields.actionURL === false) {\n              html += '' + '<div class=\"action\">' + escape(response[fields.action][fields.actionText], preserveHTML) + '</div>';\n            } else {\n              html += '' + '<a href=\"' + response[fields.action][fields.actionURL].replace(/\"/g, \"\") + '\" class=\"action\">' + escape(response[fields.action][fields.actionText], preserveHTML) + '</a>';\n            }\n          }\n\n          return html;\n        }\n\n        return false;\n      },\n      standard: function (response, fields, preserveHTML) {\n        var html = '',\n            escape = $.fn.search.settings.templates.escape;\n\n        if (response[fields.results] !== undefined) {\n          // each result\n          $.each(response[fields.results], function (index, result) {\n            if (result[fields.url]) {\n              html += '<a class=\"result\" href=\"' + result[fields.url].replace(/\"/g, \"\") + '\">';\n            } else {\n              html += '<a class=\"result\">';\n            }\n\n            if (result[fields.image] !== undefined) {\n              html += '' + '<div class=\"image\">' + ' <img src=\"' + result[fields.image].replace(/\"/g, \"\") + '\">' + '</div>';\n            }\n\n            html += '<div class=\"content\">';\n\n            if (result[fields.price] !== undefined) {\n              html += '<div class=\"price\">' + escape(result[fields.price], preserveHTML) + '</div>';\n            }\n\n            if (result[fields.title] !== undefined) {\n              html += '<div class=\"title\">' + escape(result[fields.title], preserveHTML) + '</div>';\n            }\n\n            if (result[fields.description] !== undefined) {\n              html += '<div class=\"description\">' + escape(result[fields.description], preserveHTML) + '</div>';\n            }\n\n            html += '' + '</div>';\n            html += '</a>';\n          });\n\n          if (response[fields.action]) {\n            if (fields.actionURL === false) {\n              html += '' + '<div class=\"action\">' + escape(response[fields.action][fields.actionText], preserveHTML) + '</div>';\n            } else {\n              html += '' + '<a href=\"' + response[fields.action][fields.actionURL].replace(/\"/g, \"\") + '\" class=\"action\">' + escape(response[fields.action][fields.actionText], preserveHTML) + '</a>';\n            }\n          }\n\n          return html;\n        }\n\n        return false;\n      }\n    }\n  };\n})(jQuery, window, document);\n/*!\n * # Fomantic-UI 2.8.8 - Shape\n * http://github.com/fomantic/Fomantic-UI/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n\n;\n\n(function ($, window, document, undefined) {\n  'use strict';\n\n  $.isFunction = $.isFunction || function (obj) {\n    return typeof obj === \"function\" && typeof obj.nodeType !== \"number\";\n  };\n\n  window = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\n\n  $.fn.shape = function (parameters) {\n    var $allModules = $(this),\n        time = new Date().getTime(),\n        performance = [],\n        query = arguments[0],\n        methodInvoked = typeof query == 'string',\n        queryArguments = [].slice.call(arguments, 1),\n        requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || function (callback) {\n      setTimeout(callback, 0);\n    },\n        returnedValue;\n\n    $allModules.each(function () {\n      var moduleSelector = $allModules.selector || '',\n          settings = $.isPlainObject(parameters) ? $.extend(true, {}, $.fn.shape.settings, parameters) : $.extend({}, $.fn.shape.settings),\n          // internal aliases\n      namespace = settings.namespace,\n          selector = settings.selector,\n          error = settings.error,\n          className = settings.className,\n          // define namespaces for modules\n      eventNamespace = '.' + namespace,\n          moduleNamespace = 'module-' + namespace,\n          // selector cache\n      $module = $(this),\n          $sides = $module.find('>' + selector.sides),\n          $side = $sides.find('>' + selector.side),\n          // private variables\n      nextIndex = false,\n          $activeSide,\n          $nextSide,\n          // standard module\n      element = this,\n          instance = $module.data(moduleNamespace),\n          module;\n      module = {\n        initialize: function () {\n          module.verbose('Initializing module for', element);\n          module.set.defaultSide();\n          module.instantiate();\n        },\n        instantiate: function () {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module.data(moduleNamespace, instance);\n        },\n        destroy: function () {\n          module.verbose('Destroying previous module for', element);\n          $module.removeData(moduleNamespace).off(eventNamespace);\n        },\n        refresh: function () {\n          module.verbose('Refreshing selector cache for', element);\n          $module = $(element);\n          $sides = $(this).find(selector.sides);\n          $side = $(this).find(selector.side);\n        },\n        repaint: function () {\n          module.verbose('Forcing repaint event');\n          var shape = $sides[0] || document.createElement('div'),\n              fakeAssignment = shape.offsetWidth;\n        },\n        animate: function (propertyObject, callback) {\n          module.verbose('Animating box with properties', propertyObject);\n\n          callback = callback || function (event) {\n            module.verbose('Executing animation callback');\n\n            if (event !== undefined) {\n              event.stopPropagation();\n            }\n\n            module.reset();\n            module.set.active();\n          };\n\n          settings.beforeChange.call($nextSide[0]);\n\n          if (module.get.transitionEvent()) {\n            module.verbose('Starting CSS animation');\n            $module.addClass(className.animating);\n            $sides.css(propertyObject).one(module.get.transitionEvent(), callback);\n            module.set.duration(settings.duration);\n            requestAnimationFrame(function () {\n              $module.addClass(className.animating);\n              $activeSide.addClass(className.hidden);\n            });\n          } else {\n            callback();\n          }\n        },\n        queue: function (method) {\n          module.debug('Queueing animation of', method);\n          $sides.one(module.get.transitionEvent(), function () {\n            module.debug('Executing queued animation');\n            setTimeout(function () {\n              $module.shape(method);\n            }, 0);\n          });\n        },\n        reset: function () {\n          module.verbose('Animating states reset');\n          $module.removeClass(className.animating).attr('style', '').removeAttr('style'); // removeAttr style does not consistently work in safari\n\n          $sides.attr('style', '').removeAttr('style');\n          $side.attr('style', '').removeAttr('style').removeClass(className.hidden);\n          $nextSide.removeClass(className.animating).attr('style', '').removeAttr('style');\n        },\n        is: {\n          complete: function () {\n            return $side.filter('.' + className.active)[0] == $nextSide[0];\n          },\n          animating: function () {\n            return $module.hasClass(className.animating);\n          },\n          hidden: function () {\n            return $module.closest(':hidden').length > 0;\n          }\n        },\n        set: {\n          defaultSide: function () {\n            $activeSide = $side.filter('.' + settings.className.active);\n            $nextSide = $activeSide.next(selector.side).length > 0 ? $activeSide.next(selector.side) : $side.first();\n            nextIndex = false;\n            module.verbose('Active side set to', $activeSide);\n            module.verbose('Next side set to', $nextSide);\n          },\n          duration: function (duration) {\n            duration = duration || settings.duration;\n            duration = typeof duration == 'number' ? duration + 'ms' : duration;\n            module.verbose('Setting animation duration', duration);\n\n            if (settings.duration || settings.duration === 0) {\n              $sides.add($side).css({\n                '-webkit-transition-duration': duration,\n                '-moz-transition-duration': duration,\n                '-ms-transition-duration': duration,\n                '-o-transition-duration': duration,\n                'transition-duration': duration\n              });\n            }\n          },\n          currentStageSize: function () {\n            var $activeSide = $side.filter('.' + settings.className.active),\n                width = $activeSide.outerWidth(true),\n                height = $activeSide.outerHeight(true);\n            $module.css({\n              width: width,\n              height: height\n            });\n          },\n          stageSize: function () {\n            var $clone = $module.clone().addClass(className.loading),\n                $side = $clone.find('>' + selector.sides + '>' + selector.side),\n                $activeSide = $side.filter('.' + settings.className.active),\n                $nextSide = nextIndex ? $side.eq(nextIndex) : $activeSide.next(selector.side).length > 0 ? $activeSide.next(selector.side) : $side.first(),\n                newWidth = settings.width === 'next' ? $nextSide.outerWidth(true) : settings.width === 'initial' ? $module.width() : settings.width,\n                newHeight = settings.height === 'next' ? $nextSide.outerHeight(true) : settings.height === 'initial' ? $module.height() : settings.height;\n            $activeSide.removeClass(className.active);\n            $nextSide.addClass(className.active);\n            $clone.insertAfter($module);\n            $clone.remove();\n\n            if (settings.width !== 'auto') {\n              $module.css('width', newWidth + settings.jitter);\n              module.verbose('Specifying width during animation', newWidth);\n            }\n\n            if (settings.height !== 'auto') {\n              $module.css('height', newHeight + settings.jitter);\n              module.verbose('Specifying height during animation', newHeight);\n            }\n          },\n          nextSide: function (selector) {\n            nextIndex = selector;\n            $nextSide = $side.filter(selector);\n            nextIndex = $side.index($nextSide);\n\n            if ($nextSide.length === 0) {\n              module.set.defaultSide();\n              module.error(error.side);\n            }\n\n            module.verbose('Next side manually set to', $nextSide);\n          },\n          active: function () {\n            module.verbose('Setting new side to active', $nextSide);\n            $side.removeClass(className.active);\n            $nextSide.addClass(className.active);\n            settings.onChange.call($nextSide[0]);\n            module.set.defaultSide();\n          }\n        },\n        flip: {\n          to: function (type, stage) {\n            if (module.is.hidden()) {\n              module.debug('Module not visible', $nextSide);\n              return;\n            }\n\n            if (module.is.complete() && !module.is.animating() && !settings.allowRepeats) {\n              module.debug('Side already visible', $nextSide);\n              return;\n            }\n\n            var transform = module.get.transform[type]();\n\n            if (!module.is.animating()) {\n              module.debug('Flipping ' + type, $nextSide);\n              module.set.stageSize();\n              module.stage[stage]();\n              module.animate(transform);\n            } else {\n              module.queue('flip ' + type);\n            }\n          },\n          up: function () {\n            module.flip.to('up', 'above');\n          },\n          down: function () {\n            module.flip.to('down', 'below');\n          },\n          left: function () {\n            module.flip.to('left', 'left');\n          },\n          right: function () {\n            module.flip.to('right', 'right');\n          },\n          over: function () {\n            module.flip.to('over', 'behind');\n          },\n          back: function () {\n            module.flip.to('back', 'behind');\n          }\n        },\n        get: {\n          transform: {\n            up: function () {\n              var translateZ = $activeSide.outerHeight(true) / 2,\n                  translateY = $nextSide.outerHeight(true) - translateZ;\n              return {\n                transform: 'translateY(' + translateY + 'px) translateZ(-' + translateZ + 'px) rotateX(-90deg)'\n              };\n            },\n            down: function () {\n              var translate = {\n                z: $activeSide.outerHeight(true) / 2\n              };\n              return {\n                transform: 'translateY(-' + translate.z + 'px) translateZ(-' + translate.z + 'px) rotateX(90deg)'\n              };\n            },\n            left: function () {\n              var translateZ = $activeSide.outerWidth(true) / 2,\n                  translateX = $nextSide.outerWidth(true) - translateZ;\n              return {\n                transform: 'translateX(' + translateX + 'px) translateZ(-' + translateZ + 'px) rotateY(90deg)'\n              };\n            },\n            right: function () {\n              var translate = {\n                z: $activeSide.outerWidth(true) / 2\n              };\n              return {\n                transform: 'translateX(-' + translate.z + 'px) translateZ(-' + translate.z + 'px) rotateY(-90deg)'\n              };\n            },\n            over: function () {\n              var translate = {\n                x: -(($activeSide.outerWidth(true) - $nextSide.outerWidth(true)) / 2)\n              };\n              return {\n                transform: 'translateX(' + translate.x + 'px) rotateY(180deg)'\n              };\n            },\n            back: function () {\n              var translate = {\n                x: -(($activeSide.outerWidth(true) - $nextSide.outerWidth(true)) / 2)\n              };\n              return {\n                transform: 'translateX(' + translate.x + 'px) rotateY(-180deg)'\n              };\n            }\n          },\n          transitionEvent: function () {\n            var element = document.createElement('element'),\n                transitions = {\n              'transition': 'transitionend',\n              'OTransition': 'oTransitionEnd',\n              'MozTransition': 'transitionend',\n              'WebkitTransition': 'webkitTransitionEnd'\n            },\n                transition;\n\n            for (transition in transitions) {\n              if (element.style[transition] !== undefined) {\n                return transitions[transition];\n              }\n            }\n          },\n          nextSide: function () {\n            return $activeSide.next(selector.side).length > 0 ? $activeSide.next(selector.side) : $side.first();\n          }\n        },\n        stage: {\n          above: function () {\n            var box = {\n              origin: ($activeSide.outerHeight(true) - $nextSide.outerHeight(true)) / 2,\n              depth: {\n                active: $nextSide.outerHeight(true) / 2,\n                next: $activeSide.outerHeight(true) / 2\n              }\n            };\n            module.verbose('Setting the initial animation position as above', $nextSide, box);\n            $activeSide.css({\n              'transform': 'rotateX(0deg)'\n            });\n            $nextSide.addClass(className.animating).css({\n              'top': box.origin + 'px',\n              'transform': 'rotateX(90deg) translateZ(' + box.depth.next + 'px) translateY(-' + box.depth.active + 'px)'\n            });\n          },\n          below: function () {\n            var box = {\n              origin: ($activeSide.outerHeight(true) - $nextSide.outerHeight(true)) / 2,\n              depth: {\n                active: $nextSide.outerHeight(true) / 2,\n                next: $activeSide.outerHeight(true) / 2\n              }\n            };\n            module.verbose('Setting the initial animation position as below', $nextSide, box);\n            $activeSide.css({\n              'transform': 'rotateX(0deg)'\n            });\n            $nextSide.addClass(className.animating).css({\n              'top': box.origin + 'px',\n              'transform': 'rotateX(-90deg) translateZ(' + box.depth.next + 'px) translateY(' + box.depth.active + 'px)'\n            });\n          },\n          left: function () {\n            var height = {\n              active: $activeSide.outerWidth(true),\n              next: $nextSide.outerWidth(true)\n            },\n                box = {\n              origin: (height.active - height.next) / 2,\n              depth: {\n                active: height.next / 2,\n                next: height.active / 2\n              }\n            };\n            module.verbose('Setting the initial animation position as left', $nextSide, box);\n            $activeSide.css({\n              'transform': 'rotateY(0deg)'\n            });\n            $nextSide.addClass(className.animating).css({\n              'left': box.origin + 'px',\n              'transform': 'rotateY(-90deg) translateZ(' + box.depth.next + 'px) translateX(-' + box.depth.active + 'px)'\n            });\n          },\n          right: function () {\n            var height = {\n              active: $activeSide.outerWidth(true),\n              next: $nextSide.outerWidth(true)\n            },\n                box = {\n              origin: (height.active - height.next) / 2,\n              depth: {\n                active: height.next / 2,\n                next: height.active / 2\n              }\n            };\n            module.verbose('Setting the initial animation position as right', $nextSide, box);\n            $activeSide.css({\n              'transform': 'rotateY(0deg)'\n            });\n            $nextSide.addClass(className.animating).css({\n              'left': box.origin + 'px',\n              'transform': 'rotateY(90deg) translateZ(' + box.depth.next + 'px) translateX(' + box.depth.active + 'px)'\n            });\n          },\n          behind: function () {\n            var height = {\n              active: $activeSide.outerWidth(true),\n              next: $nextSide.outerWidth(true)\n            },\n                box = {\n              origin: (height.active - height.next) / 2,\n              depth: {\n                active: height.next / 2,\n                next: height.active / 2\n              }\n            };\n            module.verbose('Setting the initial animation position as behind', $nextSide, box);\n            $activeSide.css({\n              'transform': 'rotateY(0deg)'\n            });\n            $nextSide.addClass(className.animating).css({\n              'left': box.origin + 'px',\n              'transform': 'rotateY(-180deg)'\n            });\n          }\n        },\n        setting: function (name, value) {\n          module.debug('Changing setting', name, value);\n\n          if ($.isPlainObject(name)) {\n            $.extend(true, settings, name);\n          } else if (value !== undefined) {\n            if ($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            } else {\n              settings[name] = value;\n            }\n          } else {\n            return settings[name];\n          }\n        },\n        internal: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, module, name);\n          } else if (value !== undefined) {\n            module[name] = value;\n          } else {\n            return module[name];\n          }\n        },\n        debug: function () {\n          if (!settings.silent && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function () {\n          if (!settings.silent && settings.verbose && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function () {\n          if (!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function (message) {\n            var currentTime, executionTime, previousTime;\n\n            if (settings.performance) {\n              currentTime = new Date().getTime();\n              previousTime = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time = currentTime;\n              performance.push({\n                'Name': message[0],\n                'Arguments': [].slice.call(message, 1) || '',\n                'Element': element,\n                'Execution Time': executionTime\n              });\n            }\n\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function () {\n            var title = settings.name + ':',\n                totalTime = 0;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function (index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n\n            if (moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n\n            if ($allModules.length > 1) {\n              title += ' ' + '(' + $allModules.length + ')';\n            }\n\n            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n\n              if (console.table) {\n                console.table(performance);\n              } else {\n                $.each(performance, function (index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');\n                });\n              }\n\n              console.groupEnd();\n            }\n\n            performance = [];\n          }\n        },\n        invoke: function (query, passedArguments, context) {\n          var object = instance,\n              maxDepth,\n              found,\n              response;\n          passedArguments = passedArguments || queryArguments;\n          context = element || context;\n\n          if (typeof query == 'string' && object !== undefined) {\n            query = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function (depth, value) {\n              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;\n\n              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {\n                object = object[camelCaseValue];\n              } else if (object[camelCaseValue] !== undefined) {\n                found = object[camelCaseValue];\n                return false;\n              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {\n                object = object[value];\n              } else if (object[value] !== undefined) {\n                found = object[value];\n                return false;\n              } else {\n                return false;\n              }\n            });\n          }\n\n          if ($.isFunction(found)) {\n            response = found.apply(context, passedArguments);\n          } else if (found !== undefined) {\n            response = found;\n          }\n\n          if (Array.isArray(returnedValue)) {\n            returnedValue.push(response);\n          } else if (returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          } else if (response !== undefined) {\n            returnedValue = response;\n          }\n\n          return found;\n        }\n      };\n\n      if (methodInvoked) {\n        if (instance === undefined) {\n          module.initialize();\n        }\n\n        var $inputs = $module.find('input');\n\n        if ($inputs.length > 0) {\n          $inputs.blur();\n          setTimeout(function () {\n            module.invoke(query);\n          }, 150);\n        } else {\n          module.invoke(query);\n        }\n      } else {\n        if (instance !== undefined) {\n          instance.invoke('destroy');\n        }\n\n        module.initialize();\n      }\n    });\n    return returnedValue !== undefined ? returnedValue : this;\n  };\n\n  $.fn.shape.settings = {\n    // module info\n    name: 'Shape',\n    // hide all debug content\n    silent: false,\n    // debug content outputted to console\n    debug: false,\n    // verbose debug output\n    verbose: false,\n    // fudge factor in pixels when swapping from 2d to 3d (can be useful to correct rounding errors)\n    jitter: 0,\n    // performance data output\n    performance: true,\n    // event namespace\n    namespace: 'shape',\n    // width during animation, can be set to 'auto', initial', 'next' or pixel amount\n    width: 'initial',\n    // height during animation, can be set to 'auto', 'initial', 'next' or pixel amount\n    height: 'initial',\n    // callback occurs on side change\n    beforeChange: function () {},\n    onChange: function () {},\n    // allow animation to same side\n    allowRepeats: false,\n    // animation duration\n    duration: false,\n    // possible errors\n    error: {\n      side: 'You tried to switch to a side that does not exist.',\n      method: 'The method you called is not defined'\n    },\n    // classnames used\n    className: {\n      animating: 'animating',\n      hidden: 'hidden',\n      loading: 'loading',\n      active: 'active'\n    },\n    // selectors used\n    selector: {\n      sides: '.sides',\n      side: '.side'\n    }\n  };\n})(jQuery, window, document);\n/*!\n * # Fomantic-UI 2.8.8 - Sidebar\n * http://github.com/fomantic/Fomantic-UI/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n\n;\n\n(function ($, window, document, undefined) {\n  'use strict';\n\n  $.isFunction = $.isFunction || function (obj) {\n    return typeof obj === \"function\" && typeof obj.nodeType !== \"number\";\n  };\n\n  window = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\n\n  $.fn.sidebar = function (parameters) {\n    var $allModules = $(this),\n        $window = $(window),\n        $document = $(document),\n        $html = $('html'),\n        $head = $('head'),\n        moduleSelector = $allModules.selector || '',\n        time = new Date().getTime(),\n        performance = [],\n        query = arguments[0],\n        methodInvoked = typeof query == 'string',\n        queryArguments = [].slice.call(arguments, 1),\n        requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || function (callback) {\n      setTimeout(callback, 0);\n    },\n        returnedValue;\n\n    $allModules.each(function () {\n      var settings = $.isPlainObject(parameters) ? $.extend(true, {}, $.fn.sidebar.settings, parameters) : $.extend({}, $.fn.sidebar.settings),\n          selector = settings.selector,\n          className = settings.className,\n          namespace = settings.namespace,\n          regExp = settings.regExp,\n          error = settings.error,\n          eventNamespace = '.' + namespace,\n          moduleNamespace = 'module-' + namespace,\n          $module = $(this),\n          $context = $(settings.context),\n          $sidebars = $module.children(selector.sidebar),\n          $fixed = $context.children(selector.fixed),\n          $pusher = $context.children(selector.pusher),\n          $style,\n          element = this,\n          instance = $module.data(moduleNamespace),\n          elementNamespace,\n          id,\n          currentScroll,\n          transitionEvent,\n          module;\n      module = {\n        initialize: function () {\n          module.debug('Initializing sidebar', parameters);\n          module.create.id();\n          transitionEvent = module.get.transitionEvent(); // avoids locking rendering if initialized in onReady\n\n          if (settings.delaySetup) {\n            requestAnimationFrame(module.setup.layout);\n          } else {\n            module.setup.layout();\n          }\n\n          requestAnimationFrame(function () {\n            module.setup.cache();\n          });\n          module.instantiate();\n        },\n        instantiate: function () {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module.data(moduleNamespace, module);\n        },\n        create: {\n          id: function () {\n            id = (Math.random().toString(16) + '000000000').substr(2, 8);\n            elementNamespace = '.' + id;\n            module.verbose('Creating unique id for element', id);\n          }\n        },\n        destroy: function () {\n          module.verbose('Destroying previous module for', $module);\n          $module.off(eventNamespace).removeData(moduleNamespace);\n\n          if (module.is.ios()) {\n            module.remove.ios();\n          } // bound by uuid\n\n\n          $context.off(elementNamespace);\n          $window.off(elementNamespace);\n          $document.off(elementNamespace);\n        },\n        event: {\n          clickaway: function (event) {\n            if (settings.closable) {\n              var clickedInPusher = $pusher.find(event.target).length > 0 || $pusher.is(event.target),\n                  clickedContext = $context.is(event.target);\n\n              if (clickedInPusher) {\n                module.verbose('User clicked on dimmed page');\n                module.hide();\n              }\n\n              if (clickedContext) {\n                module.verbose('User clicked on dimmable context (scaled out page)');\n                module.hide();\n              }\n            }\n          },\n          touch: function (event) {//event.stopPropagation();\n          },\n          containScroll: function (event) {\n            if (element.scrollTop <= 0) {\n              element.scrollTop = 1;\n            }\n\n            if (element.scrollTop + element.offsetHeight >= element.scrollHeight) {\n              element.scrollTop = element.scrollHeight - element.offsetHeight - 1;\n            }\n          },\n          scroll: function (event) {\n            if ($(event.target).closest(selector.sidebar).length === 0) {\n              event.preventDefault();\n            }\n          }\n        },\n        bind: {\n          clickaway: function () {\n            module.verbose('Adding clickaway events to context', $context);\n            $context.on('click' + elementNamespace, module.event.clickaway).on('touchend' + elementNamespace, module.event.clickaway);\n          },\n          scrollLock: function () {\n            if (settings.scrollLock) {\n              module.debug('Disabling page scroll');\n              $window.on('DOMMouseScroll' + elementNamespace, module.event.scroll);\n            }\n\n            module.verbose('Adding events to contain sidebar scroll');\n            $document.on('touchmove' + elementNamespace, module.event.touch);\n            $module.on('scroll' + eventNamespace, module.event.containScroll);\n          }\n        },\n        unbind: {\n          clickaway: function () {\n            module.verbose('Removing clickaway events from context', $context);\n            $context.off(elementNamespace);\n          },\n          scrollLock: function () {\n            module.verbose('Removing scroll lock from page');\n            $document.off(elementNamespace);\n            $window.off(elementNamespace);\n            $module.off('scroll' + eventNamespace);\n          }\n        },\n        add: {\n          inlineCSS: function () {\n            var width = module.cache.width || $module.outerWidth(),\n                height = module.cache.height || $module.outerHeight(),\n                isRTL = module.is.rtl(),\n                direction = module.get.direction(),\n                distance = {\n              left: width,\n              right: -width,\n              top: height,\n              bottom: -height\n            },\n                style;\n\n            if (isRTL) {\n              module.verbose('RTL detected, flipping widths');\n              distance.left = -width;\n              distance.right = width;\n            }\n\n            style = '<style>';\n\n            if (direction === 'left' || direction === 'right') {\n              module.debug('Adding CSS rules for animation distance', width);\n              style += '' + ' .ui.visible.' + direction + '.sidebar ~ .fixed,' + ' .ui.visible.' + direction + '.sidebar ~ .pusher {' + '   -webkit-transform: translate3d(' + distance[direction] + 'px, 0, 0);' + '           transform: translate3d(' + distance[direction] + 'px, 0, 0);' + ' }';\n            } else if (direction === 'top' || direction == 'bottom') {\n              style += '' + ' .ui.visible.' + direction + '.sidebar ~ .fixed,' + ' .ui.visible.' + direction + '.sidebar ~ .pusher {' + '   -webkit-transform: translate3d(0, ' + distance[direction] + 'px, 0);' + '           transform: translate3d(0, ' + distance[direction] + 'px, 0);' + ' }';\n            }\n            /* IE is only browser not to create context with transforms */\n\n            /* https://www.w3.org/Bugs/Public/show_bug.cgi?id=16328 */\n\n\n            if (module.is.ie()) {\n              if (direction === 'left' || direction === 'right') {\n                module.debug('Adding CSS rules for animation distance', width);\n                style += '' + ' body.pushable > .ui.visible.' + direction + '.sidebar ~ .pusher:after {' + '   -webkit-transform: translate3d(' + distance[direction] + 'px, 0, 0);' + '           transform: translate3d(' + distance[direction] + 'px, 0, 0);' + ' }';\n              } else if (direction === 'top' || direction == 'bottom') {\n                style += '' + ' body.pushable > .ui.visible.' + direction + '.sidebar ~ .pusher:after {' + '   -webkit-transform: translate3d(0, ' + distance[direction] + 'px, 0);' + '           transform: translate3d(0, ' + distance[direction] + 'px, 0);' + ' }';\n              }\n              /* opposite sides visible forces content overlay */\n\n\n              style += '' + ' body.pushable > .ui.visible.left.sidebar ~ .ui.visible.right.sidebar ~ .pusher:after,' + ' body.pushable > .ui.visible.right.sidebar ~ .ui.visible.left.sidebar ~ .pusher:after {' + '   -webkit-transform: translate3d(0, 0, 0);' + '           transform: translate3d(0, 0, 0);' + ' }';\n            }\n\n            style += '</style>';\n            $style = $(style).appendTo($head);\n            module.debug('Adding sizing css to head', $style);\n          }\n        },\n        refresh: function () {\n          module.verbose('Refreshing selector cache');\n          $context = $(settings.context);\n          $sidebars = $context.children(selector.sidebar);\n          $pusher = $context.children(selector.pusher);\n          $fixed = $context.children(selector.fixed);\n          module.clear.cache();\n        },\n        refreshSidebars: function () {\n          module.verbose('Refreshing other sidebars');\n          $sidebars = $context.children(selector.sidebar);\n        },\n        repaint: function () {\n          module.verbose('Forcing repaint event');\n          element.style.display = 'none';\n          var ignored = element.offsetHeight;\n          element.scrollTop = element.scrollTop;\n          element.style.display = '';\n        },\n        setup: {\n          cache: function () {\n            module.cache = {\n              width: $module.outerWidth(),\n              height: $module.outerHeight()\n            };\n          },\n          layout: function () {\n            if ($context.children(selector.pusher).length === 0) {\n              module.debug('Adding wrapper element for sidebar');\n              module.error(error.pusher);\n              $pusher = $('<div class=\"pusher\" />');\n              $context.children().not(selector.omitted).not($sidebars).wrapAll($pusher);\n              module.refresh();\n            }\n\n            if ($module.nextAll(selector.pusher).length === 0 || $module.nextAll(selector.pusher)[0] !== $pusher[0]) {\n              module.debug('Moved sidebar to correct parent element');\n              module.error(error.movedSidebar, element);\n              $module.detach().prependTo($context);\n              module.refresh();\n            }\n\n            module.clear.cache();\n            module.set.pushable();\n            module.set.direction();\n          }\n        },\n        attachEvents: function (selector, event) {\n          var $toggle = $(selector);\n          event = $.isFunction(module[event]) ? module[event] : module.toggle;\n\n          if ($toggle.length > 0) {\n            module.debug('Attaching sidebar events to element', selector, event);\n            $toggle.on('click' + eventNamespace, event);\n          } else {\n            module.error(error.notFound, selector);\n          }\n        },\n        show: function (callback) {\n          callback = $.isFunction(callback) ? callback : function () {};\n\n          if (module.is.hidden()) {\n            module.refreshSidebars();\n\n            if (settings.overlay) {\n              module.error(error.overlay);\n              settings.transition = 'overlay';\n            }\n\n            module.refresh();\n\n            if (module.othersActive()) {\n              module.debug('Other sidebars currently visible');\n\n              if (settings.exclusive) {\n                // if not overlay queue animation after hide\n                if (settings.transition != 'overlay') {\n                  module.hideOthers(module.show);\n                  return;\n                } else {\n                  module.hideOthers();\n                }\n              } else {\n                settings.transition = 'overlay';\n              }\n            }\n\n            module.pushPage(function () {\n              callback.call(element);\n              settings.onShow.call(element);\n            });\n            settings.onChange.call(element);\n            settings.onVisible.call(element);\n          } else {\n            module.debug('Sidebar is already visible');\n          }\n        },\n        hide: function (callback) {\n          callback = $.isFunction(callback) ? callback : function () {};\n\n          if (module.is.visible() || module.is.animating()) {\n            module.debug('Hiding sidebar', callback);\n            module.refreshSidebars();\n            module.pullPage(function () {\n              callback.call(element);\n              settings.onHidden.call(element);\n            });\n            settings.onChange.call(element);\n            settings.onHide.call(element);\n          }\n        },\n        othersAnimating: function () {\n          return $sidebars.not($module).filter('.' + className.animating).length > 0;\n        },\n        othersVisible: function () {\n          return $sidebars.not($module).filter('.' + className.visible).length > 0;\n        },\n        othersActive: function () {\n          return module.othersVisible() || module.othersAnimating();\n        },\n        hideOthers: function (callback) {\n          var $otherSidebars = $sidebars.not($module).filter('.' + className.visible),\n              sidebarCount = $otherSidebars.length,\n              callbackCount = 0;\n\n          callback = callback || function () {};\n\n          $otherSidebars.sidebar('hide', function () {\n            callbackCount++;\n\n            if (callbackCount == sidebarCount) {\n              callback();\n            }\n          });\n        },\n        toggle: function () {\n          module.verbose('Determining toggled direction');\n\n          if (module.is.hidden()) {\n            module.show();\n          } else {\n            module.hide();\n          }\n        },\n        pushPage: function (callback) {\n          var transition = module.get.transition(),\n              $transition = transition === 'overlay' || module.othersActive() ? $module : $pusher,\n              animate,\n              dim,\n              transitionEnd;\n          callback = $.isFunction(callback) ? callback : function () {};\n\n          if (settings.transition == 'scale down') {\n            module.scrollToTop();\n          }\n\n          module.set.transition(transition);\n          module.repaint();\n\n          animate = function () {\n            module.bind.clickaway();\n            module.add.inlineCSS();\n            module.set.animating();\n            module.set.visible();\n          };\n\n          dim = function () {\n            module.set.dimmed();\n          };\n\n          transitionEnd = function (event) {\n            if (event.target == $transition[0]) {\n              $transition.off(transitionEvent + elementNamespace, transitionEnd);\n              module.remove.animating();\n              module.bind.scrollLock();\n              callback.call(element);\n            }\n          };\n\n          $transition.off(transitionEvent + elementNamespace);\n          $transition.on(transitionEvent + elementNamespace, transitionEnd);\n          requestAnimationFrame(animate);\n\n          if (settings.dimPage && !module.othersVisible()) {\n            requestAnimationFrame(dim);\n          }\n        },\n        pullPage: function (callback) {\n          var transition = module.get.transition(),\n              $transition = transition == 'overlay' || module.othersActive() ? $module : $pusher,\n              animate,\n              transitionEnd;\n          callback = $.isFunction(callback) ? callback : function () {};\n          module.verbose('Removing context push state', module.get.direction());\n          module.unbind.clickaway();\n          module.unbind.scrollLock();\n\n          animate = function () {\n            module.set.transition(transition);\n            module.set.animating();\n            module.remove.visible();\n\n            if (settings.dimPage && !module.othersVisible()) {\n              $pusher.removeClass(className.dimmed);\n            }\n          };\n\n          transitionEnd = function (event) {\n            if (event.target == $transition[0]) {\n              $transition.off(transitionEvent + elementNamespace, transitionEnd);\n              module.remove.animating();\n              module.remove.transition();\n              module.remove.inlineCSS();\n\n              if (transition == 'scale down' || settings.returnScroll && module.is.mobile()) {\n                module.scrollBack();\n              }\n\n              callback.call(element);\n            }\n          };\n\n          $transition.off(transitionEvent + elementNamespace);\n          $transition.on(transitionEvent + elementNamespace, transitionEnd);\n          requestAnimationFrame(animate);\n        },\n        scrollToTop: function () {\n          module.verbose('Scrolling to top of page to avoid animation issues');\n          currentScroll = $(window).scrollTop();\n          $module.scrollTop(0);\n          window.scrollTo(0, 0);\n        },\n        scrollBack: function () {\n          module.verbose('Scrolling back to original page position');\n          window.scrollTo(0, currentScroll);\n        },\n        clear: {\n          cache: function () {\n            module.verbose('Clearing cached dimensions');\n            module.cache = {};\n          }\n        },\n        set: {\n          // ios only (scroll on html not document). This prevent auto-resize canvas/scroll in ios\n          // (This is no longer necessary in latest iOS)\n          ios: function () {\n            $html.addClass(className.ios);\n          },\n          // container\n          pushed: function () {\n            $context.addClass(className.pushed);\n          },\n          pushable: function () {\n            $context.addClass(className.pushable);\n          },\n          // pusher\n          dimmed: function () {\n            $pusher.addClass(className.dimmed);\n          },\n          // sidebar\n          active: function () {\n            $module.addClass(className.active);\n          },\n          animating: function () {\n            $module.addClass(className.animating);\n          },\n          transition: function (transition) {\n            transition = transition || module.get.transition();\n            $module.addClass(transition);\n          },\n          direction: function (direction) {\n            direction = direction || module.get.direction();\n            $module.addClass(className[direction]);\n          },\n          visible: function () {\n            $module.addClass(className.visible);\n          },\n          overlay: function () {\n            $module.addClass(className.overlay);\n          }\n        },\n        remove: {\n          inlineCSS: function () {\n            module.debug('Removing inline css styles', $style);\n\n            if ($style && $style.length > 0) {\n              $style.remove();\n            }\n          },\n          // ios scroll on html not document\n          ios: function () {\n            $html.removeClass(className.ios);\n          },\n          // context\n          pushed: function () {\n            $context.removeClass(className.pushed);\n          },\n          pushable: function () {\n            $context.removeClass(className.pushable);\n          },\n          // sidebar\n          active: function () {\n            $module.removeClass(className.active);\n          },\n          animating: function () {\n            $module.removeClass(className.animating);\n          },\n          transition: function (transition) {\n            transition = transition || module.get.transition();\n            $module.removeClass(transition);\n          },\n          direction: function (direction) {\n            direction = direction || module.get.direction();\n            $module.removeClass(className[direction]);\n          },\n          visible: function () {\n            $module.removeClass(className.visible);\n          },\n          overlay: function () {\n            $module.removeClass(className.overlay);\n          }\n        },\n        get: {\n          direction: function () {\n            if ($module.hasClass(className.top)) {\n              return className.top;\n            } else if ($module.hasClass(className.right)) {\n              return className.right;\n            } else if ($module.hasClass(className.bottom)) {\n              return className.bottom;\n            }\n\n            return className.left;\n          },\n          transition: function () {\n            var direction = module.get.direction(),\n                transition;\n            transition = module.is.mobile() ? settings.mobileTransition == 'auto' ? settings.defaultTransition.mobile[direction] : settings.mobileTransition : settings.transition == 'auto' ? settings.defaultTransition.computer[direction] : settings.transition;\n            module.verbose('Determined transition', transition);\n            return transition;\n          },\n          transitionEvent: function () {\n            var element = document.createElement('element'),\n                transitions = {\n              'transition': 'transitionend',\n              'OTransition': 'oTransitionEnd',\n              'MozTransition': 'transitionend',\n              'WebkitTransition': 'webkitTransitionEnd'\n            },\n                transition;\n\n            for (transition in transitions) {\n              if (element.style[transition] !== undefined) {\n                return transitions[transition];\n              }\n            }\n          }\n        },\n        is: {\n          ie: function () {\n            var isIE11 = !window.ActiveXObject && 'ActiveXObject' in window,\n                isIE = ('ActiveXObject' in window);\n            return isIE11 || isIE;\n          },\n          ios: function () {\n            var userAgent = navigator.userAgent,\n                isIOS = userAgent.match(regExp.ios),\n                isMobileChrome = userAgent.match(regExp.mobileChrome);\n\n            if (isIOS && !isMobileChrome) {\n              module.verbose('Browser was found to be iOS', userAgent);\n              return true;\n            } else {\n              return false;\n            }\n          },\n          mobile: function () {\n            var userAgent = navigator.userAgent,\n                isMobile = userAgent.match(regExp.mobile);\n\n            if (isMobile) {\n              module.verbose('Browser was found to be mobile', userAgent);\n              return true;\n            } else {\n              module.verbose('Browser is not mobile, using regular transition', userAgent);\n              return false;\n            }\n          },\n          hidden: function () {\n            return !module.is.visible();\n          },\n          visible: function () {\n            return $module.hasClass(className.visible);\n          },\n          // alias\n          open: function () {\n            return module.is.visible();\n          },\n          closed: function () {\n            return module.is.hidden();\n          },\n          vertical: function () {\n            return $module.hasClass(className.top);\n          },\n          animating: function () {\n            return $context.hasClass(className.animating);\n          },\n          rtl: function () {\n            if (module.cache.rtl === undefined) {\n              module.cache.rtl = $module.attr('dir') === 'rtl' || $module.css('direction') === 'rtl';\n            }\n\n            return module.cache.rtl;\n          }\n        },\n        setting: function (name, value) {\n          module.debug('Changing setting', name, value);\n\n          if ($.isPlainObject(name)) {\n            $.extend(true, settings, name);\n          } else if (value !== undefined) {\n            if ($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            } else {\n              settings[name] = value;\n            }\n          } else {\n            return settings[name];\n          }\n        },\n        internal: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, module, name);\n          } else if (value !== undefined) {\n            module[name] = value;\n          } else {\n            return module[name];\n          }\n        },\n        debug: function () {\n          if (!settings.silent && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function () {\n          if (!settings.silent && settings.verbose && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function () {\n          if (!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function (message) {\n            var currentTime, executionTime, previousTime;\n\n            if (settings.performance) {\n              currentTime = new Date().getTime();\n              previousTime = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time = currentTime;\n              performance.push({\n                'Name': message[0],\n                'Arguments': [].slice.call(message, 1) || '',\n                'Element': element,\n                'Execution Time': executionTime\n              });\n            }\n\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function () {\n            var title = settings.name + ':',\n                totalTime = 0;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function (index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n\n            if (moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n\n            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n\n              if (console.table) {\n                console.table(performance);\n              } else {\n                $.each(performance, function (index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');\n                });\n              }\n\n              console.groupEnd();\n            }\n\n            performance = [];\n          }\n        },\n        invoke: function (query, passedArguments, context) {\n          var object = instance,\n              maxDepth,\n              found,\n              response;\n          passedArguments = passedArguments || queryArguments;\n          context = element || context;\n\n          if (typeof query == 'string' && object !== undefined) {\n            query = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function (depth, value) {\n              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;\n\n              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {\n                object = object[camelCaseValue];\n              } else if (object[camelCaseValue] !== undefined) {\n                found = object[camelCaseValue];\n                return false;\n              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {\n                object = object[value];\n              } else if (object[value] !== undefined) {\n                found = object[value];\n                return false;\n              } else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n\n          if ($.isFunction(found)) {\n            response = found.apply(context, passedArguments);\n          } else if (found !== undefined) {\n            response = found;\n          }\n\n          if (Array.isArray(returnedValue)) {\n            returnedValue.push(response);\n          } else if (returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          } else if (response !== undefined) {\n            returnedValue = response;\n          }\n\n          return found;\n        }\n      };\n\n      if (methodInvoked) {\n        if (instance === undefined) {\n          module.initialize();\n        }\n\n        module.invoke(query);\n      } else {\n        if (instance !== undefined) {\n          module.invoke('destroy');\n        }\n\n        module.initialize();\n      }\n    });\n    return returnedValue !== undefined ? returnedValue : this;\n  };\n\n  $.fn.sidebar.settings = {\n    name: 'Sidebar',\n    namespace: 'sidebar',\n    silent: false,\n    debug: false,\n    verbose: false,\n    performance: true,\n    transition: 'auto',\n    mobileTransition: 'auto',\n    defaultTransition: {\n      computer: {\n        left: 'uncover',\n        right: 'uncover',\n        top: 'overlay',\n        bottom: 'overlay'\n      },\n      mobile: {\n        left: 'uncover',\n        right: 'uncover',\n        top: 'overlay',\n        bottom: 'overlay'\n      }\n    },\n    context: 'body',\n    exclusive: false,\n    closable: true,\n    dimPage: true,\n    scrollLock: false,\n    returnScroll: false,\n    delaySetup: false,\n    duration: 500,\n    onChange: function () {},\n    onShow: function () {},\n    onHide: function () {},\n    onHidden: function () {},\n    onVisible: function () {},\n    className: {\n      active: 'active',\n      animating: 'animating',\n      dimmed: 'dimmed',\n      ios: 'ios',\n      pushable: 'pushable',\n      pushed: 'pushed',\n      right: 'right',\n      top: 'top',\n      left: 'left',\n      bottom: 'bottom',\n      visible: 'visible'\n    },\n    selector: {\n      fixed: '.fixed',\n      omitted: 'script, link, style, .ui.modal, .ui.dimmer, .ui.nag, .ui.fixed',\n      pusher: '.pusher',\n      sidebar: '.ui.sidebar'\n    },\n    regExp: {\n      ios: /(iPad|iPhone|iPod)/g,\n      mobileChrome: /(CriOS)/g,\n      mobile: /Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile|Kindle|NetFront|Silk-Accelerated|(hpw|web)OS|Fennec|Minimo|Opera M(obi|ini)|Blazer|Dolfin|Dolphin|Skyfire|Zune/g\n    },\n    error: {\n      method: 'The method you called is not defined.',\n      pusher: 'Had to add pusher element. For optimal performance make sure body content is inside a pusher element',\n      movedSidebar: 'Had to move sidebar. For optimal performance make sure sidebar and pusher are direct children of your body tag',\n      overlay: 'The overlay setting is no longer supported, use animation: overlay',\n      notFound: 'There were no elements that matched the specified selector'\n    }\n  };\n})(jQuery, window, document);\n/*!\n * # Fomantic-UI 2.8.8 - Sticky\n * http://github.com/fomantic/Fomantic-UI/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n\n;\n\n(function ($, window, document, undefined) {\n  'use strict';\n\n  $.isFunction = $.isFunction || function (obj) {\n    return typeof obj === \"function\" && typeof obj.nodeType !== \"number\";\n  };\n\n  window = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\n\n  $.fn.sticky = function (parameters) {\n    var $allModules = $(this),\n        moduleSelector = $allModules.selector || '',\n        time = new Date().getTime(),\n        performance = [],\n        query = arguments[0],\n        methodInvoked = typeof query == 'string',\n        queryArguments = [].slice.call(arguments, 1),\n        returnedValue;\n    $allModules.each(function () {\n      var settings = $.isPlainObject(parameters) ? $.extend(true, {}, $.fn.sticky.settings, parameters) : $.extend({}, $.fn.sticky.settings),\n          className = settings.className,\n          namespace = settings.namespace,\n          error = settings.error,\n          eventNamespace = '.' + namespace,\n          moduleNamespace = 'module-' + namespace,\n          $module = $(this),\n          $window = $(window),\n          $scroll = $(settings.scrollContext),\n          $container,\n          $context,\n          instance = $module.data(moduleNamespace),\n          requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || function (callback) {\n        setTimeout(callback, 0);\n      },\n          element = this,\n          documentObserver,\n          observer,\n          module;\n\n      module = {\n        initialize: function () {\n          module.determineContainer();\n          module.determineContext();\n          module.verbose('Initializing sticky', settings, $container);\n          module.save.positions();\n          module.checkErrors();\n          module.bind.events();\n\n          if (settings.observeChanges) {\n            module.observeChanges();\n          }\n\n          module.instantiate();\n        },\n        instantiate: function () {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module.data(moduleNamespace, module);\n        },\n        destroy: function () {\n          module.verbose('Destroying previous instance');\n          module.reset();\n\n          if (documentObserver) {\n            documentObserver.disconnect();\n          }\n\n          if (observer) {\n            observer.disconnect();\n          }\n\n          $window.off('load' + eventNamespace, module.event.load).off('resize' + eventNamespace, module.event.resize);\n          $scroll.off('scrollchange' + eventNamespace, module.event.scrollchange);\n          $module.removeData(moduleNamespace);\n        },\n        observeChanges: function () {\n          if ('MutationObserver' in window) {\n            documentObserver = new MutationObserver(module.event.documentChanged);\n            observer = new MutationObserver(module.event.changed);\n            documentObserver.observe(document, {\n              childList: true,\n              subtree: true\n            });\n            observer.observe(element, {\n              childList: true,\n              subtree: true\n            });\n            observer.observe($context[0], {\n              childList: true,\n              subtree: true\n            });\n            module.debug('Setting up mutation observer', observer);\n          }\n        },\n        determineContainer: function () {\n          if (settings.container) {\n            $container = $(settings.container);\n          } else {\n            $container = $module.offsetParent();\n          }\n        },\n        determineContext: function () {\n          if (settings.context) {\n            $context = $(settings.context);\n          } else {\n            $context = $container;\n          }\n\n          if ($context.length === 0) {\n            module.error(error.invalidContext, settings.context, $module);\n            return;\n          }\n        },\n        checkErrors: function () {\n          if (module.is.hidden()) {\n            module.error(error.visible, $module);\n          }\n\n          if (module.cache.element.height > module.cache.context.height) {\n            module.reset();\n            module.error(error.elementSize, $module);\n            return;\n          }\n        },\n        bind: {\n          events: function () {\n            $window.on('load' + eventNamespace, module.event.load).on('resize' + eventNamespace, module.event.resize); // pub/sub pattern\n\n            $scroll.off('scroll' + eventNamespace).on('scroll' + eventNamespace, module.event.scroll).on('scrollchange' + eventNamespace, module.event.scrollchange);\n          }\n        },\n        event: {\n          changed: function (mutations) {\n            clearTimeout(module.timer);\n            module.timer = setTimeout(function () {\n              module.verbose('DOM tree modified, updating sticky menu', mutations);\n              module.refresh();\n            }, 100);\n          },\n          documentChanged: function (mutations) {\n            [].forEach.call(mutations, function (mutation) {\n              if (mutation.removedNodes) {\n                [].forEach.call(mutation.removedNodes, function (node) {\n                  if (node == element || $(node).find(element).length > 0) {\n                    module.debug('Element removed from DOM, tearing down events');\n                    module.destroy();\n                  }\n                });\n              }\n            });\n          },\n          load: function () {\n            module.verbose('Page contents finished loading');\n            requestAnimationFrame(module.refresh);\n          },\n          resize: function () {\n            module.verbose('Window resized');\n            requestAnimationFrame(module.refresh);\n          },\n          scroll: function () {\n            requestAnimationFrame(function () {\n              $scroll.triggerHandler('scrollchange' + eventNamespace, $scroll.scrollTop());\n            });\n          },\n          scrollchange: function (event, scrollPosition) {\n            module.stick(scrollPosition);\n            settings.onScroll.call(element);\n          }\n        },\n        refresh: function (hardRefresh) {\n          module.reset();\n\n          if (!settings.context) {\n            module.determineContext();\n          }\n\n          if (hardRefresh) {\n            module.determineContainer();\n          }\n\n          module.save.positions();\n          module.stick();\n          settings.onReposition.call(element);\n        },\n        supports: {\n          sticky: function () {\n            var $element = $('<div/>');\n            $element.addClass(className.supported);\n            return $element.css('position').match('sticky');\n          }\n        },\n        save: {\n          lastScroll: function (scroll) {\n            module.lastScroll = scroll;\n          },\n          elementScroll: function (scroll) {\n            module.elementScroll = scroll;\n          },\n          positions: function () {\n            var scrollContext = {\n              height: $scroll.height()\n            },\n                element = {\n              margin: {\n                top: parseInt($module.css('margin-top'), 10),\n                bottom: parseInt($module.css('margin-bottom'), 10)\n              },\n              offset: $module.offset(),\n              width: $module.outerWidth(),\n              height: $module.outerHeight()\n            },\n                context = {\n              offset: $context.offset(),\n              height: $context.outerHeight()\n            };\n\n            if (!module.is.standardScroll()) {\n              module.debug('Non-standard scroll. Removing scroll offset from element offset');\n              scrollContext.top = $scroll.scrollTop();\n              scrollContext.left = $scroll.scrollLeft();\n              element.offset.top += scrollContext.top;\n              context.offset.top += scrollContext.top;\n              element.offset.left += scrollContext.left;\n              context.offset.left += scrollContext.left;\n            }\n\n            module.cache = {\n              fits: element.height + settings.offset <= scrollContext.height,\n              sameHeight: element.height == context.height,\n              scrollContext: {\n                height: scrollContext.height\n              },\n              element: {\n                margin: element.margin,\n                top: element.offset.top - element.margin.top,\n                left: element.offset.left,\n                width: element.width,\n                height: element.height,\n                bottom: element.offset.top + element.height\n              },\n              context: {\n                top: context.offset.top,\n                height: context.height,\n                bottom: context.offset.top + context.height\n              }\n            };\n            module.set.containerSize();\n            module.stick();\n            module.debug('Caching element positions', module.cache);\n          }\n        },\n        get: {\n          direction: function (scroll) {\n            var direction = 'down';\n            scroll = scroll || $scroll.scrollTop();\n\n            if (module.lastScroll !== undefined) {\n              if (module.lastScroll < scroll) {\n                direction = 'down';\n              } else if (module.lastScroll > scroll) {\n                direction = 'up';\n              }\n            }\n\n            return direction;\n          },\n          scrollChange: function (scroll) {\n            scroll = scroll || $scroll.scrollTop();\n            return module.lastScroll ? scroll - module.lastScroll : 0;\n          },\n          currentElementScroll: function () {\n            if (module.elementScroll) {\n              return module.elementScroll;\n            }\n\n            return module.is.top() ? Math.abs(parseInt($module.css('top'), 10)) || 0 : Math.abs(parseInt($module.css('bottom'), 10)) || 0;\n          },\n          elementScroll: function (scroll) {\n            scroll = scroll || $scroll.scrollTop();\n            var element = module.cache.element,\n                scrollContext = module.cache.scrollContext,\n                delta = module.get.scrollChange(scroll),\n                maxScroll = element.height - scrollContext.height + settings.offset,\n                elementScroll = module.get.currentElementScroll(),\n                possibleScroll = elementScroll + delta;\n\n            if (module.cache.fits || possibleScroll < 0) {\n              elementScroll = 0;\n            } else if (possibleScroll > maxScroll) {\n              elementScroll = maxScroll;\n            } else {\n              elementScroll = possibleScroll;\n            }\n\n            return elementScroll;\n          }\n        },\n        remove: {\n          lastScroll: function () {\n            delete module.lastScroll;\n          },\n          elementScroll: function (scroll) {\n            delete module.elementScroll;\n          },\n          minimumSize: function () {\n            $container.css('min-height', '');\n          },\n          offset: function () {\n            $module.css('margin-top', '');\n          }\n        },\n        set: {\n          offset: function () {\n            module.verbose('Setting offset on element', settings.offset);\n            $module.css('margin-top', settings.offset);\n          },\n          containerSize: function () {\n            var tagName = $container.get(0).tagName;\n\n            if (tagName === 'HTML' || tagName == 'body') {\n              // this can trigger for too many reasons\n              //module.error(error.container, tagName, $module);\n              module.determineContainer();\n            } else {\n              if (Math.abs($container.outerHeight() - module.cache.context.height) > settings.jitter) {\n                module.debug('Context has padding, specifying exact height for container', module.cache.context.height);\n                $container.css({\n                  height: module.cache.context.height\n                });\n              }\n            }\n          },\n          minimumSize: function () {\n            var element = module.cache.element;\n            $container.css('min-height', element.height);\n          },\n          scroll: function (scroll) {\n            module.debug('Setting scroll on element', scroll);\n\n            if (module.elementScroll == scroll) {\n              return;\n            }\n\n            if (module.is.top()) {\n              $module.css('bottom', '').css('top', -scroll);\n            }\n\n            if (module.is.bottom()) {\n              $module.css('top', '').css('bottom', scroll);\n            }\n          },\n          size: function () {\n            if (module.cache.element.height !== 0 && module.cache.element.width !== 0) {\n              element.style.setProperty('width', module.cache.element.width + 'px', 'important');\n              element.style.setProperty('height', module.cache.element.height + 'px', 'important');\n            }\n          }\n        },\n        is: {\n          standardScroll: function () {\n            return $scroll[0] == window;\n          },\n          top: function () {\n            return $module.hasClass(className.top);\n          },\n          bottom: function () {\n            return $module.hasClass(className.bottom);\n          },\n          initialPosition: function () {\n            return !module.is.fixed() && !module.is.bound();\n          },\n          hidden: function () {\n            return !$module.is(':visible');\n          },\n          bound: function () {\n            return $module.hasClass(className.bound);\n          },\n          fixed: function () {\n            return $module.hasClass(className.fixed);\n          }\n        },\n        stick: function (scroll) {\n          var cachedPosition = scroll || $scroll.scrollTop(),\n              cache = module.cache,\n              fits = cache.fits,\n              sameHeight = cache.sameHeight,\n              element = cache.element,\n              scrollContext = cache.scrollContext,\n              context = cache.context,\n              offset = module.is.bottom() && settings.pushing ? settings.bottomOffset : settings.offset,\n              scroll = {\n            top: cachedPosition + offset,\n            bottom: cachedPosition + offset + scrollContext.height\n          },\n              elementScroll = fits ? 0 : module.get.elementScroll(scroll.top),\n              // shorthand\n          doesntFit = !fits,\n              elementVisible = element.height !== 0;\n\n          if (elementVisible && !sameHeight) {\n            if (module.is.initialPosition()) {\n              if (scroll.top >= context.bottom) {\n                module.debug('Initial element position is bottom of container');\n                module.bindBottom();\n              } else if (scroll.top > element.top) {\n                if (element.height + scroll.top - elementScroll >= context.bottom) {\n                  module.debug('Initial element position is bottom of container');\n                  module.bindBottom();\n                } else {\n                  module.debug('Initial element position is fixed');\n                  module.fixTop();\n                }\n              }\n            } else if (module.is.fixed()) {\n              // currently fixed top\n              if (module.is.top()) {\n                if (scroll.top <= element.top) {\n                  module.debug('Fixed element reached top of container');\n                  module.setInitialPosition();\n                } else if (element.height + scroll.top - elementScroll >= context.bottom) {\n                  module.debug('Fixed element reached bottom of container');\n                  module.bindBottom();\n                } // scroll element if larger than screen\n                else if (doesntFit) {\n                  module.set.scroll(elementScroll);\n                  module.save.lastScroll(scroll.top);\n                  module.save.elementScroll(elementScroll);\n                }\n              } // currently fixed bottom\n              else if (module.is.bottom()) {\n                // top edge\n                if (scroll.bottom - element.height <= element.top) {\n                  module.debug('Bottom fixed rail has reached top of container');\n                  module.setInitialPosition();\n                } // bottom edge\n                else if (scroll.bottom >= context.bottom) {\n                  module.debug('Bottom fixed rail has reached bottom of container');\n                  module.bindBottom();\n                } // scroll element if larger than screen\n                else if (doesntFit) {\n                  module.set.scroll(elementScroll);\n                  module.save.lastScroll(scroll.top);\n                  module.save.elementScroll(elementScroll);\n                }\n              }\n            } else if (module.is.bottom()) {\n              if (scroll.top <= element.top) {\n                module.debug('Jumped from bottom fixed to top fixed, most likely used home/end button');\n                module.setInitialPosition();\n              } else {\n                if (settings.pushing) {\n                  if (module.is.bound() && scroll.bottom <= context.bottom) {\n                    module.debug('Fixing bottom attached element to bottom of browser.');\n                    module.fixBottom();\n                  }\n                } else {\n                  if (module.is.bound() && scroll.top <= context.bottom - element.height) {\n                    module.debug('Fixing bottom attached element to top of browser.');\n                    module.fixTop();\n                  }\n                }\n              }\n            }\n          }\n        },\n        bindTop: function () {\n          module.debug('Binding element to top of parent container');\n          module.remove.offset();\n          $module.css({\n            left: '',\n            top: '',\n            marginBottom: ''\n          }).removeClass(className.fixed).removeClass(className.bottom).addClass(className.bound).addClass(className.top);\n          settings.onTop.call(element);\n          settings.onUnstick.call(element);\n        },\n        bindBottom: function () {\n          module.debug('Binding element to bottom of parent container');\n          module.remove.offset();\n          $module.css({\n            left: '',\n            top: ''\n          }).removeClass(className.fixed).removeClass(className.top).addClass(className.bound).addClass(className.bottom);\n          settings.onBottom.call(element);\n          settings.onUnstick.call(element);\n        },\n        setInitialPosition: function () {\n          module.debug('Returning to initial position');\n          module.unfix();\n          module.unbind();\n        },\n        fixTop: function () {\n          module.debug('Fixing element to top of page');\n\n          if (settings.setSize) {\n            module.set.size();\n          }\n\n          module.set.minimumSize();\n          module.set.offset();\n          $module.css({\n            left: module.cache.element.left,\n            bottom: '',\n            marginBottom: ''\n          }).removeClass(className.bound).removeClass(className.bottom).addClass(className.fixed).addClass(className.top);\n          settings.onStick.call(element);\n        },\n        fixBottom: function () {\n          module.debug('Sticking element to bottom of page');\n\n          if (settings.setSize) {\n            module.set.size();\n          }\n\n          module.set.minimumSize();\n          module.set.offset();\n          $module.css({\n            left: module.cache.element.left,\n            bottom: '',\n            marginBottom: ''\n          }).removeClass(className.bound).removeClass(className.top).addClass(className.fixed).addClass(className.bottom);\n          settings.onStick.call(element);\n        },\n        unbind: function () {\n          if (module.is.bound()) {\n            module.debug('Removing container bound position on element');\n            module.remove.offset();\n            $module.removeClass(className.bound).removeClass(className.top).removeClass(className.bottom);\n          }\n        },\n        unfix: function () {\n          if (module.is.fixed()) {\n            module.debug('Removing fixed position on element');\n            module.remove.minimumSize();\n            module.remove.offset();\n            $module.removeClass(className.fixed).removeClass(className.top).removeClass(className.bottom);\n            settings.onUnstick.call(element);\n          }\n        },\n        reset: function () {\n          module.debug('Resetting elements position');\n          module.unbind();\n          module.unfix();\n          module.resetCSS();\n          module.remove.offset();\n          module.remove.lastScroll();\n        },\n        resetCSS: function () {\n          $module.css({\n            width: '',\n            height: ''\n          });\n          $container.css({\n            height: ''\n          });\n        },\n        setting: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, settings, name);\n          } else if (value !== undefined) {\n            settings[name] = value;\n          } else {\n            return settings[name];\n          }\n        },\n        internal: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, module, name);\n          } else if (value !== undefined) {\n            module[name] = value;\n          } else {\n            return module[name];\n          }\n        },\n        debug: function () {\n          if (!settings.silent && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function () {\n          if (!settings.silent && settings.verbose && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function () {\n          if (!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function (message) {\n            var currentTime, executionTime, previousTime;\n\n            if (settings.performance) {\n              currentTime = new Date().getTime();\n              previousTime = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time = currentTime;\n              performance.push({\n                'Name': message[0],\n                'Arguments': [].slice.call(message, 1) || '',\n                'Element': element,\n                'Execution Time': executionTime\n              });\n            }\n\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 0);\n          },\n          display: function () {\n            var title = settings.name + ':',\n                totalTime = 0;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function (index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n\n            if (moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n\n            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n\n              if (console.table) {\n                console.table(performance);\n              } else {\n                $.each(performance, function (index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');\n                });\n              }\n\n              console.groupEnd();\n            }\n\n            performance = [];\n          }\n        },\n        invoke: function (query, passedArguments, context) {\n          var object = instance,\n              maxDepth,\n              found,\n              response;\n          passedArguments = passedArguments || queryArguments;\n          context = element || context;\n\n          if (typeof query == 'string' && object !== undefined) {\n            query = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function (depth, value) {\n              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;\n\n              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {\n                object = object[camelCaseValue];\n              } else if (object[camelCaseValue] !== undefined) {\n                found = object[camelCaseValue];\n                return false;\n              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {\n                object = object[value];\n              } else if (object[value] !== undefined) {\n                found = object[value];\n                return false;\n              } else {\n                return false;\n              }\n            });\n          }\n\n          if ($.isFunction(found)) {\n            response = found.apply(context, passedArguments);\n          } else if (found !== undefined) {\n            response = found;\n          }\n\n          if (Array.isArray(returnedValue)) {\n            returnedValue.push(response);\n          } else if (returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          } else if (response !== undefined) {\n            returnedValue = response;\n          }\n\n          return found;\n        }\n      };\n\n      if (methodInvoked) {\n        if (instance === undefined) {\n          module.initialize();\n        }\n\n        module.invoke(query);\n      } else {\n        if (instance !== undefined) {\n          instance.invoke('destroy');\n        }\n\n        module.initialize();\n      }\n    });\n    return returnedValue !== undefined ? returnedValue : this;\n  };\n\n  $.fn.sticky.settings = {\n    name: 'Sticky',\n    namespace: 'sticky',\n    silent: false,\n    debug: false,\n    verbose: true,\n    performance: true,\n    // whether to stick in the opposite direction on scroll up\n    pushing: false,\n    context: false,\n    container: false,\n    // Context to watch scroll events\n    scrollContext: window,\n    // Offset to adjust scroll\n    offset: 0,\n    // Offset to adjust scroll when attached to bottom of screen\n    bottomOffset: 0,\n    // will only set container height if difference between context and container is larger than this number\n    jitter: 5,\n    // set width of sticky element when it is fixed to page (used to make sure 100% width is maintained if no fixed size set)\n    setSize: true,\n    // Whether to automatically observe changes with Mutation Observers\n    observeChanges: false,\n    // Called when position is recalculated\n    onReposition: function () {},\n    // Called on each scroll\n    onScroll: function () {},\n    // Called when element is stuck to viewport\n    onStick: function () {},\n    // Called when element is unstuck from viewport\n    onUnstick: function () {},\n    // Called when element reaches top of context\n    onTop: function () {},\n    // Called when element reaches bottom of context\n    onBottom: function () {},\n    error: {\n      container: 'Sticky element must be inside a relative container',\n      visible: 'Element is hidden, you must call refresh after element becomes visible. Use silent setting to surpress this warning in production.',\n      method: 'The method you called is not defined.',\n      invalidContext: 'Context specified does not exist',\n      elementSize: 'Sticky element is larger than its container, cannot create sticky.'\n    },\n    className: {\n      bound: 'bound',\n      fixed: 'fixed',\n      supported: 'native',\n      top: 'top',\n      bottom: 'bottom'\n    }\n  };\n})(jQuery, window, document);\n/*!\n * # Fomantic-UI 2.8.8 - Tab\n * http://github.com/fomantic/Fomantic-UI/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n\n;\n\n(function ($, window, document, undefined) {\n  'use strict';\n\n  $.isWindow = $.isWindow || function (obj) {\n    return obj != null && obj === obj.window;\n  };\n\n  $.isFunction = $.isFunction || function (obj) {\n    return typeof obj === \"function\" && typeof obj.nodeType !== \"number\";\n  };\n\n  window = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\n\n  $.fn.tab = function (parameters) {\n    var // use window context if none specified\n    $allModules = $.isFunction(this) ? $(window) : $(this),\n        moduleSelector = $allModules.selector || '',\n        time = new Date().getTime(),\n        performance = [],\n        query = arguments[0],\n        methodInvoked = typeof query == 'string',\n        queryArguments = [].slice.call(arguments, 1),\n        initializedHistory = false,\n        returnedValue;\n    $allModules.each(function () {\n      var settings = $.isPlainObject(parameters) ? $.extend(true, {}, $.fn.tab.settings, parameters) : $.extend({}, $.fn.tab.settings),\n          className = settings.className,\n          metadata = settings.metadata,\n          selector = settings.selector,\n          error = settings.error,\n          regExp = settings.regExp,\n          eventNamespace = '.' + settings.namespace,\n          moduleNamespace = 'module-' + settings.namespace,\n          $module = $(this),\n          $context,\n          $tabs,\n          cache = {},\n          firstLoad = true,\n          recursionDepth = 0,\n          element = this,\n          instance = $module.data(moduleNamespace),\n          activeTabPath,\n          parameterArray,\n          module,\n          historyEvent;\n      module = {\n        initialize: function () {\n          module.debug('Initializing tab menu item', $module);\n          module.fix.callbacks();\n          module.determineTabs();\n          module.debug('Determining tabs', settings.context, $tabs); // set up automatic routing\n\n          if (settings.auto) {\n            module.set.auto();\n          }\n\n          module.bind.events();\n\n          if (settings.history && !initializedHistory) {\n            module.initializeHistory();\n            initializedHistory = true;\n          }\n\n          if (settings.autoTabActivation && instance === undefined && module.determine.activeTab() == null) {\n            module.debug('No active tab detected, setting first tab active', module.get.initialPath());\n            module.changeTab(settings.autoTabActivation === true ? module.get.initialPath() : settings.autoTabActivation);\n          }\n\n          ;\n          module.instantiate();\n        },\n        instantiate: function () {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module.data(moduleNamespace, module);\n        },\n        destroy: function () {\n          module.debug('Destroying tabs', $module);\n          $module.removeData(moduleNamespace).off(eventNamespace);\n        },\n        bind: {\n          events: function () {\n            // if using $.tab don't add events\n            if (!$.isWindow(element)) {\n              module.debug('Attaching tab activation events to element', $module);\n              $module.on('click' + eventNamespace, module.event.click);\n            }\n          }\n        },\n        determineTabs: function () {\n          var $reference; // determine tab context\n\n          if (settings.context === 'parent') {\n            if ($module.closest(selector.ui).length > 0) {\n              $reference = $module.closest(selector.ui);\n              module.verbose('Using closest UI element as parent', $reference);\n            } else {\n              $reference = $module;\n            }\n\n            $context = $reference.parent();\n            module.verbose('Determined parent element for creating context', $context);\n          } else if (settings.context) {\n            $context = $(settings.context);\n            module.verbose('Using selector for tab context', settings.context, $context);\n          } else {\n            $context = $('body');\n          } // find tabs\n\n\n          if (settings.childrenOnly) {\n            $tabs = $context.children(selector.tabs);\n            module.debug('Searching tab context children for tabs', $context, $tabs);\n          } else {\n            $tabs = $context.find(selector.tabs);\n            module.debug('Searching tab context for tabs', $context, $tabs);\n          }\n        },\n        fix: {\n          callbacks: function () {\n            if ($.isPlainObject(parameters) && (parameters.onTabLoad || parameters.onTabInit)) {\n              if (parameters.onTabLoad) {\n                parameters.onLoad = parameters.onTabLoad;\n                delete parameters.onTabLoad;\n                module.error(error.legacyLoad, parameters.onLoad);\n              }\n\n              if (parameters.onTabInit) {\n                parameters.onFirstLoad = parameters.onTabInit;\n                delete parameters.onTabInit;\n                module.error(error.legacyInit, parameters.onFirstLoad);\n              }\n\n              settings = $.extend(true, {}, $.fn.tab.settings, parameters);\n            }\n          }\n        },\n        initializeHistory: function () {\n          module.debug('Initializing page state');\n\n          if ($.address === undefined) {\n            module.error(error.state);\n            return false;\n          } else {\n            if (settings.historyType == 'state') {\n              module.debug('Using HTML5 to manage state');\n\n              if (settings.path !== false) {\n                $.address.history(true).state(settings.path);\n              } else {\n                module.error(error.path);\n                return false;\n              }\n            }\n\n            $.address.bind('change', module.event.history.change);\n          }\n        },\n        event: {\n          click: function (event) {\n            var tabPath = $(this).data(metadata.tab);\n\n            if (tabPath !== undefined) {\n              if (settings.history) {\n                module.verbose('Updating page state', event);\n                $.address.value(tabPath);\n              } else {\n                module.verbose('Changing tab', event);\n                module.changeTab(tabPath);\n              }\n\n              event.preventDefault();\n            } else {\n              module.debug('No tab specified');\n            }\n          },\n          history: {\n            change: function (event) {\n              var tabPath = event.pathNames.join('/') || module.get.initialPath(),\n                  pageTitle = settings.templates.determineTitle(tabPath) || false;\n              module.performance.display();\n              module.debug('History change event', tabPath, event);\n              historyEvent = event;\n\n              if (tabPath !== undefined) {\n                module.changeTab(tabPath);\n              }\n\n              if (pageTitle) {\n                $.address.title(pageTitle);\n              }\n            }\n          }\n        },\n        refresh: function () {\n          if (activeTabPath) {\n            module.debug('Refreshing tab', activeTabPath);\n            module.changeTab(activeTabPath);\n          }\n        },\n        cache: {\n          read: function (cacheKey) {\n            return cacheKey !== undefined ? cache[cacheKey] : false;\n          },\n          add: function (cacheKey, content) {\n            cacheKey = cacheKey || activeTabPath;\n            module.debug('Adding cached content for', cacheKey);\n            cache[cacheKey] = content;\n          },\n          remove: function (cacheKey) {\n            cacheKey = cacheKey || activeTabPath;\n            module.debug('Removing cached content for', cacheKey);\n            delete cache[cacheKey];\n          }\n        },\n        escape: {\n          string: function (text) {\n            text = String(text);\n            return text.replace(regExp.escape, '\\\\$&');\n          }\n        },\n        set: {\n          auto: function () {\n            var url = typeof settings.path == 'string' ? settings.path.replace(/\\/$/, '') + '/{$tab}' : '/{$tab}';\n            module.verbose('Setting up automatic tab retrieval from server', url);\n\n            if ($.isPlainObject(settings.apiSettings)) {\n              settings.apiSettings.url = url;\n            } else {\n              settings.apiSettings = {\n                url: url\n              };\n            }\n          },\n          loading: function (tabPath) {\n            var $tab = module.get.tabElement(tabPath),\n                isLoading = $tab.hasClass(className.loading);\n\n            if (!isLoading) {\n              module.verbose('Setting loading state for', $tab);\n              $tab.addClass(className.loading).siblings($tabs).removeClass(className.active + ' ' + className.loading);\n\n              if ($tab.length > 0) {\n                settings.onRequest.call($tab[0], tabPath);\n              }\n            }\n          },\n          state: function (state) {\n            $.address.value(state);\n          }\n        },\n        changeTab: function (tabPath) {\n          var pushStateAvailable = window.history && window.history.pushState,\n              shouldIgnoreLoad = pushStateAvailable && settings.ignoreFirstLoad && firstLoad,\n              remoteContent = settings.auto || $.isPlainObject(settings.apiSettings),\n              // only add default path if not remote content\n          pathArray = remoteContent && !shouldIgnoreLoad ? module.utilities.pathToArray(tabPath) : module.get.defaultPathArray(tabPath);\n          tabPath = module.utilities.arrayToPath(pathArray);\n          $.each(pathArray, function (index, tab) {\n            var currentPathArray = pathArray.slice(0, index + 1),\n                currentPath = module.utilities.arrayToPath(currentPathArray),\n                isTab = module.is.tab(currentPath),\n                isLastIndex = index + 1 == pathArray.length,\n                $tab = module.get.tabElement(currentPath),\n                $anchor,\n                nextPathArray,\n                nextPath,\n                isLastTab;\n            module.verbose('Looking for tab', tab);\n\n            if (isTab) {\n              module.verbose('Tab was found', tab); // scope up\n\n              activeTabPath = currentPath;\n              parameterArray = module.utilities.filterArray(pathArray, currentPathArray);\n\n              if (isLastIndex) {\n                isLastTab = true;\n              } else {\n                nextPathArray = pathArray.slice(0, index + 2);\n                nextPath = module.utilities.arrayToPath(nextPathArray);\n                isLastTab = !module.is.tab(nextPath);\n\n                if (isLastTab) {\n                  module.verbose('Tab parameters found', nextPathArray);\n                }\n              }\n\n              if (isLastTab && remoteContent) {\n                if (!shouldIgnoreLoad) {\n                  module.activate.navigation(currentPath);\n                  module.fetch.content(currentPath, tabPath);\n                } else {\n                  module.debug('Ignoring remote content on first tab load', currentPath);\n                  firstLoad = false;\n                  module.cache.add(tabPath, $tab.html());\n                  module.activate.all(currentPath);\n                  settings.onFirstLoad.call($tab[0], currentPath, parameterArray, historyEvent);\n                  settings.onLoad.call($tab[0], currentPath, parameterArray, historyEvent);\n                }\n\n                return false;\n              } else {\n                module.debug('Opened local tab', currentPath);\n                module.activate.all(currentPath);\n\n                if (!module.cache.read(currentPath)) {\n                  module.cache.add(currentPath, true);\n                  module.debug('First time tab loaded calling tab init');\n                  settings.onFirstLoad.call($tab[0], currentPath, parameterArray, historyEvent);\n                }\n\n                settings.onLoad.call($tab[0], currentPath, parameterArray, historyEvent);\n              }\n            } else if (tabPath.search('/') == -1 && tabPath !== '') {\n              // look for in page anchor\n              tabPath = module.escape.string(tabPath);\n              $anchor = $('#' + tabPath + ', a[name=\"' + tabPath + '\"]');\n              currentPath = $anchor.closest('[data-tab]').data(metadata.tab);\n              $tab = module.get.tabElement(currentPath); // if anchor exists use parent tab\n\n              if ($anchor && $anchor.length > 0 && currentPath) {\n                module.debug('Anchor link used, opening parent tab', $tab, $anchor);\n\n                if (!$tab.hasClass(className.active)) {\n                  setTimeout(function () {\n                    module.scrollTo($anchor);\n                  }, 0);\n                }\n\n                module.activate.all(currentPath);\n\n                if (!module.cache.read(currentPath)) {\n                  module.cache.add(currentPath, true);\n                  module.debug('First time tab loaded calling tab init');\n                  settings.onFirstLoad.call($tab[0], currentPath, parameterArray, historyEvent);\n                }\n\n                settings.onLoad.call($tab[0], currentPath, parameterArray, historyEvent);\n                return false;\n              }\n            } else {\n              module.error(error.missingTab, $module, $context, currentPath);\n              return false;\n            }\n          });\n        },\n        scrollTo: function ($element) {\n          var scrollOffset = $element && $element.length > 0 ? $element.offset().top : false;\n\n          if (scrollOffset !== false) {\n            module.debug('Forcing scroll to an in-page link in a hidden tab', scrollOffset, $element);\n            $(document).scrollTop(scrollOffset);\n          }\n        },\n        update: {\n          content: function (tabPath, html, evaluateScripts) {\n            var $tab = module.get.tabElement(tabPath),\n                tab = $tab[0];\n            evaluateScripts = evaluateScripts !== undefined ? evaluateScripts : settings.evaluateScripts;\n\n            if (typeof settings.cacheType == 'string' && settings.cacheType.toLowerCase() == 'dom' && typeof html !== 'string') {\n              $tab.empty().append($(html).clone(true));\n            } else {\n              if (evaluateScripts) {\n                module.debug('Updating HTML and evaluating inline scripts', tabPath, html);\n                $tab.html(html);\n              } else {\n                module.debug('Updating HTML', tabPath, html);\n                tab.innerHTML = html;\n              }\n            }\n          }\n        },\n        fetch: {\n          content: function (tabPath, fullTabPath) {\n            var $tab = module.get.tabElement(tabPath),\n                apiSettings = {\n              dataType: 'html',\n              encodeParameters: false,\n              on: 'now',\n              cache: settings.alwaysRefresh,\n              headers: {\n                'X-Remote': true\n              },\n              onSuccess: function (response) {\n                if (settings.cacheType == 'response') {\n                  module.cache.add(fullTabPath, response);\n                }\n\n                module.update.content(tabPath, response);\n\n                if (tabPath == activeTabPath) {\n                  module.debug('Content loaded', tabPath);\n                  module.activate.tab(tabPath);\n                } else {\n                  module.debug('Content loaded in background', tabPath);\n                }\n\n                settings.onFirstLoad.call($tab[0], tabPath, parameterArray, historyEvent);\n                settings.onLoad.call($tab[0], tabPath, parameterArray, historyEvent);\n\n                if (settings.loadOnce) {\n                  module.cache.add(fullTabPath, true);\n                } else if (typeof settings.cacheType == 'string' && settings.cacheType.toLowerCase() == 'dom' && $tab.children().length > 0) {\n                  setTimeout(function () {\n                    var $clone = $tab.children().clone(true);\n                    $clone = $clone.not('script');\n                    module.cache.add(fullTabPath, $clone);\n                  }, 0);\n                } else {\n                  module.cache.add(fullTabPath, $tab.html());\n                }\n              },\n              urlData: {\n                tab: fullTabPath\n              }\n            },\n                request = $tab.api('get request') || false,\n                existingRequest = request && request.state() === 'pending',\n                requestSettings,\n                cachedContent;\n            fullTabPath = fullTabPath || tabPath;\n            cachedContent = module.cache.read(fullTabPath);\n\n            if (settings.cache && cachedContent) {\n              module.activate.tab(tabPath);\n              module.debug('Adding cached content', fullTabPath);\n\n              if (!settings.loadOnce) {\n                if (settings.evaluateScripts == 'once') {\n                  module.update.content(tabPath, cachedContent, false);\n                } else {\n                  module.update.content(tabPath, cachedContent);\n                }\n              }\n\n              settings.onLoad.call($tab[0], tabPath, parameterArray, historyEvent);\n            } else if (existingRequest) {\n              module.set.loading(tabPath);\n              module.debug('Content is already loading', fullTabPath);\n            } else if ($.api !== undefined) {\n              requestSettings = $.extend(true, {}, settings.apiSettings, apiSettings);\n              module.debug('Retrieving remote content', fullTabPath, requestSettings);\n              module.set.loading(tabPath);\n              $tab.api(requestSettings);\n            } else {\n              module.error(error.api);\n            }\n          }\n        },\n        activate: {\n          all: function (tabPath) {\n            module.activate.tab(tabPath);\n            module.activate.navigation(tabPath);\n          },\n          tab: function (tabPath) {\n            var $tab = module.get.tabElement(tabPath),\n                $deactiveTabs = settings.deactivate == 'siblings' ? $tab.siblings($tabs) : $tabs.not($tab),\n                isActive = $tab.hasClass(className.active);\n            module.verbose('Showing tab content for', $tab);\n\n            if (!isActive) {\n              $tab.addClass(className.active);\n              $deactiveTabs.removeClass(className.active + ' ' + className.loading);\n\n              if ($tab.length > 0) {\n                settings.onVisible.call($tab[0], tabPath);\n              }\n            }\n          },\n          navigation: function (tabPath) {\n            var $navigation = module.get.navElement(tabPath),\n                $deactiveNavigation = settings.deactivate == 'siblings' ? $navigation.siblings($allModules) : $allModules.not($navigation),\n                isActive = $navigation.hasClass(className.active);\n            module.verbose('Activating tab navigation for', $navigation, tabPath);\n\n            if (!isActive) {\n              $navigation.addClass(className.active);\n              $deactiveNavigation.removeClass(className.active + ' ' + className.loading);\n            }\n          }\n        },\n        deactivate: {\n          all: function () {\n            module.deactivate.navigation();\n            module.deactivate.tabs();\n          },\n          navigation: function () {\n            $allModules.removeClass(className.active);\n          },\n          tabs: function () {\n            $tabs.removeClass(className.active + ' ' + className.loading);\n          }\n        },\n        is: {\n          tab: function (tabName) {\n            return tabName !== undefined ? module.get.tabElement(tabName).length > 0 : false;\n          }\n        },\n        get: {\n          initialPath: function () {\n            return $allModules.eq(0).data(metadata.tab) || $tabs.eq(0).data(metadata.tab);\n          },\n          path: function () {\n            return $.address.value();\n          },\n          // adds default tabs to tab path\n          defaultPathArray: function (tabPath) {\n            return module.utilities.pathToArray(module.get.defaultPath(tabPath));\n          },\n          defaultPath: function (tabPath) {\n            var $defaultNav = $allModules.filter('[data-' + metadata.tab + '^=\"' + module.escape.string(tabPath) + '/\"]').eq(0),\n                defaultTab = $defaultNav.data(metadata.tab) || false;\n\n            if (defaultTab) {\n              module.debug('Found default tab', defaultTab);\n\n              if (recursionDepth < settings.maxDepth) {\n                recursionDepth++;\n                return module.get.defaultPath(defaultTab);\n              }\n\n              module.error(error.recursion);\n            } else {\n              module.debug('No default tabs found for', tabPath, $tabs);\n            }\n\n            recursionDepth = 0;\n            return tabPath;\n          },\n          navElement: function (tabPath) {\n            tabPath = tabPath || activeTabPath;\n            return $allModules.filter('[data-' + metadata.tab + '=\"' + module.escape.string(tabPath) + '\"]');\n          },\n          tabElement: function (tabPath) {\n            var $fullPathTab, $simplePathTab, tabPathArray, lastTab;\n            tabPath = tabPath || activeTabPath;\n            tabPathArray = module.utilities.pathToArray(tabPath);\n            lastTab = module.utilities.last(tabPathArray);\n            $fullPathTab = $tabs.filter('[data-' + metadata.tab + '=\"' + module.escape.string(tabPath) + '\"]');\n            $simplePathTab = $tabs.filter('[data-' + metadata.tab + '=\"' + module.escape.string(lastTab) + '\"]');\n            return $fullPathTab.length > 0 ? $fullPathTab : $simplePathTab;\n          },\n          tab: function () {\n            return activeTabPath;\n          }\n        },\n        determine: {\n          activeTab: function () {\n            var activeTab = null;\n            $tabs.each(function (_index, tab) {\n              var $tab = $(tab);\n\n              if ($tab.hasClass(className.active)) {\n                var tabPath = $(this).data(metadata.tab),\n                    $anchor = $allModules.filter('[data-' + metadata.tab + '=\"' + module.escape.string(tabPath) + '\"]');\n\n                if ($anchor.hasClass(className.active)) {\n                  activeTab = tabPath;\n                }\n              }\n            });\n            return activeTab;\n          }\n        },\n        utilities: {\n          filterArray: function (keepArray, removeArray) {\n            return $.grep(keepArray, function (keepValue) {\n              return $.inArray(keepValue, removeArray) == -1;\n            });\n          },\n          last: function (array) {\n            return Array.isArray(array) ? array[array.length - 1] : false;\n          },\n          pathToArray: function (pathName) {\n            if (pathName === undefined) {\n              pathName = activeTabPath;\n            }\n\n            return typeof pathName == 'string' ? pathName.split('/') : [pathName];\n          },\n          arrayToPath: function (pathArray) {\n            return Array.isArray(pathArray) ? pathArray.join('/') : false;\n          }\n        },\n        setting: function (name, value) {\n          module.debug('Changing setting', name, value);\n\n          if ($.isPlainObject(name)) {\n            $.extend(true, settings, name);\n          } else if (value !== undefined) {\n            if ($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            } else {\n              settings[name] = value;\n            }\n          } else {\n            return settings[name];\n          }\n        },\n        internal: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, module, name);\n          } else if (value !== undefined) {\n            module[name] = value;\n          } else {\n            return module[name];\n          }\n        },\n        debug: function () {\n          if (!settings.silent && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function () {\n          if (!settings.silent && settings.verbose && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function () {\n          if (!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function (message) {\n            var currentTime, executionTime, previousTime;\n\n            if (settings.performance) {\n              currentTime = new Date().getTime();\n              previousTime = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time = currentTime;\n              performance.push({\n                'Name': message[0],\n                'Arguments': [].slice.call(message, 1) || '',\n                'Element': element,\n                'Execution Time': executionTime\n              });\n            }\n\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function () {\n            var title = settings.name + ':',\n                totalTime = 0;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function (index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n\n            if (moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n\n            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n\n              if (console.table) {\n                console.table(performance);\n              } else {\n                $.each(performance, function (index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');\n                });\n              }\n\n              console.groupEnd();\n            }\n\n            performance = [];\n          }\n        },\n        invoke: function (query, passedArguments, context) {\n          var object = instance,\n              maxDepth,\n              found,\n              response;\n          passedArguments = passedArguments || queryArguments;\n          context = element || context;\n\n          if (typeof query == 'string' && object !== undefined) {\n            query = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function (depth, value) {\n              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;\n\n              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {\n                object = object[camelCaseValue];\n              } else if (object[camelCaseValue] !== undefined) {\n                found = object[camelCaseValue];\n                return false;\n              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {\n                object = object[value];\n              } else if (object[value] !== undefined) {\n                found = object[value];\n                return false;\n              } else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n\n          if ($.isFunction(found)) {\n            response = found.apply(context, passedArguments);\n          } else if (found !== undefined) {\n            response = found;\n          }\n\n          if (Array.isArray(returnedValue)) {\n            returnedValue.push(response);\n          } else if (returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          } else if (response !== undefined) {\n            returnedValue = response;\n          }\n\n          return found;\n        }\n      };\n\n      if (methodInvoked) {\n        if (instance === undefined) {\n          module.initialize();\n        }\n\n        module.invoke(query);\n      } else {\n        if (instance !== undefined) {\n          instance.invoke('destroy');\n        }\n\n        module.initialize();\n      }\n    });\n    return returnedValue !== undefined ? returnedValue : this;\n  }; // shortcut for tabbed content with no defined navigation\n\n\n  $.tab = function () {\n    $(window).tab.apply(this, arguments);\n  };\n\n  $.fn.tab.settings = {\n    name: 'Tab',\n    namespace: 'tab',\n    silent: false,\n    debug: false,\n    verbose: false,\n    performance: true,\n    auto: false,\n    // uses pjax style endpoints fetching content from same url with remote-content headers\n    history: false,\n    // use browser history\n    historyType: 'hash',\n    // #/ or html5 state\n    path: false,\n    // base path of url\n    context: false,\n    // specify a context that tabs must appear inside\n    childrenOnly: false,\n    // use only tabs that are children of context\n    maxDepth: 25,\n    // max depth a tab can be nested\n    deactivate: 'siblings',\n    // whether tabs should deactivate sibling menu elements or all elements initialized together\n    alwaysRefresh: false,\n    // load tab content new every tab click\n    cache: true,\n    // cache the content requests to pull locally\n    loadOnce: false,\n    // Whether tab data should only be loaded once when using remote content\n    cacheType: 'response',\n    // Whether to cache exact response, or to html cache contents after scripts execute\n    ignoreFirstLoad: false,\n    // don't load remote content on first load\n    apiSettings: false,\n    // settings for api call\n    evaluateScripts: 'once',\n    // whether inline scripts should be parsed (true/false/once). Once will not re-evaluate on cached content\n    autoTabActivation: true,\n    // whether a non existing active tab will auto activate the first available tab\n    onFirstLoad: function (tabPath, parameterArray, historyEvent) {},\n    // called first time loaded\n    onLoad: function (tabPath, parameterArray, historyEvent) {},\n    // called on every load\n    onVisible: function (tabPath, parameterArray, historyEvent) {},\n    // called every time tab visible\n    onRequest: function (tabPath, parameterArray, historyEvent) {},\n    // called ever time a tab beings loading remote content\n    templates: {\n      determineTitle: function (tabArray) {} // returns page title for path\n\n    },\n    error: {\n      api: 'You attempted to load content without API module',\n      method: 'The method you called is not defined',\n      missingTab: 'Activated tab cannot be found. Tabs are case-sensitive.',\n      noContent: 'The tab you specified is missing a content url.',\n      path: 'History enabled, but no path was specified',\n      recursion: 'Max recursive depth reached',\n      legacyInit: 'onTabInit has been renamed to onFirstLoad in 2.0, please adjust your code.',\n      legacyLoad: 'onTabLoad has been renamed to onLoad in 2.0. Please adjust your code',\n      state: 'History requires Asual\\'s Address library <https://github.com/asual/jquery-address>'\n    },\n    regExp: {\n      escape: /[-[\\]{}()*+?.,\\\\^$|#\\s:=@]/g\n    },\n    metadata: {\n      tab: 'tab',\n      loaded: 'loaded',\n      promise: 'promise'\n    },\n    className: {\n      loading: 'loading',\n      active: 'active'\n    },\n    selector: {\n      tabs: '.ui.tab',\n      ui: '.ui'\n    }\n  };\n})(jQuery, window, document);\n/*!\n * # Fomantic-UI 2.8.8 - Toast\n * http://github.com/fomantic/Fomantic-UI/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n\n;\n\n(function ($, window, document, undefined) {\n  'use strict';\n\n  $.isFunction = $.isFunction || function (obj) {\n    return typeof obj === \"function\" && typeof obj.nodeType !== \"number\";\n  };\n\n  window = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\n\n  $.fn.toast = function (parameters) {\n    var $allModules = $(this),\n        moduleSelector = $allModules.selector || '',\n        time = new Date().getTime(),\n        performance = [],\n        query = arguments[0],\n        methodInvoked = typeof query == 'string',\n        queryArguments = [].slice.call(arguments, 1),\n        returnedValue;\n    $allModules.each(function () {\n      var settings = $.isPlainObject(parameters) ? $.extend(true, {}, $.fn.toast.settings, parameters) : $.extend({}, $.fn.toast.settings),\n          className = settings.className,\n          selector = settings.selector,\n          error = settings.error,\n          namespace = settings.namespace,\n          fields = settings.fields,\n          eventNamespace = '.' + namespace,\n          moduleNamespace = namespace + '-module',\n          $module = $(this),\n          $toastBox,\n          $toast,\n          $actions,\n          $progress,\n          $progressBar,\n          $animationObject,\n          $close,\n          $context = settings.context ? $(settings.context) : $('body'),\n          isToastComponent = $module.hasClass('toast') || $module.hasClass('message') || $module.hasClass('card'),\n          element = this,\n          instance = isToastComponent ? $module.data(moduleNamespace) : undefined,\n          module;\n      module = {\n        initialize: function () {\n          module.verbose('Initializing element');\n\n          if (!module.has.container()) {\n            module.create.container();\n          }\n\n          if (isToastComponent || settings.message !== '' || settings.title !== '' || module.get.iconClass() !== '' || settings.showImage || module.has.configActions()) {\n            if (typeof settings.showProgress !== 'string' || [className.top, className.bottom].indexOf(settings.showProgress) === -1) {\n              settings.showProgress = false;\n            }\n\n            module.create.toast();\n\n            if (settings.closeOnClick && (settings.closeIcon || $($toast).find(selector.input).length > 0 || module.has.configActions())) {\n              settings.closeOnClick = false;\n            }\n\n            if (!settings.closeOnClick) {\n              $toastBox.addClass(className.unclickable);\n            }\n\n            module.bind.events();\n          }\n\n          module.instantiate();\n\n          if ($toastBox) {\n            module.show();\n          }\n        },\n        instantiate: function () {\n          module.verbose('Storing instance of toast');\n          instance = module;\n          $module.data(moduleNamespace, instance);\n        },\n        destroy: function () {\n          if ($toastBox) {\n            module.debug('Removing toast', $toastBox);\n            module.unbind.events();\n            $toastBox.remove();\n            $toastBox = undefined;\n            $toast = undefined;\n            $animationObject = undefined;\n            settings.onRemove.call($toastBox, element);\n            $progress = undefined;\n            $progressBar = undefined;\n            $close = undefined;\n          }\n\n          $module.removeData(moduleNamespace);\n        },\n        show: function (callback) {\n          callback = callback || function () {};\n\n          module.debug('Showing toast');\n\n          if (settings.onShow.call($toastBox, element) === false) {\n            module.debug('onShow callback returned false, cancelling toast animation');\n            return;\n          }\n\n          module.animate.show(callback);\n        },\n        close: function (callback) {\n          callback = callback || function () {};\n\n          module.remove.visible();\n          module.unbind.events();\n          module.animate.close(callback);\n        },\n        create: {\n          container: function () {\n            module.verbose('Creating container');\n            $context.append($('<div/>', {\n              class: settings.position + ' ' + className.container + ' ' + (settings.horizontal ? className.horizontal : '')\n            }));\n          },\n          toast: function () {\n            $toastBox = $('<div/>', {\n              class: className.box\n            });\n            var iconClass = module.get.iconClass();\n\n            if (!isToastComponent) {\n              module.verbose('Creating toast');\n              $toast = $('<div/>');\n              var $content = $('<div/>', {\n                class: className.content\n              });\n\n              if (iconClass !== '') {\n                $toast.append($('<i/>', {\n                  class: iconClass + ' ' + className.icon\n                }));\n              }\n\n              if (settings.showImage) {\n                $toast.append($('<img>', {\n                  class: className.image + ' ' + settings.classImage,\n                  src: settings.showImage\n                }));\n              }\n\n              if (settings.title !== '') {\n                $content.append($('<div/>', {\n                  class: className.title,\n                  text: settings.title\n                }));\n              }\n\n              $content.append($('<div/>', {\n                class: className.message,\n                html: module.helpers.escape(settings.message, settings.preserveHTML)\n              }));\n              $toast.addClass(settings.class + ' ' + className.toast).append($content);\n              $toast.css('opacity', settings.opacity);\n\n              if (settings.closeIcon) {\n                $close = $('<i/>', {\n                  class: className.close + ' ' + (typeof settings.closeIcon === 'string' ? settings.closeIcon : '')\n                });\n\n                if ($close.hasClass(className.left)) {\n                  $toast.prepend($close);\n                } else {\n                  $toast.append($close);\n                }\n              }\n            } else {\n              $toast = settings.cloneModule ? $module.clone().removeAttr('id') : $module;\n              $close = $toast.find('> i' + module.helpers.toClass(className.close));\n              settings.closeIcon = $close.length > 0;\n\n              if (iconClass !== '') {\n                $toast.find(selector.icon).attr('class', iconClass + ' ' + className.icon);\n              }\n\n              if (settings.showImage) {\n                $toast.find(selector.image).attr('src', settings.showImage);\n              }\n\n              if (settings.title !== '') {\n                $toast.find(selector.title).html(module.helpers.escape(settings.title, settings.preserveHTML));\n              }\n\n              if (settings.message !== '') {\n                $toast.find(selector.message).html(module.helpers.escape(settings.message, settings.preserveHTML));\n              }\n            }\n\n            if ($toast.hasClass(className.compact)) {\n              settings.compact = true;\n            }\n\n            if ($toast.hasClass('card')) {\n              settings.compact = false;\n            }\n\n            $actions = $toast.find('.actions');\n\n            if (module.has.configActions()) {\n              if ($actions.length === 0) {\n                $actions = $('<div/>', {\n                  class: className.actions + ' ' + (settings.classActions || '')\n                }).appendTo($toast);\n              }\n\n              if ($toast.hasClass('card') && !$actions.hasClass(className.attached)) {\n                $actions.addClass(className.extraContent);\n\n                if ($actions.hasClass(className.vertical)) {\n                  $actions.removeClass(className.vertical);\n                  module.error(error.verticalCard);\n                }\n              }\n\n              settings.actions.forEach(function (el) {\n                var icon = el[fields.icon] ? '<i class=\"' + module.helpers.deQuote(el[fields.icon]) + ' icon\"></i>' : '',\n                    text = module.helpers.escape(el[fields.text] || '', settings.preserveHTML),\n                    cls = module.helpers.deQuote(el[fields.class] || ''),\n                    click = el[fields.click] && $.isFunction(el[fields.click]) ? el[fields.click] : function () {};\n                $actions.append($('<button/>', {\n                  html: icon + text,\n                  class: className.button + ' ' + cls,\n                  click: function () {\n                    if (click.call(element, $module) === false) {\n                      return;\n                    }\n\n                    module.close();\n                  }\n                }));\n              });\n            }\n\n            if ($actions && $actions.hasClass(className.vertical)) {\n              $toast.addClass(className.vertical);\n            }\n\n            if ($actions.length > 0 && !$actions.hasClass(className.attached)) {\n              if ($actions && (!$actions.hasClass(className.basic) || $actions.hasClass(className.left))) {\n                $toast.addClass(className.actions);\n              }\n            }\n\n            if (settings.displayTime === 'auto') {\n              settings.displayTime = Math.max(settings.minDisplayTime, $toast.text().split(\" \").length / settings.wordsPerMinute * 60000);\n            }\n\n            $toastBox.append($toast);\n\n            if ($actions.length > 0 && $actions.hasClass(className.attached)) {\n              $actions.addClass(className.buttons);\n              $actions.detach();\n              $toast.addClass(className.attached);\n\n              if (!$actions.hasClass(className.vertical)) {\n                if ($actions.hasClass(className.top)) {\n                  $toastBox.prepend($actions);\n                  $toast.addClass(className.bottom);\n                } else {\n                  $toastBox.append($actions);\n                  $toast.addClass(className.top);\n                }\n              } else {\n                $toast.wrap($('<div/>', {\n                  class: className.vertical + ' ' + className.attached + ' ' + (settings.compact ? className.compact : '')\n                }));\n\n                if ($actions.hasClass(className.left)) {\n                  $toast.addClass(className.left).parent().addClass(className.left).prepend($actions);\n                } else {\n                  $toast.parent().append($actions);\n                }\n              }\n            }\n\n            if ($module !== $toast) {\n              $module = $toast;\n              element = $toast[0];\n            }\n\n            if (settings.displayTime > 0) {\n              var progressingClass = className.progressing + ' ' + (settings.pauseOnHover ? className.pausable : '');\n\n              if (!!settings.showProgress) {\n                $progress = $('<div/>', {\n                  class: className.progress + ' ' + (settings.classProgress || settings.class),\n                  'data-percent': ''\n                });\n\n                if (!settings.classProgress) {\n                  if ($toast.hasClass('toast') && !$toast.hasClass(className.inverted)) {\n                    $progress.addClass(className.inverted);\n                  } else {\n                    $progress.removeClass(className.inverted);\n                  }\n                }\n\n                $progressBar = $('<div/>', {\n                  class: 'bar ' + (settings.progressUp ? 'up ' : 'down ') + progressingClass\n                });\n                $progress.addClass(settings.showProgress).append($progressBar);\n\n                if ($progress.hasClass(className.top)) {\n                  $toastBox.prepend($progress);\n                } else {\n                  $toastBox.append($progress);\n                }\n\n                $progressBar.css('animation-duration', settings.displayTime / 1000 + 's');\n              }\n\n              $animationObject = $('<span/>', {\n                class: 'wait ' + progressingClass\n              });\n              $animationObject.css('animation-duration', settings.displayTime / 1000 + 's');\n              $animationObject.appendTo($toast);\n            }\n\n            if (settings.compact) {\n              $toastBox.addClass(className.compact);\n              $toast.addClass(className.compact);\n\n              if ($progress) {\n                $progress.addClass(className.compact);\n              }\n            }\n\n            if (settings.newestOnTop) {\n              $toastBox.prependTo(module.get.container());\n            } else {\n              $toastBox.appendTo(module.get.container());\n            }\n          }\n        },\n        bind: {\n          events: function () {\n            module.debug('Binding events to toast');\n\n            if (settings.closeOnClick || settings.closeIcon) {\n              (settings.closeIcon ? $close : $toast).on('click' + eventNamespace, module.event.click);\n            }\n\n            if ($animationObject) {\n              $animationObject.on('animationend' + eventNamespace, module.close);\n            }\n\n            $toastBox.on('click' + eventNamespace, selector.approve, module.event.approve).on('click' + eventNamespace, selector.deny, module.event.deny);\n          }\n        },\n        unbind: {\n          events: function () {\n            module.debug('Unbinding events to toast');\n\n            if (settings.closeOnClick || settings.closeIcon) {\n              (settings.closeIcon ? $close : $toast).off('click' + eventNamespace);\n            }\n\n            if ($animationObject) {\n              $animationObject.off('animationend' + eventNamespace);\n            }\n\n            $toastBox.off('click' + eventNamespace);\n          }\n        },\n        animate: {\n          show: function (callback) {\n            callback = $.isFunction(callback) ? callback : function () {};\n\n            if (settings.transition && module.can.useElement('transition') && $module.transition('is supported')) {\n              module.set.visible();\n              $toastBox.transition({\n                animation: settings.transition.showMethod + ' in',\n                queue: false,\n                debug: settings.debug,\n                verbose: settings.verbose,\n                duration: settings.transition.showDuration,\n                onComplete: function () {\n                  callback.call($toastBox, element);\n                  settings.onVisible.call($toastBox, element);\n                }\n              });\n            }\n          },\n          close: function (callback) {\n            callback = $.isFunction(callback) ? callback : function () {};\n            module.debug('Closing toast');\n\n            if (settings.onHide.call($toastBox, element) === false) {\n              module.debug('onHide callback returned false, cancelling toast animation');\n              return;\n            }\n\n            if (settings.transition && $.fn.transition !== undefined && $module.transition('is supported')) {\n              $toastBox.transition({\n                animation: settings.transition.hideMethod + ' out',\n                queue: false,\n                duration: settings.transition.hideDuration,\n                debug: settings.debug,\n                verbose: settings.verbose,\n                interval: 50,\n                onBeforeHide: function (callback) {\n                  callback = $.isFunction(callback) ? callback : function () {};\n\n                  if (settings.transition.closeEasing !== '') {\n                    if ($toastBox) {\n                      $toastBox.css('opacity', 0);\n                      $toastBox.wrap('<div/>').parent().hide(settings.transition.closeDuration, settings.transition.closeEasing, function () {\n                        if ($toastBox) {\n                          $toastBox.parent().remove();\n                          callback.call($toastBox);\n                        }\n                      });\n                    }\n                  } else {\n                    callback.call($toastBox);\n                  }\n                },\n                onComplete: function () {\n                  callback.call($toastBox, element);\n                  settings.onHidden.call($toastBox, element);\n                  module.destroy();\n                }\n              });\n            } else {\n              module.error(error.noTransition);\n            }\n          },\n          pause: function () {\n            $animationObject.css('animationPlayState', 'paused');\n\n            if ($progressBar) {\n              $progressBar.css('animationPlayState', 'paused');\n            }\n          },\n          continue: function () {\n            $animationObject.css('animationPlayState', 'running');\n\n            if ($progressBar) {\n              $progressBar.css('animationPlayState', 'running');\n            }\n          }\n        },\n        has: {\n          container: function () {\n            module.verbose('Determining if there is already a container');\n            return $context.find(module.helpers.toClass(settings.position) + selector.container + (settings.horizontal ? module.helpers.toClass(className.horizontal) : '')).length > 0;\n          },\n          toast: function () {\n            return !!module.get.toast();\n          },\n          toasts: function () {\n            return module.get.toasts().length > 0;\n          },\n          configActions: function () {\n            return Array.isArray(settings.actions) && settings.actions.length > 0;\n          }\n        },\n        get: {\n          container: function () {\n            return $context.find(module.helpers.toClass(settings.position) + selector.container)[0];\n          },\n          toastBox: function () {\n            return $toastBox || null;\n          },\n          toast: function () {\n            return $toast || null;\n          },\n          toasts: function () {\n            return $(module.get.container()).find(selector.box);\n          },\n          iconClass: function () {\n            return typeof settings.showIcon === 'string' ? settings.showIcon : settings.showIcon && settings.icons[settings.class] ? settings.icons[settings.class] : '';\n          },\n          remainingTime: function () {\n            return $animationObject ? $animationObject.css('opacity') * settings.displayTime : 0;\n          }\n        },\n        set: {\n          visible: function () {\n            $toast.addClass(className.visible);\n          }\n        },\n        remove: {\n          visible: function () {\n            $toast.removeClass(className.visible);\n          }\n        },\n        event: {\n          click: function (event) {\n            if ($(event.target).closest('a').length === 0) {\n              settings.onClick.call($toastBox, element);\n              module.close();\n            }\n          },\n          approve: function () {\n            if (settings.onApprove.call(element, $module) === false) {\n              module.verbose('Approve callback returned false cancelling close');\n              return;\n            }\n\n            module.close();\n          },\n          deny: function () {\n            if (settings.onDeny.call(element, $module) === false) {\n              module.verbose('Deny callback returned false cancelling close');\n              return;\n            }\n\n            module.close();\n          }\n        },\n        helpers: {\n          toClass: function (selector) {\n            var classes = selector.split(' '),\n                result = '';\n            classes.forEach(function (element) {\n              result += '.' + element;\n            });\n            return result;\n          },\n          deQuote: function (string) {\n            return String(string).replace(/\"/g, \"\");\n          },\n          escape: function (string, preserveHTML) {\n            if (preserveHTML) {\n              return string;\n            }\n\n            var badChars = /[<>\"'`]/g,\n                shouldEscape = /[&<>\"'`]/,\n                escape = {\n              \"<\": \"&lt;\",\n              \">\": \"&gt;\",\n              '\"': \"&quot;\",\n              \"'\": \"&#x27;\",\n              \"`\": \"&#x60;\"\n            },\n                escapedChar = function (chr) {\n              return escape[chr];\n            };\n\n            if (shouldEscape.test(string)) {\n              string = string.replace(/&(?![a-z0-9#]{1,6};)/, \"&amp;\");\n              return string.replace(badChars, escapedChar);\n            }\n\n            return string;\n          }\n        },\n        can: {\n          useElement: function (element) {\n            if ($.fn[element] !== undefined) {\n              return true;\n            }\n\n            module.error(error.noElement.replace('{element}', element));\n            return false;\n          }\n        },\n        setting: function (name, value) {\n          module.debug('Changing setting', name, value);\n\n          if ($.isPlainObject(name)) {\n            $.extend(true, settings, name);\n          } else if (value !== undefined) {\n            if ($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            } else {\n              settings[name] = value;\n            }\n          } else {\n            return settings[name];\n          }\n        },\n        internal: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, module, name);\n          } else if (value !== undefined) {\n            module[name] = value;\n          } else {\n            return module[name];\n          }\n        },\n        debug: function () {\n          if (!settings.silent && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function () {\n          if (!settings.silent && settings.verbose && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function () {\n          if (!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function (message) {\n            var currentTime, executionTime, previousTime;\n\n            if (settings.performance) {\n              currentTime = new Date().getTime();\n              previousTime = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time = currentTime;\n              performance.push({\n                'Name': message[0],\n                'Arguments': [].slice.call(message, 1) || '',\n                'Element': element,\n                'Execution Time': executionTime\n              });\n            }\n\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function () {\n            var title = settings.name + ':',\n                totalTime = 0;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function (index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n\n            if (moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n\n            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n\n              if (console.table) {\n                console.table(performance);\n              } else {\n                $.each(performance, function (index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');\n                });\n              }\n\n              console.groupEnd();\n            }\n\n            performance = [];\n          }\n        },\n        invoke: function (query, passedArguments, context) {\n          var object = instance,\n              maxDepth,\n              found,\n              response;\n          passedArguments = passedArguments || queryArguments;\n          context = element || context;\n\n          if (typeof query == 'string' && object !== undefined) {\n            query = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function (depth, value) {\n              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;\n\n              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {\n                object = object[camelCaseValue];\n              } else if (object[camelCaseValue] !== undefined) {\n                found = object[camelCaseValue];\n                return false;\n              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {\n                object = object[value];\n              } else if (object[value] !== undefined) {\n                found = object[value];\n                return false;\n              } else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n\n          if ($.isFunction(found)) {\n            response = found.apply(context, passedArguments);\n          } else if (found !== undefined) {\n            response = found;\n          }\n\n          if (Array.isArray(returnedValue)) {\n            returnedValue.push(response);\n          } else if (returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          } else if (response !== undefined) {\n            returnedValue = response;\n          }\n\n          return found;\n        }\n      };\n\n      if (methodInvoked) {\n        if (instance === undefined) {\n          module.initialize();\n        }\n\n        module.invoke(query);\n      } else {\n        if (instance !== undefined) {\n          instance.invoke('destroy');\n        }\n\n        module.initialize();\n        returnedValue = $module;\n      }\n    });\n    return returnedValue !== undefined ? returnedValue : this;\n  };\n\n  $.fn.toast.settings = {\n    name: 'Toast',\n    namespace: 'toast',\n    silent: false,\n    debug: false,\n    verbose: false,\n    performance: true,\n    context: 'body',\n    position: 'top right',\n    horizontal: false,\n    class: 'neutral',\n    classProgress: false,\n    classActions: false,\n    classImage: 'mini',\n    title: '',\n    message: '',\n    displayTime: 3000,\n    // set to zero to require manually dismissal, otherwise hides on its own\n    minDisplayTime: 1000,\n    // minimum displaytime in case displayTime is set to 'auto'\n    wordsPerMinute: 120,\n    showIcon: false,\n    newestOnTop: false,\n    showProgress: false,\n    pauseOnHover: true,\n    progressUp: false,\n    //if true, the bar will start at 0% and increase to 100%\n    opacity: 1,\n    compact: true,\n    closeIcon: false,\n    closeOnClick: true,\n    cloneModule: true,\n    actions: false,\n    preserveHTML: true,\n    showImage: false,\n    // transition settings\n    transition: {\n      showMethod: 'scale',\n      showDuration: 500,\n      hideMethod: 'scale',\n      hideDuration: 500,\n      closeEasing: 'easeOutCubic',\n      //Set to empty string to stack the closed toast area immediately (old behaviour)\n      closeDuration: 500\n    },\n    error: {\n      method: 'The method you called is not defined.',\n      noElement: 'This module requires ui {element}',\n      verticalCard: 'Vertical but not attached actions are not supported for card layout'\n    },\n    className: {\n      container: 'ui toast-container',\n      box: 'floating toast-box',\n      progress: 'ui attached active progress',\n      toast: 'ui toast',\n      icon: 'centered icon',\n      visible: 'visible',\n      content: 'content',\n      title: 'ui header',\n      message: 'message',\n      actions: 'actions',\n      extraContent: 'extra content',\n      button: 'ui button',\n      buttons: 'ui buttons',\n      close: 'close icon',\n      image: 'ui image',\n      vertical: 'vertical',\n      horizontal: 'horizontal',\n      attached: 'attached',\n      inverted: 'inverted',\n      compact: 'compact',\n      pausable: 'pausable',\n      progressing: 'progressing',\n      top: 'top',\n      bottom: 'bottom',\n      left: 'left',\n      basic: 'basic',\n      unclickable: 'unclickable'\n    },\n    icons: {\n      info: 'info',\n      success: 'checkmark',\n      warning: 'warning',\n      error: 'times'\n    },\n    selector: {\n      container: '.ui.toast-container',\n      box: '.toast-box',\n      toast: '.ui.toast',\n      title: '.header',\n      message: '.message:not(.ui)',\n      image: '> img.image, > .image > img',\n      icon: '> i.icon',\n      input: 'input:not([type=\"hidden\"]), textarea, select, button, .ui.button, ui.dropdown',\n      approve: '.actions .positive, .actions .approve, .actions .ok',\n      deny: '.actions .negative, .actions .deny, .actions .cancel'\n    },\n    fields: {\n      class: 'class',\n      text: 'text',\n      icon: 'icon',\n      click: 'click'\n    },\n    // callbacks\n    onShow: function () {},\n    onVisible: function () {},\n    onClick: function () {},\n    onHide: function () {},\n    onHidden: function () {},\n    onRemove: function () {},\n    onApprove: function () {},\n    onDeny: function () {}\n  };\n  $.extend($.easing, {\n    easeOutBounce: function (x, t, b, c, d) {\n      if ((t /= d) < 1 / 2.75) {\n        return c * (7.5625 * t * t) + b;\n      } else if (t < 2 / 2.75) {\n        return c * (7.5625 * (t -= 1.5 / 2.75) * t + .75) + b;\n      } else if (t < 2.5 / 2.75) {\n        return c * (7.5625 * (t -= 2.25 / 2.75) * t + .9375) + b;\n      } else {\n        return c * (7.5625 * (t -= 2.625 / 2.75) * t + .984375) + b;\n      }\n    },\n    easeOutCubic: function (t) {\n      return --t * t * t + 1;\n    }\n  });\n})(jQuery, window, document);\n/*!\n * # Fomantic-UI 2.8.8 - Transition\n * http://github.com/fomantic/Fomantic-UI/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n\n;\n\n(function ($, window, document, undefined) {\n  'use strict';\n\n  $.isFunction = $.isFunction || function (obj) {\n    return typeof obj === \"function\" && typeof obj.nodeType !== \"number\";\n  };\n\n  window = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\n\n  $.fn.transition = function () {\n    var $allModules = $(this),\n        moduleSelector = $allModules.selector || '',\n        time = new Date().getTime(),\n        performance = [],\n        moduleArguments = arguments,\n        query = moduleArguments[0],\n        queryArguments = [].slice.call(arguments, 1),\n        methodInvoked = typeof query === 'string',\n        returnedValue;\n    $allModules.each(function (index) {\n      var $module = $(this),\n          element = this,\n          // set at run time\n      settings,\n          instance,\n          error,\n          className,\n          metadata,\n          animationEnd,\n          moduleNamespace,\n          eventNamespace,\n          module;\n      module = {\n        initialize: function () {\n          // get full settings\n          settings = module.get.settings.apply(element, moduleArguments); // shorthand\n\n          className = settings.className;\n          error = settings.error;\n          metadata = settings.metadata; // define namespace\n\n          eventNamespace = '.' + settings.namespace;\n          moduleNamespace = 'module-' + settings.namespace;\n          instance = $module.data(moduleNamespace) || module; // get vendor specific events\n\n          animationEnd = module.get.animationEndEvent();\n\n          if (methodInvoked) {\n            methodInvoked = module.invoke(query);\n          } // method not invoked, lets run an animation\n\n\n          if (methodInvoked === false) {\n            module.verbose('Converted arguments into settings object', settings);\n\n            if (settings.interval) {\n              module.delay(settings.animate);\n            } else {\n              module.animate();\n            }\n\n            module.instantiate();\n          }\n        },\n        instantiate: function () {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module.data(moduleNamespace, instance);\n        },\n        destroy: function () {\n          module.verbose('Destroying previous module for', element);\n          $module.removeData(moduleNamespace);\n        },\n        refresh: function () {\n          module.verbose('Refreshing display type on next animation');\n          delete module.displayType;\n        },\n        forceRepaint: function () {\n          module.verbose('Forcing element repaint');\n          var $parentElement = $module.parent(),\n              $nextElement = $module.next();\n\n          if ($nextElement.length === 0) {\n            $module.detach().appendTo($parentElement);\n          } else {\n            $module.detach().insertBefore($nextElement);\n          }\n        },\n        repaint: function () {\n          module.verbose('Repainting element');\n          var fakeAssignment = element.offsetWidth;\n        },\n        delay: function (interval) {\n          var direction = module.get.animationDirection(),\n              shouldReverse,\n              delay;\n\n          if (!direction) {\n            direction = module.can.transition() ? module.get.direction() : 'static';\n          }\n\n          interval = interval !== undefined ? interval : settings.interval;\n          shouldReverse = settings.reverse == 'auto' && direction == className.outward;\n          delay = shouldReverse || settings.reverse == true ? ($allModules.length - index) * settings.interval : index * settings.interval;\n          module.debug('Delaying animation by', delay);\n          setTimeout(module.animate, delay);\n        },\n        animate: function (overrideSettings) {\n          settings = overrideSettings || settings;\n\n          if (!module.is.supported()) {\n            module.error(error.support);\n            return false;\n          }\n\n          module.debug('Preparing animation', settings.animation);\n\n          if (module.is.animating()) {\n            if (settings.queue) {\n              if (!settings.allowRepeats && module.has.direction() && module.is.occurring() && module.queuing !== true) {\n                module.debug('Animation is currently occurring, preventing queueing same animation', settings.animation);\n              } else {\n                module.queue(settings.animation);\n              }\n\n              return false;\n            } else if (!settings.allowRepeats && module.is.occurring()) {\n              module.debug('Animation is already occurring, will not execute repeated animation', settings.animation);\n              return false;\n            } else {\n              module.debug('New animation started, completing previous early', settings.animation);\n              instance.complete();\n            }\n          }\n\n          if (module.can.animate()) {\n            module.set.animating(settings.animation);\n          } else {\n            module.error(error.noAnimation, settings.animation, element);\n          }\n        },\n        reset: function () {\n          module.debug('Resetting animation to beginning conditions');\n          module.remove.animationCallbacks();\n          module.restore.conditions();\n          module.remove.animating();\n        },\n        queue: function (animation) {\n          module.debug('Queueing animation of', animation);\n          module.queuing = true;\n          $module.one(animationEnd + '.queue' + eventNamespace, function () {\n            module.queuing = false;\n            module.repaint();\n            module.animate.apply(this, settings);\n          });\n        },\n        complete: function (event) {\n          if (event && event.target === element) {\n            event.stopPropagation();\n          }\n\n          module.debug('Animation complete', settings.animation);\n          module.remove.completeCallback();\n          module.remove.failSafe();\n\n          if (!module.is.looping()) {\n            if (module.is.outward()) {\n              module.verbose('Animation is outward, hiding element');\n              module.restore.conditions();\n              module.hide();\n            } else if (module.is.inward()) {\n              module.verbose('Animation is outward, showing element');\n              module.restore.conditions();\n              module.show();\n            } else {\n              module.verbose('Static animation completed');\n              module.restore.conditions();\n              settings.onComplete.call(element);\n            }\n          }\n        },\n        force: {\n          visible: function () {\n            var style = $module.attr('style'),\n                userStyle = module.get.userStyle(style),\n                displayType = module.get.displayType(),\n                overrideStyle = userStyle + 'display: ' + displayType + ' !important;',\n                inlineDisplay = $module[0].style.display,\n                mustStayHidden = !displayType || inlineDisplay === 'none' && settings.skipInlineHidden || $module[0].tagName.match(/(script|link|style)/i);\n\n            if (mustStayHidden) {\n              module.remove.transition();\n              return false;\n            }\n\n            module.verbose('Overriding default display to show element', displayType);\n            $module.attr('style', overrideStyle);\n            return true;\n          },\n          hidden: function () {\n            var style = $module.attr('style'),\n                currentDisplay = $module.css('display'),\n                emptyStyle = style === undefined || style === '';\n\n            if (currentDisplay !== 'none' && !module.is.hidden()) {\n              module.verbose('Overriding default display to hide element');\n              $module.css('display', 'none');\n            } else if (emptyStyle) {\n              $module.removeAttr('style');\n            }\n          }\n        },\n        has: {\n          direction: function (animation) {\n            var hasDirection = false;\n            animation = animation || settings.animation;\n\n            if (typeof animation === 'string') {\n              animation = animation.split(' ');\n              $.each(animation, function (index, word) {\n                if (word === className.inward || word === className.outward) {\n                  hasDirection = true;\n                }\n              });\n            }\n\n            return hasDirection;\n          },\n          inlineDisplay: function () {\n            var style = $module.attr('style') || '';\n            return Array.isArray(style.match(/display.*?;/, ''));\n          }\n        },\n        set: {\n          animating: function (animation) {\n            // remove previous callbacks\n            module.remove.completeCallback(); // determine exact animation\n\n            animation = animation || settings.animation;\n            var animationClass = module.get.animationClass(animation); // save animation class in cache to restore class names\n\n            module.save.animation(animationClass);\n\n            if (module.force.visible()) {\n              module.remove.hidden();\n              module.remove.direction();\n              module.start.animation(animationClass);\n            }\n          },\n          duration: function (animationName, duration) {\n            duration = duration || settings.duration;\n            duration = typeof duration == 'number' ? duration + 'ms' : duration;\n\n            if (duration || duration === 0) {\n              module.verbose('Setting animation duration', duration);\n              $module.css({\n                'animation-duration': duration\n              });\n            }\n          },\n          direction: function (direction) {\n            direction = direction || module.get.direction();\n\n            if (direction == className.inward) {\n              module.set.inward();\n            } else {\n              module.set.outward();\n            }\n          },\n          looping: function () {\n            module.debug('Transition set to loop');\n            $module.addClass(className.looping);\n          },\n          hidden: function () {\n            $module.addClass(className.transition).addClass(className.hidden);\n          },\n          inward: function () {\n            module.debug('Setting direction to inward');\n            $module.removeClass(className.outward).addClass(className.inward);\n          },\n          outward: function () {\n            module.debug('Setting direction to outward');\n            $module.removeClass(className.inward).addClass(className.outward);\n          },\n          visible: function () {\n            $module.addClass(className.transition).addClass(className.visible);\n          }\n        },\n        start: {\n          animation: function (animationClass) {\n            animationClass = animationClass || module.get.animationClass();\n            module.debug('Starting tween', animationClass);\n            $module.addClass(animationClass).one(animationEnd + '.complete' + eventNamespace, module.complete);\n\n            if (settings.useFailSafe) {\n              module.add.failSafe();\n            }\n\n            module.set.duration(settings.duration);\n            settings.onStart.call(element);\n          }\n        },\n        save: {\n          animation: function (animation) {\n            if (!module.cache) {\n              module.cache = {};\n            }\n\n            module.cache.animation = animation;\n          },\n          displayType: function (displayType) {\n            if (displayType !== 'none') {\n              $module.data(metadata.displayType, displayType);\n            }\n          },\n          transitionExists: function (animation, exists) {\n            $.fn.transition.exists[animation] = exists;\n            module.verbose('Saving existence of transition', animation, exists);\n          }\n        },\n        restore: {\n          conditions: function () {\n            var animation = module.get.currentAnimation();\n\n            if (animation) {\n              $module.removeClass(animation);\n              module.verbose('Removing animation class', module.cache);\n            }\n\n            module.remove.duration();\n          }\n        },\n        add: {\n          failSafe: function () {\n            var duration = module.get.duration();\n            module.timer = setTimeout(function () {\n              $module.triggerHandler(animationEnd);\n            }, duration + settings.failSafeDelay);\n            module.verbose('Adding fail safe timer', module.timer);\n          }\n        },\n        remove: {\n          animating: function () {\n            $module.removeClass(className.animating);\n          },\n          animationCallbacks: function () {\n            module.remove.queueCallback();\n            module.remove.completeCallback();\n          },\n          queueCallback: function () {\n            $module.off('.queue' + eventNamespace);\n          },\n          completeCallback: function () {\n            $module.off('.complete' + eventNamespace);\n          },\n          display: function () {\n            $module.css('display', '');\n          },\n          direction: function () {\n            $module.removeClass(className.inward).removeClass(className.outward);\n          },\n          duration: function () {\n            $module.css('animation-duration', '');\n          },\n          failSafe: function () {\n            module.verbose('Removing fail safe timer', module.timer);\n\n            if (module.timer) {\n              clearTimeout(module.timer);\n            }\n          },\n          hidden: function () {\n            $module.removeClass(className.hidden);\n          },\n          visible: function () {\n            $module.removeClass(className.visible);\n          },\n          looping: function () {\n            module.debug('Transitions are no longer looping');\n\n            if (module.is.looping()) {\n              module.reset();\n              $module.removeClass(className.looping);\n            }\n          },\n          transition: function () {\n            $module.removeClass(className.transition).removeClass(className.visible).removeClass(className.hidden);\n          }\n        },\n        get: {\n          settings: function (animation, duration, onComplete) {\n            // single settings object\n            if (typeof animation == 'object') {\n              return $.extend(true, {}, $.fn.transition.settings, animation);\n            } // all arguments provided\n            else if (typeof onComplete == 'function') {\n              return $.extend({}, $.fn.transition.settings, {\n                animation: animation,\n                onComplete: onComplete,\n                duration: duration\n              });\n            } // only duration provided\n            else if (typeof duration == 'string' || typeof duration == 'number') {\n              return $.extend({}, $.fn.transition.settings, {\n                animation: animation,\n                duration: duration\n              });\n            } // duration is actually settings object\n            else if (typeof duration == 'object') {\n              return $.extend({}, $.fn.transition.settings, duration, {\n                animation: animation\n              });\n            } // duration is actually callback\n            else if (typeof duration == 'function') {\n              return $.extend({}, $.fn.transition.settings, {\n                animation: animation,\n                onComplete: duration\n              });\n            } // only animation provided\n            else {\n              return $.extend({}, $.fn.transition.settings, {\n                animation: animation\n              });\n            }\n          },\n          animationClass: function (animation) {\n            var animationClass = animation || settings.animation,\n                directionClass = module.can.transition() && !module.has.direction() ? module.get.direction() + ' ' : '';\n            return className.animating + ' ' + className.transition + ' ' + directionClass + animationClass;\n          },\n          currentAnimation: function () {\n            return module.cache && module.cache.animation !== undefined ? module.cache.animation : false;\n          },\n          currentDirection: function () {\n            return module.is.inward() ? className.inward : className.outward;\n          },\n          direction: function () {\n            return module.is.hidden() || !module.is.visible() ? className.inward : className.outward;\n          },\n          animationDirection: function (animation) {\n            var direction;\n            animation = animation || settings.animation;\n\n            if (typeof animation === 'string') {\n              animation = animation.split(' '); // search animation name for out/in class\n\n              $.each(animation, function (index, word) {\n                if (word === className.inward) {\n                  direction = className.inward;\n                } else if (word === className.outward) {\n                  direction = className.outward;\n                }\n              });\n            } // return found direction\n\n\n            if (direction) {\n              return direction;\n            }\n\n            return false;\n          },\n          duration: function (duration) {\n            duration = duration || settings.duration;\n\n            if (duration === false) {\n              duration = $module.css('animation-duration') || 0;\n            }\n\n            return typeof duration === 'string' ? duration.indexOf('ms') > -1 ? parseFloat(duration) : parseFloat(duration) * 1000 : duration;\n          },\n          displayType: function (shouldDetermine) {\n            shouldDetermine = shouldDetermine !== undefined ? shouldDetermine : true;\n\n            if (settings.displayType) {\n              return settings.displayType;\n            }\n\n            if (shouldDetermine && $module.data(metadata.displayType) === undefined) {\n              var currentDisplay = $module.css('display');\n\n              if (currentDisplay === '' || currentDisplay === 'none') {\n                // create fake element to determine display state\n                module.can.transition(true);\n              } else {\n                module.save.displayType(currentDisplay);\n              }\n            }\n\n            return $module.data(metadata.displayType);\n          },\n          userStyle: function (style) {\n            style = style || $module.attr('style') || '';\n            return style.replace(/display.*?;/, '');\n          },\n          transitionExists: function (animation) {\n            return $.fn.transition.exists[animation];\n          },\n          animationStartEvent: function () {\n            var element = document.createElement('div'),\n                animations = {\n              'animation': 'animationstart',\n              'OAnimation': 'oAnimationStart',\n              'MozAnimation': 'mozAnimationStart',\n              'WebkitAnimation': 'webkitAnimationStart'\n            },\n                animation;\n\n            for (animation in animations) {\n              if (element.style[animation] !== undefined) {\n                return animations[animation];\n              }\n            }\n\n            return false;\n          },\n          animationEndEvent: function () {\n            var element = document.createElement('div'),\n                animations = {\n              'animation': 'animationend',\n              'OAnimation': 'oAnimationEnd',\n              'MozAnimation': 'mozAnimationEnd',\n              'WebkitAnimation': 'webkitAnimationEnd'\n            },\n                animation;\n\n            for (animation in animations) {\n              if (element.style[animation] !== undefined) {\n                return animations[animation];\n              }\n            }\n\n            return false;\n          }\n        },\n        can: {\n          transition: function (forced) {\n            var animation = settings.animation,\n                transitionExists = module.get.transitionExists(animation),\n                displayType = module.get.displayType(false),\n                elementClass,\n                tagName,\n                $clone,\n                currentAnimation,\n                inAnimation,\n                directionExists;\n\n            if (transitionExists === undefined || forced) {\n              module.verbose('Determining whether animation exists');\n              elementClass = $module.attr('class');\n              tagName = $module.prop('tagName');\n              $clone = $('<' + tagName + ' />').addClass(elementClass).insertAfter($module);\n              currentAnimation = $clone.addClass(animation).removeClass(className.inward).removeClass(className.outward).addClass(className.animating).addClass(className.transition).css('animationName');\n              inAnimation = $clone.addClass(className.inward).css('animationName');\n\n              if (!displayType) {\n                displayType = $clone.attr('class', elementClass).removeAttr('style').removeClass(className.hidden).removeClass(className.visible).show().css('display');\n                module.verbose('Determining final display state', displayType);\n                module.save.displayType(displayType);\n              }\n\n              $clone.remove();\n\n              if (currentAnimation != inAnimation) {\n                module.debug('Direction exists for animation', animation);\n                directionExists = true;\n              } else if (currentAnimation == 'none' || !currentAnimation) {\n                module.debug('No animation defined in css', animation);\n                return;\n              } else {\n                module.debug('Static animation found', animation, displayType);\n                directionExists = false;\n              }\n\n              module.save.transitionExists(animation, directionExists);\n            }\n\n            return transitionExists !== undefined ? transitionExists : directionExists;\n          },\n          animate: function () {\n            // can transition does not return a value if animation does not exist\n            return module.can.transition() !== undefined;\n          }\n        },\n        is: {\n          animating: function () {\n            return $module.hasClass(className.animating);\n          },\n          inward: function () {\n            return $module.hasClass(className.inward);\n          },\n          outward: function () {\n            return $module.hasClass(className.outward);\n          },\n          looping: function () {\n            return $module.hasClass(className.looping);\n          },\n          occurring: function (animation) {\n            animation = animation || settings.animation;\n            animation = '.' + animation.replace(' ', '.');\n            return $module.filter(animation).length > 0;\n          },\n          visible: function () {\n            return $module.is(':visible');\n          },\n          hidden: function () {\n            return $module.css('visibility') === 'hidden';\n          },\n          supported: function () {\n            return animationEnd !== false;\n          }\n        },\n        hide: function () {\n          module.verbose('Hiding element');\n\n          if (module.is.animating()) {\n            module.reset();\n          }\n\n          element.blur(); // IE will trigger focus change if element is not blurred before hiding\n\n          module.remove.display();\n          module.remove.visible();\n\n          if ($.isFunction(settings.onBeforeHide)) {\n            settings.onBeforeHide.call(element, function () {\n              module.hideNow();\n            });\n          } else {\n            module.hideNow();\n          }\n        },\n        hideNow: function () {\n          module.set.hidden();\n          module.force.hidden();\n          settings.onHide.call(element);\n          settings.onComplete.call(element); // module.repaint();\n        },\n        show: function (display) {\n          module.verbose('Showing element', display);\n\n          if (module.force.visible()) {\n            module.remove.hidden();\n            module.set.visible();\n            settings.onShow.call(element);\n            settings.onComplete.call(element); // module.repaint();\n          }\n        },\n        toggle: function () {\n          if (module.is.visible()) {\n            module.hide();\n          } else {\n            module.show();\n          }\n        },\n        stop: function () {\n          module.debug('Stopping current animation');\n          $module.triggerHandler(animationEnd);\n        },\n        stopAll: function () {\n          module.debug('Stopping all animation');\n          module.remove.queueCallback();\n          $module.triggerHandler(animationEnd);\n        },\n        clear: {\n          queue: function () {\n            module.debug('Clearing animation queue');\n            module.remove.queueCallback();\n          }\n        },\n        enable: function () {\n          module.verbose('Starting animation');\n          $module.removeClass(className.disabled);\n        },\n        disable: function () {\n          module.debug('Stopping animation');\n          $module.addClass(className.disabled);\n        },\n        setting: function (name, value) {\n          module.debug('Changing setting', name, value);\n\n          if ($.isPlainObject(name)) {\n            $.extend(true, settings, name);\n          } else if (value !== undefined) {\n            if ($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            } else {\n              settings[name] = value;\n            }\n          } else {\n            return settings[name];\n          }\n        },\n        internal: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, module, name);\n          } else if (value !== undefined) {\n            module[name] = value;\n          } else {\n            return module[name];\n          }\n        },\n        debug: function () {\n          if (!settings.silent && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function () {\n          if (!settings.silent && settings.verbose && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function () {\n          if (!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function (message) {\n            var currentTime, executionTime, previousTime;\n\n            if (settings.performance) {\n              currentTime = new Date().getTime();\n              previousTime = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time = currentTime;\n              performance.push({\n                'Name': message[0],\n                'Arguments': [].slice.call(message, 1) || '',\n                'Element': element,\n                'Execution Time': executionTime\n              });\n            }\n\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function () {\n            var title = settings.name + ':',\n                totalTime = 0;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function (index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n\n            if (moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n\n            if ($allModules.length > 1) {\n              title += ' ' + '(' + $allModules.length + ')';\n            }\n\n            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n\n              if (console.table) {\n                console.table(performance);\n              } else {\n                $.each(performance, function (index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');\n                });\n              }\n\n              console.groupEnd();\n            }\n\n            performance = [];\n          }\n        },\n        // modified for transition to return invoke success\n        invoke: function (query, passedArguments, context) {\n          var object = instance,\n              maxDepth,\n              found,\n              response;\n          passedArguments = passedArguments || queryArguments;\n          context = element || context;\n\n          if (typeof query == 'string' && object !== undefined) {\n            query = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function (depth, value) {\n              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;\n\n              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {\n                object = object[camelCaseValue];\n              } else if (object[camelCaseValue] !== undefined) {\n                found = object[camelCaseValue];\n                return false;\n              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {\n                object = object[value];\n              } else if (object[value] !== undefined) {\n                found = object[value];\n                return false;\n              } else {\n                return false;\n              }\n            });\n          }\n\n          if ($.isFunction(found)) {\n            response = found.apply(context, passedArguments);\n          } else if (found !== undefined) {\n            response = found;\n          }\n\n          if (Array.isArray(returnedValue)) {\n            returnedValue.push(response);\n          } else if (returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          } else if (response !== undefined) {\n            returnedValue = response;\n          }\n\n          return found !== undefined ? found : false;\n        }\n      };\n      module.initialize();\n    });\n    return returnedValue !== undefined ? returnedValue : this;\n  }; // Records if CSS transition is available\n\n\n  $.fn.transition.exists = {};\n  $.fn.transition.settings = {\n    // module info\n    name: 'Transition',\n    // hide all output from this component regardless of other settings\n    silent: false,\n    // debug content outputted to console\n    debug: false,\n    // verbose debug output\n    verbose: false,\n    // performance data output\n    performance: true,\n    // event namespace\n    namespace: 'transition',\n    // delay between animations in group\n    interval: 0,\n    // whether group animations should be reversed\n    reverse: 'auto',\n    // animation callback event\n    onStart: function () {},\n    onComplete: function () {},\n    onShow: function () {},\n    onHide: function () {},\n    // whether timeout should be used to ensure callback fires in cases animationend does not\n    useFailSafe: true,\n    // delay in ms for fail safe\n    failSafeDelay: 100,\n    // whether EXACT animation can occur twice in a row\n    allowRepeats: false,\n    // Override final display type on visible\n    displayType: false,\n    // animation duration\n    animation: 'fade',\n    duration: false,\n    // new animations will occur after previous ones\n    queue: true,\n    // whether initially inline hidden objects should be skipped for transition\n    skipInlineHidden: false,\n    metadata: {\n      displayType: 'display'\n    },\n    className: {\n      animating: 'animating',\n      disabled: 'disabled',\n      hidden: 'hidden',\n      inward: 'in',\n      loading: 'loading',\n      looping: 'looping',\n      outward: 'out',\n      transition: 'transition',\n      visible: 'visible'\n    },\n    // possible errors\n    error: {\n      noAnimation: 'Element is no longer attached to DOM. Unable to animate.  Use silent setting to surpress this warning in production.',\n      repeated: 'That animation is already occurring, cancelling repeated animation',\n      method: 'The method you called is not defined',\n      support: 'This browser does not support CSS animations'\n    }\n  };\n})(jQuery, window, document);\n/*!\n * # Fomantic-UI 2.8.8 - API\n * http://github.com/fomantic/Fomantic-UI/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n\n;\n\n(function ($, window, document, undefined) {\n  'use strict';\n\n  $.isWindow = $.isWindow || function (obj) {\n    return obj != null && obj === obj.window;\n  };\n\n  window = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\n\n  $.api = $.fn.api = function (parameters) {\n    var // use window context if none specified\n    $allModules = $.isFunction(this) ? $(window) : $(this),\n        moduleSelector = $allModules.selector || '',\n        time = new Date().getTime(),\n        performance = [],\n        query = arguments[0],\n        methodInvoked = typeof query == 'string',\n        queryArguments = [].slice.call(arguments, 1),\n        returnedValue;\n    $allModules.each(function () {\n      var settings = $.isPlainObject(parameters) ? $.extend(true, {}, $.fn.api.settings, parameters) : $.extend({}, $.fn.api.settings),\n          // internal aliases\n      namespace = settings.namespace,\n          metadata = settings.metadata,\n          selector = settings.selector,\n          error = settings.error,\n          className = settings.className,\n          // define namespaces for modules\n      eventNamespace = '.' + namespace,\n          moduleNamespace = 'module-' + namespace,\n          // element that creates request\n      $module = $(this),\n          $form = $module.closest(selector.form),\n          // context used for state\n      $context = settings.stateContext ? $(settings.stateContext) : $module,\n          // request details\n      ajaxSettings,\n          requestSettings,\n          url,\n          data,\n          requestStartTime,\n          // standard module\n      element = this,\n          context = $context[0],\n          instance = $module.data(moduleNamespace),\n          module;\n      module = {\n        initialize: function () {\n          if (!methodInvoked) {\n            module.bind.events();\n          }\n\n          module.instantiate();\n        },\n        instantiate: function () {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module.data(moduleNamespace, instance);\n        },\n        destroy: function () {\n          module.verbose('Destroying previous module for', element);\n          $module.removeData(moduleNamespace).off(eventNamespace);\n        },\n        bind: {\n          events: function () {\n            var triggerEvent = module.get.event();\n\n            if (triggerEvent) {\n              module.verbose('Attaching API events to element', triggerEvent);\n              $module.on(triggerEvent + eventNamespace, module.event.trigger);\n            } else if (settings.on == 'now') {\n              module.debug('Querying API endpoint immediately');\n              module.query();\n            }\n          }\n        },\n        decode: {\n          json: function (response) {\n            if (response !== undefined && typeof response == 'string') {\n              try {\n                response = JSON.parse(response);\n              } catch (e) {// isnt json string\n              }\n            }\n\n            return response;\n          }\n        },\n        read: {\n          cachedResponse: function (url) {\n            var response;\n\n            if (window.Storage === undefined) {\n              module.error(error.noStorage);\n              return;\n            }\n\n            response = sessionStorage.getItem(url);\n            module.debug('Using cached response', url, response);\n            response = module.decode.json(response);\n            return response;\n          }\n        },\n        write: {\n          cachedResponse: function (url, response) {\n            if (response && response === '') {\n              module.debug('Response empty, not caching', response);\n              return;\n            }\n\n            if (window.Storage === undefined) {\n              module.error(error.noStorage);\n              return;\n            }\n\n            if ($.isPlainObject(response)) {\n              response = JSON.stringify(response);\n            }\n\n            sessionStorage.setItem(url, response);\n            module.verbose('Storing cached response for url', url, response);\n          }\n        },\n        query: function () {\n          if (module.is.disabled()) {\n            module.debug('Element is disabled API request aborted');\n            return;\n          }\n\n          if (module.is.loading()) {\n            if (settings.interruptRequests) {\n              module.debug('Interrupting previous request');\n              module.abort();\n            } else {\n              module.debug('Cancelling request, previous request is still pending');\n              return;\n            }\n          } // pass element metadata to url (value, text)\n\n\n          if (settings.defaultData) {\n            $.extend(true, settings.urlData, module.get.defaultData());\n          } // Add form content\n\n\n          if (settings.serializeForm) {\n            settings.data = module.add.formData(settings.data);\n          } // call beforesend and get any settings changes\n\n\n          requestSettings = module.get.settings(); // check if before send cancelled request\n\n          if (requestSettings === false) {\n            module.cancelled = true;\n            module.error(error.beforeSend);\n            return;\n          } else {\n            module.cancelled = false;\n          } // get url\n\n\n          url = module.get.templatedURL();\n\n          if (!url && !module.is.mocked()) {\n            module.error(error.missingURL);\n            return;\n          } // replace variables\n\n\n          url = module.add.urlData(url); // missing url parameters\n\n          if (!url && !module.is.mocked()) {\n            return;\n          }\n\n          requestSettings.url = settings.base + url; // look for jQuery ajax parameters in settings\n\n          ajaxSettings = $.extend(true, {}, settings, {\n            type: settings.method || settings.type,\n            data: data,\n            url: settings.base + url,\n            beforeSend: settings.beforeXHR,\n            success: function () {},\n            failure: function () {},\n            complete: function () {}\n          });\n          module.debug('Querying URL', ajaxSettings.url);\n          module.verbose('Using AJAX settings', ajaxSettings);\n\n          if (settings.cache === 'local' && module.read.cachedResponse(url)) {\n            module.debug('Response returned from local cache');\n            module.request = module.create.request();\n            module.request.resolveWith(context, [module.read.cachedResponse(url)]);\n            return;\n          }\n\n          if (!settings.throttle) {\n            module.debug('Sending request', data, ajaxSettings.method);\n            module.send.request();\n          } else {\n            if (!settings.throttleFirstRequest && !module.timer) {\n              module.debug('Sending request', data, ajaxSettings.method);\n              module.send.request();\n              module.timer = setTimeout(function () {}, settings.throttle);\n            } else {\n              module.debug('Throttling request', settings.throttle);\n              clearTimeout(module.timer);\n              module.timer = setTimeout(function () {\n                if (module.timer) {\n                  delete module.timer;\n                }\n\n                module.debug('Sending throttled request', data, ajaxSettings.method);\n                module.send.request();\n              }, settings.throttle);\n            }\n          }\n        },\n        should: {\n          removeError: function () {\n            return settings.hideError === true || settings.hideError === 'auto' && !module.is.form();\n          }\n        },\n        is: {\n          disabled: function () {\n            return $module.filter(selector.disabled).length > 0;\n          },\n          expectingJSON: function () {\n            return settings.dataType === 'json' || settings.dataType === 'jsonp';\n          },\n          form: function () {\n            return $module.is('form') || $context.is('form');\n          },\n          mocked: function () {\n            return settings.mockResponse || settings.mockResponseAsync || settings.response || settings.responseAsync;\n          },\n          input: function () {\n            return $module.is('input');\n          },\n          loading: function () {\n            return module.request ? module.request.state() == 'pending' : false;\n          },\n          abortedRequest: function (xhr) {\n            if (xhr && xhr.readyState !== undefined && xhr.readyState === 0) {\n              module.verbose('XHR request determined to be aborted');\n              return true;\n            } else {\n              module.verbose('XHR request was not aborted');\n              return false;\n            }\n          },\n          validResponse: function (response) {\n            if (!module.is.expectingJSON() || !$.isFunction(settings.successTest)) {\n              module.verbose('Response is not JSON, skipping validation', settings.successTest, response);\n              return true;\n            }\n\n            module.debug('Checking JSON returned success', settings.successTest, response);\n\n            if (settings.successTest(response)) {\n              module.debug('Response passed success test', response);\n              return true;\n            } else {\n              module.debug('Response failed success test', response);\n              return false;\n            }\n          }\n        },\n        was: {\n          cancelled: function () {\n            return module.cancelled || false;\n          },\n          succesful: function () {\n            module.verbose('This behavior will be deleted due to typo. Use \"was successful\" instead.');\n            return module.was.successful();\n          },\n          successful: function () {\n            return module.request && module.request.state() == 'resolved';\n          },\n          failure: function () {\n            return module.request && module.request.state() == 'rejected';\n          },\n          complete: function () {\n            return module.request && (module.request.state() == 'resolved' || module.request.state() == 'rejected');\n          }\n        },\n        add: {\n          urlData: function (url, urlData) {\n            var requiredVariables, optionalVariables;\n\n            if (url) {\n              requiredVariables = url.match(settings.regExp.required);\n              optionalVariables = url.match(settings.regExp.optional);\n              urlData = urlData || settings.urlData;\n\n              if (requiredVariables) {\n                module.debug('Looking for required URL variables', requiredVariables);\n                $.each(requiredVariables, function (index, templatedString) {\n                  var // allow legacy {$var} style\n                  variable = templatedString.indexOf('$') !== -1 ? templatedString.substr(2, templatedString.length - 3) : templatedString.substr(1, templatedString.length - 2),\n                      value = $.isPlainObject(urlData) && urlData[variable] !== undefined ? urlData[variable] : $module.data(variable) !== undefined ? $module.data(variable) : $context.data(variable) !== undefined ? $context.data(variable) : urlData[variable]; // remove value\n\n                  if (value === undefined) {\n                    module.error(error.requiredParameter, variable, url);\n                    url = false;\n                    return false;\n                  } else {\n                    module.verbose('Found required variable', variable, value);\n                    value = settings.encodeParameters ? module.get.urlEncodedValue(value) : value;\n                    url = url.replace(templatedString, value);\n                  }\n                });\n              }\n\n              if (optionalVariables) {\n                module.debug('Looking for optional URL variables', requiredVariables);\n                $.each(optionalVariables, function (index, templatedString) {\n                  var // allow legacy {/$var} style\n                  variable = templatedString.indexOf('$') !== -1 ? templatedString.substr(3, templatedString.length - 4) : templatedString.substr(2, templatedString.length - 3),\n                      value = $.isPlainObject(urlData) && urlData[variable] !== undefined ? urlData[variable] : $module.data(variable) !== undefined ? $module.data(variable) : $context.data(variable) !== undefined ? $context.data(variable) : urlData[variable]; // optional replacement\n\n                  if (value !== undefined) {\n                    module.verbose('Optional variable Found', variable, value);\n                    url = url.replace(templatedString, value);\n                  } else {\n                    module.verbose('Optional variable not found', variable); // remove preceding slash if set\n\n                    if (url.indexOf('/' + templatedString) !== -1) {\n                      url = url.replace('/' + templatedString, '');\n                    } else {\n                      url = url.replace(templatedString, '');\n                    }\n                  }\n                });\n              }\n            }\n\n            return url;\n          },\n          formData: function (data) {\n            var canSerialize = $.fn.serializeObject !== undefined,\n                formData = canSerialize ? $form.serializeObject() : $form.serialize(),\n                hasOtherData;\n            data = data || settings.data;\n            hasOtherData = $.isPlainObject(data);\n\n            if (hasOtherData) {\n              if (canSerialize) {\n                module.debug('Extending existing data with form data', data, formData);\n                data = $.extend(true, {}, data, formData);\n              } else {\n                module.error(error.missingSerialize);\n                module.debug('Cant extend data. Replacing data with form data', data, formData);\n                data = formData;\n              }\n            } else {\n              module.debug('Adding form data', formData);\n              data = formData;\n            }\n\n            return data;\n          }\n        },\n        send: {\n          request: function () {\n            module.set.loading();\n            module.request = module.create.request();\n\n            if (module.is.mocked()) {\n              module.mockedXHR = module.create.mockedXHR();\n            } else {\n              module.xhr = module.create.xhr();\n            }\n\n            settings.onRequest.call(context, module.request, module.xhr);\n          }\n        },\n        event: {\n          trigger: function (event) {\n            module.query();\n\n            if (event.type == 'submit' || event.type == 'click') {\n              event.preventDefault();\n            }\n          },\n          xhr: {\n            always: function () {// nothing special\n            },\n            done: function (response, textStatus, xhr) {\n              var context = this,\n                  elapsedTime = new Date().getTime() - requestStartTime,\n                  timeLeft = settings.loadingDuration - elapsedTime,\n                  translatedResponse = $.isFunction(settings.onResponse) ? module.is.expectingJSON() && !settings.rawResponse ? settings.onResponse.call(context, $.extend(true, {}, response)) : settings.onResponse.call(context, response) : false;\n              timeLeft = timeLeft > 0 ? timeLeft : 0;\n\n              if (translatedResponse) {\n                module.debug('Modified API response in onResponse callback', settings.onResponse, translatedResponse, response);\n                response = translatedResponse;\n              }\n\n              if (timeLeft > 0) {\n                module.debug('Response completed early delaying state change by', timeLeft);\n              }\n\n              setTimeout(function () {\n                if (module.is.validResponse(response)) {\n                  module.request.resolveWith(context, [response, xhr]);\n                } else {\n                  module.request.rejectWith(context, [xhr, 'invalid']);\n                }\n              }, timeLeft);\n            },\n            fail: function (xhr, status, httpMessage) {\n              var context = this,\n                  elapsedTime = new Date().getTime() - requestStartTime,\n                  timeLeft = settings.loadingDuration - elapsedTime;\n              timeLeft = timeLeft > 0 ? timeLeft : 0;\n\n              if (timeLeft > 0) {\n                module.debug('Response completed early delaying state change by', timeLeft);\n              }\n\n              setTimeout(function () {\n                if (module.is.abortedRequest(xhr)) {\n                  module.request.rejectWith(context, [xhr, 'aborted', httpMessage]);\n                } else {\n                  module.request.rejectWith(context, [xhr, 'error', status, httpMessage]);\n                }\n              }, timeLeft);\n            }\n          },\n          request: {\n            done: function (response, xhr) {\n              module.debug('Successful API Response', response);\n\n              if (settings.cache === 'local' && url) {\n                module.write.cachedResponse(url, response);\n                module.debug('Saving server response locally', module.cache);\n              }\n\n              settings.onSuccess.call(context, response, $module, xhr);\n            },\n            complete: function (firstParameter, secondParameter) {\n              var xhr, response; // have to guess callback parameters based on request success\n\n              if (module.was.successful()) {\n                response = firstParameter;\n                xhr = secondParameter;\n              } else {\n                xhr = firstParameter;\n                response = module.get.responseFromXHR(xhr);\n              }\n\n              module.remove.loading();\n              settings.onComplete.call(context, response, $module, xhr);\n            },\n            fail: function (xhr, status, httpMessage) {\n              var // pull response from xhr if available\n              response = module.get.responseFromXHR(xhr),\n                  errorMessage = module.get.errorFromRequest(response, status, httpMessage);\n\n              if (status == 'aborted') {\n                module.debug('XHR Aborted (Most likely caused by page navigation or CORS Policy)', status, httpMessage);\n                settings.onAbort.call(context, status, $module, xhr);\n                return true;\n              } else if (status == 'invalid') {\n                module.debug('JSON did not pass success test. A server-side error has most likely occurred', response);\n              } else if (status == 'error') {\n                if (xhr !== undefined) {\n                  module.debug('XHR produced a server error', status, httpMessage); // make sure we have an error to display to console\n\n                  if ((xhr.status < 200 || xhr.status >= 300) && httpMessage !== undefined && httpMessage !== '') {\n                    module.error(error.statusMessage + httpMessage, ajaxSettings.url);\n                  }\n\n                  settings.onError.call(context, errorMessage, $module, xhr);\n                }\n              }\n\n              if (settings.errorDuration && status !== 'aborted') {\n                module.debug('Adding error state');\n                module.set.error();\n\n                if (module.should.removeError()) {\n                  setTimeout(module.remove.error, settings.errorDuration);\n                }\n              }\n\n              module.debug('API Request failed', errorMessage, xhr);\n              settings.onFailure.call(context, response, $module, xhr);\n            }\n          }\n        },\n        create: {\n          request: function () {\n            // api request promise\n            return $.Deferred().always(module.event.request.complete).done(module.event.request.done).fail(module.event.request.fail);\n          },\n          mockedXHR: function () {\n            var // xhr does not simulate these properties of xhr but must return them\n            textStatus = false,\n                status = false,\n                httpMessage = false,\n                responder = settings.mockResponse || settings.response,\n                asyncResponder = settings.mockResponseAsync || settings.responseAsync,\n                asyncCallback,\n                response,\n                mockedXHR;\n            mockedXHR = $.Deferred().always(module.event.xhr.complete).done(module.event.xhr.done).fail(module.event.xhr.fail);\n\n            if (responder) {\n              if ($.isFunction(responder)) {\n                module.debug('Using specified synchronous callback', responder);\n                response = responder.call(context, requestSettings);\n              } else {\n                module.debug('Using settings specified response', responder);\n                response = responder;\n              } // simulating response\n\n\n              mockedXHR.resolveWith(context, [response, textStatus, {\n                responseText: response\n              }]);\n            } else if ($.isFunction(asyncResponder)) {\n              asyncCallback = function (response) {\n                module.debug('Async callback returned response', response);\n\n                if (response) {\n                  mockedXHR.resolveWith(context, [response, textStatus, {\n                    responseText: response\n                  }]);\n                } else {\n                  mockedXHR.rejectWith(context, [{\n                    responseText: response\n                  }, status, httpMessage]);\n                }\n              };\n\n              module.debug('Using specified async response callback', asyncResponder);\n              asyncResponder.call(context, requestSettings, asyncCallback);\n            }\n\n            return mockedXHR;\n          },\n          xhr: function () {\n            var xhr; // ajax request promise\n\n            xhr = $.ajax(ajaxSettings).always(module.event.xhr.always).done(module.event.xhr.done).fail(module.event.xhr.fail);\n            module.verbose('Created server request', xhr, ajaxSettings);\n            return xhr;\n          }\n        },\n        set: {\n          error: function () {\n            module.verbose('Adding error state to element', $context);\n            $context.addClass(className.error);\n          },\n          loading: function () {\n            module.verbose('Adding loading state to element', $context);\n            $context.addClass(className.loading);\n            requestStartTime = new Date().getTime();\n          }\n        },\n        remove: {\n          error: function () {\n            module.verbose('Removing error state from element', $context);\n            $context.removeClass(className.error);\n          },\n          loading: function () {\n            module.verbose('Removing loading state from element', $context);\n            $context.removeClass(className.loading);\n          }\n        },\n        get: {\n          responseFromXHR: function (xhr) {\n            return $.isPlainObject(xhr) ? module.is.expectingJSON() ? module.decode.json(xhr.responseText) : xhr.responseText : false;\n          },\n          errorFromRequest: function (response, status, httpMessage) {\n            return $.isPlainObject(response) && response.error !== undefined ? response.error // use json error message\n            : settings.error[status] !== undefined // use server error message\n            ? settings.error[status] : httpMessage;\n          },\n          request: function () {\n            return module.request || false;\n          },\n          xhr: function () {\n            return module.xhr || false;\n          },\n          settings: function () {\n            var runSettings;\n            runSettings = settings.beforeSend.call($module, settings);\n\n            if (runSettings) {\n              if (runSettings.success !== undefined) {\n                module.debug('Legacy success callback detected', runSettings);\n                module.error(error.legacyParameters, runSettings.success);\n                runSettings.onSuccess = runSettings.success;\n              }\n\n              if (runSettings.failure !== undefined) {\n                module.debug('Legacy failure callback detected', runSettings);\n                module.error(error.legacyParameters, runSettings.failure);\n                runSettings.onFailure = runSettings.failure;\n              }\n\n              if (runSettings.complete !== undefined) {\n                module.debug('Legacy complete callback detected', runSettings);\n                module.error(error.legacyParameters, runSettings.complete);\n                runSettings.onComplete = runSettings.complete;\n              }\n            }\n\n            if (runSettings === undefined) {\n              module.error(error.noReturnedValue);\n            }\n\n            if (runSettings === false) {\n              return runSettings;\n            }\n\n            return runSettings !== undefined ? $.extend(true, {}, runSettings) : $.extend(true, {}, settings);\n          },\n          urlEncodedValue: function (value) {\n            var decodedValue = window.decodeURIComponent(value),\n                encodedValue = window.encodeURIComponent(value),\n                alreadyEncoded = decodedValue !== value;\n\n            if (alreadyEncoded) {\n              module.debug('URL value is already encoded, avoiding double encoding', value);\n              return value;\n            }\n\n            module.verbose('Encoding value using encodeURIComponent', value, encodedValue);\n            return encodedValue;\n          },\n          defaultData: function () {\n            var data = {};\n\n            if (!$.isWindow(element)) {\n              if (module.is.input()) {\n                data.value = $module.val();\n              } else if (module.is.form()) {} else {\n                data.text = $module.text();\n              }\n            }\n\n            return data;\n          },\n          event: function () {\n            if ($.isWindow(element) || settings.on == 'now') {\n              module.debug('API called without element, no events attached');\n              return false;\n            } else if (settings.on == 'auto') {\n              if ($module.is('input')) {\n                return element.oninput !== undefined ? 'input' : element.onpropertychange !== undefined ? 'propertychange' : 'keyup';\n              } else if ($module.is('form')) {\n                return 'submit';\n              } else {\n                return 'click';\n              }\n            } else {\n              return settings.on;\n            }\n          },\n          templatedURL: function (action) {\n            action = action || $module.data(metadata.action) || settings.action || false;\n            url = $module.data(metadata.url) || settings.url || false;\n\n            if (url) {\n              module.debug('Using specified url', url);\n              return url;\n            }\n\n            if (action) {\n              module.debug('Looking up url for action', action, settings.api);\n\n              if (settings.api[action] === undefined && !module.is.mocked()) {\n                module.error(error.missingAction, settings.action, settings.api);\n                return;\n              }\n\n              url = settings.api[action];\n            } else if (module.is.form()) {\n              url = $module.attr('action') || $context.attr('action') || false;\n              module.debug('No url or action specified, defaulting to form action', url);\n            }\n\n            return url;\n          }\n        },\n        abort: function () {\n          var xhr = module.get.xhr();\n\n          if (xhr && xhr.state() !== 'resolved') {\n            module.debug('Cancelling API request');\n            xhr.abort();\n          }\n        },\n        // reset state\n        reset: function () {\n          module.remove.error();\n          module.remove.loading();\n        },\n        setting: function (name, value) {\n          module.debug('Changing setting', name, value);\n\n          if ($.isPlainObject(name)) {\n            $.extend(true, settings, name);\n          } else if (value !== undefined) {\n            if ($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            } else {\n              settings[name] = value;\n            }\n          } else {\n            return settings[name];\n          }\n        },\n        internal: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, module, name);\n          } else if (value !== undefined) {\n            module[name] = value;\n          } else {\n            return module[name];\n          }\n        },\n        debug: function () {\n          if (!settings.silent && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function () {\n          if (!settings.silent && settings.verbose && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function () {\n          if (!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function (message) {\n            var currentTime, executionTime, previousTime;\n\n            if (settings.performance) {\n              currentTime = new Date().getTime();\n              previousTime = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time = currentTime;\n              performance.push({\n                'Name': message[0],\n                'Arguments': [].slice.call(message, 1) || '',\n                //'Element'        : element,\n                'Execution Time': executionTime\n              });\n            }\n\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function () {\n            var title = settings.name + ':',\n                totalTime = 0;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function (index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n\n            if (moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n\n            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n\n              if (console.table) {\n                console.table(performance);\n              } else {\n                $.each(performance, function (index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');\n                });\n              }\n\n              console.groupEnd();\n            }\n\n            performance = [];\n          }\n        },\n        invoke: function (query, passedArguments, context) {\n          var object = instance,\n              maxDepth,\n              found,\n              response;\n          passedArguments = passedArguments || queryArguments;\n          context = element || context;\n\n          if (typeof query == 'string' && object !== undefined) {\n            query = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function (depth, value) {\n              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;\n\n              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {\n                object = object[camelCaseValue];\n              } else if (object[camelCaseValue] !== undefined) {\n                found = object[camelCaseValue];\n                return false;\n              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {\n                object = object[value];\n              } else if (object[value] !== undefined) {\n                found = object[value];\n                return false;\n              } else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n\n          if ($.isFunction(found)) {\n            response = found.apply(context, passedArguments);\n          } else if (found !== undefined) {\n            response = found;\n          }\n\n          if (Array.isArray(returnedValue)) {\n            returnedValue.push(response);\n          } else if (returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          } else if (response !== undefined) {\n            returnedValue = response;\n          }\n\n          return found;\n        }\n      };\n\n      if (methodInvoked) {\n        if (instance === undefined) {\n          module.initialize();\n        }\n\n        module.invoke(query);\n      } else {\n        if (instance !== undefined) {\n          instance.invoke('destroy');\n        }\n\n        module.initialize();\n      }\n    });\n    return returnedValue !== undefined ? returnedValue : this;\n  };\n\n  $.api.settings = {\n    name: 'API',\n    namespace: 'api',\n    debug: false,\n    verbose: false,\n    performance: true,\n    // object containing all templates endpoints\n    api: {},\n    // whether to cache responses\n    cache: true,\n    // whether new requests should abort previous requests\n    interruptRequests: true,\n    // event binding\n    on: 'auto',\n    // context for applying state classes\n    stateContext: false,\n    // duration for loading state\n    loadingDuration: 0,\n    // whether to hide errors after a period of time\n    hideError: 'auto',\n    // duration for error state\n    errorDuration: 2000,\n    // whether parameters should be encoded with encodeURIComponent\n    encodeParameters: true,\n    // API action to use\n    action: false,\n    // templated URL to use\n    url: false,\n    // base URL to apply to all endpoints\n    base: '',\n    // data that will\n    urlData: {},\n    // whether to add default data to url data\n    defaultData: true,\n    // whether to serialize closest form\n    serializeForm: false,\n    // how long to wait before request should occur\n    throttle: 0,\n    // whether to throttle first request or only repeated\n    throttleFirstRequest: true,\n    // standard ajax settings\n    method: 'get',\n    data: {},\n    dataType: 'json',\n    // mock response\n    mockResponse: false,\n    mockResponseAsync: false,\n    // aliases for mock\n    response: false,\n    responseAsync: false,\n    // whether onResponse should work with response value without force converting into an object\n    rawResponse: false,\n    // callbacks before request\n    beforeSend: function (settings) {\n      return settings;\n    },\n    beforeXHR: function (xhr) {},\n    onRequest: function (promise, xhr) {},\n    // after request\n    onResponse: false,\n    // function(response) { },\n    // response was successful, if JSON passed validation\n    onSuccess: function (response, $module) {},\n    // request finished without aborting\n    onComplete: function (response, $module) {},\n    // failed JSON success test\n    onFailure: function (response, $module) {},\n    // server error\n    onError: function (errorMessage, $module) {},\n    // request aborted\n    onAbort: function (errorMessage, $module) {},\n    successTest: false,\n    // errors\n    error: {\n      beforeSend: 'The before send function has aborted the request',\n      error: 'There was an error with your request',\n      exitConditions: 'API Request Aborted. Exit conditions met',\n      JSONParse: 'JSON could not be parsed during error handling',\n      legacyParameters: 'You are using legacy API success callback names',\n      method: 'The method you called is not defined',\n      missingAction: 'API action used but no url was defined',\n      missingSerialize: 'jquery-serialize-object is required to add form data to an existing data object',\n      missingURL: 'No URL specified for api event',\n      noReturnedValue: 'The beforeSend callback must return a settings object, beforeSend ignored.',\n      noStorage: 'Caching responses locally requires session storage',\n      parseError: 'There was an error parsing your request',\n      requiredParameter: 'Missing a required URL parameter: ',\n      statusMessage: 'Server gave an error: ',\n      timeout: 'Your request timed out'\n    },\n    regExp: {\n      required: /\\{\\$*[A-z0-9]+\\}/g,\n      optional: /\\{\\/\\$*[A-z0-9]+\\}/g\n    },\n    className: {\n      loading: 'loading',\n      error: 'error'\n    },\n    selector: {\n      disabled: '.disabled',\n      form: 'form'\n    },\n    metadata: {\n      action: 'action',\n      url: 'url'\n    }\n  };\n})(jQuery, window, document);\n/*!\n * # Fomantic-UI 2.8.8 - State\n * http://github.com/fomantic/Fomantic-UI/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n\n;\n\n(function ($, window, document, undefined) {\n  \"use strict\";\n\n  $.isFunction = $.isFunction || function (obj) {\n    return typeof obj === \"function\" && typeof obj.nodeType !== \"number\";\n  };\n\n  window = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\n\n  $.fn.state = function (parameters) {\n    var $allModules = $(this),\n        moduleSelector = $allModules.selector || '',\n        time = new Date().getTime(),\n        performance = [],\n        query = arguments[0],\n        methodInvoked = typeof query == 'string',\n        queryArguments = [].slice.call(arguments, 1),\n        returnedValue;\n    $allModules.each(function () {\n      var settings = $.isPlainObject(parameters) ? $.extend(true, {}, $.fn.state.settings, parameters) : $.extend({}, $.fn.state.settings),\n          error = settings.error,\n          metadata = settings.metadata,\n          className = settings.className,\n          namespace = settings.namespace,\n          states = settings.states,\n          text = settings.text,\n          eventNamespace = '.' + namespace,\n          moduleNamespace = namespace + '-module',\n          $module = $(this),\n          element = this,\n          instance = $module.data(moduleNamespace),\n          module;\n      module = {\n        initialize: function () {\n          module.verbose('Initializing module'); // allow module to guess desired state based on element\n\n          if (settings.automatic) {\n            module.add.defaults();\n          } // bind events with delegated events\n\n\n          if (settings.context && moduleSelector !== '') {\n            $(settings.context).on(moduleSelector, 'mouseenter' + eventNamespace, module.change.text).on(moduleSelector, 'mouseleave' + eventNamespace, module.reset.text).on(moduleSelector, 'click' + eventNamespace, module.toggle.state);\n          } else {\n            $module.on('mouseenter' + eventNamespace, module.change.text).on('mouseleave' + eventNamespace, module.reset.text).on('click' + eventNamespace, module.toggle.state);\n          }\n\n          module.instantiate();\n        },\n        instantiate: function () {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module.data(moduleNamespace, module);\n        },\n        destroy: function () {\n          module.verbose('Destroying previous module', instance);\n          $module.off(eventNamespace).removeData(moduleNamespace);\n        },\n        refresh: function () {\n          module.verbose('Refreshing selector cache');\n          $module = $(element);\n        },\n        add: {\n          defaults: function () {\n            var userStates = parameters && $.isPlainObject(parameters.states) ? parameters.states : {};\n            $.each(settings.defaults, function (type, typeStates) {\n              if (module.is[type] !== undefined && module.is[type]()) {\n                module.verbose('Adding default states', type, element);\n                $.extend(settings.states, typeStates, userStates);\n              }\n            });\n          }\n        },\n        is: {\n          active: function () {\n            return $module.hasClass(className.active);\n          },\n          loading: function () {\n            return $module.hasClass(className.loading);\n          },\n          inactive: function () {\n            return !$module.hasClass(className.active);\n          },\n          state: function (state) {\n            if (className[state] === undefined) {\n              return false;\n            }\n\n            return $module.hasClass(className[state]);\n          },\n          enabled: function () {\n            return !$module.is(settings.filter.active);\n          },\n          disabled: function () {\n            return $module.is(settings.filter.active);\n          },\n          textEnabled: function () {\n            return !$module.is(settings.filter.text);\n          },\n          // definitions for automatic type detection\n          button: function () {\n            return $module.is('.button:not(a, .submit)');\n          },\n          input: function () {\n            return $module.is('input');\n          },\n          progress: function () {\n            return $module.is('.ui.progress');\n          }\n        },\n        allow: function (state) {\n          module.debug('Now allowing state', state);\n          states[state] = true;\n        },\n        disallow: function (state) {\n          module.debug('No longer allowing', state);\n          states[state] = false;\n        },\n        allows: function (state) {\n          return states[state] || false;\n        },\n        enable: function () {\n          $module.removeClass(className.disabled);\n        },\n        disable: function () {\n          $module.addClass(className.disabled);\n        },\n        setState: function (state) {\n          if (module.allows(state)) {\n            $module.addClass(className[state]);\n          }\n        },\n        removeState: function (state) {\n          if (module.allows(state)) {\n            $module.removeClass(className[state]);\n          }\n        },\n        toggle: {\n          state: function () {\n            var apiRequest, requestCancelled;\n\n            if (module.allows('active') && module.is.enabled()) {\n              module.refresh();\n\n              if ($.fn.api !== undefined) {\n                apiRequest = $module.api('get request');\n                requestCancelled = $module.api('was cancelled');\n\n                if (requestCancelled) {\n                  module.debug('API Request cancelled by beforesend');\n\n                  settings.activateTest = function () {\n                    return false;\n                  };\n\n                  settings.deactivateTest = function () {\n                    return false;\n                  };\n                } else if (apiRequest) {\n                  module.listenTo(apiRequest);\n                  return;\n                }\n              }\n\n              module.change.state();\n            }\n          }\n        },\n        listenTo: function (apiRequest) {\n          module.debug('API request detected, waiting for state signal', apiRequest);\n\n          if (apiRequest) {\n            if (text.loading) {\n              module.update.text(text.loading);\n            }\n\n            $.when(apiRequest).then(function () {\n              if (apiRequest.state() == 'resolved') {\n                module.debug('API request succeeded');\n\n                settings.activateTest = function () {\n                  return true;\n                };\n\n                settings.deactivateTest = function () {\n                  return true;\n                };\n              } else {\n                module.debug('API request failed');\n\n                settings.activateTest = function () {\n                  return false;\n                };\n\n                settings.deactivateTest = function () {\n                  return false;\n                };\n              }\n\n              module.change.state();\n            });\n          }\n        },\n        // checks whether active/inactive state can be given\n        change: {\n          state: function () {\n            module.debug('Determining state change direction'); // inactive to active change\n\n            if (module.is.inactive()) {\n              module.activate();\n            } else {\n              module.deactivate();\n            }\n\n            if (settings.sync) {\n              module.sync();\n            }\n\n            settings.onChange.call(element);\n          },\n          text: function () {\n            if (module.is.textEnabled()) {\n              if (module.is.disabled()) {\n                module.verbose('Changing text to disabled text', text.hover);\n                module.update.text(text.disabled);\n              } else if (module.is.active()) {\n                if (text.hover) {\n                  module.verbose('Changing text to hover text', text.hover);\n                  module.update.text(text.hover);\n                } else if (text.deactivate) {\n                  module.verbose('Changing text to deactivating text', text.deactivate);\n                  module.update.text(text.deactivate);\n                }\n              } else {\n                if (text.hover) {\n                  module.verbose('Changing text to hover text', text.hover);\n                  module.update.text(text.hover);\n                } else if (text.activate) {\n                  module.verbose('Changing text to activating text', text.activate);\n                  module.update.text(text.activate);\n                }\n              }\n            }\n          }\n        },\n        activate: function () {\n          if (settings.activateTest.call(element)) {\n            module.debug('Setting state to active');\n            $module.addClass(className.active);\n            module.update.text(text.active);\n            settings.onActivate.call(element);\n          }\n        },\n        deactivate: function () {\n          if (settings.deactivateTest.call(element)) {\n            module.debug('Setting state to inactive');\n            $module.removeClass(className.active);\n            module.update.text(text.inactive);\n            settings.onDeactivate.call(element);\n          }\n        },\n        sync: function () {\n          module.verbose('Syncing other buttons to current state');\n\n          if (module.is.active()) {\n            $allModules.not($module).state('activate');\n          } else {\n            $allModules.not($module).state('deactivate');\n          }\n        },\n        get: {\n          text: function () {\n            return settings.selector.text ? $module.find(settings.selector.text).text() : $module.html();\n          },\n          textFor: function (state) {\n            return text[state] || false;\n          }\n        },\n        flash: {\n          text: function (text, duration, callback) {\n            var previousText = module.get.text();\n            module.debug('Flashing text message', text, duration);\n            text = text || settings.text.flash;\n            duration = duration || settings.flashDuration;\n\n            callback = callback || function () {};\n\n            module.update.text(text);\n            setTimeout(function () {\n              module.update.text(previousText);\n              callback.call(element);\n            }, duration);\n          }\n        },\n        reset: {\n          // on mouseout sets text to previous value\n          text: function () {\n            var activeText = text.active || $module.data(metadata.storedText),\n                inactiveText = text.inactive || $module.data(metadata.storedText);\n\n            if (module.is.textEnabled()) {\n              if (module.is.active() && activeText) {\n                module.verbose('Resetting active text', activeText);\n                module.update.text(activeText);\n              } else if (inactiveText) {\n                module.verbose('Resetting inactive text', activeText);\n                module.update.text(inactiveText);\n              }\n            }\n          }\n        },\n        update: {\n          text: function (text) {\n            var currentText = module.get.text();\n\n            if (text && text !== currentText) {\n              module.debug('Updating text', text);\n\n              if (settings.selector.text) {\n                $module.data(metadata.storedText, text).find(settings.selector.text).text(text);\n              } else {\n                $module.data(metadata.storedText, text).html(text);\n              }\n            } else {\n              module.debug('Text is already set, ignoring update', text);\n            }\n          }\n        },\n        setting: function (name, value) {\n          module.debug('Changing setting', name, value);\n\n          if ($.isPlainObject(name)) {\n            $.extend(true, settings, name);\n          } else if (value !== undefined) {\n            if ($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            } else {\n              settings[name] = value;\n            }\n          } else {\n            return settings[name];\n          }\n        },\n        internal: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, module, name);\n          } else if (value !== undefined) {\n            module[name] = value;\n          } else {\n            return module[name];\n          }\n        },\n        debug: function () {\n          if (!settings.silent && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function () {\n          if (!settings.silent && settings.verbose && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function () {\n          if (!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function (message) {\n            var currentTime, executionTime, previousTime;\n\n            if (settings.performance) {\n              currentTime = new Date().getTime();\n              previousTime = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time = currentTime;\n              performance.push({\n                'Name': message[0],\n                'Arguments': [].slice.call(message, 1) || '',\n                'Element': element,\n                'Execution Time': executionTime\n              });\n            }\n\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function () {\n            var title = settings.name + ':',\n                totalTime = 0;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function (index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n\n            if (moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n\n            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n\n              if (console.table) {\n                console.table(performance);\n              } else {\n                $.each(performance, function (index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');\n                });\n              }\n\n              console.groupEnd();\n            }\n\n            performance = [];\n          }\n        },\n        invoke: function (query, passedArguments, context) {\n          var object = instance,\n              maxDepth,\n              found,\n              response;\n          passedArguments = passedArguments || queryArguments;\n          context = element || context;\n\n          if (typeof query == 'string' && object !== undefined) {\n            query = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function (depth, value) {\n              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;\n\n              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {\n                object = object[camelCaseValue];\n              } else if (object[camelCaseValue] !== undefined) {\n                found = object[camelCaseValue];\n                return false;\n              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {\n                object = object[value];\n              } else if (object[value] !== undefined) {\n                found = object[value];\n                return false;\n              } else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n\n          if ($.isFunction(found)) {\n            response = found.apply(context, passedArguments);\n          } else if (found !== undefined) {\n            response = found;\n          }\n\n          if (Array.isArray(returnedValue)) {\n            returnedValue.push(response);\n          } else if (returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          } else if (response !== undefined) {\n            returnedValue = response;\n          }\n\n          return found;\n        }\n      };\n\n      if (methodInvoked) {\n        if (instance === undefined) {\n          module.initialize();\n        }\n\n        module.invoke(query);\n      } else {\n        if (instance !== undefined) {\n          instance.invoke('destroy');\n        }\n\n        module.initialize();\n      }\n    });\n    return returnedValue !== undefined ? returnedValue : this;\n  };\n\n  $.fn.state.settings = {\n    // module info\n    name: 'State',\n    // debug output\n    debug: false,\n    // verbose debug output\n    verbose: false,\n    // namespace for events\n    namespace: 'state',\n    // debug data includes performance\n    performance: true,\n    // callback occurs on state change\n    onActivate: function () {},\n    onDeactivate: function () {},\n    onChange: function () {},\n    // state test functions\n    activateTest: function () {\n      return true;\n    },\n    deactivateTest: function () {\n      return true;\n    },\n    // whether to automatically map default states\n    automatic: true,\n    // activate / deactivate changes all elements instantiated at same time\n    sync: false,\n    // default flash text duration, used for temporarily changing text of an element\n    flashDuration: 1000,\n    // selector filter\n    filter: {\n      text: '.loading, .disabled',\n      active: '.disabled'\n    },\n    context: false,\n    // error\n    error: {\n      beforeSend: 'The before send function has cancelled state change',\n      method: 'The method you called is not defined.'\n    },\n    // metadata\n    metadata: {\n      promise: 'promise',\n      storedText: 'stored-text'\n    },\n    // change class on state\n    className: {\n      active: 'active',\n      disabled: 'disabled',\n      error: 'error',\n      loading: 'loading',\n      success: 'success',\n      warning: 'warning'\n    },\n    selector: {\n      // selector for text node\n      text: false\n    },\n    defaults: {\n      input: {\n        disabled: true,\n        loading: true,\n        active: true\n      },\n      button: {\n        disabled: true,\n        loading: true,\n        active: true\n      },\n      progress: {\n        active: true,\n        success: true,\n        warning: true,\n        error: true\n      }\n    },\n    states: {\n      active: true,\n      disabled: true,\n      error: true,\n      loading: true,\n      success: true,\n      warning: true\n    },\n    text: {\n      disabled: false,\n      flash: false,\n      hover: false,\n      active: false,\n      inactive: false,\n      activate: false,\n      deactivate: false\n    }\n  };\n})(jQuery, window, document);\n/*!\n * # Fomantic-UI 2.8.8 - Visibility\n * http://github.com/fomantic/Fomantic-UI/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n\n;\n\n(function ($, window, document, undefined) {\n  'use strict';\n\n  $.isFunction = $.isFunction || function (obj) {\n    return typeof obj === \"function\" && typeof obj.nodeType !== \"number\";\n  };\n\n  window = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\n\n  $.fn.visibility = function (parameters) {\n    var $allModules = $(this),\n        moduleSelector = $allModules.selector || '',\n        time = new Date().getTime(),\n        performance = [],\n        query = arguments[0],\n        methodInvoked = typeof query == 'string',\n        queryArguments = [].slice.call(arguments, 1),\n        returnedValue,\n        moduleCount = $allModules.length,\n        loadedCount = 0;\n    $allModules.each(function () {\n      var settings = $.isPlainObject(parameters) ? $.extend(true, {}, $.fn.visibility.settings, parameters) : $.extend({}, $.fn.visibility.settings),\n          className = settings.className,\n          namespace = settings.namespace,\n          error = settings.error,\n          metadata = settings.metadata,\n          eventNamespace = '.' + namespace,\n          moduleNamespace = 'module-' + namespace,\n          $window = $(window),\n          $module = $(this),\n          $context = $(settings.context),\n          $placeholder,\n          instance = $module.data(moduleNamespace),\n          requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || function (callback) {\n        setTimeout(callback, 0);\n      },\n          element = this,\n          disabled = false,\n          contextObserver,\n          observer,\n          module;\n\n      module = {\n        initialize: function () {\n          module.debug('Initializing', settings);\n          module.setup.cache();\n\n          if (module.should.trackChanges()) {\n            if (settings.type == 'image') {\n              module.setup.image();\n            }\n\n            if (settings.type == 'fixed') {\n              module.setup.fixed();\n            }\n\n            if (settings.observeChanges) {\n              module.observeChanges();\n            }\n\n            module.bind.events();\n          }\n\n          module.save.position();\n\n          if (!module.is.visible()) {\n            module.error(error.visible, $module);\n          }\n\n          if (settings.initialCheck) {\n            module.checkVisibility();\n          }\n\n          module.instantiate();\n        },\n        instantiate: function () {\n          module.debug('Storing instance', module);\n          $module.data(moduleNamespace, module);\n          instance = module;\n        },\n        destroy: function () {\n          module.verbose('Destroying previous module');\n\n          if (observer) {\n            observer.disconnect();\n          }\n\n          if (contextObserver) {\n            contextObserver.disconnect();\n          }\n\n          $window.off('load' + eventNamespace, module.event.load).off('resize' + eventNamespace, module.event.resize);\n          $context.off('scroll' + eventNamespace, module.event.scroll).off('scrollchange' + eventNamespace, module.event.scrollchange);\n\n          if (settings.type == 'fixed') {\n            module.resetFixed();\n            module.remove.placeholder();\n          }\n\n          $module.off(eventNamespace).removeData(moduleNamespace);\n        },\n        observeChanges: function () {\n          if ('MutationObserver' in window) {\n            contextObserver = new MutationObserver(module.event.contextChanged);\n            observer = new MutationObserver(module.event.changed);\n            contextObserver.observe(document, {\n              childList: true,\n              subtree: true\n            });\n            observer.observe(element, {\n              childList: true,\n              subtree: true\n            });\n            module.debug('Setting up mutation observer', observer);\n          }\n        },\n        bind: {\n          events: function () {\n            module.verbose('Binding visibility events to scroll and resize');\n\n            if (settings.refreshOnLoad) {\n              $window.on('load' + eventNamespace, module.event.load);\n            }\n\n            $window.on('resize' + eventNamespace, module.event.resize); // pub/sub pattern\n\n            $context.off('scroll' + eventNamespace).on('scroll' + eventNamespace, module.event.scroll).on('scrollchange' + eventNamespace, module.event.scrollchange);\n          }\n        },\n        event: {\n          changed: function (mutations) {\n            module.verbose('DOM tree modified, updating visibility calculations');\n            module.timer = setTimeout(function () {\n              module.verbose('DOM tree modified, updating sticky menu');\n              module.refresh();\n            }, 100);\n          },\n          contextChanged: function (mutations) {\n            [].forEach.call(mutations, function (mutation) {\n              if (mutation.removedNodes) {\n                [].forEach.call(mutation.removedNodes, function (node) {\n                  if (node == element || $(node).find(element).length > 0) {\n                    module.debug('Element removed from DOM, tearing down events');\n                    module.destroy();\n                  }\n                });\n              }\n            });\n          },\n          resize: function () {\n            module.debug('Window resized');\n\n            if (settings.refreshOnResize) {\n              requestAnimationFrame(module.refresh);\n            }\n          },\n          load: function () {\n            module.debug('Page finished loading');\n            requestAnimationFrame(module.refresh);\n          },\n          // publishes scrollchange event on one scroll\n          scroll: function () {\n            if (settings.throttle) {\n              clearTimeout(module.timer);\n              module.timer = setTimeout(function () {\n                $context.triggerHandler('scrollchange' + eventNamespace, [$context.scrollTop()]);\n              }, settings.throttle);\n            } else {\n              requestAnimationFrame(function () {\n                $context.triggerHandler('scrollchange' + eventNamespace, [$context.scrollTop()]);\n              });\n            }\n          },\n          // subscribes to scrollchange\n          scrollchange: function (event, scrollPosition) {\n            module.checkVisibility(scrollPosition);\n          }\n        },\n        precache: function (images, callback) {\n          if (!(images instanceof Array)) {\n            images = [images];\n          }\n\n          var imagesLength = images.length,\n              loadedCounter = 0,\n              cache = [],\n              cacheImage = document.createElement('img'),\n              handleLoad = function () {\n            loadedCounter++;\n\n            if (loadedCounter >= images.length) {\n              if ($.isFunction(callback)) {\n                callback();\n              }\n            }\n          };\n\n          while (imagesLength--) {\n            cacheImage = document.createElement('img');\n            cacheImage.onload = handleLoad;\n            cacheImage.onerror = handleLoad;\n            cacheImage.src = images[imagesLength];\n            cache.push(cacheImage);\n          }\n        },\n        enableCallbacks: function () {\n          module.debug('Allowing callbacks to occur');\n          disabled = false;\n        },\n        disableCallbacks: function () {\n          module.debug('Disabling all callbacks temporarily');\n          disabled = true;\n        },\n        should: {\n          trackChanges: function () {\n            if (methodInvoked) {\n              module.debug('One time query, no need to bind events');\n              return false;\n            }\n\n            module.debug('Callbacks being attached');\n            return true;\n          }\n        },\n        setup: {\n          cache: function () {\n            module.cache = {\n              occurred: {},\n              screen: {},\n              element: {}\n            };\n          },\n          image: function () {\n            var src = $module.data(metadata.src);\n\n            if (src) {\n              module.verbose('Lazy loading image', src);\n              settings.once = true;\n              settings.observeChanges = false; // show when top visible\n\n              settings.onOnScreen = function () {\n                module.debug('Image on screen', element);\n                module.precache(src, function () {\n                  module.set.image(src, function () {\n                    loadedCount++;\n\n                    if (loadedCount == moduleCount) {\n                      settings.onAllLoaded.call(this);\n                    }\n\n                    settings.onLoad.call(this);\n                  });\n                });\n              };\n            }\n          },\n          fixed: function () {\n            module.debug('Setting up fixed');\n            settings.once = false;\n            settings.observeChanges = false;\n            settings.initialCheck = true;\n            settings.refreshOnLoad = true;\n\n            if (!parameters.transition) {\n              settings.transition = false;\n            }\n\n            module.create.placeholder();\n            module.debug('Added placeholder', $placeholder);\n\n            settings.onTopPassed = function () {\n              module.debug('Element passed, adding fixed position', $module);\n              module.show.placeholder();\n              module.set.fixed();\n\n              if (settings.transition) {\n                if ($.fn.transition !== undefined) {\n                  $module.transition(settings.transition, settings.duration);\n                }\n              }\n            };\n\n            settings.onTopPassedReverse = function () {\n              module.debug('Element returned to position, removing fixed', $module);\n              module.hide.placeholder();\n              module.remove.fixed();\n            };\n          }\n        },\n        create: {\n          placeholder: function () {\n            module.verbose('Creating fixed position placeholder');\n            $placeholder = $module.clone(false).css('display', 'none').addClass(className.placeholder).insertAfter($module);\n          }\n        },\n        show: {\n          placeholder: function () {\n            module.verbose('Showing placeholder');\n            $placeholder.css('display', 'block').css('visibility', 'hidden');\n          }\n        },\n        hide: {\n          placeholder: function () {\n            module.verbose('Hiding placeholder');\n            $placeholder.css('display', 'none').css('visibility', '');\n          }\n        },\n        set: {\n          fixed: function () {\n            module.verbose('Setting element to fixed position');\n            $module.addClass(className.fixed).css({\n              position: 'fixed',\n              top: settings.offset + 'px',\n              left: 'auto',\n              zIndex: settings.zIndex\n            });\n            settings.onFixed.call(element);\n          },\n          image: function (src, callback) {\n            $module.attr('src', src);\n\n            if (settings.transition) {\n              if ($.fn.transition !== undefined) {\n                if ($module.hasClass(className.visible)) {\n                  module.debug('Transition already occurred on this image, skipping animation');\n                  return;\n                }\n\n                $module.transition(settings.transition, settings.duration, callback);\n              } else {\n                $module.fadeIn(settings.duration, callback);\n              }\n            } else {\n              $module.show();\n            }\n          }\n        },\n        is: {\n          onScreen: function () {\n            var calculations = module.get.elementCalculations();\n            return calculations.onScreen;\n          },\n          offScreen: function () {\n            var calculations = module.get.elementCalculations();\n            return calculations.offScreen;\n          },\n          visible: function () {\n            if (module.cache && module.cache.element) {\n              return !(module.cache.element.width === 0 && module.cache.element.offset.top === 0);\n            }\n\n            return false;\n          },\n          verticallyScrollableContext: function () {\n            var overflowY = $context.get(0) !== window ? $context.css('overflow-y') : false;\n            return overflowY == 'auto' || overflowY == 'scroll';\n          },\n          horizontallyScrollableContext: function () {\n            var overflowX = $context.get(0) !== window ? $context.css('overflow-x') : false;\n            return overflowX == 'auto' || overflowX == 'scroll';\n          }\n        },\n        refresh: function () {\n          module.debug('Refreshing constants (width/height)');\n\n          if (settings.type == 'fixed') {\n            module.resetFixed();\n          }\n\n          module.reset();\n          module.save.position();\n\n          if (settings.checkOnRefresh) {\n            module.checkVisibility();\n          }\n\n          settings.onRefresh.call(element);\n        },\n        resetFixed: function () {\n          module.remove.fixed();\n          module.remove.occurred();\n        },\n        reset: function () {\n          module.verbose('Resetting all cached values');\n\n          if ($.isPlainObject(module.cache)) {\n            module.cache.screen = {};\n            module.cache.element = {};\n          }\n        },\n        checkVisibility: function (scroll) {\n          module.verbose('Checking visibility of element', module.cache.element);\n\n          if (!disabled && module.is.visible()) {\n            // save scroll position\n            module.save.scroll(scroll); // update calculations derived from scroll\n\n            module.save.calculations(); // percentage\n\n            module.passed(); // reverse (must be first)\n\n            module.passingReverse();\n            module.topVisibleReverse();\n            module.bottomVisibleReverse();\n            module.topPassedReverse();\n            module.bottomPassedReverse(); // one time\n\n            module.onScreen();\n            module.offScreen();\n            module.passing();\n            module.topVisible();\n            module.bottomVisible();\n            module.topPassed();\n            module.bottomPassed(); // on update callback\n\n            if (settings.onUpdate) {\n              settings.onUpdate.call(element, module.get.elementCalculations());\n            }\n          }\n        },\n        passed: function (amount, newCallback) {\n          var calculations = module.get.elementCalculations(); // assign callback\n\n          if (amount && newCallback) {\n            settings.onPassed[amount] = newCallback;\n          } else if (amount !== undefined) {\n            return module.get.pixelsPassed(amount) > calculations.pixelsPassed;\n          } else if (calculations.passing) {\n            $.each(settings.onPassed, function (amount, callback) {\n              if (calculations.bottomVisible || calculations.pixelsPassed > module.get.pixelsPassed(amount)) {\n                module.execute(callback, amount);\n              } else if (!settings.once) {\n                module.remove.occurred(callback);\n              }\n            });\n          }\n        },\n        onScreen: function (newCallback) {\n          var calculations = module.get.elementCalculations(),\n              callback = newCallback || settings.onOnScreen,\n              callbackName = 'onScreen';\n\n          if (newCallback) {\n            module.debug('Adding callback for onScreen', newCallback);\n            settings.onOnScreen = newCallback;\n          }\n\n          if (calculations.onScreen) {\n            module.execute(callback, callbackName);\n          } else if (!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n\n          if (newCallback !== undefined) {\n            return calculations.onOnScreen;\n          }\n        },\n        offScreen: function (newCallback) {\n          var calculations = module.get.elementCalculations(),\n              callback = newCallback || settings.onOffScreen,\n              callbackName = 'offScreen';\n\n          if (newCallback) {\n            module.debug('Adding callback for offScreen', newCallback);\n            settings.onOffScreen = newCallback;\n          }\n\n          if (calculations.offScreen) {\n            module.execute(callback, callbackName);\n          } else if (!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n\n          if (newCallback !== undefined) {\n            return calculations.onOffScreen;\n          }\n        },\n        passing: function (newCallback) {\n          var calculations = module.get.elementCalculations(),\n              callback = newCallback || settings.onPassing,\n              callbackName = 'passing';\n\n          if (newCallback) {\n            module.debug('Adding callback for passing', newCallback);\n            settings.onPassing = newCallback;\n          }\n\n          if (calculations.passing) {\n            module.execute(callback, callbackName);\n          } else if (!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n\n          if (newCallback !== undefined) {\n            return calculations.passing;\n          }\n        },\n        topVisible: function (newCallback) {\n          var calculations = module.get.elementCalculations(),\n              callback = newCallback || settings.onTopVisible,\n              callbackName = 'topVisible';\n\n          if (newCallback) {\n            module.debug('Adding callback for top visible', newCallback);\n            settings.onTopVisible = newCallback;\n          }\n\n          if (calculations.topVisible) {\n            module.execute(callback, callbackName);\n          } else if (!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n\n          if (newCallback === undefined) {\n            return calculations.topVisible;\n          }\n        },\n        bottomVisible: function (newCallback) {\n          var calculations = module.get.elementCalculations(),\n              callback = newCallback || settings.onBottomVisible,\n              callbackName = 'bottomVisible';\n\n          if (newCallback) {\n            module.debug('Adding callback for bottom visible', newCallback);\n            settings.onBottomVisible = newCallback;\n          }\n\n          if (calculations.bottomVisible) {\n            module.execute(callback, callbackName);\n          } else if (!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n\n          if (newCallback === undefined) {\n            return calculations.bottomVisible;\n          }\n        },\n        topPassed: function (newCallback) {\n          var calculations = module.get.elementCalculations(),\n              callback = newCallback || settings.onTopPassed,\n              callbackName = 'topPassed';\n\n          if (newCallback) {\n            module.debug('Adding callback for top passed', newCallback);\n            settings.onTopPassed = newCallback;\n          }\n\n          if (calculations.topPassed) {\n            module.execute(callback, callbackName);\n          } else if (!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n\n          if (newCallback === undefined) {\n            return calculations.topPassed;\n          }\n        },\n        bottomPassed: function (newCallback) {\n          var calculations = module.get.elementCalculations(),\n              callback = newCallback || settings.onBottomPassed,\n              callbackName = 'bottomPassed';\n\n          if (newCallback) {\n            module.debug('Adding callback for bottom passed', newCallback);\n            settings.onBottomPassed = newCallback;\n          }\n\n          if (calculations.bottomPassed) {\n            module.execute(callback, callbackName);\n          } else if (!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n\n          if (newCallback === undefined) {\n            return calculations.bottomPassed;\n          }\n        },\n        passingReverse: function (newCallback) {\n          var calculations = module.get.elementCalculations(),\n              callback = newCallback || settings.onPassingReverse,\n              callbackName = 'passingReverse';\n\n          if (newCallback) {\n            module.debug('Adding callback for passing reverse', newCallback);\n            settings.onPassingReverse = newCallback;\n          }\n\n          if (!calculations.passing) {\n            if (module.get.occurred('passing')) {\n              module.execute(callback, callbackName);\n            }\n          } else if (!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n\n          if (newCallback !== undefined) {\n            return !calculations.passing;\n          }\n        },\n        topVisibleReverse: function (newCallback) {\n          var calculations = module.get.elementCalculations(),\n              callback = newCallback || settings.onTopVisibleReverse,\n              callbackName = 'topVisibleReverse';\n\n          if (newCallback) {\n            module.debug('Adding callback for top visible reverse', newCallback);\n            settings.onTopVisibleReverse = newCallback;\n          }\n\n          if (!calculations.topVisible) {\n            if (module.get.occurred('topVisible')) {\n              module.execute(callback, callbackName);\n            }\n          } else if (!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n\n          if (newCallback === undefined) {\n            return !calculations.topVisible;\n          }\n        },\n        bottomVisibleReverse: function (newCallback) {\n          var calculations = module.get.elementCalculations(),\n              callback = newCallback || settings.onBottomVisibleReverse,\n              callbackName = 'bottomVisibleReverse';\n\n          if (newCallback) {\n            module.debug('Adding callback for bottom visible reverse', newCallback);\n            settings.onBottomVisibleReverse = newCallback;\n          }\n\n          if (!calculations.bottomVisible) {\n            if (module.get.occurred('bottomVisible')) {\n              module.execute(callback, callbackName);\n            }\n          } else if (!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n\n          if (newCallback === undefined) {\n            return !calculations.bottomVisible;\n          }\n        },\n        topPassedReverse: function (newCallback) {\n          var calculations = module.get.elementCalculations(),\n              callback = newCallback || settings.onTopPassedReverse,\n              callbackName = 'topPassedReverse';\n\n          if (newCallback) {\n            module.debug('Adding callback for top passed reverse', newCallback);\n            settings.onTopPassedReverse = newCallback;\n          }\n\n          if (!calculations.topPassed) {\n            if (module.get.occurred('topPassed')) {\n              module.execute(callback, callbackName);\n            }\n          } else if (!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n\n          if (newCallback === undefined) {\n            return !calculations.onTopPassed;\n          }\n        },\n        bottomPassedReverse: function (newCallback) {\n          var calculations = module.get.elementCalculations(),\n              callback = newCallback || settings.onBottomPassedReverse,\n              callbackName = 'bottomPassedReverse';\n\n          if (newCallback) {\n            module.debug('Adding callback for bottom passed reverse', newCallback);\n            settings.onBottomPassedReverse = newCallback;\n          }\n\n          if (!calculations.bottomPassed) {\n            if (module.get.occurred('bottomPassed')) {\n              module.execute(callback, callbackName);\n            }\n          } else if (!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n\n          if (newCallback === undefined) {\n            return !calculations.bottomPassed;\n          }\n        },\n        execute: function (callback, callbackName) {\n          var calculations = module.get.elementCalculations(),\n              screen = module.get.screenCalculations();\n          callback = callback || false;\n\n          if (callback) {\n            if (settings.continuous) {\n              module.debug('Callback being called continuously', callbackName, calculations);\n              callback.call(element, calculations, screen);\n            } else if (!module.get.occurred(callbackName)) {\n              module.debug('Conditions met', callbackName, calculations);\n              callback.call(element, calculations, screen);\n            }\n          }\n\n          module.save.occurred(callbackName);\n        },\n        remove: {\n          fixed: function () {\n            module.debug('Removing fixed position');\n            $module.removeClass(className.fixed).css({\n              position: '',\n              top: '',\n              left: '',\n              zIndex: ''\n            });\n            settings.onUnfixed.call(element);\n          },\n          placeholder: function () {\n            module.debug('Removing placeholder content');\n\n            if ($placeholder) {\n              $placeholder.remove();\n            }\n          },\n          occurred: function (callback) {\n            if (callback) {\n              var occurred = module.cache.occurred;\n\n              if (occurred[callback] !== undefined && occurred[callback] === true) {\n                module.debug('Callback can now be called again', callback);\n                module.cache.occurred[callback] = false;\n              }\n            } else {\n              module.cache.occurred = {};\n            }\n          }\n        },\n        save: {\n          calculations: function () {\n            module.verbose('Saving all calculations necessary to determine positioning');\n            module.save.direction();\n            module.save.screenCalculations();\n            module.save.elementCalculations();\n          },\n          occurred: function (callback) {\n            if (callback) {\n              if (module.cache.occurred[callback] === undefined || module.cache.occurred[callback] !== true) {\n                module.verbose('Saving callback occurred', callback);\n                module.cache.occurred[callback] = true;\n              }\n            }\n          },\n          scroll: function (scrollPosition) {\n            scrollPosition = scrollPosition + settings.offset || $context.scrollTop() + settings.offset;\n            module.cache.scroll = scrollPosition;\n          },\n          direction: function () {\n            var scroll = module.get.scroll(),\n                lastScroll = module.get.lastScroll(),\n                direction;\n\n            if (scroll > lastScroll && lastScroll) {\n              direction = 'down';\n            } else if (scroll < lastScroll && lastScroll) {\n              direction = 'up';\n            } else {\n              direction = 'static';\n            }\n\n            module.cache.direction = direction;\n            return module.cache.direction;\n          },\n          elementPosition: function () {\n            var element = module.cache.element,\n                screen = module.get.screenSize();\n            module.verbose('Saving element position'); // (quicker than $.extend)\n\n            element.fits = element.height < screen.height;\n            element.offset = $module.offset();\n            element.width = $module.outerWidth();\n            element.height = $module.outerHeight(); // compensate for scroll in context\n\n            if (module.is.verticallyScrollableContext()) {\n              element.offset.top += $context.scrollTop() - $context.offset().top;\n            }\n\n            if (module.is.horizontallyScrollableContext()) {\n              element.offset.left += $context.scrollLeft() - $context.offset().left;\n            } // store\n\n\n            module.cache.element = element;\n            return element;\n          },\n          elementCalculations: function () {\n            var screen = module.get.screenCalculations(),\n                element = module.get.elementPosition(); // offset\n\n            if (settings.includeMargin) {\n              element.margin = {};\n              element.margin.top = parseInt($module.css('margin-top'), 10);\n              element.margin.bottom = parseInt($module.css('margin-bottom'), 10);\n              element.top = element.offset.top - element.margin.top;\n              element.bottom = element.offset.top + element.height + element.margin.bottom;\n            } else {\n              element.top = element.offset.top;\n              element.bottom = element.offset.top + element.height;\n            } // visibility\n\n\n            element.topPassed = screen.top >= element.top;\n            element.bottomPassed = screen.top >= element.bottom;\n            element.topVisible = screen.bottom >= element.top && !element.topPassed;\n            element.bottomVisible = screen.bottom >= element.bottom && !element.bottomPassed;\n            element.pixelsPassed = 0;\n            element.percentagePassed = 0; // meta calculations\n\n            element.onScreen = (element.topVisible || element.passing) && !element.bottomPassed;\n            element.passing = element.topPassed && !element.bottomPassed;\n            element.offScreen = !element.onScreen; // passing calculations\n\n            if (element.passing) {\n              element.pixelsPassed = screen.top - element.top;\n              element.percentagePassed = (screen.top - element.top) / element.height;\n            }\n\n            module.cache.element = element;\n            module.verbose('Updated element calculations', element);\n            return element;\n          },\n          screenCalculations: function () {\n            var scroll = module.get.scroll();\n            module.save.direction();\n            module.cache.screen.top = scroll;\n            module.cache.screen.bottom = scroll + module.cache.screen.height;\n            return module.cache.screen;\n          },\n          screenSize: function () {\n            module.verbose('Saving window position');\n            module.cache.screen = {\n              height: $context.height()\n            };\n          },\n          position: function () {\n            module.save.screenSize();\n            module.save.elementPosition();\n          }\n        },\n        get: {\n          pixelsPassed: function (amount) {\n            var element = module.get.elementCalculations();\n\n            if (amount.search('%') > -1) {\n              return element.height * (parseInt(amount, 10) / 100);\n            }\n\n            return parseInt(amount, 10);\n          },\n          occurred: function (callback) {\n            return module.cache.occurred !== undefined ? module.cache.occurred[callback] || false : false;\n          },\n          direction: function () {\n            if (module.cache.direction === undefined) {\n              module.save.direction();\n            }\n\n            return module.cache.direction;\n          },\n          elementPosition: function () {\n            if (module.cache.element === undefined) {\n              module.save.elementPosition();\n            }\n\n            return module.cache.element;\n          },\n          elementCalculations: function () {\n            if (module.cache.element === undefined) {\n              module.save.elementCalculations();\n            }\n\n            return module.cache.element;\n          },\n          screenCalculations: function () {\n            if (module.cache.screen === undefined) {\n              module.save.screenCalculations();\n            }\n\n            return module.cache.screen;\n          },\n          screenSize: function () {\n            if (module.cache.screen === undefined) {\n              module.save.screenSize();\n            }\n\n            return module.cache.screen;\n          },\n          scroll: function () {\n            if (module.cache.scroll === undefined) {\n              module.save.scroll();\n            }\n\n            return module.cache.scroll;\n          },\n          lastScroll: function () {\n            if (module.cache.screen === undefined) {\n              module.debug('First scroll event, no last scroll could be found');\n              return false;\n            }\n\n            return module.cache.screen.top;\n          }\n        },\n        setting: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, settings, name);\n          } else if (value !== undefined) {\n            settings[name] = value;\n          } else {\n            return settings[name];\n          }\n        },\n        internal: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, module, name);\n          } else if (value !== undefined) {\n            module[name] = value;\n          } else {\n            return module[name];\n          }\n        },\n        debug: function () {\n          if (!settings.silent && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function () {\n          if (!settings.silent && settings.verbose && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function () {\n          if (!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function (message) {\n            var currentTime, executionTime, previousTime;\n\n            if (settings.performance) {\n              currentTime = new Date().getTime();\n              previousTime = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time = currentTime;\n              performance.push({\n                'Name': message[0],\n                'Arguments': [].slice.call(message, 1) || '',\n                'Element': element,\n                'Execution Time': executionTime\n              });\n            }\n\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function () {\n            var title = settings.name + ':',\n                totalTime = 0;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function (index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n\n            if (moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n\n            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n\n              if (console.table) {\n                console.table(performance);\n              } else {\n                $.each(performance, function (index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');\n                });\n              }\n\n              console.groupEnd();\n            }\n\n            performance = [];\n          }\n        },\n        invoke: function (query, passedArguments, context) {\n          var object = instance,\n              maxDepth,\n              found,\n              response;\n          passedArguments = passedArguments || queryArguments;\n          context = element || context;\n\n          if (typeof query == 'string' && object !== undefined) {\n            query = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function (depth, value) {\n              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;\n\n              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {\n                object = object[camelCaseValue];\n              } else if (object[camelCaseValue] !== undefined) {\n                found = object[camelCaseValue];\n                return false;\n              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {\n                object = object[value];\n              } else if (object[value] !== undefined) {\n                found = object[value];\n                return false;\n              } else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n\n          if ($.isFunction(found)) {\n            response = found.apply(context, passedArguments);\n          } else if (found !== undefined) {\n            response = found;\n          }\n\n          if (Array.isArray(returnedValue)) {\n            returnedValue.push(response);\n          } else if (returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          } else if (response !== undefined) {\n            returnedValue = response;\n          }\n\n          return found;\n        }\n      };\n\n      if (methodInvoked) {\n        if (instance === undefined) {\n          module.initialize();\n        }\n\n        instance.save.scroll();\n        instance.save.calculations();\n        module.invoke(query);\n      } else {\n        if (instance !== undefined) {\n          instance.invoke('destroy');\n        }\n\n        module.initialize();\n      }\n    });\n    return returnedValue !== undefined ? returnedValue : this;\n  };\n\n  $.fn.visibility.settings = {\n    name: 'Visibility',\n    namespace: 'visibility',\n    debug: false,\n    verbose: false,\n    performance: true,\n    // whether to use mutation observers to follow changes\n    observeChanges: true,\n    // check position immediately on init\n    initialCheck: true,\n    // whether to refresh calculations after all page images load\n    refreshOnLoad: true,\n    // whether to refresh calculations after page resize event\n    refreshOnResize: true,\n    // should call callbacks on refresh event (resize, etc)\n    checkOnRefresh: true,\n    // callback should only occur one time\n    once: true,\n    // callback should fire continuously whe evaluates to true\n    continuous: false,\n    // offset to use with scroll top\n    offset: 0,\n    // whether to include margin in elements position\n    includeMargin: false,\n    // scroll context for visibility checks\n    context: window,\n    // visibility check delay in ms (defaults to animationFrame)\n    throttle: false,\n    // special visibility type (image, fixed)\n    type: false,\n    // z-index to use with visibility 'fixed'\n    zIndex: '10',\n    // image only animation settings\n    transition: 'fade in',\n    duration: 1000,\n    // array of callbacks for percentage\n    onPassed: {},\n    // standard callbacks\n    onOnScreen: false,\n    onOffScreen: false,\n    onPassing: false,\n    onTopVisible: false,\n    onBottomVisible: false,\n    onTopPassed: false,\n    onBottomPassed: false,\n    // reverse callbacks\n    onPassingReverse: false,\n    onTopVisibleReverse: false,\n    onBottomVisibleReverse: false,\n    onTopPassedReverse: false,\n    onBottomPassedReverse: false,\n    // special callbacks for image\n    onLoad: function () {},\n    onAllLoaded: function () {},\n    // special callbacks for fixed position\n    onFixed: function () {},\n    onUnfixed: function () {},\n    // utility callbacks\n    onUpdate: false,\n    // disabled by default for performance\n    onRefresh: function () {},\n    metadata: {\n      src: 'src'\n    },\n    className: {\n      fixed: 'fixed',\n      placeholder: 'constraint',\n      visible: 'visible'\n    },\n    error: {\n      method: 'The method you called is not defined.',\n      visible: 'Element is hidden, you must call refresh after element becomes visible'\n    }\n  };\n})(jQuery, window, document);","map":{"version":3,"names":["$","window","document","undefined","isFunction","obj","nodeType","site","fn","parameters","time","Date","getTime","performance","query","arguments","methodInvoked","queryArguments","slice","call","settings","isPlainObject","extend","namespace","error","moduleNamespace","$document","$module","element","instance","data","module","returnedValue","initialize","instantiate","verbose","normalize","fix","console","requestAnimationFrame","debug","log","disable","group","groupEnd","groupCollapsed","markTimeline","consoleClear","clear","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame","callback","setTimeout","moduleExists","name","enabled","modules","enabledModules","each","index","push","disabled","disabledModules","change","setting","value","modifyExisting","$existingModules","length","newSettings","enable","cache","info","warn","destroy","removeData","internal","Function","prototype","bind","apply","message","currentTime","executionTime","previousTime","clearTimeout","timer","display","title","totalTime","table","invoke","passedArguments","context","object","maxDepth","found","response","split","depth","camelCaseValue","charAt","toUpperCase","method","Array","isArray","siteNamespace","namespaceStub","config","sections","section","utilities","expr","createPseudo","dataName","elem","i","match","jQuery","Math","self","form","$allModules","moduleSelector","selector","legacyParameters","formErrors","keyHeldDown","$field","$group","$message","$prompt","$submit","$clear","$reset","validation","metadata","className","regExp","eventNamespace","submitting","dirty","history","get","refresh","bindEvents","set","defaults","autoCheckRequired","autoCheck","removeEvents","find","field","prompt","submit","reset","attachEvents","action","on","event","preventDefault","validate","blur","keyboardShortcuts","keydown","el","$input","type","prop","inputEvent","changeEvent","preventLeaving","beforeUnload","e","determine","isDirty","onDirty","onClean","$element","parent","$fieldGroup","closest","$calendar","uiCalendar","defaultValue","isCheckbox","is","uiCheckbox","isDropdown","uiDropdown","can","useElement","isCalendar","isErrored","hasClass","removeClass","remove","dropdown","calendar","val","states","isValid","allValid","fieldName","formIsDirty","$el","filter","checkbox","checkboxDirty","fieldDirty","clean","bracketedRule","rule","bracket","shorthandRules","rules","empty","blank","String","trim","valid","showErrors","initialValue","toString","currentValue","boolRegex","isBoolValue","test","regex","RegExp","justDirty","justClean","off","key","which","isInput","input","isInDropdown","keyCode","enter","escape","ctrlKey","one","keyup","validationRules","revalidate","inline","delay","returnValue","text","leavingMessage","ancillaryValue","ruleName","replace","createElement","oninput","onpropertychange","fieldsFromShorthand","fields","fullFields","ancillary","identifier","unspecifiedRule","requiresValue","search","requiresName","$label","parts","suffixPrompt","indexOf","maxValue","minValue","range","and","eq","unspecifiedField","keys","Object","isLegacySettings","oldSyntax","string","t","$fields","add","fieldValidation","groupField","results","values","isRadio","radio","isMultiple","isChecked","date","dateHandling","formatter","datetime","month","year","dirtyFields","has","noElement","newValidation","_index","grep","item","errors","children","promptExists","addClass","templates","label","appendTo","html","transition","duration","fadeIn","success","splice","fadeOut","$parent","isEmptyObject","fieldExists","$multipleField","trigger","asClean","asDirty","$elGroup","isRequired","required","isDisabled","hasEmptyRule","attr","optional","bool","ignoreCallbacks","onSuccess","stopImmediatePropagation","errorFocus","focusElement","hasTabIndex","first","focus","removeAttr","onFailure","$dependsField","depends","fieldValid","fieldErrors","invalidFields","onValid","concat","onInvalid","ruleFunction","shouldTrim","noRule","silent","htmlID","decimal","email","flags","integer","number","url","checked","isExactly","not","notExactly","contain","containExactly","doesntContain","doesntContainExactly","minLength","exactLength","maxLength","different","creditCard","minCount","exactCount","maxCount","pressed","labelClasses","Intl","DateTimeFormat","format","day","hour","minute","second","regExpParts","min","max","toLowerCase","notValue","contains","containsExactly","requiredLength","matchingValue","matchingElement","cardNumber","cardTypes","cards","visa","pattern","amex","mastercard","discover","unionPay","jcb","maestro","dinersClub","laser","visaElectron","validCard","requiredTypes","inArray","multiple","producedValue","sum","parseInt","accordion","$title","$content","content","observer","events","observeChanges","MutationObserver","mutations","observe","childList","subtree","click","toggle","$activeTitle","$activeContent","next","isAnimating","animating","isActive","active","isOpen","isOpening","collapsible","close","open","onOpening","onChanging","exclusive","closeOthers","stop","animateChildren","animation","queue","useFailSafe","skipInlineHidden","onComplete","animate","opacity","resetOpacity","slideDown","easing","onOpen","onChange","isClosing","onClosing","slideUp","onClose","$parentTitles","parents","prev","$activeAccordion","activeSelector","activeContent","$openTitles","$nestedTitles","$openContents","closeNested","css","easeOutQuad","x","b","c","d","timeGapTable","numberText","parser","timeGap","minTimeGap","$container","popup","$activator","activator","isTouch","isTouchDown","isInverted","inverted","focusDateUsedForRange","selectionComplete","classObserver","setup","create","unbind","disconnect","minDate","maxDate","$activatorParent","domPositionFunction","append","onVisible","refreshTooltips","onHidden","onShow","focusDate","mode","validatedMode","startMode","options","popupOptions","hoverable","closable","onHide","touchReadonly","check","initialDate","formatInput","inputElement","createEvent","initEvent","dispatchEvent","r","p","row","cell","pageGrid","today","helper","dateInRange","isYear","isMonth","isDay","isHour","isMinute","isTimeOnly","multiMonth","monthOffset","getMinutes","getHours","getDate","startMonth","getMonth","getFullYear","columns","showWeekNumbers","rows","pages","container","tooltipPosition","grid","pageColumn","column","firstMonthDayColumn","getDay","firstDayOfWeek","constantHeight","requiredCells","ceil","yearChange","monthChange","dayChange","prevNextDay","prevDate","nextDate","prevLast","nextFirst","tempMode","textColumns","thead","headerDate","headerText","link","header","newMode","disableYear","disableMonth","toggleClass","disabledCell","isDateInRange","prevIcon","nextIcon","weekNo","weekCell","dayColumnHeader","tbody","weekOfYear","cellDate","cellText","monthsShort","adjacent","selectAdjacentDays","isEnabled","eventDate","disabledDate","findDayAsObject","disabledDates","position","variation","eventDates","class","eventClass","dateEqual","isToday","adjacentCell","activeCell","todayCell","cellOptions","todayRow","todayButton","update","updateRange","startDate","endDate","rangeDate","focused","inRange","focusCell","isTodayButton","rangeCell","winWidth","width","tooltipWidth","getComputedStyle","calcPosition","offset","left","mousedown","mouseup","mouseover","inputChange","inputFocus","inputBlur","target","buttons","stopPropagation","onSelect","forceSet","selectDate","bigIncrement","increment","newFocusDate","mergeDateTime","mutation","forEach","attributeName","attributes","weekYear","weekMonth","weekDay","ms1d","ms7d","DC3","UTC","AWN","floor","Wyr","getUTCFullYear","sanitiseDate","inputDate","startModule","calendarModule","startCalendar","endModule","endCalendar","validModes","disableMinute","updateInput","fireChange","onBeforeChange","dataKeyValue","refreshCalendar","updateFocus","oldFocusDate","yearDelta","monthDelta","changed","oldValue","equal","complete","canceled","changeDate","disabledDaysOfWeek","some","sdate","idate","enabledDates","dates","dateObject","isNaN","dateDiff","date1","date2","isYearOrMonth","isHourOrMinute","monthFirst","ampm","centuryBreak","currentCentury","lastResort","prefer","hideOnScroll","days","months","now","am","pm","yearHeader","monthHeader","dayHeader","hourHeader","minuteHeader","decadeYear","separator","forCalendar","textDate","numberOnly","j","k","isAm","isDateOnly","words","dateWords","word","numbers","dateNumbers","monthString","substring","initialLoad","shortcutPressed","tabbable","hide","show","reference","indeterminate","uncheck","hidden","notFound","preventDefaultOnInputTarget","should","$target","space","up","right","down","radios","rIndex","rLen","checkIndex","beforeUnchecked","beforeChecked","enableEnterKey","allowCheck","onChecked","allowUncheck","unchecked","onUnchecked","allowIndeterminate","onIndeterminate","determinate","allowDeterminate","onDeterminate","onEnable","onEnabled","onDisable","onDisabled","otherRadios","beforeIndeterminate","beforeDeterminate","fireOnInit","readOnly","uncheckable","uncheckOthers","prevAll","detach","insertAfter","$radios","dimmer","clickEvent","documentElement","$dimmer","$dimmable","preinitialize","dimmerName","dimmable","page","pageDimmer","addContent","template","dimmed","useCSS","useFlex","legacy","displayType","showMethod","onStart","height","fadeTo","hideMethod","hideDuration","showDuration","color","colorArray","isRGB","join","displayLoader","loaderText","loaderVariation","loader","l","hasTouch","elementIndex","$context","$text","$search","$sizer","sizer","$icon","icon","clearIcon","$combo","$menu","menu","$item","$divider","hideDividers","divider","activated","itemActivated","internalChange","iconClicked","selectActionActive","pageLostFocus","willRefocus","elementNamespace","id","selectObserver","menuObserver","alreadySetup","ignoreDiacritics","noNormalize","layout","refreshData","save","restore","selected","visible","select","random","substr","userChoice","$userChoices","$userChoice","isUserValue","userValues","addition","variables","addResult","hideAdditions","userLabels","onSearch","minCharacters","firstUnfiltered","selectedItem","unselectable","nextAvailable","$selected","$nextAvailable","nextAll","$prevAvailable","hasNext","api","apiSettings","urlData","returnedObject","clearable","clearItem","insertBefore","chrome","searchSelection","allowTab","selectValues","selection","preserveHTML","missingMultiple","prependTo","$firstModules","$lastModules","refreshSelectors","refreshItems","clearData","defaultText","placeholderText","clearItems","preventFocus","remote","noApiCache","queryRemote","maxSelections","allResultsFiltered","allFiltered","intent","focusSearch","preventBlur","animatingOutward","focusedOnSearch","hideOthers","hideMenu","hideSubMenus","$subMenus","keyboardEvents","inputEvents","mouseEvents","menuSearch","mouseenter","mouseleave","touch","searchTerm","afterFiltered","filterActive","activeItem","onNoResults","allowAdditions","noResults","userSuggestion","htmlEntities","useLabels","useAPI","filterRemoteData","filterItems","preSelected","delimiter","filtered","noAPI","callbackParameters","errorDuration","throttle","onError","serverError","remoteValues","menuConfig","diacritics","escapedTerm","regExpFlags","ignoreSearchCase","beginsWithRegExp","$choice","unfilterable","choiceText","fullTextSearch","exactSearch","fuzzySearch","choiceValue","filteredItem","lastDivider","nextUntil","term","termLength","queryLength","characterIndex","nextCharacterIndex","queryCharacter","charCodeAt","skipHandler","blurSearch","forceSelection","$currentlySelected","$activeItem","$selectedItem","hasSelected","selectInput","deQuote","showOnFocus","activeElement","activeLabel","$labels","$activeLabels","$nextActive","$prevActive","$range","prevUntil","shiftKey","onLabelSelect","activeLabels","toggleBehavior","bubbledLabelClick","bubbledIconClick","eventOnElement","eventInModule","selectMutation","$addedNode","addedNodes","$removedNode","removedNodes","$changedNodes","isUserAddition","isMessage","$subMenu","$otherMenus","siblings","hasSubMenu","isBubbledEvent","itemTimer","skipRefocus","tagName","allowCategorySelection","userAddition","scrollPosition","selectAction","pressedKey","isShortcutKey","inObject","$activeLabel","activeValue","labelIndex","labelCount","hasActiveLabel","hasMultipleActive","isFirstLabel","isLastLabel","isSearch","isFocusedOnSearch","isFocused","caretAtStart","caretPosition","isSelectedSearch","$nextLabel","leftArrow","last","siblingLabel","end","rightArrow","deleteKey","backspace","$visibleItems","addBack","$parentMenu","inVisibleMenu","hasSelectedItem","selectedIsSelectable","delimiterPressed","isAdditionWithoutMenu","$nextItem","isSubMenuItem","newIndex","upArrow","selectOnKeydown","single","downArrow","pageUp","scrollPage","pageDown","selectedLetter","fromCharCode","inDocument","inModule","inVisibleDOM","body","notOnLabel","notInMenu","nothing","activate","hideAndClear","combo","placeholder","searchWidth","selectionCount","count","upward","uniqueArray","array","returnEndPos","rangeLength","selectionEnd","selectionStart","createRange","moveStart","isEmptyMultiselect","raw","read","remoteData","clone","menuIcon","oldGroup","$option","headerDivider","sortSelect","sort","a","localeCompare","itemWithAdditions","$items","$userItems","hasUserItems","strict","shouldSearch","optionText","optionValue","map","v","ignoreCase","preventChangeTrigger","labels","saveRemoteData","noselection","Storage","noStorage","sessionStorage","getItem","setItem","clearValue","direction","$currentItem","menuHeight","outerHeight","currentScroll","scrollTop","itemHeight","itemsPerPage","maxScroll","newScroll","$selectableItem","isWithinRange","$nextSelectedItem","isSearchMultiple","searchValue","hasSearchValue","valueIsSet","glyphWidth","loading","partialSearch","forceScroll","edgeTolerance","hasActive","itemOffset","menuOffset","menuScroll","abovePage","belowPage","top","searchText","letter","alreadySelectedLetter","firstLetter","$nextValue","openDownward","leftward","openRightward","$currentMenu","escapedValue","hasInput","stringValue","newValue","allowReselection","extendSelect","exactly","keepSearchTerm","selectedText","selectedValue","isFiltered","shouldAnimate","$next","onLabelCreate","hasOption","$addition","$existingItem","alreadyHasValue","hasUserSuggestion","hasCount","hasMaxCount","hasTerm","addedValue","addedText","onAdd","removedValue","removedText","$removedItem","arrayValue","onRemove","$removedLabel","userValue","onLabelRemove","items","subMenu","$normalResults","valueIgnoringCase","valueMatchingCase","hasValue","existingValue","animatingInward","webstore","runtime","$selectedMenu","needle","property","selectChanged","verticallyScrollableContext","overflowY","horizontallyScrollableContext","overflowX","canOpenDownward","onScreen","calculations","above","below","canOpenRightward","isOffscreenRight","scrollLeft","outerWidth","start","noTransition","multipleValues","isUnparsable","hasQuotes","quote","badChars","shouldEscape","escapedChar","chr","keepOnScreen","$selectedLabels","description","descriptionVertical","image","imageClass","iconClass","delete","groupIcon","encode","option","itemType","isMenu","maybeText","maybeDisabled","maybeDescriptionVertical","hasDescription","groupName","choice","embed","sources","$placeholder","$embed","autoplay","createAndShow","createPlaceholder","generate","createEmbed","onCreate","changeEmbed","source","showPlaceholder","onReset","onDisplay","onPlaceholderDisplay","matchedSource","domain","urlString","encodeURIComponent","iframe","noURL","extraParameters","onEmbed","video","hd","brandedUI","youtube","autohide","hq","jsapi","modestbranding","vimeo","byline","portrait","src","onPause","onPlay","onStop","modal","$window","$body","$close","$allModals","$otherModals","$focusedElement","ignoreRepeatedEvents","initialMouseDownInModal","initialMouseDownInScrollbar","initialBodyMargin","tempBodyMargin","elementEventNamespace","helpers","classTitle","classContent","configActions","$actions","actions","classActions","cls","button","allowMultiple","innerDimmer","centered","refreshModals","autoShow","closeIcon","defaultSettings","dimmerSettings","detachable","undetached","prepend","scrolling","cacheSizes","modalOffset","screenHeight","$toggle","approve","deny","resize","scrollLock","addEventListener","preventScroll","passive","removeEventListener","onApprove","onDeny","isRtl","rtl","scrollbarWidth","clientX","isInModal","isInDOM","front","hideAll","clickaway","debounce","keyboard","escapeKey","dimmerStyles","showModal","hideModal","showDimmer","bodyMargin","others","autofocus","keepDimmed","hideOthersToo","$previousModal","hideDimmer","$visibleModals","hideOk","reverse","$activeElement","inCurrentModal","leftBodyScrollbar","bodyMarginRightPixel","bodyScrollbarWidth","innerWidth","clientWidth","restoreFocus","bodyFixed","attribute","blurring","bodyStyle","scrollHeight","modalWidth","modalHeight","pageHeight","contextHeight","topOffset","firefox","safari","edge","ie","fit","verticalCenter","paddingHeight","padding","startPosition","isIE","isIE11","ActiveXObject","modernBrowser","isRTL","isSafari","HTMLElement","ApplePaySession","isEdge","setImmediate","isFirefox","InstallTrigger","$inputs","$autofocus","canFit","marginLeft","marginTop","ok","cancel","getArguments","args","handler","pop","alert","confirm","$this","parseHTML","inputField","nag","storage","dismiss","displayTime","storageMethod","expires","persist","expirationDate","toUTCString","expiresFormat","localStorage","decodeURIComponent","cookieOptions","hasOwnProperty","cookie","cookies","il","foundKey","removeItem","storageOptions","path","secure","samesite","expirationKey","storedValue","expiration","bottom","fixed","$scrollContext","scrollContext","$boundary","boundary","$popup","$offsetParent","searchDepth","triedPositions","openedWithTouch","documentObserver","createID","exists","preserve","documentChanged","offsetParent","movePopup","reposition","removePopup","hideTimer","showTimer","addTouchEvents","touchstart","node","hideGracefully","inPopup","conditions","popupVisible","supports","svg","SVGGraphicsElement","popupOffset","$popupOffsetParent","targetElement","isWindow","targetOffset","parentOffset","screenPosition","scroll","screen","margin","setFluidWidth","fluid","getPropertyValue","startEvent","scrollEvent","endEvent","distanceFromBoundary","parentNode","$node","is2D","isStatic","isBody","positions","nextPosition","verticalPosition","horizontalPosition","opposite","center","backup","adjacentsAvailable","oppositeTried","adjacentTried","distanceAway","positioning","centerArrow","arrowPixelsFromEdge","maxSearchDepth","invalidPosition","forcePosition","offstage","cannotPlace","attempts","onUnplaceable","fluidWidth","closeOnScroll","touchClose","basic","distance","jitter","progress","$bars","bar","$progresses","transitionEnd","nums","reduce","Number","derivePrecision","total","precisionPower","precision","ratio","pow","forceArray","transitionEvent","clearInterval","interval","state","nextValue","keepState","percent","progressPoll","failSafeTimer","triggerHandler","failSafeDelay","incrementValue","startValue","randomValue","normalizedValue","decrement","decrementValue","templateText","index_","displayPercent","bars","updateInterval","numericValue","transitions","style","$bar","barWidth","totalWidth","minDisplay","round","toNextValue","warning","firstNonZeroIndex","lastNonZeroIndex","valuesSum","barCounts","percents","allZero","parseFloat","_","borderTopLeftRadius","borderBottomLeftRadius","borderTopRightRadius","borderBottomRightRadius","limitValues","hasTotal","totalPercent","isMultipleValues","sumTotal","sumExceedsTotal","tooHigh","tooLow","autoPrecision","roundedPercents","labelInterval","animationCallback","setInterval","framerate","barLabel","autoSuccess","$progress","showActivity","onLabelUpdate","onActive","onWarning","totalValue","percentCompletes","percentComplete","nonNumeric","variable","slider","alphabet","SINGLE_STEP","BIG_STEP","NO_STEP","SINGLE_BACKSTEP","BIG_BACKSTEP","currentRange","interpretLabel","isHover","$currThumb","$thumb","$secondThumb","$track","$trackFill","documentEventID","secondPos","gapRatio","previousValue","initialPosition","testOutTouch","slidingEvents","labeled","customLabel","autoLabel","showLabelTicks","ticked","$children","numChildren","$child","attrValue","labelPosition","len","numLabels","labelText","globalKeyboardEvents","touchEvents","autoAdjustLabels","windowEvents","activateFocus","move","eventPos","newPos","pos","preventCrossover","thumbVal","secondThumbVal","closestThumb","currentThumbValue","valueFromEvent","step","smooth","thumbSmoothVal","smoothValueFromEvent","abs","onMove","keyMovement","takeStep","multiplier","backStep","hover","_event","resync","currValue","reversed","vertical","trackOffset","trackLength","trackLeft","trackStartPos","trackEndPos","trackStartMargin","trackEndMargin","decimalPlaces","quotient","remainder","labelType","labelTypes","thumbValue","notrange","pageMultiplier","thumbPosition","gapCounter","labelDistance","pagePos","thumbPos","thumbDelta","secondThumbPos","secondThumbDelta","closestThumbPos","positionFromValue","positionFromRatio","adjustedPos","touchEvent","changedTouches","originalEvent","touches","touchY","pageY","touchX","pageX","clickY","clickX","startPos","endPos","difference","handleNewValuePosition","toReset","rangeValue","$targetThumb","trackPosValue","thumbPosValue","thumbPosPercent","trackStartPosPercent","trackEndPosPercent","startMargin","endMargin","posDir","startMarginMod","goto","rating","cssVars","interactive","initialRating","maxRating","$activeIcon","currentRating","canClear","clearRating","ratingIndex","$partialActiveIcon","filledPercentage","partiallyActive","filledCustomPropName","onRate","noMaximum","$searchButton","searchButton","$results","$result","result","$category","category","disabledBubbled","resultsDismissed","searchFields","refreshResults","automatic","handleKeyboard","searchDelay","searchOnFocus","minimumCharacters","showResults","hideResults","hideDelay","resultsClicked","inMessage","$link","href","location","ensureVisible","elTop","elBottom","resultsScrollTop","resultsHeight","$activeResult","currentIndex","resultSize","hasActiveResult","buttonPressed","buttonFocus","parse","displayMessage","onAbort","searchFullText","oldSearchSyntax","firstResult","addResults","inject","local","onSearchQuery","searchHTML","maxResults","categoryResults","generateResults","write","exactResults","fuzzyResults","searchExp","matchRegExp","beginsWith","notResult","notFuzzyResult","notExactResults","merge","o","numCharacters","resultIndex","categoryIndex","resultID","letterID","$selectedResult","onResultsAdd","selectFirstResult","$firstResult","onResultsOpen","onResultsClose","isProperObject","isProperArray","noTemplate","showNoResults","noResultsHeader","onResults","displayField","logging","noEndpoint","categories","categoryName","price","actionText","actionURL","standard","shape","$sides","sides","$side","side","nextIndex","$activeSide","$nextSide","defaultSide","repaint","fakeAssignment","offsetWidth","propertyObject","beforeChange","currentStageSize","stageSize","$clone","newWidth","newHeight","nextSide","flip","to","stage","allowRepeats","transform","over","back","translateZ","translateY","translate","z","translateX","box","origin","behind","sidebar","$html","$head","$sidebars","$fixed","$pusher","pusher","$style","delaySetup","ios","clickedInPusher","clickedContext","containScroll","offsetHeight","inlineCSS","refreshSidebars","ignored","omitted","wrapAll","movedSidebar","pushable","overlay","othersActive","pushPage","pullPage","othersAnimating","othersVisible","$otherSidebars","sidebarCount","callbackCount","$transition","dim","scrollToTop","dimPage","returnScroll","mobile","scrollBack","scrollTo","pushed","mobileTransition","defaultTransition","computer","userAgent","navigator","isIOS","isMobileChrome","mobileChrome","isMobile","closed","sticky","$scroll","determineContainer","determineContext","checkErrors","load","scrollchange","invalidContext","elementSize","stick","onScroll","hardRefresh","onReposition","supported","lastScroll","elementScroll","standardScroll","fits","sameHeight","containerSize","scrollChange","currentElementScroll","delta","possibleScroll","minimumSize","size","setProperty","bound","cachedPosition","pushing","bottomOffset","doesntFit","elementVisible","bindBottom","fixTop","setInitialPosition","fixBottom","bindTop","marginBottom","onTop","onUnstick","onBottom","unfix","setSize","onStick","resetCSS","tab","initializedHistory","$tabs","firstLoad","recursionDepth","activeTabPath","parameterArray","historyEvent","callbacks","determineTabs","auto","initializeHistory","autoTabActivation","activeTab","initialPath","changeTab","$reference","ui","childrenOnly","tabs","onTabLoad","onTabInit","onLoad","legacyLoad","onFirstLoad","legacyInit","address","historyType","tabPath","pathNames","pageTitle","determineTitle","cacheKey","$tab","tabElement","isLoading","onRequest","pushStateAvailable","pushState","shouldIgnoreLoad","ignoreFirstLoad","remoteContent","pathArray","pathToArray","defaultPathArray","arrayToPath","currentPathArray","currentPath","isTab","isLastIndex","$anchor","nextPathArray","nextPath","isLastTab","filterArray","navigation","fetch","all","missingTab","scrollOffset","evaluateScripts","cacheType","innerHTML","fullTabPath","dataType","encodeParameters","alwaysRefresh","headers","loadOnce","request","existingRequest","requestSettings","cachedContent","$deactiveTabs","deactivate","$navigation","navElement","$deactiveNavigation","tabName","defaultPath","$defaultNav","defaultTab","recursion","$fullPathTab","$simplePathTab","tabPathArray","lastTab","keepArray","removeArray","keepValue","pathName","tabArray","noContent","loaded","promise","toast","$toastBox","$toast","$progressBar","$animationObject","isToastComponent","showImage","showProgress","closeOnClick","unclickable","horizontal","classImage","cloneModule","toClass","compact","attached","extraContent","verticalCard","minDisplayTime","wordsPerMinute","wrap","progressingClass","progressing","pauseOnHover","pausable","classProgress","progressUp","newestOnTop","onBeforeHide","closeEasing","closeDuration","pause","continue","toasts","toastBox","showIcon","icons","remainingTime","onClick","classes","easeOutBounce","easeOutCubic","moduleArguments","animationEnd","animationEndEvent","forceRepaint","$parentElement","$nextElement","animationDirection","shouldReverse","outward","overrideSettings","support","occurring","queuing","noAnimation","animationCallbacks","completeCallback","failSafe","looping","inward","force","userStyle","overrideStyle","inlineDisplay","mustStayHidden","currentDisplay","emptyStyle","hasDirection","animationClass","animationName","transitionExists","currentAnimation","queueCallback","directionClass","currentDirection","shouldDetermine","animationStartEvent","animations","forced","elementClass","inAnimation","directionExists","hideNow","stopAll","repeated","$form","stateContext","ajaxSettings","requestStartTime","triggerEvent","decode","json","JSON","cachedResponse","stringify","interruptRequests","abort","defaultData","serializeForm","formData","cancelled","beforeSend","templatedURL","mocked","missingURL","base","beforeXHR","failure","resolveWith","send","throttleFirstRequest","removeError","hideError","expectingJSON","mockResponse","mockResponseAsync","responseAsync","abortedRequest","xhr","readyState","validResponse","successTest","was","succesful","successful","requiredVariables","optionalVariables","templatedString","requiredParameter","urlEncodedValue","canSerialize","serializeObject","serialize","hasOtherData","missingSerialize","mockedXHR","always","done","textStatus","elapsedTime","timeLeft","loadingDuration","translatedResponse","onResponse","rawResponse","rejectWith","fail","status","httpMessage","firstParameter","secondParameter","responseFromXHR","errorMessage","errorFromRequest","statusMessage","Deferred","responder","asyncResponder","asyncCallback","responseText","ajax","runSettings","noReturnedValue","decodedValue","encodedValue","alreadyEncoded","missingAction","exitConditions","JSONParse","parseError","timeout","userStates","typeStates","inactive","textEnabled","allow","disallow","allows","setState","removeState","apiRequest","requestCancelled","activateTest","deactivateTest","listenTo","when","then","sync","onActivate","onDeactivate","textFor","flash","previousText","flashDuration","activeText","storedText","inactiveText","currentText","visibility","moduleCount","loadedCount","contextObserver","trackChanges","initialCheck","checkVisibility","resetFixed","contextChanged","refreshOnLoad","refreshOnResize","precache","images","imagesLength","loadedCounter","cacheImage","handleLoad","onload","onerror","enableCallbacks","disableCallbacks","occurred","once","onOnScreen","onAllLoaded","onTopPassed","onTopPassedReverse","zIndex","onFixed","elementCalculations","offScreen","checkOnRefresh","onRefresh","passed","passingReverse","topVisibleReverse","bottomVisibleReverse","topPassedReverse","bottomPassedReverse","passing","topVisible","bottomVisible","topPassed","bottomPassed","onUpdate","amount","newCallback","onPassed","pixelsPassed","execute","callbackName","onOffScreen","onPassing","onTopVisible","onBottomVisible","onBottomPassed","onPassingReverse","onTopVisibleReverse","onBottomVisibleReverse","onBottomPassedReverse","screenCalculations","continuous","onUnfixed","elementPosition","screenSize","includeMargin","percentagePassed"],"sources":["C:/Users/bryan/Desktop/myrepresentatives/frontend/node_modules/fomantic-ui/dist/semantic.js"],"sourcesContent":["/*\n * # Fomantic UI - 2.8.8\n * https://github.com/fomantic/Fomantic-UI\n * http://fomantic-ui.com/\n *\n * Copyright 2021 Contributors\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n/*!\n * # Fomantic-UI 2.8.8 - Site\n * http://github.com/fomantic/Fomantic-UI/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n$.isFunction = $.isFunction || function(obj) {\n    return typeof obj === \"function\" && typeof obj.nodeType !== \"number\";\n};\n\n$.site = $.fn.site = function(parameters) {\n  var\n    time           = new Date().getTime(),\n    performance    = [],\n\n    query          = arguments[0],\n    methodInvoked  = (typeof query == 'string'),\n    queryArguments = [].slice.call(arguments, 1),\n\n    settings        = ( $.isPlainObject(parameters) )\n      ? $.extend(true, {}, $.site.settings, parameters)\n      : $.extend({}, $.site.settings),\n\n    namespace       = settings.namespace,\n    error           = settings.error,\n\n    moduleNamespace = 'module-' + namespace,\n\n    $document       = $(document),\n    $module         = $document,\n    element         = this,\n    instance        = $module.data(moduleNamespace),\n\n    module,\n    returnedValue\n  ;\n  module = {\n\n    initialize: function() {\n      module.instantiate();\n    },\n\n    instantiate: function() {\n      module.verbose('Storing instance of site', module);\n      instance = module;\n      $module\n        .data(moduleNamespace, module)\n      ;\n    },\n\n    normalize: function() {\n      module.fix.console();\n      module.fix.requestAnimationFrame();\n    },\n\n    fix: {\n      console: function() {\n        module.debug('Normalizing window.console');\n        if (console === undefined || console.log === undefined) {\n          module.verbose('Console not available, normalizing events');\n          module.disable.console();\n        }\n        if (typeof console.group == 'undefined' || typeof console.groupEnd == 'undefined' || typeof console.groupCollapsed == 'undefined') {\n          module.verbose('Console group not available, normalizing events');\n          window.console.group = function() {};\n          window.console.groupEnd = function() {};\n          window.console.groupCollapsed = function() {};\n        }\n        if (typeof console.markTimeline == 'undefined') {\n          module.verbose('Mark timeline not available, normalizing events');\n          window.console.markTimeline = function() {};\n        }\n      },\n      consoleClear: function() {\n        module.debug('Disabling programmatic console clearing');\n        window.console.clear = function() {};\n      },\n      requestAnimationFrame: function() {\n        module.debug('Normalizing requestAnimationFrame');\n        if(window.requestAnimationFrame === undefined) {\n          module.debug('RequestAnimationFrame not available, normalizing event');\n          window.requestAnimationFrame = window.requestAnimationFrame\n            || window.mozRequestAnimationFrame\n            || window.webkitRequestAnimationFrame\n            || window.msRequestAnimationFrame\n            || function(callback) { setTimeout(callback, 0); }\n          ;\n        }\n      }\n    },\n\n    moduleExists: function(name) {\n      return ($.fn[name] !== undefined && $.fn[name].settings !== undefined);\n    },\n\n    enabled: {\n      modules: function(modules) {\n        var\n          enabledModules = []\n        ;\n        modules = modules || settings.modules;\n        $.each(modules, function(index, name) {\n          if(module.moduleExists(name)) {\n            enabledModules.push(name);\n          }\n        });\n        return enabledModules;\n      }\n    },\n\n    disabled: {\n      modules: function(modules) {\n        var\n          disabledModules = []\n        ;\n        modules = modules || settings.modules;\n        $.each(modules, function(index, name) {\n          if(!module.moduleExists(name)) {\n            disabledModules.push(name);\n          }\n        });\n        return disabledModules;\n      }\n    },\n\n    change: {\n      setting: function(setting, value, modules, modifyExisting) {\n        modules = (typeof modules === 'string')\n          ? (modules === 'all')\n            ? settings.modules\n            : [modules]\n          : modules || settings.modules\n        ;\n        modifyExisting = (modifyExisting !== undefined)\n          ? modifyExisting\n          : true\n        ;\n        $.each(modules, function(index, name) {\n          var\n            namespace = (module.moduleExists(name))\n              ? $.fn[name].settings.namespace || false\n              : true,\n            $existingModules\n          ;\n          if(module.moduleExists(name)) {\n            module.verbose('Changing default setting', setting, value, name);\n            $.fn[name].settings[setting] = value;\n            if(modifyExisting && namespace) {\n              $existingModules = $(':data(module-' + namespace + ')');\n              if($existingModules.length > 0) {\n                module.verbose('Modifying existing settings', $existingModules);\n                $existingModules[name]('setting', setting, value);\n              }\n            }\n          }\n        });\n      },\n      settings: function(newSettings, modules, modifyExisting) {\n        modules = (typeof modules === 'string')\n          ? [modules]\n          : modules || settings.modules\n        ;\n        modifyExisting = (modifyExisting !== undefined)\n          ? modifyExisting\n          : true\n        ;\n        $.each(modules, function(index, name) {\n          var\n            $existingModules\n          ;\n          if(module.moduleExists(name)) {\n            module.verbose('Changing default setting', newSettings, name);\n            $.extend(true, $.fn[name].settings, newSettings);\n            if(modifyExisting && namespace) {\n              $existingModules = $(':data(module-' + namespace + ')');\n              if($existingModules.length > 0) {\n                module.verbose('Modifying existing settings', $existingModules);\n                $existingModules[name]('setting', newSettings);\n              }\n            }\n          }\n        });\n      }\n    },\n\n    enable: {\n      console: function() {\n        module.console(true);\n      },\n      debug: function(modules, modifyExisting) {\n        modules = modules || settings.modules;\n        module.debug('Enabling debug for modules', modules);\n        module.change.setting('debug', true, modules, modifyExisting);\n      },\n      verbose: function(modules, modifyExisting) {\n        modules = modules || settings.modules;\n        module.debug('Enabling verbose debug for modules', modules);\n        module.change.setting('verbose', true, modules, modifyExisting);\n      }\n    },\n    disable: {\n      console: function() {\n        module.console(false);\n      },\n      debug: function(modules, modifyExisting) {\n        modules = modules || settings.modules;\n        module.debug('Disabling debug for modules', modules);\n        module.change.setting('debug', false, modules, modifyExisting);\n      },\n      verbose: function(modules, modifyExisting) {\n        modules = modules || settings.modules;\n        module.debug('Disabling verbose debug for modules', modules);\n        module.change.setting('verbose', false, modules, modifyExisting);\n      }\n    },\n\n    console: function(enable) {\n      if(enable) {\n        if(instance.cache.console === undefined) {\n          module.error(error.console);\n          return;\n        }\n        module.debug('Restoring console function');\n        window.console = instance.cache.console;\n      }\n      else {\n        module.debug('Disabling console function');\n        instance.cache.console = window.console;\n        window.console = {\n          clear          : function(){},\n          error          : function(){},\n          group          : function(){},\n          groupCollapsed : function(){},\n          groupEnd       : function(){},\n          info           : function(){},\n          log            : function(){},\n          markTimeline   : function(){},\n          warn           : function(){}\n        };\n      }\n    },\n\n    destroy: function() {\n      module.verbose('Destroying previous site for', $module);\n      $module\n        .removeData(moduleNamespace)\n      ;\n    },\n\n    cache: {},\n\n    setting: function(name, value) {\n      if( $.isPlainObject(name) ) {\n        $.extend(true, settings, name);\n      }\n      else if(value !== undefined) {\n        settings[name] = value;\n      }\n      else {\n        return settings[name];\n      }\n    },\n    internal: function(name, value) {\n      if( $.isPlainObject(name) ) {\n        $.extend(true, module, name);\n      }\n      else if(value !== undefined) {\n        module[name] = value;\n      }\n      else {\n        return module[name];\n      }\n    },\n    debug: function() {\n      if(settings.debug) {\n        if(settings.performance) {\n          module.performance.log(arguments);\n        }\n        else {\n          module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n          module.debug.apply(console, arguments);\n        }\n      }\n    },\n    verbose: function() {\n      if(settings.verbose && settings.debug) {\n        if(settings.performance) {\n          module.performance.log(arguments);\n        }\n        else {\n          module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n          module.verbose.apply(console, arguments);\n        }\n      }\n    },\n    error: function() {\n      module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n      module.error.apply(console, arguments);\n    },\n    performance: {\n      log: function(message) {\n        var\n          currentTime,\n          executionTime,\n          previousTime\n        ;\n        if(settings.performance) {\n          currentTime   = new Date().getTime();\n          previousTime  = time || currentTime;\n          executionTime = currentTime - previousTime;\n          time          = currentTime;\n          performance.push({\n            'Element'        : element,\n            'Name'           : message[0],\n            'Arguments'      : [].slice.call(message, 1) || '',\n            'Execution Time' : executionTime\n          });\n        }\n        clearTimeout(module.performance.timer);\n        module.performance.timer = setTimeout(module.performance.display, 500);\n      },\n      display: function() {\n        var\n          title = settings.name + ':',\n          totalTime = 0\n        ;\n        time = false;\n        clearTimeout(module.performance.timer);\n        $.each(performance, function(index, data) {\n          totalTime += data['Execution Time'];\n        });\n        title += ' ' + totalTime + 'ms';\n        if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n          console.groupCollapsed(title);\n          if(console.table) {\n            console.table(performance);\n          }\n          else {\n            $.each(performance, function(index, data) {\n              console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n            });\n          }\n          console.groupEnd();\n        }\n        performance = [];\n      }\n    },\n    invoke: function(query, passedArguments, context) {\n      var\n        object = instance,\n        maxDepth,\n        found,\n        response\n      ;\n      passedArguments = passedArguments || queryArguments;\n      context         = element         || context;\n      if(typeof query == 'string' && object !== undefined) {\n        query    = query.split(/[\\. ]/);\n        maxDepth = query.length - 1;\n        $.each(query, function(depth, value) {\n          var camelCaseValue = (depth != maxDepth)\n            ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n            : query\n          ;\n          if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n            object = object[camelCaseValue];\n          }\n          else if( object[camelCaseValue] !== undefined ) {\n            found = object[camelCaseValue];\n            return false;\n          }\n          else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n            object = object[value];\n          }\n          else if( object[value] !== undefined ) {\n            found = object[value];\n            return false;\n          }\n          else {\n            module.error(error.method, query);\n            return false;\n          }\n        });\n      }\n      if ( $.isFunction( found ) ) {\n        response = found.apply(context, passedArguments);\n      }\n      else if(found !== undefined) {\n        response = found;\n      }\n      if(Array.isArray(returnedValue)) {\n        returnedValue.push(response);\n      }\n      else if(returnedValue !== undefined) {\n        returnedValue = [returnedValue, response];\n      }\n      else if(response !== undefined) {\n        returnedValue = response;\n      }\n      return found;\n    }\n  };\n\n  if(methodInvoked) {\n    if(instance === undefined) {\n      module.initialize();\n    }\n    module.invoke(query);\n  }\n  else {\n    if(instance !== undefined) {\n      module.destroy();\n    }\n    module.initialize();\n  }\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n$.site.settings = {\n\n  name        : 'Site',\n  namespace   : 'site',\n\n  error : {\n    console : 'Console cannot be restored, most likely it was overwritten outside of module',\n    method : 'The method you called is not defined.'\n  },\n\n  debug       : false,\n  verbose     : false,\n  performance : true,\n\n  modules: [\n    'accordion',\n    'api',\n    'calendar',\n    'checkbox',\n    'dimmer',\n    'dropdown',\n    'embed',\n    'form',\n    'modal',\n    'nag',\n    'popup',\n    'slider',\n    'rating',\n    'shape',\n    'sidebar',\n    'state',\n    'sticky',\n    'tab',\n    'toast',\n    'transition',\n    'visibility',\n    'visit'\n  ],\n\n  siteNamespace   : 'site',\n  namespaceStub   : {\n    cache     : {},\n    config    : {},\n    sections  : {},\n    section   : {},\n    utilities : {}\n  }\n\n};\n\n// allows for selection of elements with data attributes\n$.extend($.expr[ \":\" ], {\n  data: ($.expr.createPseudo)\n    ? $.expr.createPseudo(function(dataName) {\n        return function(elem) {\n          return !!$.data(elem, dataName);\n        };\n      })\n    : function(elem, i, match) {\n      // support: jQuery < 1.8\n      return !!$.data(elem, match[ 3 ]);\n    }\n});\n\n\n})( jQuery, window, document );\n\n/*!\n * # Fomantic-UI 2.8.8 - Form Validation\n * http://github.com/fomantic/Fomantic-UI/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n'use strict';\n\n$.isFunction = $.isFunction || function(obj) {\n  return typeof obj === \"function\" && typeof obj.nodeType !== \"number\";\n};\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\n$.fn.form = function(parameters) {\n  var\n    $allModules      = $(this),\n    moduleSelector   = $allModules.selector || '',\n\n    time             = new Date().getTime(),\n    performance      = [],\n\n    query            = arguments[0],\n    legacyParameters = arguments[1],\n    methodInvoked    = (typeof query == 'string'),\n    queryArguments   = [].slice.call(arguments, 1),\n    returnedValue\n  ;\n  $allModules\n    .each(function() {\n      var\n        $module     = $(this),\n        element     = this,\n\n        formErrors  = [],\n        keyHeldDown = false,\n\n        // set at run-time\n        $field,\n        $group,\n        $message,\n        $prompt,\n        $submit,\n        $clear,\n        $reset,\n\n        settings,\n        validation,\n\n        metadata,\n        selector,\n        className,\n        regExp,\n        error,\n\n        namespace,\n        moduleNamespace,\n        eventNamespace,\n\n        submitting = false,\n        dirty = false,\n        history = ['clean', 'clean'],\n\n        instance,\n        module\n      ;\n\n      module      = {\n\n        initialize: function() {\n\n          // settings grabbed at run time\n          module.get.settings();\n          if(methodInvoked) {\n            if(instance === undefined) {\n              module.instantiate();\n            }\n            module.invoke(query);\n          }\n          else {\n            if(instance !== undefined) {\n              instance.invoke('destroy');\n              module.refresh();\n            }\n            module.verbose('Initializing form validation', $module, settings);\n            module.bindEvents();\n            module.set.defaults();\n            if (settings.autoCheckRequired) {\n              module.set.autoCheck();\n            }\n            module.instantiate();\n          }\n        },\n\n        instantiate: function() {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module\n            .data(moduleNamespace, module)\n          ;\n        },\n\n        destroy: function() {\n          module.verbose('Destroying previous module', instance);\n          module.removeEvents();\n          $module\n            .removeData(moduleNamespace)\n          ;\n        },\n\n        refresh: function() {\n          module.verbose('Refreshing selector cache');\n          $field      = $module.find(selector.field);\n          $group      = $module.find(selector.group);\n          $message    = $module.find(selector.message);\n          $prompt     = $module.find(selector.prompt);\n\n          $submit     = $module.find(selector.submit);\n          $clear      = $module.find(selector.clear);\n          $reset      = $module.find(selector.reset);\n        },\n\n        submit: function() {\n          module.verbose('Submitting form', $module);\n          submitting = true;\n          $module.submit();\n        },\n\n        attachEvents: function(selector, action) {\n          action = action || 'submit';\n          $(selector).on('click' + eventNamespace, function(event) {\n            module[action]();\n            event.preventDefault();\n          });\n        },\n\n        bindEvents: function() {\n          module.verbose('Attaching form events');\n          $module\n            .on('submit' + eventNamespace, module.validate.form)\n            .on('blur'   + eventNamespace, selector.field, module.event.field.blur)\n            .on('click'  + eventNamespace, selector.submit, module.submit)\n            .on('click'  + eventNamespace, selector.reset, module.reset)\n            .on('click'  + eventNamespace, selector.clear, module.clear)\n          ;\n          if(settings.keyboardShortcuts) {\n            $module.on('keydown' + eventNamespace, selector.field, module.event.field.keydown);\n          }\n          $field.each(function(index, el) {\n            var\n              $input     = $(el),\n              type       = $input.prop('type'),\n              inputEvent = module.get.changeEvent(type, $input)\n            ;\n            $input.on(inputEvent + eventNamespace, module.event.field.change);\n          });\n\n          // Dirty events\n          if (settings.preventLeaving) {\n            $(window).on('beforeunload' + eventNamespace, module.event.beforeUnload);\n          }\n\n          $field.on('change click keyup keydown blur', function(e) {\n            module.determine.isDirty();\n          });\n\n          $module.on('dirty' + eventNamespace, function(e) {\n            settings.onDirty.call();\n          });\n\n          $module.on('clean' + eventNamespace, function(e) {\n            settings.onClean.call();\n          })\n        },\n\n        clear: function() {\n          $field.each(function (index, el) {\n            var\n              $field       = $(el),\n              $element     = $field.parent(),\n              $fieldGroup  = $field.closest($group),\n              $prompt      = $fieldGroup.find(selector.prompt),\n              $calendar    = $field.closest(selector.uiCalendar),\n              defaultValue = $field.data(metadata.defaultValue) || '',\n              isCheckbox   = $element.is(selector.uiCheckbox),\n              isDropdown   = $element.is(selector.uiDropdown)  && module.can.useElement('dropdown'),\n              isCalendar   = ($calendar.length > 0  && module.can.useElement('calendar')),\n              isErrored    = $fieldGroup.hasClass(className.error)\n            ;\n            if(isErrored) {\n              module.verbose('Resetting error on field', $fieldGroup);\n              $fieldGroup.removeClass(className.error);\n              $prompt.remove();\n            }\n            if(isDropdown) {\n              module.verbose('Resetting dropdown value', $element, defaultValue);\n              $element.dropdown('clear', true);\n            }\n            else if(isCheckbox) {\n              $field.prop('checked', false);\n            }\n            else if (isCalendar) {\n              $calendar.calendar('clear');\n            }\n            else {\n              module.verbose('Resetting field value', $field, defaultValue);\n              $field.val('');\n            }\n          });\n          module.remove.states();\n        },\n\n        reset: function() {\n          $field.each(function (index, el) {\n            var\n              $field       = $(el),\n              $element     = $field.parent(),\n              $fieldGroup  = $field.closest($group),\n              $calendar    = $field.closest(selector.uiCalendar),\n              $prompt      = $fieldGroup.find(selector.prompt),\n              defaultValue = $field.data(metadata.defaultValue),\n              isCheckbox   = $element.is(selector.uiCheckbox),\n              isDropdown   = $element.is(selector.uiDropdown)  && module.can.useElement('dropdown'),\n              isCalendar   = ($calendar.length > 0  && module.can.useElement('calendar')),\n              isErrored    = $fieldGroup.hasClass(className.error)\n            ;\n            if(defaultValue === undefined) {\n              return;\n            }\n            if(isErrored) {\n              module.verbose('Resetting error on field', $fieldGroup);\n              $fieldGroup.removeClass(className.error);\n              $prompt.remove();\n            }\n            if(isDropdown) {\n              module.verbose('Resetting dropdown value', $element, defaultValue);\n              $element.dropdown('restore defaults', true);\n            }\n            else if(isCheckbox) {\n              module.verbose('Resetting checkbox value', $element, defaultValue);\n              $field.prop('checked', defaultValue);\n            }\n            else if (isCalendar) {\n              $calendar.calendar('set date', defaultValue);\n            }\n            else {\n              module.verbose('Resetting field value', $field, defaultValue);\n              $field.val(defaultValue);\n            }\n          });\n          module.remove.states();\n        },\n\n        determine: {\n          isValid: function() {\n            var\n              allValid = true\n            ;\n            $.each(validation, function(fieldName, field) {\n              if( !( module.validate.field(field, fieldName, true) ) ) {\n                allValid = false;\n              }\n            });\n            return allValid;\n          },\n          isDirty: function(e) {\n            var formIsDirty = false;\n\n            $field.each(function(index, el) {\n              var\n                $el = $(el),\n                isCheckbox = ($el.filter(selector.checkbox).length > 0),\n                isDirty\n              ;\n\n              if (isCheckbox) {\n                isDirty = module.is.checkboxDirty($el);\n              } else {\n                isDirty = module.is.fieldDirty($el);\n              }\n\n              $el.data(settings.metadata.isDirty, isDirty);\n\n              formIsDirty |= isDirty;\n            });\n\n            if (formIsDirty) {\n              module.set.dirty();\n            } else {\n              module.set.clean();\n            }\n\n          }\n        },\n\n        is: {\n          bracketedRule: function(rule) {\n            return (rule.type && rule.type.match(settings.regExp.bracket));\n          },\n          // duck type rule test\n          shorthandRules: function(rules) {\n            return (typeof rules == 'string' || Array.isArray(rules));\n          },\n          empty: function($field) {\n            if(!$field || $field.length === 0) {\n              return true;\n            }\n            else if($field.is(selector.checkbox)) {\n              return !$field.is(':checked');\n            }\n            else {\n              return module.is.blank($field);\n            }\n          },\n          blank: function($field) {\n            return String($field.val()).trim() === '';\n          },\n          valid: function(field, showErrors) {\n            var\n              allValid = true\n            ;\n            if(field) {\n              module.verbose('Checking if field is valid', field);\n              return module.validate.field(validation[field], field, !!showErrors);\n            }\n            else {\n              module.verbose('Checking if form is valid');\n              $.each(validation, function(fieldName, field) {\n                if( !module.is.valid(fieldName, showErrors) ) {\n                  allValid = false;\n                }\n              });\n              return allValid;\n            }\n          },\n          dirty: function() {\n            return dirty;\n          },\n          clean: function() {\n            return !dirty;\n          },\n          fieldDirty: function($el) {\n            var initialValue = $el.data(metadata.defaultValue);\n            // Explicitly check for null/undefined here as value may be `false`, so ($el.data(dataInitialValue) || '') would not work\n            if (initialValue == null) { initialValue = ''; }\n            else if(Array.isArray(initialValue)) {\n              initialValue = initialValue.toString();\n            }\n            var currentValue = $el.val();\n            if (currentValue == null) { currentValue = ''; }\n            // multiple select values are returned as arrays which are never equal, so do string conversion first\n            else if(Array.isArray(currentValue)) {\n              currentValue = currentValue.toString();\n            }\n            // Boolean values can be encoded as \"true/false\" or \"True/False\" depending on underlying frameworks so we need a case insensitive comparison\n            var boolRegex = /^(true|false)$/i;\n            var isBoolValue = boolRegex.test(initialValue) && boolRegex.test(currentValue);\n            if (isBoolValue) {\n              var regex = new RegExp(\"^\" + initialValue + \"$\", \"i\");\n              return !regex.test(currentValue);\n            }\n\n            return currentValue !== initialValue;\n          },\n          checkboxDirty: function($el) {\n            var initialValue = $el.data(metadata.defaultValue);\n            var currentValue = $el.is(\":checked\");\n\n            return initialValue !== currentValue;\n          },\n          justDirty: function() {\n            return (history[0] === 'dirty');\n          },\n          justClean: function() {\n            return (history[0] === 'clean');\n          }\n        },\n\n        removeEvents: function() {\n          $module.off(eventNamespace);\n          $field.off(eventNamespace);\n          $submit.off(eventNamespace);\n          $field.off(eventNamespace);\n        },\n\n        event: {\n          field: {\n            keydown: function(event) {\n              var\n                $field       = $(this),\n                key          = event.which,\n                isInput      = $field.is(selector.input),\n                isCheckbox   = $field.is(selector.checkbox),\n                isInDropdown = ($field.closest(selector.uiDropdown).length > 0),\n                keyCode      = {\n                  enter  : 13,\n                  escape : 27\n                }\n              ;\n              if( key == keyCode.escape) {\n                module.verbose('Escape key pressed blurring field');\n                $field[0]\n                  .blur()\n                ;\n              }\n              if(!event.ctrlKey && key == keyCode.enter && isInput && !isInDropdown && !isCheckbox) {\n                if(!keyHeldDown) {\n                  $field.one('keyup' + eventNamespace, module.event.field.keyup);\n                  module.submit();\n                  module.debug('Enter pressed on input submitting form');\n                }\n                keyHeldDown = true;\n              }\n            },\n            keyup: function() {\n              keyHeldDown = false;\n            },\n            blur: function(event) {\n              var\n                $field          = $(this),\n                $fieldGroup     = $field.closest($group),\n                validationRules = module.get.validation($field)\n              ;\n              if(validationRules && (settings.on == 'blur' || ( $fieldGroup.hasClass(className.error) && settings.revalidate) )) {\n                module.debug('Revalidating field', $field, validationRules);\n                module.validate.field( validationRules );\n                if(!settings.inline) {\n                  module.validate.form(false,true);\n                }\n              }\n            },\n            change: function(event) {\n              var\n                $field      = $(this),\n                $fieldGroup = $field.closest($group),\n                validationRules = module.get.validation($field)\n              ;\n              if(validationRules && (settings.on == 'change' || ( $fieldGroup.hasClass(className.error) && settings.revalidate) )) {\n                clearTimeout(module.timer);\n                module.timer = setTimeout(function() {\n                  module.debug('Revalidating field', $field, validationRules);\n                  module.validate.field( validationRules );\n                  if(!settings.inline) {\n                    module.validate.form(false,true);\n                  }\n                }, settings.delay);\n              }\n            }\n          },\n          beforeUnload: function(event) {\n            if (module.is.dirty() && !submitting) {\n              var event = event || window.event;\n\n              // For modern browsers\n              if (event) {\n                event.returnValue = settings.text.leavingMessage;\n              }\n\n              // For olders...\n              return settings.text.leavingMessage;\n            }\n          }\n\n        },\n\n        get: {\n          ancillaryValue: function(rule) {\n            if(!rule.type || (!rule.value && !module.is.bracketedRule(rule))) {\n              return false;\n            }\n            return (rule.value !== undefined)\n              ? rule.value\n              : rule.type.match(settings.regExp.bracket)[1] + ''\n            ;\n          },\n          ruleName: function(rule) {\n            if( module.is.bracketedRule(rule) ) {\n              return rule.type.replace(rule.type.match(settings.regExp.bracket)[0], '');\n            }\n            return rule.type;\n          },\n          changeEvent: function(type, $input) {\n            if(type == 'checkbox' || type == 'radio' || type == 'hidden' || $input.is('select')) {\n              return 'change';\n            }\n            else {\n              return module.get.inputEvent();\n            }\n          },\n          inputEvent: function() {\n            return (document.createElement('input').oninput !== undefined)\n              ? 'input'\n              : (document.createElement('input').onpropertychange !== undefined)\n                ? 'propertychange'\n                : 'keyup'\n            ;\n          },\n          fieldsFromShorthand: function(fields) {\n            var\n              fullFields = {}\n            ;\n            $.each(fields, function(name, rules) {\n              if (!Array.isArray(rules) && typeof rules === 'object') {\n                fullFields[name] = rules;\n              } else {\n                if (typeof rules == 'string') {\n                  rules = [rules];\n                }\n                fullFields[name] = {\n                  rules: []\n                };\n                $.each(rules, function (index, rule) {\n                  fullFields[name].rules.push({type: rule});\n                });\n              }\n            });\n            return fullFields;\n          },\n          prompt: function(rule, field) {\n            var\n              ruleName      = module.get.ruleName(rule),\n              ancillary     = module.get.ancillaryValue(rule),\n              $field        = module.get.field(field.identifier),\n              value         = $field.val(),\n              prompt        = $.isFunction(rule.prompt)\n                ? rule.prompt(value)\n                : rule.prompt || settings.prompt[ruleName] || settings.text.unspecifiedRule,\n              requiresValue = (prompt.search('{value}') !== -1),\n              requiresName  = (prompt.search('{name}') !== -1),\n              $label,\n              name,\n              parts,\n              suffixPrompt\n            ;\n            if(ancillary && ancillary.indexOf('..') >= 0) {\n              parts = ancillary.split('..', 2);\n              if(!rule.prompt) {\n                suffixPrompt = (\n                    parts[0] === '' ? settings.prompt.maxValue.replace(/\\{ruleValue\\}/g,'{max}') :\n                    parts[1] === '' ? settings.prompt.minValue.replace(/\\{ruleValue\\}/g,'{min}') :\n                    settings.prompt.range\n                );\n                prompt += suffixPrompt.replace(/\\{name\\}/g, ' ' + settings.text.and);\n              }\n              prompt = prompt.replace(/\\{min\\}/g, parts[0]);\n              prompt = prompt.replace(/\\{max\\}/g, parts[1]);\n            }\n            if(requiresValue) {\n              prompt = prompt.replace(/\\{value\\}/g, $field.val());\n            }\n            if(requiresName) {\n              $label = $field.closest(selector.group).find('label').eq(0);\n              name = ($label.length == 1)\n                ? $label.text()\n                : $field.prop('placeholder') || settings.text.unspecifiedField\n              ;\n              prompt = prompt.replace(/\\{name\\}/g, name);\n            }\n            prompt = prompt.replace(/\\{identifier\\}/g, field.identifier);\n            prompt = prompt.replace(/\\{ruleValue\\}/g, ancillary);\n            if(!rule.prompt) {\n              module.verbose('Using default validation prompt for type', prompt, ruleName);\n            }\n            return prompt;\n          },\n          settings: function() {\n            if($.isPlainObject(parameters)) {\n              var\n                keys     = Object.keys(parameters),\n                isLegacySettings = (keys.length > 0)\n                  ? (parameters[keys[0]].identifier !== undefined && parameters[keys[0]].rules !== undefined)\n                  : false\n              ;\n              if(isLegacySettings) {\n                // 1.x (ducktyped)\n                settings   = $.extend(true, {}, $.fn.form.settings, legacyParameters);\n                validation = $.extend({}, $.fn.form.settings.defaults, parameters);\n                module.error(settings.error.oldSyntax, element);\n                module.verbose('Extending settings from legacy parameters', validation, settings);\n              }\n              else {\n                // 2.x\n                if(parameters.fields) {\n                  parameters.fields = module.get.fieldsFromShorthand(parameters.fields);\n                }\n                settings   = $.extend(true, {}, $.fn.form.settings, parameters);\n                validation = $.extend({}, $.fn.form.settings.defaults, settings.fields);\n                module.verbose('Extending settings', validation, settings);\n              }\n            }\n            else {\n              settings   = $.fn.form.settings;\n              validation = $.fn.form.settings.defaults;\n              module.verbose('Using default form validation', validation, settings);\n            }\n\n            // shorthand\n            namespace       = settings.namespace;\n            metadata        = settings.metadata;\n            selector        = settings.selector;\n            className       = settings.className;\n            regExp          = settings.regExp;\n            error           = settings.error;\n            moduleNamespace = 'module-' + namespace;\n            eventNamespace  = '.' + namespace;\n\n            // grab instance\n            instance = $module.data(moduleNamespace);\n\n            // refresh selector cache\n            (instance || module).refresh();\n          },\n          field: function(identifier) {\n            module.verbose('Finding field with identifier', identifier);\n            identifier = module.escape.string(identifier);\n            var t;\n            if((t=$field.filter('#' + identifier)).length > 0 ) {\n              return t;\n            }\n            if((t=$field.filter('[name=\"' + identifier +'\"]')).length > 0 ) {\n              return t;\n            }\n            if((t=$field.filter('[name=\"' + identifier +'[]\"]')).length > 0 ) {\n              return t;\n            }\n            if((t=$field.filter('[data-' + metadata.validate + '=\"'+ identifier +'\"]')).length > 0 ) {\n              return t;\n            }\n            return $('<input/>');\n          },\n          fields: function(fields) {\n            var\n              $fields = $()\n            ;\n            $.each(fields, function(index, name) {\n              $fields = $fields.add( module.get.field(name) );\n            });\n            return $fields;\n          },\n          validation: function($field) {\n            var\n              fieldValidation,\n              identifier\n            ;\n            if(!validation) {\n              return false;\n            }\n            $.each(validation, function(fieldName, field) {\n              identifier = field.identifier || fieldName;\n              $.each(module.get.field(identifier), function(index, groupField) {\n                if(groupField == $field[0]) {\n                  field.identifier = identifier;\n                  fieldValidation = field;\n                  return false;\n                }\n              });\n            });\n            return fieldValidation || false;\n          },\n          value: function (field) {\n            var\n              fields = [],\n              results\n            ;\n            fields.push(field);\n            results = module.get.values.call(element, fields);\n            return results[field];\n          },\n          values: function (fields) {\n            var\n              $fields = Array.isArray(fields)\n                ? module.get.fields(fields)\n                : $field,\n              values = {}\n            ;\n            $fields.each(function(index, field) {\n              var\n                $field       = $(field),\n                $calendar    = $field.closest(selector.uiCalendar),\n                name         = $field.prop('name'),\n                value        = $field.val(),\n                isCheckbox   = $field.is(selector.checkbox),\n                isRadio      = $field.is(selector.radio),\n                isMultiple   = (name.indexOf('[]') !== -1),\n                isCalendar   = ($calendar.length > 0  && module.can.useElement('calendar')),\n                isChecked    = (isCheckbox)\n                  ? $field.is(':checked')\n                  : false\n              ;\n              if(name) {\n                if(isMultiple) {\n                  name = name.replace('[]', '');\n                  if(!values[name]) {\n                    values[name] = [];\n                  }\n                  if(isCheckbox) {\n                    if(isChecked) {\n                      values[name].push(value || true);\n                    }\n                    else {\n                      values[name].push(false);\n                    }\n                  }\n                  else {\n                    values[name].push(value);\n                  }\n                }\n                else {\n                  if(isRadio) {\n                    if(values[name] === undefined || values[name] === false) {\n                      values[name] = (isChecked)\n                        ? value || true\n                        : false\n                      ;\n                    }\n                  }\n                  else if(isCheckbox) {\n                    if(isChecked) {\n                      values[name] = value || true;\n                    }\n                    else {\n                      values[name] = false;\n                    }\n                  }\n                  else if(isCalendar) {\n                    var date = $calendar.calendar('get date');\n\n                    if (date !== null) {\n                      if (settings.dateHandling == 'date') {\n                        values[name] = date;\n                      } else if(settings.dateHandling == 'input') {\n                        values[name] = $calendar.calendar('get input date')\n                      } else if (settings.dateHandling == 'formatter') {\n                        var type = $calendar.calendar('setting', 'type');\n\n                        switch(type) {\n                          case 'date':\n                          values[name] = settings.formatter.date(date);\n                          break;\n\n                          case 'datetime':\n                          values[name] = settings.formatter.datetime(date);\n                          break;\n\n                          case 'time':\n                          values[name] = settings.formatter.time(date);\n                          break;\n\n                          case 'month':\n                          values[name] = settings.formatter.month(date);\n                          break;\n\n                          case 'year':\n                          values[name] = settings.formatter.year(date);\n                          break;\n\n                          default:\n                          module.debug('Wrong calendar mode', $calendar, type);\n                          values[name] = '';\n                        }\n                      }\n                    } else {\n                      values[name] = '';\n                    }\n                  } else {\n                    values[name] = value;\n                  }\n                }\n              }\n            });\n            return values;\n          },\n          dirtyFields: function() {\n            return $field.filter(function(index, e) {\n              return $(e).data(metadata.isDirty);\n            });\n          }\n        },\n\n        has: {\n\n          field: function(identifier) {\n            module.verbose('Checking for existence of a field with identifier', identifier);\n            identifier = module.escape.string(identifier);\n            if(typeof identifier !== 'string') {\n              module.error(error.identifier, identifier);\n            }\n            if($field.filter('#' + identifier).length > 0 ) {\n              return true;\n            }\n            else if( $field.filter('[name=\"' + identifier +'\"]').length > 0 ) {\n              return true;\n            }\n            else if( $field.filter('[data-' + metadata.validate + '=\"'+ identifier +'\"]').length > 0 ) {\n              return true;\n            }\n            return false;\n          }\n\n        },\n\n        can: {\n            useElement: function(element){\n               if ($.fn[element] !== undefined) {\n                   return true;\n               }\n               module.error(error.noElement.replace('{element}',element));\n               return false;\n            }\n        },\n\n        escape: {\n          string: function(text) {\n            text =  String(text);\n            return text.replace(regExp.escape, '\\\\$&');\n          }\n        },\n\n        add: {\n          // alias\n          rule: function(name, rules) {\n            module.add.field(name, rules);\n          },\n          field: function(name, rules) {\n            // Validation should have at least a standard format\n            if(validation[name] === undefined || validation[name].rules === undefined) {\n              validation[name] = {\n                rules: []\n              };\n            }\n            var\n              newValidation = {\n                rules: []\n              }\n            ;\n            if(module.is.shorthandRules(rules)) {\n              rules = Array.isArray(rules)\n                ? rules\n                : [rules]\n              ;\n              $.each(rules, function(_index, rule) {\n                newValidation.rules.push({ type: rule });\n              });\n            }\n            else {\n              newValidation.rules = rules.rules;\n            }\n            // For each new rule, check if there's not already one with the same type\n            $.each(newValidation.rules, function (_index, rule) {\n              if ($.grep(validation[name].rules, function(item){ return item.type == rule.type; }).length == 0) {\n                validation[name].rules.push(rule);\n              }\n            });\n            module.debug('Adding rules', newValidation.rules, validation);\n          },\n          fields: function(fields) {\n            validation = $.extend({}, validation, module.get.fieldsFromShorthand(fields));\n          },\n          prompt: function(identifier, errors, internal) {\n            var\n              $field       = module.get.field(identifier),\n              $fieldGroup  = $field.closest($group),\n              $prompt      = $fieldGroup.children(selector.prompt),\n              promptExists = ($prompt.length !== 0)\n            ;\n            errors = (typeof errors == 'string')\n              ? [errors]\n              : errors\n            ;\n            module.verbose('Adding field error state', identifier);\n            if(!internal) {\n              $fieldGroup\n                  .addClass(className.error)\n              ;\n            }\n            if(settings.inline) {\n              if(!promptExists) {\n                $prompt = settings.templates.prompt(errors, className.label);\n                $prompt\n                  .appendTo($fieldGroup)\n                ;\n              }\n              $prompt\n                .html(errors[0])\n              ;\n              if(!promptExists) {\n                if(settings.transition && module.can.useElement('transition') && $module.transition('is supported')) {\n                  module.verbose('Displaying error with css transition', settings.transition);\n                  $prompt.transition(settings.transition + ' in', settings.duration);\n                }\n                else {\n                  module.verbose('Displaying error with fallback javascript animation');\n                  $prompt\n                    .fadeIn(settings.duration)\n                  ;\n                }\n              }\n              else {\n                module.verbose('Inline errors are disabled, no inline error added', identifier);\n              }\n            }\n          },\n          errors: function(errors) {\n            module.debug('Adding form error messages', errors);\n            module.set.error();\n            $message\n              .html( settings.templates.error(errors) )\n            ;\n          }\n        },\n\n        remove: {\n          errors: function() {\n            module.debug('Removing form error messages');\n            $message.empty();\n          },\n          states: function() {\n            $module.removeClass(className.error).removeClass(className.success);\n            if(!settings.inline) {\n              module.remove.errors();\n            }\n            module.determine.isDirty();\n          },\n          rule: function(field, rule) {\n            var\n              rules = Array.isArray(rule)\n                ? rule\n                : [rule]\n            ;\n            if(validation[field] === undefined || !Array.isArray(validation[field].rules)) {\n              return;\n            }\n            if(rule === undefined) {\n              module.debug('Removed all rules');\n              validation[field].rules = [];\n              return;\n            }\n            $.each(validation[field].rules, function(index, rule) {\n              if(rule && rules.indexOf(rule.type) !== -1) {\n                module.debug('Removed rule', rule.type);\n                validation[field].rules.splice(index, 1);\n              }\n            });\n          },\n          field: function(field) {\n            var\n              fields = Array.isArray(field)\n                ? field\n                : [field]\n            ;\n            $.each(fields, function(index, field) {\n              module.remove.rule(field);\n            });\n          },\n          // alias\n          rules: function(field, rules) {\n            if(Array.isArray(field)) {\n              $.each(field, function(index, field) {\n                module.remove.rule(field, rules);\n              });\n            }\n            else {\n              module.remove.rule(field, rules);\n            }\n          },\n          fields: function(fields) {\n            module.remove.field(fields);\n          },\n          prompt: function(identifier) {\n            var\n              $field      = module.get.field(identifier),\n              $fieldGroup = $field.closest($group),\n              $prompt     = $fieldGroup.children(selector.prompt)\n            ;\n            $fieldGroup\n              .removeClass(className.error)\n            ;\n            if(settings.inline && $prompt.is(':visible')) {\n              module.verbose('Removing prompt for field', identifier);\n              if(settings.transition  && module.can.useElement('transition') && $module.transition('is supported')) {\n                $prompt.transition(settings.transition + ' out', settings.duration, function() {\n                  $prompt.remove();\n                });\n              }\n              else {\n                $prompt\n                  .fadeOut(settings.duration, function(){\n                    $prompt.remove();\n                  })\n                ;\n              }\n            }\n          }\n        },\n\n        set: {\n          success: function() {\n            $module\n              .removeClass(className.error)\n              .addClass(className.success)\n            ;\n          },\n          defaults: function () {\n            $field.each(function (index, el) {\n              var\n                $el        = $(el),\n                $parent    = $el.parent(),\n                isCheckbox = ($el.filter(selector.checkbox).length > 0),\n                isDropdown = $parent.is(selector.uiDropdown) && module.can.useElement('dropdown'),\n                $calendar   = $el.closest(selector.uiCalendar),\n                isCalendar  = ($calendar.length > 0  && module.can.useElement('calendar')),\n                value      = (isCheckbox)\n                  ? $el.is(':checked')\n                  : $el.val()\n              ;\n              if (isDropdown) {\n                $parent.dropdown('save defaults');\n              }\n              else if (isCalendar) {\n                $calendar.calendar('refresh');\n              }\n              $el.data(metadata.defaultValue, value);\n              $el.data(metadata.isDirty, false);\n            });\n          },\n          error: function() {\n            $module\n              .removeClass(className.success)\n              .addClass(className.error)\n            ;\n          },\n          value: function (field, value) {\n            var\n              fields = {}\n            ;\n            fields[field] = value;\n            return module.set.values.call(element, fields);\n          },\n          values: function (fields) {\n            if($.isEmptyObject(fields)) {\n              return;\n            }\n            $.each(fields, function(key, value) {\n              var\n                $field      = module.get.field(key),\n                $element    = $field.parent(),\n                $calendar   = $field.closest(selector.uiCalendar),\n                isMultiple  = Array.isArray(value),\n                isCheckbox  = $element.is(selector.uiCheckbox)  && module.can.useElement('checkbox'),\n                isDropdown  = $element.is(selector.uiDropdown) && module.can.useElement('dropdown'),\n                isRadio     = ($field.is(selector.radio) && isCheckbox),\n                isCalendar  = ($calendar.length > 0  && module.can.useElement('calendar')),\n                fieldExists = ($field.length > 0),\n                $multipleField\n              ;\n              if(fieldExists) {\n                if(isMultiple && isCheckbox) {\n                  module.verbose('Selecting multiple', value, $field);\n                  $element.checkbox('uncheck');\n                  $.each(value, function(index, value) {\n                    $multipleField = $field.filter('[value=\"' + value + '\"]');\n                    $element       = $multipleField.parent();\n                    if($multipleField.length > 0) {\n                      $element.checkbox('check');\n                    }\n                  });\n                }\n                else if(isRadio) {\n                  module.verbose('Selecting radio value', value, $field);\n                  $field.filter('[value=\"' + value + '\"]')\n                    .parent(selector.uiCheckbox)\n                      .checkbox('check')\n                  ;\n                }\n                else if(isCheckbox) {\n                  module.verbose('Setting checkbox value', value, $element);\n                  if(value === true || value === 1) {\n                    $element.checkbox('check');\n                  }\n                  else {\n                    $element.checkbox('uncheck');\n                  }\n                }\n                else if(isDropdown) {\n                  module.verbose('Setting dropdown value', value, $element);\n                  $element.dropdown('set selected', value);\n                }\n                else if (isCalendar) {\n                  $calendar.calendar('set date',value);\n                }\n                else {\n                  module.verbose('Setting field value', value, $field);\n                  $field.val(value);\n                }\n              }\n            });\n          },\n          dirty: function() {\n            module.verbose('Setting state dirty');\n            dirty = true;\n            history[0] = history[1];\n            history[1] = 'dirty';\n\n            if (module.is.justClean()) {\n              $module.trigger('dirty');\n            }\n          },\n          clean: function() {\n            module.verbose('Setting state clean');\n            dirty = false;\n            history[0] = history[1];\n            history[1] = 'clean';\n\n            if (module.is.justDirty()) {\n              $module.trigger('clean');\n            }\n          },\n          asClean: function() {\n            module.set.defaults();\n            module.set.clean();\n          },\n          asDirty: function() {\n            module.set.defaults();\n            module.set.dirty();\n          },\n          autoCheck: function() {\n            module.debug('Enabling auto check on required fields');\n            $field.each(function (_index, el) {\n              var\n                $el        = $(el),\n                $elGroup   = $(el).closest($group),\n                isCheckbox = ($el.filter(selector.checkbox).length > 0),\n                isRequired = $el.prop('required') || $elGroup.hasClass(className.required) || $elGroup.parent().hasClass(className.required),\n                isDisabled = $el.is(':disabled') || $elGroup.hasClass(className.disabled) || $elGroup.parent().hasClass(className.disabled),\n                validation = module.get.validation($el),\n                hasEmptyRule = validation\n                  ? $.grep(validation.rules, function(rule) { return rule.type == \"empty\" }) !== 0\n                  : false,\n                identifier = validation.identifier || $el.attr('id') || $el.attr('name') || $el.data(metadata.validate)\n              ;\n              if (isRequired && !isDisabled && !hasEmptyRule && identifier !== undefined) {\n                if (isCheckbox) {\n                  module.verbose(\"Adding 'checked' rule on field\", identifier);\n                  module.add.rule(identifier, \"checked\");\n                } else {\n                  module.verbose(\"Adding 'empty' rule on field\", identifier);\n                  module.add.rule(identifier, \"empty\");\n                }\n              }\n            });\n          },\n          optional: function(identifier, bool) {\n            bool = (bool !== false);\n            $.each(validation, function(fieldName, field) {\n              if (identifier == fieldName || identifier == field.identifier) {\n                field.optional = bool;\n              }\n            });\n          }\n        },\n\n        validate: {\n\n          form: function(event, ignoreCallbacks) {\n            var values = module.get.values();\n\n            // input keydown event will fire submit repeatedly by browser default\n            if(keyHeldDown) {\n              return false;\n            }\n\n            // reset errors\n            formErrors = [];\n            if( module.determine.isValid() ) {\n              module.debug('Form has no validation errors, submitting');\n              module.set.success();\n              if(!settings.inline) {\n                module.remove.errors();\n              }\n              if(ignoreCallbacks !== true) {\n                return settings.onSuccess.call(element, event, values);\n              }\n            }\n            else {\n              module.debug('Form has errors');\n              submitting = false;\n              module.set.error();\n              if(!settings.inline) {\n                module.add.errors(formErrors);\n              }\n              // prevent ajax submit\n              if(event && $module.data('moduleApi') !== undefined) {\n                event.stopImmediatePropagation();\n              }\n              if(settings.errorFocus) {\n                var focusElement, hasTabIndex = true;\n                if (typeof settings.errorFocus === 'string') {\n                  focusElement = $(settings.errorFocus);\n                  hasTabIndex = focusElement.is('[tabindex]');\n                  // to be able to focus/scroll into non input elements we need a tabindex\n                  if (!hasTabIndex) {\n                    focusElement.attr('tabindex',-1);\n                  }\n                } else {\n                  focusElement = $group.filter('.' + className.error).first().find(selector.field);\n                }\n                focusElement.focus();\n                // only remove tabindex if it was dynamically created above\n                if (!hasTabIndex){\n                  focusElement.removeAttr('tabindex');\n                }\n              }\n              if(ignoreCallbacks !== true) {\n                return settings.onFailure.call(element, formErrors, values);\n              }\n            }\n          },\n\n          // takes a validation object and returns whether field passes validation\n          field: function(field, fieldName, showErrors) {\n            showErrors = (showErrors !== undefined)\n              ? showErrors\n              : true\n            ;\n            if(typeof field == 'string') {\n              module.verbose('Validating field', field);\n              fieldName = field;\n              field     = validation[field];\n            }\n            var\n              identifier    = field.identifier || fieldName,\n              $field        = module.get.field(identifier),\n              $dependsField = (field.depends)\n                ? module.get.field(field.depends)\n                : false,\n              fieldValid  = true,\n              fieldErrors = []\n            ;\n            if(!field.identifier) {\n              module.debug('Using field name as identifier', identifier);\n              field.identifier = identifier;\n            }\n            var isDisabled = !$field.filter(':not(:disabled)').length;\n            if(isDisabled) {\n              module.debug('Field is disabled. Skipping', identifier);\n            }\n            else if(field.optional && module.is.blank($field)){\n              module.debug('Field is optional and blank. Skipping', identifier);\n            }\n            else if(field.depends && module.is.empty($dependsField)) {\n              module.debug('Field depends on another value that is not present or empty. Skipping', $dependsField);\n            }\n            else if(field.rules !== undefined) {\n              if(showErrors) {\n                $field.closest($group).removeClass(className.error);\n              }\n              $.each(field.rules, function(index, rule) {\n                if( module.has.field(identifier)) {\n                  var invalidFields = module.validate.rule(field, rule,true) || [];\n                  if (invalidFields.length>0){\n                    module.debug('Field is invalid', identifier, rule.type);\n                    fieldErrors.push(module.get.prompt(rule, field));\n                    fieldValid = false;\n                    if(showErrors){\n                      $(invalidFields).closest($group).addClass(className.error);\n                    }\n                  }\n                }\n              });\n            }\n            if(fieldValid) {\n              if(showErrors) {\n                module.remove.prompt(identifier, fieldErrors);\n                settings.onValid.call($field);\n              }\n            }\n            else {\n              if(showErrors) {\n                formErrors = formErrors.concat(fieldErrors);\n                module.add.prompt(identifier, fieldErrors, true);\n                settings.onInvalid.call($field, fieldErrors);\n              }\n              return false;\n            }\n            return true;\n          },\n\n          // takes validation rule and returns whether field passes rule\n          rule: function(field, rule, internal) {\n            var\n              $field       = module.get.field(field.identifier),\n              ancillary    = module.get.ancillaryValue(rule),\n              ruleName     = module.get.ruleName(rule),\n              ruleFunction = settings.rules[ruleName],\n              invalidFields = [],\n              isCheckbox = $field.is(selector.checkbox),\n              isValid = function(field){\n                var value = (isCheckbox ? $(field).filter(':checked').val() : $(field).val());\n                // cast to string avoiding encoding special values\n                value = (value === undefined || value === '' || value === null)\n                    ? ''\n                    : (settings.shouldTrim && rule.shouldTrim !== false) || rule.shouldTrim ? String(value + '').trim() : String(value + '')\n                ;\n                return ruleFunction.call(field, value, ancillary, $module);\n              }\n            ;\n            if( !$.isFunction(ruleFunction) ) {\n              module.error(error.noRule, ruleName);\n              return;\n            }\n            if(isCheckbox) {\n              if (!isValid($field)) {\n                invalidFields = $field;\n              }\n            } else {\n              $.each($field, function (index, field) {\n                if (!isValid(field)) {\n                  invalidFields.push(field);\n                }\n              });\n            }\n            return internal ? invalidFields : !(invalidFields.length>0);\n          }\n        },\n\n        setting: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            settings[name] = value;\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if($allModules.length > 1) {\n              title += ' ' + '(' + $allModules.length + ')';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                return false;\n              }\n            });\n          }\n          if( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if(Array.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      };\n      module.initialize();\n    })\n  ;\n\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n$.fn.form.settings = {\n\n  name              : 'Form',\n  namespace         : 'form',\n\n  debug             : false,\n  verbose           : false,\n  performance       : true,\n\n  fields            : false,\n\n  keyboardShortcuts : true,\n  on                : 'submit',\n  inline            : false,\n\n  delay             : 200,\n  revalidate        : true,\n  shouldTrim        : true,\n\n  transition        : 'scale',\n  duration          : 200,\n\n  autoCheckRequired : false,\n  preventLeaving    : false,\n  errorFocus        : false,\n  dateHandling      : 'date', // 'date', 'input', 'formatter'\n\n  onValid           : function() {},\n  onInvalid         : function() {},\n  onSuccess         : function() { return true; },\n  onFailure         : function() { return false; },\n  onDirty           : function() {},\n  onClean           : function() {},\n\n  metadata : {\n    defaultValue : 'default',\n    validate     : 'validate',\n    isDirty      : 'isDirty'\n  },\n\n  regExp: {\n    htmlID  : /^[a-zA-Z][\\w:.-]*$/g,\n    bracket : /\\[(.*)\\]/i,\n    decimal : /^\\d+\\.?\\d*$/,\n    email   : /^[a-z0-9!#$%&'*+\\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,\n    escape  : /[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|:,=@]/g,\n    flags   : /^\\/(.*)\\/(.*)?/,\n    integer : /^\\-?\\d+$/,\n    number  : /^\\-?\\d*(\\.\\d+)?$/,\n    url     : /(https?:\\/\\/(?:www\\.|(?!www))[^\\s\\.]+\\.[^\\s]{2,}|www\\.[^\\s]+\\.[^\\s]{2,})/i\n  },\n\n  text: {\n    and              : 'and',\n    unspecifiedRule  : 'Please enter a valid value',\n    unspecifiedField : 'This field',\n    leavingMessage   : 'There are unsaved changes on this page which will be discarded if you continue.'\n  },\n\n  prompt: {\n    range                : '{name} must be in a range from {min} to {max}',\n    maxValue             : '{name} must have a maximum value of {ruleValue}',\n    minValue             : '{name} must have a minimum value of {ruleValue}',\n    empty                : '{name} must have a value',\n    checked              : '{name} must be checked',\n    email                : '{name} must be a valid e-mail',\n    url                  : '{name} must be a valid url',\n    regExp               : '{name} is not formatted correctly',\n    integer              : '{name} must be an integer',\n    decimal              : '{name} must be a decimal number',\n    number               : '{name} must be set to a number',\n    is                   : '{name} must be \"{ruleValue}\"',\n    isExactly            : '{name} must be exactly \"{ruleValue}\"',\n    not                  : '{name} cannot be set to \"{ruleValue}\"',\n    notExactly           : '{name} cannot be set to exactly \"{ruleValue}\"',\n    contain              : '{name} must contain \"{ruleValue}\"',\n    containExactly       : '{name} must contain exactly \"{ruleValue}\"',\n    doesntContain        : '{name} cannot contain  \"{ruleValue}\"',\n    doesntContainExactly : '{name} cannot contain exactly \"{ruleValue}\"',\n    minLength            : '{name} must be at least {ruleValue} characters',\n    length               : '{name} must be at least {ruleValue} characters',\n    exactLength          : '{name} must be exactly {ruleValue} characters',\n    maxLength            : '{name} cannot be longer than {ruleValue} characters',\n    match                : '{name} must match {ruleValue} field',\n    different            : '{name} must have a different value than {ruleValue} field',\n    creditCard           : '{name} must be a valid credit card number',\n    minCount             : '{name} must have at least {ruleValue} choices',\n    exactCount           : '{name} must have exactly {ruleValue} choices',\n    maxCount             : '{name} must have {ruleValue} or less choices'\n  },\n\n  selector : {\n    checkbox   : 'input[type=\"checkbox\"], input[type=\"radio\"]',\n    clear      : '.clear',\n    field      : 'input:not(.search):not([type=\"file\"]), textarea, select',\n    group      : '.field',\n    input      : 'input:not([type=\"file\"])',\n    message    : '.error.message',\n    prompt     : '.prompt.label',\n    radio      : 'input[type=\"radio\"]',\n    reset      : '.reset:not([type=\"reset\"])',\n    submit     : '.submit:not([type=\"submit\"])',\n    uiCheckbox : '.ui.checkbox',\n    uiDropdown : '.ui.dropdown',\n    uiCalendar : '.ui.calendar'\n  },\n\n  className : {\n    error    : 'error',\n    label    : 'ui basic red pointing prompt label',\n    pressed  : 'down',\n    success  : 'success',\n    required : 'required',\n    disabled : 'disabled'\n  },\n\n  error: {\n    identifier : 'You must specify a string identifier for each field',\n    method     : 'The method you called is not defined.',\n    noRule     : 'There is no rule matching the one you specified',\n    oldSyntax  : 'Starting in 2.0 forms now only take a single settings object. Validation settings converted to new syntax automatically.',\n    noElement  : 'This module requires ui {element}'\n  },\n\n  templates: {\n\n    // template that produces error message\n    error: function(errors) {\n      var\n        html = '<ul class=\"list\">'\n      ;\n      $.each(errors, function(index, value) {\n        html += '<li>' + value + '</li>';\n      });\n      html += '</ul>';\n      return $(html);\n    },\n\n    // template that produces label\n    prompt: function(errors, labelClasses) {\n      return $('<div/>')\n        .addClass(labelClasses)\n        .html(errors[0])\n      ;\n    }\n  },\n\n  formatter: {\n    date: function(date) {\n      return Intl.DateTimeFormat('en-GB').format(date);\n    },\n    datetime: function(date) {\n      return Intl.DateTimeFormat('en-GB', {\n        year: \"numeric\",\n        month: \"2-digit\",\n        day: \"2-digit\",\n        hour: '2-digit',\n        minute: '2-digit',\n        second: '2-digit'\n      }).format(date);\n    },\n    time: function(date) {\n      return Intl.DateTimeFormat('en-GB', {\n        hour: '2-digit',\n        minute: '2-digit',\n        second: '2-digit'\n      }).format(date);\n    },\n    month: function(date) {\n      return Intl.DateTimeFormat('en-GB', {\n        month: '2-digit',\n        year: 'numeric'\n      }).format(date);\n    },\n    year: function(date) {\n      return Intl.DateTimeFormat('en-GB', {\n        year: 'numeric'\n      }).format(date);\n    }\n  },\n\n  rules: {\n\n    // is not empty or blank string\n    empty: function(value) {\n      return !(value === undefined || '' === value || Array.isArray(value) && value.length === 0);\n    },\n\n    // checkbox checked\n    checked: function() {\n      return ($(this).filter(':checked').length > 0);\n    },\n\n    // is most likely an email\n    email: function(value){\n      return $.fn.form.settings.regExp.email.test(value);\n    },\n\n    // value is most likely url\n    url: function(value) {\n      return $.fn.form.settings.regExp.url.test(value);\n    },\n\n    // matches specified regExp\n    regExp: function(value, regExp) {\n      if(regExp instanceof RegExp) {\n        return value.match(regExp);\n      }\n      var\n        regExpParts = regExp.match($.fn.form.settings.regExp.flags),\n        flags\n      ;\n      // regular expression specified as /baz/gi (flags)\n      if(regExpParts) {\n        regExp = (regExpParts.length >= 2)\n          ? regExpParts[1]\n          : regExp\n        ;\n        flags = (regExpParts.length >= 3)\n          ? regExpParts[2]\n          : ''\n        ;\n      }\n      return value.match( new RegExp(regExp, flags) );\n    },\n    minValue: function(value, range) {\n      return $.fn.form.settings.rules.range(value, range+'..', 'number');\n    },\n    maxValue: function(value, range) {\n      return $.fn.form.settings.rules.range(value, '..'+range, 'number');\n    },\n    // is valid integer or matches range\n    integer: function(value, range) {\n      return $.fn.form.settings.rules.range(value, range, 'integer');\n    },\n    range: function(value, range, regExp) {\n      if(typeof regExp == \"string\") {\n        regExp = $.fn.form.settings.regExp[regExp];\n      }\n      if(!(regExp instanceof RegExp)) {\n        regExp = $.fn.form.settings.regExp.integer;\n      }\n      var\n        min,\n        max,\n        parts\n      ;\n      if( !range || ['', '..'].indexOf(range) !== -1) {\n        // do nothing\n      }\n      else if(range.indexOf('..') == -1) {\n        if(regExp.test(range)) {\n          min = max = range - 0;\n        }\n      }\n      else {\n        parts = range.split('..', 2);\n        if(regExp.test(parts[0])) {\n          min = parts[0] - 0;\n        }\n        if(regExp.test(parts[1])) {\n          max = parts[1] - 0;\n        }\n      }\n      return (\n        regExp.test(value) &&\n        (min === undefined || value >= min) &&\n        (max === undefined || value <= max)\n      );\n    },\n\n    // is valid number (with decimal)\n    decimal: function(value, range) {\n      return $.fn.form.settings.rules.range(value, range, 'decimal');\n    },\n\n    // is valid number\n    number: function(value, range) {\n      return $.fn.form.settings.rules.range(value, range, 'number');\n    },\n\n    // is value (case insensitive)\n    is: function(value, text) {\n      text = (typeof text == 'string')\n        ? text.toLowerCase()\n        : text\n      ;\n      value = (typeof value == 'string')\n        ? value.toLowerCase()\n        : value\n      ;\n      return (value == text);\n    },\n\n    // is value\n    isExactly: function(value, text) {\n      return (value == text);\n    },\n\n    // value is not another value (case insensitive)\n    not: function(value, notValue) {\n      value = (typeof value == 'string')\n        ? value.toLowerCase()\n        : value\n      ;\n      notValue = (typeof notValue == 'string')\n        ? notValue.toLowerCase()\n        : notValue\n      ;\n      return (value != notValue);\n    },\n\n    // value is not another value (case sensitive)\n    notExactly: function(value, notValue) {\n      return (value != notValue);\n    },\n\n    // value contains text (insensitive)\n    contains: function(value, text) {\n      // escape regex characters\n      text = text.replace($.fn.form.settings.regExp.escape, \"\\\\$&\");\n      return (value.search( new RegExp(text, 'i') ) !== -1);\n    },\n\n    // value contains text (case sensitive)\n    containsExactly: function(value, text) {\n      // escape regex characters\n      text = text.replace($.fn.form.settings.regExp.escape, \"\\\\$&\");\n      return (value.search( new RegExp(text) ) !== -1);\n    },\n\n    // value contains text (insensitive)\n    doesntContain: function(value, text) {\n      // escape regex characters\n      text = text.replace($.fn.form.settings.regExp.escape, \"\\\\$&\");\n      return (value.search( new RegExp(text, 'i') ) === -1);\n    },\n\n    // value contains text (case sensitive)\n    doesntContainExactly: function(value, text) {\n      // escape regex characters\n      text = text.replace($.fn.form.settings.regExp.escape, \"\\\\$&\");\n      return (value.search( new RegExp(text) ) === -1);\n    },\n\n    // is at least string length\n    minLength: function(value, requiredLength) {\n      return (value !== undefined)\n        ? (value.length >= requiredLength)\n        : false\n      ;\n    },\n\n    // see rls notes for 2.0.6 (this is a duplicate of minLength)\n    length: function(value, requiredLength) {\n      return (value !== undefined)\n        ? (value.length >= requiredLength)\n        : false\n      ;\n    },\n\n    // is exactly length\n    exactLength: function(value, requiredLength) {\n      return (value !== undefined)\n        ? (value.length == requiredLength)\n        : false\n      ;\n    },\n\n    // is less than length\n    maxLength: function(value, maxLength) {\n      return (value !== undefined)\n        ? (value.length <= maxLength)\n        : false\n      ;\n    },\n\n    // matches another field\n    match: function(value, identifier, $module) {\n      var\n        matchingValue,\n        matchingElement\n      ;\n      if((matchingElement = $module.find('[data-validate=\"'+ identifier +'\"]')).length > 0 ) {\n        matchingValue = matchingElement.val();\n      }\n      else if((matchingElement = $module.find('#' + identifier)).length > 0) {\n        matchingValue = matchingElement.val();\n      }\n      else if((matchingElement = $module.find('[name=\"' + identifier +'\"]')).length > 0) {\n        matchingValue = matchingElement.val();\n      }\n      else if((matchingElement = $module.find('[name=\"' + identifier +'[]\"]')).length > 0 ) {\n        matchingValue = matchingElement;\n      }\n      return (matchingValue !== undefined)\n        ? ( value.toString() == matchingValue.toString() )\n        : false\n      ;\n    },\n\n    // different than another field\n    different: function(value, identifier, $module) {\n      // use either id or name of field\n      var\n        matchingValue,\n        matchingElement\n      ;\n      if((matchingElement = $module.find('[data-validate=\"'+ identifier +'\"]')).length > 0 ) {\n        matchingValue = matchingElement.val();\n      }\n      else if((matchingElement = $module.find('#' + identifier)).length > 0) {\n        matchingValue = matchingElement.val();\n      }\n      else if((matchingElement = $module.find('[name=\"' + identifier +'\"]')).length > 0) {\n        matchingValue = matchingElement.val();\n      }\n      else if((matchingElement = $module.find('[name=\"' + identifier +'[]\"]')).length > 0 ) {\n        matchingValue = matchingElement;\n      }\n      return (matchingValue !== undefined)\n        ? ( value.toString() !== matchingValue.toString() )\n        : false\n      ;\n    },\n\n    creditCard: function(cardNumber, cardTypes) {\n      var\n        cards = {\n          visa: {\n            pattern : /^4/,\n            length  : [16]\n          },\n          amex: {\n            pattern : /^3[47]/,\n            length  : [15]\n          },\n          mastercard: {\n            pattern : /^5[1-5]/,\n            length  : [16]\n          },\n          discover: {\n            pattern : /^(6011|622(12[6-9]|1[3-9][0-9]|[2-8][0-9]{2}|9[0-1][0-9]|92[0-5]|64[4-9])|65)/,\n            length  : [16]\n          },\n          unionPay: {\n            pattern : /^(62|88)/,\n            length  : [16, 17, 18, 19]\n          },\n          jcb: {\n            pattern : /^35(2[89]|[3-8][0-9])/,\n            length  : [16]\n          },\n          maestro: {\n            pattern : /^(5018|5020|5038|6304|6759|676[1-3])/,\n            length  : [12, 13, 14, 15, 16, 17, 18, 19]\n          },\n          dinersClub: {\n            pattern : /^(30[0-5]|^36)/,\n            length  : [14]\n          },\n          laser: {\n            pattern : /^(6304|670[69]|6771)/,\n            length  : [16, 17, 18, 19]\n          },\n          visaElectron: {\n            pattern : /^(4026|417500|4508|4844|491(3|7))/,\n            length  : [16]\n          }\n        },\n        valid         = {},\n        validCard     = false,\n        requiredTypes = (typeof cardTypes == 'string')\n          ? cardTypes.split(',')\n          : false,\n        unionPay,\n        validation\n      ;\n\n      if(typeof cardNumber !== 'string' || cardNumber.length === 0) {\n        return;\n      }\n\n      // allow dashes and spaces in card\n      cardNumber = cardNumber.replace(/[\\s\\-]/g, '');\n\n      // verify card types\n      if(requiredTypes) {\n        $.each(requiredTypes, function(index, type){\n          // verify each card type\n          validation = cards[type];\n          if(validation) {\n            valid = {\n              length  : ($.inArray(cardNumber.length, validation.length) !== -1),\n              pattern : (cardNumber.search(validation.pattern) !== -1)\n            };\n            if(valid.length && valid.pattern) {\n              validCard = true;\n            }\n          }\n        });\n\n        if(!validCard) {\n          return false;\n        }\n      }\n\n      // skip luhn for UnionPay\n      unionPay = {\n        number  : ($.inArray(cardNumber.length, cards.unionPay.length) !== -1),\n        pattern : (cardNumber.search(cards.unionPay.pattern) !== -1)\n      };\n      if(unionPay.number && unionPay.pattern) {\n        return true;\n      }\n\n      // verify luhn, adapted from  <https://gist.github.com/2134376>\n      var\n        length        = cardNumber.length,\n        multiple      = 0,\n        producedValue = [\n          [0, 1, 2, 3, 4, 5, 6, 7, 8, 9],\n          [0, 2, 4, 6, 8, 1, 3, 5, 7, 9]\n        ],\n        sum           = 0\n      ;\n      while (length--) {\n        sum += producedValue[multiple][parseInt(cardNumber.charAt(length), 10)];\n        multiple ^= 1;\n      }\n      return (sum % 10 === 0 && sum > 0);\n    },\n\n    minCount: function(value, minCount) {\n      if(minCount == 0) {\n        return true;\n      }\n      if(minCount == 1) {\n        return (value !== '');\n      }\n      return (value.split(',').length >= minCount);\n    },\n\n    exactCount: function(value, exactCount) {\n      if(exactCount == 0) {\n        return (value === '');\n      }\n      if(exactCount == 1) {\n        return (value !== '' && value.search(',') === -1);\n      }\n      return (value.split(',').length == exactCount);\n    },\n\n    maxCount: function(value, maxCount) {\n      if(maxCount == 0) {\n        return false;\n      }\n      if(maxCount == 1) {\n        return (value.search(',') === -1);\n      }\n      return (value.split(',').length <= maxCount);\n    }\n  }\n\n};\n\n})( jQuery, window, document );\n\n/*!\n * # Fomantic-UI 2.8.8 - Accordion\n * http://github.com/fomantic/Fomantic-UI/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n'use strict';\n\n$.isFunction = $.isFunction || function(obj) {\n  return typeof obj === \"function\" && typeof obj.nodeType !== \"number\";\n};\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\n$.fn.accordion = function(parameters) {\n  var\n    $allModules     = $(this),\n\n    time            = new Date().getTime(),\n    performance     = [],\n\n    query           = arguments[0],\n    methodInvoked   = (typeof query == 'string'),\n    queryArguments  = [].slice.call(arguments, 1),\n\n    returnedValue\n  ;\n  $allModules\n    .each(function() {\n      var\n        settings        = ( $.isPlainObject(parameters) )\n          ? $.extend(true, {}, $.fn.accordion.settings, parameters)\n          : $.extend({}, $.fn.accordion.settings),\n\n        className       = settings.className,\n        namespace       = settings.namespace,\n        selector        = settings.selector,\n        error           = settings.error,\n\n        eventNamespace  = '.' + namespace,\n        moduleNamespace = 'module-' + namespace,\n        moduleSelector  = $allModules.selector || '',\n\n        $module  = $(this),\n        $title   = $module.find(selector.title),\n        $content = $module.find(selector.content),\n\n        element  = this,\n        instance = $module.data(moduleNamespace),\n        observer,\n        module\n      ;\n\n      module = {\n\n        initialize: function() {\n          module.debug('Initializing', $module);\n          module.bind.events();\n          if(settings.observeChanges) {\n            module.observeChanges();\n          }\n          module.instantiate();\n        },\n\n        instantiate: function() {\n          instance = module;\n          $module\n            .data(moduleNamespace, module)\n          ;\n        },\n\n        destroy: function() {\n          module.debug('Destroying previous instance', $module);\n          $module\n            .off(eventNamespace)\n            .removeData(moduleNamespace)\n          ;\n        },\n\n        refresh: function() {\n          $title   = $module.find(selector.title);\n          $content = $module.find(selector.content);\n        },\n\n        observeChanges: function() {\n          if('MutationObserver' in window) {\n            observer = new MutationObserver(function(mutations) {\n              module.debug('DOM tree modified, updating selector cache');\n              module.refresh();\n            });\n            observer.observe(element, {\n              childList : true,\n              subtree   : true\n            });\n            module.debug('Setting up mutation observer', observer);\n          }\n        },\n\n        bind: {\n          events: function() {\n            module.debug('Binding delegated events');\n            $module\n              .on(settings.on + eventNamespace, selector.trigger, module.event.click)\n            ;\n          }\n        },\n\n        event: {\n          click: function() {\n            module.toggle.call(this);\n          }\n        },\n\n        toggle: function(query) {\n          var\n            $activeTitle = (query !== undefined)\n              ? (typeof query === 'number')\n                ? $title.eq(query)\n                : $(query).closest(selector.title)\n              : $(this).closest(selector.title),\n            $activeContent = $activeTitle.next($content),\n            isAnimating = $activeContent.hasClass(className.animating),\n            isActive    = $activeContent.hasClass(className.active),\n            isOpen      = (isActive && !isAnimating),\n            isOpening   = (!isActive && isAnimating)\n          ;\n          module.debug('Toggling visibility of content', $activeTitle);\n          if(isOpen || isOpening) {\n            if(settings.collapsible) {\n              module.close.call($activeTitle);\n            }\n            else {\n              module.debug('Cannot close accordion content collapsing is disabled');\n            }\n          }\n          else {\n            module.open.call($activeTitle);\n          }\n        },\n\n        open: function(query) {\n          var\n            $activeTitle = (query !== undefined)\n              ? (typeof query === 'number')\n                ? $title.eq(query)\n                : $(query).closest(selector.title)\n              : $(this).closest(selector.title),\n            $activeContent = $activeTitle.next($content),\n            isAnimating = $activeContent.hasClass(className.animating),\n            isActive    = $activeContent.hasClass(className.active),\n            isOpen      = (isActive || isAnimating)\n          ;\n          if(isOpen) {\n            module.debug('Accordion already open, skipping', $activeContent);\n            return;\n          }\n          module.debug('Opening accordion content', $activeTitle);\n          settings.onOpening.call($activeContent);\n          settings.onChanging.call($activeContent);\n          if(settings.exclusive) {\n            module.closeOthers.call($activeTitle);\n          }\n          $activeTitle\n            .addClass(className.active)\n          ;\n          $activeContent\n            .stop(true, true)\n            .addClass(className.animating)\n          ;\n          if(settings.animateChildren) {\n            if($.fn.transition !== undefined && $module.transition('is supported')) {\n              $activeContent\n                .children()\n                  .transition({\n                    animation        : 'fade in',\n                    queue            : false,\n                    useFailSafe      : true,\n                    debug            : settings.debug,\n                    verbose          : settings.verbose,\n                    duration         : settings.duration,\n                    skipInlineHidden : true,\n                    onComplete: function() {\n                      $activeContent.children().removeClass(className.transition);\n                    }\n                  })\n              ;\n            }\n            else {\n              $activeContent\n                .children()\n                  .stop(true, true)\n                  .animate({\n                    opacity: 1\n                  }, settings.duration, module.resetOpacity)\n              ;\n            }\n          }\n          $activeContent\n            .slideDown(settings.duration, settings.easing, function() {\n              $activeContent\n                .removeClass(className.animating)\n                .addClass(className.active)\n              ;\n              module.reset.display.call(this);\n              settings.onOpen.call(this);\n              settings.onChange.call(this);\n            })\n          ;\n        },\n\n        close: function(query) {\n          var\n            $activeTitle = (query !== undefined)\n              ? (typeof query === 'number')\n                ? $title.eq(query)\n                : $(query).closest(selector.title)\n              : $(this).closest(selector.title),\n            $activeContent = $activeTitle.next($content),\n            isAnimating    = $activeContent.hasClass(className.animating),\n            isActive       = $activeContent.hasClass(className.active),\n            isOpening      = (!isActive && isAnimating),\n            isClosing      = (isActive && isAnimating)\n          ;\n          if((isActive || isOpening) && !isClosing) {\n            module.debug('Closing accordion content', $activeContent);\n            settings.onClosing.call($activeContent);\n            settings.onChanging.call($activeContent);\n            $activeTitle\n              .removeClass(className.active)\n            ;\n            $activeContent\n              .stop(true, true)\n              .addClass(className.animating)\n            ;\n            if(settings.animateChildren) {\n              if($.fn.transition !== undefined && $module.transition('is supported')) {\n                $activeContent\n                  .children()\n                    .transition({\n                      animation        : 'fade out',\n                      queue            : false,\n                      useFailSafe      : true,\n                      debug            : settings.debug,\n                      verbose          : settings.verbose,\n                      duration         : settings.duration,\n                      skipInlineHidden : true\n                    })\n                ;\n              }\n              else {\n                $activeContent\n                  .children()\n                    .stop(true, true)\n                    .animate({\n                      opacity: 0\n                    }, settings.duration, module.resetOpacity)\n                ;\n              }\n            }\n            $activeContent\n              .slideUp(settings.duration, settings.easing, function() {\n                $activeContent\n                  .removeClass(className.animating)\n                  .removeClass(className.active)\n                ;\n                module.reset.display.call(this);\n                settings.onClose.call(this);\n                settings.onChange.call(this);\n              })\n            ;\n          }\n        },\n\n        closeOthers: function(index) {\n          var\n            $activeTitle = (index !== undefined)\n              ? $title.eq(index)\n              : $(this).closest(selector.title),\n            $parentTitles    = $activeTitle.parents(selector.content).prev(selector.title),\n            $activeAccordion = $activeTitle.closest(selector.accordion),\n            activeSelector   = selector.title + '.' + className.active + ':visible',\n            activeContent    = selector.content + '.' + className.active + ':visible',\n            $openTitles,\n            $nestedTitles,\n            $openContents\n          ;\n          if(settings.closeNested) {\n            $openTitles   = $activeAccordion.find(activeSelector).not($parentTitles);\n            $openContents = $openTitles.next($content);\n          }\n          else {\n            $openTitles   = $activeAccordion.find(activeSelector).not($parentTitles);\n            $nestedTitles = $activeAccordion.find(activeContent).find(activeSelector).not($parentTitles);\n            $openTitles   = $openTitles.not($nestedTitles);\n            $openContents = $openTitles.next($content);\n          }\n          if( ($openTitles.length > 0) ) {\n            module.debug('Exclusive enabled, closing other content', $openTitles);\n            $openTitles\n              .removeClass(className.active)\n            ;\n            $openContents\n              .removeClass(className.animating)\n              .stop(true, true)\n            ;\n            if(settings.animateChildren) {\n              if($.fn.transition !== undefined && $module.transition('is supported')) {\n                $openContents\n                  .children()\n                    .transition({\n                      animation        : 'fade out',\n                      useFailSafe      : true,\n                      debug            : settings.debug,\n                      verbose          : settings.verbose,\n                      duration         : settings.duration,\n                      skipInlineHidden : true\n                    })\n                ;\n              }\n              else {\n                $openContents\n                  .children()\n                    .stop(true, true)\n                    .animate({\n                      opacity: 0\n                    }, settings.duration, module.resetOpacity)\n                ;\n              }\n            }\n            $openContents\n              .slideUp(settings.duration , settings.easing, function() {\n                $(this).removeClass(className.active);\n                module.reset.display.call(this);\n              })\n            ;\n          }\n        },\n\n        reset: {\n\n          display: function() {\n            module.verbose('Removing inline display from element', this);\n            $(this).css('display', '');\n            if( $(this).attr('style') === '') {\n              $(this)\n                .attr('style', '')\n                .removeAttr('style')\n              ;\n            }\n          },\n\n          opacity: function() {\n            module.verbose('Removing inline opacity from element', this);\n            $(this).css('opacity', '');\n            if( $(this).attr('style') === '') {\n              $(this)\n                .attr('style', '')\n                .removeAttr('style')\n              ;\n            }\n          },\n\n        },\n\n        setting: function(name, value) {\n          module.debug('Changing setting', name, value);\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            if($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            }\n            else {\n              settings[name] = value;\n            }\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          module.debug('Changing internal', name, value);\n          if(value !== undefined) {\n            if( $.isPlainObject(name) ) {\n              $.extend(true, module, name);\n            }\n            else {\n              module[name] = value;\n            }\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n          if ( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if(Array.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      };\n      if(methodInvoked) {\n        if(instance === undefined) {\n          module.initialize();\n        }\n        module.invoke(query);\n      }\n      else {\n        if(instance !== undefined) {\n          instance.invoke('destroy');\n        }\n        module.initialize();\n      }\n    })\n  ;\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n$.fn.accordion.settings = {\n\n  name            : 'Accordion',\n  namespace       : 'accordion',\n\n  silent          : false,\n  debug           : false,\n  verbose         : false,\n  performance     : true,\n\n  on              : 'click', // event on title that opens accordion\n\n  observeChanges  : true,  // whether accordion should automatically refresh on DOM insertion\n\n  exclusive       : true,  // whether a single accordion content panel should be open at once\n  collapsible     : true,  // whether accordion content can be closed\n  closeNested     : false, // whether nested content should be closed when a panel is closed\n  animateChildren : true,  // whether children opacity should be animated\n\n  duration        : 350, // duration of animation\n  easing          : 'easeOutQuad', // easing equation for animation\n\n  onOpening       : function(){}, // callback before open animation\n  onClosing       : function(){}, // callback before closing animation\n  onChanging      : function(){}, // callback before closing or opening animation\n\n  onOpen          : function(){}, // callback after open animation\n  onClose         : function(){}, // callback after closing animation\n  onChange        : function(){}, // callback after closing or opening animation\n\n  error: {\n    method : 'The method you called is not defined'\n  },\n\n  className   : {\n    active    : 'active',\n    animating : 'animating',\n    transition: 'transition'\n  },\n\n  selector    : {\n    accordion : '.accordion',\n    title     : '.title',\n    trigger   : '.title',\n    content   : '.content'\n  }\n\n};\n\n// Adds easing\n$.extend( $.easing, {\n  easeOutQuad: function (x, t, b, c, d) {\n    return -c *(t/=d)*(t-2) + b;\n  }\n});\n\n})( jQuery, window, document );\n\n\n/*!\n * # Fomantic-UI 2.8.8 - Calendar\n * http://github.com/fomantic/Fomantic-UI/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n'use strict';\n\n$.isFunction = $.isFunction || function(obj) {\n  return typeof obj === \"function\" && typeof obj.nodeType !== \"number\";\n};\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\n$.fn.calendar = function(parameters) {\n  var\n    $allModules    = $(this),\n\n    moduleSelector = $allModules.selector || '',\n\n    time           = new Date().getTime(),\n    performance    = [],\n\n    query          = arguments[0],\n    methodInvoked  = (typeof query == 'string'),\n    queryArguments = [].slice.call(arguments, 1),\n    returnedValue,\n    timeGapTable = {\n      '5': {'row': 4, 'column': 3 },\n      '10': {'row': 3, 'column': 2 },\n      '15': {'row': 2, 'column': 2 },\n      '20': {'row': 3, 'column': 1 },\n      '30': {'row': 2, 'column': 1 }\n    },\n    numberText = ['','one','two','three','four','five','six','seven','eight']\n  ;\n\n  $allModules\n    .each(function () {\n      var\n        settings = ( $.isPlainObject(parameters) )\n          ? $.extend(true, {}, $.fn.calendar.settings, parameters)\n          : $.extend({}, $.fn.calendar.settings),\n\n        className = settings.className,\n        namespace = settings.namespace,\n        selector = settings.selector,\n        formatter = settings.formatter,\n        parser = settings.parser,\n        metadata = settings.metadata,\n        timeGap = timeGapTable[settings.minTimeGap],\n        error = settings.error,\n\n        eventNamespace = '.' + namespace,\n        moduleNamespace = 'module-' + namespace,\n\n        $module = $(this),\n        $input = $module.find(selector.input),\n        $container = $module.find(selector.popup),\n        $activator = $module.find(selector.activator),\n\n        element = this,\n        instance = $module.data(moduleNamespace),\n\n        isTouch,\n        isTouchDown = false,\n        isInverted = $module.hasClass(className.inverted),\n        focusDateUsedForRange = false,\n        selectionComplete = false,\n        classObserver,\n        module\n      ;\n\n      module = {\n\n        initialize: function () {\n          module.debug('Initializing calendar for', element, $module);\n\n          isTouch = module.get.isTouch();\n          module.setup.config();\n          module.setup.popup();\n          module.setup.inline();\n          module.setup.input();\n          module.setup.date();\n          module.create.calendar();\n\n          module.bind.events();\n          module.observeChanges();\n          module.instantiate();\n        },\n\n        instantiate: function () {\n          module.verbose('Storing instance of calendar');\n          instance = module;\n          $module.data(moduleNamespace, instance);\n        },\n\n        destroy: function () {\n          module.verbose('Destroying previous calendar for', element);\n          $module.removeData(moduleNamespace);\n          module.unbind.events();\n          module.disconnect.classObserver();\n        },\n\n        setup: {\n          config: function () {\n            if (module.get.minDate() !== null) {\n              module.set.minDate($module.data(metadata.minDate));\n            }\n            if (module.get.maxDate() !== null) {\n              module.set.maxDate($module.data(metadata.maxDate));\n            }\n            module.setting('type', module.get.type());\n            module.setting('on', settings.on || ($input.length ? 'focus' : 'click'));\n          },\n          popup: function () {\n            if (settings.inline) {\n              return;\n            }\n            if (!$activator.length) {\n              $activator = $module.children().first();\n              if (!$activator.length) {\n                return;\n              }\n            }\n            if ($.fn.popup === undefined) {\n              module.error(error.popup);\n              return;\n            }\n            if (!$container.length) {\n              //prepend the popup element to the activator's parent so that it has less chance of messing with\n              //the styling (eg input action button needs to be the last child to have correct border radius)\n              var $activatorParent = $activator.parent(),\n                  domPositionFunction = $activatorParent.closest(selector.append).length !== 0 ? 'appendTo' : 'prependTo';\n              $container = $('<div/>').addClass(className.popup)[domPositionFunction]($activatorParent);\n            }\n            $container.addClass(className.calendar);\n            if(isInverted){\n              $container.addClass(className.inverted);\n            }\n            var onVisible = function () {\n              module.refreshTooltips();\n              return settings.onVisible.apply($container, arguments);\n            };\n            var onHidden = settings.onHidden;\n            if (!$input.length) {\n              //no input, $container has to handle focus/blur\n              $container.attr('tabindex', '0');\n              onVisible = function () {\n                module.refreshTooltips();\n                module.focus();\n                return settings.onVisible.apply($container, arguments);\n              };\n              onHidden = function () {\n                module.blur();\n                return settings.onHidden.apply($container, arguments);\n              };\n            }\n            var onShow = function () {\n              //reset the focus date onShow\n              module.set.focusDate(module.get.date());\n              module.set.mode(module.get.validatedMode(settings.startMode));\n              return settings.onShow.apply($container, arguments);\n            };\n            var on = module.setting('on');\n            var options = $.extend({}, settings.popupOptions, {\n              popup: $container,\n              on: on,\n              hoverable: on === 'hover',\n              closable: on === 'click',\n              onShow: onShow,\n              onVisible: onVisible,\n              onHide: settings.onHide,\n              onHidden: onHidden\n            });\n            module.popup(options);\n          },\n          inline: function () {\n            if ($activator.length && !settings.inline) {\n              return;\n            }\n            settings.inline = true;\n            $container = $('<div/>').addClass(className.calendar).appendTo($module);\n            if (!$input.length) {\n              $container.attr('tabindex', '0');\n            }\n          },\n          input: function () {\n            if (settings.touchReadonly && $input.length && isTouch) {\n              $input.prop('readonly', true);\n            }\n            module.check.disabled();\n          },\n          date: function () {\n            var date;\n            if (settings.initialDate) {\n              date = parser.date(settings.initialDate, settings);\n            } else if ($module.data(metadata.date) !== undefined) {\n              date = parser.date($module.data(metadata.date), settings);\n            } else if ($input.length) {\n              date = parser.date($input.val(), settings);\n            }\n            module.set.date(date, settings.formatInput, false);\n            module.set.mode(module.get.mode(), false);\n          }\n        },\n\n        trigger: {\n          change: function() {\n            var\n                inputElement = $input[0]\n            ;\n            if(inputElement) {\n              var events = document.createEvent('HTMLEvents');\n              module.verbose('Triggering native change event');\n              events.initEvent('change', true, false);\n              inputElement.dispatchEvent(events);\n            }\n          }\n        },\n\n        create: {\n          calendar: function () {\n            var i, r, c, p, row, cell, pageGrid;\n\n            var\n              mode = module.get.mode(),\n              today = new Date(),\n              date = module.get.date(),\n              focusDate = module.get.focusDate(),\n              display = module.helper.dateInRange(focusDate || date || settings.initialDate || today)\n            ;\n\n            if (!focusDate) {\n              focusDate = display;\n              module.set.focusDate(focusDate, false, false);\n            }\n\n            var\n              isYear = mode === 'year',\n              isMonth = mode === 'month',\n              isDay = mode === 'day',\n              isHour = mode === 'hour',\n              isMinute = mode === 'minute',\n              isTimeOnly = settings.type === 'time'\n            ;\n\n            var multiMonth = Math.max(settings.multiMonth, 1);\n            var monthOffset = !isDay ? 0 : module.get.monthOffset();\n\n            var\n              minute = display.getMinutes(),\n              hour = display.getHours(),\n              day = display.getDate(),\n              startMonth = display.getMonth() + monthOffset,\n              year = display.getFullYear()\n            ;\n\n            var columns = isDay ? settings.showWeekNumbers ? 8 : 7 : isHour ? 4 : timeGap['column'];\n            var rows = isDay || isHour ? 6 : timeGap['row'];\n            var pages = isDay ? multiMonth : 1;\n\n            var container = $container;\n            var tooltipPosition = container.hasClass(\"left\") ? \"right center\" : \"left center\";\n            container.empty();\n            if (pages > 1) {\n              pageGrid = $('<div/>').addClass(className.grid).appendTo(container);\n            }\n\n            for (p = 0; p < pages; p++) {\n              if (pages > 1) {\n                var pageColumn = $('<div/>').addClass(className.column).appendTo(pageGrid);\n                container = pageColumn;\n              }\n\n              var month = startMonth + p;\n              var firstMonthDayColumn = (new Date(year, month, 1).getDay() - settings.firstDayOfWeek % 7 + 7) % 7;\n              if (!settings.constantHeight && isDay) {\n                var requiredCells = new Date(year, month + 1, 0).getDate() + firstMonthDayColumn;\n                rows = Math.ceil(requiredCells / 7);\n              }\n\n              var\n                yearChange = isYear ? 10 : isMonth ? 1 : 0,\n                monthChange = isDay ? 1 : 0,\n                dayChange = isHour || isMinute ? 1 : 0,\n                prevNextDay = isHour || isMinute ? day : 1,\n                prevDate = new Date(year - yearChange, month - monthChange, prevNextDay - dayChange, hour),\n                nextDate = new Date(year + yearChange, month + monthChange, prevNextDay + dayChange, hour),\n                prevLast = isYear ? new Date(Math.ceil(year / 10) * 10 - 9, 0, 0) :\n                  isMonth ? new Date(year, 0, 0) : isDay ? new Date(year, month, 0) : new Date(year, month, day, -1),\n                nextFirst = isYear ? new Date(Math.ceil(year / 10) * 10 + 1, 0, 1) :\n                  isMonth ? new Date(year + 1, 0, 1) : isDay ? new Date(year, month + 1, 1) : new Date(year, month, day + 1)\n              ;\n\n              var tempMode = mode;\n              if (isDay && settings.showWeekNumbers){\n                tempMode += ' andweek';\n              }\n              var table = $('<table/>').addClass(className.table).addClass(tempMode).addClass(numberText[columns] + ' column').appendTo(container);\n              if(isInverted){\n                table.addClass(className.inverted);\n              }\n              var textColumns = columns;\n              //no header for time-only mode\n              if (!isTimeOnly) {\n                var thead = $('<thead/>').appendTo(table);\n\n                row = $('<tr/>').appendTo(thead);\n                cell = $('<th/>').attr('colspan', '' + columns).appendTo(row);\n\n                var headerDate = isYear || isMonth ? new Date(year, 0, 1) :\n                  isDay ? new Date(year, month, 1) : new Date(year, month, day, hour, minute);\n                var headerText = $('<span/>').addClass(className.link).appendTo(cell);\n                headerText.text(formatter.header(headerDate, mode, settings));\n                var newMode = isMonth ? (settings.disableYear ? 'day' : 'year') :\n                  isDay ? (settings.disableMonth ? 'year' : 'month') : 'day';\n                headerText.data(metadata.mode, newMode);\n\n                if (p === 0) {\n                  var prev = $('<span/>').addClass(className.prev).appendTo(cell);\n                  prev.data(metadata.focusDate, prevDate);\n                  prev.toggleClass(className.disabledCell, !module.helper.isDateInRange(prevLast, mode));\n                  $('<i/>').addClass(className.prevIcon).appendTo(prev);\n                }\n\n                if (p === pages - 1) {\n                  var next = $('<span/>').addClass(className.next).appendTo(cell);\n                  next.data(metadata.focusDate, nextDate);\n                  next.toggleClass(className.disabledCell, !module.helper.isDateInRange(nextFirst, mode));\n                  $('<i/>').addClass(className.nextIcon).appendTo(next);\n                }\n                if (isDay) {\n                  row = $('<tr/>').appendTo(thead);\n                  if(settings.showWeekNumbers) {\n                      cell = $('<th/>').appendTo(row);\n                      cell.text(settings.text.weekNo);\n                      cell.addClass(className.weekCell);\n                      textColumns--;\n                  }\n                  for (i = 0; i < textColumns; i++) {\n                    cell = $('<th/>').appendTo(row);\n                    cell.text(formatter.dayColumnHeader((i + settings.firstDayOfWeek) % 7, settings));\n                  }\n                }\n              }\n\n              var tbody = $('<tbody/>').appendTo(table);\n              i = isYear ? Math.ceil(year / 10) * 10 - 9 : isDay ? 1 - firstMonthDayColumn : 0;\n              for (r = 0; r < rows; r++) {\n                row = $('<tr/>').appendTo(tbody);\n                if(isDay && settings.showWeekNumbers){\n                    cell = $('<th/>').appendTo(row);\n                    cell.text(module.get.weekOfYear(year,month,i+1-settings.firstDayOfWeek));\n                    cell.addClass(className.weekCell);\n                }\n                for (c = 0; c < textColumns; c++, i++) {\n                  var cellDate = isYear ? new Date(i, month, 1, hour, minute) :\n                    isMonth ? new Date(year, i, 1, hour, minute) : isDay ? new Date(year, month, i, hour, minute) :\n                      isHour ? new Date(year, month, day, i) : new Date(year, month, day, hour, i * settings.minTimeGap);\n                  var cellText = isYear ? i :\n                    isMonth ? settings.text.monthsShort[i] : isDay ? cellDate.getDate() :\n                      formatter.time(cellDate, settings, true);\n                  cell = $('<td/>').addClass(className.cell).appendTo(row);\n                  cell.text(cellText);\n                  cell.data(metadata.date, cellDate);\n                  var adjacent = isDay && cellDate.getMonth() !== ((month + 12) % 12);\n                  var disabled = (!settings.selectAdjacentDays && adjacent) || !module.helper.isDateInRange(cellDate, mode) || settings.isDisabled(cellDate, mode) || module.helper.isDisabled(cellDate, mode) || !module.helper.isEnabled(cellDate, mode);\n                  var eventDate;\n                  if (disabled) {\n                    var disabledDate = module.helper.findDayAsObject(cellDate, mode, settings.disabledDates);\n                    if (disabledDate !== null && disabledDate[metadata.message]) {\n                      cell.attr(\"data-tooltip\", disabledDate[metadata.message]);\n                      cell.attr(\"data-position\", disabledDate[metadata.position] || tooltipPosition);\n                      if(disabledDate[metadata.inverted] || (isInverted && disabledDate[metadata.inverted] === undefined)) {\n                        cell.attr(\"data-inverted\", '');\n                      }\n                      if(disabledDate[metadata.variation]) {\n                        cell.attr(\"data-variation\", disabledDate[metadata.variation]);\n                      }\n                    }\n                  } else {\n                    eventDate = module.helper.findDayAsObject(cellDate, mode, settings.eventDates);\n                    if (eventDate !== null) {\n                      cell.addClass(eventDate[metadata.class] || settings.eventClass);\n                      if (eventDate[metadata.message]) {\n                        cell.attr(\"data-tooltip\", eventDate[metadata.message]);\n                        cell.attr(\"data-position\", eventDate[metadata.position] || tooltipPosition);\n                        if(eventDate[metadata.inverted] || (isInverted && eventDate[metadata.inverted] === undefined)) {\n                          cell.attr(\"data-inverted\", '');\n                        }\n                        if(eventDate[metadata.variation]) {\n                          cell.attr(\"data-variation\", eventDate[metadata.variation]);\n                        }\n                      }\n                    }\n                  }\n                  var active = module.helper.dateEqual(cellDate, date, mode);\n                  var isToday = module.helper.dateEqual(cellDate, today, mode);\n                  cell.toggleClass(className.adjacentCell, adjacent && !eventDate);\n                  cell.toggleClass(className.disabledCell, disabled);\n                  cell.toggleClass(className.activeCell, active && !(adjacent && disabled));\n                  if (!isHour && !isMinute) {\n                    cell.toggleClass(className.todayCell, !adjacent && isToday);\n                  }\n\n                  // Allow for external modifications of each cell\n                  var cellOptions = {\n                    mode: mode,\n                    adjacent: adjacent,\n                    disabled: disabled,\n                    active: active,\n                    today: isToday\n                  };\n                  formatter.cell(cell, cellDate, cellOptions);\n\n                  if (module.helper.dateEqual(cellDate, focusDate, mode)) {\n                    //ensure that the focus date is exactly equal to the cell date\n                    //so that, if selected, the correct value is set\n                    module.set.focusDate(cellDate, false, false);\n                  }\n                }\n              }\n\n              if (settings.today) {\n                var todayRow = $('<tr/>').appendTo(tbody);\n                var todayButton = $('<td/>').attr('colspan', '' + columns).addClass(className.today).appendTo(todayRow);\n                todayButton.text(formatter.today(settings));\n                todayButton.data(metadata.date, today);\n              }\n\n              module.update.focus(false, table);\n\n              if(settings.inline){\n                module.refreshTooltips();\n              }\n            }\n          }\n        },\n\n        update: {\n          focus: function (updateRange, container) {\n            container = container || $container;\n            var mode = module.get.mode();\n            var date = module.get.date();\n            var focusDate = module.get.focusDate();\n            var startDate = module.get.startDate();\n            var endDate = module.get.endDate();\n            var rangeDate = (updateRange ? focusDate : null) || date || (!isTouch ? focusDate : null);\n\n            container.find('td').each(function () {\n              var cell = $(this);\n              var cellDate = cell.data(metadata.date);\n              if (!cellDate) {\n                return;\n              }\n              var disabled = cell.hasClass(className.disabledCell);\n              var active = cell.hasClass(className.activeCell);\n              var adjacent = cell.hasClass(className.adjacentCell);\n              var focused = module.helper.dateEqual(cellDate, focusDate, mode);\n              var inRange = !rangeDate ? false :\n                ((!!startDate && module.helper.isDateInRange(cellDate, mode, startDate, rangeDate)) ||\n                (!!endDate && module.helper.isDateInRange(cellDate, mode, rangeDate, endDate)));\n              cell.toggleClass(className.focusCell, focused && (!isTouch || isTouchDown) && (!adjacent || (settings.selectAdjacentDays && adjacent)) && !disabled);\n\n              if (module.helper.isTodayButton(cell)) {\n                return;\n              }\n              cell.toggleClass(className.rangeCell, inRange && !active && !disabled);\n            });\n          }\n        },\n\n        refresh: function () {\n          module.create.calendar();\n        },\n\n        refreshTooltips: function() {\n          var winWidth = $(window).width();\n          $container.find('td[data-position]').each(function () {\n            var cell = $(this);\n            var tooltipWidth = window.getComputedStyle(cell[0], ':after').width.replace(/[^0-9\\.]/g,'');\n            var tooltipPosition = cell.attr('data-position');\n            // use a fallback width of 250 (calendar width) for IE/Edge (which return \"auto\")\n            var calcPosition = (winWidth - cell.width() - (parseInt(tooltipWidth,10) || 250)) > cell.offset().left ? 'right' : 'left';\n            if(tooltipPosition.indexOf(calcPosition) === -1) {\n              cell.attr('data-position',tooltipPosition.replace(/(left|right)/,calcPosition));\n            }\n           });\n        },\n\n        bind: {\n          events: function () {\n            module.debug('Binding events');\n            $container.on('mousedown' + eventNamespace, module.event.mousedown);\n            $container.on('touchstart' + eventNamespace, module.event.mousedown);\n            $container.on('mouseup' + eventNamespace, module.event.mouseup);\n            $container.on('touchend' + eventNamespace, module.event.mouseup);\n            $container.on('mouseover' + eventNamespace, module.event.mouseover);\n            if ($input.length) {\n              $input.on('input' + eventNamespace, module.event.inputChange);\n              $input.on('focus' + eventNamespace, module.event.inputFocus);\n              $input.on('blur' + eventNamespace, module.event.inputBlur);\n              $input.on('keydown' + eventNamespace, module.event.keydown);\n            } else {\n              $container.on('keydown' + eventNamespace, module.event.keydown);\n            }\n          }\n        },\n\n        unbind: {\n          events: function () {\n            module.debug('Unbinding events');\n            $container.off(eventNamespace);\n            if ($input.length) {\n              $input.off(eventNamespace);\n            }\n          }\n        },\n\n        event: {\n          mouseover: function (event) {\n            var target = $(event.target);\n            var date = target.data(metadata.date);\n            var mousedown = event.buttons === 1;\n            if (date) {\n              module.set.focusDate(date, false, true, mousedown);\n            }\n          },\n          mousedown: function (event) {\n            if ($input.length) {\n              //prevent the mousedown on the calendar causing the input to lose focus\n              event.preventDefault();\n            }\n            isTouchDown = event.type.indexOf('touch') >= 0;\n            var target = $(event.target);\n            var date = target.data(metadata.date);\n            if (date) {\n              module.set.focusDate(date, false, true, true);\n            }\n          },\n          mouseup: function (event) {\n            //ensure input has focus so that it receives keydown events for calendar navigation\n            module.focus();\n            event.preventDefault();\n            event.stopPropagation();\n            isTouchDown = false;\n            var target = $(event.target);\n            if (target.hasClass(\"disabled\")) {\n              return;\n            }\n            var parent = target.parent();\n            if (parent.data(metadata.date) || parent.data(metadata.focusDate) || parent.data(metadata.mode)) {\n              //clicked on a child element, switch to parent (used when clicking directly on prev/next <i> icon element)\n              target = parent;\n            }\n            var date = target.data(metadata.date);\n            var focusDate = target.data(metadata.focusDate);\n            var mode = target.data(metadata.mode);\n            if (date && settings.onSelect.call(element, date, module.get.mode()) !== false) {\n              var forceSet = target.hasClass(className.today);\n              module.selectDate(date, forceSet);\n            }\n            else if (focusDate) {\n              module.set.focusDate(focusDate);\n            }\n            else if (mode) {\n              module.set.mode(mode);\n            }\n          },\n          keydown: function (event) {\n            var keyCode = event.which;\n            if (keyCode === 27 || keyCode === 9) {\n              //esc || tab\n              module.popup('hide');\n            }\n\n            if (module.popup('is visible')) {\n              if (keyCode === 37 || keyCode === 38 || keyCode === 39 || keyCode === 40) {\n                //arrow keys\n                var mode = module.get.mode();\n                var bigIncrement = mode === 'day' ? 7 : mode === 'hour' ? 4 : mode === 'minute' ? timeGap['column'] : 3;\n                var increment = keyCode === 37 ? -1 : keyCode === 38 ? -bigIncrement : keyCode == 39 ? 1 : bigIncrement;\n                increment *= mode === 'minute' ? settings.minTimeGap : 1;\n                var focusDate = module.get.focusDate() || module.get.date() || new Date();\n                var year = focusDate.getFullYear() + (mode === 'year' ? increment : 0);\n                var month = focusDate.getMonth() + (mode === 'month' ? increment : 0);\n                var day = focusDate.getDate() + (mode === 'day' ? increment : 0);\n                var hour = focusDate.getHours() + (mode === 'hour' ? increment : 0);\n                var minute = focusDate.getMinutes() + (mode === 'minute' ? increment : 0);\n                var newFocusDate = new Date(year, month, day, hour, minute);\n                if (settings.type === 'time') {\n                  newFocusDate = module.helper.mergeDateTime(focusDate, newFocusDate);\n                }\n                if (module.helper.isDateInRange(newFocusDate, mode)) {\n                  module.set.focusDate(newFocusDate);\n                }\n              } else if (keyCode === 13) {\n                //enter\n                var mode = module.get.mode();\n                var date = module.get.focusDate();\n                if (date && !settings.isDisabled(date, mode) && !module.helper.isDisabled(date, mode) && module.helper.isEnabled(date, mode)) {\n                  module.selectDate(date);\n                }\n                //disable form submission:\n                event.preventDefault();\n                event.stopPropagation();\n              }\n            }\n\n            if (keyCode === 38 || keyCode === 40) {\n              //arrow-up || arrow-down\n              event.preventDefault(); //don't scroll\n              module.popup('show');\n            }\n          },\n          inputChange: function () {\n            var val = $input.val();\n            var date = parser.date(val, settings);\n            module.set.date(date, false);\n          },\n          inputFocus: function () {\n            $container.addClass(className.active);\n          },\n          inputBlur: function () {\n            $container.removeClass(className.active);\n            if (settings.formatInput) {\n              var date = module.get.date();\n              var text = formatter.datetime(date, settings);\n              $input.val(text);\n            }\n            if(selectionComplete){\n              module.trigger.change();\n              selectionComplete = false;\n            }\n          },\n          class: {\n            mutation: function(mutations) {\n              mutations.forEach(function(mutation) {\n                if(mutation.attributeName === \"class\") {\n                  module.check.disabled();\n                }\n              });\n            }\n          }\n        },\n\n        observeChanges: function() {\n          if('MutationObserver' in window) {\n            classObserver  = new MutationObserver(module.event.class.mutation);\n            module.debug('Setting up mutation observer', classObserver);\n            module.observe.class();\n          }\n        },\n\n        disconnect: {\n          classObserver: function() {\n            if($input.length && classObserver) {\n              classObserver.disconnect();\n            }\n          }\n        },\n\n        observe: {\n          class: function() {\n            if($input.length && classObserver) {\n              classObserver.observe($module[0], {\n                attributes : true\n              });\n            }\n          }\n        },\n\n        is: {\n          disabled: function() {\n            return $module.hasClass(className.disabled);\n          }\n        },\n\n        check: {\n          disabled: function(){\n            $input.attr('tabindex',module.is.disabled() ? -1 : 0);\n          }\n        },\n\n        get: {\n          weekOfYear: function(weekYear,weekMonth,weekDay) {\n              // adapted from http://www.merlyn.demon.co.uk/weekcalc.htm\n              var ms1d = 864e5, // milliseconds in a day\n                  ms7d = 7 * ms1d; // milliseconds in a week\n\n              return function() { // return a closure so constants get calculated only once\n                  var DC3 = Date.UTC(weekYear, weekMonth, weekDay + 3) / ms1d, // an Absolute Day Number\n                      AWN = Math.floor(DC3 / 7), // an Absolute Week Number\n                      Wyr = new Date(AWN * ms7d).getUTCFullYear();\n\n                  return AWN - Math.floor(Date.UTC(Wyr, 0, 7) / ms7d) + 1;\n              }();\n          },\n          date: function () {\n            return module.helper.sanitiseDate($module.data(metadata.date)) || null;\n          },\n          inputDate: function() {\n            return $input.val();\n          },\n          focusDate: function () {\n            return $module.data(metadata.focusDate) || null;\n          },\n          startDate: function () {\n            var startModule = module.get.calendarModule(settings.startCalendar);\n            return (startModule ? startModule.get.date() : $module.data(metadata.startDate)) || null;\n          },\n          endDate: function () {\n            var endModule = module.get.calendarModule(settings.endCalendar);\n            return (endModule ? endModule.get.date() : $module.data(metadata.endDate)) || null;\n          },\n          minDate: function() {\n            return $module.data(metadata.minDate) || null;\n          },\n          maxDate: function() {\n            return $module.data(metadata.maxDate) || null;\n          },\n          monthOffset: function () {\n            return $module.data(metadata.monthOffset) || 0;\n          },\n          mode: function () {\n            //only returns valid modes for the current settings\n            var mode = $module.data(metadata.mode) || settings.startMode;\n            return module.get.validatedMode(mode);\n          },\n          validatedMode: function(mode){\n            var validModes = module.get.validModes();\n            if ($.inArray(mode, validModes) >= 0) {\n              return mode;\n            }\n            return settings.type === 'time' ? 'hour' :\n              settings.type === 'month' ? 'month' :\n                settings.type === 'year' ? 'year' : 'day';\n          },\n          type: function() {\n            return $module.data(metadata.type) || settings.type;\n          },\n          validModes: function () {\n            var validModes = [];\n            if (settings.type !== 'time') {\n              if (!settings.disableYear || settings.type === 'year') {\n                validModes.push('year');\n              }\n              if (!(settings.disableMonth || settings.type === 'year') || settings.type === 'month') {\n                validModes.push('month');\n              }\n              if (settings.type.indexOf('date') >= 0) {\n                validModes.push('day');\n              }\n            }\n            if (settings.type.indexOf('time') >= 0) {\n              validModes.push('hour');\n              if (!settings.disableMinute) {\n                validModes.push('minute');\n              }\n            }\n            return validModes;\n          },\n          isTouch: function () {\n            try {\n              document.createEvent('TouchEvent');\n              return true;\n            }\n            catch (e) {\n              return false;\n            }\n          },\n          calendarModule: function (selector) {\n            if (!selector) {\n              return null;\n            }\n            if (!(selector instanceof $)) {\n              selector = $(selector).first();\n            }\n            //assume range related calendars are using the same namespace\n            return selector.data(moduleNamespace);\n          }\n        },\n\n        set: {\n          date: function (date, updateInput, fireChange) {\n            updateInput = updateInput !== false;\n            fireChange = fireChange !== false;\n            date = module.helper.sanitiseDate(date);\n            date = module.helper.dateInRange(date);\n\n            var mode = module.get.mode();\n            var text = formatter.datetime(date, settings);\n\n            if (fireChange && settings.onBeforeChange.call(element, date, text, mode) === false) {\n              return false;\n            }\n\n            module.set.focusDate(date);\n\n            if (settings.isDisabled(date, mode)) {\n              return false;\n            }\n\n            var endDate = module.get.endDate();\n            if (!!endDate && !!date && date > endDate) {\n              //selected date is greater than end date in range, so clear end date\n              module.set.endDate(undefined);\n            }\n            module.set.dataKeyValue(metadata.date, date);\n\n            if (updateInput && $input.length) {\n              $input.val(text);\n            }\n\n            if (fireChange) {\n              settings.onChange.call(element, date, text, mode);\n            }\n          },\n          startDate: function (date, refreshCalendar) {\n            date = module.helper.sanitiseDate(date);\n            var startModule = module.get.calendarModule(settings.startCalendar);\n            if (startModule) {\n              startModule.set.date(date);\n            }\n            module.set.dataKeyValue(metadata.startDate, date, refreshCalendar);\n          },\n          endDate: function (date, refreshCalendar) {\n            date = module.helper.sanitiseDate(date);\n            var endModule = module.get.calendarModule(settings.endCalendar);\n            if (endModule) {\n              endModule.set.date(date);\n            }\n            module.set.dataKeyValue(metadata.endDate, date, refreshCalendar);\n          },\n          focusDate: function (date, refreshCalendar, updateFocus, updateRange) {\n            date = module.helper.sanitiseDate(date);\n            date = module.helper.dateInRange(date);\n            var isDay = module.get.mode() === 'day';\n            var oldFocusDate = module.get.focusDate();\n            if (isDay && date && oldFocusDate) {\n              var yearDelta = date.getFullYear() - oldFocusDate.getFullYear();\n              var monthDelta = yearDelta * 12 + date.getMonth() - oldFocusDate.getMonth();\n              if (monthDelta) {\n                var monthOffset = module.get.monthOffset() - monthDelta;\n                module.set.monthOffset(monthOffset, false);\n              }\n            }\n            var changed = module.set.dataKeyValue(metadata.focusDate, date, !!date && refreshCalendar);\n            updateFocus = (updateFocus !== false && changed && refreshCalendar === false) || focusDateUsedForRange != updateRange;\n            focusDateUsedForRange = updateRange;\n            if (updateFocus) {\n              module.update.focus(updateRange);\n            }\n          },\n          minDate: function (date) {\n            date = module.helper.sanitiseDate(date);\n            if (settings.maxDate !== null && settings.maxDate <= date) {\n              module.verbose('Unable to set minDate variable bigger that maxDate variable', date, settings.maxDate);\n            } else {\n              module.setting('minDate', date);\n              module.set.dataKeyValue(metadata.minDate, date);\n            }\n          },\n          maxDate: function (date) {\n            date = module.helper.sanitiseDate(date);\n            if (settings.minDate !== null && settings.minDate >= date) {\n              module.verbose('Unable to set maxDate variable lower that minDate variable', date, settings.minDate);\n            } else {\n              module.setting('maxDate', date);\n              module.set.dataKeyValue(metadata.maxDate, date);\n            }\n          },\n          monthOffset: function (monthOffset, refreshCalendar) {\n            var multiMonth = Math.max(settings.multiMonth, 1);\n            monthOffset = Math.max(1 - multiMonth, Math.min(0, monthOffset));\n            module.set.dataKeyValue(metadata.monthOffset, monthOffset, refreshCalendar);\n          },\n          mode: function (mode, refreshCalendar) {\n            module.set.dataKeyValue(metadata.mode, mode, refreshCalendar);\n          },\n          dataKeyValue: function (key, value, refreshCalendar) {\n            var oldValue = $module.data(key);\n            var equal = oldValue === value || (oldValue <= value && oldValue >= value); //equality test for dates and string objects\n            if (value) {\n              $module.data(key, value);\n            } else {\n              $module.removeData(key);\n            }\n            refreshCalendar = refreshCalendar !== false && !equal;\n            if (refreshCalendar) {\n              module.refresh();\n            }\n            return !equal;\n          }\n        },\n\n        selectDate: function (date, forceSet) {\n          module.verbose('New date selection', date);\n          var mode = module.get.mode();\n          var complete = forceSet || mode === 'minute' ||\n            (settings.disableMinute && mode === 'hour') ||\n            (settings.type === 'date' && mode === 'day') ||\n            (settings.type === 'month' && mode === 'month') ||\n            (settings.type === 'year' && mode === 'year');\n          if (complete) {\n            var canceled = module.set.date(date) === false;\n            if (!canceled) {\n              selectionComplete = true;\n              if(settings.closable) {\n                module.popup('hide');\n                //if this is a range calendar, focus the container or input. This will open the popup from its event listeners.\n                var endModule = module.get.calendarModule(settings.endCalendar);\n                if (endModule) {\n                  if (endModule.setting('on') !== 'focus') {\n                    endModule.popup('show');\n                  }\n                  endModule.focus();\n                }\n              }\n            }\n          } else {\n            var newMode = mode === 'year' ? (!settings.disableMonth ? 'month' : 'day') :\n              mode === 'month' ? 'day' : mode === 'day' ? 'hour' : 'minute';\n            module.set.mode(newMode);\n            if (mode === 'hour' || (mode === 'day' && module.get.date())) {\n              //the user has chosen enough to consider a valid date/time has been chosen\n              module.set.date(date, true, false);\n            } else {\n              module.set.focusDate(date);\n            }\n          }\n        },\n\n        changeDate: function (date) {\n          module.set.date(date);\n        },\n\n        clear: function () {\n          module.set.date(undefined);\n        },\n\n        popup: function () {\n          return $activator.popup.apply($activator, arguments);\n        },\n\n        focus: function () {\n          if ($input.length) {\n            $input.focus();\n          } else {\n            $container.focus();\n          }\n        },\n        blur: function () {\n          if ($input.length) {\n            $input.blur();\n          } else {\n            $container.blur();\n          }\n        },\n\n        helper: {\n          isDisabled: function(date, mode) {\n            return (mode === 'day' || mode === 'month' || mode === 'year') && ((mode === 'day' && settings.disabledDaysOfWeek.indexOf(date.getDay()) !== -1) || settings.disabledDates.some(function(d){\n              if(typeof d === 'string') {\n                d = module.helper.sanitiseDate(d);\n              }\n              if (d instanceof Date) {\n                return module.helper.dateEqual(date, d, mode);\n              }\n              if (d !== null && typeof d === 'object') {\n                if (d[metadata.year]) {\n                  if (typeof d[metadata.year] === 'number') {\n                    return date.getFullYear() == d[metadata.year];\n                  } else if (Array.isArray(d[metadata.year])) {\n                    return d[metadata.year].indexOf(date.getFullYear()) > -1;\n                  }\n                } else if (d[metadata.month]) {\n                  if (typeof d[metadata.month] === 'number') {\n                    return date.getMonth() == d[metadata.month];\n                  } else if (Array.isArray(d[metadata.month])) {\n                    return d[metadata.month].indexOf(date.getMonth()) > -1;\n                  } else if (d[metadata.month] instanceof Date) {\n                    var sdate = module.helper.sanitiseDate(d[metadata.month]);\n                    return (date.getMonth() == sdate.getMonth()) && (date.getFullYear() == sdate.getFullYear())\n                  }\n                } else if (d[metadata.date] && mode === 'day') {\n                  if (d[metadata.date] instanceof Date) {\n                    return module.helper.dateEqual(date, module.helper.sanitiseDate(d[metadata.date]), mode);\n                  } else if (Array.isArray(d[metadata.date])) {\n                    return d[metadata.date].some(function(idate) {\n                      return module.helper.dateEqual(date, idate, mode);\n                    });\n                  }\n                }\n              }\n            }));\n          },\n          isEnabled: function(date, mode) {\n            if (mode === 'day') {\n              return settings.enabledDates.length === 0 || settings.enabledDates.some(function(d){\n                if(typeof d === 'string') {\n                  d = module.helper.sanitiseDate(d);\n                }\n                if (d instanceof Date) {\n                  return module.helper.dateEqual(date, d, mode);\n                }\n                if (d !== null && typeof d === 'object' && d[metadata.date]) {\n                  return module.helper.dateEqual(date, module.helper.sanitiseDate(d[metadata.date]), mode);\n                }\n              });\n            } else {\n              return true;\n            }\n          },\n          findDayAsObject: function(date, mode, dates) {\n            if (mode === 'day' || mode === 'month' || mode === 'year') {\n              var d;\n              for (var i = 0; i < dates.length; i++) {\n                d = dates[i];\n                if(typeof d === 'string') {\n                  d = module.helper.sanitiseDate(d);\n                }\n                if (d instanceof Date && module.helper.dateEqual(date, d, mode)) {\n                  var dateObject = {};\n                  dateObject[metadata.date] = d;\n                  return dateObject;\n                }\n                else if (d !== null && typeof d === 'object') {\n                  if (d[metadata.year]) {\n                    if (typeof d[metadata.year] === 'number' && date.getFullYear() == d[metadata.year]) {\n                      return d;\n                    } else if (Array.isArray(d[metadata.year])) {\n                      if (d[metadata.year].indexOf(date.getFullYear()) > -1) {\n                        return d;\n                      }\n                    }\n                  } else if (d[metadata.month]) {\n                    if (typeof d[metadata.month] === 'number' && date.getMonth() == d[metadata.month]) {\n                      return d;\n                    } else if (Array.isArray(d[metadata.month])) {\n                      if (d[metadata.month].indexOf(date.getMonth()) > -1) {\n                        return d;\n                      }\n                    } else if (d[metadata.month] instanceof Date) {\n                      var sdate = module.helper.sanitiseDate(d[metadata.month]);\n                      if ((date.getMonth() == sdate.getMonth()) && (date.getFullYear() == sdate.getFullYear())) {\n                        return d;\n                      }\n                    }\n                  } else if (d[metadata.date] && mode === 'day') {\n                    if (d[metadata.date] instanceof Date && module.helper.dateEqual(date, module.helper.sanitiseDate(d[metadata.date]), mode)) {\n                      return d;\n                    } else if (Array.isArray(d[metadata.date])) {\n                      if(d[metadata.date].some(function(idate) { return module.helper.dateEqual(date, idate, mode); })) {\n                        return d;\n                      }\n                    }\n                  }\n                }\n              }\n            }\n            return null;\n          },\n          sanitiseDate: function (date) {\n            if (!(date instanceof Date)) {\n              date = parser.date('' + date, settings);\n            }\n            if (!date || isNaN(date.getTime())) {\n              return null;\n            }\n            return date;\n          },\n          dateDiff: function (date1, date2, mode) {\n            mode = mode || 'day';\n            var isTimeOnly = settings.type === 'time';\n            var isYear = mode === 'year';\n            var isYearOrMonth = isYear || mode === 'month';\n            var isMinute = mode === 'minute';\n            var isHourOrMinute = isMinute || mode === 'hour';\n            //only care about a minute accuracy of settings.minTimeGap\n            date1 = new Date(\n              isTimeOnly ? 2000 : date1.getFullYear(),\n              isTimeOnly ? 0 : isYear ? 0 : date1.getMonth(),\n              isTimeOnly ? 1 : isYearOrMonth ? 1 : date1.getDate(),\n              !isHourOrMinute ? 0 : date1.getHours(),\n              !isMinute ? 0 : settings.minTimeGap * Math.floor(date1.getMinutes() / settings.minTimeGap));\n            date2 = new Date(\n              isTimeOnly ? 2000 : date2.getFullYear(),\n              isTimeOnly ? 0 : isYear ? 0 : date2.getMonth(),\n              isTimeOnly ? 1 : isYearOrMonth ? 1 : date2.getDate(),\n              !isHourOrMinute ? 0 : date2.getHours(),\n              !isMinute ? 0 : settings.minTimeGap * Math.floor(date2.getMinutes() / settings.minTimeGap));\n            return date2.getTime() - date1.getTime();\n          },\n          dateEqual: function (date1, date2, mode) {\n            return !!date1 && !!date2 && module.helper.dateDiff(date1, date2, mode) === 0;\n          },\n          isDateInRange: function (date, mode, minDate, maxDate) {\n            if (!minDate && !maxDate) {\n              var startDate = module.get.startDate();\n              minDate = startDate && settings.minDate ? new Date(Math.max(startDate, settings.minDate)) : startDate || settings.minDate;\n              maxDate = settings.maxDate;\n            }\n            minDate = minDate && new Date(minDate.getFullYear(), minDate.getMonth(), minDate.getDate(), minDate.getHours(), settings.minTimeGap * Math.ceil(minDate.getMinutes() / settings.minTimeGap));\n            return !(!date ||\n            (minDate && module.helper.dateDiff(date, minDate, mode) > 0) ||\n            (maxDate && module.helper.dateDiff(maxDate, date, mode) > 0));\n          },\n          dateInRange: function (date, minDate, maxDate) {\n            if (!minDate && !maxDate) {\n              var startDate = module.get.startDate();\n              minDate = startDate && settings.minDate ? new Date(Math.max(startDate, settings.minDate)) : startDate || settings.minDate;\n              maxDate = settings.maxDate;\n            }\n            minDate = minDate && new Date(minDate.getFullYear(), minDate.getMonth(), minDate.getDate(), minDate.getHours(), settings.minTimeGap * Math.ceil(minDate.getMinutes() / settings.minTimeGap));\n            var isTimeOnly = settings.type === 'time';\n            return !date ? date :\n              (minDate && module.helper.dateDiff(date, minDate, 'minute') > 0) ?\n                (isTimeOnly ? module.helper.mergeDateTime(date, minDate) : minDate) :\n                (maxDate && module.helper.dateDiff(maxDate, date, 'minute') > 0) ?\n                  (isTimeOnly ? module.helper.mergeDateTime(date, maxDate) : maxDate) :\n                  date;\n          },\n          mergeDateTime: function (date, time) {\n            return (!date || !time) ? time :\n              new Date(date.getFullYear(), date.getMonth(), date.getDate(), time.getHours(), time.getMinutes());\n          },\n          isTodayButton: function(element) {\n            return element.text() === settings.text.today;\n          }\n        },\n\n        setting: function (name, value) {\n          module.debug('Changing setting', name, value);\n          if ($.isPlainObject(name)) {\n            $.extend(true, settings, name);\n          }\n          else if (value !== undefined) {\n            if ($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            }\n            else {\n              settings[name] = value;\n            }\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function (name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function () {\n          if (!settings.silent && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function () {\n          if (!settings.silent && settings.verbose && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function () {\n          if (!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function (message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n              ;\n            if (settings.performance) {\n              currentTime = new Date().getTime();\n              previousTime = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time = currentTime;\n              performance.push({\n                'Name': message[0],\n                'Arguments': [].slice.call(message, 1) || '',\n                'Element': element,\n                'Execution Time': executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function () {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n              ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function (index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if (moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if (console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function (index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function (query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n            ;\n          passedArguments = passedArguments || queryArguments;\n          context = element || context;\n          if (typeof query == 'string' && object !== undefined) {\n            query = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function (depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                  ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                  : query\n                ;\n              if ($.isPlainObject(object[camelCaseValue]) && (depth != maxDepth)) {\n                object = object[camelCaseValue];\n              }\n              else if (object[camelCaseValue] !== undefined) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if ($.isPlainObject(object[value]) && (depth != maxDepth)) {\n                object = object[value];\n              }\n              else if (object[value] !== undefined) {\n                found = object[value];\n                return false;\n              }\n              else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n          if ($.isFunction(found)) {\n            response = found.apply(context, passedArguments);\n          }\n          else if (found !== undefined) {\n            response = found;\n          }\n          if (Array.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if (returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if (response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      };\n\n      if (methodInvoked) {\n        if (instance === undefined) {\n          module.initialize();\n        }\n        module.invoke(query);\n      }\n      else {\n        if (instance !== undefined) {\n          instance.invoke('destroy');\n        }\n        module.initialize();\n      }\n    })\n  ;\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n    ;\n};\n\n$.fn.calendar.settings = {\n\n  name            : 'Calendar',\n  namespace       : 'calendar',\n\n  silent: false,\n  debug: false,\n  verbose: false,\n  performance: false,\n\n  type               : 'datetime', // picker type, can be 'datetime', 'date', 'time', 'month', or 'year'\n  firstDayOfWeek     : 0,          // day for first day column (0 = Sunday)\n  constantHeight     : true,       // add rows to shorter months to keep day calendar height consistent (6 rows)\n  today              : false,      // show a 'today/now' button at the bottom of the calendar\n  closable           : true,       // close the popup after selecting a date/time\n  monthFirst         : true,       // month before day when parsing/converting date from/to text\n  touchReadonly      : true,       // set input to readonly on touch devices\n  inline             : false,      // create the calendar inline instead of inside a popup\n  on                 : null,       // when to show the popup (defaults to 'focus' for input, 'click' for others)\n  initialDate        : null,       // date to display initially when no date is selected (null = now)\n  startMode          : false,      // display mode to start in, can be 'year', 'month', 'day', 'hour', 'minute' (false = 'day')\n  minDate            : null,       // minimum date/time that can be selected, dates/times before are disabled\n  maxDate            : null,       // maximum date/time that can be selected, dates/times after are disabled\n  ampm               : true,       // show am/pm in time mode\n  disableYear        : false,      // disable year selection mode\n  disableMonth       : false,      // disable month selection mode\n  disableMinute      : false,      // disable minute selection mode\n  formatInput        : true,       // format the input text upon input blur and module creation\n  startCalendar      : null,       // jquery object or selector for another calendar that represents the start date of a date range\n  endCalendar        : null,       // jquery object or selector for another calendar that represents the end date of a date range\n  multiMonth         : 1,          // show multiple months when in 'day' mode\n  minTimeGap         : 5,\n  showWeekNumbers    : null,       // show Number of Week at the very first column of a dayView\n  disabledDates      : [],         // specific day(s) which won't be selectable and contain additional information.\n  disabledDaysOfWeek : [],         // day(s) which won't be selectable(s) (0 = Sunday)\n  enabledDates       : [],         // specific day(s) which will be selectable, all other days will be disabled\n  eventDates         : [],         // specific day(s) which will be shown in a different color and using tooltips\n  centuryBreak       : 60,         // starting short year until 99 where it will be assumed to belong to the last century\n  currentCentury     : 2000,       // century to be added to 2-digit years (00 to {centuryBreak}-1)\n  selectAdjacentDays : false,     // The calendar can show dates from adjacent month. These adjacent month dates can also be made selectable.\n  // popup options ('popup', 'on', 'hoverable', and show/hide callbacks are overridden)\n  popupOptions: {\n    position: 'bottom left',\n    lastResort: 'bottom left',\n    prefer: 'opposite',\n    hideOnScroll: false\n  },\n\n  text: {\n    days: ['S', 'M', 'T', 'W', 'T', 'F', 'S'],\n    months: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],\n    monthsShort: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\n    today: 'Today',\n    now: 'Now',\n    am: 'AM',\n    pm: 'PM',\n    weekNo: 'Week'\n  },\n\n  formatter: {\n    header: function (date, mode, settings) {\n      return mode === 'year' ? settings.formatter.yearHeader(date, settings) :\n        mode === 'month' ? settings.formatter.monthHeader(date, settings) :\n          mode === 'day' ? settings.formatter.dayHeader(date, settings) :\n            mode === 'hour' ? settings.formatter.hourHeader(date, settings) :\n              settings.formatter.minuteHeader(date, settings);\n    },\n    yearHeader: function (date, settings) {\n      var decadeYear = Math.ceil(date.getFullYear() / 10) * 10;\n      return (decadeYear - 9) + ' - ' + (decadeYear + 2);\n    },\n    monthHeader: function (date, settings) {\n      return date.getFullYear();\n    },\n    dayHeader: function (date, settings) {\n      var month = settings.text.months[date.getMonth()];\n      var year = date.getFullYear();\n      return month + ' ' + year;\n    },\n    hourHeader: function (date, settings) {\n      return settings.formatter.date(date, settings);\n    },\n    minuteHeader: function (date, settings) {\n      return settings.formatter.date(date, settings);\n    },\n    dayColumnHeader: function (day, settings) {\n      return settings.text.days[day];\n    },\n    datetime: function (date, settings) {\n      if (!date) {\n        return '';\n      }\n      var day = settings.type === 'time' ? '' : settings.formatter.date(date, settings);\n      var time = settings.type.indexOf('time') < 0 ? '' : settings.formatter.time(date, settings, false);\n      var separator = settings.type === 'datetime' ? ' ' : '';\n      return day + separator + time;\n    },\n    date: function (date, settings) {\n      if (!date) {\n        return '';\n      }\n      var day = date.getDate();\n      var month = settings.text.months[date.getMonth()];\n      var year = date.getFullYear();\n      return settings.type === 'year' ? year :\n        settings.type === 'month' ? month + ' ' + year :\n        (settings.monthFirst ? month + ' ' + day : day + ' ' + month) + ', ' + year;\n    },\n    time: function (date, settings, forCalendar) {\n      if (!date) {\n        return '';\n      }\n      var hour = date.getHours();\n      var minute = date.getMinutes();\n      var ampm = '';\n      if (settings.ampm) {\n        ampm = ' ' + (hour < 12 ? settings.text.am : settings.text.pm);\n        hour = hour === 0 ? 12 : hour > 12 ? hour - 12 : hour;\n      }\n      return hour + ':' + (minute < 10 ? '0' : '') + minute + ampm;\n    },\n    today: function (settings) {\n      return settings.type === 'date' ? settings.text.today : settings.text.now;\n    },\n    cell: function (cell, date, cellOptions) {\n    }\n  },\n\n  parser: {\n    date: function (text, settings) {\n      if (text instanceof Date) {\n        return text;\n      }\n      if (!text) {\n        return null;\n      }\n      text = String(text).trim();\n      if (text.length === 0) {\n        return null;\n      }\n      if(text.match(/^[0-9]{4}[\\/\\-\\.][0-9]{1,2}[\\/\\-\\.][0-9]{1,2}$/)){\n        text = text.replace(/[\\/\\-\\.]/g,'/') + ' 00:00:00';\n      }\n      // Reverse date and month in some cases\n      text = settings.monthFirst || !text.match(/^[0-9]{1,2}[\\/\\-\\.]/) ? text : text.replace(/[\\/\\-\\.]/g,'/').replace(/([0-9]+)\\/([0-9]+)/,'$2/$1');\n      var textDate = new Date(text);\n      var numberOnly = text.match(/^[0-9]+$/) !== null;\n      if(!numberOnly && !isNaN(textDate.getDate())) {\n        return textDate;\n      }\n      text = text.toLowerCase();\n\n      var i, j, k;\n      var minute = -1, hour = -1, day = -1, month = -1, year = -1;\n      var isAm = undefined;\n\n      var isTimeOnly = settings.type === 'time';\n      var isDateOnly = settings.type.indexOf('time') < 0;\n\n      var words = text.split(settings.regExp.dateWords), word;\n      var numbers = text.split(settings.regExp.dateNumbers), number;\n\n      var parts;\n      var monthString;\n\n      if (!isDateOnly) {\n        //am/pm\n        isAm = $.inArray(settings.text.am.toLowerCase(), words) >= 0 ? true :\n          $.inArray(settings.text.pm.toLowerCase(), words) >= 0 ? false : undefined;\n\n        //time with ':'\n        for (i = 0; i < numbers.length; i++) {\n          number = numbers[i];\n          if (number.indexOf(':') >= 0) {\n            if (hour < 0 || minute < 0) {\n              parts = number.split(':');\n              for (k = 0; k < Math.min(2, parts.length); k++) {\n                j = parseInt(parts[k]);\n                if (isNaN(j)) {\n                  j = 0;\n                }\n                if (k === 0) {\n                  hour = j % 24;\n                } else {\n                  minute = j % 60;\n                }\n              }\n            }\n            numbers.splice(i, 1);\n          }\n        }\n      }\n\n      if (!isTimeOnly) {\n        //textual month\n        for (i = 0; i < words.length; i++) {\n          word = words[i];\n          if (word.length <= 0) {\n            continue;\n          }\n          for (j = 0; j < settings.text.months.length; j++) {\n            monthString = settings.text.months[j];\n            monthString = monthString.substring(0, word.length).toLowerCase();\n            if (monthString === word) {\n              month = j + 1;\n              break;\n            }\n          }\n          if (month >= 0) {\n            break;\n          }\n        }\n\n        //year > settings.centuryBreak\n        for (i = 0; i < numbers.length; i++) {\n          j = parseInt(numbers[i]);\n          if (isNaN(j)) {\n            continue;\n          }\n          if (j >= settings.centuryBreak && i === numbers.length-1) {\n            if (j <= 99) {\n              j += settings.currentCentury - 100;\n            }\n            year = j;\n            numbers.splice(i, 1);\n            break;\n          }\n        }\n\n        //numeric month\n        if (month < 0) {\n          for (i = 0; i < numbers.length; i++) {\n            k = i > 1 || settings.monthFirst ? i : i === 1 ? 0 : 1;\n            j = parseInt(numbers[k]);\n            if (isNaN(j)) {\n              continue;\n            }\n            if (1 <= j && j <= 12) {\n              month = j;\n              numbers.splice(k, 1);\n              break;\n            }\n          }\n        }\n\n        //day\n        for (i = 0; i < numbers.length; i++) {\n          j = parseInt(numbers[i]);\n          if (isNaN(j)) {\n            continue;\n          }\n          if (1 <= j && j <= 31) {\n            day = j;\n            numbers.splice(i, 1);\n            break;\n          }\n        }\n\n        //year <= settings.centuryBreak\n        if (year < 0) {\n          for (i = numbers.length - 1; i >= 0; i--) {\n            j = parseInt(numbers[i]);\n            if (isNaN(j)) {\n              continue;\n            }\n            if (j <= 99) {\n              j += settings.currentCentury;\n            }\n            year = j;\n            numbers.splice(i, 1);\n            break;\n          }\n        }\n      }\n\n      if (!isDateOnly) {\n        //hour\n        if (hour < 0) {\n          for (i = 0; i < numbers.length; i++) {\n            j = parseInt(numbers[i]);\n            if (isNaN(j)) {\n              continue;\n            }\n            if (0 <= j && j <= 23) {\n              hour = j;\n              numbers.splice(i, 1);\n              break;\n            }\n          }\n        }\n\n        //minute\n        if (minute < 0) {\n          for (i = 0; i < numbers.length; i++) {\n            j = parseInt(numbers[i]);\n            if (isNaN(j)) {\n              continue;\n            }\n            if (0 <= j && j <= 59) {\n              minute = j;\n              numbers.splice(i, 1);\n              break;\n            }\n          }\n        }\n      }\n\n      if (minute < 0 && hour < 0 && day < 0 && month < 0 && year < 0) {\n        return null;\n      }\n\n      if (minute < 0) {\n        minute = 0;\n      }\n      if (hour < 0) {\n        hour = 0;\n      }\n      if (day < 0) {\n        day = 1;\n      }\n      if (month < 0) {\n        month = 1;\n      }\n      if (year < 0) {\n        year = new Date().getFullYear();\n      }\n\n      if (isAm !== undefined) {\n        if (isAm) {\n          if (hour === 12) {\n            hour = 0;\n          }\n        } else if (hour < 12) {\n          hour += 12;\n        }\n      }\n\n      var date = new Date(year, month - 1, day, hour, minute);\n      if (date.getMonth() !== month - 1 || date.getFullYear() !== year) {\n        //month or year don't match up, switch to last day of the month\n        date = new Date(year, month, 0, hour, minute);\n      }\n      return isNaN(date.getTime()) ? null : date;\n    }\n  },\n\n  // callback before date is changed, return false to cancel the change\n  onBeforeChange: function (date, text, mode) {\n    return true;\n  },\n\n  // callback when date changes\n  onChange: function (date, text, mode) {\n  },\n\n  // callback before show animation, return false to prevent show\n  onShow: function () {\n  },\n\n  // callback after show animation\n  onVisible: function () {\n  },\n\n  // callback before hide animation, return false to prevent hide\n  onHide: function () {\n  },\n\n  // callback after hide animation\n  onHidden: function () {\n  },\n\n  // callback before item is selected, return false to prevent selection\n  onSelect: function (date, mode) {\n  },\n\n  // is the given date disabled?\n  isDisabled: function (date, mode) {\n    return false;\n  },\n\n  selector: {\n    popup: '.ui.popup',\n    input: 'input',\n    activator: 'input',\n    append: '.inline.field,.inline.fields'\n  },\n\n  regExp: {\n    dateWords: /[^A-Za-z\\u00C0-\\u024F]+/g,\n    dateNumbers: /[^\\d:]+/g\n  },\n\n  error: {\n    popup: 'UI Popup, a required component is not included in this page',\n    method: 'The method you called is not defined.'\n  },\n\n  className: {\n    calendar: 'calendar',\n    active: 'active',\n    popup: 'ui popup',\n    grid: 'ui equal width grid',\n    column: 'column',\n    table: 'ui celled center aligned unstackable table',\n    inverted: 'inverted',\n    prev: 'prev link',\n    next: 'next link',\n    prevIcon: 'chevron left icon',\n    nextIcon: 'chevron right icon',\n    link: 'link',\n    cell: 'link',\n    disabledCell: 'disabled',\n    weekCell: 'disabled',\n    adjacentCell: 'adjacent',\n    activeCell: 'active',\n    rangeCell: 'range',\n    focusCell: 'focus',\n    todayCell: 'today',\n    today: 'today link',\n    disabled: 'disabled'\n  },\n\n  metadata: {\n    date: 'date',\n    focusDate: 'focusDate',\n    startDate: 'startDate',\n    endDate: 'endDate',\n    minDate: 'minDate',\n    maxDate: 'maxDate',\n    mode: 'mode',\n    type: 'type',\n    monthOffset: 'monthOffset',\n    message: 'message',\n    class: 'class',\n    inverted: 'inverted',\n    variation: 'variation',\n    position: 'position',\n    month: 'month',\n    year: 'year'\n  },\n\n  eventClass: 'blue'\n};\n\n})(jQuery, window, document);\n\n/*!\n * # Fomantic-UI 2.8.8 - Checkbox\n * http://github.com/fomantic/Fomantic-UI/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n'use strict';\n\n$.isFunction = $.isFunction || function(obj) {\n  return typeof obj === \"function\" && typeof obj.nodeType !== \"number\";\n};\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\n$.fn.checkbox = function(parameters) {\n  var\n    $allModules    = $(this),\n    moduleSelector = $allModules.selector || '',\n\n    time           = new Date().getTime(),\n    performance    = [],\n\n    query          = arguments[0],\n    methodInvoked  = (typeof query == 'string'),\n    queryArguments = [].slice.call(arguments, 1),\n    returnedValue\n  ;\n\n  $allModules\n    .each(function() {\n      var\n        settings        = $.extend(true, {}, $.fn.checkbox.settings, parameters),\n\n        className       = settings.className,\n        namespace       = settings.namespace,\n        selector        = settings.selector,\n        error           = settings.error,\n\n        eventNamespace  = '.' + namespace,\n        moduleNamespace = 'module-' + namespace,\n\n        $module         = $(this),\n        $label          = $(this).children(selector.label),\n        $input          = $(this).children(selector.input),\n        input           = $input[0],\n\n        initialLoad     = false,\n        shortcutPressed = false,\n        instance        = $module.data(moduleNamespace),\n\n        observer,\n        element         = this,\n        module\n      ;\n\n      module      = {\n\n        initialize: function() {\n          module.verbose('Initializing checkbox', settings);\n\n          module.create.label();\n          module.bind.events();\n\n          module.set.tabbable();\n          module.hide.input();\n\n          module.observeChanges();\n          module.instantiate();\n          module.setup();\n        },\n\n        instantiate: function() {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module\n            .data(moduleNamespace, module)\n          ;\n        },\n\n        destroy: function() {\n          module.verbose('Destroying module');\n          module.unbind.events();\n          module.show.input();\n          $module.removeData(moduleNamespace);\n        },\n\n        fix: {\n          reference: function() {\n            if( $module.is(selector.input) ) {\n              module.debug('Behavior called on <input> adjusting invoked element');\n              $module = $module.closest(selector.checkbox);\n              module.refresh();\n            }\n          }\n        },\n\n        setup: function() {\n          module.set.initialLoad();\n          if( module.is.indeterminate() ) {\n            module.debug('Initial value is indeterminate');\n            module.indeterminate();\n          }\n          else if( module.is.checked() ) {\n            module.debug('Initial value is checked');\n            module.check();\n          }\n          else {\n            module.debug('Initial value is unchecked');\n            module.uncheck();\n          }\n          module.remove.initialLoad();\n        },\n\n        refresh: function() {\n          $label = $module.children(selector.label);\n          $input = $module.children(selector.input);\n          input  = $input[0];\n        },\n\n        hide: {\n          input: function() {\n            module.verbose('Modifying <input> z-index to be unselectable');\n            $input.addClass(className.hidden);\n          }\n        },\n        show: {\n          input: function() {\n            module.verbose('Modifying <input> z-index to be selectable');\n            $input.removeClass(className.hidden);\n          }\n        },\n\n        observeChanges: function() {\n          if('MutationObserver' in window) {\n            observer = new MutationObserver(function(mutations) {\n              module.debug('DOM tree modified, updating selector cache');\n              module.refresh();\n            });\n            observer.observe(element, {\n              childList : true,\n              subtree   : true\n            });\n            module.debug('Setting up mutation observer', observer);\n          }\n        },\n\n        attachEvents: function(selector, event) {\n          var\n            $element = $(selector)\n          ;\n          event = $.isFunction(module[event])\n            ? module[event]\n            : module.toggle\n          ;\n          if($element.length > 0) {\n            module.debug('Attaching checkbox events to element', selector, event);\n            $element\n              .on('click' + eventNamespace, event)\n            ;\n          }\n          else {\n            module.error(error.notFound);\n          }\n        },\n\n        preventDefaultOnInputTarget: function() {\n          if(typeof event !== 'undefined' && event !== null && $(event.target).is(selector.input)) {\n            module.verbose('Preventing default check action after manual check action');\n            event.preventDefault();\n          }\n        },\n\n        event: {\n          change: function(event) {\n            if( !module.should.ignoreCallbacks() ) {\n              settings.onChange.call(input);\n            }\n          },\n          click: function(event) {\n            var\n              $target = $(event.target)\n            ;\n            if( $target.is(selector.input) ) {\n              module.verbose('Using default check action on initialized checkbox');\n              return;\n            }\n            if( $target.is(selector.link) ) {\n              module.debug('Clicking link inside checkbox, skipping toggle');\n              return;\n            }\n            module.toggle();\n            $input.focus();\n            event.preventDefault();\n          },\n          keydown: function(event) {\n            var\n              key     = event.which,\n              keyCode = {\n                enter  : 13,\n                space  : 32,\n                escape : 27,\n                left   : 37,\n                up     : 38,\n                right  : 39,\n                down   : 40\n              }\n            ;\n\n            var r = module.get.radios(),\n                rIndex = r.index($module),\n                rLen = r.length,\n                checkIndex = false;\n\n            if(key == keyCode.left || key == keyCode.up) {\n              checkIndex = (rIndex === 0 ? rLen : rIndex) - 1;\n            } else if(key == keyCode.right || key == keyCode.down) {\n              checkIndex = rIndex === rLen-1 ? 0 : rIndex+1;\n            }\n\n            if (!module.should.ignoreCallbacks() && checkIndex !== false) {\n              if(settings.beforeUnchecked.apply(input)===false) {\n                module.verbose('Option not allowed to be unchecked, cancelling key navigation');\n                return false;\n              }\n              if (settings.beforeChecked.apply($(r[checkIndex]).children(selector.input)[0])===false) {\n                module.verbose('Next option should not allow check, cancelling key navigation');\n                return false;\n              }\n            }\n\n            if(key == keyCode.escape) {\n              module.verbose('Escape key pressed blurring field');\n              $input.blur();\n              shortcutPressed = true;\n            }\n            else if(!event.ctrlKey && ( key == keyCode.space || (key == keyCode.enter && settings.enableEnterKey)) ) {\n              module.verbose('Enter/space key pressed, toggling checkbox');\n              module.toggle();\n              shortcutPressed = true;\n            }\n            else {\n              shortcutPressed = false;\n            }\n          },\n          keyup: function(event) {\n            if(shortcutPressed) {\n              event.preventDefault();\n            }\n          }\n        },\n\n        check: function() {\n          if( !module.should.allowCheck() ) {\n            return;\n          }\n          module.debug('Checking checkbox', $input);\n          module.set.checked();\n          if( !module.should.ignoreCallbacks() ) {\n            settings.onChecked.call(input);\n            module.trigger.change();\n          }\n          module.preventDefaultOnInputTarget();\n        },\n\n        uncheck: function() {\n          if( !module.should.allowUncheck() ) {\n            return;\n          }\n          module.debug('Unchecking checkbox');\n          module.set.unchecked();\n          if( !module.should.ignoreCallbacks() ) {\n            settings.onUnchecked.call(input);\n            module.trigger.change();\n          }\n          module.preventDefaultOnInputTarget();\n        },\n\n        indeterminate: function() {\n          if( module.should.allowIndeterminate() ) {\n            module.debug('Checkbox is already indeterminate');\n            return;\n          }\n          module.debug('Making checkbox indeterminate');\n          module.set.indeterminate();\n          if( !module.should.ignoreCallbacks() ) {\n            settings.onIndeterminate.call(input);\n            module.trigger.change();\n          }\n        },\n\n        determinate: function() {\n          if( module.should.allowDeterminate() ) {\n            module.debug('Checkbox is already determinate');\n            return;\n          }\n          module.debug('Making checkbox determinate');\n          module.set.determinate();\n          if( !module.should.ignoreCallbacks() ) {\n            settings.onDeterminate.call(input);\n            module.trigger.change();\n          }\n        },\n\n        enable: function() {\n          if( module.is.enabled() ) {\n            module.debug('Checkbox is already enabled');\n            return;\n          }\n          module.debug('Enabling checkbox');\n          module.set.enabled();\n          if( !module.should.ignoreCallbacks() ) {\n            settings.onEnable.call(input);\n            // preserve legacy callbacks\n            settings.onEnabled.call(input);\n            module.trigger.change();\n          }\n        },\n\n        disable: function() {\n          if( module.is.disabled() ) {\n            module.debug('Checkbox is already disabled');\n            return;\n          }\n          module.debug('Disabling checkbox');\n          module.set.disabled();\n          if( !module.should.ignoreCallbacks() ) {\n            settings.onDisable.call(input);\n            // preserve legacy callbacks\n            settings.onDisabled.call(input);\n            module.trigger.change();\n          }\n        },\n\n        get: {\n          radios: function() {\n            var\n              name = module.get.name()\n            ;\n            return $('input[name=\"' + name + '\"]').closest(selector.checkbox);\n          },\n          otherRadios: function() {\n            return module.get.radios().not($module);\n          },\n          name: function() {\n            return $input.attr('name');\n          }\n        },\n\n        is: {\n          initialLoad: function() {\n            return initialLoad;\n          },\n          radio: function() {\n            return ($input.hasClass(className.radio) || $input.attr('type') == 'radio');\n          },\n          indeterminate: function() {\n            return $input.prop('indeterminate') !== undefined && $input.prop('indeterminate');\n          },\n          checked: function() {\n            return $input.prop('checked') !== undefined && $input.prop('checked');\n          },\n          disabled: function() {\n            return $input.prop('disabled') !== undefined && $input.prop('disabled');\n          },\n          enabled: function() {\n            return !module.is.disabled();\n          },\n          determinate: function() {\n            return !module.is.indeterminate();\n          },\n          unchecked: function() {\n            return !module.is.checked();\n          }\n        },\n\n        should: {\n          allowCheck: function() {\n            if(module.is.determinate() && module.is.checked() && !module.is.initialLoad() ) {\n              module.debug('Should not allow check, checkbox is already checked');\n              return false;\n            }\n            if(!module.should.ignoreCallbacks() && settings.beforeChecked.apply(input) === false) {\n              module.debug('Should not allow check, beforeChecked cancelled');\n              return false;\n            }\n            return true;\n          },\n          allowUncheck: function() {\n            if(module.is.determinate() && module.is.unchecked() && !module.is.initialLoad() ) {\n              module.debug('Should not allow uncheck, checkbox is already unchecked');\n              return false;\n            }\n            if(!module.should.ignoreCallbacks() && settings.beforeUnchecked.apply(input) === false) {\n              module.debug('Should not allow uncheck, beforeUnchecked cancelled');\n              return false;\n            }\n            return true;\n          },\n          allowIndeterminate: function() {\n            if(module.is.indeterminate() && !module.is.initialLoad() ) {\n              module.debug('Should not allow indeterminate, checkbox is already indeterminate');\n              return false;\n            }\n            if(!module.should.ignoreCallbacks() && settings.beforeIndeterminate.apply(input) === false) {\n              module.debug('Should not allow indeterminate, beforeIndeterminate cancelled');\n              return false;\n            }\n            return true;\n          },\n          allowDeterminate: function() {\n            if(module.is.determinate() && !module.is.initialLoad() ) {\n              module.debug('Should not allow determinate, checkbox is already determinate');\n              return false;\n            }\n            if(!module.should.ignoreCallbacks() && settings.beforeDeterminate.apply(input) === false) {\n              module.debug('Should not allow determinate, beforeDeterminate cancelled');\n              return false;\n            }\n            return true;\n          },\n          ignoreCallbacks: function() {\n            return (initialLoad && !settings.fireOnInit);\n          }\n        },\n\n        can: {\n          change: function() {\n            return !( $module.hasClass(className.disabled) || $module.hasClass(className.readOnly) || $input.prop('disabled') || $input.prop('readonly') );\n          },\n          uncheck: function() {\n            return (typeof settings.uncheckable === 'boolean')\n              ? settings.uncheckable\n              : !module.is.radio()\n            ;\n          }\n        },\n\n        set: {\n          initialLoad: function() {\n            initialLoad = true;\n          },\n          checked: function() {\n            module.verbose('Setting class to checked');\n            $module\n              .removeClass(className.indeterminate)\n              .addClass(className.checked)\n            ;\n            if( module.is.radio() ) {\n              module.uncheckOthers();\n            }\n            if(!module.is.indeterminate() && module.is.checked()) {\n              module.debug('Input is already checked, skipping input property change');\n              return;\n            }\n            module.verbose('Setting state to checked', input);\n            $input\n              .prop('indeterminate', false)\n              .prop('checked', true)\n            ;\n          },\n          unchecked: function() {\n            module.verbose('Removing checked class');\n            $module\n              .removeClass(className.indeterminate)\n              .removeClass(className.checked)\n            ;\n            if(!module.is.indeterminate() &&  module.is.unchecked() ) {\n              module.debug('Input is already unchecked');\n              return;\n            }\n            module.debug('Setting state to unchecked');\n            $input\n              .prop('indeterminate', false)\n              .prop('checked', false)\n            ;\n          },\n          indeterminate: function() {\n            module.verbose('Setting class to indeterminate');\n            $module\n              .addClass(className.indeterminate)\n            ;\n            if( module.is.indeterminate() ) {\n              module.debug('Input is already indeterminate, skipping input property change');\n              return;\n            }\n            module.debug('Setting state to indeterminate');\n            $input\n              .prop('indeterminate', true)\n            ;\n          },\n          determinate: function() {\n            module.verbose('Removing indeterminate class');\n            $module\n              .removeClass(className.indeterminate)\n            ;\n            if( module.is.determinate() ) {\n              module.debug('Input is already determinate, skipping input property change');\n              return;\n            }\n            module.debug('Setting state to determinate');\n            $input\n              .prop('indeterminate', false)\n            ;\n          },\n          disabled: function() {\n            module.verbose('Setting class to disabled');\n            $module\n              .addClass(className.disabled)\n            ;\n            if( module.is.disabled() ) {\n              module.debug('Input is already disabled, skipping input property change');\n              return;\n            }\n            module.debug('Setting state to disabled');\n            $input\n              .prop('disabled', 'disabled')\n            ;\n          },\n          enabled: function() {\n            module.verbose('Removing disabled class');\n            $module.removeClass(className.disabled);\n            if( module.is.enabled() ) {\n              module.debug('Input is already enabled, skipping input property change');\n              return;\n            }\n            module.debug('Setting state to enabled');\n            $input\n              .prop('disabled', false)\n            ;\n          },\n          tabbable: function() {\n            module.verbose('Adding tabindex to checkbox');\n            if( $input.attr('tabindex') === undefined) {\n              $input.attr('tabindex', 0);\n            }\n          }\n        },\n\n        remove: {\n          initialLoad: function() {\n            initialLoad = false;\n          }\n        },\n\n        trigger: {\n          change: function() {\n            var\n              inputElement = $input[0]\n            ;\n            if(inputElement) {\n              var events = document.createEvent('HTMLEvents');\n              module.verbose('Triggering native change event');\n              events.initEvent('change', true, false);\n              inputElement.dispatchEvent(events);\n            }\n          }\n        },\n\n\n        create: {\n          label: function() {\n            if($input.prevAll(selector.label).length > 0) {\n              $input.prev(selector.label).detach().insertAfter($input);\n              module.debug('Moving existing label', $label);\n            }\n            else if( !module.has.label() ) {\n              $label = $('<label>').insertAfter($input);\n              module.debug('Creating label', $label);\n            }\n          }\n        },\n\n        has: {\n          label: function() {\n            return ($label.length > 0);\n          }\n        },\n\n        bind: {\n          events: function() {\n            module.verbose('Attaching checkbox events');\n            $module\n              .on('click'   + eventNamespace, module.event.click)\n              .on('change'  + eventNamespace, module.event.change)\n              .on('keydown' + eventNamespace, selector.input, module.event.keydown)\n              .on('keyup'   + eventNamespace, selector.input, module.event.keyup)\n            ;\n          }\n        },\n\n        unbind: {\n          events: function() {\n            module.debug('Removing events');\n            $module\n              .off(eventNamespace)\n            ;\n          }\n        },\n\n        uncheckOthers: function() {\n          var\n            $radios = module.get.otherRadios()\n          ;\n          module.debug('Unchecking other radios', $radios);\n          $radios.removeClass(className.checked);\n        },\n\n        toggle: function() {\n          if( !module.can.change() ) {\n            if(!module.is.radio()) {\n              module.debug('Checkbox is read-only or disabled, ignoring toggle');\n            }\n            return;\n          }\n          if( module.is.indeterminate() || module.is.unchecked() ) {\n            module.debug('Currently unchecked');\n            module.check();\n          }\n          else if( module.is.checked() && module.can.uncheck() ) {\n            module.debug('Currently checked');\n            module.uncheck();\n          }\n        },\n        setting: function(name, value) {\n          module.debug('Changing setting', name, value);\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            if($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            }\n            else {\n              settings[name] = value;\n            }\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n          if ( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if(Array.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      };\n\n      if(methodInvoked) {\n        if(instance === undefined) {\n          module.initialize();\n        }\n        module.invoke(query);\n      }\n      else {\n        if(instance !== undefined) {\n          instance.invoke('destroy');\n        }\n        module.initialize();\n      }\n    })\n  ;\n\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n$.fn.checkbox.settings = {\n\n  name                : 'Checkbox',\n  namespace           : 'checkbox',\n\n  silent              : false,\n  debug               : false,\n  verbose             : true,\n  performance         : true,\n\n  // delegated event context\n  uncheckable         : 'auto',\n  fireOnInit          : false,\n  enableEnterKey      : true,\n\n  onChange            : function(){},\n\n  beforeChecked       : function(){},\n  beforeUnchecked     : function(){},\n  beforeDeterminate   : function(){},\n  beforeIndeterminate : function(){},\n\n  onChecked           : function(){},\n  onUnchecked         : function(){},\n\n  onDeterminate       : function() {},\n  onIndeterminate     : function() {},\n\n  onEnable            : function(){},\n  onDisable           : function(){},\n\n  // preserve misspelled callbacks (will be removed in 3.0)\n  onEnabled           : function(){},\n  onDisabled          : function(){},\n\n  className       : {\n    checked       : 'checked',\n    indeterminate : 'indeterminate',\n    disabled      : 'disabled',\n    hidden        : 'hidden',\n    radio         : 'radio',\n    readOnly      : 'read-only'\n  },\n\n  error     : {\n    method       : 'The method you called is not defined'\n  },\n\n  selector : {\n    checkbox : '.ui.checkbox',\n    label    : 'label, .box',\n    input    : 'input[type=\"checkbox\"], input[type=\"radio\"]',\n    link     : 'a[href]'\n  }\n\n};\n\n})( jQuery, window, document );\n\n/*!\n * # Fomantic-UI 2.8.8 - Dimmer\n * http://github.com/fomantic/Fomantic-UI/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n'use strict';\n\n$.isFunction = $.isFunction || function(obj) {\n  return typeof obj === \"function\" && typeof obj.nodeType !== \"number\";\n};\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\n$.fn.dimmer = function(parameters) {\n  var\n    $allModules     = $(this),\n\n    time            = new Date().getTime(),\n    performance     = [],\n\n    query           = arguments[0],\n    methodInvoked   = (typeof query == 'string'),\n    queryArguments  = [].slice.call(arguments, 1),\n\n    returnedValue\n  ;\n\n  $allModules\n    .each(function() {\n      var\n        settings        = ( $.isPlainObject(parameters) )\n          ? $.extend(true, {}, $.fn.dimmer.settings, parameters)\n          : $.extend({}, $.fn.dimmer.settings),\n\n        selector        = settings.selector,\n        namespace       = settings.namespace,\n        className       = settings.className,\n        error           = settings.error,\n\n        eventNamespace  = '.' + namespace,\n        moduleNamespace = 'module-' + namespace,\n        moduleSelector  = $allModules.selector || '',\n\n        clickEvent      = ('ontouchstart' in document.documentElement)\n          ? 'touchstart'\n          : 'click',\n\n        $module = $(this),\n        $dimmer,\n        $dimmable,\n\n        element   = this,\n        instance  = $module.data(moduleNamespace),\n        module\n      ;\n\n      module = {\n\n        preinitialize: function() {\n          if( module.is.dimmer() ) {\n\n            $dimmable = $module.parent();\n            $dimmer   = $module;\n          }\n          else {\n            $dimmable = $module;\n            if( module.has.dimmer() ) {\n              if(settings.dimmerName) {\n                $dimmer = $dimmable.find(selector.dimmer).filter('.' + settings.dimmerName);\n              }\n              else {\n                $dimmer = $dimmable.find(selector.dimmer);\n              }\n            }\n            else {\n              $dimmer = module.create();\n            }\n          }\n        },\n\n        initialize: function() {\n          module.debug('Initializing dimmer', settings);\n\n          module.bind.events();\n          module.set.dimmable();\n          module.instantiate();\n        },\n\n        instantiate: function() {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module\n            .data(moduleNamespace, instance)\n          ;\n        },\n\n        destroy: function() {\n          module.verbose('Destroying previous module', $dimmer);\n          module.unbind.events();\n          module.remove.variation();\n          $dimmable\n            .off(eventNamespace)\n          ;\n        },\n\n        bind: {\n          events: function() {\n            if(settings.on == 'hover') {\n              $dimmable\n                .on('mouseenter' + eventNamespace, module.show)\n                .on('mouseleave' + eventNamespace, module.hide)\n              ;\n            }\n            else if(settings.on == 'click') {\n              $dimmable\n                .on(clickEvent + eventNamespace, module.toggle)\n              ;\n            }\n            if( module.is.page() ) {\n              module.debug('Setting as a page dimmer', $dimmable);\n              module.set.pageDimmer();\n            }\n\n            if( module.is.closable() ) {\n              module.verbose('Adding dimmer close event', $dimmer);\n              $dimmable\n                .on(clickEvent + eventNamespace, selector.dimmer, module.event.click)\n              ;\n            }\n          }\n        },\n\n        unbind: {\n          events: function() {\n            $module\n              .removeData(moduleNamespace)\n            ;\n            $dimmable\n              .off(eventNamespace)\n            ;\n          }\n        },\n\n        event: {\n          click: function(event) {\n            module.verbose('Determining if event occurred on dimmer', event);\n            if( $dimmer.find(event.target).length === 0 || $(event.target).is(selector.content) ) {\n              module.hide();\n              event.stopImmediatePropagation();\n            }\n          }\n        },\n\n        addContent: function(element) {\n          var\n            $content = $(element)\n          ;\n          module.debug('Add content to dimmer', $content);\n          if($content.parent()[0] !== $dimmer[0]) {\n            $content.detach().appendTo($dimmer);\n          }\n        },\n\n        create: function() {\n          var\n            $element = $( settings.template.dimmer(settings) )\n          ;\n          if(settings.dimmerName) {\n            module.debug('Creating named dimmer', settings.dimmerName);\n            $element.addClass(settings.dimmerName);\n          }\n          $element\n            .appendTo($dimmable)\n          ;\n          return $element;\n        },\n\n        show: function(callback) {\n          callback = $.isFunction(callback)\n            ? callback\n            : function(){}\n          ;\n          module.debug('Showing dimmer', $dimmer, settings);\n          module.set.variation();\n          if( (!module.is.dimmed() || module.is.animating()) && module.is.enabled() ) {\n            module.animate.show(callback);\n            settings.onShow.call(element);\n            settings.onChange.call(element);\n          }\n          else {\n            module.debug('Dimmer is already shown or disabled');\n          }\n        },\n\n        hide: function(callback) {\n          callback = $.isFunction(callback)\n            ? callback\n            : function(){}\n          ;\n          if( module.is.dimmed() || module.is.animating() ) {\n            module.debug('Hiding dimmer', $dimmer);\n            module.animate.hide(callback);\n            settings.onHide.call(element);\n            settings.onChange.call(element);\n          }\n          else {\n            module.debug('Dimmer is not visible');\n          }\n        },\n\n        toggle: function() {\n          module.verbose('Toggling dimmer visibility', $dimmer);\n          if( !module.is.dimmed() ) {\n            module.show();\n          }\n          else {\n            if ( module.is.closable() ) {\n              module.hide();\n            }\n          }\n        },\n\n        animate: {\n          show: function(callback) {\n            callback = $.isFunction(callback)\n              ? callback\n              : function(){}\n            ;\n            if(settings.useCSS && $.fn.transition !== undefined && $dimmer.transition('is supported')) {\n              if(settings.useFlex) {\n                module.debug('Using flex dimmer');\n                module.remove.legacy();\n              }\n              else {\n                module.debug('Using legacy non-flex dimmer');\n                module.set.legacy();\n              }\n              if(settings.opacity !== 'auto') {\n                module.set.opacity();\n              }\n              $dimmer\n                .transition({\n                  displayType : settings.useFlex\n                    ? 'flex'\n                    : 'block',\n                  animation   : (settings.transition.showMethod || settings.transition) + ' in',\n                  queue       : false,\n                  duration    : module.get.duration(),\n                  useFailSafe : true,\n                  onStart     : function() {\n                    module.set.dimmed();\n                  },\n                  onComplete  : function() {\n                    module.set.active();\n                    callback();\n                  }\n                })\n              ;\n            }\n            else {\n              module.verbose('Showing dimmer animation with javascript');\n              module.set.dimmed();\n              if(settings.opacity == 'auto') {\n                settings.opacity = 0.8;\n              }\n              $dimmer\n                .stop()\n                .css({\n                  opacity : 0,\n                  width   : '100%',\n                  height  : '100%'\n                })\n                .fadeTo(module.get.duration(), settings.opacity, function() {\n                  $dimmer.removeAttr('style');\n                  module.set.active();\n                  callback();\n                })\n              ;\n            }\n          },\n          hide: function(callback) {\n            callback = $.isFunction(callback)\n              ? callback\n              : function(){}\n            ;\n            if(settings.useCSS && $.fn.transition !== undefined && $dimmer.transition('is supported')) {\n              module.verbose('Hiding dimmer with css');\n              $dimmer\n                .transition({\n                  displayType : settings.useFlex\n                    ? 'flex'\n                    : 'block',\n                  animation   : (settings.transition.hideMethod || settings.transition) + ' out',\n                  queue       : false,\n                  duration    : module.get.duration(),\n                  useFailSafe : true,\n                  onComplete  : function() {\n                    module.remove.dimmed();\n                    module.remove.variation();\n                    module.remove.active();\n                    callback();\n                  }\n                })\n              ;\n            }\n            else {\n              module.verbose('Hiding dimmer with javascript');\n              $dimmer\n                .stop()\n                .fadeOut(module.get.duration(), function() {\n                  module.remove.dimmed();\n                  module.remove.active();\n                  $dimmer.removeAttr('style');\n                  callback();\n                })\n              ;\n            }\n          }\n        },\n\n        get: {\n          dimmer: function() {\n            return $dimmer;\n          },\n          duration: function() {\n            if( module.is.active() ) {\n              return settings.transition.hideDuration || settings.duration.hide || settings.duration;\n            }\n            else {\n              return settings.transition.showDuration || settings.duration.show || settings.duration;\n            }\n          }\n        },\n\n        has: {\n          dimmer: function() {\n            if(settings.dimmerName) {\n              return ($module.find(selector.dimmer).filter('.' + settings.dimmerName).length > 0);\n            }\n            else {\n              return ( $module.find(selector.dimmer).length > 0 );\n            }\n          }\n        },\n\n        is: {\n          active: function() {\n            return $dimmer.hasClass(className.active);\n          },\n          animating: function() {\n            return ( $dimmer.is(':animated') || $dimmer.hasClass(className.animating) );\n          },\n          closable: function() {\n            if(settings.closable == 'auto') {\n              if(settings.on == 'hover') {\n                return false;\n              }\n              return true;\n            }\n            return settings.closable;\n          },\n          dimmer: function() {\n            return $module.hasClass(className.dimmer);\n          },\n          dimmable: function() {\n            return $module.hasClass(className.dimmable);\n          },\n          dimmed: function() {\n            return $dimmable.hasClass(className.dimmed);\n          },\n          disabled: function() {\n            return $dimmable.hasClass(className.disabled);\n          },\n          enabled: function() {\n            return !module.is.disabled();\n          },\n          page: function () {\n            return $dimmable.is('body');\n          },\n          pageDimmer: function() {\n            return $dimmer.hasClass(className.pageDimmer);\n          }\n        },\n\n        can: {\n          show: function() {\n            return !$dimmer.hasClass(className.disabled);\n          }\n        },\n\n        set: {\n          opacity: function(opacity) {\n            var\n              color      = $dimmer.css('background-color'),\n              colorArray = color.split(','),\n              isRGB      = (colorArray && colorArray.length >= 3)\n            ;\n            opacity    = settings.opacity === 0 ? 0 : settings.opacity || opacity;\n            if(isRGB) {\n              colorArray[2] = colorArray[2].replace(')','');\n              colorArray[3] = opacity + ')';\n              color         = colorArray.join(',');\n            }\n            else {\n              color = 'rgba(0, 0, 0, ' + opacity + ')';\n            }\n            module.debug('Setting opacity to', opacity);\n            $dimmer.css('background-color', color);\n          },\n          legacy: function() {\n            $dimmer.addClass(className.legacy);\n          },\n          active: function() {\n            $dimmer.addClass(className.active);\n          },\n          dimmable: function() {\n            $dimmable.addClass(className.dimmable);\n          },\n          dimmed: function() {\n            $dimmable.addClass(className.dimmed);\n          },\n          pageDimmer: function() {\n            $dimmer.addClass(className.pageDimmer);\n          },\n          disabled: function() {\n            $dimmer.addClass(className.disabled);\n          },\n          variation: function(variation) {\n            variation = variation || settings.variation;\n            if(variation) {\n              $dimmer.addClass(variation);\n            }\n          }\n        },\n\n        remove: {\n          active: function() {\n            $dimmer\n              .removeClass(className.active)\n            ;\n          },\n          legacy: function() {\n            $dimmer.removeClass(className.legacy);\n          },\n          dimmed: function() {\n            $dimmable.removeClass(className.dimmed);\n          },\n          disabled: function() {\n            $dimmer.removeClass(className.disabled);\n          },\n          variation: function(variation) {\n            variation = variation || settings.variation;\n            if(variation) {\n              $dimmer.removeClass(variation);\n            }\n          }\n        },\n\n        setting: function(name, value) {\n          module.debug('Changing setting', name, value);\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            if($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            }\n            else {\n              settings[name] = value;\n            }\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if($allModules.length > 1) {\n              title += ' ' + '(' + $allModules.length + ')';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n          if ( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if(Array.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      };\n\n      module.preinitialize();\n\n      if(methodInvoked) {\n        if(instance === undefined) {\n          module.initialize();\n        }\n        module.invoke(query);\n      }\n      else {\n        if(instance !== undefined) {\n          instance.invoke('destroy');\n        }\n        module.initialize();\n      }\n    })\n  ;\n\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n$.fn.dimmer.settings = {\n\n  name        : 'Dimmer',\n  namespace   : 'dimmer',\n\n  silent      : false,\n  debug       : false,\n  verbose     : false,\n  performance : true,\n\n  // whether should use flex layout\n  useFlex     : true,\n\n  // name to distinguish between multiple dimmers in context\n  dimmerName  : false,\n\n  // whether to add a variation type\n  variation   : false,\n\n  // whether to bind close events\n  closable    : 'auto',\n\n  // whether to use css animations\n  useCSS      : true,\n\n  // css animation to use\n  transition  : 'fade',\n\n  // event to bind to\n  on          : false,\n\n  // overriding opacity value\n  opacity     : 'auto',\n\n  // transition durations\n  duration    : {\n    show : 500,\n    hide : 500\n  },\n// whether the dynamically created dimmer should have a loader\n  displayLoader: false,\n  loaderText  : false,\n  loaderVariation : '',\n\n  onChange    : function(){},\n  onShow      : function(){},\n  onHide      : function(){},\n\n  error   : {\n    method   : 'The method you called is not defined.'\n  },\n\n  className : {\n    active     : 'active',\n    animating  : 'animating',\n    dimmable   : 'dimmable',\n    dimmed     : 'dimmed',\n    dimmer     : 'dimmer',\n    disabled   : 'disabled',\n    hide       : 'hide',\n    legacy     : 'legacy',\n    pageDimmer : 'page',\n    show       : 'show',\n    loader     : 'ui loader'\n  },\n\n  selector: {\n    dimmer   : '> .ui.dimmer',\n    content  : '.ui.dimmer > .content, .ui.dimmer > .content > .center'\n  },\n\n  template: {\n    dimmer: function(settings) {\n        var d = $('<div/>').addClass('ui dimmer'),l;\n        if(settings.displayLoader) {\n          l = $('<div/>')\n              .addClass(settings.className.loader)\n              .addClass(settings.loaderVariation);\n          if(!!settings.loaderText){\n            l.text(settings.loaderText);\n            l.addClass('text');\n          }\n          d.append(l);\n        }\n        return d;\n    }\n  }\n\n};\n\n})( jQuery, window, document );\n\n/*!\n * # Fomantic-UI 2.8.8 - Dropdown\n * http://github.com/fomantic/Fomantic-UI/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n'use strict';\n\n$.isFunction = $.isFunction || function(obj) {\n  return typeof obj === \"function\" && typeof obj.nodeType !== \"number\";\n};\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\n$.fn.dropdown = function(parameters) {\n  var\n    $allModules    = $(this),\n    $document      = $(document),\n\n    moduleSelector = $allModules.selector || '',\n\n    hasTouch       = ('ontouchstart' in document.documentElement),\n    clickEvent      = hasTouch\n        ? 'touchstart'\n        : 'click',\n\n    time           = new Date().getTime(),\n    performance    = [],\n\n    query          = arguments[0],\n    methodInvoked  = (typeof query == 'string'),\n    queryArguments = [].slice.call(arguments, 1),\n    returnedValue\n  ;\n\n  $allModules\n    .each(function(elementIndex) {\n      var\n        settings          = ( $.isPlainObject(parameters) )\n          ? $.extend(true, {}, $.fn.dropdown.settings, parameters)\n          : $.extend({}, $.fn.dropdown.settings),\n\n        className       = settings.className,\n        message         = settings.message,\n        fields          = settings.fields,\n        keys            = settings.keys,\n        metadata        = settings.metadata,\n        namespace       = settings.namespace,\n        regExp          = settings.regExp,\n        selector        = settings.selector,\n        error           = settings.error,\n        templates       = settings.templates,\n\n        eventNamespace  = '.' + namespace,\n        moduleNamespace = 'module-' + namespace,\n\n        $module         = $(this),\n        $context        = $(settings.context),\n        $text           = $module.find(selector.text),\n        $search         = $module.find(selector.search),\n        $sizer          = $module.find(selector.sizer),\n        $input          = $module.find(selector.input),\n        $icon           = $module.find(selector.icon),\n        $clear          = $module.find(selector.clearIcon),\n\n        $combo = ($module.prev().find(selector.text).length > 0)\n          ? $module.prev().find(selector.text)\n          : $module.prev(),\n\n        $menu           = $module.children(selector.menu),\n        $item           = $menu.find(selector.item),\n        $divider        = settings.hideDividers ? $item.parent().children(selector.divider) : $(),\n\n        activated       = false,\n        itemActivated   = false,\n        internalChange  = false,\n        iconClicked     = false,\n        element         = this,\n        focused         = false,\n        instance        = $module.data(moduleNamespace),\n\n        selectActionActive,\n        initialLoad,\n        pageLostFocus,\n        willRefocus,\n        elementNamespace,\n        id,\n        selectObserver,\n        menuObserver,\n        classObserver,\n        module\n      ;\n\n      module = {\n\n        initialize: function() {\n          module.debug('Initializing dropdown', settings);\n\n          if( module.is.alreadySetup() ) {\n            module.setup.reference();\n          }\n          else {\n            if (settings.ignoreDiacritics && !String.prototype.normalize) {\n              settings.ignoreDiacritics = false;\n              module.error(error.noNormalize, element);\n            }\n\n            module.setup.layout();\n\n            if(settings.values) {\n              module.set.initialLoad();\n              module.change.values(settings.values);\n              module.remove.initialLoad();\n            }\n\n            module.refreshData();\n\n            module.save.defaults();\n            module.restore.selected();\n\n            module.create.id();\n            module.bind.events();\n\n            module.observeChanges();\n            module.instantiate();\n          }\n\n        },\n\n        instantiate: function() {\n          module.verbose('Storing instance of dropdown', module);\n          instance = module;\n          $module\n            .data(moduleNamespace, module)\n          ;\n        },\n\n        destroy: function() {\n          module.verbose('Destroying previous dropdown', $module);\n          module.remove.tabbable();\n          module.remove.active();\n          $menu.transition('stop all');\n          $menu.removeClass(className.visible).addClass(className.hidden);\n          $module\n            .off(eventNamespace)\n            .removeData(moduleNamespace)\n          ;\n          $menu\n            .off(eventNamespace)\n          ;\n          $document\n            .off(elementNamespace)\n          ;\n          module.disconnect.menuObserver();\n          module.disconnect.selectObserver();\n          module.disconnect.classObserver();\n        },\n\n        observeChanges: function() {\n          if('MutationObserver' in window) {\n            selectObserver = new MutationObserver(module.event.select.mutation);\n            menuObserver   = new MutationObserver(module.event.menu.mutation);\n            classObserver  = new MutationObserver(module.event.class.mutation);\n            module.debug('Setting up mutation observer', selectObserver, menuObserver, classObserver);\n            module.observe.select();\n            module.observe.menu();\n            module.observe.class();\n          }\n        },\n\n        disconnect: {\n          menuObserver: function() {\n            if(menuObserver) {\n              menuObserver.disconnect();\n            }\n          },\n          selectObserver: function() {\n            if(selectObserver) {\n              selectObserver.disconnect();\n            }\n          },\n          classObserver: function() {\n            if(classObserver) {\n              classObserver.disconnect();\n            }\n          }\n        },\n        observe: {\n          select: function() {\n            if(module.has.input() && selectObserver) {\n              selectObserver.observe($module[0], {\n                childList : true,\n                subtree   : true\n              });\n            }\n          },\n          menu: function() {\n            if(module.has.menu() && menuObserver) {\n              menuObserver.observe($menu[0], {\n                childList : true,\n                subtree   : true\n              });\n            }\n          },\n          class: function() {\n            if(module.has.search() && classObserver) {\n              classObserver.observe($module[0], {\n                attributes : true\n              });\n            }\n          }\n        },\n\n        create: {\n          id: function() {\n            id = (Math.random().toString(16) + '000000000').substr(2, 8);\n            elementNamespace = '.' + id;\n            module.verbose('Creating unique id for element', id);\n          },\n          userChoice: function(values) {\n            var\n              $userChoices,\n              $userChoice,\n              isUserValue,\n              html\n            ;\n            values = values || module.get.userValues();\n            if(!values) {\n              return false;\n            }\n            values = Array.isArray(values)\n              ? values\n              : [values]\n            ;\n            $.each(values, function(index, value) {\n              if(module.get.item(value) === false) {\n                html         = settings.templates.addition( module.add.variables(message.addResult, value) );\n                $userChoice  = $('<div />')\n                  .html(html)\n                  .attr('data-' + metadata.value, value)\n                  .attr('data-' + metadata.text, value)\n                  .addClass(className.addition)\n                  .addClass(className.item)\n                ;\n                if(settings.hideAdditions) {\n                  $userChoice.addClass(className.hidden);\n                }\n                $userChoices = ($userChoices === undefined)\n                  ? $userChoice\n                  : $userChoices.add($userChoice)\n                ;\n                module.verbose('Creating user choices for value', value, $userChoice);\n              }\n            });\n            return $userChoices;\n          },\n          userLabels: function(value) {\n            var\n              userValues = module.get.userValues()\n            ;\n            if(userValues) {\n              module.debug('Adding user labels', userValues);\n              $.each(userValues, function(index, value) {\n                module.verbose('Adding custom user value');\n                module.add.label(value, value);\n              });\n            }\n          },\n          menu: function() {\n            $menu = $('<div />')\n              .addClass(className.menu)\n              .appendTo($module)\n            ;\n          },\n          sizer: function() {\n            $sizer = $('<span />')\n              .addClass(className.sizer)\n              .insertAfter($search)\n            ;\n          }\n        },\n\n        search: function(query) {\n          query = (query !== undefined)\n            ? query\n            : module.get.query()\n          ;\n          module.verbose('Searching for query', query);\n          if(settings.fireOnInit === false && module.is.initialLoad()) {\n            module.verbose('Skipping callback on initial load', settings.onSearch);\n          } else if(module.has.minCharacters(query) && settings.onSearch.call(element, query) !== false) {\n            module.filter(query);\n          }\n          else {\n            module.hide(null,true);\n          }\n        },\n\n        select: {\n          firstUnfiltered: function() {\n            module.verbose('Selecting first non-filtered element');\n            module.remove.selectedItem();\n            $item\n              .not(selector.unselectable)\n              .not(selector.addition + selector.hidden)\n                .eq(0)\n                .addClass(className.selected)\n            ;\n          },\n          nextAvailable: function($selected) {\n            $selected = $selected.eq(0);\n            var\n              $nextAvailable = $selected.nextAll(selector.item).not(selector.unselectable).eq(0),\n              $prevAvailable = $selected.prevAll(selector.item).not(selector.unselectable).eq(0),\n              hasNext        = ($nextAvailable.length > 0)\n            ;\n            if(hasNext) {\n              module.verbose('Moving selection to', $nextAvailable);\n              $nextAvailable.addClass(className.selected);\n            }\n            else {\n              module.verbose('Moving selection to', $prevAvailable);\n              $prevAvailable.addClass(className.selected);\n            }\n          }\n        },\n\n        setup: {\n          api: function() {\n            var\n              apiSettings = {\n                debug   : settings.debug,\n                urlData : {\n                  value : module.get.value(),\n                  query : module.get.query()\n                },\n                on    : false\n              }\n            ;\n            module.verbose('First request, initializing API');\n            $module\n              .api(apiSettings)\n            ;\n          },\n          layout: function() {\n            if( $module.is('select') ) {\n              module.setup.select();\n              module.setup.returnedObject();\n            }\n            if( !module.has.menu() ) {\n              module.create.menu();\n            }\n            if ( module.is.clearable() && !module.has.clearItem() ) {\n              module.verbose('Adding clear icon');\n              $clear = $('<i />')\n                .addClass('remove icon')\n                .insertBefore($text)\n              ;\n            }\n            if( module.is.search() && !module.has.search() ) {\n              module.verbose('Adding search input');\n              $search = $('<input />')\n                .addClass(className.search)\n                .prop('autocomplete', module.is.chrome() ? 'fomantic-search' : 'off')\n                .insertBefore($text)\n              ;\n            }\n            if( module.is.multiple() && module.is.searchSelection() && !module.has.sizer()) {\n              module.create.sizer();\n            }\n            if(settings.allowTab) {\n              module.set.tabbable();\n            }\n          },\n          select: function() {\n            var\n              selectValues  = module.get.selectValues()\n            ;\n            module.debug('Dropdown initialized on a select', selectValues);\n            if( $module.is('select') ) {\n              $input = $module;\n            }\n            // see if select is placed correctly already\n            if($input.parent(selector.dropdown).length > 0) {\n              module.debug('UI dropdown already exists. Creating dropdown menu only');\n              $module = $input.closest(selector.dropdown);\n              if( !module.has.menu() ) {\n                module.create.menu();\n              }\n              $menu = $module.children(selector.menu);\n              module.setup.menu(selectValues);\n            }\n            else {\n              module.debug('Creating entire dropdown from select');\n              $module = $('<div />')\n                .attr('class', $input.attr('class') )\n                .addClass(className.selection)\n                .addClass(className.dropdown)\n                .html( templates.dropdown(selectValues, fields, settings.preserveHTML, settings.className) )\n                .insertBefore($input)\n              ;\n              if($input.hasClass(className.multiple) && $input.prop('multiple') === false) {\n                module.error(error.missingMultiple);\n                $input.prop('multiple', true);\n              }\n              if($input.is('[multiple]')) {\n                module.set.multiple();\n              }\n              if ($input.prop('disabled')) {\n                module.debug('Disabling dropdown');\n                $module.addClass(className.disabled);\n              }\n              $input\n                .removeAttr('required')\n                .removeAttr('class')\n                .detach()\n                .prependTo($module)\n              ;\n            }\n            module.refresh();\n          },\n          menu: function(values) {\n            $menu.html( templates.menu(values, fields,settings.preserveHTML,settings.className));\n            $item    = $menu.find(selector.item);\n            $divider = settings.hideDividers ? $item.parent().children(selector.divider) : $();\n          },\n          reference: function() {\n            module.debug('Dropdown behavior was called on select, replacing with closest dropdown');\n            // replace module reference\n            $module  = $module.parent(selector.dropdown);\n            instance = $module.data(moduleNamespace);\n            element  = $module.get(0);\n            module.refresh();\n            module.setup.returnedObject();\n          },\n          returnedObject: function() {\n            var\n              $firstModules = $allModules.slice(0, elementIndex),\n              $lastModules  = $allModules.slice(elementIndex + 1)\n            ;\n            // adjust all modules to use correct reference\n            $allModules = $firstModules.add($module).add($lastModules);\n          }\n        },\n\n        refresh: function() {\n          module.refreshSelectors();\n          module.refreshData();\n        },\n\n        refreshItems: function() {\n          $item    = $menu.find(selector.item);\n          $divider = settings.hideDividers ? $item.parent().children(selector.divider) : $();\n        },\n\n        refreshSelectors: function() {\n          module.verbose('Refreshing selector cache');\n          $text   = $module.find(selector.text);\n          $search = $module.find(selector.search);\n          $input  = $module.find(selector.input);\n          $icon   = $module.find(selector.icon);\n          $combo  = ($module.prev().find(selector.text).length > 0)\n            ? $module.prev().find(selector.text)\n            : $module.prev()\n          ;\n          $menu    = $module.children(selector.menu);\n          $item    = $menu.find(selector.item);\n          $divider = settings.hideDividers ? $item.parent().children(selector.divider) : $();\n        },\n\n        refreshData: function() {\n          module.verbose('Refreshing cached metadata');\n          $item\n            .removeData(metadata.text)\n            .removeData(metadata.value)\n          ;\n        },\n\n        clearData: function() {\n          module.verbose('Clearing metadata');\n          $item\n            .removeData(metadata.text)\n            .removeData(metadata.value)\n          ;\n          $module\n            .removeData(metadata.defaultText)\n            .removeData(metadata.defaultValue)\n            .removeData(metadata.placeholderText)\n          ;\n        },\n\n        clearItems: function() {\n          $menu.empty();\n          module.refreshItems();\n        },\n\n        toggle: function() {\n          module.verbose('Toggling menu visibility');\n          if( !module.is.active() ) {\n            module.show();\n          }\n          else {\n            module.hide();\n          }\n        },\n\n        show: function(callback, preventFocus) {\n          callback = $.isFunction(callback)\n            ? callback\n            : function(){}\n          ;\n          if ((focused || iconClicked) && module.is.remote() && module.is.noApiCache()) {\n            module.clearItems();\n          }\n          if(!module.can.show() && module.is.remote()) {\n            module.debug('No API results retrieved, searching before show');\n            module.queryRemote(module.get.query(), module.show, [callback, preventFocus]);\n          }\n          if( module.can.show() && !module.is.active() ) {\n            module.debug('Showing dropdown');\n            if(module.has.message() && !(module.has.maxSelections() || module.has.allResultsFiltered()) ) {\n              module.remove.message();\n            }\n            if(module.is.allFiltered()) {\n              return true;\n            }\n            if(settings.onShow.call(element) !== false) {\n              module.animate.show(function() {\n                if( module.can.click() ) {\n                  module.bind.intent();\n                }\n                if(module.has.search() && !preventFocus) {\n                  module.focusSearch();\n                }\n                module.set.visible();\n                callback.call(element);\n              });\n            }\n          }\n        },\n\n        hide: function(callback, preventBlur) {\n          callback = $.isFunction(callback)\n            ? callback\n            : function(){}\n          ;\n          if( module.is.active() && !module.is.animatingOutward() ) {\n            module.debug('Hiding dropdown');\n            if(settings.onHide.call(element) !== false) {\n              module.animate.hide(function() {\n                module.remove.visible();\n                // hidding search focus\n                if ( module.is.focusedOnSearch() && preventBlur !== true ) {\n                  $search.blur();\n                }\n                callback.call(element);\n              });\n            }\n          } else if( module.can.click() ) {\n              module.unbind.intent();\n          }\n          iconClicked = false;\n          focused = false;\n        },\n\n        hideOthers: function() {\n          module.verbose('Finding other dropdowns to hide');\n          $allModules\n            .not($module)\n              .has(selector.menu + '.' + className.visible)\n                .dropdown('hide')\n          ;\n        },\n\n        hideMenu: function() {\n          module.verbose('Hiding menu  instantaneously');\n          module.remove.active();\n          module.remove.visible();\n          $menu.transition('hide');\n        },\n\n        hideSubMenus: function() {\n          var\n            $subMenus = $menu.children(selector.item).find(selector.menu)\n          ;\n          module.verbose('Hiding sub menus', $subMenus);\n          $subMenus.transition('hide');\n        },\n\n        bind: {\n          events: function() {\n            module.bind.keyboardEvents();\n            module.bind.inputEvents();\n            module.bind.mouseEvents();\n          },\n          keyboardEvents: function() {\n            module.verbose('Binding keyboard events');\n            $module\n              .on('keydown' + eventNamespace, module.event.keydown)\n            ;\n            if( module.has.search() ) {\n              $module\n                .on(module.get.inputEvent() + eventNamespace, selector.search, module.event.input)\n              ;\n            }\n            if( module.is.multiple() ) {\n              $document\n                .on('keydown' + elementNamespace, module.event.document.keydown)\n              ;\n            }\n          },\n          inputEvents: function() {\n            module.verbose('Binding input change events');\n            $module\n              .on('change' + eventNamespace, selector.input, module.event.change)\n            ;\n          },\n          mouseEvents: function() {\n            module.verbose('Binding mouse events');\n            if(module.is.multiple()) {\n              $module\n                .on(clickEvent   + eventNamespace, selector.label,  module.event.label.click)\n                .on(clickEvent   + eventNamespace, selector.remove, module.event.remove.click)\n              ;\n            }\n            if( module.is.searchSelection() ) {\n              $module\n                .on('mousedown' + eventNamespace, module.event.mousedown)\n                .on('mouseup'   + eventNamespace, module.event.mouseup)\n                .on('mousedown' + eventNamespace, selector.menu,   module.event.menu.mousedown)\n                .on('mouseup'   + eventNamespace, selector.menu,   module.event.menu.mouseup)\n                .on(clickEvent  + eventNamespace, selector.icon,   module.event.icon.click)\n                .on(clickEvent  + eventNamespace, selector.clearIcon, module.event.clearIcon.click)\n                .on('focus'     + eventNamespace, selector.search, module.event.search.focus)\n                .on(clickEvent  + eventNamespace, selector.search, module.event.search.focus)\n                .on('blur'      + eventNamespace, selector.search, module.event.search.blur)\n                .on(clickEvent  + eventNamespace, selector.text,   module.event.text.focus)\n              ;\n              if(module.is.multiple()) {\n                $module\n                  .on(clickEvent + eventNamespace, module.event.click)\n                  .on(clickEvent + eventNamespace, module.event.search.focus)\n                ;\n              }\n            }\n            else {\n              if(settings.on == 'click') {\n                $module\n                  .on(clickEvent + eventNamespace, selector.icon, module.event.icon.click)\n                  .on(clickEvent + eventNamespace, module.event.test.toggle)\n                ;\n              }\n              else if(settings.on == 'hover') {\n                $module\n                  .on('mouseenter' + eventNamespace, module.delay.show)\n                  .on('mouseleave' + eventNamespace, module.delay.hide)\n                ;\n              }\n              else {\n                $module\n                  .on(settings.on + eventNamespace, module.toggle)\n                ;\n              }\n              $module\n                .on('mousedown' + eventNamespace, module.event.mousedown)\n                .on('mouseup'   + eventNamespace, module.event.mouseup)\n                .on('focus'     + eventNamespace, module.event.focus)\n                .on(clickEvent  + eventNamespace, selector.clearIcon, module.event.clearIcon.click)\n              ;\n              if(module.has.menuSearch() ) {\n                $module\n                  .on('blur' + eventNamespace, selector.search, module.event.search.blur)\n                ;\n              }\n              else {\n                $module\n                  .on('blur' + eventNamespace, module.event.blur)\n                ;\n              }\n            }\n            $menu\n              .on((hasTouch ? 'touchstart' : 'mouseenter') + eventNamespace, selector.item, module.event.item.mouseenter)\n              .on('mouseleave' + eventNamespace, selector.item, module.event.item.mouseleave)\n              .on('click'      + eventNamespace, selector.item, module.event.item.click)\n            ;\n          },\n          intent: function() {\n            module.verbose('Binding hide intent event to document');\n            if(hasTouch) {\n              $document\n                .on('touchstart' + elementNamespace, module.event.test.touch)\n                .on('touchmove'  + elementNamespace, module.event.test.touch)\n              ;\n            }\n            $document\n              .on(clickEvent + elementNamespace, module.event.test.hide)\n            ;\n          }\n        },\n\n        unbind: {\n          intent: function() {\n            module.verbose('Removing hide intent event from document');\n            if(hasTouch) {\n              $document\n                .off('touchstart' + elementNamespace)\n                .off('touchmove' + elementNamespace)\n              ;\n            }\n            $document\n              .off(clickEvent + elementNamespace)\n            ;\n          }\n        },\n\n        filter: function(query) {\n          var\n            searchTerm = (query !== undefined)\n              ? query\n              : module.get.query(),\n            afterFiltered = function() {\n              if(module.is.multiple()) {\n                module.filterActive();\n              }\n              if(query || (!query && module.get.activeItem().length == 0)) {\n                module.select.firstUnfiltered();\n              }\n              if( module.has.allResultsFiltered() ) {\n                if( settings.onNoResults.call(element, searchTerm) ) {\n                  if(settings.allowAdditions) {\n                    if(settings.hideAdditions) {\n                      module.verbose('User addition with no menu, setting empty style');\n                      module.set.empty();\n                      module.hideMenu();\n                    }\n                  }\n                  else {\n                    module.verbose('All items filtered, showing message', searchTerm);\n                    module.add.message(message.noResults);\n                  }\n                }\n                else {\n                  module.verbose('All items filtered, hiding dropdown', searchTerm);\n                  module.hideMenu();\n                }\n              }\n              else {\n                module.remove.empty();\n                module.remove.message();\n              }\n              if(settings.allowAdditions) {\n                module.add.userSuggestion(module.escape.htmlEntities(query));\n              }\n              if(module.is.searchSelection() && module.can.show() && module.is.focusedOnSearch() ) {\n                module.show();\n              }\n            }\n          ;\n          if(settings.useLabels && module.has.maxSelections()) {\n            return;\n          }\n          if(settings.apiSettings) {\n            if( module.can.useAPI() ) {\n              module.queryRemote(searchTerm, function() {\n                if(settings.filterRemoteData) {\n                  module.filterItems(searchTerm);\n                }\n                var preSelected = $input.val();\n                if(!Array.isArray(preSelected)) {\n                    preSelected = preSelected && preSelected!==\"\" ? preSelected.split(settings.delimiter) : [];\n                }\n                if (module.is.multiple()) {\n                  $.each(preSelected,function(index,value){\n                    $item.filter('[data-value=\"'+value+'\"]')\n                        .addClass(className.filtered)\n                    ;\n                  });\n                }\n                module.focusSearch(true);\n                afterFiltered();\n              });\n            }\n            else {\n              module.error(error.noAPI);\n            }\n          }\n          else {\n            module.filterItems(searchTerm);\n            afterFiltered();\n          }\n        },\n\n        queryRemote: function(query, callback, callbackParameters) {\n          if(!Array.isArray(callbackParameters)){\n            callbackParameters = [callbackParameters];\n          }\n          var\n            apiSettings = {\n              errorDuration : false,\n              cache         : 'local',\n              throttle      : settings.throttle,\n              urlData       : {\n                query: query\n              },\n              onError: function() {\n                module.add.message(message.serverError);\n                iconClicked = false;\n                focused = false;\n                callback.apply(null, callbackParameters);\n              },\n              onFailure: function() {\n                module.add.message(message.serverError);\n                iconClicked = false;\n                focused = false;\n                callback.apply(null, callbackParameters);\n              },\n              onSuccess : function(response) {\n                var\n                  values          = response[fields.remoteValues]\n                ;\n                if (!Array.isArray(values)){\n                    values = [];\n                }\n                module.remove.message();\n                var menuConfig = {};\n                menuConfig[fields.values] = values;\n                module.setup.menu(menuConfig);\n\n                if(values.length===0 && !settings.allowAdditions) {\n                  module.add.message(message.noResults);\n                }\n                else {\n                  var value = module.is.multiple() ? module.get.values() : module.get.value();\n                  if (value !== '') {\n                    module.verbose('Value(s) present after click icon, select value(s) in items');\n                    module.set.selected(value, null, null, true);\n                  }\n                }\n                iconClicked = false;\n                focused = false;\n                callback.apply(null, callbackParameters);\n              }\n            }\n          ;\n          if( !$module.api('get request') ) {\n            module.setup.api();\n          }\n          apiSettings = $.extend(true, {}, apiSettings, settings.apiSettings);\n          $module\n            .api('setting', apiSettings)\n            .api('query')\n          ;\n        },\n\n        filterItems: function(query) {\n          var\n            searchTerm = module.remove.diacritics(query !== undefined\n              ? query\n              : module.get.query()\n            ),\n            results          =  null,\n            escapedTerm      = module.escape.string(searchTerm),\n            regExpFlags      = (settings.ignoreSearchCase ? 'i' : '') + 'gm',\n            beginsWithRegExp = new RegExp('^' + escapedTerm, regExpFlags)\n          ;\n          // avoid loop if we're matching nothing\n          if( module.has.query() ) {\n            results = [];\n\n            module.verbose('Searching for matching values', searchTerm);\n            $item\n              .each(function(){\n                var\n                  $choice = $(this),\n                  text,\n                  value\n                ;\n                if($choice.hasClass(className.unfilterable)) {\n                  results.push(this);\n                  return true;\n                }\n                if(settings.match === 'both' || settings.match === 'text') {\n                  text = module.remove.diacritics(String(module.get.choiceText($choice, false)));\n                  if(text.search(beginsWithRegExp) !== -1) {\n                    results.push(this);\n                    return true;\n                  }\n                  else if (settings.fullTextSearch === 'exact' && module.exactSearch(searchTerm, text)) {\n                    results.push(this);\n                    return true;\n                  }\n                  else if (settings.fullTextSearch === true && module.fuzzySearch(searchTerm, text)) {\n                    results.push(this);\n                    return true;\n                  }\n                }\n                if(settings.match === 'both' || settings.match === 'value') {\n                  value = module.remove.diacritics(String(module.get.choiceValue($choice, text)));\n                  if(value.search(beginsWithRegExp) !== -1) {\n                    results.push(this);\n                    return true;\n                  }\n                  else if (settings.fullTextSearch === 'exact' && module.exactSearch(searchTerm, value)) {\n                    results.push(this);\n                    return true;\n                  }\n                  else if (settings.fullTextSearch === true && module.fuzzySearch(searchTerm, value)) {\n                    results.push(this);\n                    return true;\n                  }\n                }\n              })\n            ;\n          }\n          module.debug('Showing only matched items', searchTerm);\n          module.remove.filteredItem();\n          if(results) {\n            $item\n              .not(results)\n              .addClass(className.filtered)\n            ;\n          }\n\n          if(!module.has.query()) {\n            $divider\n              .removeClass(className.hidden);\n          } else if(settings.hideDividers === true) {\n            $divider\n              .addClass(className.hidden);\n          } else if(settings.hideDividers === 'empty') {\n            $divider\n              .removeClass(className.hidden)\n              .filter(function() {\n                // First find the last divider in this divider group\n                // Dividers which are direct siblings are considered a group\n                var lastDivider = $(this).nextUntil(selector.item);\n\n                return (lastDivider.length ? lastDivider : $(this))\n                // Count all non-filtered items until the next divider (or end of the dropdown)\n                  .nextUntil(selector.divider)\n                  .filter(selector.item + \":not(.\" + className.filtered + \")\")\n                  // Hide divider if no items are found\n                  .length === 0;\n              })\n              .addClass(className.hidden);\n          }\n        },\n\n        fuzzySearch: function(query, term) {\n          var\n            termLength  = term.length,\n            queryLength = query.length\n          ;\n          query = (settings.ignoreSearchCase ? query.toLowerCase() : query);\n          term  = (settings.ignoreSearchCase ? term.toLowerCase() : term);\n          if(queryLength > termLength) {\n            return false;\n          }\n          if(queryLength === termLength) {\n            return (query === term);\n          }\n          search: for (var characterIndex = 0, nextCharacterIndex = 0; characterIndex < queryLength; characterIndex++) {\n            var\n              queryCharacter = query.charCodeAt(characterIndex)\n            ;\n            while(nextCharacterIndex < termLength) {\n              if(term.charCodeAt(nextCharacterIndex++) === queryCharacter) {\n                continue search;\n              }\n            }\n            return false;\n          }\n          return true;\n        },\n        exactSearch: function (query, term) {\n          query = (settings.ignoreSearchCase ? query.toLowerCase() : query);\n          term  = (settings.ignoreSearchCase ? term.toLowerCase() : term);\n          return term.indexOf(query) > -1;\n\n        },\n        filterActive: function() {\n          if(settings.useLabels) {\n            $item.filter('.' + className.active)\n              .addClass(className.filtered)\n            ;\n          }\n        },\n\n        focusSearch: function(skipHandler) {\n          if( module.has.search() && !module.is.focusedOnSearch() ) {\n            if(skipHandler) {\n              $module.off('focus' + eventNamespace, selector.search);\n              $search.focus();\n              $module.on('focus'  + eventNamespace, selector.search, module.event.search.focus);\n            }\n            else {\n              $search.focus();\n            }\n          }\n        },\n\n        blurSearch: function() {\n          if( module.has.search() ) {\n            $search.blur();\n          }\n        },\n\n        forceSelection: function() {\n          var\n            $currentlySelected = $item.not(className.filtered).filter('.' + className.selected).eq(0),\n            $activeItem        = $item.not(className.filtered).filter('.' + className.active).eq(0),\n            $selectedItem      = ($currentlySelected.length > 0)\n              ? $currentlySelected\n              : $activeItem,\n            hasSelected = ($selectedItem.length > 0)\n          ;\n          if(settings.allowAdditions || (hasSelected && !module.is.multiple())) {\n            module.debug('Forcing partial selection to selected item', $selectedItem);\n            module.event.item.click.call($selectedItem, {}, true);\n          }\n          else {\n            module.remove.searchTerm();\n          }\n        },\n\n        change: {\n          values: function(values) {\n            if(!settings.allowAdditions) {\n              module.clear();\n            }\n            module.debug('Creating dropdown with specified values', values);\n            var menuConfig = {};\n            menuConfig[fields.values] = values;\n            module.setup.menu(menuConfig);\n            $.each(values, function(index, item) {\n              if(item.selected == true) {\n                module.debug('Setting initial selection to', item[fields.value]);\n                module.set.selected(item[fields.value]);\n                if(!module.is.multiple()) {\n                  return false;\n                }\n              }\n            });\n\n            if(module.has.selectInput()) {\n              module.disconnect.selectObserver();\n              $input.html('');\n              $input.append('<option disabled selected value></option>');\n              $.each(values, function(index, item) {\n                var\n                  value = settings.templates.deQuote(item[fields.value]),\n                  name = settings.templates.escape(\n                    item[fields.name] || '',\n                    settings.preserveHTML\n                  )\n                ;\n                $input.append('<option value=\"' + value + '\">' + name + '</option>');\n              });\n              module.observe.select();\n            }\n          }\n        },\n\n        event: {\n          change: function() {\n            if(!internalChange) {\n              module.debug('Input changed, updating selection');\n              module.set.selected();\n            }\n          },\n          focus: function() {\n            if(settings.showOnFocus && !activated && module.is.hidden() && !pageLostFocus) {\n              focused = true;\n              module.show();\n            }\n          },\n          blur: function(event) {\n            pageLostFocus = (document.activeElement === this);\n            if(!activated && !pageLostFocus) {\n              module.remove.activeLabel();\n              module.hide();\n            }\n          },\n          mousedown: function() {\n            if(module.is.searchSelection()) {\n              // prevent menu hiding on immediate re-focus\n              willRefocus = true;\n            }\n            else {\n              // prevents focus callback from occurring on mousedown\n              activated = true;\n            }\n          },\n          mouseup: function() {\n            if(module.is.searchSelection()) {\n              // prevent menu hiding on immediate re-focus\n              willRefocus = false;\n            }\n            else {\n              activated = false;\n            }\n          },\n          click: function(event) {\n            var\n              $target = $(event.target)\n            ;\n            // focus search\n            if($target.is($module)) {\n              if(!module.is.focusedOnSearch()) {\n                module.focusSearch();\n              }\n              else {\n                module.show();\n              }\n            }\n          },\n          search: {\n            focus: function(event) {\n              activated = true;\n              if(module.is.multiple()) {\n                module.remove.activeLabel();\n              }\n              if(!focused && !module.is.active() && (settings.showOnFocus || (event.type !== 'focus' && event.type !== 'focusin'))) {\n                focused = true;\n                module.search();\n              }\n            },\n            blur: function(event) {\n              pageLostFocus = (document.activeElement === this);\n              if(module.is.searchSelection() && !willRefocus) {\n                if(!itemActivated && !pageLostFocus) {\n                  if(settings.forceSelection) {\n                    module.forceSelection();\n                  } else if(!settings.allowAdditions){\n                    module.remove.searchTerm();\n                  }\n                  module.hide();\n                }\n              }\n              willRefocus = false;\n            }\n          },\n          clearIcon: {\n            click: function(event) {\n              module.clear();\n              if(module.is.searchSelection()) {\n                module.remove.searchTerm();\n              }\n              module.hide();\n              event.stopPropagation();\n            }\n          },\n          icon: {\n            click: function(event) {\n              iconClicked=true;\n              if(module.has.search()) {\n                if(!module.is.active()) {\n                    if(settings.showOnFocus){\n                      module.focusSearch();\n                    } else {\n                      module.toggle();\n                    }\n                } else {\n                  module.blurSearch();\n                }\n              } else {\n                module.toggle();\n              }\n              event.stopPropagation();\n            }\n          },\n          text: {\n            focus: function(event) {\n              activated = true;\n              module.focusSearch();\n            }\n          },\n          input: function(event) {\n            if(module.is.multiple() || module.is.searchSelection()) {\n              module.set.filtered();\n            }\n            clearTimeout(module.timer);\n            module.timer = setTimeout(module.search, settings.delay.search);\n          },\n          label: {\n            click: function(event) {\n              var\n                $label        = $(this),\n                $labels       = $module.find(selector.label),\n                $activeLabels = $labels.filter('.' + className.active),\n                $nextActive   = $label.nextAll('.' + className.active),\n                $prevActive   = $label.prevAll('.' + className.active),\n                $range = ($nextActive.length > 0)\n                  ? $label.nextUntil($nextActive).add($activeLabels).add($label)\n                  : $label.prevUntil($prevActive).add($activeLabels).add($label)\n              ;\n              if(event.shiftKey) {\n                $activeLabels.removeClass(className.active);\n                $range.addClass(className.active);\n              }\n              else if(event.ctrlKey) {\n                $label.toggleClass(className.active);\n              }\n              else {\n                $activeLabels.removeClass(className.active);\n                $label.addClass(className.active);\n              }\n              settings.onLabelSelect.apply(this, $labels.filter('.' + className.active));\n              event.stopPropagation();\n            }\n          },\n          remove: {\n            click: function(event) {\n              var\n                $label = $(this).parent()\n              ;\n              if( $label.hasClass(className.active) ) {\n                // remove all selected labels\n                module.remove.activeLabels();\n              }\n              else {\n                // remove this label only\n                module.remove.activeLabels( $label );\n              }\n              event.stopPropagation();\n            }\n          },\n          test: {\n            toggle: function(event) {\n              var\n                toggleBehavior = (module.is.multiple())\n                  ? module.show\n                  : module.toggle\n              ;\n              if(module.is.bubbledLabelClick(event) || module.is.bubbledIconClick(event)) {\n                return;\n              }\n              if (!module.is.multiple() || (module.is.multiple() && !module.is.active())) {\n                focused = true;\n              }\n              if( module.determine.eventOnElement(event, toggleBehavior) ) {\n                event.preventDefault();\n              }\n            },\n            touch: function(event) {\n              module.determine.eventOnElement(event, function() {\n                if(event.type == 'touchstart') {\n                  module.timer = setTimeout(function() {\n                    module.hide();\n                  }, settings.delay.touch);\n                }\n                else if(event.type == 'touchmove') {\n                  clearTimeout(module.timer);\n                }\n              });\n              event.stopPropagation();\n            },\n            hide: function(event) {\n              if(module.determine.eventInModule(event, module.hide)){\n                if(element.id && $(event.target).attr('for') === element.id){\n                  event.preventDefault();\n                }\n              }\n            }\n          },\n          class: {\n            mutation: function(mutations) {\n              mutations.forEach(function(mutation) {\n                if(mutation.attributeName === \"class\") {\n                  module.check.disabled();\n                }\n              });\n            }\n          },\n          select: {\n            mutation: function(mutations) {\n              module.debug('<select> modified, recreating menu');\n              if(module.is.selectMutation(mutations)) {\n                module.disconnect.selectObserver();\n                module.refresh();\n                module.setup.select();\n                module.set.selected();\n                module.observe.select();\n              }\n            }\n          },\n          menu: {\n            mutation: function(mutations) {\n              var\n                mutation   = mutations[0],\n                $addedNode = mutation.addedNodes\n                  ? $(mutation.addedNodes[0])\n                  : $(false),\n                $removedNode = mutation.removedNodes\n                  ? $(mutation.removedNodes[0])\n                  : $(false),\n                $changedNodes  = $addedNode.add($removedNode),\n                isUserAddition = $changedNodes.is(selector.addition) || $changedNodes.closest(selector.addition).length > 0,\n                isMessage      = $changedNodes.is(selector.message)  || $changedNodes.closest(selector.message).length > 0\n              ;\n              if(isUserAddition || isMessage) {\n                module.debug('Updating item selector cache');\n                module.refreshItems();\n              }\n              else {\n                module.debug('Menu modified, updating selector cache');\n                module.refresh();\n              }\n            },\n            mousedown: function() {\n              itemActivated = true;\n            },\n            mouseup: function() {\n              itemActivated = false;\n            }\n          },\n          item: {\n            mouseenter: function(event) {\n              var\n                $target        = $(event.target),\n                $item          = $(this),\n                $subMenu       = $item.children(selector.menu),\n                $otherMenus    = $item.siblings(selector.item).children(selector.menu),\n                hasSubMenu     = ($subMenu.length > 0),\n                isBubbledEvent = ($subMenu.find($target).length > 0)\n              ;\n              if( !isBubbledEvent && hasSubMenu ) {\n                clearTimeout(module.itemTimer);\n                module.itemTimer = setTimeout(function() {\n                  module.verbose('Showing sub-menu', $subMenu);\n                  $.each($otherMenus, function() {\n                    module.animate.hide(false, $(this));\n                  });\n                  module.animate.show(false, $subMenu);\n                }, settings.delay.show);\n                event.preventDefault();\n              }\n            },\n            mouseleave: function(event) {\n              var\n                $subMenu = $(this).children(selector.menu)\n              ;\n              if($subMenu.length > 0) {\n                clearTimeout(module.itemTimer);\n                module.itemTimer = setTimeout(function() {\n                  module.verbose('Hiding sub-menu', $subMenu);\n                  module.animate.hide(false, $subMenu);\n                }, settings.delay.hide);\n              }\n            },\n            click: function (event, skipRefocus) {\n              var\n                $choice        = $(this),\n                $target        = (event)\n                  ? $(event.target)\n                  : $(''),\n                $subMenu       = $choice.find(selector.menu),\n                text           = module.get.choiceText($choice),\n                value          = module.get.choiceValue($choice, text),\n                hasSubMenu     = ($subMenu.length > 0),\n                isBubbledEvent = ($subMenu.find($target).length > 0)\n              ;\n              // prevents IE11 bug where menu receives focus even though `tabindex=-1`\n              if (document.activeElement.tagName.toLowerCase() !== 'input') {\n                $(document.activeElement).blur();\n              }\n              if(!isBubbledEvent && (!hasSubMenu || settings.allowCategorySelection)) {\n                if(module.is.searchSelection()) {\n                  if(settings.allowAdditions) {\n                    module.remove.userAddition();\n                  }\n                  module.remove.searchTerm();\n                  if(!module.is.focusedOnSearch() && !(skipRefocus == true)) {\n                    module.focusSearch(true);\n                  }\n                }\n                if(!settings.useLabels) {\n                  module.remove.filteredItem();\n                  module.set.scrollPosition($choice);\n                }\n                module.determine.selectAction.call(this, text, value);\n              }\n            }\n          },\n\n          document: {\n            // label selection should occur even when element has no focus\n            keydown: function(event) {\n              var\n                pressedKey    = event.which,\n                isShortcutKey = module.is.inObject(pressedKey, keys)\n              ;\n              if(isShortcutKey) {\n                var\n                  $label            = $module.find(selector.label),\n                  $activeLabel      = $label.filter('.' + className.active),\n                  activeValue       = $activeLabel.data(metadata.value),\n                  labelIndex        = $label.index($activeLabel),\n                  labelCount        = $label.length,\n                  hasActiveLabel    = ($activeLabel.length > 0),\n                  hasMultipleActive = ($activeLabel.length > 1),\n                  isFirstLabel      = (labelIndex === 0),\n                  isLastLabel       = (labelIndex + 1 == labelCount),\n                  isSearch          = module.is.searchSelection(),\n                  isFocusedOnSearch = module.is.focusedOnSearch(),\n                  isFocused         = module.is.focused(),\n                  caretAtStart      = (isFocusedOnSearch && module.get.caretPosition(false) === 0),\n                  isSelectedSearch  = (caretAtStart && module.get.caretPosition(true) !== 0),\n                  $nextLabel\n                ;\n                if(isSearch && !hasActiveLabel && !isFocusedOnSearch) {\n                  return;\n                }\n\n                if(pressedKey == keys.leftArrow) {\n                  // activate previous label\n                  if((isFocused || caretAtStart) && !hasActiveLabel) {\n                    module.verbose('Selecting previous label');\n                    $label.last().addClass(className.active);\n                  }\n                  else if(hasActiveLabel) {\n                    if(!event.shiftKey) {\n                      module.verbose('Selecting previous label');\n                      $label.removeClass(className.active);\n                    }\n                    else {\n                      module.verbose('Adding previous label to selection');\n                    }\n                    if(isFirstLabel && !hasMultipleActive) {\n                      $activeLabel.addClass(className.active);\n                    }\n                    else {\n                      $activeLabel.prev(selector.siblingLabel)\n                        .addClass(className.active)\n                        .end()\n                      ;\n                    }\n                    event.preventDefault();\n                  }\n                }\n                else if(pressedKey == keys.rightArrow) {\n                  // activate first label\n                  if(isFocused && !hasActiveLabel) {\n                    $label.first().addClass(className.active);\n                  }\n                  // activate next label\n                  if(hasActiveLabel) {\n                    if(!event.shiftKey) {\n                      module.verbose('Selecting next label');\n                      $label.removeClass(className.active);\n                    }\n                    else {\n                      module.verbose('Adding next label to selection');\n                    }\n                    if(isLastLabel) {\n                      if(isSearch) {\n                        if(!isFocusedOnSearch) {\n                          module.focusSearch();\n                        }\n                        else {\n                          $label.removeClass(className.active);\n                        }\n                      }\n                      else if(hasMultipleActive) {\n                        $activeLabel.next(selector.siblingLabel).addClass(className.active);\n                      }\n                      else {\n                        $activeLabel.addClass(className.active);\n                      }\n                    }\n                    else {\n                      $activeLabel.next(selector.siblingLabel).addClass(className.active);\n                    }\n                    event.preventDefault();\n                  }\n                }\n                else if(pressedKey == keys.deleteKey || pressedKey == keys.backspace) {\n                  if(hasActiveLabel) {\n                    module.verbose('Removing active labels');\n                    if(isLastLabel) {\n                      if(isSearch && !isFocusedOnSearch) {\n                        module.focusSearch();\n                      }\n                    }\n                    $activeLabel.last().next(selector.siblingLabel).addClass(className.active);\n                    module.remove.activeLabels($activeLabel);\n                    event.preventDefault();\n                  }\n                  else if(caretAtStart && !isSelectedSearch && !hasActiveLabel && pressedKey == keys.backspace) {\n                    module.verbose('Removing last label on input backspace');\n                    $activeLabel = $label.last().addClass(className.active);\n                    module.remove.activeLabels($activeLabel);\n                  }\n                }\n                else {\n                  $activeLabel.removeClass(className.active);\n                }\n              }\n            }\n          },\n\n          keydown: function(event) {\n            var\n              pressedKey    = event.which,\n              isShortcutKey = module.is.inObject(pressedKey, keys)\n            ;\n            if(isShortcutKey) {\n              var\n                $currentlySelected = $item.not(selector.unselectable).filter('.' + className.selected).eq(0),\n                $activeItem        = $menu.children('.' + className.active).eq(0),\n                $selectedItem      = ($currentlySelected.length > 0)\n                  ? $currentlySelected\n                  : $activeItem,\n                $visibleItems = ($selectedItem.length > 0)\n                  ? $selectedItem.siblings(':not(.' + className.filtered +')').addBack()\n                  : $menu.children(':not(.' + className.filtered +')'),\n                $subMenu              = $selectedItem.children(selector.menu),\n                $parentMenu           = $selectedItem.closest(selector.menu),\n                inVisibleMenu         = ($parentMenu.hasClass(className.visible) || $parentMenu.hasClass(className.animating) || $parentMenu.parent(selector.menu).length > 0),\n                hasSubMenu            = ($subMenu.length> 0),\n                hasSelectedItem       = ($selectedItem.length > 0),\n                selectedIsSelectable  = ($selectedItem.not(selector.unselectable).length > 0),\n                delimiterPressed      = (pressedKey == keys.delimiter && settings.allowAdditions && module.is.multiple()),\n                isAdditionWithoutMenu = (settings.allowAdditions && settings.hideAdditions && (pressedKey == keys.enter || delimiterPressed) && selectedIsSelectable),\n                $nextItem,\n                isSubMenuItem,\n                newIndex\n              ;\n              // allow selection with menu closed\n              if(isAdditionWithoutMenu) {\n                module.verbose('Selecting item from keyboard shortcut', $selectedItem);\n                module.event.item.click.call($selectedItem, event);\n                if(module.is.searchSelection()) {\n                  module.remove.searchTerm();\n                }\n                if(module.is.multiple()){\n                    event.preventDefault();\n                }\n              }\n\n              // visible menu keyboard shortcuts\n              if( module.is.visible() ) {\n\n                // enter (select or open sub-menu)\n                if(pressedKey == keys.enter || delimiterPressed) {\n                  if(pressedKey == keys.enter && hasSelectedItem && hasSubMenu && !settings.allowCategorySelection) {\n                    module.verbose('Pressed enter on unselectable category, opening sub menu');\n                    pressedKey = keys.rightArrow;\n                  }\n                  else if(selectedIsSelectable) {\n                    module.verbose('Selecting item from keyboard shortcut', $selectedItem);\n                    module.event.item.click.call($selectedItem, event);\n                    if(module.is.searchSelection()) {\n                      module.remove.searchTerm();\n                      if(module.is.multiple()) {\n                          $search.focus();\n                      }\n                    }\n                  }\n                  event.preventDefault();\n                }\n\n                // sub-menu actions\n                if(hasSelectedItem) {\n\n                  if(pressedKey == keys.leftArrow) {\n\n                    isSubMenuItem = ($parentMenu[0] !== $menu[0]);\n\n                    if(isSubMenuItem) {\n                      module.verbose('Left key pressed, closing sub-menu');\n                      module.animate.hide(false, $parentMenu);\n                      $selectedItem\n                        .removeClass(className.selected)\n                      ;\n                      $parentMenu\n                        .closest(selector.item)\n                          .addClass(className.selected)\n                      ;\n                      event.preventDefault();\n                    }\n                  }\n\n                  // right arrow (show sub-menu)\n                  if(pressedKey == keys.rightArrow) {\n                    if(hasSubMenu) {\n                      module.verbose('Right key pressed, opening sub-menu');\n                      module.animate.show(false, $subMenu);\n                      $selectedItem\n                        .removeClass(className.selected)\n                      ;\n                      $subMenu\n                        .find(selector.item).eq(0)\n                          .addClass(className.selected)\n                      ;\n                      event.preventDefault();\n                    }\n                  }\n                }\n\n                // up arrow (traverse menu up)\n                if(pressedKey == keys.upArrow) {\n                  $nextItem = (hasSelectedItem && inVisibleMenu)\n                    ? $selectedItem.prevAll(selector.item + ':not(' + selector.unselectable + ')').eq(0)\n                    : $item.eq(0)\n                  ;\n                  if($visibleItems.index( $nextItem ) < 0) {\n                    module.verbose('Up key pressed but reached top of current menu');\n                    event.preventDefault();\n                    return;\n                  }\n                  else {\n                    module.verbose('Up key pressed, changing active item');\n                    $selectedItem\n                      .removeClass(className.selected)\n                    ;\n                    $nextItem\n                      .addClass(className.selected)\n                    ;\n                    module.set.scrollPosition($nextItem);\n                    if(settings.selectOnKeydown && module.is.single()) {\n                      module.set.selectedItem($nextItem);\n                    }\n                  }\n                  event.preventDefault();\n                }\n\n                // down arrow (traverse menu down)\n                if(pressedKey == keys.downArrow) {\n                  $nextItem = (hasSelectedItem && inVisibleMenu)\n                    ? $nextItem = $selectedItem.nextAll(selector.item + ':not(' + selector.unselectable + ')').eq(0)\n                    : $item.eq(0)\n                  ;\n                  if($nextItem.length === 0) {\n                    module.verbose('Down key pressed but reached bottom of current menu');\n                    event.preventDefault();\n                    return;\n                  }\n                  else {\n                    module.verbose('Down key pressed, changing active item');\n                    $item\n                      .removeClass(className.selected)\n                    ;\n                    $nextItem\n                      .addClass(className.selected)\n                    ;\n                    module.set.scrollPosition($nextItem);\n                    if(settings.selectOnKeydown && module.is.single()) {\n                      module.set.selectedItem($nextItem);\n                    }\n                  }\n                  event.preventDefault();\n                }\n\n                // page down (show next page)\n                if(pressedKey == keys.pageUp) {\n                  module.scrollPage('up');\n                  event.preventDefault();\n                }\n                if(pressedKey == keys.pageDown) {\n                  module.scrollPage('down');\n                  event.preventDefault();\n                }\n\n                // escape (close menu)\n                if(pressedKey == keys.escape) {\n                  module.verbose('Escape key pressed, closing dropdown');\n                  module.hide();\n                }\n\n              }\n              else {\n                // delimiter key\n                if(delimiterPressed) {\n                  event.preventDefault();\n                }\n                // down arrow (open menu)\n                if(pressedKey == keys.downArrow && !module.is.visible()) {\n                  module.verbose('Down key pressed, showing dropdown');\n                  module.show();\n                  event.preventDefault();\n                }\n              }\n            }\n            else {\n              if( !module.has.search() ) {\n                module.set.selectedLetter( String.fromCharCode(pressedKey) );\n              }\n            }\n          }\n        },\n\n        trigger: {\n          change: function() {\n            var\n              inputElement = $input[0]\n            ;\n            if(inputElement) {\n              var events = document.createEvent('HTMLEvents');\n              module.verbose('Triggering native change event');\n              events.initEvent('change', true, false);\n              inputElement.dispatchEvent(events);\n            }\n          }\n        },\n\n        determine: {\n          selectAction: function(text, value) {\n            selectActionActive = true;\n            module.verbose('Determining action', settings.action);\n            if( $.isFunction( module.action[settings.action] ) ) {\n              module.verbose('Triggering preset action', settings.action, text, value);\n              module.action[ settings.action ].call(element, text, value, this);\n            }\n            else if( $.isFunction(settings.action) ) {\n              module.verbose('Triggering user action', settings.action, text, value);\n              settings.action.call(element, text, value, this);\n            }\n            else {\n              module.error(error.action, settings.action);\n            }\n            selectActionActive = false;\n          },\n          eventInModule: function(event, callback) {\n            var\n              $target    = $(event.target),\n              inDocument = ($target.closest(document.documentElement).length > 0),\n              inModule   = ($target.closest($module).length > 0)\n            ;\n            callback = $.isFunction(callback)\n              ? callback\n              : function(){}\n            ;\n            if(inDocument && !inModule) {\n              module.verbose('Triggering event', callback);\n              callback();\n              return true;\n            }\n            else {\n              module.verbose('Event occurred in dropdown, canceling callback');\n              return false;\n            }\n          },\n          eventOnElement: function(event, callback) {\n            var\n              $target      = $(event.target),\n              $label       = $target.closest(selector.siblingLabel),\n              inVisibleDOM = document.body.contains(event.target),\n              notOnLabel   = ($module.find($label).length === 0 || !(module.is.multiple() && settings.useLabels)),\n              notInMenu    = ($target.closest($menu).length === 0)\n            ;\n            callback = $.isFunction(callback)\n              ? callback\n              : function(){}\n            ;\n            if(inVisibleDOM && notOnLabel && notInMenu) {\n              module.verbose('Triggering event', callback);\n              callback();\n              return true;\n            }\n            else {\n              module.verbose('Event occurred in dropdown menu, canceling callback');\n              return false;\n            }\n          }\n        },\n\n        action: {\n\n          nothing: function() {},\n\n          activate: function(text, value, element) {\n            value = (value !== undefined)\n              ? value\n              : text\n            ;\n            if( module.can.activate( $(element) ) ) {\n              module.set.selected(value, $(element));\n              if(!module.is.multiple()) {\n                module.hideAndClear();\n              }\n            }\n          },\n\n          select: function(text, value, element) {\n            value = (value !== undefined)\n              ? value\n              : text\n            ;\n            if( module.can.activate( $(element) ) ) {\n              module.set.value(value, text, $(element));\n              if(!module.is.multiple()) {\n                module.hideAndClear();\n              }\n            }\n          },\n\n          combo: function(text, value, element) {\n            value = (value !== undefined)\n              ? value\n              : text\n            ;\n            module.set.selected(value, $(element));\n            module.hideAndClear();\n          },\n\n          hide: function(text, value, element) {\n            module.set.value(value, text, $(element));\n            module.hideAndClear();\n          }\n\n        },\n\n        get: {\n          id: function() {\n            return id;\n          },\n          defaultText: function() {\n            return $module.data(metadata.defaultText);\n          },\n          defaultValue: function() {\n            return $module.data(metadata.defaultValue);\n          },\n          placeholderText: function() {\n            if(settings.placeholder != 'auto' && typeof settings.placeholder == 'string') {\n              return settings.placeholder;\n            }\n            return $module.data(metadata.placeholderText) || '';\n          },\n          text: function() {\n            return settings.preserveHTML ? $text.html() : $text.text();\n          },\n          query: function() {\n            return String($search.val()).trim();\n          },\n          searchWidth: function(value) {\n            value = (value !== undefined)\n              ? value\n              : $search.val()\n            ;\n            $sizer.text(value);\n            // prevent rounding issues\n            return Math.ceil( $sizer.width() + 1);\n          },\n          selectionCount: function() {\n            var\n              values = module.get.values(),\n              count\n            ;\n            count = ( module.is.multiple() )\n              ? Array.isArray(values)\n                ? values.length\n                : 0\n              : (module.get.value() !== '')\n                ? 1\n                : 0\n            ;\n            return count;\n          },\n          transition: function($subMenu) {\n            return (settings.transition === 'auto')\n              ? module.is.upward($subMenu)\n                ? 'slide up'\n                : 'slide down'\n              : settings.transition\n            ;\n          },\n          userValues: function() {\n            var\n              values = module.get.values()\n            ;\n            if(!values) {\n              return false;\n            }\n            values = Array.isArray(values)\n              ? values\n              : [values]\n            ;\n            return $.grep(values, function(value) {\n              return (module.get.item(value) === false);\n            });\n          },\n          uniqueArray: function(array) {\n            return $.grep(array, function (value, index) {\n                return $.inArray(value, array) === index;\n            });\n          },\n          caretPosition: function(returnEndPos) {\n            var\n              input = $search.get(0),\n              range,\n              rangeLength\n            ;\n            if(returnEndPos && 'selectionEnd' in input){\n              return input.selectionEnd;\n            }\n            else if(!returnEndPos && 'selectionStart' in input) {\n              return input.selectionStart;\n            }\n            if (document.selection) {\n              input.focus();\n              range       = document.selection.createRange();\n              rangeLength = range.text.length;\n              if(returnEndPos) {\n                return rangeLength;\n              }\n              range.moveStart('character', -input.value.length);\n              return range.text.length - rangeLength;\n            }\n          },\n          value: function() {\n            var\n              value = ($input.length > 0)\n                ? $input.val()\n                : $module.data(metadata.value),\n              isEmptyMultiselect = (Array.isArray(value) && value.length === 1 && value[0] === '')\n            ;\n            // prevents placeholder element from being selected when multiple\n            return (value === undefined || isEmptyMultiselect)\n              ? ''\n              : value\n            ;\n          },\n          values: function(raw) {\n            var\n              value = module.get.value()\n            ;\n            if(value === '') {\n              return '';\n            }\n            return ( !module.has.selectInput() && module.is.multiple() )\n              ? (typeof value == 'string') // delimited string\n                ? (raw ? value : module.escape.htmlEntities(value)).split(settings.delimiter)\n                : ''\n              : value\n            ;\n          },\n          remoteValues: function() {\n            var\n              values = module.get.values(),\n              remoteValues = false\n            ;\n            if(values) {\n              if(typeof values == 'string') {\n                values = [values];\n              }\n              $.each(values, function(index, value) {\n                var\n                  name = module.read.remoteData(value)\n                ;\n                module.verbose('Restoring value from session data', name, value);\n                if(name) {\n                  if(!remoteValues) {\n                    remoteValues = {};\n                  }\n                  remoteValues[value] = name;\n                }\n              });\n            }\n            return remoteValues;\n          },\n          choiceText: function($choice, preserveHTML) {\n            preserveHTML = (preserveHTML !== undefined)\n              ? preserveHTML\n              : settings.preserveHTML\n            ;\n            if($choice) {\n              if($choice.find(selector.menu).length > 0) {\n                module.verbose('Retrieving text of element with sub-menu');\n                $choice = $choice.clone();\n                $choice.find(selector.menu).remove();\n                $choice.find(selector.menuIcon).remove();\n              }\n              return ($choice.data(metadata.text) !== undefined)\n                ? $choice.data(metadata.text)\n                : (preserveHTML)\n                  ? $choice.html() && $choice.html().trim()\n                  : $choice.text() && $choice.text().trim()\n              ;\n            }\n          },\n          choiceValue: function($choice, choiceText) {\n            choiceText = choiceText || module.get.choiceText($choice);\n            if(!$choice) {\n              return false;\n            }\n            return ($choice.data(metadata.value) !== undefined)\n              ? String( $choice.data(metadata.value) )\n              : (typeof choiceText === 'string')\n                ? String(\n                  settings.ignoreSearchCase\n                  ? choiceText.toLowerCase()\n                  : choiceText\n                ).trim()\n                : String(choiceText)\n            ;\n          },\n          inputEvent: function() {\n            var\n              input = $search[0]\n            ;\n            if(input) {\n              return (input.oninput !== undefined)\n                ? 'input'\n                : (input.onpropertychange !== undefined)\n                  ? 'propertychange'\n                  : 'keyup'\n              ;\n            }\n            return false;\n          },\n          selectValues: function() {\n            var\n              select = {},\n              oldGroup = [],\n              values = []\n            ;\n            $module\n              .find('option')\n                .each(function() {\n                  var\n                    $option  = $(this),\n                    name     = $option.html(),\n                    disabled = $option.attr('disabled'),\n                    value    = ( $option.attr('value') !== undefined )\n                      ? $option.attr('value')\n                      : name,\n                    text     = ( $option.data(metadata.text) !== undefined )\n                      ? $option.data(metadata.text)\n                      : name,\n                    group = $option.parent('optgroup')\n                  ;\n                  if(settings.placeholder === 'auto' && value === '') {\n                    select.placeholder = name;\n                  }\n                  else {\n                    if(group.length !== oldGroup.length || group[0] !== oldGroup[0]) {\n                      values.push({\n                        type: 'header',\n                        divider: settings.headerDivider,\n                        name: group.attr('label') || ''\n                      });\n                      oldGroup = group;\n                    }\n                    values.push({\n                      name     : name,\n                      value    : value,\n                      text     : text,\n                      disabled : disabled\n                    });\n                  }\n                })\n            ;\n            if(settings.placeholder && settings.placeholder !== 'auto') {\n              module.debug('Setting placeholder value to', settings.placeholder);\n              select.placeholder = settings.placeholder;\n            }\n            if(settings.sortSelect) {\n              if(settings.sortSelect === true) {\n                values.sort(function(a, b) {\n                  return a.name.localeCompare(b.name);\n                });\n              } else if(settings.sortSelect === 'natural') {\n                values.sort(function(a, b) {\n                  return (a.name.toLowerCase().localeCompare(b.name.toLowerCase()));\n                });\n              } else if($.isFunction(settings.sortSelect)) {\n                values.sort(settings.sortSelect);\n              }\n              select[fields.values] = values;\n              module.debug('Retrieved and sorted values from select', select);\n            }\n            else {\n              select[fields.values] = values;\n              module.debug('Retrieved values from select', select);\n            }\n            return select;\n          },\n          activeItem: function() {\n            return $item.filter('.'  + className.active);\n          },\n          selectedItem: function() {\n            var\n              $selectedItem = $item.not(selector.unselectable).filter('.'  + className.selected)\n            ;\n            return ($selectedItem.length > 0)\n              ? $selectedItem\n              : $item.eq(0)\n            ;\n          },\n          itemWithAdditions: function(value) {\n            var\n              $items       = module.get.item(value),\n              $userItems   = module.create.userChoice(value),\n              hasUserItems = ($userItems && $userItems.length > 0)\n            ;\n            if(hasUserItems) {\n              $items = ($items.length > 0)\n                ? $items.add($userItems)\n                : $userItems\n              ;\n            }\n            return $items;\n          },\n          item: function(value, strict) {\n            var\n              $selectedItem = false,\n              shouldSearch,\n              isMultiple\n            ;\n            value = (value !== undefined)\n              ? value\n              : ( module.get.values() !== undefined)\n                ? module.get.values()\n                : module.get.text()\n            ;\n            isMultiple = (module.is.multiple() && Array.isArray(value));\n            shouldSearch = (isMultiple)\n              ? (value.length > 0)\n              : (value !== undefined && value !== null)\n            ;\n            strict     = (value === '' || value === false  || value === true)\n              ? true\n              : strict || false\n            ;\n            if(shouldSearch) {\n              $item\n                .each(function() {\n                  var\n                    $choice       = $(this),\n                    optionText    = module.get.choiceText($choice),\n                    optionValue   = module.get.choiceValue($choice, optionText)\n                  ;\n                  // safe early exit\n                  if(optionValue === null || optionValue === undefined) {\n                    return;\n                  }\n                  if(isMultiple) {\n                    if($.inArray(module.escape.htmlEntities(String(optionValue)), value.map(function(v){return String(v);})) !== -1) {\n                      $selectedItem = ($selectedItem)\n                        ? $selectedItem.add($choice)\n                        : $choice\n                      ;\n                    }\n                  }\n                  else if(strict) {\n                    module.verbose('Ambiguous dropdown value using strict type check', $choice, value);\n                    if( optionValue === value) {\n                      $selectedItem = $choice;\n                      return true;\n                    }\n                  }\n                  else {\n                    if(settings.ignoreCase) {\n                      optionValue = optionValue.toLowerCase();\n                      value = value.toLowerCase();\n                    }\n                    if(module.escape.htmlEntities(String(optionValue)) === module.escape.htmlEntities(String(value))) {\n                      module.verbose('Found select item by value', optionValue, value);\n                      $selectedItem = $choice;\n                      return true;\n                    }\n                  }\n                })\n              ;\n            }\n            return $selectedItem;\n          },\n          displayType: function() {\n            return $module.hasClass('column') ? 'flex' : settings.displayType;\n          }\n        },\n\n        check: {\n          maxSelections: function(selectionCount) {\n            if(settings.maxSelections) {\n              selectionCount = (selectionCount !== undefined)\n                ? selectionCount\n                : module.get.selectionCount()\n              ;\n              if(selectionCount >= settings.maxSelections) {\n                module.debug('Maximum selection count reached');\n                if(settings.useLabels) {\n                  $item.addClass(className.filtered);\n                  module.add.message(message.maxSelections);\n                }\n                return true;\n              }\n              else {\n                module.verbose('No longer at maximum selection count');\n                module.remove.message();\n                module.remove.filteredItem();\n                if(module.is.searchSelection()) {\n                  module.filterItems();\n                }\n                return false;\n              }\n            }\n            return true;\n          },\n          disabled: function(){\n            $search.attr('tabindex',module.is.disabled() ? -1 : 0);\n          }\n        },\n\n        restore: {\n          defaults: function(preventChangeTrigger) {\n            module.clear(preventChangeTrigger);\n            module.restore.defaultText();\n            module.restore.defaultValue();\n          },\n          defaultText: function() {\n            var\n              defaultText     = module.get.defaultText(),\n              placeholderText = module.get.placeholderText\n            ;\n            if(defaultText === placeholderText) {\n              module.debug('Restoring default placeholder text', defaultText);\n              module.set.placeholderText(defaultText);\n            }\n            else {\n              module.debug('Restoring default text', defaultText);\n              module.set.text(defaultText);\n            }\n          },\n          placeholderText: function() {\n            module.set.placeholderText();\n          },\n          defaultValue: function() {\n            var\n              defaultValue = module.get.defaultValue()\n            ;\n            if(defaultValue !== undefined) {\n              module.debug('Restoring default value', defaultValue);\n              if(defaultValue !== '') {\n                module.set.value(defaultValue);\n                module.set.selected();\n              }\n              else {\n                module.remove.activeItem();\n                module.remove.selectedItem();\n              }\n            }\n          },\n          labels: function() {\n            if(settings.allowAdditions) {\n              if(!settings.useLabels) {\n                module.error(error.labels);\n                settings.useLabels = true;\n              }\n              module.debug('Restoring selected values');\n              module.create.userLabels();\n            }\n            module.check.maxSelections();\n          },\n          selected: function() {\n            module.restore.values();\n            if(module.is.multiple()) {\n              module.debug('Restoring previously selected values and labels');\n              module.restore.labels();\n            }\n            else {\n              module.debug('Restoring previously selected values');\n            }\n          },\n          values: function() {\n            // prevents callbacks from occurring on initial load\n            module.set.initialLoad();\n            if(settings.apiSettings && settings.saveRemoteData && module.get.remoteValues()) {\n              module.restore.remoteValues();\n            }\n            else {\n              module.set.selected();\n            }\n            var value = module.get.value();\n            if(value && value !== '' && !(Array.isArray(value) && value.length === 0)) {\n              $input.removeClass(className.noselection);\n            } else {\n              $input.addClass(className.noselection);\n            }\n            module.remove.initialLoad();\n          },\n          remoteValues: function() {\n            var\n              values = module.get.remoteValues()\n            ;\n            module.debug('Recreating selected from session data', values);\n            if(values) {\n              if( module.is.single() ) {\n                $.each(values, function(value, name) {\n                  module.set.text(name);\n                });\n              }\n              else {\n                $.each(values, function(value, name) {\n                  module.add.label(value, name);\n                });\n              }\n            }\n          }\n        },\n\n        read: {\n          remoteData: function(value) {\n            var\n              name\n            ;\n            if(window.Storage === undefined) {\n              module.error(error.noStorage);\n              return;\n            }\n            name = sessionStorage.getItem(value);\n            return (name !== undefined)\n              ? name\n              : false\n            ;\n          }\n        },\n\n        save: {\n          defaults: function() {\n            module.save.defaultText();\n            module.save.placeholderText();\n            module.save.defaultValue();\n          },\n          defaultValue: function() {\n            var\n              value = module.get.value()\n            ;\n            module.verbose('Saving default value as', value);\n            $module.data(metadata.defaultValue, value);\n          },\n          defaultText: function() {\n            var\n              text = module.get.text()\n            ;\n            module.verbose('Saving default text as', text);\n            $module.data(metadata.defaultText, text);\n          },\n          placeholderText: function() {\n            var\n              text\n            ;\n            if(settings.placeholder !== false && $text.hasClass(className.placeholder)) {\n              text = module.get.text();\n              module.verbose('Saving placeholder text as', text);\n              $module.data(metadata.placeholderText, text);\n            }\n          },\n          remoteData: function(name, value) {\n            if(window.Storage === undefined) {\n              module.error(error.noStorage);\n              return;\n            }\n            module.verbose('Saving remote data to session storage', value, name);\n            sessionStorage.setItem(value, name);\n          }\n        },\n\n        clear: function(preventChangeTrigger) {\n          if(module.is.multiple() && settings.useLabels) {\n            module.remove.labels($module.find(selector.label), preventChangeTrigger);\n          }\n          else {\n            module.remove.activeItem();\n            module.remove.selectedItem();\n            module.remove.filteredItem();\n          }\n          module.set.placeholderText();\n          module.clearValue(preventChangeTrigger);\n        },\n\n        clearValue: function(preventChangeTrigger) {\n          module.set.value('', null, null, preventChangeTrigger);\n        },\n\n        scrollPage: function(direction, $selectedItem) {\n          var\n            $currentItem  = $selectedItem || module.get.selectedItem(),\n            $menu         = $currentItem.closest(selector.menu),\n            menuHeight    = $menu.outerHeight(),\n            currentScroll = $menu.scrollTop(),\n            itemHeight    = $item.eq(0).outerHeight(),\n            itemsPerPage  = Math.floor(menuHeight / itemHeight),\n            maxScroll     = $menu.prop('scrollHeight'),\n            newScroll     = (direction == 'up')\n              ? currentScroll - (itemHeight * itemsPerPage)\n              : currentScroll + (itemHeight * itemsPerPage),\n            $selectableItem = $item.not(selector.unselectable),\n            isWithinRange,\n            $nextSelectedItem,\n            elementIndex\n          ;\n          elementIndex      = (direction == 'up')\n            ? $selectableItem.index($currentItem) - itemsPerPage\n            : $selectableItem.index($currentItem) + itemsPerPage\n          ;\n          isWithinRange = (direction == 'up')\n            ? (elementIndex >= 0)\n            : (elementIndex < $selectableItem.length)\n          ;\n          $nextSelectedItem = (isWithinRange)\n            ? $selectableItem.eq(elementIndex)\n            : (direction == 'up')\n              ? $selectableItem.first()\n              : $selectableItem.last()\n          ;\n          if($nextSelectedItem.length > 0) {\n            module.debug('Scrolling page', direction, $nextSelectedItem);\n            $currentItem\n              .removeClass(className.selected)\n            ;\n            $nextSelectedItem\n              .addClass(className.selected)\n            ;\n            if(settings.selectOnKeydown && module.is.single()) {\n              module.set.selectedItem($nextSelectedItem);\n            }\n            $menu\n              .scrollTop(newScroll)\n            ;\n          }\n        },\n\n        set: {\n          filtered: function() {\n            var\n              isMultiple       = module.is.multiple(),\n              isSearch         = module.is.searchSelection(),\n              isSearchMultiple = (isMultiple && isSearch),\n              searchValue      = (isSearch)\n                ? module.get.query()\n                : '',\n              hasSearchValue   = (typeof searchValue === 'string' && searchValue.length > 0),\n              searchWidth      = module.get.searchWidth(),\n              valueIsSet       = searchValue !== ''\n            ;\n            if(isMultiple && hasSearchValue) {\n              module.verbose('Adjusting input width', searchWidth, settings.glyphWidth);\n              $search.css('width', searchWidth);\n            }\n            if(hasSearchValue || (isSearchMultiple && valueIsSet)) {\n              module.verbose('Hiding placeholder text');\n              $text.addClass(className.filtered);\n            }\n            else if(!isMultiple || (isSearchMultiple && !valueIsSet)) {\n              module.verbose('Showing placeholder text');\n              $text.removeClass(className.filtered);\n            }\n          },\n          empty: function() {\n            $module.addClass(className.empty);\n          },\n          loading: function() {\n            $module.addClass(className.loading);\n          },\n          placeholderText: function(text) {\n            text = text || module.get.placeholderText();\n            module.debug('Setting placeholder text', text);\n            module.set.text(text);\n            $text.addClass(className.placeholder);\n          },\n          tabbable: function() {\n            if( module.is.searchSelection() ) {\n              module.debug('Added tabindex to searchable dropdown');\n              $search\n                .val('')\n              ;\n              module.check.disabled();\n              $menu\n                .attr('tabindex', -1)\n              ;\n            }\n            else {\n              module.debug('Added tabindex to dropdown');\n              if( $module.attr('tabindex') === undefined) {\n                $module\n                  .attr('tabindex', 0)\n                ;\n                $menu\n                  .attr('tabindex', -1)\n                ;\n              }\n            }\n          },\n          initialLoad: function() {\n            module.verbose('Setting initial load');\n            initialLoad = true;\n          },\n          activeItem: function($item) {\n            if( settings.allowAdditions && $item.filter(selector.addition).length > 0 ) {\n              $item.addClass(className.filtered);\n            }\n            else {\n              $item.addClass(className.active);\n            }\n          },\n          partialSearch: function(text) {\n            var\n              length = module.get.query().length\n            ;\n            $search.val( text.substr(0, length));\n          },\n          scrollPosition: function($item, forceScroll) {\n            var\n              edgeTolerance = 5,\n              $menu,\n              hasActive,\n              offset,\n              itemHeight,\n              itemOffset,\n              menuOffset,\n              menuScroll,\n              menuHeight,\n              abovePage,\n              belowPage\n            ;\n\n            $item       = $item || module.get.selectedItem();\n            $menu       = $item.closest(selector.menu);\n            hasActive   = ($item && $item.length > 0);\n            forceScroll = (forceScroll !== undefined)\n              ? forceScroll\n              : false\n            ;\n            if(module.get.activeItem().length === 0){\n              forceScroll = false;\n            }\n            if($item && $menu.length > 0 && hasActive) {\n              itemOffset = $item.position().top;\n\n              $menu.addClass(className.loading);\n              menuScroll = $menu.scrollTop();\n              menuOffset = $menu.offset().top;\n              itemOffset = $item.offset().top;\n              offset     = menuScroll - menuOffset + itemOffset;\n              if(!forceScroll) {\n                menuHeight = $menu.height();\n                belowPage  = menuScroll + menuHeight < (offset + edgeTolerance);\n                abovePage  = ((offset - edgeTolerance) < menuScroll);\n              }\n              module.debug('Scrolling to active item', offset);\n              if(forceScroll || abovePage || belowPage) {\n                $menu.scrollTop(offset);\n              }\n              $menu.removeClass(className.loading);\n            }\n          },\n          text: function(text) {\n            if(settings.action === 'combo') {\n              module.debug('Changing combo button text', text, $combo);\n              if(settings.preserveHTML) {\n                $combo.html(text);\n              }\n              else {\n                $combo.text(text);\n              }\n            }\n            else if(settings.action === 'activate') {\n              if(text !== module.get.placeholderText()) {\n                $text.removeClass(className.placeholder);\n              }\n              module.debug('Changing text', text, $text);\n              $text\n                .removeClass(className.filtered)\n              ;\n              if(settings.preserveHTML) {\n                $text.html(text);\n              }\n              else {\n                $text.text(text);\n              }\n            }\n          },\n          selectedItem: function($item) {\n            var\n              value      = module.get.choiceValue($item),\n              searchText = module.get.choiceText($item, false),\n              text       = module.get.choiceText($item, true)\n            ;\n            module.debug('Setting user selection to item', $item);\n            module.remove.activeItem();\n            module.set.partialSearch(searchText);\n            module.set.activeItem($item);\n            module.set.selected(value, $item);\n            module.set.text(text);\n          },\n          selectedLetter: function(letter) {\n            var\n              $selectedItem         = $item.filter('.' + className.selected),\n              alreadySelectedLetter = $selectedItem.length > 0 && module.has.firstLetter($selectedItem, letter),\n              $nextValue            = false,\n              $nextItem\n            ;\n            // check next of same letter\n            if(alreadySelectedLetter) {\n              $nextItem = $selectedItem.nextAll($item).eq(0);\n              if( module.has.firstLetter($nextItem, letter) ) {\n                $nextValue  = $nextItem;\n              }\n            }\n            // check all values\n            if(!$nextValue) {\n              $item\n                .each(function(){\n                  if(module.has.firstLetter($(this), letter)) {\n                    $nextValue = $(this);\n                    return false;\n                  }\n                })\n              ;\n            }\n            // set next value\n            if($nextValue) {\n              module.verbose('Scrolling to next value with letter', letter);\n              module.set.scrollPosition($nextValue);\n              $selectedItem.removeClass(className.selected);\n              $nextValue.addClass(className.selected);\n              if(settings.selectOnKeydown && module.is.single()) {\n                module.set.selectedItem($nextValue);\n              }\n            }\n          },\n          direction: function($menu) {\n            if(settings.direction == 'auto') {\n              // reset position, remove upward if it's base menu\n              if (!$menu) {\n                module.remove.upward();\n              } else if (module.is.upward($menu)) {\n                //we need make sure when make assertion openDownward for $menu, $menu does not have upward class\n                module.remove.upward($menu);\n              }\n\n              if(module.can.openDownward($menu)) {\n                module.remove.upward($menu);\n              }\n              else {\n                module.set.upward($menu);\n              }\n              if(!module.is.leftward($menu) && !module.can.openRightward($menu)) {\n                module.set.leftward($menu);\n              }\n            }\n            else if(settings.direction == 'upward') {\n              module.set.upward($menu);\n            }\n          },\n          upward: function($currentMenu) {\n            var $element = $currentMenu || $module;\n            $element.addClass(className.upward);\n          },\n          leftward: function($currentMenu) {\n            var $element = $currentMenu || $menu;\n            $element.addClass(className.leftward);\n          },\n          value: function(value, text, $selected, preventChangeTrigger) {\n            if(value !== undefined && value !== '' && !(Array.isArray(value) && value.length === 0)) {\n              $input.removeClass(className.noselection);\n            } else {\n              $input.addClass(className.noselection);\n            }\n            var\n              escapedValue = module.escape.value(value),\n              hasInput     = ($input.length > 0),\n              currentValue = module.get.values(),\n              stringValue  = (value !== undefined)\n                ? String(value)\n                : value,\n              newValue\n            ;\n            if(hasInput) {\n              if(!settings.allowReselection && stringValue == currentValue) {\n                module.verbose('Skipping value update already same value', value, currentValue);\n                if(!module.is.initialLoad()) {\n                  return;\n                }\n              }\n\n              if( module.is.single() && module.has.selectInput() && module.can.extendSelect() ) {\n                module.debug('Adding user option', value);\n                module.add.optionValue(value);\n              }\n              module.debug('Updating input value', escapedValue, currentValue);\n              internalChange = true;\n              $input\n                .val(escapedValue)\n              ;\n              if(settings.fireOnInit === false && module.is.initialLoad()) {\n                module.debug('Input native change event ignored on initial load');\n              }\n              else if(preventChangeTrigger !== true) {\n                module.trigger.change();\n              }\n              internalChange = false;\n            }\n            else {\n              module.verbose('Storing value in metadata', escapedValue, $input);\n              if(escapedValue !== currentValue) {\n                $module.data(metadata.value, stringValue);\n              }\n            }\n            if(settings.fireOnInit === false && module.is.initialLoad()) {\n              module.verbose('No callback on initial load', settings.onChange);\n            }\n            else if(preventChangeTrigger !== true) {\n              settings.onChange.call(element, value, text, $selected);\n            }\n          },\n          active: function() {\n            $module\n              .addClass(className.active)\n            ;\n          },\n          multiple: function() {\n            $module.addClass(className.multiple);\n          },\n          visible: function() {\n            $module.addClass(className.visible);\n          },\n          exactly: function(value, $selectedItem) {\n            module.debug('Setting selected to exact values');\n            module.clear();\n            module.set.selected(value, $selectedItem);\n          },\n          selected: function(value, $selectedItem, preventChangeTrigger, keepSearchTerm) {\n            var\n              isMultiple = module.is.multiple()\n            ;\n            $selectedItem = (settings.allowAdditions)\n              ? $selectedItem || module.get.itemWithAdditions(value)\n              : $selectedItem || module.get.item(value)\n            ;\n            if(!$selectedItem) {\n              return;\n            }\n            module.debug('Setting selected menu item to', $selectedItem);\n            if(module.is.multiple()) {\n              module.remove.searchWidth();\n            }\n            if(module.is.single()) {\n              module.remove.activeItem();\n              module.remove.selectedItem();\n            }\n            else if(settings.useLabels) {\n              module.remove.selectedItem();\n            }\n            // select each item\n            $selectedItem\n              .each(function() {\n                var\n                  $selected      = $(this),\n                  selectedText   = module.get.choiceText($selected),\n                  selectedValue  = module.get.choiceValue($selected, selectedText),\n\n                  isFiltered     = $selected.hasClass(className.filtered),\n                  isActive       = $selected.hasClass(className.active),\n                  isUserValue    = $selected.hasClass(className.addition),\n                  shouldAnimate  = (isMultiple && $selectedItem.length == 1)\n                ;\n                if(isMultiple) {\n                  if(!isActive || isUserValue) {\n                    if(settings.apiSettings && settings.saveRemoteData) {\n                      module.save.remoteData(selectedText, selectedValue);\n                    }\n                    if(settings.useLabels) {\n                      module.add.label(selectedValue, selectedText, shouldAnimate);\n                      module.add.value(selectedValue, selectedText, $selected);\n                      module.set.activeItem($selected);\n                      module.filterActive();\n                      module.select.nextAvailable($selectedItem);\n                    }\n                    else {\n                      module.add.value(selectedValue, selectedText, $selected);\n                      module.set.text(module.add.variables(message.count));\n                      module.set.activeItem($selected);\n                    }\n                  }\n                  else if(!isFiltered && (settings.useLabels || selectActionActive)) {\n                    module.debug('Selected active value, removing label');\n                    module.remove.selected(selectedValue);\n                  }\n                }\n                else {\n                  if(settings.apiSettings && settings.saveRemoteData) {\n                    module.save.remoteData(selectedText, selectedValue);\n                  }\n                  if (!keepSearchTerm) {\n                    module.set.text(selectedText);\n                  }\n                  module.set.value(selectedValue, selectedText, $selected, preventChangeTrigger);\n                  $selected\n                    .addClass(className.active)\n                    .addClass(className.selected)\n                  ;\n                }\n              })\n            ;\n            if (!keepSearchTerm) {\n              module.remove.searchTerm();\n            }\n          }\n        },\n\n        add: {\n          label: function(value, text, shouldAnimate) {\n            var\n              $next  = module.is.searchSelection()\n                ? $search\n                : $text,\n              escapedValue = module.escape.value(value),\n              $label\n            ;\n            if(settings.ignoreCase) {\n              escapedValue = escapedValue.toLowerCase();\n            }\n            $label =  $('<a />')\n              .addClass(className.label)\n              .attr('data-' + metadata.value, escapedValue)\n              .html(templates.label(escapedValue, text, settings.preserveHTML, settings.className))\n            ;\n            $label = settings.onLabelCreate.call($label, escapedValue, text);\n\n            if(module.has.label(value)) {\n              module.debug('User selection already exists, skipping', escapedValue);\n              return;\n            }\n            if(settings.label.variation) {\n              $label.addClass(settings.label.variation);\n            }\n            if(shouldAnimate === true) {\n              module.debug('Animating in label', $label);\n              $label\n                .addClass(className.hidden)\n                .insertBefore($next)\n                .transition({\n                    animation  : settings.label.transition,\n                    debug      : settings.debug,\n                    verbose    : settings.verbose,\n                    duration   : settings.label.duration\n                })\n              ;\n            }\n            else {\n              module.debug('Adding selection label', $label);\n              $label\n                .insertBefore($next)\n              ;\n            }\n          },\n          message: function(message) {\n            var\n              $message = $menu.children(selector.message),\n              html     = settings.templates.message(module.add.variables(message))\n            ;\n            if($message.length > 0) {\n              $message\n                .html(html)\n              ;\n            }\n            else {\n              $message = $('<div/>')\n                .html(html)\n                .addClass(className.message)\n                .appendTo($menu)\n              ;\n            }\n          },\n          optionValue: function(value) {\n            var\n              escapedValue = module.escape.value(value),\n              $option      = $input.find('option[value=\"' + module.escape.string(escapedValue) + '\"]'),\n              hasOption    = ($option.length > 0)\n            ;\n            if(hasOption) {\n              return;\n            }\n            // temporarily disconnect observer\n            module.disconnect.selectObserver();\n            if( module.is.single() ) {\n              module.verbose('Removing previous user addition');\n              $input.find('option.' + className.addition).remove();\n            }\n            $('<option/>')\n              .prop('value', escapedValue)\n              .addClass(className.addition)\n              .html(value)\n              .appendTo($input)\n            ;\n            module.verbose('Adding user addition as an <option>', value);\n            module.observe.select();\n          },\n          userSuggestion: function(value) {\n            var\n              $addition         = $menu.children(selector.addition),\n              $existingItem     = module.get.item(value),\n              alreadyHasValue   = $existingItem && $existingItem.not(selector.addition).length,\n              hasUserSuggestion = $addition.length > 0,\n              html\n            ;\n            if(settings.useLabels && module.has.maxSelections()) {\n              return;\n            }\n            if(value === '' || alreadyHasValue) {\n              $addition.remove();\n              return;\n            }\n            if(hasUserSuggestion) {\n              $addition\n                .data(metadata.value, value)\n                .data(metadata.text, value)\n                .attr('data-' + metadata.value, value)\n                .attr('data-' + metadata.text, value)\n                .removeClass(className.filtered)\n              ;\n              if(!settings.hideAdditions) {\n                html = settings.templates.addition( module.add.variables(message.addResult, value) );\n                $addition\n                  .html(html)\n                ;\n              }\n              module.verbose('Replacing user suggestion with new value', $addition);\n            }\n            else {\n              $addition = module.create.userChoice(value);\n              $addition\n                .prependTo($menu)\n              ;\n              module.verbose('Adding item choice to menu corresponding with user choice addition', $addition);\n            }\n            if(!settings.hideAdditions || module.is.allFiltered()) {\n              $addition\n                .addClass(className.selected)\n                .siblings()\n                .removeClass(className.selected)\n              ;\n            }\n            module.refreshItems();\n          },\n          variables: function(message, term) {\n            var\n              hasCount    = (message.search('{count}') !== -1),\n              hasMaxCount = (message.search('{maxCount}') !== -1),\n              hasTerm     = (message.search('{term}') !== -1),\n              count,\n              query\n            ;\n            module.verbose('Adding templated variables to message', message);\n            if(hasCount) {\n              count  = module.get.selectionCount();\n              message = message.replace('{count}', count);\n            }\n            if(hasMaxCount) {\n              count  = module.get.selectionCount();\n              message = message.replace('{maxCount}', settings.maxSelections);\n            }\n            if(hasTerm) {\n              query   = term || module.get.query();\n              message = message.replace('{term}', query);\n            }\n            return message;\n          },\n          value: function(addedValue, addedText, $selectedItem) {\n            var\n              currentValue = module.get.values(true),\n              newValue\n            ;\n            if(module.has.value(addedValue)) {\n              module.debug('Value already selected');\n              return;\n            }\n            if(addedValue === '') {\n              module.debug('Cannot select blank values from multiselect');\n              return;\n            }\n            // extend current array\n            if(Array.isArray(currentValue)) {\n              newValue = currentValue.concat([addedValue]);\n              newValue = module.get.uniqueArray(newValue);\n            }\n            else {\n              newValue = [addedValue];\n            }\n            // add values\n            if( module.has.selectInput() ) {\n              if(module.can.extendSelect()) {\n                module.debug('Adding value to select', addedValue, newValue, $input);\n                module.add.optionValue(addedValue);\n              }\n            }\n            else {\n              newValue = newValue.join(settings.delimiter);\n              module.debug('Setting hidden input to delimited value', newValue, $input);\n            }\n\n            if(settings.fireOnInit === false && module.is.initialLoad()) {\n              module.verbose('Skipping onadd callback on initial load', settings.onAdd);\n            }\n            else {\n              settings.onAdd.call(element, addedValue, addedText, $selectedItem);\n            }\n            module.set.value(newValue, addedText, $selectedItem);\n            module.check.maxSelections();\n          },\n        },\n\n        remove: {\n          active: function() {\n            $module.removeClass(className.active);\n          },\n          activeLabel: function() {\n            $module.find(selector.label).removeClass(className.active);\n          },\n          empty: function() {\n            $module.removeClass(className.empty);\n          },\n          loading: function() {\n            $module.removeClass(className.loading);\n          },\n          initialLoad: function() {\n            initialLoad = false;\n          },\n          upward: function($currentMenu) {\n            var $element = $currentMenu || $module;\n            $element.removeClass(className.upward);\n          },\n          leftward: function($currentMenu) {\n            var $element = $currentMenu || $menu;\n            $element.removeClass(className.leftward);\n          },\n          visible: function() {\n            $module.removeClass(className.visible);\n          },\n          activeItem: function() {\n            $item.removeClass(className.active);\n          },\n          filteredItem: function() {\n            if(settings.useLabels && module.has.maxSelections() ) {\n              return;\n            }\n            if(settings.useLabels && module.is.multiple()) {\n              $item.not('.' + className.active).removeClass(className.filtered);\n            }\n            else {\n              $item.removeClass(className.filtered);\n            }\n            if(settings.hideDividers) {\n              $divider.removeClass(className.hidden);\n            }\n            module.remove.empty();\n          },\n          optionValue: function(value) {\n            var\n              escapedValue = module.escape.value(value),\n              $option      = $input.find('option[value=\"' + module.escape.string(escapedValue) + '\"]'),\n              hasOption    = ($option.length > 0)\n            ;\n            if(!hasOption || !$option.hasClass(className.addition)) {\n              return;\n            }\n            // temporarily disconnect observer\n            if(selectObserver) {\n              selectObserver.disconnect();\n              module.verbose('Temporarily disconnecting mutation observer');\n            }\n            $option.remove();\n            module.verbose('Removing user addition as an <option>', escapedValue);\n            if(selectObserver) {\n              selectObserver.observe($input[0], {\n                childList : true,\n                subtree   : true\n              });\n            }\n          },\n          message: function() {\n            $menu.children(selector.message).remove();\n          },\n          searchWidth: function() {\n            $search.css('width', '');\n          },\n          searchTerm: function() {\n            module.verbose('Cleared search term');\n            $search.val('');\n            module.set.filtered();\n          },\n          userAddition: function() {\n            $item.filter(selector.addition).remove();\n          },\n          selected: function(value, $selectedItem, preventChangeTrigger) {\n            $selectedItem = (settings.allowAdditions)\n              ? $selectedItem || module.get.itemWithAdditions(value)\n              : $selectedItem || module.get.item(value)\n            ;\n\n            if(!$selectedItem) {\n              return false;\n            }\n\n            $selectedItem\n              .each(function() {\n                var\n                  $selected     = $(this),\n                  selectedText  = module.get.choiceText($selected),\n                  selectedValue = module.get.choiceValue($selected, selectedText)\n                ;\n                if(module.is.multiple()) {\n                  if(settings.useLabels) {\n                    module.remove.value(selectedValue, selectedText, $selected, preventChangeTrigger);\n                    module.remove.label(selectedValue);\n                  }\n                  else {\n                    module.remove.value(selectedValue, selectedText, $selected, preventChangeTrigger);\n                    if(module.get.selectionCount() === 0) {\n                      module.set.placeholderText();\n                    }\n                    else {\n                      module.set.text(module.add.variables(message.count));\n                    }\n                  }\n                }\n                else {\n                  module.remove.value(selectedValue, selectedText, $selected, preventChangeTrigger);\n                }\n                $selected\n                  .removeClass(className.filtered)\n                  .removeClass(className.active)\n                ;\n                if(settings.useLabels) {\n                  $selected.removeClass(className.selected);\n                }\n              })\n            ;\n          },\n          selectedItem: function() {\n            $item.removeClass(className.selected);\n          },\n          value: function(removedValue, removedText, $removedItem, preventChangeTrigger) {\n            var\n              values = module.get.values(),\n              newValue\n            ;\n            removedValue = module.escape.htmlEntities(removedValue);\n            if( module.has.selectInput() ) {\n              module.verbose('Input is <select> removing selected option', removedValue);\n              newValue = module.remove.arrayValue(removedValue, values);\n              module.remove.optionValue(removedValue);\n            }\n            else {\n              module.verbose('Removing from delimited values', removedValue);\n              newValue = module.remove.arrayValue(removedValue, values);\n              newValue = newValue.join(settings.delimiter);\n            }\n            if(settings.fireOnInit === false && module.is.initialLoad()) {\n              module.verbose('No callback on initial load', settings.onRemove);\n            }\n            else {\n              settings.onRemove.call(element, removedValue, removedText, $removedItem);\n            }\n            module.set.value(newValue, removedText, $removedItem, preventChangeTrigger);\n            module.check.maxSelections();\n          },\n          arrayValue: function(removedValue, values) {\n            if( !Array.isArray(values) ) {\n              values = [values];\n            }\n            values = $.grep(values, function(value){\n              return (removedValue != value);\n            });\n            module.verbose('Removed value from delimited string', removedValue, values);\n            return values;\n          },\n          label: function(value, shouldAnimate) {\n            var\n              escapedValue  = module.escape.value(value),\n              $labels       = $module.find(selector.label),\n              $removedLabel = $labels.filter('[data-' + metadata.value + '=\"' + module.escape.string(settings.ignoreCase ? escapedValue.toLowerCase() : escapedValue) +'\"]')\n            ;\n            module.verbose('Removing label', $removedLabel);\n            $removedLabel.remove();\n          },\n          activeLabels: function($activeLabels) {\n            $activeLabels = $activeLabels || $module.find(selector.label).filter('.' + className.active);\n            module.verbose('Removing active label selections', $activeLabels);\n            module.remove.labels($activeLabels);\n          },\n          labels: function($labels, preventChangeTrigger) {\n            $labels = $labels || $module.find(selector.label);\n            module.verbose('Removing labels', $labels);\n            $labels\n              .each(function(){\n                var\n                  $label      = $(this),\n                  value       = $label.data(metadata.value),\n                  stringValue = (value !== undefined)\n                    ? String(value)\n                    : value,\n                  isUserValue = module.is.userValue(stringValue)\n                ;\n                if(settings.onLabelRemove.call($label, value) === false) {\n                  module.debug('Label remove callback cancelled removal');\n                  return;\n                }\n                module.remove.message();\n                if(isUserValue) {\n                  module.remove.value(stringValue, stringValue, module.get.item(stringValue), preventChangeTrigger);\n                  module.remove.label(stringValue);\n                }\n                else {\n                  // selected will also remove label\n                  module.remove.selected(stringValue, false, preventChangeTrigger);\n                }\n              })\n            ;\n          },\n          tabbable: function() {\n            if( module.is.searchSelection() ) {\n              module.debug('Searchable dropdown initialized');\n              $search\n                .removeAttr('tabindex')\n              ;\n              $menu\n                .removeAttr('tabindex')\n              ;\n            }\n            else {\n              module.debug('Simple selection dropdown initialized');\n              $module\n                .removeAttr('tabindex')\n              ;\n              $menu\n                .removeAttr('tabindex')\n              ;\n            }\n          },\n          diacritics: function(text) {\n            return settings.ignoreDiacritics ?  text.normalize('NFD').replace(/[\\u0300-\\u036f]/g, '') : text;\n          }\n        },\n\n        has: {\n          menuSearch: function() {\n            return (module.has.search() && $search.closest($menu).length > 0);\n          },\n          clearItem: function() {\n            return ($clear.length > 0);\n          },\n          search: function() {\n            return ($search.length > 0);\n          },\n          sizer: function() {\n            return ($sizer.length > 0);\n          },\n          selectInput: function() {\n            return ( $input.is('select') );\n          },\n          minCharacters: function(searchTerm) {\n            if(settings.minCharacters && !iconClicked) {\n              searchTerm = (searchTerm !== undefined)\n                ? String(searchTerm)\n                : String(module.get.query())\n              ;\n              return (searchTerm.length >= settings.minCharacters);\n            }\n            iconClicked=false;\n            return true;\n          },\n          firstLetter: function($item, letter) {\n            var\n              text,\n              firstLetter\n            ;\n            if(!$item || $item.length === 0 || typeof letter !== 'string') {\n              return false;\n            }\n            text        = module.get.choiceText($item, false);\n            letter      = letter.toLowerCase();\n            firstLetter = String(text).charAt(0).toLowerCase();\n            return (letter == firstLetter);\n          },\n          input: function() {\n            return ($input.length > 0);\n          },\n          items: function() {\n            return ($item.length > 0);\n          },\n          menu: function() {\n            return ($menu.length > 0);\n          },\n          subMenu: function($currentMenu) {\n            return ($currentMenu || $menu).find(selector.menu).length > 0;\n          },\n          message: function() {\n            return ($menu.children(selector.message).length !== 0);\n          },\n          label: function(value) {\n            var\n              escapedValue = module.escape.value(value),\n              $labels      = $module.find(selector.label)\n            ;\n            if(settings.ignoreCase) {\n              escapedValue = escapedValue.toLowerCase();\n            }\n            return ($labels.filter('[data-' + metadata.value + '=\"' + module.escape.string(escapedValue) +'\"]').length > 0);\n          },\n          maxSelections: function() {\n            return (settings.maxSelections && module.get.selectionCount() >= settings.maxSelections);\n          },\n          allResultsFiltered: function() {\n            var\n              $normalResults = $item.not(selector.addition)\n            ;\n            return ($normalResults.filter(selector.unselectable).length === $normalResults.length);\n          },\n          userSuggestion: function() {\n            return ($menu.children(selector.addition).length > 0);\n          },\n          query: function() {\n            return (module.get.query() !== '');\n          },\n          value: function(value) {\n            return (settings.ignoreCase)\n              ? module.has.valueIgnoringCase(value)\n              : module.has.valueMatchingCase(value)\n            ;\n          },\n          valueMatchingCase: function(value) {\n            var\n              values   = module.get.values(true),\n              hasValue = Array.isArray(values)\n               ? values && ($.inArray(value, values) !== -1)\n               : (values == value)\n            ;\n            return (hasValue)\n              ? true\n              : false\n            ;\n          },\n          valueIgnoringCase: function(value) {\n            var\n              values   = module.get.values(true),\n              hasValue = false\n            ;\n            if(!Array.isArray(values)) {\n              values = [values];\n            }\n            $.each(values, function(index, existingValue) {\n              if(String(value).toLowerCase() == String(existingValue).toLowerCase()) {\n                hasValue = true;\n                return false;\n              }\n            });\n            return hasValue;\n          }\n        },\n\n        is: {\n          active: function() {\n            return $module.hasClass(className.active);\n          },\n          animatingInward: function() {\n            return $menu.transition('is inward');\n          },\n          animatingOutward: function() {\n            return $menu.transition('is outward');\n          },\n          bubbledLabelClick: function(event) {\n            return $(event.target).is('select, input') && $module.closest('label').length > 0;\n          },\n          bubbledIconClick: function(event) {\n            return $(event.target).closest($icon).length > 0;\n          },\n          chrome: function() {\n            return !!window.chrome && (!!window.chrome.webstore || !!window.chrome.runtime);\n          },\n          alreadySetup: function() {\n            return ($module.is('select') && $module.parent(selector.dropdown).data(moduleNamespace) !== undefined && $module.prev().length === 0);\n          },\n          animating: function($subMenu) {\n            return ($subMenu)\n              ? $subMenu.transition && $subMenu.transition('is animating')\n              : $menu.transition    && $menu.transition('is animating')\n            ;\n          },\n          leftward: function($subMenu) {\n            var $selectedMenu = $subMenu || $menu;\n            return $selectedMenu.hasClass(className.leftward);\n          },\n          clearable: function() {\n            return ($module.hasClass(className.clearable) || settings.clearable);\n          },\n          disabled: function() {\n            return $module.hasClass(className.disabled);\n          },\n          focused: function() {\n            return (document.activeElement === $module[0]);\n          },\n          focusedOnSearch: function() {\n            return (document.activeElement === $search[0]);\n          },\n          allFiltered: function() {\n            return( (module.is.multiple() || module.has.search()) && !(settings.hideAdditions == false && module.has.userSuggestion()) && !module.has.message() && module.has.allResultsFiltered() );\n          },\n          hidden: function($subMenu) {\n            return !module.is.visible($subMenu);\n          },\n          initialLoad: function() {\n            return initialLoad;\n          },\n          inObject: function(needle, object) {\n            var\n              found = false\n            ;\n            $.each(object, function(index, property) {\n              if(property == needle) {\n                found = true;\n                return true;\n              }\n            });\n            return found;\n          },\n          multiple: function() {\n            return $module.hasClass(className.multiple);\n          },\n          remote: function() {\n            return settings.apiSettings && module.can.useAPI();\n          },\n          noApiCache: function() {\n            return settings.apiSettings && !settings.apiSettings.cache\n          },\n          single: function() {\n            return !module.is.multiple();\n          },\n          selectMutation: function(mutations) {\n            var\n              selectChanged = false\n            ;\n            $.each(mutations, function(index, mutation) {\n              if($(mutation.target).is('select') || $(mutation.addedNodes).is('select')) {\n                selectChanged = true;\n                return false;\n              }\n            });\n            return selectChanged;\n          },\n          search: function() {\n            return $module.hasClass(className.search);\n          },\n          searchSelection: function() {\n            return ( module.has.search() && $search.parent(selector.dropdown).length === 1 );\n          },\n          selection: function() {\n            return $module.hasClass(className.selection);\n          },\n          userValue: function(value) {\n            return ($.inArray(value, module.get.userValues()) !== -1);\n          },\n          upward: function($menu) {\n            var $element = $menu || $module;\n            return $element.hasClass(className.upward);\n          },\n          visible: function($subMenu) {\n            return ($subMenu)\n              ? $subMenu.hasClass(className.visible)\n              : $menu.hasClass(className.visible)\n            ;\n          },\n          verticallyScrollableContext: function() {\n            var\n              overflowY = ($context.get(0) !== window)\n                ? $context.css('overflow-y')\n                : false\n            ;\n            return (overflowY == 'auto' || overflowY == 'scroll');\n          },\n          horizontallyScrollableContext: function() {\n            var\n              overflowX = ($context.get(0) !== window)\n                ? $context.css('overflow-X')\n                : false\n            ;\n            return (overflowX == 'auto' || overflowX == 'scroll');\n          }\n        },\n\n        can: {\n          activate: function($item) {\n            if(settings.useLabels) {\n              return true;\n            }\n            if(!module.has.maxSelections()) {\n              return true;\n            }\n            if(module.has.maxSelections() && $item.hasClass(className.active)) {\n              return true;\n            }\n            return false;\n          },\n          openDownward: function($subMenu) {\n            var\n              $currentMenu    = $subMenu || $menu,\n              canOpenDownward = true,\n              onScreen        = {},\n              calculations\n            ;\n            $currentMenu\n              .addClass(className.loading)\n            ;\n            calculations = {\n              context: {\n                offset    : ($context.get(0) === window)\n                  ? { top: 0, left: 0}\n                  : $context.offset(),\n                scrollTop : $context.scrollTop(),\n                height    : $context.outerHeight()\n              },\n              menu : {\n                offset: $currentMenu.offset(),\n                height: $currentMenu.outerHeight()\n              }\n            };\n            if(module.is.verticallyScrollableContext()) {\n              calculations.menu.offset.top += calculations.context.scrollTop;\n            }\n            if(module.has.subMenu($currentMenu)) {\n              calculations.menu.height += $currentMenu.find(selector.menu).first().outerHeight();\n            }\n            onScreen = {\n              above : (calculations.context.scrollTop) <= calculations.menu.offset.top - calculations.context.offset.top - calculations.menu.height,\n              below : (calculations.context.scrollTop + calculations.context.height) >= calculations.menu.offset.top - calculations.context.offset.top + calculations.menu.height\n            };\n            if(onScreen.below) {\n              module.verbose('Dropdown can fit in context downward', onScreen);\n              canOpenDownward = true;\n            }\n            else if(!onScreen.below && !onScreen.above) {\n              module.verbose('Dropdown cannot fit in either direction, favoring downward', onScreen);\n              canOpenDownward = true;\n            }\n            else {\n              module.verbose('Dropdown cannot fit below, opening upward', onScreen);\n              canOpenDownward = false;\n            }\n            $currentMenu.removeClass(className.loading);\n            return canOpenDownward;\n          },\n          openRightward: function($subMenu) {\n            var\n              $currentMenu     = $subMenu || $menu,\n              canOpenRightward = true,\n              isOffscreenRight = false,\n              calculations\n            ;\n            $currentMenu\n              .addClass(className.loading)\n            ;\n            calculations = {\n              context: {\n                offset     : ($context.get(0) === window)\n                  ? { top: 0, left: 0}\n                  : $context.offset(),\n                scrollLeft : $context.scrollLeft(),\n                width      : $context.outerWidth()\n              },\n              menu: {\n                offset : $currentMenu.offset(),\n                width  : $currentMenu.outerWidth()\n              }\n            };\n            if(module.is.horizontallyScrollableContext()) {\n              calculations.menu.offset.left += calculations.context.scrollLeft;\n            }\n            isOffscreenRight = (calculations.menu.offset.left - calculations.context.offset.left + calculations.menu.width >= calculations.context.scrollLeft + calculations.context.width);\n            if(isOffscreenRight) {\n              module.verbose('Dropdown cannot fit in context rightward', isOffscreenRight);\n              canOpenRightward = false;\n            }\n            $currentMenu.removeClass(className.loading);\n            return canOpenRightward;\n          },\n          click: function() {\n            return (hasTouch || settings.on == 'click');\n          },\n          extendSelect: function() {\n            return settings.allowAdditions || settings.apiSettings;\n          },\n          show: function() {\n            return !module.is.disabled() && (module.has.items() || module.has.message());\n          },\n          useAPI: function() {\n            return $.fn.api !== undefined;\n          }\n        },\n\n        animate: {\n          show: function(callback, $subMenu) {\n            var\n              $currentMenu = $subMenu || $menu,\n              start = ($subMenu)\n                ? function() {}\n                : function() {\n                  module.hideSubMenus();\n                  module.hideOthers();\n                  module.set.active();\n                },\n              transition\n            ;\n            callback = $.isFunction(callback)\n              ? callback\n              : function(){}\n            ;\n            module.verbose('Doing menu show animation', $currentMenu);\n            module.set.direction($subMenu);\n            transition = settings.transition.showMethod || module.get.transition($subMenu);\n            if( module.is.selection() ) {\n              module.set.scrollPosition(module.get.selectedItem(), true);\n            }\n            if( module.is.hidden($currentMenu) || module.is.animating($currentMenu) ) {\n              if(transition === 'none') {\n                start();\n                $currentMenu.transition({\n                  displayType: module.get.displayType()\n                }).transition('show');\n                callback.call(element);\n              }\n              else if($.fn.transition !== undefined && $module.transition('is supported')) {\n                $currentMenu\n                  .transition({\n                    animation  : transition + ' in',\n                    debug      : settings.debug,\n                    verbose    : settings.verbose,\n                    duration   : settings.transition.showDuration || settings.duration,\n                    queue      : true,\n                    onStart    : start,\n                    displayType: module.get.displayType(),\n                    onComplete : function() {\n                      callback.call(element);\n                    }\n                  })\n                ;\n              }\n              else {\n                module.error(error.noTransition, transition);\n              }\n            }\n          },\n          hide: function(callback, $subMenu) {\n            var\n              $currentMenu = $subMenu || $menu,\n              start = ($subMenu)\n                ? function() {}\n                : function() {\n                  if( module.can.click() ) {\n                    module.unbind.intent();\n                  }\n                  module.remove.active();\n                },\n              transition = settings.transition.hideMethod || module.get.transition($subMenu)\n            ;\n            callback = $.isFunction(callback)\n              ? callback\n              : function(){}\n            ;\n            if( module.is.visible($currentMenu) || module.is.animating($currentMenu) ) {\n              module.verbose('Doing menu hide animation', $currentMenu);\n\n              if(transition === 'none') {\n                start();\n                $currentMenu.transition({\n                  displayType: module.get.displayType()\n                }).transition('hide');\n                callback.call(element);\n              }\n              else if($.fn.transition !== undefined && $module.transition('is supported')) {\n                $currentMenu\n                  .transition({\n                    animation  : transition + ' out',\n                    duration   : settings.transition.hideDuration || settings.duration,\n                    debug      : settings.debug,\n                    verbose    : settings.verbose,\n                    queue      : false,\n                    onStart    : start,\n                    displayType: module.get.displayType(),\n                    onComplete : function() {\n                      callback.call(element);\n                    }\n                  })\n                ;\n              }\n              else {\n                module.error(error.transition);\n              }\n            }\n          }\n        },\n\n        hideAndClear: function() {\n          module.remove.searchTerm();\n          if( module.has.maxSelections() ) {\n            return;\n          }\n          if(module.has.search()) {\n            module.hide(function() {\n              module.remove.filteredItem();\n            });\n          }\n          else {\n            module.hide();\n          }\n        },\n\n        delay: {\n          show: function() {\n            module.verbose('Delaying show event to ensure user intent');\n            clearTimeout(module.timer);\n            module.timer = setTimeout(module.show, settings.delay.show);\n          },\n          hide: function() {\n            module.verbose('Delaying hide event to ensure user intent');\n            clearTimeout(module.timer);\n            module.timer = setTimeout(module.hide, settings.delay.hide);\n          }\n        },\n\n        escape: {\n          value: function(value) {\n            var\n              multipleValues = Array.isArray(value),\n              stringValue    = (typeof value === 'string'),\n              isUnparsable   = (!stringValue && !multipleValues),\n              hasQuotes      = (stringValue && value.search(regExp.quote) !== -1),\n              values         = []\n            ;\n            if(isUnparsable || !hasQuotes) {\n              return value;\n            }\n            module.debug('Encoding quote values for use in select', value);\n            if(multipleValues) {\n              $.each(value, function(index, value){\n                values.push(value.replace(regExp.quote, '&quot;'));\n              });\n              return values;\n            }\n            return value.replace(regExp.quote, '&quot;');\n          },\n          string: function(text) {\n            text =  String(text);\n            return text.replace(regExp.escape, '\\\\$&');\n          },\n          htmlEntities: function(string) {\n              var\n                  badChars     = /[<>\"'`]/g,\n                  shouldEscape = /[&<>\"'`]/,\n                  escape       = {\n                      \"<\": \"&lt;\",\n                      \">\": \"&gt;\",\n                      '\"': \"&quot;\",\n                      \"'\": \"&#x27;\",\n                      \"`\": \"&#x60;\"\n                  },\n                  escapedChar  = function(chr) {\n                      return escape[chr];\n                  }\n              ;\n              if(shouldEscape.test(string)) {\n                  string = string.replace(/&(?![a-z0-9#]{1,6};)/, \"&amp;\");\n                  return string.replace(badChars, escapedChar);\n              }\n              return string;\n          }\n        },\n\n        setting: function(name, value) {\n          module.debug('Changing setting', name, value);\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            if($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            }\n            else {\n              settings[name] = value;\n            }\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n          if ( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if(Array.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      };\n\n      if(methodInvoked) {\n        if(instance === undefined) {\n          module.initialize();\n        }\n        module.invoke(query);\n      }\n      else {\n        if(instance !== undefined) {\n          instance.invoke('destroy');\n        }\n        module.initialize();\n      }\n    })\n  ;\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : $allModules\n  ;\n};\n\n$.fn.dropdown.settings = {\n\n  silent                 : false,\n  debug                  : false,\n  verbose                : false,\n  performance            : true,\n\n  on                     : 'click',    // what event should show menu action on item selection\n  action                 : 'activate', // action on item selection (nothing, activate, select, combo, hide, function(){})\n\n  values                 : false,      // specify values to use for dropdown\n\n  clearable              : false,      // whether the value of the dropdown can be cleared\n\n  apiSettings            : false,\n  selectOnKeydown        : true,       // Whether selection should occur automatically when keyboard shortcuts used\n  minCharacters          : 0,          // Minimum characters required to trigger API call\n\n  filterRemoteData       : false,      // Whether API results should be filtered after being returned for query term\n  saveRemoteData         : true,       // Whether remote name/value pairs should be stored in sessionStorage to allow remote data to be restored on page refresh\n\n  throttle               : 200,        // How long to wait after last user input to search remotely\n\n  context                : window,     // Context to use when determining if on screen\n  direction              : 'auto',     // Whether dropdown should always open in one direction\n  keepOnScreen           : true,       // Whether dropdown should check whether it is on screen before showing\n\n  match                  : 'both',     // what to match against with search selection (both, text, or label)\n  fullTextSearch         : false,      // search anywhere in value (set to 'exact' to require exact matches)\n  ignoreDiacritics       : false,      // match results also if they contain diacritics of the same base character (for example searching for \"a\" will also match \"\" or \"\" or \"\", etc...)\n  hideDividers           : false,      // Whether to hide any divider elements (specified in selector.divider) that are sibling to any items when searched (set to true will hide all dividers, set to 'empty' will hide them when they are not followed by a visible item)\n\n  placeholder            : 'auto',     // whether to convert blank <select> values to placeholder text\n  preserveHTML           : true,       // preserve html when selecting value\n  sortSelect             : false,      // sort selection on init\n\n  forceSelection         : true,       // force a choice on blur with search selection\n\n  allowAdditions         : false,      // whether multiple select should allow user added values\n  ignoreCase             : false,      // whether to consider case sensitivity when creating labels\n  ignoreSearchCase       : true,       // whether to consider case sensitivity when filtering items\n  hideAdditions          : true,       // whether or not to hide special message prompting a user they can enter a value\n\n  maxSelections          : false,      // When set to a number limits the number of selections to this count\n  useLabels              : true,       // whether multiple select should filter currently active selections from choices\n  delimiter              : ',',        // when multiselect uses normal <input> the values will be delimited with this character\n\n  showOnFocus            : true,       // show menu on focus\n  allowReselection       : false,      // whether current value should trigger callbacks when reselected\n  allowTab               : true,       // add tabindex to element\n  allowCategorySelection : false,      // allow elements with sub-menus to be selected\n\n  fireOnInit             : false,      // Whether callbacks should fire when initializing dropdown values\n\n  transition             : 'auto',     // auto transition will slide down or up based on direction\n  duration               : 200,        // duration of transition\n  displayType            : false,      // displayType of transition\n\n  glyphWidth             : 1.037,      // widest glyph width in em (W is 1.037 em) used to calculate multiselect input width\n\n  headerDivider          : true,       // whether option headers should have an additional divider line underneath when converted from <select> <optgroup>\n\n  // label settings on multi-select\n  label: {\n    transition : 'scale',\n    duration   : 200,\n    variation  : false\n  },\n\n  // delay before event\n  delay : {\n    hide   : 300,\n    show   : 200,\n    search : 20,\n    touch  : 50\n  },\n\n  /* Callbacks */\n  onChange      : function(value, text, $selected){},\n  onAdd         : function(value, text, $selected){},\n  onRemove      : function(value, text, $selected){},\n  onSearch      : function(searchTerm){},\n\n  onLabelSelect : function($selectedLabels){},\n  onLabelCreate : function(value, text) { return $(this); },\n  onLabelRemove : function(value) { return true; },\n  onNoResults   : function(searchTerm) { return true; },\n  onShow        : function(){},\n  onHide        : function(){},\n\n  /* Component */\n  name           : 'Dropdown',\n  namespace      : 'dropdown',\n\n  message: {\n    addResult     : 'Add <b>{term}</b>',\n    count         : '{count} selected',\n    maxSelections : 'Max {maxCount} selections',\n    noResults     : 'No results found.',\n    serverError   : 'There was an error contacting the server'\n  },\n\n  error : {\n    action          : 'You called a dropdown action that was not defined',\n    alreadySetup    : 'Once a select has been initialized behaviors must be called on the created ui dropdown',\n    labels          : 'Allowing user additions currently requires the use of labels.',\n    missingMultiple : '<select> requires multiple property to be set to correctly preserve multiple values',\n    method          : 'The method you called is not defined.',\n    noAPI           : 'The API module is required to load resources remotely',\n    noStorage       : 'Saving remote data requires session storage',\n    noTransition    : 'This module requires ui transitions <https://github.com/Semantic-Org/UI-Transition>',\n    noNormalize     : '\"ignoreDiacritics\" setting will be ignored. Browser does not support String().normalize(). You may consider including <https://cdn.jsdelivr.net/npm/unorm@1.4.1/lib/unorm.min.js> as a polyfill.'\n  },\n\n  regExp : {\n    escape   : /[-[\\]{}()*+?.,\\\\^$|#\\s:=@]/g,\n    quote    : /\"/g\n  },\n\n  metadata : {\n    defaultText     : 'defaultText',\n    defaultValue    : 'defaultValue',\n    placeholderText : 'placeholder',\n    text            : 'text',\n    value           : 'value'\n  },\n\n  // property names for remote query\n  fields: {\n    remoteValues         : 'results',  // grouping for api results\n    values               : 'values',   // grouping for all dropdown values\n    disabled             : 'disabled', // whether value should be disabled\n    name                 : 'name',     // displayed dropdown text\n    description          : 'description', // displayed dropdown description\n    descriptionVertical  : 'descriptionVertical', // whether description should be vertical\n    value                : 'value',    // actual dropdown value\n    text                 : 'text',     // displayed text when selected\n    type                 : 'type',     // type of dropdown element\n    image                : 'image',    // optional image path\n    imageClass           : 'imageClass', // optional individual class for image\n    icon                 : 'icon',     // optional icon name\n    iconClass            : 'iconClass', // optional individual class for icon (for example to use flag instead)\n    class                : 'class',    // optional individual class for item/header\n    divider              : 'divider'   // optional divider append for group headers\n  },\n\n  keys : {\n    backspace  : 8,\n    delimiter  : 188, // comma\n    deleteKey  : 46,\n    enter      : 13,\n    escape     : 27,\n    pageUp     : 33,\n    pageDown   : 34,\n    leftArrow  : 37,\n    upArrow    : 38,\n    rightArrow : 39,\n    downArrow  : 40\n  },\n\n  selector : {\n    addition     : '.addition',\n    divider      : '.divider, .header',\n    dropdown     : '.ui.dropdown',\n    hidden       : '.hidden',\n    icon         : '> .dropdown.icon',\n    input        : '> input[type=\"hidden\"], > select',\n    item         : '.item',\n    label        : '> .label',\n    remove       : '> .label > .delete.icon',\n    siblingLabel : '.label',\n    menu         : '.menu',\n    message      : '.message',\n    menuIcon     : '.dropdown.icon',\n    search       : 'input.search, .menu > .search > input, .menu input.search',\n    sizer        : '> span.sizer',\n    text         : '> .text:not(.icon)',\n    unselectable : '.disabled, .filtered',\n    clearIcon    : '> .remove.icon'\n  },\n\n  className : {\n    active              : 'active',\n    addition            : 'addition',\n    animating           : 'animating',\n    description         : 'description',\n    descriptionVertical : 'vertical',\n    disabled            : 'disabled',\n    empty               : 'empty',\n    dropdown            : 'ui dropdown',\n    filtered            : 'filtered',\n    hidden              : 'hidden transition',\n    icon                : 'icon',\n    image               : 'image',\n    item                : 'item',\n    label               : 'ui label',\n    loading             : 'loading',\n    menu                : 'menu',\n    message             : 'message',\n    multiple            : 'multiple',\n    placeholder         : 'default',\n    sizer               : 'sizer',\n    search              : 'search',\n    selected            : 'selected',\n    selection           : 'selection',\n    text                : 'text',\n    upward              : 'upward',\n    leftward            : 'left',\n    visible             : 'visible',\n    clearable           : 'clearable',\n    noselection         : 'noselection',\n    delete              : 'delete',\n    header              : 'header',\n    divider             : 'divider',\n    groupIcon           : '',\n    unfilterable        : 'unfilterable'\n  }\n\n};\n\n/* Templates */\n$.fn.dropdown.settings.templates = {\n  deQuote: function(string, encode) {\n      return String(string).replace(/\"/g,encode ? \"&quot;\" : \"\");\n  },\n  escape: function(string, preserveHTML) {\n    if (preserveHTML){\n      return string;\n    }\n    var\n        badChars     = /[<>\"'`]/g,\n        shouldEscape = /[&<>\"'`]/,\n        escape       = {\n          \"<\": \"&lt;\",\n          \">\": \"&gt;\",\n          '\"': \"&quot;\",\n          \"'\": \"&#x27;\",\n          \"`\": \"&#x60;\"\n        },\n        escapedChar  = function(chr) {\n          return escape[chr];\n        }\n    ;\n    if(shouldEscape.test(string)) {\n      string = string.replace(/&(?![a-z0-9#]{1,6};)/, \"&amp;\");\n      return string.replace(badChars, escapedChar);\n    }\n    return string;\n  },\n  // generates dropdown from select values\n  dropdown: function(select, fields, preserveHTML, className) {\n    var\n      placeholder = select.placeholder || false,\n      html        = '',\n      escape = $.fn.dropdown.settings.templates.escape\n    ;\n    html +=  '<i class=\"dropdown icon\"></i>';\n    if(placeholder) {\n      html += '<div class=\"default text\">' + escape(placeholder,preserveHTML) + '</div>';\n    }\n    else {\n      html += '<div class=\"text\"></div>';\n    }\n    html += '<div class=\"'+className.menu+'\">';\n    html += $.fn.dropdown.settings.templates.menu(select, fields, preserveHTML,className);\n    html += '</div>';\n    return html;\n  },\n\n  // generates just menu from select\n  menu: function(response, fields, preserveHTML, className) {\n    var\n      values = response[fields.values] || [],\n      html   = '',\n      escape = $.fn.dropdown.settings.templates.escape,\n      deQuote = $.fn.dropdown.settings.templates.deQuote\n    ;\n    $.each(values, function(index, option) {\n      var\n        itemType = (option[fields.type])\n          ? option[fields.type]\n          : 'item',\n        isMenu = itemType.indexOf('menu') !== -1\n      ;\n\n      if( itemType === 'item' || isMenu) {\n        var\n          maybeText = (option[fields.text])\n            ? ' data-text=\"' + deQuote(option[fields.text],true) + '\"'\n            : '',\n          maybeDisabled = (option[fields.disabled])\n            ? className.disabled+' '\n            : '',\n          maybeDescriptionVertical = (option[fields.descriptionVertical])\n            ? className.descriptionVertical+' '\n            : '',\n          hasDescription = (escape(option[fields.description] || '', preserveHTML) != '')\n        ;\n        html += '<div class=\"'+ maybeDisabled + maybeDescriptionVertical + (option[fields.class] ? deQuote(option[fields.class]) : className.item)+'\" data-value=\"' + deQuote(option[fields.value],true) + '\"' + maybeText + '>';\n        if (isMenu) {\n          html += '<i class=\"'+ (itemType.indexOf('left') !== -1 ? 'left' : '') + ' dropdown icon\"></i>';\n        }\n        if(option[fields.image]) {\n          html += '<img class=\"'+(option[fields.imageClass] ? deQuote(option[fields.imageClass]) : className.image)+'\" src=\"' + deQuote(option[fields.image]) + '\">';\n        }\n        if(option[fields.icon]) {\n          html += '<i class=\"'+deQuote(option[fields.icon])+' '+(option[fields.iconClass] ? deQuote(option[fields.iconClass]) : className.icon)+'\"></i>';\n        }\n        if(hasDescription){\n          html += '<span class=\"'+ className.description +'\">'+ escape(option[fields.description] || '', preserveHTML) + '</span>';\n          html += (!isMenu) ? '<span class=\"'+ className.text + '\">' : '';\n        }\n        if (isMenu) {\n          html += '<span class=\"' + className.text + '\">';\n        }\n        html +=   escape(option[fields.name] || '', preserveHTML);\n        if (isMenu) {\n          html += '</span>';\n          html += '<div class=\"' + itemType + '\">';\n          html += $.fn.dropdown.settings.templates.menu(option, fields, preserveHTML, className);\n          html += '</div>';\n        } else if(hasDescription){\n          html += '</span>';\n        }\n        html += '</div>';\n      } else if (itemType === 'header') {\n        var groupName = escape(option[fields.name] || '', preserveHTML),\n            groupIcon = option[fields.icon] ? deQuote(option[fields.icon]) : className.groupIcon\n        ;\n        if(groupName !== '' || groupIcon !== '') {\n          html += '<div class=\"' + (option[fields.class] ? deQuote(option[fields.class]) : className.header) + '\">';\n          if (groupIcon !== '') {\n            html += '<i class=\"' + groupIcon + ' ' + (option[fields.iconClass] ? deQuote(option[fields.iconClass]) : className.icon) + '\"></i>';\n          }\n          html += groupName;\n          html += '</div>';\n        }\n        if(option[fields.divider]){\n          html += '<div class=\"'+className.divider+'\"></div>';\n        }\n      }\n    });\n    return html;\n  },\n\n  // generates label for multiselect\n  label: function(value, text, preserveHTML, className) {\n    var\n        escape = $.fn.dropdown.settings.templates.escape;\n    return escape(text,preserveHTML) + '<i class=\"'+className.delete+' icon\"></i>';\n  },\n\n\n  // generates messages like \"No results\"\n  message: function(message) {\n    return message;\n  },\n\n  // generates user addition to selection menu\n  addition: function(choice) {\n    return choice;\n  }\n\n};\n\n})( jQuery, window, document );\n\n/*!\n * # Fomantic-UI 2.8.8 - Embed\n * http://github.com/fomantic/Fomantic-UI/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n\"use strict\";\n\n$.isFunction = $.isFunction || function(obj) {\n  return typeof obj === \"function\" && typeof obj.nodeType !== \"number\";\n};\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\n$.fn.embed = function(parameters) {\n\n  var\n    $allModules     = $(this),\n\n    moduleSelector  = $allModules.selector || '',\n\n    time            = new Date().getTime(),\n    performance     = [],\n\n    query           = arguments[0],\n    methodInvoked   = (typeof query == 'string'),\n    queryArguments  = [].slice.call(arguments, 1),\n\n    returnedValue\n  ;\n\n  $allModules\n    .each(function() {\n      var\n        settings        = ( $.isPlainObject(parameters) )\n          ? $.extend(true, {}, $.fn.embed.settings, parameters)\n          : $.extend({}, $.fn.embed.settings),\n\n        selector        = settings.selector,\n        className       = settings.className,\n        sources         = settings.sources,\n        error           = settings.error,\n        metadata        = settings.metadata,\n        namespace       = settings.namespace,\n        templates       = settings.templates,\n\n        eventNamespace  = '.' + namespace,\n        moduleNamespace = 'module-' + namespace,\n\n        $module         = $(this),\n        $placeholder    = $module.find(selector.placeholder),\n        $icon           = $module.find(selector.icon),\n        $embed          = $module.find(selector.embed),\n\n        element         = this,\n        instance        = $module.data(moduleNamespace),\n        module\n      ;\n\n      module = {\n\n        initialize: function() {\n          module.debug('Initializing embed');\n          module.determine.autoplay();\n          module.create();\n          module.bind.events();\n          module.instantiate();\n        },\n\n        instantiate: function() {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module\n            .data(moduleNamespace, module)\n          ;\n        },\n\n        destroy: function() {\n          module.verbose('Destroying previous instance of embed');\n          module.reset();\n          $module\n            .removeData(moduleNamespace)\n            .off(eventNamespace)\n          ;\n        },\n\n        refresh: function() {\n          module.verbose('Refreshing selector cache');\n          $placeholder = $module.find(selector.placeholder);\n          $icon        = $module.find(selector.icon);\n          $embed       = $module.find(selector.embed);\n        },\n\n        bind: {\n          events: function() {\n            if( module.has.placeholder() ) {\n              module.debug('Adding placeholder events');\n              $module\n                .on('click' + eventNamespace, selector.placeholder, module.createAndShow)\n                .on('click' + eventNamespace, selector.icon, module.createAndShow)\n              ;\n            }\n          }\n        },\n\n        create: function() {\n          var\n            placeholder = module.get.placeholder()\n          ;\n          if(placeholder) {\n            module.createPlaceholder();\n          }\n          else {\n            module.createAndShow();\n          }\n        },\n\n        createPlaceholder: function(placeholder) {\n          var\n            icon  = module.get.icon(),\n            url   = module.get.url(),\n            embed = module.generate.embed(url)\n          ;\n          placeholder = placeholder || module.get.placeholder();\n          $module.html( templates.placeholder(placeholder, icon) );\n          module.debug('Creating placeholder for embed', placeholder, icon);\n        },\n\n        createEmbed: function(url) {\n          module.refresh();\n          url = url || module.get.url();\n          $embed = $('<div/>')\n            .addClass(className.embed)\n            .html( module.generate.embed(url) )\n            .appendTo($module)\n          ;\n          settings.onCreate.call(element, url);\n          module.debug('Creating embed object', $embed);\n        },\n\n        changeEmbed: function(url) {\n          $embed\n            .html( module.generate.embed(url) )\n          ;\n        },\n\n        createAndShow: function() {\n          module.createEmbed();\n          module.show();\n        },\n\n        // sets new embed\n        change: function(source, id, url) {\n          module.debug('Changing video to ', source, id, url);\n          $module\n            .data(metadata.source, source)\n            .data(metadata.id, id)\n          ;\n          if(url) {\n            $module.data(metadata.url, url);\n          }\n          else {\n            $module.removeData(metadata.url);\n          }\n          if(module.has.embed()) {\n            module.changeEmbed();\n          }\n          else {\n            module.create();\n          }\n        },\n\n        // clears embed\n        reset: function() {\n          module.debug('Clearing embed and showing placeholder');\n          module.remove.data();\n          module.remove.active();\n          module.remove.embed();\n          module.showPlaceholder();\n          settings.onReset.call(element);\n        },\n\n        // shows current embed\n        show: function() {\n          module.debug('Showing embed');\n          module.set.active();\n          settings.onDisplay.call(element);\n        },\n\n        hide: function() {\n          module.debug('Hiding embed');\n          module.showPlaceholder();\n        },\n\n        showPlaceholder: function() {\n          module.debug('Showing placeholder image');\n          module.remove.active();\n          settings.onPlaceholderDisplay.call(element);\n        },\n\n        get: {\n          id: function() {\n            return settings.id || $module.data(metadata.id);\n          },\n          placeholder: function() {\n            return settings.placeholder || $module.data(metadata.placeholder);\n          },\n          icon: function() {\n            return (settings.icon)\n              ? settings.icon\n              : ($module.data(metadata.icon) !== undefined)\n                ? $module.data(metadata.icon)\n                : module.determine.icon()\n            ;\n          },\n          source: function(url) {\n            return (settings.source)\n              ? settings.source\n              : ($module.data(metadata.source) !== undefined)\n                ? $module.data(metadata.source)\n                : module.determine.source()\n            ;\n          },\n          type: function() {\n            var source = module.get.source();\n            return (sources[source] !== undefined)\n              ? sources[source].type\n              : false\n            ;\n          },\n          url: function() {\n            return (settings.url)\n              ? settings.url\n              : ($module.data(metadata.url) !== undefined)\n                ? $module.data(metadata.url)\n                : module.determine.url()\n            ;\n          }\n        },\n\n        determine: {\n          autoplay: function() {\n            if(module.should.autoplay()) {\n              settings.autoplay = true;\n            }\n          },\n          source: function(url) {\n            var\n              matchedSource = false\n            ;\n            url = url || module.get.url();\n            if(url) {\n              $.each(sources, function(name, source) {\n                if(url.search(source.domain) !== -1) {\n                  matchedSource = name;\n                  return false;\n                }\n              });\n            }\n            return matchedSource;\n          },\n          icon: function() {\n            var\n              source = module.get.source()\n            ;\n            return (sources[source] !== undefined)\n              ? sources[source].icon\n              : false\n            ;\n          },\n          url: function() {\n            var\n              id     = settings.id     || $module.data(metadata.id),\n              source = settings.source || $module.data(metadata.source),\n              url\n            ;\n            url = (sources[source] !== undefined)\n              ? sources[source].url.replace('{id}', id)\n              : false\n            ;\n            if(url) {\n              $module.data(metadata.url, url);\n            }\n            return url;\n          }\n        },\n\n\n        set: {\n          active: function() {\n            $module.addClass(className.active);\n          }\n        },\n\n        remove: {\n          data: function() {\n            $module\n              .removeData(metadata.id)\n              .removeData(metadata.icon)\n              .removeData(metadata.placeholder)\n              .removeData(metadata.source)\n              .removeData(metadata.url)\n            ;\n          },\n          active: function() {\n            $module.removeClass(className.active);\n          },\n          embed: function() {\n            $embed.empty();\n          }\n        },\n\n        encode: {\n          parameters: function(parameters) {\n            var\n              urlString = [],\n              index\n            ;\n            for (index in parameters) {\n              urlString.push( encodeURIComponent(index) + '=' + encodeURIComponent( parameters[index] ) );\n            }\n            return urlString.join('&amp;');\n          }\n        },\n\n        generate: {\n          embed: function(url) {\n            module.debug('Generating embed html');\n            var\n              source = module.get.source(),\n              html,\n              parameters\n            ;\n            url = module.get.url(url);\n            if(url) {\n              parameters = module.generate.parameters(source);\n              html       = templates.iframe(url, parameters);\n            }\n            else {\n              module.error(error.noURL, $module);\n            }\n            return html;\n          },\n          parameters: function(source, extraParameters) {\n            var\n              parameters = (sources[source] && sources[source].parameters !== undefined)\n                ? sources[source].parameters(settings)\n                : {}\n            ;\n            extraParameters = extraParameters || settings.parameters;\n            if(extraParameters) {\n              parameters = $.extend({}, parameters, extraParameters);\n            }\n            parameters = settings.onEmbed(parameters);\n            return module.encode.parameters(parameters);\n          }\n        },\n\n        has: {\n          embed: function() {\n            return ($embed.length > 0);\n          },\n          placeholder: function() {\n            return settings.placeholder || $module.data(metadata.placeholder);\n          }\n        },\n\n        should: {\n          autoplay: function() {\n            return (settings.autoplay === 'auto')\n              ? (settings.placeholder || $module.data(metadata.placeholder) !== undefined)\n              : settings.autoplay\n            ;\n          }\n        },\n\n        is: {\n          video: function() {\n            return module.get.type() == 'video';\n          }\n        },\n\n        setting: function(name, value) {\n          module.debug('Changing setting', name, value);\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            if($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            }\n            else {\n              settings[name] = value;\n            }\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if($allModules.length > 1) {\n              title += ' ' + '(' + $allModules.length + ')';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n          if ( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if(Array.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      };\n\n      if(methodInvoked) {\n        if(instance === undefined) {\n          module.initialize();\n        }\n        module.invoke(query);\n      }\n      else {\n        if(instance !== undefined) {\n          instance.invoke('destroy');\n        }\n        module.initialize();\n      }\n    })\n  ;\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n$.fn.embed.settings = {\n\n  name        : 'Embed',\n  namespace   : 'embed',\n\n  silent      : false,\n  debug       : false,\n  verbose     : false,\n  performance : true,\n\n  icon     : false,\n  source   : false,\n  url      : false,\n  id       : false,\n\n  // standard video settings\n  autoplay  : 'auto',\n  color     : '#444444',\n  hd        : true,\n  brandedUI : false,\n\n  // additional parameters to include with the embed\n  parameters: false,\n\n  onDisplay            : function() {},\n  onPlaceholderDisplay : function() {},\n  onReset              : function() {},\n  onCreate             : function(url) {},\n  onEmbed              : function(parameters) {\n    return parameters;\n  },\n\n  metadata    : {\n    id          : 'id',\n    icon        : 'icon',\n    placeholder : 'placeholder',\n    source      : 'source',\n    url         : 'url'\n  },\n\n  error : {\n    noURL  : 'No URL specified',\n    method : 'The method you called is not defined'\n  },\n\n  className : {\n    active : 'active',\n    embed  : 'embed'\n  },\n\n  selector : {\n    embed       : '.embed',\n    placeholder : '.placeholder',\n    icon        : '.icon'\n  },\n\n  sources: {\n    youtube: {\n      name   : 'youtube',\n      type   : 'video',\n      icon   : 'video play',\n      domain : 'youtube.com',\n      url    : '//www.youtube.com/embed/{id}',\n      parameters: function(settings) {\n        return {\n          autohide       : !settings.brandedUI,\n          autoplay       : settings.autoplay,\n          color          : settings.color || undefined,\n          hq             : settings.hd,\n          jsapi          : settings.api,\n          modestbranding : !settings.brandedUI\n        };\n      }\n    },\n    vimeo: {\n      name   : 'vimeo',\n      type   : 'video',\n      icon   : 'video play',\n      domain : 'vimeo.com',\n      url    : '//player.vimeo.com/video/{id}',\n      parameters: function(settings) {\n        return {\n          api      : settings.api,\n          autoplay : settings.autoplay,\n          byline   : settings.brandedUI,\n          color    : settings.color || undefined,\n          portrait : settings.brandedUI,\n          title    : settings.brandedUI\n        };\n      }\n    }\n  },\n\n  templates: {\n    iframe : function(url, parameters) {\n      var src = url;\n      if (parameters) {\n          src += '?' + parameters;\n      }\n      return ''\n        + '<iframe src=\"' + src + '\"'\n        + ' width=\"100%\" height=\"100%\"'\n        + ' webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>'\n      ;\n    },\n    placeholder : function(image, icon) {\n      var\n        html = ''\n      ;\n      if(icon) {\n        html += '<i class=\"' + icon + ' icon\"></i>';\n      }\n      if(image) {\n        html += '<img class=\"placeholder\" src=\"' + image + '\">';\n      }\n      return html;\n    }\n  },\n\n  // NOT YET IMPLEMENTED\n  api     : false,\n  onPause : function() {},\n  onPlay  : function() {},\n  onStop  : function() {}\n\n};\n\n\n\n})( jQuery, window, document );\n\n/*!\n * # Fomantic-UI 2.8.8 - Modal\n * http://github.com/fomantic/Fomantic-UI/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n'use strict';\n\n$.isFunction = $.isFunction || function(obj) {\n  return typeof obj === \"function\" && typeof obj.nodeType !== \"number\";\n};\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\n$.fn.modal = function(parameters) {\n  var\n    $allModules    = $(this),\n    $window        = $(window),\n    $document      = $(document),\n    $body          = $('body'),\n\n    moduleSelector = $allModules.selector || '',\n\n    time           = new Date().getTime(),\n    performance    = [],\n\n    query          = arguments[0],\n    methodInvoked  = (typeof query == 'string'),\n    queryArguments = [].slice.call(arguments, 1),\n\n    requestAnimationFrame = window.requestAnimationFrame\n      || window.mozRequestAnimationFrame\n      || window.webkitRequestAnimationFrame\n      || window.msRequestAnimationFrame\n      || function(callback) { setTimeout(callback, 0); },\n\n    returnedValue\n  ;\n\n  $allModules\n    .each(function() {\n      var\n        settings    = ( $.isPlainObject(parameters) )\n          ? $.extend(true, {}, $.fn.modal.settings, parameters)\n          : $.extend({}, $.fn.modal.settings),\n\n        selector        = settings.selector,\n        className       = settings.className,\n        namespace       = settings.namespace,\n        fields          = settings.fields,\n        error           = settings.error,\n\n        eventNamespace  = '.' + namespace,\n        moduleNamespace = 'module-' + namespace,\n\n        $module         = $(this),\n        $context        = $(settings.context),\n        $close          = $module.find(selector.close),\n\n        $allModals,\n        $otherModals,\n        $focusedElement,\n        $dimmable,\n        $dimmer,\n\n        element         = this,\n        instance        = $module.hasClass('modal') ? $module.data(moduleNamespace) : undefined,\n\n        ignoreRepeatedEvents = false,\n\n        initialMouseDownInModal,\n        initialMouseDownInScrollbar,\n        initialBodyMargin = '',\n        tempBodyMargin = '',\n\n        elementEventNamespace,\n        id,\n        observer,\n        module\n      ;\n      module  = {\n\n        initialize: function() {\n          if(!$module.hasClass('modal')) {\n            module.create.modal();\n            if(!$.isFunction(settings.onHidden)) {\n              settings.onHidden = function () {\n                module.destroy();\n                $module.remove();\n              };\n            }\n          }\n          $module.addClass(settings.class);\n          if (settings.title !== '') {\n            $module.find(selector.title).html(module.helpers.escape(settings.title, settings.preserveHTML)).addClass(settings.classTitle);\n          }\n          if (settings.content !== '') {\n            $module.find(selector.content).html(module.helpers.escape(settings.content, settings.preserveHTML)).addClass(settings.classContent);\n          }\n          if(module.has.configActions()){\n            var $actions = $module.find(selector.actions).addClass(settings.classActions);\n            if ($actions.length === 0) {\n              $actions = $('<div/>', {class: className.actions + ' ' + (settings.classActions || '')}).appendTo($module);\n            } else {\n              $actions.empty();\n            }\n            settings.actions.forEach(function (el) {\n              var icon = el[fields.icon] ? '<i class=\"' + module.helpers.deQuote(el[fields.icon]) + ' icon\"></i>' : '',\n                  text = module.helpers.escape(el[fields.text] || '', settings.preserveHTML),\n                  cls = module.helpers.deQuote(el[fields.class] || ''),\n                  click = el[fields.click] && $.isFunction(el[fields.click]) ? el[fields.click] : function () {};\n              $actions.append($('<button/>', {\n                html: icon + text,\n                class: className.button + ' ' + cls,\n                click: function () {\n                  if (click.call(element, $module) === false) {\n                    return;\n                  }\n                  module.hide();\n                }\n              }));\n            });\n          }\n          module.cache = {};\n          module.verbose('Initializing dimmer', $context);\n\n          module.create.id();\n          module.create.dimmer();\n\n          if ( settings.allowMultiple ) {\n            module.create.innerDimmer();\n          }\n          if (!settings.centered){\n            $module.addClass('top aligned');\n          }\n          module.refreshModals();\n\n          module.bind.events();\n          if(settings.observeChanges) {\n            module.observeChanges();\n          }\n          module.instantiate();\n          if(settings.autoShow){\n            module.show();\n          }\n        },\n\n        instantiate: function() {\n          module.verbose('Storing instance of modal');\n          instance = module;\n          $module\n            .data(moduleNamespace, instance)\n          ;\n        },\n\n        create: {\n          modal: function() {\n            $module = $('<div/>', {class: className.modal});\n            if (settings.closeIcon) {\n              $close = $('<i/>', {class: className.close})\n              $module.append($close);\n            }\n            if (settings.title !== '') {\n              $('<div/>', {class: className.title}).appendTo($module);\n            }\n            if (settings.content !== '') {\n              $('<div/>', {class: className.content}).appendTo($module);\n            }\n            if (module.has.configActions()) {\n              $('<div/>', {class: className.actions}).appendTo($module);\n            }\n            $context.append($module);\n          },\n          dimmer: function() {\n            var\n              defaultSettings = {\n                debug      : settings.debug,\n                dimmerName : 'modals'\n              },\n              dimmerSettings = $.extend(true, defaultSettings, settings.dimmerSettings)\n            ;\n            if($.fn.dimmer === undefined) {\n              module.error(error.dimmer);\n              return;\n            }\n            module.debug('Creating dimmer');\n            $dimmable = $context.dimmer(dimmerSettings);\n            if(settings.detachable) {\n              module.verbose('Modal is detachable, moving content into dimmer');\n              $dimmable.dimmer('add content', $module);\n            }\n            else {\n              module.set.undetached();\n            }\n            $dimmer = $dimmable.dimmer('get dimmer');\n          },\n          id: function() {\n            id = (Math.random().toString(16) + '000000000').substr(2, 8);\n            elementEventNamespace = '.' + id;\n            module.verbose('Creating unique id for element', id);\n          },\n          innerDimmer: function() {\n            if ( $module.find(selector.dimmer).length == 0 ) {\n              $module.prepend('<div class=\"ui inverted dimmer\"></div>');\n            }\n          }\n        },\n\n        destroy: function() {\n          if (observer) {\n            observer.disconnect();\n          }\n          module.verbose('Destroying previous modal');\n          $module\n            .removeData(moduleNamespace)\n            .off(eventNamespace)\n          ;\n          $window.off(elementEventNamespace);\n          $dimmer.off(elementEventNamespace);\n          $close.off(eventNamespace);\n          $context.dimmer('destroy');\n        },\n\n        observeChanges: function() {\n          if('MutationObserver' in window) {\n            observer = new MutationObserver(function(mutations) {\n              module.debug('DOM tree modified, refreshing');\n              module.refresh();\n            });\n            observer.observe(element, {\n              childList : true,\n              subtree   : true\n            });\n            module.debug('Setting up mutation observer', observer);\n          }\n        },\n\n        refresh: function() {\n          module.remove.scrolling();\n          module.cacheSizes();\n          if(!module.can.useFlex()) {\n            module.set.modalOffset();\n          }\n          module.set.screenHeight();\n          module.set.type();\n        },\n\n        refreshModals: function() {\n          $otherModals = $module.siblings(selector.modal);\n          $allModals   = $otherModals.add($module);\n        },\n\n        attachEvents: function(selector, event) {\n          var\n            $toggle = $(selector)\n          ;\n          event = $.isFunction(module[event])\n            ? module[event]\n            : module.toggle\n          ;\n          if($toggle.length > 0) {\n            module.debug('Attaching modal events to element', selector, event);\n            $toggle\n              .off(eventNamespace)\n              .on('click' + eventNamespace, event)\n            ;\n          }\n          else {\n            module.error(error.notFound, selector);\n          }\n        },\n\n        bind: {\n          events: function() {\n            module.verbose('Attaching events');\n            $module\n              .on('click' + eventNamespace, selector.close, module.event.close)\n              .on('click' + eventNamespace, selector.approve, module.event.approve)\n              .on('click' + eventNamespace, selector.deny, module.event.deny)\n            ;\n            $window\n              .on('resize' + elementEventNamespace, module.event.resize)\n            ;\n          },\n          scrollLock: function() {\n            // touch events default to passive, due to changes in chrome to optimize mobile perf\n            $dimmable.get(0).addEventListener('touchmove', module.event.preventScroll, { passive: false });\n          }\n        },\n\n        unbind: {\n          scrollLock: function() {\n            $dimmable.get(0).removeEventListener('touchmove', module.event.preventScroll, { passive: false });\n          }\n        },\n\n        get: {\n          id: function() {\n            return (Math.random().toString(16) + '000000000').substr(2, 8);\n          },\n          element: function() {\n            return $module;\n          },\n          settings: function() {\n            return settings;\n          }\n        },\n\n        event: {\n          approve: function() {\n            if(ignoreRepeatedEvents || settings.onApprove.call(element, $(this)) === false) {\n              module.verbose('Approve callback returned false cancelling hide');\n              return;\n            }\n            ignoreRepeatedEvents = true;\n            module.hide(function() {\n              ignoreRepeatedEvents = false;\n            });\n          },\n          preventScroll: function(event) {\n            if(event.target.className.indexOf('dimmer') !== -1) {\n              event.preventDefault();\n            }\n          },\n          deny: function() {\n            if(ignoreRepeatedEvents || settings.onDeny.call(element, $(this)) === false) {\n              module.verbose('Deny callback returned false cancelling hide');\n              return;\n            }\n            ignoreRepeatedEvents = true;\n            module.hide(function() {\n              ignoreRepeatedEvents = false;\n            });\n          },\n          close: function() {\n            module.hide();\n          },\n          mousedown: function(event) {\n            var\n              $target   = $(event.target),\n              isRtl = module.is.rtl();\n            ;\n            initialMouseDownInModal = ($target.closest(selector.modal).length > 0);\n            if(initialMouseDownInModal) {\n              module.verbose('Mouse down event registered inside the modal');\n            }\n            initialMouseDownInScrollbar = module.is.scrolling() && ((!isRtl && $(window).outerWidth() - settings.scrollbarWidth <= event.clientX) || (isRtl && settings.scrollbarWidth >= event.clientX));\n            if(initialMouseDownInScrollbar) {\n              module.verbose('Mouse down event registered inside the scrollbar');\n            }\n          },\n          mouseup: function(event) {\n            if(!settings.closable) {\n              module.verbose('Dimmer clicked but closable setting is disabled');\n              return;\n            }\n            if(initialMouseDownInModal) {\n              module.debug('Dimmer clicked but mouse down was initially registered inside the modal');\n              return;\n            }\n            if(initialMouseDownInScrollbar){\n              module.debug('Dimmer clicked but mouse down was initially registered inside the scrollbar');\n              return;\n            }\n            var\n              $target   = $(event.target),\n              isInModal = ($target.closest(selector.modal).length > 0),\n              isInDOM   = $.contains(document.documentElement, event.target)\n            ;\n            if(!isInModal && isInDOM && module.is.active() && $module.hasClass(className.front) ) {\n              module.debug('Dimmer clicked, hiding all modals');\n              if(settings.allowMultiple) {\n                if(!module.hideAll()) {\n                  return;\n                }\n              }\n              else if(!module.hide()){\n                  return;\n              }\n              module.remove.clickaway();\n            }\n          },\n          debounce: function(method, delay) {\n            clearTimeout(module.timer);\n            module.timer = setTimeout(method, delay);\n          },\n          keyboard: function(event) {\n            var\n              keyCode   = event.which,\n              escapeKey = 27\n            ;\n            if(keyCode == escapeKey) {\n              if(settings.closable) {\n                module.debug('Escape key pressed hiding modal');\n                if ( $module.hasClass(className.front) ) {\n                  module.hide();\n                }\n              }\n              else {\n                module.debug('Escape key pressed, but closable is set to false');\n              }\n              event.preventDefault();\n            }\n          },\n          resize: function() {\n            if( $dimmable.dimmer('is active') && ( module.is.animating() || module.is.active() ) ) {\n              requestAnimationFrame(module.refresh);\n            }\n          }\n        },\n\n        toggle: function() {\n          if( module.is.active() || module.is.animating() ) {\n            module.hide();\n          }\n          else {\n            module.show();\n          }\n        },\n\n        show: function(callback) {\n          callback = $.isFunction(callback)\n            ? callback\n            : function(){}\n          ;\n          module.refreshModals();\n          module.set.dimmerSettings();\n          module.set.dimmerStyles();\n\n          module.showModal(callback);\n        },\n\n        hide: function(callback) {\n          callback = $.isFunction(callback)\n            ? callback\n            : function(){}\n          ;\n          module.refreshModals();\n          return module.hideModal(callback);\n        },\n\n        showModal: function(callback) {\n          callback = $.isFunction(callback)\n            ? callback\n            : function(){}\n          ;\n          if( module.is.animating() || !module.is.active() ) {\n            module.showDimmer();\n            module.cacheSizes();\n            module.set.bodyMargin();\n            if(module.can.useFlex()) {\n              module.remove.legacy();\n            }\n            else {\n              module.set.legacy();\n              module.set.modalOffset();\n              module.debug('Using non-flex legacy modal positioning.');\n            }\n            module.set.screenHeight();\n            module.set.type();\n            module.set.clickaway();\n\n            if( !settings.allowMultiple && module.others.active() ) {\n              module.hideOthers(module.showModal);\n            }\n            else {\n              ignoreRepeatedEvents = false;\n              if( settings.allowMultiple ) {\n                if ( module.others.active() ) {\n                  $otherModals.filter('.' + className.active).find(selector.dimmer).addClass('active');\n                }\n\n                if ( settings.detachable ) {\n                  $module.detach().appendTo($dimmer);\n                }\n              }\n              settings.onShow.call(element);\n              if(settings.transition && $.fn.transition !== undefined && $module.transition('is supported')) {\n                module.debug('Showing modal with css animations');\n                $module\n                  .transition({\n                    debug       : settings.debug,\n                    animation   : (settings.transition.showMethod || settings.transition) + ' in',\n                    queue       : settings.queue,\n                    duration    : settings.transition.showDuration || settings.duration,\n                    useFailSafe : true,\n                    onComplete : function() {\n                      settings.onVisible.apply(element);\n                      if(settings.keyboardShortcuts) {\n                        module.add.keyboardShortcuts();\n                      }\n                      module.save.focus();\n                      module.set.active();\n                      if(settings.autofocus) {\n                        module.set.autofocus();\n                      }\n                      callback();\n                    }\n                  })\n                ;\n              }\n              else {\n                module.error(error.noTransition);\n              }\n            }\n          }\n          else {\n            module.debug('Modal is already visible');\n          }\n        },\n\n        hideModal: function(callback, keepDimmed, hideOthersToo) {\n          var\n            $previousModal = $otherModals.filter('.' + className.active).last()\n          ;\n          callback = $.isFunction(callback)\n            ? callback\n            : function(){}\n          ;\n          module.debug('Hiding modal');\n          if(settings.onHide.call(element, $(this)) === false) {\n            module.verbose('Hide callback returned false cancelling hide');\n            ignoreRepeatedEvents = false;\n            return false;\n          }\n\n          if( module.is.animating() || module.is.active() ) {\n            if(settings.transition && $.fn.transition !== undefined && $module.transition('is supported')) {\n              module.remove.active();\n              $module\n                .transition({\n                  debug       : settings.debug,\n                  animation   : (settings.transition.hideMethod || settings.transition) + ' out',\n                  queue       : settings.queue,\n                  duration    : settings.transition.hideDuration || settings.duration,\n                  useFailSafe : true,\n                  onStart     : function() {\n                    if(!module.others.active() && !module.others.animating() && !keepDimmed) {\n                      module.hideDimmer();\n                    }\n                    if( settings.keyboardShortcuts && !module.others.active() ) {\n                      module.remove.keyboardShortcuts();\n                    }\n                  },\n                  onComplete : function() {\n                    module.unbind.scrollLock();\n                    if ( settings.allowMultiple ) {\n                      $previousModal.addClass(className.front);\n                      $module.removeClass(className.front);\n\n                      if ( hideOthersToo ) {\n                        $allModals.find(selector.dimmer).removeClass('active');\n                      }\n                      else {\n                        $previousModal.find(selector.dimmer).removeClass('active');\n                      }\n                    }\n                    if($.isFunction(settings.onHidden)) {\n                      settings.onHidden.call(element);\n                    }\n                    module.remove.dimmerStyles();\n                    module.restore.focus();\n                    callback();\n                  }\n                })\n              ;\n            }\n            else {\n              module.error(error.noTransition);\n            }\n          }\n        },\n\n        showDimmer: function() {\n          if($dimmable.dimmer('is animating') || !$dimmable.dimmer('is active') ) {\n            module.save.bodyMargin();\n            module.debug('Showing dimmer');\n            $dimmable.dimmer('show');\n          }\n          else {\n            module.debug('Dimmer already visible');\n          }\n        },\n\n        hideDimmer: function() {\n          if( $dimmable.dimmer('is animating') || ($dimmable.dimmer('is active')) ) {\n            module.unbind.scrollLock();\n            $dimmable.dimmer('hide', function() {\n              module.restore.bodyMargin();\n              module.remove.clickaway();\n              module.remove.screenHeight();\n            });\n          }\n          else {\n            module.debug('Dimmer is not visible cannot hide');\n            return;\n          }\n        },\n\n        hideAll: function(callback) {\n          var\n            $visibleModals = $allModals.filter('.' + className.active + ', .' + className.animating)\n          ;\n          callback = $.isFunction(callback)\n            ? callback\n            : function(){}\n          ;\n          if( $visibleModals.length > 0 ) {\n            module.debug('Hiding all visible modals');\n            var hideOk = true;\n//check in reverse order trying to hide most top displayed modal first\n            $($visibleModals.get().reverse()).each(function(index,element){\n                if(hideOk){\n                    hideOk = $(element).modal('hide modal', callback, false, true);\n                }\n            });\n            if(hideOk) {\n              module.hideDimmer();\n            }\n            return hideOk;\n          }\n        },\n\n        hideOthers: function(callback) {\n          var\n            $visibleModals = $otherModals.filter('.' + className.active + ', .' + className.animating)\n          ;\n          callback = $.isFunction(callback)\n            ? callback\n            : function(){}\n          ;\n          if( $visibleModals.length > 0 ) {\n            module.debug('Hiding other modals', $otherModals);\n            $visibleModals\n              .modal('hide modal', callback, true)\n            ;\n          }\n        },\n\n        others: {\n          active: function() {\n            return ($otherModals.filter('.' + className.active).length > 0);\n          },\n          animating: function() {\n            return ($otherModals.filter('.' + className.animating).length > 0);\n          }\n        },\n\n\n        add: {\n          keyboardShortcuts: function() {\n            module.verbose('Adding keyboard shortcuts');\n            $document\n              .on('keyup' + eventNamespace, module.event.keyboard)\n            ;\n          }\n        },\n\n        save: {\n          focus: function() {\n            var\n              $activeElement = $(document.activeElement),\n              inCurrentModal = $activeElement.closest($module).length > 0\n            ;\n            if(!inCurrentModal) {\n              $focusedElement = $(document.activeElement).blur();\n            }\n          },\n          bodyMargin: function() {\n            initialBodyMargin = $body.css('margin-'+(module.can.leftBodyScrollbar() ? 'left':'right'));\n            var bodyMarginRightPixel = parseInt(initialBodyMargin.replace(/[^\\d.]/g, '')),\n                bodyScrollbarWidth = window.innerWidth - document.documentElement.clientWidth;\n            tempBodyMargin = bodyMarginRightPixel + bodyScrollbarWidth;\n          }\n        },\n\n        restore: {\n          focus: function() {\n            if($focusedElement && $focusedElement.length > 0 && settings.restoreFocus) {\n              $focusedElement.focus();\n            }\n          },\n          bodyMargin: function() {\n            var position = module.can.leftBodyScrollbar() ? 'left':'right';\n            $body.css('margin-'+position, initialBodyMargin);\n            $body.find(selector.bodyFixed.replace('right',position)).each(function(){\n              var el = $(this),\n                  attribute = el.css('position') === 'fixed' ? 'padding-'+position : position\n              ;\n              el.css(attribute, '');\n            });\n          }\n        },\n\n        remove: {\n          active: function() {\n            $module.removeClass(className.active);\n          },\n          legacy: function() {\n            $module.removeClass(className.legacy);\n          },\n          clickaway: function() {\n            if (!settings.detachable) {\n              $module\n                  .off('mousedown' + elementEventNamespace)\n              ;\n            }           \n            $dimmer\n              .off('mousedown' + elementEventNamespace)\n            ;\n            $dimmer\n              .off('mouseup' + elementEventNamespace)\n            ;\n          },\n          dimmerStyles: function() {\n            $dimmer.removeClass(className.inverted);\n            $dimmable.removeClass(className.blurring);\n          },\n          bodyStyle: function() {\n            if($body.attr('style') === '') {\n              module.verbose('Removing style attribute');\n              $body.removeAttr('style');\n            }\n          },\n          screenHeight: function() {\n            module.debug('Removing page height');\n            $body\n              .css('height', '')\n            ;\n          },\n          keyboardShortcuts: function() {\n            module.verbose('Removing keyboard shortcuts');\n            $document\n              .off('keyup' + eventNamespace)\n            ;\n          },\n          scrolling: function() {\n            $dimmable.removeClass(className.scrolling);\n            $module.removeClass(className.scrolling);\n          }\n        },\n\n        cacheSizes: function() {\n          $module.addClass(className.loading);\n          var\n            scrollHeight = $module.prop('scrollHeight'),\n            modalWidth   = $module.outerWidth(),\n            modalHeight  = $module.outerHeight()\n          ;\n          if(module.cache.pageHeight === undefined || modalHeight !== 0) {\n            $.extend(module.cache, {\n              pageHeight    : $(document).outerHeight(),\n              width         : modalWidth,\n              height        : modalHeight + settings.offset,\n              scrollHeight  : scrollHeight + settings.offset,\n              contextHeight : (settings.context == 'body')\n                ? $(window).height()\n                : $dimmable.height(),\n            });\n            module.cache.topOffset = -(module.cache.height / 2);\n          }\n          $module.removeClass(className.loading);\n          module.debug('Caching modal and container sizes', module.cache);\n        },\n        helpers: {\n          deQuote: function(string) {\n            return String(string).replace(/\"/g,\"\");\n          },\n          escape: function(string, preserveHTML) {\n            if (preserveHTML){\n              return string;\n            }\n            var\n                badChars     = /[<>\"'`]/g,\n                shouldEscape = /[&<>\"'`]/,\n                escape       = {\n                  \"<\": \"&lt;\",\n                  \">\": \"&gt;\",\n                  '\"': \"&quot;\",\n                  \"'\": \"&#x27;\",\n                  \"`\": \"&#x60;\"\n                },\n                escapedChar  = function(chr) {\n                  return escape[chr];\n                }\n            ;\n            if(shouldEscape.test(string)) {\n              string = string.replace(/&(?![a-z0-9#]{1,6};)/, \"&amp;\");\n              return string.replace(badChars, escapedChar);\n            }\n            return string;\n          }\n        },\n        can: {\n          leftBodyScrollbar: function(){\n            if(module.cache.leftBodyScrollbar === undefined) {\n              module.cache.leftBodyScrollbar = module.is.rtl() && ((module.is.iframe && !module.is.firefox()) || module.is.safari() || module.is.edge() || module.is.ie());\n            }\n            return module.cache.leftBodyScrollbar;\n          },\n          useFlex: function() {\n            if (settings.useFlex === 'auto') {\n              return settings.detachable && !module.is.ie();\n            }\n            if(settings.useFlex && module.is.ie()) {\n              module.debug('useFlex true is not supported in IE');\n            } else if(settings.useFlex && !settings.detachable) {\n              module.debug('useFlex true in combination with detachable false is not supported');\n            }\n            return settings.useFlex;\n          },\n          fit: function() {\n            var\n              contextHeight  = module.cache.contextHeight,\n              verticalCenter = module.cache.contextHeight / 2,\n              topOffset      = module.cache.topOffset,\n              scrollHeight   = module.cache.scrollHeight,\n              height         = module.cache.height,\n              paddingHeight  = settings.padding,\n              startPosition  = (verticalCenter + topOffset)\n            ;\n            return (scrollHeight > height)\n              ? (startPosition + scrollHeight + paddingHeight < contextHeight)\n              : (height + (paddingHeight * 2) < contextHeight)\n            ;\n          }\n        },\n        has: {\n          configActions: function () {\n            return Array.isArray(settings.actions) && settings.actions.length > 0;\n          }\n        },\n        is: {\n          active: function() {\n            return $module.hasClass(className.active);\n          },\n          ie: function() {\n            if(module.cache.isIE === undefined) {\n              var\n                  isIE11 = (!(window.ActiveXObject) && 'ActiveXObject' in window),\n                  isIE = ('ActiveXObject' in window)\n              ;\n              module.cache.isIE = (isIE11 || isIE);\n            }\n            return module.cache.isIE;\n          },\n          animating: function() {\n            return $module.transition('is supported')\n              ? $module.transition('is animating')\n              : $module.is(':visible')\n            ;\n          },\n          scrolling: function() {\n            return $dimmable.hasClass(className.scrolling);\n          },\n          modernBrowser: function() {\n            // appName for IE11 reports 'Netscape' can no longer use\n            return !(window.ActiveXObject || 'ActiveXObject' in window);\n          },\n          rtl: function() {\n            if(module.cache.isRTL === undefined) {\n              module.cache.isRTL = $body.attr('dir') === 'rtl' || $body.css('direction') === 'rtl';\n            }\n            return module.cache.isRTL;\n          },\n          safari: function() {\n            if(module.cache.isSafari === undefined) {\n              module.cache.isSafari = /constructor/i.test(window.HTMLElement) || !!window.ApplePaySession;\n            }\n            return module.cache.isSafari;\n          },\n          edge: function(){\n            if(module.cache.isEdge === undefined) {\n              module.cache.isEdge = !!window.setImmediate && !module.is.ie();\n            }\n            return module.cache.isEdge;\n          },\n          firefox: function(){\n            if(module.cache.isFirefox === undefined) {\n                module.cache.isFirefox = !!window.InstallTrigger;\n            }\n            return module.cache.isFirefox;\n          },\n          iframe: function() {\n              return !(self === top);\n          }\n        },\n\n        set: {\n          autofocus: function() {\n            var\n              $inputs    = $module.find('[tabindex], :input').filter(':visible').filter(function() {\n                return $(this).closest('.disabled').length === 0;\n              }),\n              $autofocus = $inputs.filter('[autofocus]'),\n              $input     = ($autofocus.length > 0)\n                ? $autofocus.first()\n                : $inputs.first()\n            ;\n            if($input.length > 0) {\n              $input.focus();\n            }\n          },\n          bodyMargin: function() {\n            var position = module.can.leftBodyScrollbar() ? 'left':'right';\n            if(settings.detachable || module.can.fit()) {\n              $body.css('margin-'+position, tempBodyMargin + 'px');\n            }\n            $body.find(selector.bodyFixed.replace('right',position)).each(function(){\n              var el = $(this),\n                  attribute = el.css('position') === 'fixed' ? 'padding-'+position : position\n              ;\n              el.css(attribute, 'calc(' + el.css(attribute) + ' + ' + tempBodyMargin + 'px)');\n            });\n          },\n          clickaway: function() {\n            if (!settings.detachable) {\n              $module\n                .on('mousedown' + elementEventNamespace, module.event.mousedown)\n              ;\n            }\n            $dimmer\n              .on('mousedown' + elementEventNamespace, module.event.mousedown)\n            ;\n            $dimmer\n              .on('mouseup' + elementEventNamespace, module.event.mouseup)\n            ;\n          },\n          dimmerSettings: function() {\n            if($.fn.dimmer === undefined) {\n              module.error(error.dimmer);\n              return;\n            }\n            var\n              defaultSettings = {\n                debug      : settings.debug,\n                dimmerName : 'modals',\n                closable   : 'auto',\n                useFlex    : module.can.useFlex(),\n                duration   : {\n                  show     : settings.transition.showDuration || settings.duration,\n                  hide     : settings.transition.hideDuration || settings.duration\n                }\n              },\n              dimmerSettings = $.extend(true, defaultSettings, settings.dimmerSettings)\n            ;\n            if(settings.inverted) {\n              dimmerSettings.variation = (dimmerSettings.variation !== undefined)\n                ? dimmerSettings.variation + ' inverted'\n                : 'inverted'\n              ;\n            }\n            $context.dimmer('setting', dimmerSettings);\n          },\n          dimmerStyles: function() {\n            if(settings.inverted) {\n              $dimmer.addClass(className.inverted);\n            }\n            else {\n              $dimmer.removeClass(className.inverted);\n            }\n            if(settings.blurring) {\n              $dimmable.addClass(className.blurring);\n            }\n            else {\n              $dimmable.removeClass(className.blurring);\n            }\n          },\n          modalOffset: function() {\n            if (!settings.detachable) {\n              var canFit = module.can.fit();\n              $module\n                .css({\n                  top: (!$module.hasClass('aligned') && canFit)\n                    ? $(document).scrollTop() + (module.cache.contextHeight - module.cache.height) / 2\n                    : !canFit || $module.hasClass('top')\n                      ? $(document).scrollTop() + settings.padding\n                      : $(document).scrollTop() + (module.cache.contextHeight - module.cache.height - settings.padding),\n                  marginLeft: -(module.cache.width / 2)\n                }) \n              ;\n            } else {\n              $module\n                .css({\n                  marginTop: (!$module.hasClass('aligned') && module.can.fit())\n                    ? -(module.cache.height / 2)\n                    : settings.padding / 2,\n                  marginLeft: -(module.cache.width / 2)\n                }) \n              ;\n            }\n            module.verbose('Setting modal offset for legacy mode');\n          },\n          screenHeight: function() {\n            if( module.can.fit() ) {\n              $body.css('height', '');\n            }\n            else if(!$module.hasClass('bottom')) {\n              module.debug('Modal is taller than page content, resizing page height');\n              $body\n                .css('height', module.cache.height + (settings.padding * 2) )\n              ;\n            }\n          },\n          active: function() {\n            $module.addClass(className.active + ' ' + className.front);\n            $otherModals.filter('.' + className.active).removeClass(className.front);\n          },\n          scrolling: function() {\n            $dimmable.addClass(className.scrolling);\n            $module.addClass(className.scrolling);\n            module.unbind.scrollLock();\n          },\n          legacy: function() {\n            $module.addClass(className.legacy);\n          },\n          type: function() {\n            if(module.can.fit()) {\n              module.verbose('Modal fits on screen');\n              if(!module.others.active() && !module.others.animating()) {\n                module.remove.scrolling();\n                module.bind.scrollLock();\n              }\n            }\n            else if (!$module.hasClass('bottom')){\n              module.verbose('Modal cannot fit on screen setting to scrolling');\n              module.set.scrolling();\n            } else {\n                module.verbose('Bottom aligned modal not fitting on screen is unsupported for scrolling');\n            }\n          },\n          undetached: function() {\n            $dimmable.addClass(className.undetached);\n          }\n        },\n\n        setting: function(name, value) {\n          module.debug('Changing setting', name, value);\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            if($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            }\n            else {\n              settings[name] = value;\n            }\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                return false;\n              }\n            });\n          }\n          if ( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if(Array.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      };\n\n      if(methodInvoked) {\n        if(instance === undefined) {\n          if ($.isFunction(settings.templates[query])) {\n            settings.autoShow = true;\n            settings.className.modal = settings.className.template;\n            settings = $.extend(true, {}, settings, settings.templates[query].apply(module ,queryArguments));\n\n            // reassign shortcuts\n            className = settings.className;\n            namespace = settings.namespace;\n            fields    = settings.fields;\n            error     = settings.error;\n          }\n          module.initialize();\n        }\n        if (!$.isFunction(settings.templates[query])) {\n          module.invoke(query);\n        }\n      }\n      else {\n        if(instance !== undefined) {\n          instance.invoke('destroy');\n        }\n        module.initialize();\n        returnedValue = $module;\n      }\n    })\n  ;\n\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n$.fn.modal.settings = {\n\n  name           : 'Modal',\n  namespace      : 'modal',\n\n  useFlex        : 'auto',\n  offset         : 0,\n\n  silent         : false,\n  debug          : false,\n  verbose        : false,\n  performance    : true,\n\n  observeChanges : false,\n\n  allowMultiple  : false,\n  detachable     : true,\n  closable       : true,\n  autofocus      : true,\n  restoreFocus   : true,\n  autoShow       : false,\n\n  inverted       : false,\n  blurring       : false,\n\n  centered       : true,\n\n  dimmerSettings : {\n    closable : false,\n    useCSS   : true\n  },\n\n  // whether to use keyboard shortcuts\n  keyboardShortcuts: true,\n\n  context    : 'body',\n\n  queue      : false,\n  duration   : 500,\n  transition : 'scale',\n\n  // padding with edge of page\n  padding    : 50,\n  scrollbarWidth: 10,\n\n  //dynamic content\n  title        : '',\n  content      : '',\n  class        : '',\n  classTitle   : '',\n  classContent : '',\n  classActions : '',\n  closeIcon    : false,\n  actions      : false,\n  preserveHTML : true,\n\n  fields         : {\n    class        : 'class',\n    text         : 'text',\n    icon         : 'icon',\n    click        : 'click'\n  },\n\n  // called before show animation\n  onShow     : function(){},\n\n  // called after show animation\n  onVisible  : function(){},\n\n  // called before hide animation\n  onHide     : function(){ return true; },\n\n  // called after hide animation\n  onHidden   : false,\n\n  // called after approve selector match\n  onApprove  : function(){ return true; },\n\n  // called after deny selector match\n  onDeny     : function(){ return true; },\n\n  selector    : {\n    title    : '> .header',\n    content  : '> .content',\n    actions  : '> .actions',\n    close    : '> .close',\n    approve  : '.actions .positive, .actions .approve, .actions .ok',\n    deny     : '.actions .negative, .actions .deny, .actions .cancel',\n    modal    : '.ui.modal',\n    dimmer   : '> .ui.dimmer',\n    bodyFixed: '> .ui.fixed.menu, > .ui.right.toast-container, > .ui.right.sidebar, > .ui.fixed.nag, > .ui.fixed.nag > .close',\n    prompt   : '.ui.input > input'\n  },\n  error : {\n    dimmer    : 'UI Dimmer, a required component is not included in this page',\n    method    : 'The method you called is not defined.',\n    notFound  : 'The element you specified could not be found'\n  },\n  className : {\n    active     : 'active',\n    animating  : 'animating',\n    blurring   : 'blurring',\n    inverted   : 'inverted',\n    legacy     : 'legacy',\n    loading    : 'loading',\n    scrolling  : 'scrolling',\n    undetached : 'undetached',\n    front      : 'front',\n    close      : 'close icon',\n    button     : 'ui button',\n    modal      : 'ui modal',\n    title      : 'header',\n    content    : 'content',\n    actions    : 'actions',\n    template   : 'ui tiny modal',\n    ok         : 'positive',\n    cancel     : 'negative',\n    prompt     : 'ui fluid input'\n  },\n  text: {\n    ok    : 'Ok',\n    cancel: 'Cancel'\n  }\n};\n\n$.fn.modal.settings.templates = {\n  getArguments: function(args) {\n    var queryArguments = [].slice.call(args);\n    if($.isPlainObject(queryArguments[0])){\n      return $.extend({\n        handler:function(){},\n        content:'',\n        title: ''\n      }, queryArguments[0]);\n    } else {\n      if(!$.isFunction(queryArguments[queryArguments.length-1])) {\n        queryArguments.push(function() {});\n      }\n      return {\n        handler: queryArguments.pop(),\n        content: queryArguments.pop() || '',\n        title: queryArguments.pop() || ''\n      };\n    }\n  },\n  alert: function () {\n    var settings = this.get.settings(),\n        args     = settings.templates.getArguments(arguments)\n    ;\n    return {\n      title  : args.title,\n      content: args.content,\n      actions: [{\n        text : settings.text.ok,\n        class: settings.className.ok,\n        click: args.handler\n      }]\n    }\n  },\n  confirm: function () {\n    var settings = this.get.settings(),\n        args     = settings.templates.getArguments(arguments)\n    ;\n    return {\n      title  : args.title,\n      content: args.content,\n      actions: [{\n        text : settings.text.ok,\n        class: settings.className.ok,\n        click: function(){args.handler(true)}\n      },{\n        text: settings.text.cancel,\n        class: settings.className.cancel,\n        click: function(){args.handler(false)}\n      }]\n    }\n  },\n  prompt: function () {\n    var $this    = this,\n        settings = this.get.settings(),\n        args     = settings.templates.getArguments(arguments),\n        input    = $($.parseHTML(args.content)).filter('.ui.input')\n    ;\n    if (input.length === 0) {\n      args.content += '<p><div class=\"'+settings.className.prompt+'\"><input placeholder=\"'+this.helpers.deQuote(args.placeholder || '')+'\" type=\"text\" value=\"'+this.helpers.deQuote(args.defaultValue || '')+'\"></div></p>';\n    }\n    return {\n      title  : args.title,\n      content: args.content,\n      actions: [{\n        text: settings.text.ok,\n        class: settings.className.ok,\n        click: function(){\n          var settings = $this.get.settings(),\n              inputField = $this.get.element().find(settings.selector.prompt)[0]\n          ;\n          args.handler($(inputField).val());\n        }\n      },{\n        text: settings.text.cancel,\n        class: settings.className.cancel,\n        click: function(){args.handler(null)}\n      }]\n    }\n  }\n}\n\n})( jQuery, window, document );\n\n/*!\n * # Fomantic-UI 2.8.8 - Nag\n * http://github.com/fomantic/Fomantic-UI/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n'use strict';\n\n$.isFunction = $.isFunction || function(obj) {\n  return typeof obj === \"function\" && typeof obj.nodeType !== \"number\";\n};\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\n$.fn.nag = function(parameters) {\n  var\n    $allModules    = $(this),\n    moduleSelector = $allModules.selector || '',\n\n    time           = new Date().getTime(),\n    performance    = [],\n\n    query          = arguments[0],\n    methodInvoked  = (typeof query == 'string'),\n    queryArguments = [].slice.call(arguments, 1),\n    returnedValue\n  ;\n  $allModules\n    .each(function() {\n      var\n        settings          = ( $.isPlainObject(parameters) )\n          ? $.extend(true, {}, $.fn.nag.settings, parameters)\n          : $.extend({}, $.fn.nag.settings),\n\n        selector        = settings.selector,\n        error           = settings.error,\n        namespace       = settings.namespace,\n\n        eventNamespace  = '.' + namespace,\n        moduleNamespace = namespace + '-module',\n\n        $module         = $(this),\n\n        $context        = (settings.context)\n          ? $(settings.context)\n          : $('body'),\n\n        element         = this,\n        instance        = $module.data(moduleNamespace),\n        storage,\n        module\n      ;\n      module = {\n\n        initialize: function() {\n          module.verbose('Initializing element');\n          storage = module.get.storage();\n          $module\n            .on('click' + eventNamespace, selector.close, module.dismiss)\n            .data(moduleNamespace, module)\n          ;\n\n          if(settings.detachable && $module.parent()[0] !== $context[0]) {\n            $module\n              .detach()\n              .prependTo($context)\n            ;\n          }\n\n          if(settings.displayTime > 0) {\n            setTimeout(module.hide, settings.displayTime);\n          }\n          module.show();\n        },\n\n        destroy: function() {\n          module.verbose('Destroying instance');\n          $module\n            .removeData(moduleNamespace)\n            .off(eventNamespace)\n          ;\n        },\n\n        show: function() {\n          if( module.should.show() && !$module.is(':visible') ) {\n            if(settings.onShow.call(element) === false) {\n              module.debug('onShow callback returned false, cancelling nag animation');\n              return false;\n            }\n            module.debug('Showing nag', settings.animation.show);\n            if(settings.animation.show === 'fade') {\n              $module\n                .fadeIn(settings.duration, settings.easing, settings.onVisible)\n              ;\n            }\n            else {\n              $module\n                .slideDown(settings.duration, settings.easing, settings.onVisible)\n              ;\n            }\n          }\n        },\n\n        hide: function() {\n          if(settings.onHide.call(element) === false) {\n            module.debug('onHide callback returned false, cancelling nag animation');\n            return false;\n          }\n          module.debug('Hiding nag', settings.animation.hide);\n          if(settings.animation.hide === 'fade') {\n            $module\n              .fadeOut(settings.duration, settings.easing, settings.onHidden)\n            ;\n          }\n          else {\n            $module\n              .slideUp(settings.duration, settings.easing, settings.onHidden)\n            ;\n          }\n        },\n\n        dismiss: function(event) {\n          if(module.hide() !== false && settings.storageMethod) {\n            module.debug('Dismissing nag', settings.storageMethod, settings.key, settings.value, settings.expires);\n            module.storage.set(settings.key, settings.value);\n          }\n          event.stopImmediatePropagation();\n          event.preventDefault();\n        },\n\n        should: {\n          show: function() {\n            if(settings.persist) {\n              module.debug('Persistent nag is set, can show nag');\n              return true;\n            }\n            if( module.storage.get(settings.key) != settings.value.toString() ) {\n              module.debug('Stored value is not set, can show nag', module.storage.get(settings.key));\n              return true;\n            }\n            module.debug('Stored value is set, cannot show nag', module.storage.get(settings.key));\n            return false;\n          }\n        },\n\n        get: {\n          expirationDate: function(expires) {\n            if (typeof expires === 'number') {\n              expires = new Date(Date.now() + expires * 864e5);\n            }\n            if(expires instanceof Date && expires.getTime() ){\n              return expires.toUTCString();\n            } else {\n              module.error(error.expiresFormat);\n            }\n          },\n          storage: function(){\n            if(settings.storageMethod === 'localstorage' && window.localStorage !== undefined) {\n              module.debug('Using local storage');\n              return window.localStorage;\n            }\n            else if(settings.storageMethod === 'sessionstorage' && window.sessionStorage !== undefined) {\n              module.debug('Using session storage');\n              return window.sessionStorage;\n            }\n            else if(\"cookie\" in document) {\n              module.debug('Using cookie');\n              return {\n                setItem: function(key, value, options) {\n                  // RFC6265 compliant encoding\n                  key   = encodeURIComponent(key)\n                      .replace(/%(2[346B]|5E|60|7C)/g, decodeURIComponent)\n                      .replace(/[()]/g, escape);\n                  value = encodeURIComponent(value)\n                      .replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g, decodeURIComponent);\n\n                  var cookieOptions = '';\n                  for (var option in options) {\n                    if (options.hasOwnProperty(option)) {\n                      cookieOptions += '; ' + option;\n                      if (typeof options[option] === 'string') {\n                        cookieOptions += '=' + options[option].split(';')[0];\n                      }\n                    }\n                  }\n                  document.cookie = key + '=' + value + cookieOptions;\n                },\n                getItem: function(key) {\n                  var cookies = document.cookie.split('; ');\n                  for (var i = 0, il = cookies.length; i < il; i++) {\n                    var parts    = cookies[i].split('='),\n                        foundKey = parts[0].replace(/(%[\\dA-F]{2})+/gi, decodeURIComponent);\n                    if (key === foundKey) {\n                      return parts[1] || '';\n                    }\n                  }\n                },\n                removeItem: function(key, options) {\n                  storage.setItem(key,'',options);\n                }\n              };\n            } else {\n              module.error(error.noStorage);\n            }\n          },\n          storageOptions: function() {\n            var\n              options = {}\n            ;\n            if(settings.expires) {\n              options.expires = module.get.expirationDate(settings.expires);\n            }\n            if(settings.domain) {\n              options.domain = settings.domain;\n            }\n            if(settings.path) {\n              options.path = settings.path;\n            }\n            if(settings.secure) {\n              options.secure = settings.secure;\n            }\n            if(settings.samesite) {\n              options.samesite = settings.samesite;\n            }\n            return options;\n          }\n        },\n\n        clear: function() {\n          module.storage.remove(settings.key);\n        },\n\n        storage: {\n          set: function(key, value) {\n            var\n              options = module.get.storageOptions()\n            ;\n            if(storage === window.localStorage && options.expires) {\n              module.debug('Storing expiration value in localStorage', key, options.expires);\n              storage.setItem(key + settings.expirationKey, options.expires );\n            }\n            module.debug('Value stored', key, value);\n            try {\n              storage.setItem(key, value, options);\n            }\n            catch(e) {\n              module.error(error.setItem, e);\n            }\n          },\n          get: function(key) {\n            var\n              storedValue\n            ;\n            storedValue = storage.getItem(key);\n            if(storage === window.localStorage) {\n              var expiration = storage.getItem(key + settings.expirationKey);\n              if(expiration !== null && expiration !== undefined && new Date(expiration) < new Date()) {\n                module.debug('Value in localStorage has expired. Deleting key', key);\n                module.storage.remove(key);\n                storedValue = null;\n              }\n            }\n            if(storedValue == 'undefined' || storedValue == 'null' || storedValue === undefined || storedValue === null) {\n              storedValue = undefined;\n            }\n            return storedValue;\n          },\n          remove: function(key) {\n            var\n              options = module.get.storageOptions()\n            ;\n            options.expires = module.get.expirationDate(-1);\n            if(storage === window.localStorage) {\n              storage.removeItem(key + settings.expirationKey);\n            }\n            storage.removeItem(key, options);\n          }\n        },\n\n        setting: function(name, value) {\n          module.debug('Changing setting', name, value);\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            if($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            }\n            else {\n              settings[name] = value;\n            }\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n          if ( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if(Array.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      };\n\n      if(methodInvoked) {\n        if(instance === undefined) {\n          module.initialize();\n        }\n        module.invoke(query);\n      }\n      else {\n        if(instance !== undefined) {\n          instance.invoke('destroy');\n        }\n        module.initialize();\n      }\n    })\n  ;\n\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n$.fn.nag.settings = {\n\n  name        : 'Nag',\n\n  silent      : false,\n  debug       : false,\n  verbose     : false,\n  performance : true,\n\n  namespace   : 'Nag',\n\n  // allows cookie to be overridden\n  persist     : false,\n\n  // set to zero to require manually dismissal, otherwise hides on its own\n  displayTime : 0,\n\n  animation   : {\n    show : 'slide',\n    hide : 'slide'\n  },\n\n  context       : false,\n  detachable    : false,\n\n  expires       : 30,\n\n// cookie storage only options\n  domain        : false,\n  path          : '/',\n  secure        : false,\n  samesite      : false,\n\n  // type of storage to use\n  storageMethod : 'cookie',\n\n  // value to store in dismissed localstorage/cookie\n  key           : 'nag',\n  value         : 'dismiss',\n\n// Key suffix to support expiration in localstorage\n  expirationKey : 'ExpirationDate',\n\n  error: {\n    noStorage       : 'Unsupported storage method',\n    method          : 'The method you called is not defined.',\n    setItem         : 'Unexpected error while setting value',\n    expiresFormat   : '\"expires\" must be a number of days or a Date Object'\n  },\n\n  className     : {\n    bottom : 'bottom',\n    fixed  : 'fixed'\n  },\n\n  selector      : {\n    close : '> .close.icon'\n  },\n\n  duration      : 500,\n  easing        : 'easeOutQuad',\n\n  // callback before show animation, return false to prevent show\n  onShow        : function() {},\n\n  // called after show animation\n  onVisible     : function() {},\n\n  // callback before hide animation, return false to prevent hide\n  onHide        : function() {},\n\n  // callback after hide animation\n  onHidden      : function() {}\n\n};\n\n// Adds easing\n$.extend( $.easing, {\n  easeOutQuad: function (x, t, b, c, d) {\n    return -c *(t/=d)*(t-2) + b;\n  }\n});\n\n})( jQuery, window, document );\n\n/*!\n * # Fomantic-UI 2.8.8 - Popup\n * http://github.com/fomantic/Fomantic-UI/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n'use strict';\n\n$.isFunction = $.isFunction || function(obj) {\n  return typeof obj === \"function\" && typeof obj.nodeType !== \"number\";\n};\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\n$.fn.popup = function(parameters) {\n  var\n    $allModules    = $(this),\n    $document      = $(document),\n    $window        = $(window),\n    $body          = $('body'),\n\n    moduleSelector = $allModules.selector || '',\n\n    clickEvent      = ('ontouchstart' in document.documentElement)\n        ? 'touchstart'\n        : 'click',\n\n    time           = new Date().getTime(),\n    performance    = [],\n\n    query          = arguments[0],\n    methodInvoked  = (typeof query == 'string'),\n    queryArguments = [].slice.call(arguments, 1),\n\n    returnedValue\n  ;\n  $allModules\n    .each(function() {\n      var\n        settings        = ( $.isPlainObject(parameters) )\n          ? $.extend(true, {}, $.fn.popup.settings, parameters)\n          : $.extend({}, $.fn.popup.settings),\n\n        selector           = settings.selector,\n        className          = settings.className,\n        error              = settings.error,\n        metadata           = settings.metadata,\n        namespace          = settings.namespace,\n\n        eventNamespace     = '.' + settings.namespace,\n        moduleNamespace    = 'module-' + namespace,\n\n        $module            = $(this),\n        $context           = $(settings.context),\n        $scrollContext     = $(settings.scrollContext),\n        $boundary          = $(settings.boundary),\n        $target            = (settings.target)\n          ? $(settings.target)\n          : $module,\n\n        $popup,\n        $offsetParent,\n\n        searchDepth        = 0,\n        triedPositions     = false,\n        openedWithTouch    = false,\n\n        element            = this,\n        instance           = $module.data(moduleNamespace),\n\n        documentObserver,\n        elementNamespace,\n        id,\n        module\n      ;\n\n      module = {\n\n        // binds events\n        initialize: function() {\n          module.debug('Initializing', $module);\n          module.createID();\n          module.bind.events();\n          if(!module.exists() && settings.preserve) {\n            module.create();\n          }\n          if(settings.observeChanges) {\n            module.observeChanges();\n          }\n          module.instantiate();\n        },\n\n        instantiate: function() {\n          module.verbose('Storing instance', module);\n          instance = module;\n          $module\n            .data(moduleNamespace, instance)\n          ;\n        },\n\n        observeChanges: function() {\n          if('MutationObserver' in window) {\n            documentObserver = new MutationObserver(module.event.documentChanged);\n            documentObserver.observe(document, {\n              childList : true,\n              subtree   : true\n            });\n            module.debug('Setting up mutation observer', documentObserver);\n          }\n        },\n\n        refresh: function() {\n          if(settings.popup) {\n            $popup = $(settings.popup).eq(0);\n          }\n          else {\n            if(settings.inline) {\n              $popup = $target.nextAll(selector.popup).eq(0);\n              settings.popup = $popup;\n            }\n          }\n          if(settings.popup) {\n            $popup.addClass(className.loading);\n            $offsetParent = module.get.offsetParent();\n            $popup.removeClass(className.loading);\n            if(settings.movePopup && module.has.popup() && module.get.offsetParent($popup)[0] !== $offsetParent[0]) {\n              module.debug('Moving popup to the same offset parent as target');\n              $popup\n                .detach()\n                .appendTo($offsetParent)\n              ;\n            }\n          }\n          else {\n            $offsetParent = (settings.inline)\n              ? module.get.offsetParent($target)\n              : module.has.popup()\n                ? module.get.offsetParent($popup)\n                : $body\n            ;\n          }\n          if( $offsetParent.is('html') && $offsetParent[0] !== $body[0] ) {\n            module.debug('Setting page as offset parent');\n            $offsetParent = $body;\n          }\n          if( module.get.variation() ) {\n            module.set.variation();\n          }\n        },\n\n        reposition: function() {\n          module.refresh();\n          module.set.position();\n        },\n\n        destroy: function() {\n          module.debug('Destroying previous module');\n          if(documentObserver) {\n            documentObserver.disconnect();\n          }\n          // remove element only if was created dynamically\n          if($popup && !settings.preserve) {\n            module.removePopup();\n          }\n          // clear all timeouts\n          clearTimeout(module.hideTimer);\n          clearTimeout(module.showTimer);\n          // remove events\n          module.unbind.close();\n          module.unbind.events();\n          $module\n            .removeData(moduleNamespace)\n          ;\n        },\n\n        event: {\n          start:  function(event) {\n            var\n              delay = ($.isPlainObject(settings.delay))\n                ? settings.delay.show\n                : settings.delay\n            ;\n            clearTimeout(module.hideTimer);\n            if(!openedWithTouch || (openedWithTouch && settings.addTouchEvents) ) {\n              module.showTimer = setTimeout(module.show, delay);\n            }\n          },\n          end:  function() {\n            var\n              delay = ($.isPlainObject(settings.delay))\n                ? settings.delay.hide\n                : settings.delay\n            ;\n            clearTimeout(module.showTimer);\n            module.hideTimer = setTimeout(module.hide, delay);\n          },\n          touchstart: function(event) {\n            openedWithTouch = true;\n            if(settings.addTouchEvents) {\n              module.show();\n            }\n          },\n          resize: function() {\n            if( module.is.visible() ) {\n              module.set.position();\n            }\n          },\n          documentChanged: function(mutations) {\n            [].forEach.call(mutations, function(mutation) {\n              if(mutation.removedNodes) {\n                [].forEach.call(mutation.removedNodes, function(node) {\n                  if(node == element || $(node).find(element).length > 0) {\n                    module.debug('Element removed from DOM, tearing down events');\n                    module.destroy();\n                  }\n                });\n              }\n            });\n          },\n          hideGracefully: function(event) {\n            var\n              $target = $(event.target),\n              isInDOM = $.contains(document.documentElement, event.target),\n              inPopup = ($target.closest(selector.popup).length > 0)\n            ;\n            // don't close on clicks inside popup\n            if(event && !inPopup && isInDOM) {\n              module.debug('Click occurred outside popup hiding popup');\n              module.hide();\n            }\n            else {\n              module.debug('Click was inside popup, keeping popup open');\n            }\n          }\n        },\n\n        // generates popup html from metadata\n        create: function() {\n          var\n            html      = module.get.html(),\n            title     = module.get.title(),\n            content   = module.get.content()\n          ;\n\n          if(html || content || title) {\n            module.debug('Creating pop-up html');\n            if(!html) {\n              html = settings.templates.popup({\n                title   : title,\n                content : content\n              });\n            }\n            $popup = $('<div/>')\n              .addClass(className.popup)\n              .data(metadata.activator, $module)\n              .html(html)\n            ;\n            if(settings.inline) {\n              module.verbose('Inserting popup element inline', $popup);\n              $popup\n                .insertAfter($module)\n              ;\n            }\n            else {\n              module.verbose('Appending popup element to body', $popup);\n              $popup\n                .appendTo( $context )\n              ;\n            }\n            module.refresh();\n            module.set.variation();\n\n            if(settings.hoverable) {\n              module.bind.popup();\n            }\n            settings.onCreate.call($popup, element);\n          }\n          else if(settings.popup) {\n            $(settings.popup).data(metadata.activator, $module);\n            module.verbose('Used popup specified in settings');\n            module.refresh();\n            if(settings.hoverable) {\n              module.bind.popup();\n            }\n          }\n          else if($target.next(selector.popup).length !== 0) {\n            module.verbose('Pre-existing popup found');\n            settings.inline = true;\n            settings.popup  = $target.next(selector.popup).data(metadata.activator, $module);\n            module.refresh();\n            if(settings.hoverable) {\n              module.bind.popup();\n            }\n          }\n          else {\n            module.debug('No content specified skipping display', element);\n          }\n        },\n\n        createID: function() {\n          id = (Math.random().toString(16) + '000000000').substr(2, 8);\n          elementNamespace = '.' + id;\n          module.verbose('Creating unique id for element', id);\n        },\n\n        // determines popup state\n        toggle: function() {\n          module.debug('Toggling pop-up');\n          if( module.is.hidden() ) {\n            module.debug('Popup is hidden, showing pop-up');\n            module.unbind.close();\n            module.show();\n          }\n          else {\n            module.debug('Popup is visible, hiding pop-up');\n            module.hide();\n          }\n        },\n\n        show: function(callback) {\n          callback = callback || function(){};\n          module.debug('Showing pop-up', settings.transition);\n          if(module.is.hidden() && !( module.is.active() && module.is.dropdown()) ) {\n            if( !module.exists() ) {\n              module.create();\n            }\n            if(settings.onShow.call($popup, element) === false) {\n              module.debug('onShow callback returned false, cancelling popup animation');\n              return;\n            }\n            else if(!settings.preserve && !settings.popup) {\n              module.refresh();\n            }\n            if( $popup && module.set.position() ) {\n              module.save.conditions();\n              if(settings.exclusive) {\n                module.hideAll();\n              }\n              module.animate.show(callback);\n            }\n          }\n        },\n\n\n        hide: function(callback) {\n          callback = callback || function(){};\n          if( module.is.visible() || module.is.animating() ) {\n            if(settings.onHide.call($popup, element) === false) {\n              module.debug('onHide callback returned false, cancelling popup animation');\n              return;\n            }\n            module.remove.visible();\n            module.unbind.close();\n            module.restore.conditions();\n            module.animate.hide(callback);\n          }\n        },\n\n        hideAll: function() {\n          $(selector.popup)\n            .filter('.' + className.popupVisible)\n            .each(function() {\n              $(this)\n                .data(metadata.activator)\n                  .popup('hide')\n              ;\n            })\n          ;\n        },\n        exists: function() {\n          if(!$popup) {\n            return false;\n          }\n          if(settings.inline || settings.popup) {\n            return ( module.has.popup() );\n          }\n          else {\n            return ( $popup.closest($context).length >= 1 )\n              ? true\n              : false\n            ;\n          }\n        },\n\n        removePopup: function() {\n          if( module.has.popup() && !settings.popup) {\n            module.debug('Removing popup', $popup);\n            $popup.remove();\n            $popup = undefined;\n            settings.onRemove.call($popup, element);\n          }\n        },\n\n        save: {\n          conditions: function() {\n            module.cache = {\n              title: $module.attr('title')\n            };\n            if (module.cache.title) {\n              $module.removeAttr('title');\n            }\n            module.verbose('Saving original attributes', module.cache.title);\n          }\n        },\n        restore: {\n          conditions: function() {\n            if(module.cache && module.cache.title) {\n              $module.attr('title', module.cache.title);\n              module.verbose('Restoring original attributes', module.cache.title);\n            }\n            return true;\n          }\n        },\n        supports: {\n          svg: function() {\n            return (typeof SVGGraphicsElement !== 'undefined');\n          }\n        },\n        animate: {\n          show: function(callback) {\n            callback = $.isFunction(callback) ? callback : function(){};\n            if(settings.transition && $.fn.transition !== undefined && $module.transition('is supported')) {\n              module.set.visible();\n              $popup\n                .transition({\n                  animation  : (settings.transition.showMethod || settings.transition) + ' in',\n                  queue      : false,\n                  debug      : settings.debug,\n                  verbose    : settings.verbose,\n                  duration   : settings.transition.showDuration || settings.duration,\n                  onComplete : function() {\n                    module.bind.close();\n                    callback.call($popup, element);\n                    settings.onVisible.call($popup, element);\n                  }\n                })\n              ;\n            }\n            else {\n              module.error(error.noTransition);\n            }\n          },\n          hide: function(callback) {\n            callback = $.isFunction(callback) ? callback : function(){};\n            module.debug('Hiding pop-up');\n            if(settings.transition && $.fn.transition !== undefined && $module.transition('is supported')) {\n              $popup\n                .transition({\n                  animation  : (settings.transition.hideMethod || settings.transition) + ' out',\n                  queue      : false,\n                  duration   : settings.transition.hideDuration || settings.duration,\n                  debug      : settings.debug,\n                  verbose    : settings.verbose,\n                  onComplete : function() {\n                    module.reset();\n                    callback.call($popup, element);\n                    settings.onHidden.call($popup, element);\n                  }\n                })\n              ;\n            }\n            else {\n              module.error(error.noTransition);\n            }\n          }\n        },\n\n        change: {\n          content: function(html) {\n            $popup.html(html);\n          }\n        },\n\n        get: {\n          html: function() {\n            $module.removeData(metadata.html);\n            return $module.data(metadata.html) || settings.html;\n          },\n          title: function() {\n            $module.removeData(metadata.title);\n            return $module.data(metadata.title) || settings.title;\n          },\n          content: function() {\n            $module.removeData(metadata.content);\n            return $module.data(metadata.content) || settings.content || $module.attr('title');\n          },\n          variation: function() {\n            $module.removeData(metadata.variation);\n            return $module.data(metadata.variation) || settings.variation;\n          },\n          popup: function() {\n            return $popup;\n          },\n          popupOffset: function() {\n            return $popup.offset();\n          },\n          calculations: function() {\n            var\n              $popupOffsetParent = module.get.offsetParent($popup),\n              targetElement      = $target[0],\n              isWindow           = ($boundary[0] == window),\n              targetOffset       = $target.offset(),\n              parentOffset       = settings.inline || (settings.popup && settings.movePopup)\n                ? $target.offsetParent().offset()\n                : { top: 0, left: 0 },\n              screenPosition = (isWindow)\n                ? { top: 0, left: 0 }\n                : $boundary.offset(),\n              calculations   = {},\n              scroll = (isWindow)\n                ? { top: $window.scrollTop(), left: $window.scrollLeft() }\n                : { top: 0, left: 0},\n              screen\n            ;\n            calculations = {\n              // element which is launching popup\n              target : {\n                element : $target[0],\n                width   : $target.outerWidth(),\n                height  : $target.outerHeight(),\n                top     : targetOffset.top - parentOffset.top,\n                left    : targetOffset.left - parentOffset.left,\n                margin  : {}\n              },\n              // popup itself\n              popup : {\n                width  : $popup.outerWidth(),\n                height : $popup.outerHeight()\n              },\n              // offset container (or 3d context)\n              parent : {\n                width  : $offsetParent.outerWidth(),\n                height : $offsetParent.outerHeight()\n              },\n              // screen boundaries\n              screen : {\n                top  : screenPosition.top,\n                left : screenPosition.left,\n                scroll: {\n                  top  : scroll.top,\n                  left : scroll.left\n                },\n                width  : $boundary.width(),\n                height : $boundary.height()\n              }\n            };\n\n            // if popup offset context is not same as target, then adjust calculations\n            if($popupOffsetParent.get(0) !== $offsetParent.get(0)) {\n              var\n                popupOffset        = $popupOffsetParent.offset()\n              ;\n              calculations.target.top -= popupOffset.top;\n              calculations.target.left -= popupOffset.left;\n              calculations.parent.width = $popupOffsetParent.outerWidth();\n              calculations.parent.height = $popupOffsetParent.outerHeight();\n            }\n\n            // add in container calcs if fluid\n            if( settings.setFluidWidth && module.is.fluid() ) {\n              calculations.container = {\n                width: $popup.parent().outerWidth()\n              };\n              calculations.popup.width = calculations.container.width;\n            }\n\n            // add in margins if inline\n            calculations.target.margin.top = (settings.inline)\n              ? parseInt( window.getComputedStyle(targetElement).getPropertyValue('margin-top'), 10)\n              : 0\n            ;\n            calculations.target.margin.left = (settings.inline)\n              ? module.is.rtl()\n                ? parseInt( window.getComputedStyle(targetElement).getPropertyValue('margin-right'), 10)\n                : parseInt( window.getComputedStyle(targetElement).getPropertyValue('margin-left'), 10)\n              : 0\n            ;\n            // calculate screen boundaries\n            screen = calculations.screen;\n            calculations.boundary = {\n              top    : screen.top + screen.scroll.top,\n              bottom : screen.top + screen.scroll.top + screen.height,\n              left   : screen.left + screen.scroll.left,\n              right  : screen.left + screen.scroll.left + screen.width\n            };\n            return calculations;\n          },\n          id: function() {\n            return id;\n          },\n          startEvent: function() {\n            if(settings.on == 'hover') {\n              return 'mouseenter';\n            }\n            else if(settings.on == 'focus') {\n              return 'focus';\n            }\n            return false;\n          },\n          scrollEvent: function() {\n            return 'scroll';\n          },\n          endEvent: function() {\n            if(settings.on == 'hover') {\n              return 'mouseleave';\n            }\n            else if(settings.on == 'focus') {\n              return 'blur';\n            }\n            return false;\n          },\n          distanceFromBoundary: function(offset, calculations) {\n            var\n              distanceFromBoundary = {},\n              popup,\n              boundary\n            ;\n            calculations = calculations || module.get.calculations();\n\n            // shorthand\n            popup        = calculations.popup;\n            boundary     = calculations.boundary;\n\n            if(offset) {\n              distanceFromBoundary = {\n                top    : (offset.top - boundary.top),\n                left   : (offset.left - boundary.left),\n                right  : (boundary.right - (offset.left + popup.width) ),\n                bottom : (boundary.bottom - (offset.top + popup.height) )\n              };\n              module.verbose('Distance from boundaries determined', offset, distanceFromBoundary);\n            }\n            return distanceFromBoundary;\n          },\n          offsetParent: function($element) {\n            var\n              element = ($element !== undefined)\n                ? $element[0]\n                : $target[0],\n              parentNode = element.parentNode,\n              $node    = $(parentNode)\n            ;\n            if(parentNode) {\n              var\n                is2D     = ($node.css('transform') === 'none'),\n                isStatic = ($node.css('position') === 'static'),\n                isBody   = $node.is('body')\n              ;\n              while(parentNode && !isBody && isStatic && is2D) {\n                parentNode = parentNode.parentNode;\n                $node    = $(parentNode);\n                is2D     = ($node.css('transform') === 'none');\n                isStatic = ($node.css('position') === 'static');\n                isBody   = $node.is('body');\n              }\n            }\n            return ($node && $node.length > 0)\n              ? $node\n              : $()\n            ;\n          },\n          positions: function() {\n            return {\n              'top left'      : false,\n              'top center'    : false,\n              'top right'     : false,\n              'bottom left'   : false,\n              'bottom center' : false,\n              'bottom right'  : false,\n              'left center'   : false,\n              'right center'  : false\n            };\n          },\n          nextPosition: function(position) {\n            var\n              positions          = position.split(' '),\n              verticalPosition   = positions[0],\n              horizontalPosition = positions[1],\n              opposite = {\n                top    : 'bottom',\n                bottom : 'top',\n                left   : 'right',\n                right  : 'left'\n              },\n              adjacent = {\n                left   : 'center',\n                center : 'right',\n                right  : 'left'\n              },\n              backup = {\n                'top left'      : 'top center',\n                'top center'    : 'top right',\n                'top right'     : 'right center',\n                'right center'  : 'bottom right',\n                'bottom right'  : 'bottom center',\n                'bottom center' : 'bottom left',\n                'bottom left'   : 'left center',\n                'left center'   : 'top left'\n              },\n              adjacentsAvailable = (verticalPosition == 'top' || verticalPosition == 'bottom'),\n              oppositeTried = false,\n              adjacentTried = false,\n              nextPosition  = false\n            ;\n            if(!triedPositions) {\n              module.verbose('All available positions available');\n              triedPositions = module.get.positions();\n            }\n\n            module.debug('Recording last position tried', position);\n            triedPositions[position] = true;\n\n            if(settings.prefer === 'opposite') {\n              nextPosition  = [opposite[verticalPosition], horizontalPosition];\n              nextPosition  = nextPosition.join(' ');\n              oppositeTried = (triedPositions[nextPosition] === true);\n              module.debug('Trying opposite strategy', nextPosition);\n            }\n            if((settings.prefer === 'adjacent') && adjacentsAvailable ) {\n              nextPosition  = [verticalPosition, adjacent[horizontalPosition]];\n              nextPosition  = nextPosition.join(' ');\n              adjacentTried = (triedPositions[nextPosition] === true);\n              module.debug('Trying adjacent strategy', nextPosition);\n            }\n            if(adjacentTried || oppositeTried) {\n              module.debug('Using backup position', nextPosition);\n              nextPosition = backup[position];\n            }\n            return nextPosition;\n          }\n        },\n\n        set: {\n          position: function(position, calculations) {\n\n            // exit conditions\n            if($target.length === 0 || $popup.length === 0) {\n              module.error(error.notFound);\n              return;\n            }\n            var\n              offset,\n              distanceAway,\n              target,\n              popup,\n              parent,\n              positioning,\n              popupOffset,\n              distanceFromBoundary\n            ;\n\n            calculations = calculations || module.get.calculations();\n            position     = position     || $module.data(metadata.position) || settings.position;\n\n            offset       = $module.data(metadata.offset) || settings.offset;\n            distanceAway = settings.distanceAway;\n\n            // shorthand\n            target = calculations.target;\n            popup  = calculations.popup;\n            parent = calculations.parent;\n\n            if(module.should.centerArrow(calculations)) {\n              module.verbose('Adjusting offset to center arrow on small target element');\n              if(position == 'top left' || position == 'bottom left') {\n                offset += (target.width / 2);\n                offset -= settings.arrowPixelsFromEdge;\n              }\n              if(position == 'top right' || position == 'bottom right') {\n                offset -= (target.width / 2);\n                offset += settings.arrowPixelsFromEdge;\n              }\n            }\n\n            if(target.width === 0 && target.height === 0 && !module.is.svg(target.element)) {\n              module.debug('Popup target is hidden, no action taken');\n              return false;\n            }\n\n            if(settings.inline) {\n              module.debug('Adding margin to calculation', target.margin);\n              if(position == 'left center' || position == 'right center') {\n                offset       +=  target.margin.top;\n                distanceAway += -target.margin.left;\n              }\n              else if (position == 'top left' || position == 'top center' || position == 'top right') {\n                offset       += target.margin.left;\n                distanceAway -= target.margin.top;\n              }\n              else {\n                offset       += target.margin.left;\n                distanceAway += target.margin.top;\n              }\n            }\n\n            module.debug('Determining popup position from calculations', position, calculations);\n\n            if (module.is.rtl()) {\n              position = position.replace(/left|right/g, function (match) {\n                return (match == 'left')\n                  ? 'right'\n                  : 'left'\n                ;\n              });\n              module.debug('RTL: Popup position updated', position);\n            }\n\n            // if last attempt use specified last resort position\n            if(searchDepth == settings.maxSearchDepth && typeof settings.lastResort === 'string') {\n              position = settings.lastResort;\n            }\n\n            switch (position) {\n              case 'top left':\n                positioning = {\n                  top    : 'auto',\n                  bottom : parent.height - target.top + distanceAway,\n                  left   : target.left + offset,\n                  right  : 'auto'\n                };\n              break;\n              case 'top center':\n                positioning = {\n                  bottom : parent.height - target.top + distanceAway,\n                  left   : target.left + (target.width / 2) - (popup.width / 2) + offset,\n                  top    : 'auto',\n                  right  : 'auto'\n                };\n              break;\n              case 'top right':\n                positioning = {\n                  bottom :  parent.height - target.top + distanceAway,\n                  right  :  parent.width - target.left - target.width - offset,\n                  top    : 'auto',\n                  left   : 'auto'\n                };\n              break;\n              case 'left center':\n                positioning = {\n                  top    : target.top + (target.height / 2) - (popup.height / 2) + offset,\n                  right  : parent.width - target.left + distanceAway,\n                  left   : 'auto',\n                  bottom : 'auto'\n                };\n              break;\n              case 'right center':\n                positioning = {\n                  top    : target.top + (target.height / 2) - (popup.height / 2) + offset,\n                  left   : target.left + target.width + distanceAway,\n                  bottom : 'auto',\n                  right  : 'auto'\n                };\n              break;\n              case 'bottom left':\n                positioning = {\n                  top    : target.top + target.height + distanceAway,\n                  left   : target.left + offset,\n                  bottom : 'auto',\n                  right  : 'auto'\n                };\n              break;\n              case 'bottom center':\n                positioning = {\n                  top    : target.top + target.height + distanceAway,\n                  left   : target.left + (target.width / 2) - (popup.width / 2) + offset,\n                  bottom : 'auto',\n                  right  : 'auto'\n                };\n              break;\n              case 'bottom right':\n                positioning = {\n                  top    : target.top + target.height + distanceAway,\n                  right  : parent.width - target.left  - target.width - offset,\n                  left   : 'auto',\n                  bottom : 'auto'\n                };\n              break;\n            }\n            if(positioning === undefined) {\n              module.error(error.invalidPosition, position);\n            }\n\n            module.debug('Calculated popup positioning values', positioning);\n\n            // tentatively place on stage\n            $popup\n              .css(positioning)\n              .removeClass(className.position)\n              .addClass(position)\n              .addClass(className.loading)\n            ;\n\n            popupOffset = module.get.popupOffset();\n\n            // see if any boundaries are surpassed with this tentative position\n            distanceFromBoundary = module.get.distanceFromBoundary(popupOffset, calculations);\n\n            if(!settings.forcePosition && module.is.offstage(distanceFromBoundary, position) ) {\n              module.debug('Position is outside viewport', position);\n              if(searchDepth < settings.maxSearchDepth) {\n                searchDepth++;\n                position = module.get.nextPosition(position);\n                module.debug('Trying new position', position);\n                return ($popup)\n                  ? module.set.position(position, calculations)\n                  : false\n                ;\n              }\n              else {\n                if(settings.lastResort) {\n                  module.debug('No position found, showing with last position');\n                }\n                else {\n                  module.debug('Popup could not find a position to display', $popup);\n                  module.error(error.cannotPlace, element);\n                  module.remove.attempts();\n                  module.remove.loading();\n                  module.reset();\n                  settings.onUnplaceable.call($popup, element);\n                  return false;\n                }\n              }\n            }\n            module.debug('Position is on stage', position);\n            module.remove.attempts();\n            module.remove.loading();\n            if( settings.setFluidWidth && module.is.fluid() ) {\n              module.set.fluidWidth(calculations);\n            }\n            return true;\n          },\n\n          fluidWidth: function(calculations) {\n            calculations = calculations || module.get.calculations();\n            module.debug('Automatically setting element width to parent width', calculations.parent.width);\n            $popup.css('width', calculations.container.width);\n          },\n\n          variation: function(variation) {\n            variation = variation || module.get.variation();\n            if(variation && module.has.popup() ) {\n              module.verbose('Adding variation to popup', variation);\n              $popup.addClass(variation);\n            }\n          },\n\n          visible: function() {\n            $module.addClass(className.visible);\n          }\n        },\n\n        remove: {\n          loading: function() {\n            $popup.removeClass(className.loading);\n          },\n          variation: function(variation) {\n            variation = variation || module.get.variation();\n            if(variation) {\n              module.verbose('Removing variation', variation);\n              $popup.removeClass(variation);\n            }\n          },\n          visible: function() {\n            $module.removeClass(className.visible);\n          },\n          attempts: function() {\n            module.verbose('Resetting all searched positions');\n            searchDepth    = 0;\n            triedPositions = false;\n          }\n        },\n\n        bind: {\n          events: function() {\n            module.debug('Binding popup events to module');\n            if(settings.on == 'click') {\n              $module\n                .on(clickEvent + eventNamespace, module.toggle)\n              ;\n            }\n            if(settings.on == 'hover') {\n              $module\n                .on('touchstart' + eventNamespace, module.event.touchstart)\n              ;\n            }\n            if( module.get.startEvent() ) {\n              $module\n                .on(module.get.startEvent() + eventNamespace, module.event.start)\n                .on(module.get.endEvent() + eventNamespace, module.event.end)\n              ;\n            }\n            if(settings.target) {\n              module.debug('Target set to element', $target);\n            }\n            $window.on('resize' + elementNamespace, module.event.resize);\n          },\n          popup: function() {\n            module.verbose('Allowing hover events on popup to prevent closing');\n            if( $popup && module.has.popup() ) {\n              $popup\n                .on('mouseenter' + eventNamespace, module.event.start)\n                .on('mouseleave' + eventNamespace, module.event.end)\n              ;\n            }\n          },\n          close: function() {\n            if(settings.hideOnScroll === true || (settings.hideOnScroll == 'auto' && settings.on != 'click')) {\n              module.bind.closeOnScroll();\n            }\n            if(module.is.closable()) {\n              module.bind.clickaway();\n            }\n            else if(settings.on == 'hover' && openedWithTouch) {\n              module.bind.touchClose();\n            }\n          },\n          closeOnScroll: function() {\n            module.verbose('Binding scroll close event to document');\n            $scrollContext\n              .one(module.get.scrollEvent() + elementNamespace, module.event.hideGracefully)\n            ;\n          },\n          touchClose: function() {\n            module.verbose('Binding popup touchclose event to document');\n            $document\n              .on('touchstart' + elementNamespace, function(event) {\n                module.verbose('Touched away from popup');\n                module.event.hideGracefully.call(element, event);\n              })\n            ;\n          },\n          clickaway: function() {\n            module.verbose('Binding popup close event to document');\n            $document\n              .on(clickEvent + elementNamespace, function(event) {\n                module.verbose('Clicked away from popup');\n                module.event.hideGracefully.call(element, event);\n              })\n            ;\n          }\n        },\n\n        unbind: {\n          events: function() {\n            $window\n              .off(elementNamespace)\n            ;\n            $module\n              .off(eventNamespace)\n            ;\n          },\n          close: function() {\n            $document\n              .off(elementNamespace)\n            ;\n            $scrollContext\n              .off(elementNamespace)\n            ;\n          },\n        },\n\n        has: {\n          popup: function() {\n            return ($popup && $popup.length > 0);\n          }\n        },\n\n        should: {\n          centerArrow: function(calculations) {\n            return !module.is.basic() && calculations.target.width <= (settings.arrowPixelsFromEdge * 2);\n          },\n        },\n\n        is: {\n          closable: function() {\n            if(settings.closable == 'auto') {\n              if(settings.on == 'hover') {\n                return false;\n              }\n              return true;\n            }\n            return settings.closable;\n          },\n          offstage: function(distanceFromBoundary, position) {\n            var\n              offstage = []\n            ;\n            // return boundaries that have been surpassed\n            $.each(distanceFromBoundary, function(direction, distance) {\n              if(distance < -settings.jitter) {\n                module.debug('Position exceeds allowable distance from edge', direction, distance, position);\n                offstage.push(direction);\n              }\n            });\n            if(offstage.length > 0) {\n              return true;\n            }\n            else {\n              return false;\n            }\n          },\n          svg: function(element) {\n            return module.supports.svg() && (element instanceof SVGGraphicsElement);\n          },\n          basic: function() {\n            return $module.hasClass(className.basic);\n          },\n          active: function() {\n            return $module.hasClass(className.active);\n          },\n          animating: function() {\n            return ($popup !== undefined && $popup.hasClass(className.animating) );\n          },\n          fluid: function() {\n            return ($popup !== undefined && $popup.hasClass(className.fluid));\n          },\n          visible: function() {\n            return ($popup !== undefined && $popup.hasClass(className.popupVisible));\n          },\n          dropdown: function() {\n            return $module.hasClass(className.dropdown);\n          },\n          hidden: function() {\n            return !module.is.visible();\n          },\n          rtl: function () {\n            return $module.attr('dir') === 'rtl' || $module.css('direction') === 'rtl';\n          }\n        },\n\n        reset: function() {\n          module.remove.visible();\n          if(settings.preserve) {\n            if($.fn.transition !== undefined) {\n              $popup\n                .transition('remove transition')\n              ;\n            }\n          }\n          else {\n            module.removePopup();\n          }\n        },\n\n        setting: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            settings[name] = value;\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                return false;\n              }\n            });\n          }\n          if ( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if(Array.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      };\n\n      if(methodInvoked) {\n        if(instance === undefined) {\n          module.initialize();\n        }\n        module.invoke(query);\n      }\n      else {\n        if(instance !== undefined) {\n          instance.invoke('destroy');\n        }\n        module.initialize();\n      }\n    })\n  ;\n\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n$.fn.popup.settings = {\n\n  name           : 'Popup',\n\n  // module settings\n  silent         : false,\n  debug          : false,\n  verbose        : false,\n  performance    : true,\n  namespace      : 'popup',\n\n  // whether it should use dom mutation observers\n  observeChanges : true,\n\n  // callback only when element added to dom\n  onCreate       : function(){},\n\n  // callback before element removed from dom\n  onRemove       : function(){},\n\n  // callback before show animation\n  onShow         : function(){},\n\n  // callback after show animation\n  onVisible      : function(){},\n\n  // callback before hide animation\n  onHide         : function(){},\n\n  // callback when popup cannot be positioned in visible screen\n  onUnplaceable  : function(){},\n\n  // callback after hide animation\n  onHidden       : function(){},\n\n  // when to show popup\n  on             : 'hover',\n\n  // element to use to determine if popup is out of boundary\n  boundary       : window,\n\n  // whether to add touchstart events when using hover\n  addTouchEvents : true,\n\n  // default position relative to element\n  position       : 'top left',\n\n  // if given position should be used regardless if popup fits\n  forcePosition  : false,\n\n  // name of variation to use\n  variation      : '',\n\n  // whether popup should be moved to context\n  movePopup      : true,\n\n  // element which popup should be relative to\n  target         : false,\n\n  // jq selector or element that should be used as popup\n  popup          : false,\n\n  // popup should remain inline next to activator\n  inline         : false,\n\n  // popup should be removed from page on hide\n  preserve       : false,\n\n  // popup should not close when being hovered on\n  hoverable      : false,\n\n  // explicitly set content\n  content        : false,\n\n  // explicitly set html\n  html           : false,\n\n  // explicitly set title\n  title          : false,\n\n  // whether automatically close on clickaway when on click\n  closable       : true,\n\n  // automatically hide on scroll\n  hideOnScroll   : 'auto',\n\n  // hide other popups on show\n  exclusive      : false,\n\n  // context to attach popups\n  context        : 'body',\n\n  // context for binding scroll events\n  scrollContext  : window,\n\n  // position to prefer when calculating new position\n  prefer         : 'opposite',\n\n  // specify position to appear even if it doesn't fit\n  lastResort     : false,\n\n  // number of pixels from edge of popup to pointing arrow center (used from centering)\n  arrowPixelsFromEdge: 20,\n\n  // delay used to prevent accidental refiring of animations due to user error\n  delay : {\n    show : 50,\n    hide : 70\n  },\n\n  // whether fluid variation should assign width explicitly\n  setFluidWidth  : true,\n\n  // transition settings\n  duration       : 200,\n  transition     : 'scale',\n\n  // distance away from activating element in px\n  distanceAway   : 0,\n\n  // number of pixels an element is allowed to be \"offstage\" for a position to be chosen (allows for rounding)\n  jitter         : 2,\n\n  // offset on aligning axis from calculated position\n  offset         : 0,\n\n  // maximum times to look for a position before failing (9 positions total)\n  maxSearchDepth : 15,\n\n  error: {\n    invalidPosition : 'The position you specified is not a valid position',\n    cannotPlace     : 'Popup does not fit within the boundaries of the viewport',\n    method          : 'The method you called is not defined.',\n    noTransition    : 'This module requires ui transitions <https://github.com/Semantic-Org/UI-Transition>',\n    notFound        : 'The target or popup you specified does not exist on the page'\n  },\n\n  metadata: {\n    activator : 'activator',\n    content   : 'content',\n    html      : 'html',\n    offset    : 'offset',\n    position  : 'position',\n    title     : 'title',\n    variation : 'variation'\n  },\n\n  className   : {\n    active       : 'active',\n    basic        : 'basic',\n    animating    : 'animating',\n    dropdown     : 'dropdown',\n    fluid        : 'fluid',\n    loading      : 'loading',\n    popup        : 'ui popup',\n    position     : 'top left center bottom right',\n    visible      : 'visible',\n    popupVisible : 'visible'\n  },\n\n  selector    : {\n    popup    : '.ui.popup'\n  },\n\n  templates: {\n    escape: function(string) {\n      var\n        badChars     = /[<>\"'`]/g,\n        shouldEscape = /[&<>\"'`]/,\n        escape       = {\n          \"<\": \"&lt;\",\n          \">\": \"&gt;\",\n          '\"': \"&quot;\",\n          \"'\": \"&#x27;\",\n          \"`\": \"&#x60;\"\n        },\n        escapedChar  = function(chr) {\n          return escape[chr];\n        }\n      ;\n      if(shouldEscape.test(string)) {\n        string = string.replace(/&(?![a-z0-9#]{1,6};)/, \"&amp;\");\n        return string.replace(badChars, escapedChar);\n      }\n      return string;\n    },\n    popup: function(text) {\n      var\n        html   = '',\n        escape = $.fn.popup.settings.templates.escape\n      ;\n      if(typeof text !== undefined) {\n        if(typeof text.title !== undefined && text.title) {\n          text.title = escape(text.title);\n          html += '<div class=\"header\">' + text.title + '</div>';\n        }\n        if(typeof text.content !== undefined && text.content) {\n          text.content = escape(text.content);\n          html += '<div class=\"content\">' + text.content + '</div>';\n        }\n      }\n      return html;\n    }\n  }\n\n};\n\n\n})( jQuery, window, document );\n\n/*!\n * # Fomantic-UI 2.8.8 - Progress\n * http://github.com/fomantic/Fomantic-UI/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n'use strict';\n\n$.isFunction = $.isFunction || function(obj) {\n  return typeof obj === \"function\" && typeof obj.nodeType !== \"number\";\n};\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\n$.fn.progress = function(parameters) {\n  var\n    $allModules    = $(this),\n\n    moduleSelector = $allModules.selector || '',\n\n    time           = new Date().getTime(),\n    performance    = [],\n\n    query          = arguments[0],\n    methodInvoked  = (typeof query == 'string'),\n    queryArguments = [].slice.call(arguments, 1),\n\n    returnedValue\n  ;\n\n  $allModules\n    .each(function() {\n      var\n        settings          = ( $.isPlainObject(parameters) )\n          ? $.extend(true, {}, $.fn.progress.settings, parameters)\n          : $.extend({}, $.fn.progress.settings),\n\n        className       = settings.className,\n        metadata        = settings.metadata,\n        namespace       = settings.namespace,\n        selector        = settings.selector,\n        error           = settings.error,\n\n        eventNamespace  = '.' + namespace,\n        moduleNamespace = 'module-' + namespace,\n\n        $module         = $(this),\n        $bars           = $(this).find(selector.bar),\n        $progresses     = $(this).find(selector.progress),\n        $label          = $(this).find(selector.label),\n\n        element         = this,\n        instance        = $module.data(moduleNamespace),\n\n        animating = false,\n        transitionEnd,\n        module\n      ;\n      module = {\n        helper: {\n          sum: function (nums) {\n            return Array.isArray(nums) ? nums.reduce(function (left, right) {\n              return left + Number(right);\n            }, 0) : 0;\n          },\n          /**\n           * Derive precision for multiple progress with total and values.\n           *\n           * This helper dervices a precision that is sufficiently large to show minimum value of multiple progress.\n           *\n           * Example1\n           * - total: 1122\n           * - values: [325, 111, 74, 612]\n           * - min ratio: 74/1122 = 0.0659...\n           * - required precision:  100\n           *\n           * Example2\n           * - total: 10541\n           * - values: [3235, 1111, 74, 6121]\n           * - min ratio: 74/10541 = 0.0070...\n           * - required precision:   1000\n           *\n           * @param min A minimum value within multiple values\n           * @param total A total amount of multiple values\n           * @returns {number} A precison. Could be 1, 10, 100, ... 1e+10.\n           */\n          derivePrecision: function(min, total) {\n            var precisionPower = 0\n            var precision = 1;\n            var ratio = min / total;\n            while (precisionPower < 10) {\n              ratio = ratio * precision;\n              if (ratio > 1) {\n                break;\n              }\n              precision = Math.pow(10, precisionPower++);\n            }\n            return precision;\n          },\n          forceArray: function (element) {\n            return Array.isArray(element)\n              ? element\n              : !isNaN(element)\n                ? [element]\n                : typeof element == 'string'\n                  ? element.split(',')\n                  : []\n              ;\n          }\n        },\n\n        initialize: function() {\n          module.set.duration();\n          module.set.transitionEvent();\n          module.debug(element);\n\n          module.read.metadata();\n          module.read.settings();\n\n          module.instantiate();\n        },\n\n        instantiate: function() {\n          module.verbose('Storing instance of progress', module);\n          instance = module;\n          $module\n            .data(moduleNamespace, module)\n          ;\n        },\n        destroy: function() {\n          module.verbose('Destroying previous progress for', $module);\n          clearInterval(instance.interval);\n          module.remove.state();\n          $module.removeData(moduleNamespace);\n          instance = undefined;\n        },\n\n        reset: function() {\n          module.remove.nextValue();\n          module.update.progress(0);\n        },\n\n        complete: function(keepState) {\n          if(module.percent === undefined || module.percent < 100) {\n            module.remove.progressPoll();\n            if(keepState !== true){\n                module.set.percent(100);\n            }\n          }\n        },\n\n        read: {\n          metadata: function() {\n            var\n              data = {\n                percent : module.helper.forceArray($module.data(metadata.percent)),\n                total   : $module.data(metadata.total),\n                value   : module.helper.forceArray($module.data(metadata.value))\n              }\n            ;\n            if(data.total !== undefined) {\n              module.debug('Total value set from metadata', data.total);\n              module.set.total(data.total);\n            }\n            if(data.value.length > 0) {\n              module.debug('Current value set from metadata', data.value);\n              module.set.value(data.value);\n              module.set.progress(data.value);\n            }\n            if(data.percent.length > 0) {\n              module.debug('Current percent value set from metadata', data.percent);\n              module.set.percent(data.percent);\n            }\n          },\n          settings: function() {\n            if(settings.total !== false) {\n              module.debug('Current total set in settings', settings.total);\n              module.set.total(settings.total);\n            }\n            if(settings.value !== false) {\n              module.debug('Current value set in settings', settings.value);\n              module.set.value(settings.value);\n              module.set.progress(module.value);\n            }\n            if(settings.percent !== false) {\n              module.debug('Current percent set in settings', settings.percent);\n              module.set.percent(settings.percent);\n            }\n          }\n        },\n\n        bind: {\n          transitionEnd: function(callback) {\n            var\n              transitionEnd = module.get.transitionEnd()\n            ;\n            $bars\n              .one(transitionEnd + eventNamespace, function(event) {\n                clearTimeout(module.failSafeTimer);\n                callback.call(this, event);\n              })\n            ;\n            module.failSafeTimer = setTimeout(function() {\n              $bars.triggerHandler(transitionEnd);\n            }, settings.duration + settings.failSafeDelay);\n            module.verbose('Adding fail safe timer', module.timer);\n          }\n        },\n\n        increment: function(incrementValue) {\n          var\n            startValue,\n            newValue\n          ;\n          if( module.has.total() ) {\n            startValue     = module.get.value();\n            incrementValue = incrementValue || 1;\n          }\n          else {\n            startValue     = module.get.percent();\n            incrementValue = incrementValue || module.get.randomValue();\n          }\n          newValue = startValue + incrementValue;\n          module.debug('Incrementing percentage by', startValue, newValue, incrementValue);\n          newValue = module.get.normalizedValue(newValue);\n          module.set.progress(newValue);\n        },\n        decrement: function(decrementValue) {\n          var\n            total     = module.get.total(),\n            startValue,\n            newValue\n          ;\n          if(total) {\n            startValue     =  module.get.value();\n            decrementValue =  decrementValue || 1;\n            newValue       =  startValue - decrementValue;\n            module.debug('Decrementing value by', decrementValue, startValue);\n          }\n          else {\n            startValue     =  module.get.percent();\n            decrementValue =  decrementValue || module.get.randomValue();\n            newValue       =  startValue - decrementValue;\n            module.debug('Decrementing percentage by', decrementValue, startValue);\n          }\n          newValue = module.get.normalizedValue(newValue);\n          module.set.progress(newValue);\n        },\n\n        has: {\n          progressPoll: function() {\n            return module.progressPoll;\n          },\n          total: function() {\n            return (module.get.total() !== false);\n          }\n        },\n\n        get: {\n          text: function(templateText, index) {\n            var\n              index_  = index || 0,\n              value   = module.get.value(index_),\n              total   = module.get.total(),\n              percent = (animating)\n                ? module.get.displayPercent(index_)\n                : module.get.percent(index_),\n              left = (total !== false)\n                ? Math.max(0,total - value)\n                : (100 - percent)\n            ;\n            templateText = templateText || '';\n            templateText = templateText\n              .replace('{value}', value)\n              .replace('{total}', total || 0)\n              .replace('{left}', left)\n              .replace('{percent}', percent)\n              .replace('{bar}', settings.text.bars[index_] || '')\n            ;\n            module.verbose('Adding variables to progress bar text', templateText);\n            return templateText;\n          },\n\n          normalizedValue: function(value) {\n            if(value < 0) {\n              module.debug('Value cannot decrement below 0');\n              return 0;\n            }\n            if(module.has.total()) {\n              if(value > module.total) {\n                module.debug('Value cannot increment above total', module.total);\n                return module.total;\n              }\n            }\n            else if(value > 100 ) {\n              module.debug('Value cannot increment above 100 percent');\n              return 100;\n            }\n            return value;\n          },\n\n          updateInterval: function() {\n            if(settings.updateInterval == 'auto') {\n              return settings.duration;\n            }\n            return settings.updateInterval;\n          },\n\n          randomValue: function() {\n            module.debug('Generating random increment percentage');\n            return Math.floor((Math.random() * settings.random.max) + settings.random.min);\n          },\n\n          numericValue: function(value) {\n            return (typeof value === 'string')\n              ? (value.replace(/[^\\d.]/g, '') !== '')\n                ? +(value.replace(/[^\\d.]/g, ''))\n                : false\n              : value\n            ;\n          },\n\n          transitionEnd: function() {\n            var\n              element     = document.createElement('element'),\n              transitions = {\n                'transition'       :'transitionend',\n                'OTransition'      :'oTransitionEnd',\n                'MozTransition'    :'transitionend',\n                'WebkitTransition' :'webkitTransitionEnd'\n              },\n              transition\n            ;\n            for(transition in transitions){\n              if( element.style[transition] !== undefined ){\n                return transitions[transition];\n              }\n            }\n          },\n\n          // gets current displayed percentage (if animating values this is the intermediary value)\n          displayPercent: function(index) {\n            var\n              $bar           = $($bars[index]),\n              barWidth       = $bar.width(),\n              totalWidth     = $module.width(),\n              minDisplay     = parseInt($bar.css('min-width'), 10),\n              displayPercent = (barWidth > minDisplay)\n                ? (barWidth / totalWidth * 100)\n                : module.percent\n            ;\n            return (settings.precision > 0)\n              ? Math.round(displayPercent * (10 * settings.precision)) / (10 * settings.precision)\n              : Math.round(displayPercent)\n              ;\n          },\n\n          percent: function(index) {\n            return module.percent && module.percent[index || 0] || 0;\n          },\n          value: function(index) {\n            return module.nextValue || module.value && module.value[index || 0] || 0;\n          },\n          total: function() {\n            return module.total !== undefined ? module.total : false;\n          }\n        },\n\n        create: {\n          progressPoll: function() {\n            module.progressPoll = setTimeout(function() {\n              module.update.toNextValue();\n              module.remove.progressPoll();\n            }, module.get.updateInterval());\n          },\n        },\n\n        is: {\n          complete: function() {\n            return module.is.success() || module.is.warning() || module.is.error();\n          },\n          success: function() {\n            return $module.hasClass(className.success);\n          },\n          warning: function() {\n            return $module.hasClass(className.warning);\n          },\n          error: function() {\n            return $module.hasClass(className.error);\n          },\n          active: function() {\n            return $module.hasClass(className.active);\n          },\n          visible: function() {\n            return $module.is(':visible');\n          }\n        },\n\n        remove: {\n          progressPoll: function() {\n            module.verbose('Removing progress poll timer');\n            if(module.progressPoll) {\n              clearTimeout(module.progressPoll);\n              delete module.progressPoll;\n            }\n          },\n          nextValue: function() {\n            module.verbose('Removing progress value stored for next update');\n            delete module.nextValue;\n          },\n          state: function() {\n            module.verbose('Removing stored state');\n            delete module.total;\n            delete module.percent;\n            delete module.value;\n          },\n          active: function() {\n            module.verbose('Removing active state');\n            $module.removeClass(className.active);\n          },\n          success: function() {\n            module.verbose('Removing success state');\n            $module.removeClass(className.success);\n          },\n          warning: function() {\n            module.verbose('Removing warning state');\n            $module.removeClass(className.warning);\n          },\n          error: function() {\n            module.verbose('Removing error state');\n            $module.removeClass(className.error);\n          }\n        },\n\n        set: {\n          barWidth: function(values) {\n            module.debug(\"set bar width with \", values);\n            values = module.helper.forceArray(values);\n            var firstNonZeroIndex = -1;\n            var lastNonZeroIndex = -1;\n            var valuesSum = module.helper.sum(values);\n            var barCounts = $bars.length;\n            var isMultiple = barCounts > 1;\n            var percents = values.map(function(value, index) {\n              var allZero = (index === barCounts - 1 && valuesSum === 0);\n              var $bar = $($bars[index]);\n              if (value === 0 && isMultiple && !allZero) {\n                $bar.css('display', 'none');\n              } else {\n                if (isMultiple && allZero) {\n                  $bar.css('background', 'transparent');\n                }\n                if (firstNonZeroIndex == -1) {\n                  firstNonZeroIndex = index;\n                }\n                lastNonZeroIndex = index;\n                $bar.css({\n                  display: 'block',\n                  width: value + '%'\n                });\n              }\n              return parseFloat(value);\n            });\n            values.forEach(function(_, index) {\n              var $bar = $($bars[index]);\n              $bar.css({\n                borderTopLeftRadius: index == firstNonZeroIndex ? '' : 0,\n                borderBottomLeftRadius: index == firstNonZeroIndex ? '' : 0,\n                borderTopRightRadius: index == lastNonZeroIndex ? '' : 0,\n                borderBottomRightRadius: index == lastNonZeroIndex ? '' : 0\n              });\n            });\n            $module\n              .attr('data-percent', percents)\n            ;\n          },\n          duration: function(duration) {\n            duration = duration || settings.duration;\n            duration = (typeof duration == 'number')\n              ? duration + 'ms'\n              : duration\n            ;\n            module.verbose('Setting progress bar transition duration', duration);\n            $bars\n              .css({\n                'transition-duration':  duration\n              })\n            ;\n          },\n          percent: function(percents) {\n            percents = module.helper.forceArray(percents).map(function(percent) {\n              percent = (typeof percent == 'string')\n                ? +(percent.replace('%', ''))\n                : percent\n                ;\n              return (settings.limitValues)\n                  ? Math.max(0, Math.min(100, percent))\n                  : percent\n              ;\n            });\n            var hasTotal = module.has.total();\n            var totalPercent = module.helper.sum(percents);\n            var isMultipleValues = percents.length > 1 && hasTotal;\n            var sumTotal = module.helper.sum(module.helper.forceArray(module.value));\n            if (isMultipleValues && sumTotal > module.total) {\n              // Sum values instead of pecents to avoid precision issues when summing floats\n              module.error(error.sumExceedsTotal, sumTotal, module.total);\n            } else if (!isMultipleValues && totalPercent > 100) {\n              // Sum before rounding since sum of rounded may have error though sum of actual is fine\n              module.error(error.tooHigh, totalPercent);\n            } else if (totalPercent < 0) {\n              module.error(error.tooLow, totalPercent);\n            } else {\n              var autoPrecision = settings.precision > 0\n                ? settings.precision\n                : isMultipleValues\n                  ? module.helper.derivePrecision(Math.min.apply(null, module.value), module.total)\n                  : 0;\n\n              // round display percentage\n              var roundedPercents = percents.map(function (percent) {\n                return (autoPrecision > 0)\n                  ? Math.round(percent * (10 * autoPrecision)) / (10 * autoPrecision)\n                  : Math.round(percent)\n                  ;\n              });\n              module.percent = roundedPercents;\n              if (hasTotal) {\n                module.value = percents.map(function (percent) {\n                  return (autoPrecision > 0)\n                    ? Math.round((percent / 100) * module.total * (10 * autoPrecision)) / (10 * autoPrecision)\n                    : Math.round((percent / 100) * module.total * 10) / 10\n                    ;\n                });\n              }\n              module.set.barWidth(percents);\n              module.set.labelInterval();\n            }\n            settings.onChange.call(element, percents, module.value, module.total);\n          },\n          labelInterval: function() {\n            var\n              animationCallback = function() {\n                module.verbose('Bar finished animating, removing continuous label updates');\n                clearInterval(module.interval);\n                animating = false;\n                module.set.labels();\n              }\n            ;\n            clearInterval(module.interval);\n            module.bind.transitionEnd(animationCallback);\n            animating = true;\n            module.interval = setInterval(function() {\n              var\n                isInDOM = $.contains(document.documentElement, element)\n              ;\n              if(!isInDOM) {\n                clearInterval(module.interval);\n                animating = false;\n              }\n              module.set.labels();\n            }, settings.framerate);\n          },\n          labels: function() {\n            module.verbose('Setting both bar progress and outer label text');\n            module.set.barLabel();\n            module.set.state();\n          },\n          label: function(text) {\n            text = text || '';\n            if(text) {\n              text = module.get.text(text);\n              module.verbose('Setting label to text', text);\n              $label.text(text);\n            }\n          },\n          state: function(percent) {\n            percent = (percent !== undefined)\n              ? percent\n              : module.helper.sum(module.percent)\n            ;\n            if(percent === 100) {\n              if(settings.autoSuccess && $bars.length === 1 && !(module.is.warning() || module.is.error() || module.is.success())) {\n                module.set.success();\n                module.debug('Automatically triggering success at 100%');\n              }\n              else {\n                module.verbose('Reached 100% removing active state');\n                module.remove.active();\n                module.remove.progressPoll();\n              }\n            }\n            else if(percent > 0) {\n              module.verbose('Adjusting active progress bar label', percent);\n              module.set.active();\n            }\n            else {\n              module.remove.active();\n              module.set.label(settings.text.active);\n            }\n          },\n          barLabel: function(text) {\n            $progresses.map(function(index, element){\n              var $progress = $(element);\n              if (text !== undefined) {\n                $progress.text( module.get.text(text, index) );\n              }\n              else if (settings.label == 'ratio' && module.has.total()) {\n                module.verbose('Adding ratio to bar label');\n                $progress.text( module.get.text(settings.text.ratio, index) );\n              }\n              else if (settings.label == 'percent') {\n                module.verbose('Adding percentage to bar label');\n                $progress.text( module.get.text(settings.text.percent, index) );\n              }\n            });\n          },\n          active: function(text) {\n            text = text || settings.text.active;\n            module.debug('Setting active state');\n            if(settings.showActivity && !module.is.active() ) {\n              $module.addClass(className.active);\n            }\n            module.remove.warning();\n            module.remove.error();\n            module.remove.success();\n            text = settings.onLabelUpdate('active', text, module.value, module.total);\n            if(text) {\n              module.set.label(text);\n            }\n            module.bind.transitionEnd(function() {\n              settings.onActive.call(element, module.value, module.total);\n            });\n          },\n          success : function(text, keepState) {\n            text = text || settings.text.success || settings.text.active;\n            module.debug('Setting success state');\n            $module.addClass(className.success);\n            module.remove.active();\n            module.remove.warning();\n            module.remove.error();\n            module.complete(keepState);\n            if(settings.text.success) {\n              text = settings.onLabelUpdate('success', text, module.value, module.total);\n              module.set.label(text);\n            }\n            else {\n              text = settings.onLabelUpdate('active', text, module.value, module.total);\n              module.set.label(text);\n            }\n            module.bind.transitionEnd(function() {\n              settings.onSuccess.call(element, module.total);\n            });\n          },\n          warning : function(text, keepState) {\n            text = text || settings.text.warning;\n            module.debug('Setting warning state');\n            $module.addClass(className.warning);\n            module.remove.active();\n            module.remove.success();\n            module.remove.error();\n            module.complete(keepState);\n            text = settings.onLabelUpdate('warning', text, module.value, module.total);\n            if(text) {\n              module.set.label(text);\n            }\n            module.bind.transitionEnd(function() {\n              settings.onWarning.call(element, module.value, module.total);\n            });\n          },\n          error : function(text, keepState) {\n            text = text || settings.text.error;\n            module.debug('Setting error state');\n            $module.addClass(className.error);\n            module.remove.active();\n            module.remove.success();\n            module.remove.warning();\n            module.complete(keepState);\n            text = settings.onLabelUpdate('error', text, module.value, module.total);\n            if(text) {\n              module.set.label(text);\n            }\n            module.bind.transitionEnd(function() {\n              settings.onError.call(element, module.value, module.total);\n            });\n          },\n          transitionEvent: function() {\n            transitionEnd = module.get.transitionEnd();\n          },\n          total: function(totalValue) {\n            module.total = totalValue;\n          },\n          value: function(value) {\n            module.value = module.helper.forceArray(value);\n          },\n          progress: function(value) {\n            if(!module.has.progressPoll()) {\n              module.debug('First update in progress update interval, immediately updating', value);\n              module.update.progress(value);\n              module.create.progressPoll();\n            }\n            else {\n              module.debug('Updated within interval, setting next update to use new value', value);\n              module.set.nextValue(value);\n            }\n          },\n          nextValue: function(value) {\n            module.nextValue = value;\n          }\n        },\n\n        update: {\n          toNextValue: function() {\n            var\n              nextValue = module.nextValue\n            ;\n            if(nextValue) {\n              module.debug('Update interval complete using last updated value', nextValue);\n              module.update.progress(nextValue);\n              module.remove.nextValue();\n            }\n          },\n          progress: function(values) {\n            var hasTotal = module.has.total();\n            if (hasTotal) {\n              module.set.value(values);\n            }\n            var percentCompletes = module.helper.forceArray(values).map(function(value) {\n              var\n                percentComplete\n              ;\n              value = module.get.numericValue(value);\n              if (value === false) {\n                module.error(error.nonNumeric, value);\n              }\n              value = module.get.normalizedValue(value);\n              if (hasTotal) {\n                percentComplete = module.total > 0 ? (value / module.total) * 100 : 100;\n                module.debug('Calculating percent complete from total', percentComplete);\n              }\n              else {\n                percentComplete = value;\n                module.debug('Setting value to exact percentage value', percentComplete);\n              }\n              return percentComplete;\n            });\n            module.set.percent( percentCompletes );\n          }\n        },\n\n        setting: function(name, value) {\n          module.debug('Changing setting', name, value);\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            if($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            }\n            else {\n              settings[name] = value;\n            }\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n          if ( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if(Array.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      };\n\n      if(methodInvoked) {\n        if(instance === undefined) {\n          module.initialize();\n        }\n        module.invoke(query);\n      }\n      else {\n        if(instance !== undefined) {\n          instance.invoke('destroy');\n        }\n        module.initialize();\n      }\n    })\n  ;\n\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n$.fn.progress.settings = {\n\n  name         : 'Progress',\n  namespace    : 'progress',\n\n  silent       : false,\n  debug        : false,\n  verbose      : false,\n  performance  : true,\n\n  random       : {\n    min : 2,\n    max : 5\n  },\n\n  duration       : 300,\n\n  updateInterval : 'auto',\n\n  autoSuccess    : true,\n  showActivity   : true,\n  limitValues    : true,\n\n  label          : 'percent',\n  precision      : 0,\n  framerate      : (1000 / 30), /// 30 fps\n\n  percent        : false,\n  total          : false,\n  value          : false,\n\n  // delay in ms for fail safe animation callback\n  failSafeDelay : 100,\n\n  onLabelUpdate : function(state, text, value, total){\n    return text;\n  },\n  onChange      : function(percent, value, total){},\n  onSuccess     : function(total){},\n  onActive      : function(value, total){},\n  onError       : function(value, total){},\n  onWarning     : function(value, total){},\n\n  error    : {\n    method          : 'The method you called is not defined.',\n    nonNumeric      : 'Progress value is non numeric',\n    tooHigh         : 'Value specified is above 100%',\n    tooLow          : 'Value specified is below 0%',\n    sumExceedsTotal : 'Sum of multple values exceed total',\n  },\n\n  regExp: {\n    variable: /\\{\\$*[A-z0-9]+\\}/g\n  },\n\n  metadata: {\n    percent : 'percent',\n    total   : 'total',\n    value   : 'value'\n  },\n\n  selector : {\n    bar      : '> .bar',\n    label    : '> .label',\n    progress : '.bar > .progress'\n  },\n\n  text : {\n    active  : false,\n    error   : false,\n    success : false,\n    warning : false,\n    percent : '{percent}%',\n    ratio   : '{value} of {total}',\n    bars    : ['']\n  },\n\n  className : {\n    active  : 'active',\n    error   : 'error',\n    success : 'success',\n    warning : 'warning'\n  }\n\n};\n\n\n})( jQuery, window, document );\n\n/*!\n * # Fomantic-UI 2.8.8 - Slider\n * http://github.com/fomantic/Fomantic-UI/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ( $, window, document, undefined ) {\n\n\"use strict\";\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\n$.fn.slider = function(parameters) {\n\n  var\n    $allModules    = $(this),\n    $window        = $(window),\n\n    moduleSelector = $allModules.selector || '',\n\n    time           = new Date().getTime(),\n    performance    = [],\n\n    query          = arguments[0],\n    methodInvoked  = (typeof query == 'string'),\n    queryArguments = [].slice.call(arguments, 1),\n\n    alphabet       = ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z'],\n\n    SINGLE_STEP     = 1,\n    BIG_STEP        = 2,\n    NO_STEP         = 0,\n    SINGLE_BACKSTEP = -1,\n    BIG_BACKSTEP    = -2,\n\n    // Used to manage document bound events.\n    // Use this so that we can distinguish between which document events are bound to which range.\n    currentRange    = 0,\n\n    returnedValue\n  ;\n\n  $allModules\n    .each(function() {\n\n      var\n        settings        = ( $.isPlainObject(parameters) )\n          ? $.extend(true, {}, $.fn.slider.settings, parameters)\n          : $.extend({}, $.fn.slider.settings),\n\n        className       = settings.className,\n        metadata        = settings.metadata,\n        namespace       = settings.namespace,\n        error           = settings.error,\n        keys            = settings.keys,\n        interpretLabel  = settings.interpretLabel,\n\n        isHover         = false,\n        eventNamespace  = '.' + namespace,\n        moduleNamespace = 'module-' + namespace,\n\n        $module         = $(this),\n        $currThumb,\n        $thumb,\n        $secondThumb,\n        $track,\n        $trackFill,\n        $labels,\n\n        element         = this,\n        instance        = $module.data(moduleNamespace),\n\n        documentEventID,\n\n        value,\n        position,\n        secondPos,\n        offset,\n        precision,\n        isTouch,\n        gapRatio = 1,\n        previousValue,\n\n        initialPosition,\n        initialLoad,\n        module\n      ;\n\n      module = {\n\n        initialize: function() {\n          module.debug('Initializing slider', settings);\n          initialLoad = true;\n\n          currentRange += 1;\n          documentEventID = currentRange;\n\n          isTouch = module.setup.testOutTouch();\n          module.setup.layout();\n          module.setup.labels();\n\n          if(!module.is.disabled()) {\n            module.bind.events();\n          }\n\n          module.read.metadata();\n          module.read.settings();\n\n          initialLoad = false;\n          module.instantiate();\n        },\n\n        instantiate: function() {\n          module.verbose('Storing instance of slider', module);\n          instance = module;\n          $module\n            .data(moduleNamespace, module)\n          ;\n        },\n\n        destroy: function() {\n          module.verbose('Destroying previous slider for', $module);\n          clearInterval(instance.interval);\n          module.unbind.events();\n          module.unbind.slidingEvents();\n          $module.removeData(moduleNamespace);\n          instance = undefined;\n        },\n\n        setup: {\n          layout: function() {\n            if( $module.attr('tabindex') === undefined) {\n              $module.attr('tabindex', 0);\n            }\n            if($module.find('.inner').length == 0) {\n              $module.append(\"<div class='inner'>\"\n                             + \"<div class='track'></div>\"\n                             + \"<div class='track-fill'></div>\"\n                             + \"<div class='thumb'></div>\"\n                             + \"</div>\");\n            }\n            precision = module.get.precision();\n            $thumb = $module.find('.thumb:not(.second)');\n            $currThumb = $thumb;\n            if(module.is.range()) {\n              if($module.find('.thumb.second').length == 0) {\n                $module.find('.inner').append(\"<div class='thumb second'></div>\");\n              }\n              $secondThumb = $module.find('.thumb.second');\n            }\n            $track = $module.find('.track');\n            $trackFill = $module.find('.track-fill');\n            offset = $thumb.width() / 2;\n          },\n          labels: function() {\n            if(module.is.labeled()) {\n              $labels = $module.find('.labels:not(.auto)');\n              if($labels.length != 0) {\n                module.setup.customLabel();\n              } else {\n                module.setup.autoLabel();\n              }\n\n              if (settings.showLabelTicks) {\n                $module.addClass(className.ticked)\n              }\n            }\n          },\n          testOutTouch: function() {\n            try {\n             document.createEvent('TouchEvent');\n             return true;\n            } catch (e) {\n             return false;\n            }\n          },\n          customLabel: function() {\n            var\n              $children   = $labels.find('.label'),\n              numChildren = $children.length,\n              min         = module.get.min(),\n              max         = module.get.max(),\n              ratio\n            ;\n            $children.each(function(index) {\n              var\n                $child = $(this),\n                attrValue = $child.attr('data-value')\n              ;\n              if(attrValue) {\n                attrValue = attrValue > max ? max : attrValue < min ? min : attrValue;\n                ratio = (attrValue - min) / (max - min);\n              } else {\n                ratio = (index + 1) / (numChildren + 1);\n              }\n              module.update.labelPosition(ratio, $(this));\n            });\n          },\n          autoLabel: function() {\n            $labels = $module.find('.labels');\n            if($labels.length != 0) {\n              $labels.empty();\n            }\n            else {\n              $labels = $module.append('<ul class=\"auto labels\"></ul>').find('.labels');\n            }\n            for(var i = 0, len = module.get.numLabels(); i <= len; i++) {\n              var\n                labelText = module.get.label(i),\n                $label = (labelText !== \"\")\n                  ? !(i % module.get.gapRatio())\n                    ? $('<li class=\"label\">' + labelText + '</li>')\n                    : $('<li class=\"halftick label\"></li>')\n                  : null,\n                ratio  = i / len\n              ;\n              if($label) {\n                module.update.labelPosition(ratio, $label);\n                $labels.append($label);\n              }\n            }\n          }\n        },\n\n        bind: {\n          events: function() {\n            module.bind.globalKeyboardEvents();\n            module.bind.keyboardEvents();\n            module.bind.mouseEvents();\n            if(module.is.touch()) {\n              module.bind.touchEvents();\n            }\n            if (settings.autoAdjustLabels) {\n              module.bind.windowEvents();\n            }\n          },\n          keyboardEvents: function() {\n            module.verbose('Binding keyboard events');\n            $module.on('keydown' + eventNamespace, module.event.keydown);\n          },\n          globalKeyboardEvents: function() {\n            $(document).on('keydown' + eventNamespace + documentEventID, module.event.activateFocus);\n          },\n          mouseEvents: function() {\n            module.verbose('Binding mouse events');\n            $module.find('.track, .thumb, .inner').on('mousedown' + eventNamespace, function(event) {\n              event.stopImmediatePropagation();\n              event.preventDefault();\n              module.event.down(event);\n            });\n            $module.on('mousedown' + eventNamespace, module.event.down);\n            $module.on('mouseenter' + eventNamespace, function(event) {\n              isHover = true;\n            });\n            $module.on('mouseleave' + eventNamespace, function(event) {\n              isHover = false;\n            });\n          },\n          touchEvents: function() {\n            module.verbose('Binding touch events');\n            $module.find('.track, .thumb, .inner').on('touchstart' + eventNamespace, function(event) {\n              event.stopImmediatePropagation();\n              event.preventDefault();\n              module.event.down(event);\n            });\n            $module.on('touchstart' + eventNamespace, module.event.down);\n          },\n          slidingEvents: function() {\n            // these don't need the identifier because we only ever want one of them to be registered with document\n            module.verbose('Binding page wide events while handle is being draged');\n            if(module.is.touch()) {\n              $(document).on('touchmove' + eventNamespace, module.event.move);\n              $(document).on('touchend' + eventNamespace, module.event.up);\n            }\n            else {\n              $(document).on('mousemove' + eventNamespace, module.event.move);\n              $(document).on('mouseup' + eventNamespace, module.event.up);\n            }\n          },\n          windowEvents: function() {\n            $window.on('resize' + eventNamespace, module.event.resize);\n          }\n        },\n\n        unbind: {\n          events: function() {\n            $module.find('.track, .thumb, .inner').off('mousedown' + eventNamespace);\n            $module.find('.track, .thumb, .inner').off('touchstart' + eventNamespace);\n            $module.off('mousedown' + eventNamespace);\n            $module.off('mouseenter' + eventNamespace);\n            $module.off('mouseleave' + eventNamespace);\n            $module.off('touchstart' + eventNamespace);\n            $module.off('keydown' + eventNamespace);\n            $module.off('focusout' + eventNamespace);\n            $(document).off('keydown' + eventNamespace + documentEventID, module.event.activateFocus);\n            $window.off('resize' + eventNamespace);\n          },\n          slidingEvents: function() {\n            if(module.is.touch()) {\n              $(document).off('touchmove' + eventNamespace);\n              $(document).off('touchend' + eventNamespace);\n            } else {\n              $(document).off('mousemove' + eventNamespace);\n              $(document).off('mouseup' + eventNamespace);\n            }\n          },\n        },\n\n        event: {\n          down: function(event) {\n            event.preventDefault();\n            if(module.is.range()) {\n              var\n                eventPos = module.determine.eventPos(event),\n                newPos = module.determine.pos(eventPos)\n              ;\n              // Special handling if range mode and both thumbs have the same value\n              if(settings.preventCrossover && module.is.range() && module.thumbVal === module.secondThumbVal) {\n                initialPosition = newPos;\n                $currThumb = undefined;\n              } else {\n                $currThumb = module.determine.closestThumb(newPos);\n              }\n              if (previousValue === undefined) {\n                previousValue = module.get.currentThumbValue();\n              }\n            } else if (previousValue === undefined) {\n                previousValue = module.get.value();\n            }\n\n            if(!module.is.disabled()) {\n              module.bind.slidingEvents();\n            }\n          },\n          move: function(event) {\n            event.preventDefault();\n            var value = module.determine.valueFromEvent(event);\n            if($currThumb === undefined) {\n              var\n                eventPos = module.determine.eventPos(event),\n                newPos = module.determine.pos(eventPos)\n              ;\n              $currThumb = initialPosition > newPos ? $thumb : $secondThumb;\n            }\n            if(module.get.step() == 0 || module.is.smooth()) {\n              var\n                thumbVal = module.thumbVal,\n                secondThumbVal = module.secondThumbVal,\n                thumbSmoothVal = module.determine.smoothValueFromEvent(event)\n              ;\n              if(!$currThumb.hasClass('second')) {\n                if(settings.preventCrossover && module.is.range()) {\n                  value = Math.min(secondThumbVal, value);\n                  thumbSmoothVal = Math.min(secondThumbVal, thumbSmoothVal);\n                }\n                thumbVal = value;\n              } else {\n                if(settings.preventCrossover && module.is.range()) {\n                  value = Math.max(thumbVal, value);\n                  thumbSmoothVal = Math.max(thumbVal, thumbSmoothVal);\n                }\n                secondThumbVal = value;\n              }\n              value = Math.abs(thumbVal - (secondThumbVal || 0));\n              module.update.position(thumbSmoothVal);\n              settings.onMove.call(element, value, thumbVal, secondThumbVal);\n            } else {\n              module.update.value(value, function(value, thumbVal, secondThumbVal) {\n                settings.onMove.call(element, value, thumbVal, secondThumbVal);\n              });\n            }\n          },\n          up: function(event) {\n            event.preventDefault();\n            var value = module.determine.valueFromEvent(event);\n            module.set.value(value);\n            module.unbind.slidingEvents();\n            if (previousValue !== undefined) {\n              previousValue = undefined;\n            }\n          },\n          keydown: function(event, first) {\n            if(settings.preventCrossover && module.is.range() && module.thumbVal === module.secondThumbVal) {\n              $currThumb = undefined;\n            }\n            if(module.is.focused()) {\n              $(document).trigger(event);\n            }\n            if(first || module.is.focused()) {\n              var step = module.determine.keyMovement(event);\n              if(step != NO_STEP) {\n                event.preventDefault();\n                switch(step) {\n                  case SINGLE_STEP:\n                    module.takeStep();\n                    break;\n                  case BIG_STEP:\n                    module.takeStep(module.get.multiplier());\n                    break;\n                  case SINGLE_BACKSTEP:\n                    module.backStep();\n                    break;\n                  case BIG_BACKSTEP:\n                    module.backStep(module.get.multiplier());\n                    break;\n                }\n              }\n            }\n          },\n          activateFocus: function(event) {\n            if(!module.is.focused() && module.is.hover() && module.determine.keyMovement(event) != NO_STEP) {\n              event.preventDefault();\n              module.event.keydown(event, true);\n              $module.focus();\n            }\n          },\n          resize: function(_event) {\n            // To avoid a useless performance cost, we only call the label refresh when its necessary\n            if (gapRatio != module.get.gapRatio()) {\n              module.setup.labels();\n              gapRatio = module.get.gapRatio();\n            }\n          }\n        },\n\n        resync: function() {\n          module.verbose('Resyncing thumb position based on value');\n          if(module.is.range()) {\n            module.update.position(module.secondThumbVal, $secondThumb);\n          }\n          module.update.position(module.thumbVal, $thumb);\n          module.setup.labels();\n        },\n        takeStep: function(multiplier) {\n          var\n            multiplier = multiplier != undefined ? multiplier : 1,\n            step = module.get.step(),\n            currValue = module.get.currentThumbValue()\n          ;\n          module.verbose('Taking a step');\n          if(step > 0) {\n            module.set.value(currValue + step * multiplier);\n          } else if (step == 0){\n            var\n              precision = module.get.precision(),\n              newValue = currValue + (multiplier/precision)\n            ;\n            module.set.value(Math.round(newValue * precision) / precision);\n          }\n        },\n\n        backStep: function(multiplier) {\n          var\n            multiplier = multiplier != undefined ? multiplier : 1,\n            step = module.get.step(),\n            currValue = module.get.currentThumbValue()\n          ;\n          module.verbose('Going back a step');\n          if(step > 0) {\n            module.set.value(currValue - step * multiplier);\n          } else if (step == 0) {\n            var\n              precision = module.get.precision(),\n              newValue = currValue - (multiplier/precision)\n            ;\n            module.set.value(Math.round(newValue * precision) / precision);\n          }\n        },\n\n        is: {\n          range: function() {\n            return $module.hasClass(settings.className.range);\n          },\n          hover: function() {\n            return isHover;\n          },\n          focused: function() {\n            return $module.is(':focus');\n          },\n          disabled: function() {\n            return $module.hasClass(settings.className.disabled);\n          },\n          labeled: function() {\n            return $module.hasClass(settings.className.labeled);\n          },\n          reversed: function() {\n            return $module.hasClass(settings.className.reversed);\n          },\n          vertical: function() {\n            return $module.hasClass(settings.className.vertical);\n          },\n          smooth: function() {\n            return settings.smooth || $module.hasClass(settings.className.smooth);\n          },\n          touch: function() {\n            return isTouch;\n          }\n        },\n\n        get: {\n          trackOffset: function() {\n            if (module.is.vertical()) {\n              return $track.offset().top;\n            } else {\n              return $track.offset().left;\n            }\n          },\n          trackLength: function() {\n            if (module.is.vertical()) {\n              return $track.height();\n            } else {\n              return $track.width();\n            }\n          },\n          trackLeft: function() {\n            if (module.is.vertical()) {\n              return $track.position().top;\n            } else {\n              return $track.position().left;\n            }\n          },\n          trackStartPos: function() {\n            return module.is.reversed() ? module.get.trackLeft() + module.get.trackLength() : module.get.trackLeft();\n          },\n          trackEndPos: function() {\n            return module.is.reversed() ? module.get.trackLeft() : module.get.trackLeft() + module.get.trackLength();\n          },\n          trackStartMargin: function () {\n            var margin;\n            if (module.is.vertical()) {\n              margin = module.is.reversed() ? $module.css('padding-bottom') : $module.css('padding-top');\n            } else {\n              margin = module.is.reversed() ? $module.css('padding-right') : $module.css('padding-left');\n            }\n            return margin || '0px';\n          },\n          trackEndMargin: function () {\n            var margin;\n            if (module.is.vertical()) {\n              margin = module.is.reversed() ? $module.css('padding-top') : $module.css('padding-bottom');\n            } else {\n              margin = module.is.reversed() ? $module.css('padding-left') : $module.css('padding-right');\n            }\n            return margin || '0px';\n          },\n          precision: function() {\n            var\n              decimalPlaces,\n              step = module.get.step()\n            ;\n            if(step != 0) {\n              var split = String(step).split('.');\n              if(split.length == 2) {\n                decimalPlaces = split[1].length;\n              } else {\n                decimalPlaces = 0;\n              }\n            } else {\n              decimalPlaces = settings.decimalPlaces;\n            }\n            var precision = Math.pow(10, decimalPlaces);\n            module.debug('Precision determined', precision);\n            return precision;\n          },\n          min: function() {\n            return settings.min;\n          },\n          max: function() {\n            var step = module.get.step(),\n                min = module.get.min(),\n                quotient = step === 0 ? 0 : Math.floor((settings.max - min) / step),\n                remainder = step === 0 ? 0 : (settings.max - min) % step;\n            return remainder === 0 ? settings.max : min + quotient * step;\n          },\n          step: function() {\n            return settings.step;\n          },\n          numLabels: function() {\n            var value = Math.round((module.get.max() - module.get.min()) / (module.get.step() === 0 ? 1 : module.get.step()));\n            module.debug('Determined that there should be ' + value + ' labels');\n            return value;\n          },\n          labelType: function() {\n            return settings.labelType;\n          },\n          label: function(value) {\n            if(interpretLabel) {\n              return interpretLabel(value);\n            }\n\n            switch (settings.labelType) {\n              case settings.labelTypes.number:\n                return Math.round(((value * (module.get.step() === 0 ? 1 : module.get.step())) + module.get.min()) * precision ) / precision;\n              case settings.labelTypes.letter:\n                return alphabet[(value) % 26];\n              default:\n                return value;\n            }\n          },\n          value: function() {\n            return value;\n          },\n          currentThumbValue: function() {\n            return $currThumb !== undefined && $currThumb.hasClass('second') ? module.secondThumbVal : module.thumbVal;\n          },\n          thumbValue: function(which) {\n            switch(which) {\n              case 'second':\n                if(module.is.range()) {\n                  return module.secondThumbVal;\n                }\n                else {\n                  module.error(error.notrange);\n                  break;\n                }\n              case 'first':\n              default:\n                return module.thumbVal;\n            }\n          },\n          multiplier: function() {\n            return settings.pageMultiplier;\n          },\n          thumbPosition: function(which) {\n            switch(which) {\n              case 'second':\n                if(module.is.range()) {\n                  return secondPos;\n                }\n                else {\n                  module.error(error.notrange);\n                  break;\n                }\n              case 'first':\n              default:\n                return position;\n            }\n          },\n          gapRatio: function() {\n            var gapRatio = 1;\n            \n            if( settings.autoAdjustLabels ) {\n              var \n                numLabels = module.get.numLabels(),\n                trackLength = module.get.trackLength(),\n                gapCounter = 1\n              ;\n\n              // While the distance between two labels is too short,\n              // we divide the number of labels at each iteration\n              // and apply only if the modulo of the operation is an odd number.\n              if(trackLength>0){\n                while ((trackLength / numLabels) * gapCounter < settings.labelDistance) {\n                  if( !(numLabels % gapCounter) ) {\n                    gapRatio = gapCounter;\n                  }\n                  gapCounter += 1;\n                }\n              }\n            }\n            return gapRatio;\n          }\n        },\n\n        determine: {\n          pos: function(pagePos) {\n            return module.is.reversed()\n              ?\n              module.get.trackStartPos() - pagePos + module.get.trackOffset()\n              :\n              pagePos - module.get.trackOffset() - module.get.trackStartPos()\n            ;\n          },\n          closestThumb: function(eventPos) {\n            var\n              thumbPos = parseFloat(module.determine.thumbPos($thumb)),\n              thumbDelta = Math.abs(eventPos - thumbPos),\n              secondThumbPos = parseFloat(module.determine.thumbPos($secondThumb)),\n              secondThumbDelta = Math.abs(eventPos - secondThumbPos)\n            ;\n            if(thumbDelta === secondThumbDelta && module.get.thumbValue() === module.get.min()) {\n              return $secondThumb;\n            }\n            return thumbDelta <= secondThumbDelta ? $thumb : $secondThumb;\n          },\n          closestThumbPos: function(eventPos) {\n            var\n              thumbPos = parseFloat(module.determine.thumbPos($thumb)),\n              thumbDelta = Math.abs(eventPos - thumbPos),\n              secondThumbPos = parseFloat(module.determine.thumbPos($secondThumb)),\n              secondThumbDelta = Math.abs(eventPos - secondThumbPos)\n            ;\n            return thumbDelta <= secondThumbDelta ? thumbPos : secondThumbPos;\n          },\n          thumbPos: function($element) {\n            var pos =\n              module.is.vertical()\n              ?\n              module.is.reversed() ? $element.css('bottom') : $element.css('top')\n              :\n              module.is.reversed() ? $element.css('right') : $element.css('left')\n            ;\n            return pos;\n          },\n          positionFromValue: function(value) {\n            var\n              min = module.get.min(),\n              max = module.get.max(),\n              value = value > max ? max : value < min ? min : value,\n              trackLength = module.get.trackLength(),\n              ratio = (value - min) / (max - min),\n              position = Math.round(ratio * trackLength)\n            ;\n            module.verbose('Determined position: ' + position + ' from value: ' + value);\n            return position;\n          },\n          positionFromRatio: function(ratio) {\n            var\n              trackLength = module.get.trackLength(),\n              step = module.get.step(),\n              position = Math.round(ratio * trackLength),\n              adjustedPos = (step == 0) ? position : Math.round(position / step) * step\n            ;\n            return adjustedPos;\n          },\n          valueFromEvent: function(event) {\n            var\n              eventPos = module.determine.eventPos(event),\n              newPos = module.determine.pos(eventPos),\n              value\n            ;\n            if(eventPos < module.get.trackOffset()) {\n              value = module.is.reversed() ? module.get.max() : module.get.min();\n            } else if(eventPos > module.get.trackOffset() + module.get.trackLength()) {\n              value = module.is.reversed() ? module.get.min() : module.get.max();\n            } else {\n              value = module.determine.value(newPos);\n            }\n            return value;\n          },\n          smoothValueFromEvent: function(event) {\n            var\n              min = module.get.min(),\n              max = module.get.max(),\n              trackLength = module.get.trackLength(),\n              eventPos = module.determine.eventPos(event),\n              newPos = eventPos - module.get.trackOffset(),\n              ratio,\n              value\n            ;\n            newPos = newPos < 0 ? 0 : newPos > trackLength ? trackLength : newPos;\n            ratio = newPos / trackLength;\n            if (module.is.reversed()) {\n              ratio = 1 - ratio;\n            }\n            value = ratio * (max - min) + min;\n            return value;\n          },\n          eventPos: function(event) {\n            if(module.is.touch()) {\n              var\n                touchEvent = event.changedTouches ? event : event.originalEvent,\n                touches = touchEvent.changedTouches[0] ? touchEvent.changedTouches : touchEvent.touches,\n                touchY = touches[0].pageY,\n                touchX = touches[0].pageX\n              ;\n              return module.is.vertical() ? touchY : touchX;\n            }\n            var\n              clickY = event.pageY || event.originalEvent.pageY,\n              clickX = event.pageX || event.originalEvent.pageX\n            ;\n            return module.is.vertical() ? clickY : clickX;\n          },\n          value: function(position) {\n            var\n              startPos = module.is.reversed() ? module.get.trackEndPos() : module.get.trackStartPos(),\n              endPos = module.is.reversed() ? module.get.trackStartPos() : module.get.trackEndPos(),\n              ratio = (position - startPos) / (endPos - startPos),\n              range = module.get.max() - module.get.min(),\n              step = module.get.step(),\n              value = (ratio * range),\n              difference = (step == 0) ? value : Math.round(value / step) * step\n            ;\n            module.verbose('Determined value based upon position: ' + position + ' as: ' + value);\n            if(value != difference) {\n              module.verbose('Rounding value to closest step: ' + difference);\n            }\n            // Use precision to avoid ugly Javascript floating point rounding issues\n            // (like 35 * .01 = 0.35000000000000003)\n            module.verbose('Cutting off additional decimal places');\n            return Math.round((difference + module.get.min()) * precision) / precision;\n          },\n          keyMovement: function(event) {\n            var\n              key = event.which,\n              downArrow =\n                module.is.vertical()\n                ?\n                module.is.reversed() ? keys.downArrow : keys.upArrow\n                :\n                keys.downArrow\n              ,\n              upArrow =\n                module.is.vertical()\n                ?\n                module.is.reversed() ? keys.upArrow : keys.downArrow\n                :\n                keys.upArrow\n              ,\n              leftArrow =\n                !module.is.vertical()\n                ?\n                module.is.reversed() ? keys.rightArrow : keys.leftArrow\n                :\n                keys.leftArrow\n              ,\n              rightArrow =\n                !module.is.vertical()\n                ?\n                module.is.reversed() ? keys.leftArrow : keys.rightArrow\n                :\n                keys.rightArrow\n            ;\n            if(key == downArrow || key == leftArrow) {\n              return SINGLE_BACKSTEP;\n            } else if(key == upArrow || key == rightArrow) {\n              return SINGLE_STEP;\n            } else if (key == keys.pageDown) {\n              return BIG_BACKSTEP;\n            } else if (key == keys.pageUp) {\n              return BIG_STEP;\n            } else {\n              return NO_STEP;\n            }\n          }\n        },\n\n        handleNewValuePosition: function(val) {\n          var\n            min = module.get.min(),\n            max = module.get.max(),\n            newPos\n          ;\n          if (val <= min) {\n            val = min;\n          } else if (val >= max) {\n            val = max;\n          }\n          newPos = module.determine.positionFromValue(val);\n          return newPos;\n        },\n\n        set: {\n          value: function(newValue, fireChange) {\n            fireChange = fireChange !== false;\n            var toReset = previousValue === undefined;\n            previousValue = previousValue === undefined ? module.get.value() : previousValue;\n            module.update.value(newValue, function(value, thumbVal, secondThumbVal) {\n              if ((!initialLoad || settings.fireOnInit) && fireChange){\n                if (newValue !== previousValue) {\n                  settings.onChange.call(element, value, thumbVal, secondThumbVal);\n                }\n                settings.onMove.call(element, value, thumbVal, secondThumbVal);\n              }\n              if (toReset) {\n                previousValue = undefined;\n              }\n            });\n          },\n          rangeValue: function(first, second, fireChange) {\n            fireChange = fireChange !== false;\n            if(module.is.range()) {\n              var\n                min = module.get.min(),\n                max = module.get.max(),\n                toReset = previousValue === undefined\n              ;\n              previousValue = previousValue === undefined ? module.get.value() : previousValue;\n              if (first <= min) {\n                first = min;\n              } else if(first >= max){\n                first = max;\n              }\n              if (second <= min) {\n                second = min;\n              } else if(second >= max){\n                second = max;\n              }\n              module.thumbVal = first;\n              module.secondThumbVal = second;\n              value = Math.abs(module.thumbVal - module.secondThumbVal);\n              module.update.position(module.thumbVal, $thumb);\n              module.update.position(module.secondThumbVal, $secondThumb);\n              if ((!initialLoad || settings.fireOnInit) && fireChange) {\n                if (value !== previousValue) {\n                  settings.onChange.call(element, value, module.thumbVal, module.secondThumbVal);\n                }\n                settings.onMove.call(element, value, module.thumbVal, module.secondThumbVal);\n              }\n              if (toReset) {\n                previousValue = undefined;\n              }\n            } else {\n              module.error(error.notrange);\n            }\n          },\n          position: function(position, which) {\n            var thumbVal = module.determine.value(position);\n            switch (which) {\n              case 'second':\n                module.secondThumbVal = thumbVal;\n                module.update.position(thumbVal, $secondThumb);\n                break;\n              default:\n                module.thumbVal = thumbVal;\n                module.update.position(thumbVal, $thumb);\n            }\n            value = Math.abs(module.thumbVal - (module.secondThumbVal || 0));\n            module.set.value(value);\n          }\n        },\n\n        update: {\n          value: function(newValue, callback) {\n            var\n              min = module.get.min(),\n              max = module.get.max()\n            ;\n            if (newValue <= min) {\n              newValue = min;\n            } else if(newValue >= max){\n              newValue = max;\n            }\n            if(!module.is.range()) {\n              value = newValue;\n              module.thumbVal = value;\n            } else {\n              if($currThumb === undefined) {\n                $currThumb = newValue <= module.get.currentThumbValue() ? $thumb : $secondThumb;\n              }\n              if(!$currThumb.hasClass('second')) {\n                if(settings.preventCrossover && module.is.range()) {\n                  newValue = Math.min(module.secondThumbVal, newValue);\n                }\n                module.thumbVal = newValue;\n              } else {\n                if(settings.preventCrossover && module.is.range()) {\n                  newValue = Math.max(module.thumbVal, newValue);\n                }\n                module.secondThumbVal = newValue;\n              }\n              value = Math.abs(module.thumbVal - module.secondThumbVal);\n            }\n            module.update.position(newValue);\n            module.debug('Setting slider value to ' + value);\n            if(typeof callback === 'function') {\n              callback(value, module.thumbVal, module.secondThumbVal);\n            }\n          },\n          position: function(newValue, $element) {\n            var\n              newPos = module.handleNewValuePosition(newValue),\n              $targetThumb = $element != undefined ? $element : $currThumb,\n              thumbVal = module.thumbVal || module.get.min(),\n              secondThumbVal = module.secondThumbVal || module.get.min()\n            ;\n            if(module.is.range()) {\n              if(!$targetThumb.hasClass('second')) {\n                position = newPos;\n                thumbVal = newValue;\n              } else {\n                secondPos = newPos;\n                secondThumbVal = newValue;\n              }\n            } else {\n              position = newPos;\n              thumbVal = newValue;\n            }\n            var\n              trackPosValue,\n              thumbPosValue,\n              min = module.get.min(),\n              max = module.get.max(),\n              thumbPosPercent = 100 * (newValue - min) / (max - min),\n              trackStartPosPercent = 100 * (Math.min(thumbVal, secondThumbVal) - min) / (max - min),\n              trackEndPosPercent = 100 * (1 - (Math.max(thumbVal, secondThumbVal) - min) / (max - min))\n            ;\n            if (module.is.vertical()) {\n              if (module.is.reversed()) {\n                thumbPosValue = {bottom: 'calc(' + thumbPosPercent + '% - ' + offset + 'px)', top: 'auto'};\n                trackPosValue = {bottom: trackStartPosPercent + '%', top: trackEndPosPercent + '%'};\n              }\n              else {\n                thumbPosValue = {top: 'calc(' + thumbPosPercent + '% - ' + offset + 'px)', bottom: 'auto'};\n                trackPosValue = {top: trackStartPosPercent + '%', bottom: trackEndPosPercent + '%'};\n              }\n            } else {\n              if (module.is.reversed()) {\n                thumbPosValue = {right: 'calc(' + thumbPosPercent + '% - ' + offset + 'px)', left: 'auto'};\n                trackPosValue = {right: trackStartPosPercent + '%', left: trackEndPosPercent + '%'};\n              }\n              else {\n                thumbPosValue = {left: 'calc(' + thumbPosPercent + '% - ' + offset + 'px)', right: 'auto'};\n                trackPosValue = {left: trackStartPosPercent + '%', right: trackEndPosPercent + '%'};\n              }\n            }\n            $targetThumb.css(thumbPosValue);\n            $trackFill.css(trackPosValue);\n            module.debug('Setting slider position to ' + newPos);\n          },\n          labelPosition: function (ratio, $label) {\n            var\n              startMargin = module.get.trackStartMargin(),\n              endMargin   = module.get.trackEndMargin(),\n              posDir =\n                module.is.vertical()\n                ?\n                module.is.reversed() ? 'bottom' : 'top'\n                :\n                  module.is.reversed() ? 'right' : 'left',\n              startMarginMod = module.is.reversed() && !module.is.vertical() ? ' - ' : ' + '\n            ;\n            var position = '(100% - ' + startMargin + ' - ' + endMargin + ') * ' + ratio;\n            $label.css(posDir, 'calc(' + position + startMarginMod + startMargin + ')');\n          }\n        },\n\n        goto: {\n          max: function() {\n            module.set.value(module.get.max());\n          },\n          min: function() {\n            module.set.value(module.get.min());\n          },\n        },\n\n        read: {\n          metadata: function() {\n            var\n              data = {\n                thumbVal        : $module.data(metadata.thumbVal),\n                secondThumbVal  : $module.data(metadata.secondThumbVal)\n              }\n            ;\n            if(data.thumbVal) {\n              if(module.is.range() && data.secondThumbVal) {\n                module.debug('Current value set from metadata', data.thumbVal, data.secondThumbVal);\n                module.set.rangeValue(data.thumbVal, data.secondThumbVal);\n              } else {\n                module.debug('Current value set from metadata', data.thumbVal);\n                module.set.value(data.thumbVal);\n              }\n            }\n          },\n          settings: function() {\n            if(settings.start !== false) {\n              if(module.is.range()) {\n                module.debug('Start position set from settings', settings.start, settings.end);\n                module.set.rangeValue(settings.start, settings.end);\n              } else {\n                module.debug('Start position set from settings', settings.start);\n                module.set.value(settings.start);\n              }\n            }\n          }\n        },\n\n        setting: function(name, value) {\n          module.debug('Changing setting', name, value);\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            if($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            }\n            else {\n              settings[name] = value;\n            }\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n          if ( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      };\n\n      if(methodInvoked) {\n        if(instance === undefined) {\n          module.initialize();\n        }\n        module.invoke(query);\n      }\n      else {\n        if(instance !== undefined) {\n          instance.invoke('destroy');\n        }\n        module.initialize();\n      }\n    })\n  ;\n\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n\n};\n\n$.fn.slider.settings = {\n\n  silent       : false,\n  debug        : false,\n  verbose      : false,\n  performance  : true,\n\n  name         : 'Slider',\n  namespace    : 'slider',\n\n  error    : {\n    method    : 'The method you called is not defined.',\n    notrange : 'This slider is not a range slider'\n  },\n\n  metadata: {\n    thumbVal        : 'thumbVal',\n    secondThumbVal  : 'secondThumbVal'\n  },\n\n  min              : 0,\n  max              : 20,\n  step             : 1,\n  start            : 0,\n  end              : 20,\n  labelType        : 'number',\n  showLabelTicks   : false,\n  smooth           : false,\n  autoAdjustLabels : true,\n  labelDistance    : 100,\n  preventCrossover : true,\n  fireOnInit       : false,\n  interpretLabel   : false,\n\n  //the decimal place to round to if step is undefined\n  decimalPlaces  : 2,\n\n  // page up/down multiplier. How many more times the steps to take on page up/down press\n  pageMultiplier : 2,\n\n  selector: {\n\n  },\n\n  className     : {\n    reversed : 'reversed',\n    disabled : 'disabled',\n    labeled  : 'labeled',\n    ticked   : 'ticked',\n    vertical : 'vertical',\n    range    : 'range',\n    smooth   : 'smooth'\n  },\n\n  keys : {\n    pageUp     : 33,\n    pageDown   : 34,\n    leftArrow  : 37,\n    upArrow    : 38,\n    rightArrow : 39,\n    downArrow  : 40\n  },\n\n  labelTypes    : {\n    number  : 'number',\n    letter  : 'letter'\n  },\n\n  onChange : function(value, thumbVal, secondThumbVal){},\n  onMove   : function(value, thumbVal, secondThumbVal){},\n};\n\n\n})( jQuery, window, document );\n\n/*!\n * # Fomantic-UI 2.8.8 - Rating\n * http://github.com/fomantic/Fomantic-UI/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n'use strict';\n\n$.isFunction = $.isFunction || function(obj) {\n  return typeof obj === \"function\" && typeof obj.nodeType !== \"number\";\n};\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\n$.fn.rating = function(parameters) {\n  var\n    $allModules     = $(this),\n    moduleSelector  = $allModules.selector || '',\n\n    time            = new Date().getTime(),\n    performance     = [],\n\n    query           = arguments[0],\n    methodInvoked   = (typeof query == 'string'),\n    queryArguments  = [].slice.call(arguments, 1),\n    returnedValue\n  ;\n  $allModules\n    .each(function() {\n      var\n        settings        = ( $.isPlainObject(parameters) )\n          ? $.extend(true, {}, $.fn.rating.settings, parameters)\n          : $.extend({}, $.fn.rating.settings),\n\n        namespace       = settings.namespace,\n        className       = settings.className,\n        metadata        = settings.metadata,\n        selector        = settings.selector,\n        cssVars         = settings.cssVars,\n\n        eventNamespace  = '.' + namespace,\n        moduleNamespace = 'module-' + namespace,\n\n        element         = this,\n        instance        = $(this).data(moduleNamespace),\n\n        $module         = $(this),\n        $icon           = $module.find(selector.icon),\n\n        initialLoad,\n        module\n      ;\n\n      module = {\n\n        initialize: function() {\n          module.verbose('Initializing rating module', settings);\n\n          if($icon.length === 0) {\n            module.setup.layout();\n          }\n\n          if(settings.interactive && !module.is.disabled()) {\n            module.enable();\n          }\n          else {\n            module.disable();\n          }\n          module.set.initialLoad();\n          module.set.rating( module.get.initialRating() );\n          module.remove.initialLoad();\n          module.instantiate();\n        },\n\n        instantiate: function() {\n          module.verbose('Instantiating module', settings);\n          instance = module;\n          $module\n            .data(moduleNamespace, module)\n          ;\n        },\n\n        destroy: function() {\n          module.verbose('Destroying previous instance', instance);\n          module.remove.events();\n          $module\n            .removeData(moduleNamespace)\n          ;\n        },\n\n        refresh: function() {\n          $icon   = $module.find(selector.icon);\n        },\n\n        setup: {\n          layout: function() {\n            var\n              maxRating = module.get.maxRating(),\n              icon      = module.get.icon(),\n              html      = $.fn.rating.settings.templates.icon(maxRating, icon)\n            ;\n            module.debug('Generating icon html dynamically');\n            $module\n              .html(html)\n            ;\n            module.refresh();\n          }\n        },\n\n        event: {\n          mouseenter: function() {\n            var\n              $activeIcon = $(this)\n            ;\n            $activeIcon\n              .nextAll()\n                .removeClass(className.selected)\n            ;\n            $module\n              .addClass(className.selected)\n            ;\n            $activeIcon\n              .addClass(className.selected)\n                .prevAll()\n                .addClass(className.selected)\n            ;\n          },\n          mouseleave: function() {\n            $module\n              .removeClass(className.selected)\n            ;\n            $icon\n              .removeClass(className.selected)\n            ;\n          },\n          click: function() {\n            var\n              $activeIcon   = $(this),\n              currentRating = module.get.rating(),\n              rating        = $icon.index($activeIcon) + 1,\n              canClear      = (settings.clearable == 'auto')\n               ? ($icon.length === 1)\n               : settings.clearable\n            ;\n            if(canClear && currentRating == rating) {\n              module.clearRating();\n            }\n            else {\n              module.set.rating( rating );\n            }\n          }\n        },\n\n        clearRating: function() {\n          module.debug('Clearing current rating');\n          module.set.rating(0);\n        },\n\n        bind: {\n          events: function() {\n            module.verbose('Binding events');\n            $module\n              .on('mouseenter' + eventNamespace, selector.icon, module.event.mouseenter)\n              .on('mouseleave' + eventNamespace, selector.icon, module.event.mouseleave)\n              .on('click'      + eventNamespace, selector.icon, module.event.click)\n            ;\n          }\n        },\n\n        remove: {\n          events: function() {\n            module.verbose('Removing events');\n            $module\n              .off(eventNamespace)\n            ;\n          },\n          initialLoad: function() {\n            initialLoad = false;\n          }\n        },\n\n        enable: function() {\n          module.debug('Setting rating to interactive mode');\n          module.bind.events();\n          $module\n            .removeClass(className.disabled)\n          ;\n        },\n\n        disable: function() {\n          module.debug('Setting rating to read-only mode');\n          module.remove.events();\n          $module\n            .addClass(className.disabled)\n          ;\n        },\n\n        is: {\n          initialLoad: function() {\n            return initialLoad;\n          },\n          disabled: function() {\n            return $module.hasClass(className.disabled);\n          }\n        },\n\n        get: {\n          icon: function(){\n            var icon = $module.data(metadata.icon);\n            if (icon) {\n              $module.removeData(metadata.icon);\n            }\n            return icon || settings.icon;\n          },\n          initialRating: function() {\n            if($module.data(metadata.rating) !== undefined) {\n              $module.removeData(metadata.rating);\n              return $module.data(metadata.rating);\n            }\n            return settings.initialRating;\n          },\n          maxRating: function() {\n            if($module.data(metadata.maxRating) !== undefined) {\n              $module.removeData(metadata.maxRating);\n              return $module.data(metadata.maxRating);\n            }\n            return settings.maxRating;\n          },\n          rating: function() {\n            var\n              currentRating = $icon.filter('.' + className.active).length\n            ;\n            module.verbose('Current rating retrieved', currentRating);\n            return currentRating;\n          }\n        },\n\n        set: {\n          rating: function(rating) {\n            var\n              ratingIndex = Math.floor(\n                (rating - 1 >= 0)\n                  ? (rating - 1)\n                  : 0\n              ),\n              $activeIcon = $icon.eq(ratingIndex),\n              $partialActiveIcon = rating <= 1\n                ? $activeIcon\n                : $activeIcon.next()\n              ,\n              filledPercentage = (rating % 1) * 100\n            ;\n            $module\n              .removeClass(className.selected)\n            ;\n            $icon\n              .removeClass(className.selected)\n              .removeClass(className.active)\n              .removeClass(className.partiallyActive)\n            ;\n            if(rating > 0) {\n              module.verbose('Setting current rating to', rating);\n              $activeIcon\n                .prevAll()\n                .addBack()\n                .addClass(className.active)\n              ;\n              if($activeIcon.next() && rating % 1 !== 0) {\n                $partialActiveIcon\n                  .addClass(className.partiallyActive)\n                  .addClass(className.active)\n                ;\n                $partialActiveIcon\n                  .css(cssVars.filledCustomPropName, filledPercentage + '%')\n                ;\n                if($partialActiveIcon.css('backgroundColor') === 'transparent') {\n                  $partialActiveIcon\n                    .removeClass(className.partiallyActive)\n                    .removeClass(className.active)\n                  ;\n                }\n              }\n            }\n            if(!module.is.initialLoad()) {\n              settings.onRate.call(element, rating);\n            }\n          },\n          initialLoad: function() {\n            initialLoad = true;\n          }\n        },\n\n        setting: function(name, value) {\n          module.debug('Changing setting', name, value);\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            if($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            }\n            else {\n              settings[name] = value;\n            }\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if($allModules.length > 1) {\n              title += ' ' + '(' + $allModules.length + ')';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                return false;\n              }\n            });\n          }\n          if ( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if(Array.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      };\n      if(methodInvoked) {\n        if(instance === undefined) {\n          module.initialize();\n        }\n        module.invoke(query);\n      }\n      else {\n        if(instance !== undefined) {\n          instance.invoke('destroy');\n        }\n        module.initialize();\n      }\n    })\n  ;\n\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n$.fn.rating.settings = {\n\n  name          : 'Rating',\n  namespace     : 'rating',\n\n  icon          : 'star',\n\n  silent        : false,\n  debug         : false,\n  verbose       : false,\n  performance   : true,\n\n  initialRating : 0,\n  interactive   : true,\n  maxRating     : 4,\n  clearable     : 'auto',\n\n  fireOnInit    : false,\n\n  onRate        : function(rating){},\n\n  error         : {\n    method    : 'The method you called is not defined',\n    noMaximum : 'No maximum rating specified. Cannot generate HTML automatically'\n  },\n\n\n  metadata: {\n    rating    : 'rating',\n    maxRating : 'maxRating',\n    icon      : 'icon'\n  },\n\n  className : {\n    active   : 'active',\n    disabled : 'disabled',\n    selected : 'selected',\n    loading  : 'loading',\n    partiallyActive : 'partial'\n  },\n\n  cssVars : {\n    filledCustomPropName : '--full'\n  },\n\n  selector  : {\n    icon : '.icon'\n  },\n\n  templates: {\n    icon: function(maxRating, iconClass) {\n      var\n        icon = 1,\n        html = ''\n      ;\n      while(icon <= maxRating) {\n        html += '<i class=\"'+iconClass+' icon\"></i>';\n        icon++;\n      }\n      return html;\n    }\n  }\n\n};\n\n})( jQuery, window, document );\n\n/*!\n * # Fomantic-UI 2.8.8 - Search\n * http://github.com/fomantic/Fomantic-UI/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n'use strict';\n\n$.isFunction = $.isFunction || function(obj) {\n  return typeof obj === \"function\" && typeof obj.nodeType !== \"number\";\n};\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\n$.fn.search = function(parameters) {\n  var\n    $allModules     = $(this),\n    moduleSelector  = $allModules.selector || '',\n\n    time            = new Date().getTime(),\n    performance     = [],\n\n    query           = arguments[0],\n    methodInvoked   = (typeof query == 'string'),\n    queryArguments  = [].slice.call(arguments, 1),\n    returnedValue\n  ;\n  $(this)\n    .each(function() {\n      var\n        settings          = ( $.isPlainObject(parameters) )\n          ? $.extend(true, {}, $.fn.search.settings, parameters)\n          : $.extend({}, $.fn.search.settings),\n\n        className        = settings.className,\n        metadata         = settings.metadata,\n        regExp           = settings.regExp,\n        fields           = settings.fields,\n        selector         = settings.selector,\n        error            = settings.error,\n        namespace        = settings.namespace,\n\n        eventNamespace   = '.' + namespace,\n        moduleNamespace  = namespace + '-module',\n\n        $module          = $(this),\n        $prompt          = $module.find(selector.prompt),\n        $searchButton    = $module.find(selector.searchButton),\n        $results         = $module.find(selector.results),\n        $result          = $module.find(selector.result),\n        $category        = $module.find(selector.category),\n\n        element          = this,\n        instance         = $module.data(moduleNamespace),\n\n        disabledBubbled  = false,\n        resultsDismissed = false,\n\n        module\n      ;\n\n      module = {\n\n        initialize: function() {\n          module.verbose('Initializing module');\n          module.get.settings();\n          module.determine.searchFields();\n          module.bind.events();\n          module.set.type();\n          module.create.results();\n          module.instantiate();\n        },\n        instantiate: function() {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module\n            .data(moduleNamespace, module)\n          ;\n        },\n        destroy: function() {\n          module.verbose('Destroying instance');\n          $module\n            .off(eventNamespace)\n            .removeData(moduleNamespace)\n          ;\n        },\n\n        refresh: function() {\n          module.debug('Refreshing selector cache');\n          $prompt         = $module.find(selector.prompt);\n          $searchButton   = $module.find(selector.searchButton);\n          $category       = $module.find(selector.category);\n          $results        = $module.find(selector.results);\n          $result         = $module.find(selector.result);\n        },\n\n        refreshResults: function() {\n          $results = $module.find(selector.results);\n          $result  = $module.find(selector.result);\n        },\n\n        bind: {\n          events: function() {\n            module.verbose('Binding events to search');\n            if(settings.automatic) {\n              $module\n                .on(module.get.inputEvent() + eventNamespace, selector.prompt, module.event.input)\n              ;\n              $prompt\n                .attr('autocomplete', module.is.chrome() ? 'fomantic-search' : 'off')\n              ;\n            }\n            $module\n              // prompt\n              .on('focus'     + eventNamespace, selector.prompt, module.event.focus)\n              .on('blur'      + eventNamespace, selector.prompt, module.event.blur)\n              .on('keydown'   + eventNamespace, selector.prompt, module.handleKeyboard)\n              // search button\n              .on('click'     + eventNamespace, selector.searchButton, module.query)\n              // results\n              .on('mousedown' + eventNamespace, selector.results, module.event.result.mousedown)\n              .on('mouseup'   + eventNamespace, selector.results, module.event.result.mouseup)\n              .on('click'     + eventNamespace, selector.result,  module.event.result.click)\n            ;\n          }\n        },\n\n        determine: {\n          searchFields: function() {\n            // this makes sure $.extend does not add specified search fields to default fields\n            // this is the only setting which should not extend defaults\n            if(parameters && parameters.searchFields !== undefined) {\n              settings.searchFields = parameters.searchFields;\n            }\n          }\n        },\n\n        event: {\n          input: function() {\n            if(settings.searchDelay) {\n              clearTimeout(module.timer);\n              module.timer = setTimeout(function() {\n                if(module.is.focused()) {\n                  module.query();\n                }\n              }, settings.searchDelay);\n            }\n            else {\n              module.query();\n            }\n          },\n          focus: function() {\n            module.set.focus();\n            if(settings.searchOnFocus && module.has.minimumCharacters() ) {\n              module.query(function() {\n                if(module.can.show() ) {\n                  module.showResults();\n                }\n              });\n            }\n          },\n          blur: function(event) {\n            var\n              pageLostFocus = (document.activeElement === this),\n              callback      = function() {\n                module.cancel.query();\n                module.remove.focus();\n                module.timer = setTimeout(module.hideResults, settings.hideDelay);\n              }\n            ;\n            if(pageLostFocus) {\n              return;\n            }\n            resultsDismissed = false;\n            if(module.resultsClicked) {\n              module.debug('Determining if user action caused search to close');\n              $module\n                .one('click.close' + eventNamespace, selector.results, function(event) {\n                  if(module.is.inMessage(event) || disabledBubbled) {\n                    $prompt.focus();\n                    return;\n                  }\n                  disabledBubbled = false;\n                  if( !module.is.animating() && !module.is.hidden()) {\n                    callback();\n                  }\n                })\n              ;\n            }\n            else {\n              module.debug('Input blurred without user action, closing results');\n              callback();\n            }\n          },\n          result: {\n            mousedown: function() {\n              module.resultsClicked = true;\n            },\n            mouseup: function() {\n              module.resultsClicked = false;\n            },\n            click: function(event) {\n              module.debug('Search result selected');\n              var\n                $result = $(this),\n                $title  = $result.find(selector.title).eq(0),\n                $link   = $result.is('a[href]')\n                  ? $result\n                  : $result.find('a[href]').eq(0),\n                href    = $link.attr('href')   || false,\n                target  = $link.attr('target') || false,\n                // title is used for result lookup\n                value   = ($title.length > 0)\n                  ? $title.text()\n                  : false,\n                results = module.get.results(),\n                result  = $result.data(metadata.result) || module.get.result(value, results)\n              ;\n              var oldValue = module.get.value();\n              if( $.isFunction(settings.onSelect) ) {\n                if(settings.onSelect.call(element, result, results) === false) {\n                  module.debug('Custom onSelect callback cancelled default select action');\n                  disabledBubbled = true;\n                  return;\n                }\n              }\n              module.hideResults();\n              if(value && module.get.value() === oldValue) {\n                module.set.value(value);\n              }\n              if(href) {\n                event.preventDefault();\n                module.verbose('Opening search link found in result', $link);\n                if(target == '_blank' || event.ctrlKey) {\n                  window.open(href);\n                }\n                else {\n                  window.location.href = (href);\n                }\n              }\n            }\n          }\n        },\n        ensureVisible: function($el) {\n          var elTop, elBottom, resultsScrollTop, resultsHeight;\n          if($el.length === 0) {\n            return;\n          }\n          elTop = $el.position().top;\n          elBottom = elTop + $el.outerHeight(true);\n\n          resultsScrollTop = $results.scrollTop();\n          resultsHeight = $results.height();\n            \n          if (elTop < 0) {\n            $results.scrollTop(resultsScrollTop + elTop);\n          }\n\n          else if (resultsHeight < elBottom) {\n            $results.scrollTop(resultsScrollTop + (elBottom - resultsHeight));\n          }\n        },\n        handleKeyboard: function(event) {\n          var\n            // force selector refresh\n            $result         = $module.find(selector.result),\n            $category       = $module.find(selector.category),\n            $activeResult   = $result.filter('.' + className.active),\n            currentIndex    = $result.index( $activeResult ),\n            resultSize      = $result.length,\n            hasActiveResult = $activeResult.length > 0,\n\n            keyCode         = event.which,\n            keys            = {\n              backspace : 8,\n              enter     : 13,\n              escape    : 27,\n              upArrow   : 38,\n              downArrow : 40\n            },\n            newIndex\n          ;\n          // search shortcuts\n          if(keyCode == keys.escape) {\n            module.verbose('Escape key pressed, blurring search field');\n            module.hideResults();\n            resultsDismissed = true;\n          }\n          if( module.is.visible() ) {\n            if(keyCode == keys.enter) {\n              module.verbose('Enter key pressed, selecting active result');\n              if( $result.filter('.' + className.active).length > 0 ) {\n                module.event.result.click.call($result.filter('.' + className.active), event);\n                event.preventDefault();\n                return false;\n              }\n            }\n            else if(keyCode == keys.upArrow && hasActiveResult) {\n              module.verbose('Up key pressed, changing active result');\n              newIndex = (currentIndex - 1 < 0)\n                ? currentIndex\n                : currentIndex - 1\n              ;\n              $category\n                .removeClass(className.active)\n              ;\n              $result\n                .removeClass(className.active)\n                .eq(newIndex)\n                  .addClass(className.active)\n                  .closest($category)\n                    .addClass(className.active)\n              ;\n              module.ensureVisible($result.eq(newIndex));\n              event.preventDefault();\n            }\n            else if(keyCode == keys.downArrow) {\n              module.verbose('Down key pressed, changing active result');\n              newIndex = (currentIndex + 1 >= resultSize)\n                ? currentIndex\n                : currentIndex + 1\n              ;\n              $category\n                .removeClass(className.active)\n              ;\n              $result\n                .removeClass(className.active)\n                .eq(newIndex)\n                  .addClass(className.active)\n                  .closest($category)\n                    .addClass(className.active)\n              ;\n              module.ensureVisible($result.eq(newIndex));\n              event.preventDefault();\n            }\n          }\n          else {\n            // query shortcuts\n            if(keyCode == keys.enter) {\n              module.verbose('Enter key pressed, executing query');\n              module.query();\n              module.set.buttonPressed();\n              $prompt.one('keyup', module.remove.buttonFocus);\n            }\n          }\n        },\n\n        setup: {\n          api: function(searchTerm, callback) {\n            var\n              apiSettings = {\n                debug             : settings.debug,\n                on                : false,\n                cache             : settings.cache,\n                action            : 'search',\n                urlData           : {\n                  query : searchTerm\n                },\n                onSuccess         : function(response) {\n                  module.parse.response.call(element, response, searchTerm);\n                  callback();\n                },\n                onFailure         : function() {\n                  module.displayMessage(error.serverError);\n                  callback();\n                },\n                onAbort : function(response) {\n                },\n                onError           : module.error\n              }\n            ;\n            $.extend(true, apiSettings, settings.apiSettings);\n            module.verbose('Setting up API request', apiSettings);\n            $module.api(apiSettings);\n          }\n        },\n\n        can: {\n          useAPI: function() {\n            return $.fn.api !== undefined;\n          },\n          show: function() {\n            return module.is.focused() && !module.is.visible() && !module.is.empty();\n          },\n          transition: function() {\n            return settings.transition && $.fn.transition !== undefined && $module.transition('is supported');\n          }\n        },\n\n        is: {\n          animating: function() {\n            return $results.hasClass(className.animating);\n          },\n          chrome: function() {\n            return !!window.chrome && (!!window.chrome.webstore || !!window.chrome.runtime);\n          },\n          hidden: function() {\n            return $results.hasClass(className.hidden);\n          },\n          inMessage: function(event) {\n            if(!event.target) {\n              return;\n            }\n            var\n              $target = $(event.target),\n              isInDOM = $.contains(document.documentElement, event.target)\n            ;\n            return (isInDOM && $target.closest(selector.message).length > 0);\n          },\n          empty: function() {\n            return ($results.html() === '');\n          },\n          visible: function() {\n            return ($results.filter(':visible').length > 0);\n          },\n          focused: function() {\n            return ($prompt.filter(':focus').length > 0);\n          }\n        },\n\n        get: {\n          settings: function() {\n            if($.isPlainObject(parameters) && parameters.searchFullText) {\n              settings.fullTextSearch = parameters.searchFullText;\n              module.error(settings.error.oldSearchSyntax, element);\n            }\n            if (settings.ignoreDiacritics && !String.prototype.normalize) {\n              settings.ignoreDiacritics = false;\n              module.error(error.noNormalize, element);\n            }\n          },\n          inputEvent: function() {\n            var\n              prompt = $prompt[0],\n              inputEvent   = (prompt !== undefined && prompt.oninput !== undefined)\n                ? 'input'\n                : (prompt !== undefined && prompt.onpropertychange !== undefined)\n                  ? 'propertychange'\n                  : 'keyup'\n            ;\n            return inputEvent;\n          },\n          value: function() {\n            return $prompt.val();\n          },\n          results: function() {\n            var\n              results = $module.data(metadata.results)\n            ;\n            return results;\n          },\n          result: function(value, results) {\n            var\n              result       = false\n            ;\n            value = (value !== undefined)\n              ? value\n              : module.get.value()\n            ;\n            results = (results !== undefined)\n              ? results\n              : module.get.results()\n            ;\n            if(settings.type === 'category') {\n              module.debug('Finding result that matches', value);\n              $.each(results, function(index, category) {\n                if(Array.isArray(category.results)) {\n                  result = module.search.object(value, category.results)[0];\n                  // don't continue searching if a result is found\n                  if(result) {\n                    return false;\n                  }\n                }\n              });\n            }\n            else {\n              module.debug('Finding result in results object', value);\n              result = module.search.object(value, results)[0];\n            }\n            return result || false;\n          },\n        },\n\n        select: {\n          firstResult: function() {\n            module.verbose('Selecting first result');\n            $result.first().addClass(className.active);\n          }\n        },\n\n        set: {\n          focus: function() {\n            $module.addClass(className.focus);\n          },\n          loading: function() {\n            $module.addClass(className.loading);\n          },\n          value: function(value) {\n            module.verbose('Setting search input value', value);\n            $prompt\n              .val(value)\n            ;\n          },\n          type: function(type) {\n            type = type || settings.type;\n            if(settings.type == 'category') {\n              $module.addClass(settings.type);\n            }\n          },\n          buttonPressed: function() {\n            $searchButton.addClass(className.pressed);\n          }\n        },\n\n        remove: {\n          loading: function() {\n            $module.removeClass(className.loading);\n          },\n          focus: function() {\n            $module.removeClass(className.focus);\n          },\n          buttonPressed: function() {\n            $searchButton.removeClass(className.pressed);\n          },\n          diacritics: function(text) {\n            return settings.ignoreDiacritics ?  text.normalize('NFD').replace(/[\\u0300-\\u036f]/g, '') : text;\n          }\n        },\n\n        query: function(callback) {\n          callback = $.isFunction(callback)\n            ? callback\n            : function(){}\n          ;\n          var\n            searchTerm = module.get.value(),\n            cache = module.read.cache(searchTerm)\n          ;\n          callback = callback || function() {};\n          if( module.has.minimumCharacters() )  {\n            if(cache) {\n              module.debug('Reading result from cache', searchTerm);\n              module.save.results(cache.results);\n              module.addResults(cache.html);\n              module.inject.id(cache.results);\n              callback();\n            }\n            else {\n              module.debug('Querying for', searchTerm);\n              if($.isPlainObject(settings.source) || Array.isArray(settings.source)) {\n                module.search.local(searchTerm);\n                callback();\n              }\n              else if( module.can.useAPI() ) {\n                module.search.remote(searchTerm, callback);\n              }\n              else {\n                module.error(error.source);\n                callback();\n              }\n            }\n            settings.onSearchQuery.call(element, searchTerm);\n          }\n          else {\n            module.hideResults();\n          }\n        },\n\n        search: {\n          local: function(searchTerm) {\n            var\n              results = module.search.object(searchTerm, settings.source),\n              searchHTML\n            ;\n            module.set.loading();\n            module.save.results(results);\n            module.debug('Returned full local search results', results);\n            if(settings.maxResults > 0) {\n              module.debug('Using specified max results', results);\n              results = results.slice(0, settings.maxResults);\n            }\n            if(settings.type == 'category') {\n              results = module.create.categoryResults(results);\n            }\n            searchHTML = module.generateResults({\n              results: results\n            });\n            module.remove.loading();\n            module.addResults(searchHTML);\n            module.inject.id(results);\n            module.write.cache(searchTerm, {\n              html    : searchHTML,\n              results : results\n            });\n          },\n          remote: function(searchTerm, callback) {\n            callback = $.isFunction(callback)\n              ? callback\n              : function(){}\n            ;\n            if($module.api('is loading')) {\n              $module.api('abort');\n            }\n            module.setup.api(searchTerm, callback);\n            $module\n              .api('query')\n            ;\n          },\n          object: function(searchTerm, source, searchFields) {\n            searchTerm = module.remove.diacritics(String(searchTerm));\n            var\n              results      = [],\n              exactResults = [],\n              fuzzyResults = [],\n              searchExp    = searchTerm.replace(regExp.escape, '\\\\$&'),\n              matchRegExp  = new RegExp(regExp.beginsWith + searchExp, 'i'),\n\n              // avoid duplicates when pushing results\n              addResult = function(array, result) {\n                var\n                  notResult      = ($.inArray(result, results) == -1),\n                  notFuzzyResult = ($.inArray(result, fuzzyResults) == -1),\n                  notExactResults = ($.inArray(result, exactResults) == -1)\n                ;\n                if(notResult && notFuzzyResult && notExactResults) {\n                  array.push(result);\n                }\n              }\n            ;\n            source = source || settings.source;\n            searchFields = (searchFields !== undefined)\n              ? searchFields\n              : settings.searchFields\n            ;\n\n            // search fields should be array to loop correctly\n            if(!Array.isArray(searchFields)) {\n              searchFields = [searchFields];\n            }\n\n            // exit conditions if no source\n            if(source === undefined || source === false) {\n              module.error(error.source);\n              return [];\n            }\n            // iterate through search fields looking for matches\n            $.each(searchFields, function(index, field) {\n              $.each(source, function(label, content) {\n                var\n                  fieldExists = (typeof content[field] == 'string') || (typeof content[field] == 'number')\n                ;\n                if(fieldExists) {\n                  var text;\n                  if (typeof content[field] === 'string'){  \n                      text = module.remove.diacritics(content[field]);\n                  } else {\n                      text = content[field].toString(); \n                  }\n                  if( text.search(matchRegExp) !== -1) {\n                    // content starts with value (first in results)\n                    addResult(results, content);\n                  }\n                  else if(settings.fullTextSearch === 'exact' && module.exactSearch(searchTerm, text) ) {\n                    // content fuzzy matches (last in results)\n                    addResult(exactResults, content);\n                  }\n                  else if(settings.fullTextSearch == true && module.fuzzySearch(searchTerm, text) ) {\n                    // content fuzzy matches (last in results)\n                    addResult(fuzzyResults, content);\n                  }\n                }\n              });\n            });\n            $.merge(exactResults, fuzzyResults);\n            $.merge(results, exactResults);\n            return results;\n          }\n        },\n        exactSearch: function (query, term) {\n          query = query.toLowerCase();\n          term  = term.toLowerCase();\n          return term.indexOf(query) > -1;\n        },\n        fuzzySearch: function(query, term) {\n          var\n            termLength  = term.length,\n            queryLength = query.length\n          ;\n          if(typeof query !== 'string') {\n            return false;\n          }\n          query = query.toLowerCase();\n          term  = term.toLowerCase();\n          if(queryLength > termLength) {\n            return false;\n          }\n          if(queryLength === termLength) {\n            return (query === term);\n          }\n          search: for (var characterIndex = 0, nextCharacterIndex = 0; characterIndex < queryLength; characterIndex++) {\n            var\n              queryCharacter = query.charCodeAt(characterIndex)\n            ;\n            while(nextCharacterIndex < termLength) {\n              if(term.charCodeAt(nextCharacterIndex++) === queryCharacter) {\n                continue search;\n              }\n            }\n            return false;\n          }\n          return true;\n        },\n\n        parse: {\n          response: function(response, searchTerm) {\n            if(Array.isArray(response)){\n                var o={};\n                o[fields.results]=response;\n                response = o;\n            }\n            var\n              searchHTML = module.generateResults(response)\n            ;\n            module.verbose('Parsing server response', response);\n            if(response !== undefined) {\n              if(searchTerm !== undefined && response[fields.results] !== undefined) {\n                module.addResults(searchHTML);\n                module.inject.id(response[fields.results]);\n                module.write.cache(searchTerm, {\n                  html    : searchHTML,\n                  results : response[fields.results]\n                });\n                module.save.results(response[fields.results]);\n              }\n            }\n          }\n        },\n\n        cancel: {\n          query: function() {\n            if( module.can.useAPI() ) {\n              $module.api('abort');\n            }\n          }\n        },\n\n        has: {\n          minimumCharacters: function() {\n            var\n              searchTerm    = module.get.value(),\n              numCharacters = searchTerm.length\n            ;\n            return (numCharacters >= settings.minCharacters);\n          },\n          results: function() {\n            if($results.length === 0) {\n              return false;\n            }\n            var\n              html = $results.html()\n            ;\n            return html != '';\n          }\n        },\n\n        clear: {\n          cache: function(value) {\n            var\n              cache = $module.data(metadata.cache)\n            ;\n            if(!value) {\n              module.debug('Clearing cache', value);\n              $module.removeData(metadata.cache);\n            }\n            else if(value && cache && cache[value]) {\n              module.debug('Removing value from cache', value);\n              delete cache[value];\n              $module.data(metadata.cache, cache);\n            }\n          }\n        },\n\n        read: {\n          cache: function(name) {\n            var\n              cache = $module.data(metadata.cache)\n            ;\n            if(settings.cache) {\n              module.verbose('Checking cache for generated html for query', name);\n              return (typeof cache == 'object') && (cache[name] !== undefined)\n                ? cache[name]\n                : false\n              ;\n            }\n            return false;\n          }\n        },\n\n        create: {\n          categoryResults: function(results) {\n            var\n              categoryResults = {}\n            ;\n            $.each(results, function(index, result) {\n              if(!result.category) {\n                return;\n              }\n              if(categoryResults[result.category] === undefined) {\n                module.verbose('Creating new category of results', result.category);\n                categoryResults[result.category] = {\n                  name    : result.category,\n                  results : [result]\n                };\n              }\n              else {\n                categoryResults[result.category].results.push(result);\n              }\n            });\n            return categoryResults;\n          },\n          id: function(resultIndex, categoryIndex) {\n            var\n              resultID      = (resultIndex + 1), // not zero indexed\n              letterID,\n              id\n            ;\n            if(categoryIndex !== undefined) {\n              // start char code for \"A\"\n              letterID = String.fromCharCode(97 + categoryIndex);\n              id          = letterID + resultID;\n              module.verbose('Creating category result id', id);\n            }\n            else {\n              id = resultID;\n              module.verbose('Creating result id', id);\n            }\n            return id;\n          },\n          results: function() {\n            if($results.length === 0) {\n              $results = $('<div />')\n                .addClass(className.results)\n                .appendTo($module)\n              ;\n            }\n          }\n        },\n\n        inject: {\n          result: function(result, resultIndex, categoryIndex) {\n            module.verbose('Injecting result into results');\n            var\n              $selectedResult = (categoryIndex !== undefined)\n                ? $results\n                    .children().eq(categoryIndex)\n                      .children(selector.results)\n                        .first()\n                        .children(selector.result)\n                          .eq(resultIndex)\n                : $results\n                    .children(selector.result).eq(resultIndex)\n            ;\n            module.verbose('Injecting results metadata', $selectedResult);\n            $selectedResult\n              .data(metadata.result, result)\n            ;\n          },\n          id: function(results) {\n            module.debug('Injecting unique ids into results');\n            var\n              // since results may be object, we must use counters\n              categoryIndex = 0,\n              resultIndex   = 0\n            ;\n            if(settings.type === 'category') {\n              // iterate through each category result\n              $.each(results, function(index, category) {\n                if(category.results.length > 0){\n                  resultIndex = 0;\n                  $.each(category.results, function(index, result) {\n                    if(result.id === undefined) {\n                      result.id = module.create.id(resultIndex, categoryIndex);\n                    }\n                    module.inject.result(result, resultIndex, categoryIndex);\n                    resultIndex++;\n                  });\n                  categoryIndex++;\n                }\n              });\n            }\n            else {\n              // top level\n              $.each(results, function(index, result) {\n                if(result.id === undefined) {\n                  result.id = module.create.id(resultIndex);\n                }\n                module.inject.result(result, resultIndex);\n                resultIndex++;\n              });\n            }\n            return results;\n          }\n        },\n\n        save: {\n          results: function(results) {\n            module.verbose('Saving current search results to metadata', results);\n            $module.data(metadata.results, results);\n          }\n        },\n\n        write: {\n          cache: function(name, value) {\n            var\n              cache = ($module.data(metadata.cache) !== undefined)\n                ? $module.data(metadata.cache)\n                : {}\n            ;\n            if(settings.cache) {\n              module.verbose('Writing generated html to cache', name, value);\n              cache[name] = value;\n              $module\n                .data(metadata.cache, cache)\n              ;\n            }\n          }\n        },\n\n        addResults: function(html) {\n          if( $.isFunction(settings.onResultsAdd) ) {\n            if( settings.onResultsAdd.call($results, html) === false ) {\n              module.debug('onResultsAdd callback cancelled default action');\n              return false;\n            }\n          }\n          if(html) {\n            $results\n              .html(html)\n            ;\n            module.refreshResults();\n            if(settings.selectFirstResult) {\n              module.select.firstResult();\n            }\n            module.showResults();\n          }\n          else {\n            module.hideResults(function() {\n              $results.empty();\n            });\n          }\n        },\n\n        showResults: function(callback) {\n          callback = $.isFunction(callback)\n            ? callback\n            : function(){}\n          ;\n          if(resultsDismissed) {\n            return;\n          }\n          if(!module.is.visible() && module.has.results()) {\n            if( module.can.transition() ) {\n              module.debug('Showing results with css animations');\n              $results\n                .transition({\n                  animation  : settings.transition + ' in',\n                  debug      : settings.debug,\n                  verbose    : settings.verbose,\n                  duration   : settings.duration,\n                  onShow     : function() {\n                    var $firstResult = $module.find(selector.result).eq(0);\n                    module.ensureVisible($firstResult);\n                  },\n                  onComplete : function() {\n                    callback();\n                  },\n                  queue      : true\n                })\n              ;\n            }\n            else {\n              module.debug('Showing results with javascript');\n              $results\n                .stop()\n                .fadeIn(settings.duration, settings.easing)\n              ;\n            }\n            settings.onResultsOpen.call($results);\n          }\n        },\n        hideResults: function(callback) {\n          callback = $.isFunction(callback)\n            ? callback\n            : function(){}\n          ;\n          if( module.is.visible() ) {\n            if( module.can.transition() ) {\n              module.debug('Hiding results with css animations');\n              $results\n                .transition({\n                  animation  : settings.transition + ' out',\n                  debug      : settings.debug,\n                  verbose    : settings.verbose,\n                  duration   : settings.duration,\n                  onComplete : function() {\n                    callback();\n                  },\n                  queue      : true\n                })\n              ;\n            }\n            else {\n              module.debug('Hiding results with javascript');\n              $results\n                .stop()\n                .fadeOut(settings.duration, settings.easing)\n              ;\n            }\n            settings.onResultsClose.call($results);\n          }\n        },\n\n        generateResults: function(response) {\n          module.debug('Generating html from response', response);\n          var\n            template       = settings.templates[settings.type],\n            isProperObject = ($.isPlainObject(response[fields.results]) && !$.isEmptyObject(response[fields.results])),\n            isProperArray  = (Array.isArray(response[fields.results]) && response[fields.results].length > 0),\n            html           = ''\n          ;\n          if(isProperObject || isProperArray ) {\n            if(settings.maxResults > 0) {\n              if(isProperObject) {\n                if(settings.type == 'standard') {\n                  module.error(error.maxResults);\n                }\n              }\n              else {\n                response[fields.results] = response[fields.results].slice(0, settings.maxResults);\n              }\n            }\n            if($.isFunction(template)) {\n              html = template(response, fields, settings.preserveHTML);\n            }\n            else {\n              module.error(error.noTemplate, false);\n            }\n          }\n          else if(settings.showNoResults) {\n            html = module.displayMessage(error.noResults, 'empty', error.noResultsHeader);\n          }\n          settings.onResults.call(element, response);\n          return html;\n        },\n\n        displayMessage: function(text, type, header) {\n          type = type || 'standard';\n          module.debug('Displaying message', text, type, header);\n          module.addResults( settings.templates.message(text, type, header) );\n          return settings.templates.message(text, type, header);\n        },\n\n        setting: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            settings[name] = value;\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if($allModules.length > 1) {\n              title += ' ' + '(' + $allModules.length + ')';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                return false;\n              }\n            });\n          }\n          if( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if(Array.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      };\n      if(methodInvoked) {\n        if(instance === undefined) {\n          module.initialize();\n        }\n        module.invoke(query);\n      }\n      else {\n        if(instance !== undefined) {\n          instance.invoke('destroy');\n        }\n        module.initialize();\n      }\n\n    })\n  ;\n\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n$.fn.search.settings = {\n\n  name              : 'Search',\n  namespace         : 'search',\n\n  silent            : false,\n  debug             : false,\n  verbose           : false,\n  performance       : true,\n\n  // template to use (specified in settings.templates)\n  type              : 'standard',\n\n  // minimum characters required to search\n  minCharacters     : 1,\n\n  // whether to select first result after searching automatically\n  selectFirstResult : false,\n\n  // API config\n  apiSettings       : false,\n\n  // object to search\n  source            : false,\n\n  // Whether search should query current term on focus\n  searchOnFocus     : true,\n\n  // fields to search\n  searchFields   : [\n    'id',\n    'title',\n    'description'\n  ],\n\n  // field to display in standard results template\n  displayField   : '',\n\n  // search anywhere in value (set to 'exact' to require exact matches\n  fullTextSearch : 'exact',\n\n  // match results also if they contain diacritics of the same base character (for example searching for \"a\" will also match \"\" or \"\" or \"\", etc...)\n  ignoreDiacritics : false,\n\n  // whether to add events to prompt automatically\n  automatic      : true,\n\n  // delay before hiding menu after blur\n  hideDelay      : 0,\n\n  // delay before searching\n  searchDelay    : 200,\n\n  // maximum results returned from search\n  maxResults     : 7,\n\n  // whether to store lookups in local cache\n  cache          : true,\n\n  // whether no results errors should be shown\n  showNoResults  : true,\n\n  // preserve possible html of resultset values\n  preserveHTML   : true,\n\n  // transition settings\n  transition     : 'scale',\n  duration       : 200,\n  easing         : 'easeOutExpo',\n\n  // callbacks\n  onSelect       : false,\n  onResultsAdd   : false,\n\n  onSearchQuery  : function(query){},\n  onResults      : function(response){},\n\n  onResultsOpen  : function(){},\n  onResultsClose : function(){},\n\n  className: {\n    animating : 'animating',\n    active    : 'active',\n    empty     : 'empty',\n    focus     : 'focus',\n    hidden    : 'hidden',\n    loading   : 'loading',\n    results   : 'results',\n    pressed   : 'down'\n  },\n\n  error : {\n    source          : 'Cannot search. No source used, and Semantic API module was not included',\n    noResultsHeader : 'No Results',\n    noResults       : 'Your search returned no results',\n    logging         : 'Error in debug logging, exiting.',\n    noEndpoint      : 'No search endpoint was specified',\n    noTemplate      : 'A valid template name was not specified.',\n    oldSearchSyntax : 'searchFullText setting has been renamed fullTextSearch for consistency, please adjust your settings.',\n    serverError     : 'There was an issue querying the server.',\n    maxResults      : 'Results must be an array to use maxResults setting',\n    method          : 'The method you called is not defined.',\n    noNormalize     : '\"ignoreDiacritics\" setting will be ignored. Browser does not support String().normalize(). You may consider including <https://cdn.jsdelivr.net/npm/unorm@1.4.1/lib/unorm.min.js> as a polyfill.'\n  },\n\n  metadata: {\n    cache   : 'cache',\n    results : 'results',\n    result  : 'result'\n  },\n\n  regExp: {\n    escape     : /[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g,\n    beginsWith : '(?:\\s|^)'\n  },\n\n  // maps api response attributes to internal representation\n  fields: {\n    categories      : 'results',     // array of categories (category view)\n    categoryName    : 'name',        // name of category (category view)\n    categoryResults : 'results',     // array of results (category view)\n    description     : 'description', // result description\n    image           : 'image',       // result image\n    price           : 'price',       // result price\n    results         : 'results',     // array of results (standard)\n    title           : 'title',       // result title\n    url             : 'url',         // result url\n    action          : 'action',      // \"view more\" object name\n    actionText      : 'text',        // \"view more\" text\n    actionURL       : 'url'          // \"view more\" url\n  },\n\n  selector : {\n    prompt       : '.prompt',\n    searchButton : '.search.button',\n    results      : '.results',\n    message      : '.results > .message',\n    category     : '.category',\n    result       : '.result',\n    title        : '.title, .name'\n  },\n\n  templates: {\n    escape: function(string, preserveHTML) {\n      if (preserveHTML){\n        return string;\n      }\n      var\n        badChars     = /[<>\"'`]/g,\n        shouldEscape = /[&<>\"'`]/,\n        escape       = {\n          \"<\": \"&lt;\",\n          \">\": \"&gt;\",\n          '\"': \"&quot;\",\n          \"'\": \"&#x27;\",\n          \"`\": \"&#x60;\"\n        },\n        escapedChar  = function(chr) {\n          return escape[chr];\n        }\n      ;\n      if(shouldEscape.test(string)) {\n        string = string.replace(/&(?![a-z0-9#]{1,6};)/, \"&amp;\");\n        return string.replace(badChars, escapedChar);\n      }\n      return string;\n    },\n    message: function(message, type, header) {\n      var\n        html = ''\n      ;\n      if(message !== undefined && type !== undefined) {\n        html +=  ''\n          + '<div class=\"message ' + type + '\">'\n        ;\n        if(header) {\n          html += ''\n          + '<div class=\"header\">' + header + '</div>'\n          ;\n        }\n        html += ' <div class=\"description\">' + message + '</div>';\n        html += '</div>';\n      }\n      return html;\n    },\n    category: function(response, fields, preserveHTML) {\n      var\n        html = '',\n        escape = $.fn.search.settings.templates.escape\n      ;\n      if(response[fields.categoryResults] !== undefined) {\n\n        // each category\n        $.each(response[fields.categoryResults], function(index, category) {\n          if(category[fields.results] !== undefined && category.results.length > 0) {\n\n            html  += '<div class=\"category\">';\n\n            if(category[fields.categoryName] !== undefined) {\n              html += '<div class=\"name\">' + escape(category[fields.categoryName], preserveHTML) + '</div>';\n            }\n\n            // each item inside category\n            html += '<div class=\"results\">';\n            $.each(category.results, function(index, result) {\n              if(result[fields.url]) {\n                html  += '<a class=\"result\" href=\"' + result[fields.url].replace(/\"/g,\"\") + '\">';\n              }\n              else {\n                html  += '<a class=\"result\">';\n              }\n              if(result[fields.image] !== undefined) {\n                html += ''\n                  + '<div class=\"image\">'\n                  + ' <img src=\"' + result[fields.image].replace(/\"/g,\"\") + '\">'\n                  + '</div>'\n                ;\n              }\n              html += '<div class=\"content\">';\n              if(result[fields.price] !== undefined) {\n                html += '<div class=\"price\">' + escape(result[fields.price], preserveHTML) + '</div>';\n              }\n              if(result[fields.title] !== undefined) {\n                html += '<div class=\"title\">' + escape(result[fields.title], preserveHTML) + '</div>';\n              }\n              if(result[fields.description] !== undefined) {\n                html += '<div class=\"description\">' + escape(result[fields.description], preserveHTML) + '</div>';\n              }\n              html  += ''\n                + '</div>'\n              ;\n              html += '</a>';\n            });\n            html += '</div>';\n            html  += ''\n              + '</div>'\n            ;\n          }\n        });\n        if(response[fields.action]) {\n          if(fields.actionURL === false) {\n            html += ''\n            + '<div class=\"action\">'\n            +   escape(response[fields.action][fields.actionText], preserveHTML)\n            + '</div>';\n          } else {\n            html += ''\n            + '<a href=\"' + response[fields.action][fields.actionURL].replace(/\"/g,\"\") + '\" class=\"action\">'\n            +   escape(response[fields.action][fields.actionText], preserveHTML)\n            + '</a>';\n          }\n        }\n        return html;\n      }\n      return false;\n    },\n    standard: function(response, fields, preserveHTML) {\n      var\n        html = '',\n        escape = $.fn.search.settings.templates.escape\n      ;\n      if(response[fields.results] !== undefined) {\n\n        // each result\n        $.each(response[fields.results], function(index, result) {\n          if(result[fields.url]) {\n            html  += '<a class=\"result\" href=\"' + result[fields.url].replace(/\"/g,\"\") + '\">';\n          }\n          else {\n            html  += '<a class=\"result\">';\n          }\n          if(result[fields.image] !== undefined) {\n            html += ''\n              + '<div class=\"image\">'\n              + ' <img src=\"' + result[fields.image].replace(/\"/g,\"\") + '\">'\n              + '</div>'\n            ;\n          }\n          html += '<div class=\"content\">';\n          if(result[fields.price] !== undefined) {\n            html += '<div class=\"price\">' + escape(result[fields.price], preserveHTML) + '</div>';\n          }\n          if(result[fields.title] !== undefined) {\n            html += '<div class=\"title\">' + escape(result[fields.title], preserveHTML) + '</div>';\n          }\n          if(result[fields.description] !== undefined) {\n            html += '<div class=\"description\">' + escape(result[fields.description], preserveHTML) + '</div>';\n          }\n          html  += ''\n            + '</div>'\n          ;\n          html += '</a>';\n        });\n        if(response[fields.action]) {\n          if(fields.actionURL === false) {\n            html += ''\n            + '<div class=\"action\">'\n            +   escape(response[fields.action][fields.actionText], preserveHTML)\n            + '</div>';\n          } else {\n            html += ''\n            + '<a href=\"' + response[fields.action][fields.actionURL].replace(/\"/g,\"\") + '\" class=\"action\">'\n            +   escape(response[fields.action][fields.actionText], preserveHTML)\n            + '</a>';\n          }\n        }\n        return html;\n      }\n      return false;\n    }\n  }\n};\n\n})( jQuery, window, document );\n\n/*!\n * # Fomantic-UI 2.8.8 - Shape\n * http://github.com/fomantic/Fomantic-UI/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n'use strict';\n\n$.isFunction = $.isFunction || function(obj) {\n  return typeof obj === \"function\" && typeof obj.nodeType !== \"number\";\n};\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\n$.fn.shape = function(parameters) {\n  var\n    $allModules     = $(this),\n\n    time            = new Date().getTime(),\n    performance     = [],\n\n    query           = arguments[0],\n    methodInvoked   = (typeof query == 'string'),\n    queryArguments  = [].slice.call(arguments, 1),\n\n    requestAnimationFrame = window.requestAnimationFrame\n      || window.mozRequestAnimationFrame\n      || window.webkitRequestAnimationFrame\n      || window.msRequestAnimationFrame\n      || function(callback) { setTimeout(callback, 0); },\n\n    returnedValue\n  ;\n\n  $allModules\n    .each(function() {\n      var\n        moduleSelector = $allModules.selector || '',\n        settings       = ( $.isPlainObject(parameters) )\n          ? $.extend(true, {}, $.fn.shape.settings, parameters)\n          : $.extend({}, $.fn.shape.settings),\n\n        // internal aliases\n        namespace     = settings.namespace,\n        selector      = settings.selector,\n        error         = settings.error,\n        className     = settings.className,\n\n        // define namespaces for modules\n        eventNamespace  = '.' + namespace,\n        moduleNamespace = 'module-' + namespace,\n\n        // selector cache\n        $module       = $(this),\n        $sides        = $module.find('>' + selector.sides),\n        $side         = $sides.find('>' + selector.side),\n\n        // private variables\n        nextIndex = false,\n        $activeSide,\n        $nextSide,\n\n        // standard module\n        element       = this,\n        instance      = $module.data(moduleNamespace),\n        module\n      ;\n\n      module = {\n\n        initialize: function() {\n          module.verbose('Initializing module for', element);\n          module.set.defaultSide();\n          module.instantiate();\n        },\n\n        instantiate: function() {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module\n            .data(moduleNamespace, instance)\n          ;\n        },\n\n        destroy: function() {\n          module.verbose('Destroying previous module for', element);\n          $module\n            .removeData(moduleNamespace)\n            .off(eventNamespace)\n          ;\n        },\n\n        refresh: function() {\n          module.verbose('Refreshing selector cache for', element);\n          $module = $(element);\n          $sides  = $(this).find(selector.sides);\n          $side   = $(this).find(selector.side);\n        },\n\n        repaint: function() {\n          module.verbose('Forcing repaint event');\n          var\n            shape          = $sides[0] || document.createElement('div'),\n            fakeAssignment = shape.offsetWidth\n          ;\n        },\n\n        animate: function(propertyObject, callback) {\n          module.verbose('Animating box with properties', propertyObject);\n          callback = callback || function(event) {\n            module.verbose('Executing animation callback');\n            if(event !== undefined) {\n              event.stopPropagation();\n            }\n            module.reset();\n            module.set.active();\n          };\n          settings.beforeChange.call($nextSide[0]);\n          if(module.get.transitionEvent()) {\n            module.verbose('Starting CSS animation');\n            $module\n              .addClass(className.animating)\n            ;\n            $sides\n              .css(propertyObject)\n              .one(module.get.transitionEvent(), callback)\n            ;\n            module.set.duration(settings.duration);\n            requestAnimationFrame(function() {\n              $module\n                .addClass(className.animating)\n              ;\n              $activeSide\n                .addClass(className.hidden)\n              ;\n            });\n          }\n          else {\n            callback();\n          }\n        },\n\n        queue: function(method) {\n          module.debug('Queueing animation of', method);\n          $sides\n            .one(module.get.transitionEvent(), function() {\n              module.debug('Executing queued animation');\n              setTimeout(function(){\n                $module.shape(method);\n              }, 0);\n            })\n          ;\n        },\n\n        reset: function() {\n          module.verbose('Animating states reset');\n          $module\n            .removeClass(className.animating)\n            .attr('style', '')\n            .removeAttr('style')\n          ;\n          // removeAttr style does not consistently work in safari\n          $sides\n            .attr('style', '')\n            .removeAttr('style')\n          ;\n          $side\n            .attr('style', '')\n            .removeAttr('style')\n            .removeClass(className.hidden)\n          ;\n          $nextSide\n            .removeClass(className.animating)\n            .attr('style', '')\n            .removeAttr('style')\n          ;\n        },\n\n        is: {\n          complete: function() {\n            return ($side.filter('.' + className.active)[0] == $nextSide[0]);\n          },\n          animating: function() {\n            return $module.hasClass(className.animating);\n          },\n          hidden: function() {\n            return $module.closest(':hidden').length > 0;\n          }\n        },\n\n        set: {\n\n          defaultSide: function() {\n            $activeSide = $side.filter('.' + settings.className.active);\n            $nextSide   = ( $activeSide.next(selector.side).length > 0 )\n              ? $activeSide.next(selector.side)\n              : $side.first()\n            ;\n            nextIndex = false;\n            module.verbose('Active side set to', $activeSide);\n            module.verbose('Next side set to', $nextSide);\n          },\n\n          duration: function(duration) {\n            duration = duration || settings.duration;\n            duration = (typeof duration == 'number')\n              ? duration + 'ms'\n              : duration\n            ;\n            module.verbose('Setting animation duration', duration);\n            if(settings.duration || settings.duration === 0) {\n              $sides.add($side)\n                .css({\n                  '-webkit-transition-duration': duration,\n                  '-moz-transition-duration': duration,\n                  '-ms-transition-duration': duration,\n                  '-o-transition-duration': duration,\n                  'transition-duration': duration\n                })\n              ;\n            }\n          },\n\n          currentStageSize: function() {\n            var\n              $activeSide = $side.filter('.' + settings.className.active),\n              width       = $activeSide.outerWidth(true),\n              height      = $activeSide.outerHeight(true)\n            ;\n            $module\n              .css({\n                width: width,\n                height: height\n              })\n            ;\n          },\n\n          stageSize: function() {\n            var\n              $clone      = $module.clone().addClass(className.loading),\n              $side       = $clone.find('>' + selector.sides + '>' + selector.side),\n              $activeSide = $side.filter('.' + settings.className.active),\n              $nextSide   = (nextIndex)\n                ? $side.eq(nextIndex)\n                : ( $activeSide.next(selector.side).length > 0 )\n                  ? $activeSide.next(selector.side)\n                  : $side.first(),\n              newWidth    = (settings.width === 'next')\n                ? $nextSide.outerWidth(true)\n                : (settings.width === 'initial')\n                  ? $module.width()\n                  : settings.width,\n              newHeight    = (settings.height === 'next')\n                ? $nextSide.outerHeight(true)\n                : (settings.height === 'initial')\n                  ? $module.height()\n                  : settings.height\n            ;\n            $activeSide.removeClass(className.active);\n            $nextSide.addClass(className.active);\n            $clone.insertAfter($module);\n            $clone.remove();\n            if(settings.width !== 'auto') {\n              $module.css('width', newWidth + settings.jitter);\n              module.verbose('Specifying width during animation', newWidth);\n            }\n            if(settings.height !== 'auto') {\n              $module.css('height', newHeight + settings.jitter);\n              module.verbose('Specifying height during animation', newHeight);\n            }\n          },\n\n          nextSide: function(selector) {\n            nextIndex = selector;\n            $nextSide = $side.filter(selector);\n            nextIndex = $side.index($nextSide);\n            if($nextSide.length === 0) {\n              module.set.defaultSide();\n              module.error(error.side);\n            }\n            module.verbose('Next side manually set to', $nextSide);\n          },\n\n          active: function() {\n            module.verbose('Setting new side to active', $nextSide);\n            $side\n              .removeClass(className.active)\n            ;\n            $nextSide\n              .addClass(className.active)\n            ;\n            settings.onChange.call($nextSide[0]);\n            module.set.defaultSide();\n          }\n        },\n\n        flip: {\n          to: function(type,stage){\n            if(module.is.hidden()) {\n              module.debug('Module not visible', $nextSide);\n              return;\n            }\n            if(module.is.complete() && !module.is.animating() && !settings.allowRepeats) {\n              module.debug('Side already visible', $nextSide);\n              return;\n            }\n            var\n              transform = module.get.transform[type]()\n            ;\n            if( !module.is.animating()) {\n              module.debug('Flipping '+type, $nextSide);\n              module.set.stageSize();\n              module.stage[stage]();\n              module.animate(transform);\n            }\n            else {\n              module.queue('flip '+type);\n            }\n          },\n\n          up: function() {\n            module.flip.to('up','above');\n          },\n\n          down: function() {\n            module.flip.to('down','below');\n          },\n\n          left: function() {\n            module.flip.to('left','left');\n          },\n\n          right: function() {\n            module.flip.to('right','right');\n          },\n\n          over: function() {\n            module.flip.to('over','behind');\n          },\n\n          back: function() {\n            module.flip.to('back','behind');\n          }\n\n        },\n\n        get: {\n\n          transform: {\n            up: function() {\n              var\n                    translateZ = $activeSide.outerHeight(true) / 2,\n                translateY = $nextSide.outerHeight(true) - translateZ\n              ;\n              return {\n                transform: 'translateY(' + translateY + 'px) translateZ(-'+ translateZ + 'px) rotateX(-90deg)'\n              };\n            },\n\n            down: function() {\n              var\n                translate = {\n                  z: $activeSide.outerHeight(true) / 2\n                }\n              ;\n              return {\n                transform: 'translateY(-' + translate.z + 'px) translateZ(-'+ translate.z + 'px) rotateX(90deg)'\n              };\n            },\n\n            left: function() {\n              var\n                  translateZ = $activeSide.outerWidth(true) / 2,\n                  translateX = $nextSide.outerWidth(true) - translateZ\n              ;\n              return {\n                transform: 'translateX(' + translateX + 'px) translateZ(-' + translateZ + 'px) rotateY(90deg)'\n              };\n            },\n\n            right: function() {\n              var\n                translate = {\n                  z : $activeSide.outerWidth(true) / 2\n                }\n              ;\n              return {\n                transform: 'translateX(-' + translate.z + 'px) translateZ(-' + translate.z + 'px) rotateY(-90deg)'\n              };\n            },\n\n            over: function() {\n              var\n                translate = {\n                  x : -(($activeSide.outerWidth(true) - $nextSide.outerWidth(true)) / 2)\n                }\n              ;\n              return {\n                transform: 'translateX(' + translate.x + 'px) rotateY(180deg)'\n              };\n            },\n\n            back: function() {\n              var\n                translate = {\n                  x : -(($activeSide.outerWidth(true) - $nextSide.outerWidth(true)) / 2)\n                }\n              ;\n              return {\n                transform: 'translateX(' + translate.x + 'px) rotateY(-180deg)'\n              };\n            }\n          },\n\n          transitionEvent: function() {\n            var\n              element     = document.createElement('element'),\n              transitions = {\n                'transition'       :'transitionend',\n                'OTransition'      :'oTransitionEnd',\n                'MozTransition'    :'transitionend',\n                'WebkitTransition' :'webkitTransitionEnd'\n              },\n              transition\n            ;\n            for(transition in transitions){\n              if( element.style[transition] !== undefined ){\n                return transitions[transition];\n              }\n            }\n          },\n\n          nextSide: function() {\n            return ( $activeSide.next(selector.side).length > 0 )\n              ? $activeSide.next(selector.side)\n              : $side.first()\n            ;\n          }\n\n        },\n\n        stage: {\n\n          above: function() {\n            var\n              box = {\n                origin : (($activeSide.outerHeight(true) - $nextSide.outerHeight(true)) / 2),\n                depth  : {\n                  active : ($nextSide.outerHeight(true) / 2),\n                  next   : ($activeSide.outerHeight(true) / 2)\n                }\n              }\n            ;\n            module.verbose('Setting the initial animation position as above', $nextSide, box);\n            $activeSide\n              .css({\n                'transform' : 'rotateX(0deg)'\n              })\n            ;\n            $nextSide\n              .addClass(className.animating)\n              .css({\n                'top'       : box.origin + 'px',\n                'transform' : 'rotateX(90deg) translateZ(' + box.depth.next + 'px) translateY(-' + box.depth.active + 'px)'\n              })\n            ;\n          },\n\n          below: function() {\n            var\n              box = {\n                origin : (($activeSide.outerHeight(true) - $nextSide.outerHeight(true)) / 2),\n                depth  : {\n                  active : ($nextSide.outerHeight(true) / 2),\n                  next   : ($activeSide.outerHeight(true) / 2)\n                }\n              }\n            ;\n            module.verbose('Setting the initial animation position as below', $nextSide, box);\n            $activeSide\n              .css({\n                'transform' : 'rotateX(0deg)'\n              })\n            ;\n            $nextSide\n              .addClass(className.animating)\n              .css({\n                'top'       : box.origin + 'px',\n                'transform' : 'rotateX(-90deg) translateZ(' + box.depth.next + 'px) translateY(' + box.depth.active + 'px)'\n              })\n            ;\n          },\n\n          left: function() {\n            var\n              height = {\n                active : $activeSide.outerWidth(true),\n                next   : $nextSide.outerWidth(true)\n              },\n              box = {\n                origin : ( ( height.active - height.next ) / 2),\n                depth  : {\n                  active : (height.next / 2),\n                  next   : (height.active / 2)\n                }\n              }\n            ;\n            module.verbose('Setting the initial animation position as left', $nextSide, box);\n            $activeSide\n              .css({\n                'transform' : 'rotateY(0deg)'\n              })\n            ;\n            $nextSide\n              .addClass(className.animating)\n              .css({\n                'left'      : box.origin + 'px',\n                'transform' : 'rotateY(-90deg) translateZ(' + box.depth.next + 'px) translateX(-' + box.depth.active + 'px)'\n              })\n            ;\n          },\n\n          right: function() {\n            var\n              height = {\n                active : $activeSide.outerWidth(true),\n                next   : $nextSide.outerWidth(true)\n              },\n              box = {\n                origin : ( ( height.active - height.next ) / 2),\n                depth  : {\n                  active : (height.next / 2),\n                  next   : (height.active / 2)\n                }\n              }\n            ;\n            module.verbose('Setting the initial animation position as right', $nextSide, box);\n            $activeSide\n              .css({\n                'transform' : 'rotateY(0deg)'\n              })\n            ;\n            $nextSide\n              .addClass(className.animating)\n              .css({\n                'left'      : box.origin + 'px',\n                'transform' : 'rotateY(90deg) translateZ(' + box.depth.next + 'px) translateX(' + box.depth.active + 'px)'\n              })\n            ;\n          },\n\n          behind: function() {\n            var\n              height = {\n                active : $activeSide.outerWidth(true),\n                next   : $nextSide.outerWidth(true)\n              },\n              box = {\n                origin : ( ( height.active - height.next ) / 2),\n                depth  : {\n                  active : (height.next / 2),\n                  next   : (height.active / 2)\n                }\n              }\n            ;\n            module.verbose('Setting the initial animation position as behind', $nextSide, box);\n            $activeSide\n              .css({\n                'transform' : 'rotateY(0deg)'\n              })\n            ;\n            $nextSide\n              .addClass(className.animating)\n              .css({\n                'left'      : box.origin + 'px',\n                'transform' : 'rotateY(-180deg)'\n              })\n            ;\n          }\n        },\n        setting: function(name, value) {\n          module.debug('Changing setting', name, value);\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            if($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            }\n            else {\n              settings[name] = value;\n            }\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if($allModules.length > 1) {\n              title += ' ' + '(' + $allModules.length + ')';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                return false;\n              }\n            });\n          }\n          if ( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if(Array.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      };\n\n      if(methodInvoked) {\n        if(instance === undefined) {\n          module.initialize();\n        }\n        var $inputs = $module.find('input');\n        if( $inputs.length > 0) {\n          $inputs.blur();\n          setTimeout(function(){\n            module.invoke(query);\n          }, 150);\n        } else {\n          module.invoke(query);\n        }\n      }\n      else {\n        if(instance !== undefined) {\n          instance.invoke('destroy');\n        }\n        module.initialize();\n      }\n    })\n  ;\n\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n$.fn.shape.settings = {\n\n  // module info\n  name : 'Shape',\n\n  // hide all debug content\n  silent     : false,\n\n  // debug content outputted to console\n  debug      : false,\n\n  // verbose debug output\n  verbose    : false,\n\n  // fudge factor in pixels when swapping from 2d to 3d (can be useful to correct rounding errors)\n  jitter     : 0,\n\n  // performance data output\n  performance: true,\n\n  // event namespace\n  namespace  : 'shape',\n\n  // width during animation, can be set to 'auto', initial', 'next' or pixel amount\n  width: 'initial',\n\n  // height during animation, can be set to 'auto', 'initial', 'next' or pixel amount\n  height: 'initial',\n\n  // callback occurs on side change\n  beforeChange : function() {},\n  onChange     : function() {},\n\n  // allow animation to same side\n  allowRepeats: false,\n\n  // animation duration\n  duration   : false,\n\n  // possible errors\n  error: {\n    side   : 'You tried to switch to a side that does not exist.',\n    method : 'The method you called is not defined'\n  },\n\n  // classnames used\n  className   : {\n    animating : 'animating',\n    hidden    : 'hidden',\n    loading   : 'loading',\n    active    : 'active'\n  },\n\n  // selectors used\n  selector    : {\n    sides : '.sides',\n    side  : '.side'\n  }\n\n};\n\n\n})( jQuery, window, document );\n\n/*!\n * # Fomantic-UI 2.8.8 - Sidebar\n * http://github.com/fomantic/Fomantic-UI/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n'use strict';\n\n$.isFunction = $.isFunction || function(obj) {\n  return typeof obj === \"function\" && typeof obj.nodeType !== \"number\";\n};\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\n$.fn.sidebar = function(parameters) {\n  var\n    $allModules     = $(this),\n    $window         = $(window),\n    $document       = $(document),\n    $html           = $('html'),\n    $head           = $('head'),\n\n    moduleSelector  = $allModules.selector || '',\n\n    time            = new Date().getTime(),\n    performance     = [],\n\n    query           = arguments[0],\n    methodInvoked   = (typeof query == 'string'),\n    queryArguments  = [].slice.call(arguments, 1),\n\n    requestAnimationFrame = window.requestAnimationFrame\n      || window.mozRequestAnimationFrame\n      || window.webkitRequestAnimationFrame\n      || window.msRequestAnimationFrame\n      || function(callback) { setTimeout(callback, 0); },\n\n    returnedValue\n  ;\n\n  $allModules\n    .each(function() {\n      var\n        settings        = ( $.isPlainObject(parameters) )\n          ? $.extend(true, {}, $.fn.sidebar.settings, parameters)\n          : $.extend({}, $.fn.sidebar.settings),\n\n        selector        = settings.selector,\n        className       = settings.className,\n        namespace       = settings.namespace,\n        regExp          = settings.regExp,\n        error           = settings.error,\n\n        eventNamespace  = '.' + namespace,\n        moduleNamespace = 'module-' + namespace,\n\n        $module         = $(this),\n        $context        = $(settings.context),\n\n        $sidebars       = $module.children(selector.sidebar),\n        $fixed          = $context.children(selector.fixed),\n        $pusher         = $context.children(selector.pusher),\n        $style,\n\n        element         = this,\n        instance        = $module.data(moduleNamespace),\n\n        elementNamespace,\n        id,\n        currentScroll,\n        transitionEvent,\n\n        module\n      ;\n\n      module      = {\n\n        initialize: function() {\n          module.debug('Initializing sidebar', parameters);\n\n          module.create.id();\n\n          transitionEvent = module.get.transitionEvent();\n\n          // avoids locking rendering if initialized in onReady\n          if(settings.delaySetup) {\n            requestAnimationFrame(module.setup.layout);\n          }\n          else {\n            module.setup.layout();\n          }\n\n          requestAnimationFrame(function() {\n            module.setup.cache();\n          });\n\n          module.instantiate();\n        },\n\n        instantiate: function() {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module\n            .data(moduleNamespace, module)\n          ;\n        },\n\n        create: {\n          id: function() {\n            id = (Math.random().toString(16) + '000000000').substr(2,8);\n            elementNamespace = '.' + id;\n            module.verbose('Creating unique id for element', id);\n          }\n        },\n\n        destroy: function() {\n          module.verbose('Destroying previous module for', $module);\n          $module\n            .off(eventNamespace)\n            .removeData(moduleNamespace)\n          ;\n          if(module.is.ios()) {\n            module.remove.ios();\n          }\n          // bound by uuid\n          $context.off(elementNamespace);\n          $window.off(elementNamespace);\n          $document.off(elementNamespace);\n        },\n\n        event: {\n          clickaway: function(event) {\n            if(settings.closable){\n              var\n                clickedInPusher = ($pusher.find(event.target).length > 0 || $pusher.is(event.target)),\n                clickedContext  = ($context.is(event.target))\n              ;\n              if(clickedInPusher) {\n                module.verbose('User clicked on dimmed page');\n                module.hide();\n              }\n              if(clickedContext) {\n                module.verbose('User clicked on dimmable context (scaled out page)');\n                module.hide();\n              }\n            }\n          },\n          touch: function(event) {\n            //event.stopPropagation();\n          },\n          containScroll: function(event) {\n            if(element.scrollTop <= 0)  {\n              element.scrollTop = 1;\n            }\n            if((element.scrollTop + element.offsetHeight) >= element.scrollHeight) {\n              element.scrollTop = element.scrollHeight - element.offsetHeight - 1;\n            }\n          },\n          scroll: function(event) {\n            if( $(event.target).closest(selector.sidebar).length === 0 ) {\n              event.preventDefault();\n            }\n          }\n        },\n\n        bind: {\n          clickaway: function() {\n            module.verbose('Adding clickaway events to context', $context);\n            $context\n              .on('click'    + elementNamespace, module.event.clickaway)\n              .on('touchend' + elementNamespace, module.event.clickaway)\n            ;\n          },\n          scrollLock: function() {\n            if(settings.scrollLock) {\n              module.debug('Disabling page scroll');\n              $window\n                .on('DOMMouseScroll' + elementNamespace, module.event.scroll)\n              ;\n            }\n            module.verbose('Adding events to contain sidebar scroll');\n            $document\n              .on('touchmove' + elementNamespace, module.event.touch)\n            ;\n            $module\n              .on('scroll' + eventNamespace, module.event.containScroll)\n            ;\n          }\n        },\n        unbind: {\n          clickaway: function() {\n            module.verbose('Removing clickaway events from context', $context);\n            $context.off(elementNamespace);\n          },\n          scrollLock: function() {\n            module.verbose('Removing scroll lock from page');\n            $document.off(elementNamespace);\n            $window.off(elementNamespace);\n            $module.off('scroll' + eventNamespace);\n          }\n        },\n\n        add: {\n          inlineCSS: function() {\n            var\n              width     = module.cache.width  || $module.outerWidth(),\n              height    = module.cache.height || $module.outerHeight(),\n              isRTL     = module.is.rtl(),\n              direction = module.get.direction(),\n              distance  = {\n                left   : width,\n                right  : -width,\n                top    : height,\n                bottom : -height\n              },\n              style\n            ;\n\n            if(isRTL){\n              module.verbose('RTL detected, flipping widths');\n              distance.left = -width;\n              distance.right = width;\n            }\n\n            style  = '<style>';\n\n            if(direction === 'left' || direction === 'right') {\n              module.debug('Adding CSS rules for animation distance', width);\n              style  += ''\n                + ' .ui.visible.' + direction + '.sidebar ~ .fixed,'\n                + ' .ui.visible.' + direction + '.sidebar ~ .pusher {'\n                + '   -webkit-transform: translate3d('+ distance[direction] + 'px, 0, 0);'\n                + '           transform: translate3d('+ distance[direction] + 'px, 0, 0);'\n                + ' }'\n              ;\n            }\n            else if(direction === 'top' || direction == 'bottom') {\n              style  += ''\n                + ' .ui.visible.' + direction + '.sidebar ~ .fixed,'\n                + ' .ui.visible.' + direction + '.sidebar ~ .pusher {'\n                + '   -webkit-transform: translate3d(0, ' + distance[direction] + 'px, 0);'\n                + '           transform: translate3d(0, ' + distance[direction] + 'px, 0);'\n                + ' }'\n              ;\n            }\n\n            /* IE is only browser not to create context with transforms */\n            /* https://www.w3.org/Bugs/Public/show_bug.cgi?id=16328 */\n            if( module.is.ie() ) {\n              if(direction === 'left' || direction === 'right') {\n                module.debug('Adding CSS rules for animation distance', width);\n                style  += ''\n                  + ' body.pushable > .ui.visible.' + direction + '.sidebar ~ .pusher:after {'\n                  + '   -webkit-transform: translate3d('+ distance[direction] + 'px, 0, 0);'\n                  + '           transform: translate3d('+ distance[direction] + 'px, 0, 0);'\n                  + ' }'\n                ;\n              }\n              else if(direction === 'top' || direction == 'bottom') {\n                style  += ''\n                  + ' body.pushable > .ui.visible.' + direction + '.sidebar ~ .pusher:after {'\n                  + '   -webkit-transform: translate3d(0, ' + distance[direction] + 'px, 0);'\n                  + '           transform: translate3d(0, ' + distance[direction] + 'px, 0);'\n                  + ' }'\n                ;\n              }\n              /* opposite sides visible forces content overlay */\n              style += ''\n                + ' body.pushable > .ui.visible.left.sidebar ~ .ui.visible.right.sidebar ~ .pusher:after,'\n                + ' body.pushable > .ui.visible.right.sidebar ~ .ui.visible.left.sidebar ~ .pusher:after {'\n                + '   -webkit-transform: translate3d(0, 0, 0);'\n                + '           transform: translate3d(0, 0, 0);'\n                + ' }'\n              ;\n            }\n            style += '</style>';\n            $style = $(style)\n              .appendTo($head)\n            ;\n            module.debug('Adding sizing css to head', $style);\n          }\n        },\n\n        refresh: function() {\n          module.verbose('Refreshing selector cache');\n          $context  = $(settings.context);\n          $sidebars = $context.children(selector.sidebar);\n          $pusher   = $context.children(selector.pusher);\n          $fixed    = $context.children(selector.fixed);\n          module.clear.cache();\n        },\n\n        refreshSidebars: function() {\n          module.verbose('Refreshing other sidebars');\n          $sidebars = $context.children(selector.sidebar);\n        },\n\n        repaint: function() {\n          module.verbose('Forcing repaint event');\n          element.style.display = 'none';\n          var ignored = element.offsetHeight;\n          element.scrollTop = element.scrollTop;\n          element.style.display = '';\n        },\n\n        setup: {\n          cache: function() {\n            module.cache = {\n              width  : $module.outerWidth(),\n              height : $module.outerHeight()\n            };\n          },\n          layout: function() {\n            if( $context.children(selector.pusher).length === 0 ) {\n              module.debug('Adding wrapper element for sidebar');\n              module.error(error.pusher);\n              $pusher = $('<div class=\"pusher\" />');\n              $context\n                .children()\n                  .not(selector.omitted)\n                  .not($sidebars)\n                  .wrapAll($pusher)\n              ;\n              module.refresh();\n            }\n            if($module.nextAll(selector.pusher).length === 0 || $module.nextAll(selector.pusher)[0] !== $pusher[0]) {\n              module.debug('Moved sidebar to correct parent element');\n              module.error(error.movedSidebar, element);\n              $module.detach().prependTo($context);\n              module.refresh();\n            }\n            module.clear.cache();\n            module.set.pushable();\n            module.set.direction();\n          }\n        },\n\n        attachEvents: function(selector, event) {\n          var\n            $toggle = $(selector)\n          ;\n          event = $.isFunction(module[event])\n            ? module[event]\n            : module.toggle\n          ;\n          if($toggle.length > 0) {\n            module.debug('Attaching sidebar events to element', selector, event);\n            $toggle\n              .on('click' + eventNamespace, event)\n            ;\n          }\n          else {\n            module.error(error.notFound, selector);\n          }\n        },\n\n        show: function(callback) {\n          callback = $.isFunction(callback)\n            ? callback\n            : function(){}\n          ;\n          if(module.is.hidden()) {\n            module.refreshSidebars();\n            if(settings.overlay)  {\n              module.error(error.overlay);\n              settings.transition = 'overlay';\n            }\n            module.refresh();\n            if(module.othersActive()) {\n              module.debug('Other sidebars currently visible');\n              if(settings.exclusive) {\n                // if not overlay queue animation after hide\n                if(settings.transition != 'overlay') {\n                  module.hideOthers(module.show);\n                  return;\n                }\n                else {\n                  module.hideOthers();\n                }\n              }\n              else {\n                settings.transition = 'overlay';\n              }\n            }\n            module.pushPage(function() {\n              callback.call(element);\n              settings.onShow.call(element);\n            });\n            settings.onChange.call(element);\n            settings.onVisible.call(element);\n          }\n          else {\n            module.debug('Sidebar is already visible');\n          }\n        },\n\n        hide: function(callback) {\n          callback = $.isFunction(callback)\n            ? callback\n            : function(){}\n          ;\n          if(module.is.visible() || module.is.animating()) {\n            module.debug('Hiding sidebar', callback);\n            module.refreshSidebars();\n            module.pullPage(function() {\n              callback.call(element);\n              settings.onHidden.call(element);\n            });\n            settings.onChange.call(element);\n            settings.onHide.call(element);\n          }\n        },\n\n        othersAnimating: function() {\n          return ($sidebars.not($module).filter('.' + className.animating).length > 0);\n        },\n        othersVisible: function() {\n          return ($sidebars.not($module).filter('.' + className.visible).length > 0);\n        },\n        othersActive: function() {\n          return(module.othersVisible() || module.othersAnimating());\n        },\n\n        hideOthers: function(callback) {\n          var\n            $otherSidebars = $sidebars.not($module).filter('.' + className.visible),\n            sidebarCount   = $otherSidebars.length,\n            callbackCount  = 0\n          ;\n          callback = callback || function(){};\n          $otherSidebars\n            .sidebar('hide', function() {\n              callbackCount++;\n              if(callbackCount == sidebarCount) {\n                callback();\n              }\n            })\n          ;\n        },\n\n        toggle: function() {\n          module.verbose('Determining toggled direction');\n          if(module.is.hidden()) {\n            module.show();\n          }\n          else {\n            module.hide();\n          }\n        },\n\n        pushPage: function(callback) {\n          var\n            transition = module.get.transition(),\n            $transition = (transition === 'overlay' || module.othersActive())\n              ? $module\n              : $pusher,\n            animate,\n            dim,\n            transitionEnd\n          ;\n          callback = $.isFunction(callback)\n            ? callback\n            : function(){}\n          ;\n          if(settings.transition == 'scale down') {\n            module.scrollToTop();\n          }\n          module.set.transition(transition);\n          module.repaint();\n          animate = function() {\n            module.bind.clickaway();\n            module.add.inlineCSS();\n            module.set.animating();\n            module.set.visible();\n          };\n          dim = function() {\n            module.set.dimmed();\n          };\n          transitionEnd = function(event) {\n            if( event.target == $transition[0] ) {\n              $transition.off(transitionEvent + elementNamespace, transitionEnd);\n              module.remove.animating();\n              module.bind.scrollLock();\n              callback.call(element);\n            }\n          };\n          $transition.off(transitionEvent + elementNamespace);\n          $transition.on(transitionEvent + elementNamespace, transitionEnd);\n          requestAnimationFrame(animate);\n          if(settings.dimPage && !module.othersVisible()) {\n            requestAnimationFrame(dim);\n          }\n        },\n\n        pullPage: function(callback) {\n          var\n            transition = module.get.transition(),\n            $transition = (transition == 'overlay' || module.othersActive())\n              ? $module\n              : $pusher,\n            animate,\n            transitionEnd\n          ;\n          callback = $.isFunction(callback)\n            ? callback\n            : function(){}\n          ;\n          module.verbose('Removing context push state', module.get.direction());\n\n          module.unbind.clickaway();\n          module.unbind.scrollLock();\n\n          animate = function() {\n            module.set.transition(transition);\n            module.set.animating();\n            module.remove.visible();\n            if(settings.dimPage && !module.othersVisible()) {\n              $pusher.removeClass(className.dimmed);\n            }\n          };\n          transitionEnd = function(event) {\n            if( event.target == $transition[0] ) {\n              $transition.off(transitionEvent + elementNamespace, transitionEnd);\n              module.remove.animating();\n              module.remove.transition();\n              module.remove.inlineCSS();\n              if(transition == 'scale down' || (settings.returnScroll && module.is.mobile()) ) {\n                module.scrollBack();\n              }\n              callback.call(element);\n            }\n          };\n          $transition.off(transitionEvent + elementNamespace);\n          $transition.on(transitionEvent + elementNamespace, transitionEnd);\n          requestAnimationFrame(animate);\n        },\n\n        scrollToTop: function() {\n          module.verbose('Scrolling to top of page to avoid animation issues');\n          currentScroll = $(window).scrollTop();\n          $module.scrollTop(0);\n          window.scrollTo(0, 0);\n        },\n\n        scrollBack: function() {\n          module.verbose('Scrolling back to original page position');\n          window.scrollTo(0, currentScroll);\n        },\n\n        clear: {\n          cache: function() {\n            module.verbose('Clearing cached dimensions');\n            module.cache = {};\n          }\n        },\n\n        set: {\n\n          // ios only (scroll on html not document). This prevent auto-resize canvas/scroll in ios\n          // (This is no longer necessary in latest iOS)\n          ios: function() {\n            $html.addClass(className.ios);\n          },\n\n          // container\n          pushed: function() {\n            $context.addClass(className.pushed);\n          },\n          pushable: function() {\n            $context.addClass(className.pushable);\n          },\n\n          // pusher\n          dimmed: function() {\n            $pusher.addClass(className.dimmed);\n          },\n\n          // sidebar\n          active: function() {\n            $module.addClass(className.active);\n          },\n          animating: function() {\n            $module.addClass(className.animating);\n          },\n          transition: function(transition) {\n            transition = transition || module.get.transition();\n            $module.addClass(transition);\n          },\n          direction: function(direction) {\n            direction = direction || module.get.direction();\n            $module.addClass(className[direction]);\n          },\n          visible: function() {\n            $module.addClass(className.visible);\n          },\n          overlay: function() {\n            $module.addClass(className.overlay);\n          }\n        },\n        remove: {\n\n          inlineCSS: function() {\n            module.debug('Removing inline css styles', $style);\n            if($style && $style.length > 0) {\n              $style.remove();\n            }\n          },\n\n          // ios scroll on html not document\n          ios: function() {\n            $html.removeClass(className.ios);\n          },\n\n          // context\n          pushed: function() {\n            $context.removeClass(className.pushed);\n          },\n          pushable: function() {\n            $context.removeClass(className.pushable);\n          },\n\n          // sidebar\n          active: function() {\n            $module.removeClass(className.active);\n          },\n          animating: function() {\n            $module.removeClass(className.animating);\n          },\n          transition: function(transition) {\n            transition = transition || module.get.transition();\n            $module.removeClass(transition);\n          },\n          direction: function(direction) {\n            direction = direction || module.get.direction();\n            $module.removeClass(className[direction]);\n          },\n          visible: function() {\n            $module.removeClass(className.visible);\n          },\n          overlay: function() {\n            $module.removeClass(className.overlay);\n          }\n        },\n\n        get: {\n          direction: function() {\n            if($module.hasClass(className.top)) {\n              return className.top;\n            }\n            else if($module.hasClass(className.right)) {\n              return className.right;\n            }\n            else if($module.hasClass(className.bottom)) {\n              return className.bottom;\n            }\n            return className.left;\n          },\n          transition: function() {\n            var\n              direction = module.get.direction(),\n              transition\n            ;\n            transition = ( module.is.mobile() )\n              ? (settings.mobileTransition == 'auto')\n                ? settings.defaultTransition.mobile[direction]\n                : settings.mobileTransition\n              : (settings.transition == 'auto')\n                ? settings.defaultTransition.computer[direction]\n                : settings.transition\n            ;\n            module.verbose('Determined transition', transition);\n            return transition;\n          },\n          transitionEvent: function() {\n            var\n              element     = document.createElement('element'),\n              transitions = {\n                'transition'       :'transitionend',\n                'OTransition'      :'oTransitionEnd',\n                'MozTransition'    :'transitionend',\n                'WebkitTransition' :'webkitTransitionEnd'\n              },\n              transition\n            ;\n            for(transition in transitions){\n              if( element.style[transition] !== undefined ){\n                return transitions[transition];\n              }\n            }\n          }\n        },\n\n        is: {\n\n          ie: function() {\n            var\n              isIE11 = (!(window.ActiveXObject) && 'ActiveXObject' in window),\n              isIE   = ('ActiveXObject' in window)\n            ;\n            return (isIE11 || isIE);\n          },\n\n          ios: function() {\n            var\n              userAgent      = navigator.userAgent,\n              isIOS          = userAgent.match(regExp.ios),\n              isMobileChrome = userAgent.match(regExp.mobileChrome)\n            ;\n            if(isIOS && !isMobileChrome) {\n              module.verbose('Browser was found to be iOS', userAgent);\n              return true;\n            }\n            else {\n              return false;\n            }\n          },\n          mobile: function() {\n            var\n              userAgent    = navigator.userAgent,\n              isMobile     = userAgent.match(regExp.mobile)\n            ;\n            if(isMobile) {\n              module.verbose('Browser was found to be mobile', userAgent);\n              return true;\n            }\n            else {\n              module.verbose('Browser is not mobile, using regular transition', userAgent);\n              return false;\n            }\n          },\n          hidden: function() {\n            return !module.is.visible();\n          },\n          visible: function() {\n            return $module.hasClass(className.visible);\n          },\n          // alias\n          open: function() {\n            return module.is.visible();\n          },\n          closed: function() {\n            return module.is.hidden();\n          },\n          vertical: function() {\n            return $module.hasClass(className.top);\n          },\n          animating: function() {\n            return $context.hasClass(className.animating);\n          },\n          rtl: function () {\n            if(module.cache.rtl === undefined) {\n              module.cache.rtl = $module.attr('dir') === 'rtl' || $module.css('direction') === 'rtl';\n            }\n            return module.cache.rtl;\n          }\n        },\n\n        setting: function(name, value) {\n          module.debug('Changing setting', name, value);\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            if($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            }\n            else {\n              settings[name] = value;\n            }\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n          if ( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if(Array.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      }\n    ;\n\n    if(methodInvoked) {\n      if(instance === undefined) {\n        module.initialize();\n      }\n      module.invoke(query);\n    }\n    else {\n      if(instance !== undefined) {\n        module.invoke('destroy');\n      }\n      module.initialize();\n    }\n  });\n\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n$.fn.sidebar.settings = {\n\n  name              : 'Sidebar',\n  namespace         : 'sidebar',\n\n  silent            : false,\n  debug             : false,\n  verbose           : false,\n  performance       : true,\n\n  transition        : 'auto',\n  mobileTransition  : 'auto',\n\n  defaultTransition : {\n    computer: {\n      left   : 'uncover',\n      right  : 'uncover',\n      top    : 'overlay',\n      bottom : 'overlay'\n    },\n    mobile: {\n      left   : 'uncover',\n      right  : 'uncover',\n      top    : 'overlay',\n      bottom : 'overlay'\n    }\n  },\n\n  context           : 'body',\n  exclusive         : false,\n  closable          : true,\n  dimPage           : true,\n  scrollLock        : false,\n  returnScroll      : false,\n  delaySetup        : false,\n\n  duration          : 500,\n\n  onChange          : function(){},\n  onShow            : function(){},\n  onHide            : function(){},\n\n  onHidden          : function(){},\n  onVisible         : function(){},\n\n  className         : {\n    active    : 'active',\n    animating : 'animating',\n    dimmed    : 'dimmed',\n    ios       : 'ios',\n    pushable  : 'pushable',\n    pushed    : 'pushed',\n    right     : 'right',\n    top       : 'top',\n    left      : 'left',\n    bottom    : 'bottom',\n    visible   : 'visible'\n  },\n\n  selector: {\n    fixed   : '.fixed',\n    omitted : 'script, link, style, .ui.modal, .ui.dimmer, .ui.nag, .ui.fixed',\n    pusher  : '.pusher',\n    sidebar : '.ui.sidebar'\n  },\n\n  regExp: {\n    ios          : /(iPad|iPhone|iPod)/g,\n    mobileChrome : /(CriOS)/g,\n    mobile       : /Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile|Kindle|NetFront|Silk-Accelerated|(hpw|web)OS|Fennec|Minimo|Opera M(obi|ini)|Blazer|Dolfin|Dolphin|Skyfire|Zune/g\n  },\n\n  error   : {\n    method       : 'The method you called is not defined.',\n    pusher       : 'Had to add pusher element. For optimal performance make sure body content is inside a pusher element',\n    movedSidebar : 'Had to move sidebar. For optimal performance make sure sidebar and pusher are direct children of your body tag',\n    overlay      : 'The overlay setting is no longer supported, use animation: overlay',\n    notFound     : 'There were no elements that matched the specified selector'\n  }\n\n};\n\n\n})( jQuery, window, document );\n\n/*!\n * # Fomantic-UI 2.8.8 - Sticky\n * http://github.com/fomantic/Fomantic-UI/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n'use strict';\n\n$.isFunction = $.isFunction || function(obj) {\n  return typeof obj === \"function\" && typeof obj.nodeType !== \"number\";\n};\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\n$.fn.sticky = function(parameters) {\n  var\n    $allModules    = $(this),\n    moduleSelector = $allModules.selector || '',\n\n    time           = new Date().getTime(),\n    performance    = [],\n\n    query          = arguments[0],\n    methodInvoked  = (typeof query == 'string'),\n    queryArguments = [].slice.call(arguments, 1),\n    returnedValue\n  ;\n\n  $allModules\n    .each(function() {\n      var\n        settings              = ( $.isPlainObject(parameters) )\n          ? $.extend(true, {}, $.fn.sticky.settings, parameters)\n          : $.extend({}, $.fn.sticky.settings),\n\n        className             = settings.className,\n        namespace             = settings.namespace,\n        error                 = settings.error,\n\n        eventNamespace        = '.' + namespace,\n        moduleNamespace       = 'module-' + namespace,\n\n        $module               = $(this),\n        $window               = $(window),\n        $scroll               = $(settings.scrollContext),\n        $container,\n        $context,\n\n        instance              = $module.data(moduleNamespace),\n\n        requestAnimationFrame = window.requestAnimationFrame\n          || window.mozRequestAnimationFrame\n          || window.webkitRequestAnimationFrame\n          || window.msRequestAnimationFrame\n          || function(callback) { setTimeout(callback, 0); },\n\n        element         = this,\n\n        documentObserver,\n        observer,\n        module\n      ;\n\n      module      = {\n\n        initialize: function() {\n\n          module.determineContainer();\n          module.determineContext();\n          module.verbose('Initializing sticky', settings, $container);\n\n          module.save.positions();\n          module.checkErrors();\n          module.bind.events();\n\n          if(settings.observeChanges) {\n            module.observeChanges();\n          }\n          module.instantiate();\n        },\n\n        instantiate: function() {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module\n            .data(moduleNamespace, module)\n          ;\n        },\n\n        destroy: function() {\n          module.verbose('Destroying previous instance');\n          module.reset();\n          if(documentObserver) {\n            documentObserver.disconnect();\n          }\n          if(observer) {\n            observer.disconnect();\n          }\n          $window\n            .off('load' + eventNamespace, module.event.load)\n            .off('resize' + eventNamespace, module.event.resize)\n          ;\n          $scroll\n            .off('scrollchange' + eventNamespace, module.event.scrollchange)\n          ;\n          $module.removeData(moduleNamespace);\n        },\n\n        observeChanges: function() {\n          if('MutationObserver' in window) {\n            documentObserver = new MutationObserver(module.event.documentChanged);\n            observer         = new MutationObserver(module.event.changed);\n            documentObserver.observe(document, {\n              childList : true,\n              subtree   : true\n            });\n            observer.observe(element, {\n              childList : true,\n              subtree   : true\n            });\n            observer.observe($context[0], {\n              childList : true,\n              subtree   : true\n            });\n            module.debug('Setting up mutation observer', observer);\n          }\n        },\n\n        determineContainer: function() {\n          if(settings.container) {\n            $container = $(settings.container);\n          }\n          else {\n            $container = $module.offsetParent();\n          }\n        },\n\n        determineContext: function() {\n          if(settings.context) {\n            $context = $(settings.context);\n          }\n          else {\n            $context = $container;\n          }\n          if($context.length === 0) {\n            module.error(error.invalidContext, settings.context, $module);\n            return;\n          }\n        },\n\n        checkErrors: function() {\n          if( module.is.hidden() ) {\n            module.error(error.visible, $module);\n          }\n          if(module.cache.element.height > module.cache.context.height) {\n            module.reset();\n            module.error(error.elementSize, $module);\n            return;\n          }\n        },\n\n        bind: {\n          events: function() {\n            $window\n              .on('load' + eventNamespace, module.event.load)\n              .on('resize' + eventNamespace, module.event.resize)\n            ;\n            // pub/sub pattern\n            $scroll\n              .off('scroll' + eventNamespace)\n              .on('scroll' + eventNamespace, module.event.scroll)\n              .on('scrollchange' + eventNamespace, module.event.scrollchange)\n            ;\n          }\n        },\n\n        event: {\n          changed: function(mutations) {\n            clearTimeout(module.timer);\n            module.timer = setTimeout(function() {\n              module.verbose('DOM tree modified, updating sticky menu', mutations);\n              module.refresh();\n            }, 100);\n          },\n          documentChanged: function(mutations) {\n            [].forEach.call(mutations, function(mutation) {\n              if(mutation.removedNodes) {\n                [].forEach.call(mutation.removedNodes, function(node) {\n                  if(node == element || $(node).find(element).length > 0) {\n                    module.debug('Element removed from DOM, tearing down events');\n                    module.destroy();\n                  }\n                });\n              }\n            });\n          },\n          load: function() {\n            module.verbose('Page contents finished loading');\n            requestAnimationFrame(module.refresh);\n          },\n          resize: function() {\n            module.verbose('Window resized');\n            requestAnimationFrame(module.refresh);\n          },\n          scroll: function() {\n            requestAnimationFrame(function() {\n              $scroll.triggerHandler('scrollchange' + eventNamespace, $scroll.scrollTop() );\n            });\n          },\n          scrollchange: function(event, scrollPosition) {\n            module.stick(scrollPosition);\n            settings.onScroll.call(element);\n          }\n        },\n\n        refresh: function(hardRefresh) {\n          module.reset();\n          if(!settings.context) {\n            module.determineContext();\n          }\n          if(hardRefresh) {\n            module.determineContainer();\n          }\n          module.save.positions();\n          module.stick();\n          settings.onReposition.call(element);\n        },\n\n        supports: {\n          sticky: function() {\n            var\n              $element = $('<div/>')\n            ;\n            $element.addClass(className.supported);\n            return($element.css('position').match('sticky'));\n          }\n        },\n\n        save: {\n          lastScroll: function(scroll) {\n            module.lastScroll = scroll;\n          },\n          elementScroll: function(scroll) {\n            module.elementScroll = scroll;\n          },\n          positions: function() {\n            var\n              scrollContext = {\n                height : $scroll.height()\n              },\n              element = {\n                margin: {\n                  top    : parseInt($module.css('margin-top'), 10),\n                  bottom : parseInt($module.css('margin-bottom'), 10),\n                },\n                offset : $module.offset(),\n                width  : $module.outerWidth(),\n                height : $module.outerHeight()\n              },\n              context = {\n                offset : $context.offset(),\n                height : $context.outerHeight()\n              }\n            ;\n            if( !module.is.standardScroll() ) {\n              module.debug('Non-standard scroll. Removing scroll offset from element offset');\n\n              scrollContext.top  = $scroll.scrollTop();\n              scrollContext.left = $scroll.scrollLeft();\n\n              element.offset.top  += scrollContext.top;\n              context.offset.top  += scrollContext.top;\n              element.offset.left += scrollContext.left;\n              context.offset.left += scrollContext.left;\n            }\n            module.cache = {\n              fits          : ( (element.height + settings.offset) <= scrollContext.height),\n              sameHeight    : (element.height == context.height),\n              scrollContext : {\n                height : scrollContext.height\n              },\n              element: {\n                margin : element.margin,\n                top    : element.offset.top - element.margin.top,\n                left   : element.offset.left,\n                width  : element.width,\n                height : element.height,\n                bottom : element.offset.top + element.height\n              },\n              context: {\n                top           : context.offset.top,\n                height        : context.height,\n                bottom        : context.offset.top + context.height\n              }\n            };\n            module.set.containerSize();\n\n            module.stick();\n            module.debug('Caching element positions', module.cache);\n          }\n        },\n\n        get: {\n          direction: function(scroll) {\n            var\n              direction = 'down'\n            ;\n            scroll = scroll || $scroll.scrollTop();\n            if(module.lastScroll !== undefined) {\n              if(module.lastScroll < scroll) {\n                direction = 'down';\n              }\n              else if(module.lastScroll > scroll) {\n                direction = 'up';\n              }\n            }\n            return direction;\n          },\n          scrollChange: function(scroll) {\n            scroll = scroll || $scroll.scrollTop();\n            return (module.lastScroll)\n              ? (scroll - module.lastScroll)\n              : 0\n            ;\n          },\n          currentElementScroll: function() {\n            if(module.elementScroll) {\n              return module.elementScroll;\n            }\n            return ( module.is.top() )\n              ? Math.abs(parseInt($module.css('top'), 10))    || 0\n              : Math.abs(parseInt($module.css('bottom'), 10)) || 0\n            ;\n          },\n\n          elementScroll: function(scroll) {\n            scroll = scroll || $scroll.scrollTop();\n            var\n              element        = module.cache.element,\n              scrollContext  = module.cache.scrollContext,\n              delta          = module.get.scrollChange(scroll),\n              maxScroll      = (element.height - scrollContext.height + settings.offset),\n              elementScroll  = module.get.currentElementScroll(),\n              possibleScroll = (elementScroll + delta)\n            ;\n            if(module.cache.fits || possibleScroll < 0) {\n              elementScroll = 0;\n            }\n            else if(possibleScroll > maxScroll ) {\n              elementScroll = maxScroll;\n            }\n            else {\n              elementScroll = possibleScroll;\n            }\n            return elementScroll;\n          }\n        },\n\n        remove: {\n          lastScroll: function() {\n            delete module.lastScroll;\n          },\n          elementScroll: function(scroll) {\n            delete module.elementScroll;\n          },\n          minimumSize: function() {\n            $container\n              .css('min-height', '')\n            ;\n          },\n          offset: function() {\n            $module.css('margin-top', '');\n          }\n        },\n\n        set: {\n          offset: function() {\n            module.verbose('Setting offset on element', settings.offset);\n            $module\n              .css('margin-top', settings.offset)\n            ;\n          },\n          containerSize: function() {\n            var\n              tagName = $container.get(0).tagName\n            ;\n            if(tagName === 'HTML' || tagName == 'body') {\n              // this can trigger for too many reasons\n              //module.error(error.container, tagName, $module);\n              module.determineContainer();\n            }\n            else {\n              if( Math.abs($container.outerHeight() - module.cache.context.height) > settings.jitter) {\n                module.debug('Context has padding, specifying exact height for container', module.cache.context.height);\n                $container.css({\n                  height: module.cache.context.height\n                });\n              }\n            }\n          },\n          minimumSize: function() {\n            var\n              element   = module.cache.element\n            ;\n            $container\n              .css('min-height', element.height)\n            ;\n          },\n          scroll: function(scroll) {\n            module.debug('Setting scroll on element', scroll);\n            if(module.elementScroll == scroll) {\n              return;\n            }\n            if( module.is.top() ) {\n              $module\n                .css('bottom', '')\n                .css('top', -scroll)\n              ;\n            }\n            if( module.is.bottom() ) {\n              $module\n                .css('top', '')\n                .css('bottom', scroll)\n              ;\n            }\n          },\n          size: function() {\n            if(module.cache.element.height !== 0 && module.cache.element.width !== 0) {\n              element.style.setProperty('width',  module.cache.element.width  + 'px', 'important');\n              element.style.setProperty('height', module.cache.element.height + 'px', 'important');\n            }\n          }\n        },\n\n        is: {\n          standardScroll: function() {\n            return ($scroll[0] == window);\n          },\n          top: function() {\n            return $module.hasClass(className.top);\n          },\n          bottom: function() {\n            return $module.hasClass(className.bottom);\n          },\n          initialPosition: function() {\n            return (!module.is.fixed() && !module.is.bound());\n          },\n          hidden: function() {\n            return (!$module.is(':visible'));\n          },\n          bound: function() {\n            return $module.hasClass(className.bound);\n          },\n          fixed: function() {\n            return $module.hasClass(className.fixed);\n          }\n        },\n\n        stick: function(scroll) {\n          var\n            cachedPosition = scroll || $scroll.scrollTop(),\n            cache          = module.cache,\n            fits           = cache.fits,\n            sameHeight     = cache.sameHeight,\n            element        = cache.element,\n            scrollContext  = cache.scrollContext,\n            context        = cache.context,\n            offset         = (module.is.bottom() && settings.pushing)\n              ? settings.bottomOffset\n              : settings.offset,\n            scroll         = {\n              top    : cachedPosition + offset,\n              bottom : cachedPosition + offset + scrollContext.height\n            },\n            elementScroll  = (fits)\n              ? 0\n              : module.get.elementScroll(scroll.top),\n\n            // shorthand\n            doesntFit      = !fits,\n            elementVisible = (element.height !== 0)\n          ;\n          if(elementVisible && !sameHeight) {\n\n            if( module.is.initialPosition() ) {\n              if(scroll.top >= context.bottom) {\n                module.debug('Initial element position is bottom of container');\n                module.bindBottom();\n              }\n              else if(scroll.top > element.top) {\n                if( (element.height + scroll.top - elementScroll) >= context.bottom ) {\n                  module.debug('Initial element position is bottom of container');\n                  module.bindBottom();\n                }\n                else {\n                  module.debug('Initial element position is fixed');\n                  module.fixTop();\n                }\n              }\n\n            }\n            else if( module.is.fixed() ) {\n\n              // currently fixed top\n              if( module.is.top() ) {\n                if( scroll.top <= element.top ) {\n                  module.debug('Fixed element reached top of container');\n                  module.setInitialPosition();\n                }\n                else if( (element.height + scroll.top - elementScroll) >= context.bottom ) {\n                  module.debug('Fixed element reached bottom of container');\n                  module.bindBottom();\n                }\n                // scroll element if larger than screen\n                else if(doesntFit) {\n                  module.set.scroll(elementScroll);\n                  module.save.lastScroll(scroll.top);\n                  module.save.elementScroll(elementScroll);\n                }\n              }\n\n              // currently fixed bottom\n              else if(module.is.bottom() ) {\n\n                // top edge\n                if( (scroll.bottom - element.height) <= element.top) {\n                  module.debug('Bottom fixed rail has reached top of container');\n                  module.setInitialPosition();\n                }\n                // bottom edge\n                else if(scroll.bottom >= context.bottom) {\n                  module.debug('Bottom fixed rail has reached bottom of container');\n                  module.bindBottom();\n                }\n                // scroll element if larger than screen\n                else if(doesntFit) {\n                  module.set.scroll(elementScroll);\n                  module.save.lastScroll(scroll.top);\n                  module.save.elementScroll(elementScroll);\n                }\n\n              }\n            }\n            else if( module.is.bottom() ) {\n              if( scroll.top <= element.top ) {\n                module.debug('Jumped from bottom fixed to top fixed, most likely used home/end button');\n                module.setInitialPosition();\n              }\n              else {\n                if(settings.pushing) {\n                  if(module.is.bound() && scroll.bottom <= context.bottom ) {\n                    module.debug('Fixing bottom attached element to bottom of browser.');\n                    module.fixBottom();\n                  }\n                }\n                else {\n                  if(module.is.bound() && (scroll.top <= context.bottom - element.height) ) {\n                    module.debug('Fixing bottom attached element to top of browser.');\n                    module.fixTop();\n                  }\n                }\n              }\n            }\n          }\n        },\n\n        bindTop: function() {\n          module.debug('Binding element to top of parent container');\n          module.remove.offset();\n          $module\n            .css({\n              left         : '',\n              top          : '',\n              marginBottom : ''\n            })\n            .removeClass(className.fixed)\n            .removeClass(className.bottom)\n            .addClass(className.bound)\n            .addClass(className.top)\n          ;\n          settings.onTop.call(element);\n          settings.onUnstick.call(element);\n        },\n        bindBottom: function() {\n          module.debug('Binding element to bottom of parent container');\n          module.remove.offset();\n          $module\n            .css({\n              left         : '',\n              top          : ''\n            })\n            .removeClass(className.fixed)\n            .removeClass(className.top)\n            .addClass(className.bound)\n            .addClass(className.bottom)\n          ;\n          settings.onBottom.call(element);\n          settings.onUnstick.call(element);\n        },\n\n        setInitialPosition: function() {\n          module.debug('Returning to initial position');\n          module.unfix();\n          module.unbind();\n        },\n\n\n        fixTop: function() {\n          module.debug('Fixing element to top of page');\n          if(settings.setSize) {\n            module.set.size();\n          }\n          module.set.minimumSize();\n          module.set.offset();\n          $module\n            .css({\n              left         : module.cache.element.left,\n              bottom       : '',\n              marginBottom : ''\n            })\n            .removeClass(className.bound)\n            .removeClass(className.bottom)\n            .addClass(className.fixed)\n            .addClass(className.top)\n          ;\n          settings.onStick.call(element);\n        },\n\n        fixBottom: function() {\n          module.debug('Sticking element to bottom of page');\n          if(settings.setSize) {\n            module.set.size();\n          }\n          module.set.minimumSize();\n          module.set.offset();\n          $module\n            .css({\n              left         : module.cache.element.left,\n              bottom       : '',\n              marginBottom : ''\n            })\n            .removeClass(className.bound)\n            .removeClass(className.top)\n            .addClass(className.fixed)\n            .addClass(className.bottom)\n          ;\n          settings.onStick.call(element);\n        },\n\n        unbind: function() {\n          if( module.is.bound() ) {\n            module.debug('Removing container bound position on element');\n            module.remove.offset();\n            $module\n              .removeClass(className.bound)\n              .removeClass(className.top)\n              .removeClass(className.bottom)\n            ;\n          }\n        },\n\n        unfix: function() {\n          if( module.is.fixed() ) {\n            module.debug('Removing fixed position on element');\n            module.remove.minimumSize();\n            module.remove.offset();\n            $module\n              .removeClass(className.fixed)\n              .removeClass(className.top)\n              .removeClass(className.bottom)\n            ;\n            settings.onUnstick.call(element);\n          }\n        },\n\n        reset: function() {\n          module.debug('Resetting elements position');\n          module.unbind();\n          module.unfix();\n          module.resetCSS();\n          module.remove.offset();\n          module.remove.lastScroll();\n        },\n\n        resetCSS: function() {\n          $module\n            .css({\n              width  : '',\n              height : ''\n            })\n          ;\n          $container\n            .css({\n              height: ''\n            })\n          ;\n        },\n\n        setting: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            settings[name] = value;\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 0);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                return false;\n              }\n            });\n          }\n          if ( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if(Array.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      };\n\n      if(methodInvoked) {\n        if(instance === undefined) {\n          module.initialize();\n        }\n        module.invoke(query);\n      }\n      else {\n        if(instance !== undefined) {\n          instance.invoke('destroy');\n        }\n        module.initialize();\n      }\n    })\n  ;\n\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n$.fn.sticky.settings = {\n\n  name           : 'Sticky',\n  namespace      : 'sticky',\n\n  silent         : false,\n  debug          : false,\n  verbose        : true,\n  performance    : true,\n\n  // whether to stick in the opposite direction on scroll up\n  pushing        : false,\n\n  context        : false,\n  container      : false,\n\n  // Context to watch scroll events\n  scrollContext  : window,\n\n  // Offset to adjust scroll\n  offset         : 0,\n\n  // Offset to adjust scroll when attached to bottom of screen\n  bottomOffset   : 0,\n\n  // will only set container height if difference between context and container is larger than this number\n  jitter         : 5,\n\n  // set width of sticky element when it is fixed to page (used to make sure 100% width is maintained if no fixed size set)\n  setSize        : true,\n\n  // Whether to automatically observe changes with Mutation Observers\n  observeChanges : false,\n\n  // Called when position is recalculated\n  onReposition   : function(){},\n\n  // Called on each scroll\n  onScroll       : function(){},\n\n  // Called when element is stuck to viewport\n  onStick        : function(){},\n\n  // Called when element is unstuck from viewport\n  onUnstick      : function(){},\n\n  // Called when element reaches top of context\n  onTop          : function(){},\n\n  // Called when element reaches bottom of context\n  onBottom       : function(){},\n\n  error         : {\n    container      : 'Sticky element must be inside a relative container',\n    visible        : 'Element is hidden, you must call refresh after element becomes visible. Use silent setting to surpress this warning in production.',\n    method         : 'The method you called is not defined.',\n    invalidContext : 'Context specified does not exist',\n    elementSize    : 'Sticky element is larger than its container, cannot create sticky.'\n  },\n\n  className : {\n    bound     : 'bound',\n    fixed     : 'fixed',\n    supported : 'native',\n    top       : 'top',\n    bottom    : 'bottom'\n  }\n\n};\n\n})( jQuery, window, document );\n\n/*!\n * # Fomantic-UI 2.8.8 - Tab\n * http://github.com/fomantic/Fomantic-UI/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n'use strict';\n\n$.isWindow = $.isWindow || function(obj) {\n  return obj != null && obj === obj.window;\n};\n$.isFunction = $.isFunction || function(obj) {\n  return typeof obj === \"function\" && typeof obj.nodeType !== \"number\";\n};\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\n$.fn.tab = function(parameters) {\n\n  var\n    // use window context if none specified\n    $allModules     = $.isFunction(this)\n        ? $(window)\n        : $(this),\n\n    moduleSelector  = $allModules.selector || '',\n    time            = new Date().getTime(),\n    performance     = [],\n\n    query           = arguments[0],\n    methodInvoked   = (typeof query == 'string'),\n    queryArguments  = [].slice.call(arguments, 1),\n\n    initializedHistory = false,\n    returnedValue\n  ;\n\n  $allModules\n    .each(function() {\n      var\n\n        settings        = ( $.isPlainObject(parameters) )\n          ? $.extend(true, {}, $.fn.tab.settings, parameters)\n          : $.extend({}, $.fn.tab.settings),\n\n        className       = settings.className,\n        metadata        = settings.metadata,\n        selector        = settings.selector,\n        error           = settings.error,\n        regExp          = settings.regExp,\n\n        eventNamespace  = '.' + settings.namespace,\n        moduleNamespace = 'module-' + settings.namespace,\n\n        $module         = $(this),\n        $context,\n        $tabs,\n\n        cache           = {},\n        firstLoad       = true,\n        recursionDepth  = 0,\n        element         = this,\n        instance        = $module.data(moduleNamespace),\n\n        activeTabPath,\n        parameterArray,\n        module,\n\n        historyEvent\n\n      ;\n\n      module = {\n\n        initialize: function() {\n          module.debug('Initializing tab menu item', $module);\n          module.fix.callbacks();\n          module.determineTabs();\n\n          module.debug('Determining tabs', settings.context, $tabs);\n          // set up automatic routing\n          if(settings.auto) {\n            module.set.auto();\n          }\n          module.bind.events();\n\n          if(settings.history && !initializedHistory) {\n            module.initializeHistory();\n            initializedHistory = true;\n          }\n\n          if(settings.autoTabActivation && instance === undefined && module.determine.activeTab() == null) {\n            module.debug('No active tab detected, setting first tab active', module.get.initialPath());\n            module.changeTab(settings.autoTabActivation === true ? module.get.initialPath() : settings.autoTabActivation);\n          };\n\n          module.instantiate();\n        },\n\n        instantiate: function () {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module\n            .data(moduleNamespace, module)\n          ;\n        },\n\n        destroy: function() {\n          module.debug('Destroying tabs', $module);\n          $module\n            .removeData(moduleNamespace)\n            .off(eventNamespace)\n          ;\n        },\n\n        bind: {\n          events: function() {\n            // if using $.tab don't add events\n            if( !$.isWindow( element ) ) {\n              module.debug('Attaching tab activation events to element', $module);\n              $module\n                .on('click' + eventNamespace, module.event.click)\n              ;\n            }\n          }\n        },\n\n        determineTabs: function() {\n          var\n            $reference\n          ;\n\n          // determine tab context\n          if(settings.context === 'parent') {\n            if($module.closest(selector.ui).length > 0) {\n              $reference = $module.closest(selector.ui);\n              module.verbose('Using closest UI element as parent', $reference);\n            }\n            else {\n              $reference = $module;\n            }\n            $context = $reference.parent();\n            module.verbose('Determined parent element for creating context', $context);\n          }\n          else if(settings.context) {\n            $context = $(settings.context);\n            module.verbose('Using selector for tab context', settings.context, $context);\n          }\n          else {\n            $context = $('body');\n          }\n          // find tabs\n          if(settings.childrenOnly) {\n            $tabs = $context.children(selector.tabs);\n            module.debug('Searching tab context children for tabs', $context, $tabs);\n          }\n          else {\n            $tabs = $context.find(selector.tabs);\n            module.debug('Searching tab context for tabs', $context, $tabs);\n          }\n        },\n\n        fix: {\n          callbacks: function() {\n            if( $.isPlainObject(parameters) && (parameters.onTabLoad || parameters.onTabInit) ) {\n              if(parameters.onTabLoad) {\n                parameters.onLoad = parameters.onTabLoad;\n                delete parameters.onTabLoad;\n                module.error(error.legacyLoad, parameters.onLoad);\n              }\n              if(parameters.onTabInit) {\n                parameters.onFirstLoad = parameters.onTabInit;\n                delete parameters.onTabInit;\n                module.error(error.legacyInit, parameters.onFirstLoad);\n              }\n              settings = $.extend(true, {}, $.fn.tab.settings, parameters);\n            }\n          }\n        },\n\n        initializeHistory: function() {\n          module.debug('Initializing page state');\n          if( $.address === undefined ) {\n            module.error(error.state);\n            return false;\n          }\n          else {\n            if(settings.historyType == 'state') {\n              module.debug('Using HTML5 to manage state');\n              if(settings.path !== false) {\n                $.address\n                  .history(true)\n                  .state(settings.path)\n                ;\n              }\n              else {\n                module.error(error.path);\n                return false;\n              }\n            }\n            $.address\n              .bind('change', module.event.history.change)\n            ;\n          }\n        },\n\n        event: {\n          click: function(event) {\n            var\n              tabPath = $(this).data(metadata.tab)\n            ;\n            if(tabPath !== undefined) {\n              if(settings.history) {\n                module.verbose('Updating page state', event);\n                $.address.value(tabPath);\n              }\n              else {\n                module.verbose('Changing tab', event);\n                module.changeTab(tabPath);\n              }\n              event.preventDefault();\n            }\n            else {\n              module.debug('No tab specified');\n            }\n          },\n          history: {\n            change: function(event) {\n              var\n                tabPath   = event.pathNames.join('/') || module.get.initialPath(),\n                pageTitle = settings.templates.determineTitle(tabPath) || false\n              ;\n              module.performance.display();\n              module.debug('History change event', tabPath, event);\n              historyEvent = event;\n              if(tabPath !== undefined) {\n                module.changeTab(tabPath);\n              }\n              if(pageTitle) {\n                $.address.title(pageTitle);\n              }\n            }\n          }\n        },\n\n        refresh: function() {\n          if(activeTabPath) {\n            module.debug('Refreshing tab', activeTabPath);\n            module.changeTab(activeTabPath);\n          }\n        },\n\n        cache: {\n\n          read: function(cacheKey) {\n            return (cacheKey !== undefined)\n              ? cache[cacheKey]\n              : false\n            ;\n          },\n          add: function(cacheKey, content) {\n            cacheKey = cacheKey || activeTabPath;\n            module.debug('Adding cached content for', cacheKey);\n            cache[cacheKey] = content;\n          },\n          remove: function(cacheKey) {\n            cacheKey = cacheKey || activeTabPath;\n            module.debug('Removing cached content for', cacheKey);\n            delete cache[cacheKey];\n          }\n        },\n\n        escape: {\n          string: function(text) {\n            text =  String(text);\n            return text.replace(regExp.escape, '\\\\$&');\n          }\n        },\n\n        set: {\n          auto: function() {\n            var\n              url = (typeof settings.path == 'string')\n                ? settings.path.replace(/\\/$/, '') + '/{$tab}'\n                : '/{$tab}'\n            ;\n            module.verbose('Setting up automatic tab retrieval from server', url);\n            if($.isPlainObject(settings.apiSettings)) {\n              settings.apiSettings.url = url;\n            }\n            else {\n              settings.apiSettings = {\n                url: url\n              };\n            }\n          },\n          loading: function(tabPath) {\n            var\n              $tab      = module.get.tabElement(tabPath),\n              isLoading = $tab.hasClass(className.loading)\n            ;\n            if(!isLoading) {\n              module.verbose('Setting loading state for', $tab);\n              $tab\n                .addClass(className.loading)\n                .siblings($tabs)\n                  .removeClass(className.active + ' ' + className.loading)\n              ;\n              if($tab.length > 0) {\n                settings.onRequest.call($tab[0], tabPath);\n              }\n            }\n          },\n          state: function(state) {\n            $.address.value(state);\n          }\n        },\n\n        changeTab: function(tabPath) {\n          var\n            pushStateAvailable = (window.history && window.history.pushState),\n            shouldIgnoreLoad   = (pushStateAvailable && settings.ignoreFirstLoad && firstLoad),\n            remoteContent      = (settings.auto || $.isPlainObject(settings.apiSettings) ),\n            // only add default path if not remote content\n            pathArray = (remoteContent && !shouldIgnoreLoad)\n              ? module.utilities.pathToArray(tabPath)\n              : module.get.defaultPathArray(tabPath)\n          ;\n          tabPath = module.utilities.arrayToPath(pathArray);\n          $.each(pathArray, function(index, tab) {\n            var\n              currentPathArray   = pathArray.slice(0, index + 1),\n              currentPath        = module.utilities.arrayToPath(currentPathArray),\n\n              isTab              = module.is.tab(currentPath),\n              isLastIndex        = (index + 1 == pathArray.length),\n\n              $tab               = module.get.tabElement(currentPath),\n              $anchor,\n              nextPathArray,\n              nextPath,\n              isLastTab\n            ;\n            module.verbose('Looking for tab', tab);\n            if(isTab) {\n              module.verbose('Tab was found', tab);\n              // scope up\n              activeTabPath  = currentPath;\n              parameterArray = module.utilities.filterArray(pathArray, currentPathArray);\n\n              if(isLastIndex) {\n                isLastTab = true;\n              }\n              else {\n                nextPathArray = pathArray.slice(0, index + 2);\n                nextPath      = module.utilities.arrayToPath(nextPathArray);\n                isLastTab     = ( !module.is.tab(nextPath) );\n                if(isLastTab) {\n                  module.verbose('Tab parameters found', nextPathArray);\n                }\n              }\n              if(isLastTab && remoteContent) {\n                if(!shouldIgnoreLoad) {\n                  module.activate.navigation(currentPath);\n                  module.fetch.content(currentPath, tabPath);\n                }\n                else {\n                  module.debug('Ignoring remote content on first tab load', currentPath);\n                  firstLoad = false;\n                  module.cache.add(tabPath, $tab.html());\n                  module.activate.all(currentPath);\n                  settings.onFirstLoad.call($tab[0], currentPath, parameterArray, historyEvent);\n                  settings.onLoad.call($tab[0], currentPath, parameterArray, historyEvent);\n                }\n                return false;\n              }\n              else {\n                module.debug('Opened local tab', currentPath);\n                module.activate.all(currentPath);\n                if( !module.cache.read(currentPath) ) {\n                  module.cache.add(currentPath, true);\n                  module.debug('First time tab loaded calling tab init');\n                  settings.onFirstLoad.call($tab[0], currentPath, parameterArray, historyEvent);\n                }\n                settings.onLoad.call($tab[0], currentPath, parameterArray, historyEvent);\n              }\n\n            }\n            else if(tabPath.search('/') == -1 && tabPath !== '') {\n              // look for in page anchor\n              tabPath = module.escape.string(tabPath);\n              $anchor     = $('#' + tabPath + ', a[name=\"' + tabPath + '\"]');\n              currentPath = $anchor.closest('[data-tab]').data(metadata.tab);\n              $tab        = module.get.tabElement(currentPath);\n              // if anchor exists use parent tab\n              if($anchor && $anchor.length > 0 && currentPath) {\n                module.debug('Anchor link used, opening parent tab', $tab, $anchor);\n                if( !$tab.hasClass(className.active) ) {\n                  setTimeout(function() {\n                    module.scrollTo($anchor);\n                  }, 0);\n                }\n                module.activate.all(currentPath);\n                if( !module.cache.read(currentPath) ) {\n                  module.cache.add(currentPath, true);\n                  module.debug('First time tab loaded calling tab init');\n                  settings.onFirstLoad.call($tab[0], currentPath, parameterArray, historyEvent);\n                }\n                settings.onLoad.call($tab[0], currentPath, parameterArray, historyEvent);\n                return false;\n              }\n            }\n            else {\n              module.error(error.missingTab, $module, $context, currentPath);\n              return false;\n            }\n          });\n        },\n\n        scrollTo: function($element) {\n          var\n            scrollOffset = ($element && $element.length > 0)\n              ? $element.offset().top\n              : false\n          ;\n          if(scrollOffset !== false) {\n            module.debug('Forcing scroll to an in-page link in a hidden tab', scrollOffset, $element);\n            $(document).scrollTop(scrollOffset);\n          }\n        },\n\n        update: {\n          content: function(tabPath, html, evaluateScripts) {\n            var\n              $tab = module.get.tabElement(tabPath),\n              tab  = $tab[0]\n            ;\n            evaluateScripts = (evaluateScripts !== undefined)\n              ? evaluateScripts\n              : settings.evaluateScripts\n            ;\n            if(typeof settings.cacheType == 'string' && settings.cacheType.toLowerCase() == 'dom' && typeof html !== 'string') {\n              $tab\n                .empty()\n                .append($(html).clone(true))\n              ;\n            }\n            else {\n              if(evaluateScripts) {\n                module.debug('Updating HTML and evaluating inline scripts', tabPath, html);\n                $tab.html(html);\n              }\n              else {\n                module.debug('Updating HTML', tabPath, html);\n                tab.innerHTML = html;\n              }\n            }\n          }\n        },\n\n        fetch: {\n\n          content: function(tabPath, fullTabPath) {\n            var\n              $tab        = module.get.tabElement(tabPath),\n              apiSettings = {\n                dataType         : 'html',\n                encodeParameters : false,\n                on               : 'now',\n                cache            : settings.alwaysRefresh,\n                headers          : {\n                  'X-Remote': true\n                },\n                onSuccess : function(response) {\n                  if(settings.cacheType == 'response') {\n                    module.cache.add(fullTabPath, response);\n                  }\n                  module.update.content(tabPath, response);\n                  if(tabPath == activeTabPath) {\n                    module.debug('Content loaded', tabPath);\n                    module.activate.tab(tabPath);\n                  }\n                  else {\n                    module.debug('Content loaded in background', tabPath);\n                  }\n                  settings.onFirstLoad.call($tab[0], tabPath, parameterArray, historyEvent);\n                  settings.onLoad.call($tab[0], tabPath, parameterArray, historyEvent);\n\n                  if(settings.loadOnce) {\n                    module.cache.add(fullTabPath, true);\n                  }\n                  else if(typeof settings.cacheType == 'string' && settings.cacheType.toLowerCase() == 'dom' && $tab.children().length > 0) {\n                    setTimeout(function() {\n                      var\n                        $clone = $tab.children().clone(true)\n                      ;\n                      $clone = $clone.not('script');\n                      module.cache.add(fullTabPath, $clone);\n                    }, 0);\n                  }\n                  else {\n                    module.cache.add(fullTabPath, $tab.html());\n                  }\n                },\n                urlData: {\n                  tab: fullTabPath\n                }\n              },\n              request         = $tab.api('get request') || false,\n              existingRequest = ( request && request.state() === 'pending' ),\n              requestSettings,\n              cachedContent\n            ;\n\n            fullTabPath   = fullTabPath || tabPath;\n            cachedContent = module.cache.read(fullTabPath);\n\n\n            if(settings.cache && cachedContent) {\n              module.activate.tab(tabPath);\n              module.debug('Adding cached content', fullTabPath);\n              if(!settings.loadOnce) {\n                if(settings.evaluateScripts == 'once') {\n                  module.update.content(tabPath, cachedContent, false);\n                }\n                else {\n                  module.update.content(tabPath, cachedContent);\n                }\n              }\n              settings.onLoad.call($tab[0], tabPath, parameterArray, historyEvent);\n            }\n            else if(existingRequest) {\n              module.set.loading(tabPath);\n              module.debug('Content is already loading', fullTabPath);\n            }\n            else if($.api !== undefined) {\n              requestSettings = $.extend(true, {}, settings.apiSettings, apiSettings);\n              module.debug('Retrieving remote content', fullTabPath, requestSettings);\n              module.set.loading(tabPath);\n              $tab.api(requestSettings);\n            }\n            else {\n              module.error(error.api);\n            }\n          }\n        },\n\n        activate: {\n          all: function(tabPath) {\n            module.activate.tab(tabPath);\n            module.activate.navigation(tabPath);\n          },\n          tab: function(tabPath) {\n            var\n              $tab          = module.get.tabElement(tabPath),\n              $deactiveTabs = (settings.deactivate == 'siblings')\n                ? $tab.siblings($tabs)\n                : $tabs.not($tab),\n              isActive      = $tab.hasClass(className.active)\n            ;\n            module.verbose('Showing tab content for', $tab);\n            if(!isActive) {\n              $tab\n                .addClass(className.active)\n              ;\n              $deactiveTabs\n                .removeClass(className.active + ' ' + className.loading)\n              ;\n              if($tab.length > 0) {\n                settings.onVisible.call($tab[0], tabPath);\n              }\n            }\n          },\n          navigation: function(tabPath) {\n            var\n              $navigation         = module.get.navElement(tabPath),\n              $deactiveNavigation = (settings.deactivate == 'siblings')\n                ? $navigation.siblings($allModules)\n                : $allModules.not($navigation),\n              isActive    = $navigation.hasClass(className.active)\n            ;\n            module.verbose('Activating tab navigation for', $navigation, tabPath);\n            if(!isActive) {\n              $navigation\n                .addClass(className.active)\n              ;\n              $deactiveNavigation\n                .removeClass(className.active + ' ' + className.loading)\n              ;\n            }\n          }\n        },\n\n        deactivate: {\n          all: function() {\n            module.deactivate.navigation();\n            module.deactivate.tabs();\n          },\n          navigation: function() {\n            $allModules\n              .removeClass(className.active)\n            ;\n          },\n          tabs: function() {\n            $tabs\n              .removeClass(className.active + ' ' + className.loading)\n            ;\n          }\n        },\n\n        is: {\n          tab: function(tabName) {\n            return (tabName !== undefined)\n              ? ( module.get.tabElement(tabName).length > 0 )\n              : false\n            ;\n          }\n        },\n\n        get: {\n          initialPath: function() {\n            return $allModules.eq(0).data(metadata.tab) || $tabs.eq(0).data(metadata.tab);\n          },\n          path: function() {\n            return $.address.value();\n          },\n          // adds default tabs to tab path\n          defaultPathArray: function(tabPath) {\n            return module.utilities.pathToArray( module.get.defaultPath(tabPath) );\n          },\n          defaultPath: function(tabPath) {\n            var\n              $defaultNav = $allModules.filter('[data-' + metadata.tab + '^=\"' + module.escape.string(tabPath) + '/\"]').eq(0),\n              defaultTab  = $defaultNav.data(metadata.tab) || false\n            ;\n            if( defaultTab ) {\n              module.debug('Found default tab', defaultTab);\n              if(recursionDepth < settings.maxDepth) {\n                recursionDepth++;\n                return module.get.defaultPath(defaultTab);\n              }\n              module.error(error.recursion);\n            }\n            else {\n              module.debug('No default tabs found for', tabPath, $tabs);\n            }\n            recursionDepth = 0;\n            return tabPath;\n          },\n          navElement: function(tabPath) {\n            tabPath = tabPath || activeTabPath;\n            return $allModules.filter('[data-' + metadata.tab + '=\"' + module.escape.string(tabPath) + '\"]');\n          },\n          tabElement: function(tabPath) {\n            var\n              $fullPathTab,\n              $simplePathTab,\n              tabPathArray,\n              lastTab\n            ;\n            tabPath        = tabPath || activeTabPath;\n            tabPathArray   = module.utilities.pathToArray(tabPath);\n            lastTab        = module.utilities.last(tabPathArray);\n            $fullPathTab   = $tabs.filter('[data-' + metadata.tab + '=\"' + module.escape.string(tabPath) + '\"]');\n            $simplePathTab = $tabs.filter('[data-' + metadata.tab + '=\"' + module.escape.string(lastTab) + '\"]');\n            return ($fullPathTab.length > 0)\n              ? $fullPathTab\n              : $simplePathTab\n            ;\n          },\n          tab: function() {\n            return activeTabPath;\n          }\n        },\n\n        determine: {\n          activeTab: function() {\n            var activeTab = null;\n\n            $tabs.each(function(_index, tab) {\n              var $tab = $(tab);\n\n              if( $tab.hasClass(className.active) ) {\n                var\n                  tabPath = $(this).data(metadata.tab),\n                  $anchor = $allModules.filter('[data-' + metadata.tab + '=\"' + module.escape.string(tabPath) + '\"]')\n                ;\n\n                if( $anchor.hasClass(className.active) ) {\n                  activeTab = tabPath;\n                }\n              }\n            });\n\n            return activeTab;\n          }\n        },\n\n        utilities: {\n          filterArray: function(keepArray, removeArray) {\n            return $.grep(keepArray, function(keepValue) {\n              return ( $.inArray(keepValue, removeArray) == -1);\n            });\n          },\n          last: function(array) {\n            return Array.isArray(array)\n              ? array[ array.length - 1]\n              : false\n            ;\n          },\n          pathToArray: function(pathName) {\n            if(pathName === undefined) {\n              pathName = activeTabPath;\n            }\n            return typeof pathName == 'string'\n              ? pathName.split('/')\n              : [pathName]\n            ;\n          },\n          arrayToPath: function(pathArray) {\n            return Array.isArray(pathArray)\n              ? pathArray.join('/')\n              : false\n            ;\n          }\n        },\n\n        setting: function(name, value) {\n          module.debug('Changing setting', name, value);\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            if($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            }\n            else {\n              settings[name] = value;\n            }\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n          if ( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if(Array.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      };\n      if(methodInvoked) {\n        if(instance === undefined) {\n          module.initialize();\n        }\n        module.invoke(query);\n      }\n      else {\n        if(instance !== undefined) {\n          instance.invoke('destroy');\n        }\n        module.initialize();\n      }\n    })\n  ;\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n\n};\n\n// shortcut for tabbed content with no defined navigation\n$.tab = function() {\n  $(window).tab.apply(this, arguments);\n};\n\n$.fn.tab.settings = {\n\n  name            : 'Tab',\n  namespace       : 'tab',\n\n  silent          : false,\n  debug           : false,\n  verbose         : false,\n  performance     : true,\n\n  auto            : false,      // uses pjax style endpoints fetching content from same url with remote-content headers\n  history         : false,      // use browser history\n  historyType     : 'hash',     // #/ or html5 state\n  path            : false,      // base path of url\n\n  context         : false,      // specify a context that tabs must appear inside\n  childrenOnly    : false,      // use only tabs that are children of context\n  maxDepth        : 25,         // max depth a tab can be nested\n\n  deactivate      : 'siblings', // whether tabs should deactivate sibling menu elements or all elements initialized together\n\n  alwaysRefresh   : false,      // load tab content new every tab click\n  cache           : true,       // cache the content requests to pull locally\n  loadOnce        : false,      // Whether tab data should only be loaded once when using remote content\n  cacheType       : 'response', // Whether to cache exact response, or to html cache contents after scripts execute\n  ignoreFirstLoad : false,      // don't load remote content on first load\n\n  apiSettings     : false,      // settings for api call\n  evaluateScripts : 'once',     // whether inline scripts should be parsed (true/false/once). Once will not re-evaluate on cached content\n  autoTabActivation: true,      // whether a non existing active tab will auto activate the first available tab\n\n  onFirstLoad : function(tabPath, parameterArray, historyEvent) {}, // called first time loaded\n  onLoad      : function(tabPath, parameterArray, historyEvent) {}, // called on every load\n  onVisible   : function(tabPath, parameterArray, historyEvent) {}, // called every time tab visible\n  onRequest   : function(tabPath, parameterArray, historyEvent) {}, // called ever time a tab beings loading remote content\n\n  templates : {\n    determineTitle: function(tabArray) {} // returns page title for path\n  },\n\n  error: {\n    api        : 'You attempted to load content without API module',\n    method     : 'The method you called is not defined',\n    missingTab : 'Activated tab cannot be found. Tabs are case-sensitive.',\n    noContent  : 'The tab you specified is missing a content url.',\n    path       : 'History enabled, but no path was specified',\n    recursion  : 'Max recursive depth reached',\n    legacyInit : 'onTabInit has been renamed to onFirstLoad in 2.0, please adjust your code.',\n    legacyLoad : 'onTabLoad has been renamed to onLoad in 2.0. Please adjust your code',\n    state      : 'History requires Asual\\'s Address library <https://github.com/asual/jquery-address>'\n  },\n\n  regExp : {\n    escape   : /[-[\\]{}()*+?.,\\\\^$|#\\s:=@]/g\n  },\n\n  metadata : {\n    tab    : 'tab',\n    loaded : 'loaded',\n    promise: 'promise'\n  },\n\n  className   : {\n    loading : 'loading',\n    active  : 'active'\n  },\n\n  selector    : {\n    tabs : '.ui.tab',\n    ui   : '.ui'\n  }\n\n};\n\n})( jQuery, window, document );\n\n/*!\n * # Fomantic-UI 2.8.8 - Toast\n * http://github.com/fomantic/Fomantic-UI/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n'use strict';\n\n$.isFunction = $.isFunction || function(obj) {\n  return typeof obj === \"function\" && typeof obj.nodeType !== \"number\";\n};\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\n$.fn.toast = function(parameters) {\n  var\n    $allModules    = $(this),\n    moduleSelector = $allModules.selector || '',\n\n    time           = new Date().getTime(),\n    performance    = [],\n\n    query          = arguments[0],\n    methodInvoked  = (typeof query == 'string'),\n    queryArguments = [].slice.call(arguments, 1),\n    returnedValue\n  ;\n  $allModules\n    .each(function() {\n      var\n        settings          = ( $.isPlainObject(parameters) )\n          ? $.extend(true, {}, $.fn.toast.settings, parameters)\n          : $.extend({}, $.fn.toast.settings),\n\n        className        = settings.className,\n        selector         = settings.selector,\n        error            = settings.error,\n        namespace        = settings.namespace,\n        fields           = settings.fields,\n\n        eventNamespace   = '.' + namespace,\n        moduleNamespace  = namespace + '-module',\n\n        $module          = $(this),\n        $toastBox,\n        $toast,\n        $actions,\n        $progress,\n        $progressBar,\n        $animationObject,\n        $close,\n        $context         = (settings.context)\n          ? $(settings.context)\n          : $('body'),\n\n        isToastComponent = $module.hasClass('toast') || $module.hasClass('message') || $module.hasClass('card'),\n\n        element          = this,\n        instance         = isToastComponent ? $module.data(moduleNamespace) : undefined,\n\n        module\n      ;\n      module = {\n\n        initialize: function() {\n          module.verbose('Initializing element');\n          if (!module.has.container()) {\n            module.create.container();\n          }\n          if(isToastComponent || settings.message !== '' || settings.title !== '' || module.get.iconClass() !== '' || settings.showImage || module.has.configActions()) {\n            if(typeof settings.showProgress !== 'string' || [className.top,className.bottom].indexOf(settings.showProgress) === -1 ) {\n              settings.showProgress = false;\n            }\n            module.create.toast();\n            if(settings.closeOnClick && (settings.closeIcon || $($toast).find(selector.input).length > 0 || module.has.configActions())){\n              settings.closeOnClick = false;\n            }\n            if(!settings.closeOnClick) {\n              $toastBox.addClass(className.unclickable);\n            }\n            module.bind.events();\n          }\n          module.instantiate();\n          if($toastBox) {\n            module.show();\n          }\n        },\n\n        instantiate: function() {\n          module.verbose('Storing instance of toast');\n          instance = module;\n          $module\n              .data(moduleNamespace, instance)\n          ;\n        },\n\n        destroy: function() {\n          if($toastBox) {\n            module.debug('Removing toast', $toastBox);\n            module.unbind.events();\n            $toastBox.remove();\n            $toastBox = undefined;\n            $toast = undefined;\n            $animationObject = undefined;\n            settings.onRemove.call($toastBox, element);\n            $progress = undefined;\n            $progressBar = undefined;\n            $close = undefined;\n          }\n          $module\n            .removeData(moduleNamespace)\n          ;\n        },\n\n        show: function(callback) {\n          callback = callback || function(){};\n          module.debug('Showing toast');\n          if(settings.onShow.call($toastBox, element) === false) {\n            module.debug('onShow callback returned false, cancelling toast animation');\n            return;\n          }\n          module.animate.show(callback);\n        },\n\n        close: function(callback) {\n          callback = callback || function(){};\n          module.remove.visible();\n          module.unbind.events();\n          module.animate.close(callback);\n\n        },\n\n        create: {\n          container: function() {\n            module.verbose('Creating container');\n            $context.append($('<div/>',{class: settings.position + ' ' + className.container + ' ' +(settings.horizontal ? className.horizontal : '')}));\n          },\n          toast: function() {\n            $toastBox = $('<div/>', {class: className.box});\n            var iconClass = module.get.iconClass();\n            if (!isToastComponent) {\n              module.verbose('Creating toast');\n              $toast = $('<div/>');\n              var $content = $('<div/>', {class: className.content});\n              if (iconClass !== '') {\n                $toast.append($('<i/>', {class: iconClass + ' ' + className.icon}));\n              }\n\n              if (settings.showImage) {\n                $toast.append($('<img>', {\n                  class: className.image + ' ' + settings.classImage,\n                  src: settings.showImage\n                }));\n              }\n              if (settings.title !== '') {\n                $content.append($('<div/>', {\n                  class: className.title,\n                  text: settings.title\n                }));\n              }\n\n              $content.append($('<div/>', {class: className.message, html: module.helpers.escape(settings.message, settings.preserveHTML)}));\n\n              $toast\n                .addClass(settings.class + ' ' + className.toast)\n                .append($content)\n              ;\n              $toast.css('opacity', settings.opacity);\n              if (settings.closeIcon) {\n                $close = $('<i/>', {class: className.close + ' ' + (typeof settings.closeIcon === 'string' ? settings.closeIcon : '')});\n                if($close.hasClass(className.left)) {\n                  $toast.prepend($close);\n                } else {\n                  $toast.append($close);\n                }\n              }\n            } else {\n              $toast = settings.cloneModule ? $module.clone().removeAttr('id') : $module;\n              $close = $toast.find('> i'+module.helpers.toClass(className.close));\n              settings.closeIcon = ($close.length > 0);\n              if (iconClass !== '') {\n                $toast.find(selector.icon).attr('class',iconClass + ' ' + className.icon);\n              }\n              if (settings.showImage) {\n                $toast.find(selector.image).attr('src',settings.showImage);\n              }\n              if (settings.title !== '') {\n                $toast.find(selector.title).html(module.helpers.escape(settings.title, settings.preserveHTML));\n              }\n              if (settings.message !== '') {\n                $toast.find(selector.message).html(module.helpers.escape(settings.message, settings.preserveHTML));\n              }\n            }\n            if ($toast.hasClass(className.compact)) {\n              settings.compact = true;\n            }\n            if ($toast.hasClass('card')) {\n              settings.compact = false;\n            }\n            $actions = $toast.find('.actions');\n            if (module.has.configActions()) {\n              if ($actions.length === 0) {\n                $actions = $('<div/>', {class: className.actions + ' ' + (settings.classActions || '')}).appendTo($toast);\n              }\n              if($toast.hasClass('card') && !$actions.hasClass(className.attached)) {\n                $actions.addClass(className.extraContent);\n                if($actions.hasClass(className.vertical)) {\n                  $actions.removeClass(className.vertical);\n                  module.error(error.verticalCard);\n                }\n              }\n              settings.actions.forEach(function (el) {\n                var icon = el[fields.icon] ? '<i class=\"' + module.helpers.deQuote(el[fields.icon]) + ' icon\"></i>' : '',\n                  text = module.helpers.escape(el[fields.text] || '', settings.preserveHTML),\n                  cls = module.helpers.deQuote(el[fields.class] || ''),\n                  click = el[fields.click] && $.isFunction(el[fields.click]) ? el[fields.click] : function () {};\n                $actions.append($('<button/>', {\n                  html: icon + text,\n                  class: className.button + ' ' + cls,\n                  click: function () {\n                    if (click.call(element, $module) === false) {\n                      return;\n                    }\n                    module.close();\n                  }\n                }));\n              });\n            }\n            if ($actions && $actions.hasClass(className.vertical)) {\n                $toast.addClass(className.vertical);\n            }\n            if($actions.length > 0 && !$actions.hasClass(className.attached)) {\n              if ($actions && (!$actions.hasClass(className.basic) || $actions.hasClass(className.left))) {\n                $toast.addClass(className.actions);\n              }\n            }\n            if(settings.displayTime === 'auto'){\n              settings.displayTime = Math.max(settings.minDisplayTime, $toast.text().split(\" \").length / settings.wordsPerMinute * 60000);\n            }\n            $toastBox.append($toast);\n\n            if($actions.length > 0 && $actions.hasClass(className.attached)) {\n              $actions.addClass(className.buttons);\n              $actions.detach();\n              $toast.addClass(className.attached);\n              if (!$actions.hasClass(className.vertical)) {\n                if ($actions.hasClass(className.top)) {\n                  $toastBox.prepend($actions);\n                  $toast.addClass(className.bottom);\n                } else {\n                  $toastBox.append($actions);\n                  $toast.addClass(className.top);\n                }\n              } else {\n                $toast.wrap(\n                  $('<div/>',{\n                    class:className.vertical + ' ' +\n                          className.attached + ' ' +\n                          (settings.compact ? className.compact : '')\n                  })\n                );\n                if($actions.hasClass(className.left)) {\n                  $toast.addClass(className.left).parent().addClass(className.left).prepend($actions);\n                } else {\n                  $toast.parent().append($actions);\n                }\n              }\n            }\n            if($module !== $toast) {\n              $module = $toast;\n              element = $toast[0];\n            }\n            if(settings.displayTime > 0) {\n              var progressingClass = className.progressing+' '+(settings.pauseOnHover ? className.pausable:'');\n              if (!!settings.showProgress) {\n                $progress = $('<div/>', {\n                  class: className.progress + ' ' + (settings.classProgress || settings.class),\n                  'data-percent': ''\n                });\n                if(!settings.classProgress) {\n                  if ($toast.hasClass('toast') && !$toast.hasClass(className.inverted)) {\n                    $progress.addClass(className.inverted);\n                  } else {\n                    $progress.removeClass(className.inverted);\n                  }\n                }\n                $progressBar = $('<div/>', {class: 'bar '+(settings.progressUp ? 'up ' : 'down ')+progressingClass});\n                $progress\n                    .addClass(settings.showProgress)\n                    .append($progressBar);\n                if ($progress.hasClass(className.top)) {\n                  $toastBox.prepend($progress);\n                } else {\n                  $toastBox.append($progress);\n                }\n                $progressBar.css('animation-duration', settings.displayTime / 1000 + 's');\n              }\n              $animationObject = $('<span/>',{class:'wait '+progressingClass});\n              $animationObject.css('animation-duration', settings.displayTime / 1000 + 's');\n              $animationObject.appendTo($toast);\n            }\n            if (settings.compact) {\n              $toastBox.addClass(className.compact);\n              $toast.addClass(className.compact);\n              if($progress) {\n                $progress.addClass(className.compact);\n              }\n            }\n            if (settings.newestOnTop) {\n              $toastBox.prependTo(module.get.container());\n            }\n            else {\n              $toastBox.appendTo(module.get.container());\n            }\n          }\n        },\n\n        bind: {\n          events: function() {\n            module.debug('Binding events to toast');\n            if(settings.closeOnClick || settings.closeIcon) {\n              (settings.closeIcon ? $close : $toast)\n                  .on('click' + eventNamespace, module.event.click)\n              ;\n            }\n            if($animationObject) {\n              $animationObject.on('animationend' + eventNamespace, module.close);\n            }\n            $toastBox\n              .on('click' + eventNamespace, selector.approve, module.event.approve)\n              .on('click' + eventNamespace, selector.deny, module.event.deny)\n            ;\n          }\n        },\n\n        unbind: {\n          events: function() {\n            module.debug('Unbinding events to toast');\n            if(settings.closeOnClick || settings.closeIcon) {\n              (settings.closeIcon ? $close : $toast)\n                  .off('click' + eventNamespace)\n              ;\n            }\n            if($animationObject) {\n              $animationObject.off('animationend' + eventNamespace);\n            }\n            $toastBox\n              .off('click' + eventNamespace)\n            ;\n          }\n        },\n\n        animate: {\n          show: function(callback) {\n            callback = $.isFunction(callback) ? callback : function(){};\n            if(settings.transition && module.can.useElement('transition') && $module.transition('is supported')) {\n              module.set.visible();\n              $toastBox\n                .transition({\n                  animation  : settings.transition.showMethod + ' in',\n                  queue      : false,\n                  debug      : settings.debug,\n                  verbose    : settings.verbose,\n                  duration   : settings.transition.showDuration,\n                  onComplete : function() {\n                    callback.call($toastBox, element);\n                    settings.onVisible.call($toastBox, element);\n                  }\n                })\n              ;\n            }\n          },\n          close: function(callback) {\n            callback = $.isFunction(callback) ? callback : function(){};\n            module.debug('Closing toast');\n            if(settings.onHide.call($toastBox, element) === false) {\n              module.debug('onHide callback returned false, cancelling toast animation');\n              return;\n            }\n            if(settings.transition && $.fn.transition !== undefined && $module.transition('is supported')) {\n              $toastBox\n                .transition({\n                  animation  : settings.transition.hideMethod + ' out',\n                  queue      : false,\n                  duration   : settings.transition.hideDuration,\n                  debug      : settings.debug,\n                  verbose    : settings.verbose,\n                  interval   : 50,\n\n                  onBeforeHide: function(callback){\n                      callback = $.isFunction(callback)?callback : function(){};\n                      if(settings.transition.closeEasing !== ''){\n                          if($toastBox) {\n                            $toastBox.css('opacity', 0);\n                            $toastBox.wrap('<div/>').parent().hide(settings.transition.closeDuration, settings.transition.closeEasing, function () {\n                              if ($toastBox) {\n                                $toastBox.parent().remove();\n                                callback.call($toastBox);\n                              }\n                            });\n                          }\n                      } else {\n                        callback.call($toastBox);\n                      }\n                  },\n                  onComplete : function() {\n                    callback.call($toastBox, element);\n                    settings.onHidden.call($toastBox, element);\n                    module.destroy();\n                  }\n                })\n              ;\n            }\n            else {\n              module.error(error.noTransition);\n            }\n          },\n          pause: function() {\n            $animationObject.css('animationPlayState','paused');\n            if($progressBar) {\n              $progressBar.css('animationPlayState', 'paused');\n            }\n          },\n          continue: function() {\n            $animationObject.css('animationPlayState','running');\n            if($progressBar) {\n              $progressBar.css('animationPlayState', 'running');\n            }\n          }\n        },\n\n        has: {\n          container: function() {\n            module.verbose('Determining if there is already a container');\n            return ($context.find(module.helpers.toClass(settings.position) + selector.container + (settings.horizontal ? module.helpers.toClass(className.horizontal) : '')).length > 0);\n          },\n          toast: function(){\n            return !!module.get.toast();\n          },\n          toasts: function(){\n            return module.get.toasts().length > 0;\n          },\n          configActions: function () {\n            return Array.isArray(settings.actions) && settings.actions.length > 0;\n          }\n        },\n\n        get: {\n          container: function() {\n            return ($context.find(module.helpers.toClass(settings.position) + selector.container)[0]);\n          },\n          toastBox: function() {\n            return $toastBox || null;\n          },\n          toast: function() {\n            return $toast || null;\n          },\n          toasts: function() {\n            return $(module.get.container()).find(selector.box);\n          },\n          iconClass: function() {\n            return typeof settings.showIcon === 'string' ? settings.showIcon : settings.showIcon && settings.icons[settings.class] ? settings.icons[settings.class] : '';\n          },\n          remainingTime: function() {\n            return $animationObject ? $animationObject.css('opacity') * settings.displayTime : 0;\n          }\n        },\n\n        set: {\n          visible: function() {\n            $toast.addClass(className.visible);\n          }\n        },\n\n        remove: {\n          visible: function() {\n            $toast.removeClass(className.visible);\n          }\n        },\n\n        event: {\n          click: function(event) {\n            if($(event.target).closest('a').length === 0) {\n              settings.onClick.call($toastBox, element);\n              module.close();\n            }\n          },\n          approve: function() {\n            if(settings.onApprove.call(element, $module) === false) {\n              module.verbose('Approve callback returned false cancelling close');\n              return;\n            }\n            module.close();\n          },\n          deny: function() {\n            if(settings.onDeny.call(element, $module) === false) {\n              module.verbose('Deny callback returned false cancelling close');\n              return;\n            }\n            module.close();\n          }\n        },\n\n        helpers: {\n          toClass: function(selector) {\n            var\n              classes = selector.split(' '),\n              result = ''\n            ;\n\n            classes.forEach(function (element) {\n              result += '.' + element;\n            });\n\n            return result;\n          },\n          deQuote: function(string) {\n            return String(string).replace(/\"/g,\"\");\n          },\n          escape: function(string, preserveHTML) {\n            if (preserveHTML){\n              return string;\n            }\n            var\n              badChars     = /[<>\"'`]/g,\n              shouldEscape = /[&<>\"'`]/,\n              escape       = {\n                \"<\": \"&lt;\",\n                \">\": \"&gt;\",\n                '\"': \"&quot;\",\n                \"'\": \"&#x27;\",\n                \"`\": \"&#x60;\"\n              },\n              escapedChar  = function(chr) {\n                return escape[chr];\n              }\n            ;\n            if(shouldEscape.test(string)) {\n              string = string.replace(/&(?![a-z0-9#]{1,6};)/, \"&amp;\");\n              return string.replace(badChars, escapedChar);\n            }\n            return string;\n          }\n        },\n\n        can: {\n          useElement: function(element){\n            if ($.fn[element] !== undefined) {\n              return true;\n            }\n            module.error(error.noElement.replace('{element}',element));\n            return false;\n          }\n        },\n\n        setting: function(name, value) {\n          module.debug('Changing setting', name, value);\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            if($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            }\n            else {\n              settings[name] = value;\n            }\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n          if ( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if(Array.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      };\n\n      if(methodInvoked) {\n        if(instance === undefined) {\n          module.initialize();\n        }\n        module.invoke(query);\n      }\n      else {\n        if(instance !== undefined) {\n          instance.invoke('destroy');\n        }\n        module.initialize();\n        returnedValue = $module;\n      }\n    })\n  ;\n\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n$.fn.toast.settings = {\n\n  name           : 'Toast',\n  namespace      : 'toast',\n\n  silent         : false,\n  debug          : false,\n  verbose        : false,\n  performance    : true,\n\n  context        : 'body',\n\n  position       : 'top right',\n  horizontal     : false,\n  class          : 'neutral',\n  classProgress  : false,\n  classActions   : false,\n  classImage     : 'mini',\n\n  title          : '',\n  message        : '',\n  displayTime    : 3000, // set to zero to require manually dismissal, otherwise hides on its own\n  minDisplayTime : 1000, // minimum displaytime in case displayTime is set to 'auto'\n  wordsPerMinute : 120,\n  showIcon       : false,\n  newestOnTop    : false,\n  showProgress   : false,\n  pauseOnHover   : true,\n  progressUp     : false, //if true, the bar will start at 0% and increase to 100%\n  opacity        : 1,\n  compact        : true,\n  closeIcon      : false,\n  closeOnClick   : true,\n  cloneModule    : true,\n  actions        : false,\n  preserveHTML   : true,\n  showImage      : false,\n\n  // transition settings\n  transition     : {\n    showMethod   : 'scale',\n    showDuration : 500,\n    hideMethod   : 'scale',\n    hideDuration : 500,\n    closeEasing  : 'easeOutCubic',  //Set to empty string to stack the closed toast area immediately (old behaviour)\n    closeDuration: 500\n  },\n\n  error: {\n    method       : 'The method you called is not defined.',\n    noElement    : 'This module requires ui {element}',\n    verticalCard : 'Vertical but not attached actions are not supported for card layout'\n  },\n\n  className      : {\n    container    : 'ui toast-container',\n    box          : 'floating toast-box',\n    progress     : 'ui attached active progress',\n    toast        : 'ui toast',\n    icon         : 'centered icon',\n    visible      : 'visible',\n    content      : 'content',\n    title        : 'ui header',\n    message      : 'message',\n    actions      : 'actions',\n    extraContent : 'extra content',\n    button       : 'ui button',\n    buttons      : 'ui buttons',\n    close        : 'close icon',\n    image        : 'ui image',\n    vertical     : 'vertical',\n    horizontal   : 'horizontal',\n    attached     : 'attached',\n    inverted     : 'inverted',\n    compact      : 'compact',\n    pausable     : 'pausable',\n    progressing  : 'progressing',\n    top          : 'top',\n    bottom       : 'bottom',\n    left         : 'left',\n    basic        : 'basic',\n    unclickable  : 'unclickable'\n  },\n\n  icons          : {\n    info         : 'info',\n    success      : 'checkmark',\n    warning      : 'warning',\n    error        : 'times'\n  },\n\n  selector       : {\n    container    : '.ui.toast-container',\n    box          : '.toast-box',\n    toast        : '.ui.toast',\n    title        : '.header',\n    message      : '.message:not(.ui)',\n    image        : '> img.image, > .image > img',\n    icon         : '> i.icon',\n    input        : 'input:not([type=\"hidden\"]), textarea, select, button, .ui.button, ui.dropdown',\n    approve      : '.actions .positive, .actions .approve, .actions .ok',\n    deny         : '.actions .negative, .actions .deny, .actions .cancel'\n  },\n\n  fields         : {\n    class        : 'class',\n    text         : 'text',\n    icon         : 'icon',\n    click        : 'click'\n  },\n\n  // callbacks\n  onShow         : function(){},\n  onVisible      : function(){},\n  onClick        : function(){},\n  onHide         : function(){},\n  onHidden       : function(){},\n  onRemove       : function(){},\n  onApprove      : function(){},\n  onDeny         : function(){}\n};\n\n$.extend( $.easing, {\n    easeOutBounce: function (x, t, b, c, d) {\n        if ((t/=d) < (1/2.75)) {\n            return c*(7.5625*t*t) + b;\n        } else if (t < (2/2.75)) {\n            return c*(7.5625*(t-=(1.5/2.75))*t + .75) + b;\n        } else if (t < (2.5/2.75)) {\n            return c*(7.5625*(t-=(2.25/2.75))*t + .9375) + b;\n        } else {\n            return c*(7.5625*(t-=(2.625/2.75))*t + .984375) + b;\n        }\n    },\n    easeOutCubic: function (t) {\n      return (--t)*t*t+1;\n    }\n});\n\n\n})( jQuery, window, document );\n\n/*!\n * # Fomantic-UI 2.8.8 - Transition\n * http://github.com/fomantic/Fomantic-UI/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n'use strict';\n\n$.isFunction = $.isFunction || function(obj) {\n  return typeof obj === \"function\" && typeof obj.nodeType !== \"number\";\n};\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\n$.fn.transition = function() {\n  var\n    $allModules     = $(this),\n    moduleSelector  = $allModules.selector || '',\n\n    time            = new Date().getTime(),\n    performance     = [],\n\n    moduleArguments = arguments,\n    query           = moduleArguments[0],\n    queryArguments  = [].slice.call(arguments, 1),\n    methodInvoked   = (typeof query === 'string'),\n\n    returnedValue\n  ;\n  $allModules\n    .each(function(index) {\n      var\n        $module  = $(this),\n        element  = this,\n\n        // set at run time\n        settings,\n        instance,\n\n        error,\n        className,\n        metadata,\n        animationEnd,\n\n        moduleNamespace,\n        eventNamespace,\n        module\n      ;\n\n      module = {\n\n        initialize: function() {\n\n          // get full settings\n          settings        = module.get.settings.apply(element, moduleArguments);\n\n          // shorthand\n          className       = settings.className;\n          error           = settings.error;\n          metadata        = settings.metadata;\n\n          // define namespace\n          eventNamespace  = '.' + settings.namespace;\n          moduleNamespace = 'module-' + settings.namespace;\n          instance        = $module.data(moduleNamespace) || module;\n\n          // get vendor specific events\n          animationEnd    = module.get.animationEndEvent();\n\n          if(methodInvoked) {\n            methodInvoked = module.invoke(query);\n          }\n\n          // method not invoked, lets run an animation\n          if(methodInvoked === false) {\n            module.verbose('Converted arguments into settings object', settings);\n            if(settings.interval) {\n              module.delay(settings.animate);\n            }\n            else  {\n              module.animate();\n            }\n            module.instantiate();\n          }\n        },\n\n        instantiate: function() {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module\n            .data(moduleNamespace, instance)\n          ;\n        },\n\n        destroy: function() {\n          module.verbose('Destroying previous module for', element);\n          $module\n            .removeData(moduleNamespace)\n          ;\n        },\n\n        refresh: function() {\n          module.verbose('Refreshing display type on next animation');\n          delete module.displayType;\n        },\n\n        forceRepaint: function() {\n          module.verbose('Forcing element repaint');\n          var\n            $parentElement = $module.parent(),\n            $nextElement = $module.next()\n          ;\n          if($nextElement.length === 0) {\n            $module.detach().appendTo($parentElement);\n          }\n          else {\n            $module.detach().insertBefore($nextElement);\n          }\n        },\n\n        repaint: function() {\n          module.verbose('Repainting element');\n          var\n            fakeAssignment = element.offsetWidth\n          ;\n        },\n\n        delay: function(interval) {\n          var\n            direction = module.get.animationDirection(),\n            shouldReverse,\n            delay\n          ;\n          if(!direction) {\n            direction = module.can.transition()\n              ? module.get.direction()\n              : 'static'\n            ;\n          }\n          interval = (interval !== undefined)\n            ? interval\n            : settings.interval\n          ;\n          shouldReverse = (settings.reverse == 'auto' && direction == className.outward);\n          delay = (shouldReverse || settings.reverse == true)\n            ? ($allModules.length - index) * settings.interval\n            : index * settings.interval\n          ;\n          module.debug('Delaying animation by', delay);\n          setTimeout(module.animate, delay);\n        },\n\n        animate: function(overrideSettings) {\n          settings = overrideSettings || settings;\n          if(!module.is.supported()) {\n            module.error(error.support);\n            return false;\n          }\n          module.debug('Preparing animation', settings.animation);\n          if(module.is.animating()) {\n            if(settings.queue) {\n              if(!settings.allowRepeats && module.has.direction() && module.is.occurring() && module.queuing !== true) {\n                module.debug('Animation is currently occurring, preventing queueing same animation', settings.animation);\n              }\n              else {\n                module.queue(settings.animation);\n              }\n              return false;\n            }\n            else if(!settings.allowRepeats && module.is.occurring()) {\n              module.debug('Animation is already occurring, will not execute repeated animation', settings.animation);\n              return false;\n            }\n            else {\n              module.debug('New animation started, completing previous early', settings.animation);\n              instance.complete();\n            }\n          }\n          if( module.can.animate() ) {\n            module.set.animating(settings.animation);\n          }\n          else {\n            module.error(error.noAnimation, settings.animation, element);\n          }\n        },\n\n        reset: function() {\n          module.debug('Resetting animation to beginning conditions');\n          module.remove.animationCallbacks();\n          module.restore.conditions();\n          module.remove.animating();\n        },\n\n        queue: function(animation) {\n          module.debug('Queueing animation of', animation);\n          module.queuing = true;\n          $module\n            .one(animationEnd + '.queue' + eventNamespace, function() {\n              module.queuing = false;\n              module.repaint();\n              module.animate.apply(this, settings);\n            })\n          ;\n        },\n\n        complete: function (event) {\n          if(event && event.target === element) {\n              event.stopPropagation();\n          }\n          module.debug('Animation complete', settings.animation);\n          module.remove.completeCallback();\n          module.remove.failSafe();\n          if(!module.is.looping()) {\n            if( module.is.outward() ) {\n              module.verbose('Animation is outward, hiding element');\n              module.restore.conditions();\n              module.hide();\n            }\n            else if( module.is.inward() ) {\n              module.verbose('Animation is outward, showing element');\n              module.restore.conditions();\n              module.show();\n            }\n            else {\n              module.verbose('Static animation completed');\n              module.restore.conditions();\n              settings.onComplete.call(element);\n            }\n          }\n        },\n\n        force: {\n          visible: function() {\n            var\n              style          = $module.attr('style'),\n              userStyle      = module.get.userStyle(style),\n              displayType    = module.get.displayType(),\n              overrideStyle  = userStyle + 'display: ' + displayType + ' !important;',\n              inlineDisplay  = $module[0].style.display,\n              mustStayHidden = !displayType || (inlineDisplay === 'none' && settings.skipInlineHidden) || $module[0].tagName.match(/(script|link|style)/i)\n            ;\n            if (mustStayHidden){\n              module.remove.transition();\n              return false;\n            }\n            module.verbose('Overriding default display to show element', displayType);\n            $module\n              .attr('style', overrideStyle)\n            ;\n            return true;\n          },\n          hidden: function() {\n            var\n              style          = $module.attr('style'),\n              currentDisplay = $module.css('display'),\n              emptyStyle     = (style === undefined || style === '')\n            ;\n            if(currentDisplay !== 'none' && !module.is.hidden()) {\n              module.verbose('Overriding default display to hide element');\n              $module\n                .css('display', 'none')\n              ;\n            }\n            else if(emptyStyle) {\n              $module\n                .removeAttr('style')\n              ;\n            }\n          }\n        },\n\n        has: {\n          direction: function(animation) {\n            var\n              hasDirection = false\n            ;\n            animation = animation || settings.animation;\n            if(typeof animation === 'string') {\n              animation = animation.split(' ');\n              $.each(animation, function(index, word){\n                if(word === className.inward || word === className.outward) {\n                  hasDirection = true;\n                }\n              });\n            }\n            return hasDirection;\n          },\n          inlineDisplay: function() {\n            var\n              style = $module.attr('style') || ''\n            ;\n            return Array.isArray(style.match(/display.*?;/, ''));\n          }\n        },\n\n        set: {\n          animating: function(animation) {\n            // remove previous callbacks\n            module.remove.completeCallback();\n\n            // determine exact animation\n            animation = animation || settings.animation;\n            var animationClass = module.get.animationClass(animation);\n\n              // save animation class in cache to restore class names\n            module.save.animation(animationClass);\n\n            if(module.force.visible()) {\n              module.remove.hidden();\n              module.remove.direction();\n\n              module.start.animation(animationClass);\n            }\n          },\n          duration: function(animationName, duration) {\n            duration = duration || settings.duration;\n            duration = (typeof duration == 'number')\n              ? duration + 'ms'\n              : duration\n            ;\n            if(duration || duration === 0) {\n              module.verbose('Setting animation duration', duration);\n              $module\n                .css({\n                  'animation-duration':  duration\n                })\n              ;\n            }\n          },\n          direction: function(direction) {\n            direction = direction || module.get.direction();\n            if(direction == className.inward) {\n              module.set.inward();\n            }\n            else {\n              module.set.outward();\n            }\n          },\n          looping: function() {\n            module.debug('Transition set to loop');\n            $module\n              .addClass(className.looping)\n            ;\n          },\n          hidden: function() {\n            $module\n              .addClass(className.transition)\n              .addClass(className.hidden)\n            ;\n          },\n          inward: function() {\n            module.debug('Setting direction to inward');\n            $module\n              .removeClass(className.outward)\n              .addClass(className.inward)\n            ;\n          },\n          outward: function() {\n            module.debug('Setting direction to outward');\n            $module\n              .removeClass(className.inward)\n              .addClass(className.outward)\n            ;\n          },\n          visible: function() {\n            $module\n              .addClass(className.transition)\n              .addClass(className.visible)\n            ;\n          }\n        },\n\n        start: {\n          animation: function(animationClass) {\n            animationClass = animationClass || module.get.animationClass();\n            module.debug('Starting tween', animationClass);\n            $module\n              .addClass(animationClass)\n              .one(animationEnd + '.complete' + eventNamespace, module.complete)\n            ;\n            if(settings.useFailSafe) {\n              module.add.failSafe();\n            }\n            module.set.duration(settings.duration);\n            settings.onStart.call(element);\n          }\n        },\n\n        save: {\n          animation: function(animation) {\n            if(!module.cache) {\n              module.cache = {};\n            }\n            module.cache.animation = animation;\n          },\n          displayType: function(displayType) {\n            if(displayType !== 'none') {\n              $module.data(metadata.displayType, displayType);\n            }\n          },\n          transitionExists: function(animation, exists) {\n            $.fn.transition.exists[animation] = exists;\n            module.verbose('Saving existence of transition', animation, exists);\n          }\n        },\n\n        restore: {\n          conditions: function() {\n            var\n              animation = module.get.currentAnimation()\n            ;\n            if(animation) {\n              $module\n                .removeClass(animation)\n              ;\n              module.verbose('Removing animation class', module.cache);\n            }\n            module.remove.duration();\n          }\n        },\n\n        add: {\n          failSafe: function() {\n            var\n              duration = module.get.duration()\n            ;\n            module.timer = setTimeout(function() {\n              $module.triggerHandler(animationEnd);\n            }, duration + settings.failSafeDelay);\n            module.verbose('Adding fail safe timer', module.timer);\n          }\n        },\n\n        remove: {\n          animating: function() {\n            $module.removeClass(className.animating);\n          },\n          animationCallbacks: function() {\n            module.remove.queueCallback();\n            module.remove.completeCallback();\n          },\n          queueCallback: function() {\n            $module.off('.queue' + eventNamespace);\n          },\n          completeCallback: function() {\n            $module.off('.complete' + eventNamespace);\n          },\n          display: function() {\n            $module.css('display', '');\n          },\n          direction: function() {\n            $module\n              .removeClass(className.inward)\n              .removeClass(className.outward)\n            ;\n          },\n          duration: function() {\n            $module\n              .css('animation-duration', '')\n            ;\n          },\n          failSafe: function() {\n            module.verbose('Removing fail safe timer', module.timer);\n            if(module.timer) {\n              clearTimeout(module.timer);\n            }\n          },\n          hidden: function() {\n            $module.removeClass(className.hidden);\n          },\n          visible: function() {\n            $module.removeClass(className.visible);\n          },\n          looping: function() {\n            module.debug('Transitions are no longer looping');\n            if( module.is.looping() ) {\n              module.reset();\n              $module\n                .removeClass(className.looping)\n              ;\n            }\n          },\n          transition: function() {\n            $module\n              .removeClass(className.transition)\n              .removeClass(className.visible)\n              .removeClass(className.hidden)\n            ;\n          }\n        },\n        get: {\n          settings: function(animation, duration, onComplete) {\n            // single settings object\n            if(typeof animation == 'object') {\n              return $.extend(true, {}, $.fn.transition.settings, animation);\n            }\n            // all arguments provided\n            else if(typeof onComplete == 'function') {\n              return $.extend({}, $.fn.transition.settings, {\n                animation  : animation,\n                onComplete : onComplete,\n                duration   : duration\n              });\n            }\n            // only duration provided\n            else if(typeof duration == 'string' || typeof duration == 'number') {\n              return $.extend({}, $.fn.transition.settings, {\n                animation : animation,\n                duration  : duration\n              });\n            }\n            // duration is actually settings object\n            else if(typeof duration == 'object') {\n              return $.extend({}, $.fn.transition.settings, duration, {\n                animation : animation\n              });\n            }\n            // duration is actually callback\n            else if(typeof duration == 'function') {\n              return $.extend({}, $.fn.transition.settings, {\n                animation  : animation,\n                onComplete : duration\n              });\n            }\n            // only animation provided\n            else {\n              return $.extend({}, $.fn.transition.settings, {\n                animation : animation\n              });\n            }\n          },\n          animationClass: function(animation) {\n            var\n              animationClass = animation || settings.animation,\n              directionClass = (module.can.transition() && !module.has.direction())\n                ? module.get.direction() + ' '\n                : ''\n            ;\n            return className.animating + ' '\n              + className.transition + ' '\n              + directionClass\n              + animationClass\n            ;\n          },\n          currentAnimation: function() {\n            return (module.cache && module.cache.animation !== undefined)\n              ? module.cache.animation\n              : false\n            ;\n          },\n          currentDirection: function() {\n            return module.is.inward()\n              ? className.inward\n              : className.outward\n            ;\n          },\n          direction: function() {\n            return module.is.hidden() || !module.is.visible()\n              ? className.inward\n              : className.outward\n            ;\n          },\n          animationDirection: function(animation) {\n            var\n              direction\n            ;\n            animation = animation || settings.animation;\n            if(typeof animation === 'string') {\n              animation = animation.split(' ');\n              // search animation name for out/in class\n              $.each(animation, function(index, word){\n                if(word === className.inward) {\n                  direction = className.inward;\n                }\n                else if(word === className.outward) {\n                  direction = className.outward;\n                }\n              });\n            }\n            // return found direction\n            if(direction) {\n              return direction;\n            }\n            return false;\n          },\n          duration: function(duration) {\n            duration = duration || settings.duration;\n            if(duration === false) {\n              duration = $module.css('animation-duration') || 0;\n            }\n            return (typeof duration === 'string')\n              ? (duration.indexOf('ms') > -1)\n                ? parseFloat(duration)\n                : parseFloat(duration) * 1000\n              : duration\n            ;\n          },\n          displayType: function(shouldDetermine) {\n            shouldDetermine = (shouldDetermine !== undefined)\n              ? shouldDetermine\n              : true\n            ;\n            if(settings.displayType) {\n              return settings.displayType;\n            }\n            if(shouldDetermine && $module.data(metadata.displayType) === undefined) {\n              var currentDisplay = $module.css('display');\n              if(currentDisplay === '' || currentDisplay === 'none'){\n              // create fake element to determine display state\n                module.can.transition(true);\n              } else {\n                module.save.displayType(currentDisplay);\n              }\n            }\n            return $module.data(metadata.displayType);\n          },\n          userStyle: function(style) {\n            style = style || $module.attr('style') || '';\n            return style.replace(/display.*?;/, '');\n          },\n          transitionExists: function(animation) {\n            return $.fn.transition.exists[animation];\n          },\n          animationStartEvent: function() {\n            var\n              element     = document.createElement('div'),\n              animations  = {\n                'animation'       :'animationstart',\n                'OAnimation'      :'oAnimationStart',\n                'MozAnimation'    :'mozAnimationStart',\n                'WebkitAnimation' :'webkitAnimationStart'\n              },\n              animation\n            ;\n            for(animation in animations){\n              if( element.style[animation] !== undefined ){\n                return animations[animation];\n              }\n            }\n            return false;\n          },\n          animationEndEvent: function() {\n            var\n              element     = document.createElement('div'),\n              animations  = {\n                'animation'       :'animationend',\n                'OAnimation'      :'oAnimationEnd',\n                'MozAnimation'    :'mozAnimationEnd',\n                'WebkitAnimation' :'webkitAnimationEnd'\n              },\n              animation\n            ;\n            for(animation in animations){\n              if( element.style[animation] !== undefined ){\n                return animations[animation];\n              }\n            }\n            return false;\n          }\n\n        },\n\n        can: {\n          transition: function(forced) {\n            var\n              animation         = settings.animation,\n              transitionExists  = module.get.transitionExists(animation),\n              displayType       = module.get.displayType(false),\n              elementClass,\n              tagName,\n              $clone,\n              currentAnimation,\n              inAnimation,\n              directionExists\n            ;\n            if( transitionExists === undefined || forced) {\n              module.verbose('Determining whether animation exists');\n              elementClass = $module.attr('class');\n              tagName      = $module.prop('tagName');\n\n              $clone = $('<' + tagName + ' />').addClass( elementClass ).insertAfter($module);\n              currentAnimation = $clone\n                .addClass(animation)\n                .removeClass(className.inward)\n                .removeClass(className.outward)\n                .addClass(className.animating)\n                .addClass(className.transition)\n                .css('animationName')\n              ;\n              inAnimation = $clone\n                .addClass(className.inward)\n                .css('animationName')\n              ;\n              if(!displayType) {\n                displayType = $clone\n                  .attr('class', elementClass)\n                  .removeAttr('style')\n                  .removeClass(className.hidden)\n                  .removeClass(className.visible)\n                  .show()\n                  .css('display')\n                ;\n                module.verbose('Determining final display state', displayType);\n                module.save.displayType(displayType);\n              }\n\n              $clone.remove();\n              if(currentAnimation != inAnimation) {\n                module.debug('Direction exists for animation', animation);\n                directionExists = true;\n              }\n              else if(currentAnimation == 'none' || !currentAnimation) {\n                module.debug('No animation defined in css', animation);\n                return;\n              }\n              else {\n                module.debug('Static animation found', animation, displayType);\n                directionExists = false;\n              }\n              module.save.transitionExists(animation, directionExists);\n            }\n            return (transitionExists !== undefined)\n              ? transitionExists\n              : directionExists\n            ;\n          },\n          animate: function() {\n            // can transition does not return a value if animation does not exist\n            return (module.can.transition() !== undefined);\n          }\n        },\n\n        is: {\n          animating: function() {\n            return $module.hasClass(className.animating);\n          },\n          inward: function() {\n            return $module.hasClass(className.inward);\n          },\n          outward: function() {\n            return $module.hasClass(className.outward);\n          },\n          looping: function() {\n            return $module.hasClass(className.looping);\n          },\n          occurring: function(animation) {\n            animation = animation || settings.animation;\n            animation = '.' + animation.replace(' ', '.');\n            return ( $module.filter(animation).length > 0 );\n          },\n          visible: function() {\n            return $module.is(':visible');\n          },\n          hidden: function() {\n            return $module.css('visibility') === 'hidden';\n          },\n          supported: function() {\n            return(animationEnd !== false);\n          }\n        },\n\n        hide: function() {\n          module.verbose('Hiding element');\n          if( module.is.animating() ) {\n            module.reset();\n          }\n          element.blur(); // IE will trigger focus change if element is not blurred before hiding\n          module.remove.display();\n          module.remove.visible();\n          if($.isFunction(settings.onBeforeHide)){\n            settings.onBeforeHide.call(element,function(){\n                module.hideNow();\n            });\n          } else {\n              module.hideNow();\n          }\n\n        },\n\n        hideNow: function() {\n            module.set.hidden();\n            module.force.hidden();\n            settings.onHide.call(element);\n            settings.onComplete.call(element);\n            // module.repaint();\n        },\n\n        show: function(display) {\n          module.verbose('Showing element', display);\n          if(module.force.visible()) {\n            module.remove.hidden();\n            module.set.visible();\n            settings.onShow.call(element);\n            settings.onComplete.call(element);\n            // module.repaint();\n          }\n        },\n\n        toggle: function() {\n          if( module.is.visible() ) {\n            module.hide();\n          }\n          else {\n            module.show();\n          }\n        },\n\n        stop: function() {\n          module.debug('Stopping current animation');\n          $module.triggerHandler(animationEnd);\n        },\n\n        stopAll: function() {\n          module.debug('Stopping all animation');\n          module.remove.queueCallback();\n          $module.triggerHandler(animationEnd);\n        },\n\n        clear: {\n          queue: function() {\n            module.debug('Clearing animation queue');\n            module.remove.queueCallback();\n          }\n        },\n\n        enable: function() {\n          module.verbose('Starting animation');\n          $module.removeClass(className.disabled);\n        },\n\n        disable: function() {\n          module.debug('Stopping animation');\n          $module.addClass(className.disabled);\n        },\n\n        setting: function(name, value) {\n          module.debug('Changing setting', name, value);\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            if($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            }\n            else {\n              settings[name] = value;\n            }\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if($allModules.length > 1) {\n              title += ' ' + '(' + $allModules.length + ')';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        // modified for transition to return invoke success\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                return false;\n              }\n            });\n          }\n          if ( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n\n          if(Array.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return (found !== undefined)\n            ? found\n            : false\n          ;\n        }\n      };\n      module.initialize();\n    })\n  ;\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n// Records if CSS transition is available\n$.fn.transition.exists = {};\n\n$.fn.transition.settings = {\n\n  // module info\n  name          : 'Transition',\n\n  // hide all output from this component regardless of other settings\n  silent        : false,\n\n  // debug content outputted to console\n  debug         : false,\n\n  // verbose debug output\n  verbose       : false,\n\n  // performance data output\n  performance   : true,\n\n  // event namespace\n  namespace     : 'transition',\n\n  // delay between animations in group\n  interval      : 0,\n\n  // whether group animations should be reversed\n  reverse       : 'auto',\n\n  // animation callback event\n  onStart       : function() {},\n  onComplete    : function() {},\n  onShow        : function() {},\n  onHide        : function() {},\n\n  // whether timeout should be used to ensure callback fires in cases animationend does not\n  useFailSafe   : true,\n\n  // delay in ms for fail safe\n  failSafeDelay : 100,\n\n  // whether EXACT animation can occur twice in a row\n  allowRepeats  : false,\n\n  // Override final display type on visible\n  displayType   : false,\n\n  // animation duration\n  animation     : 'fade',\n  duration      : false,\n\n  // new animations will occur after previous ones\n  queue         : true,\n\n// whether initially inline hidden objects should be skipped for transition\n  skipInlineHidden: false,\n\n  metadata : {\n    displayType: 'display'\n  },\n\n  className   : {\n    animating  : 'animating',\n    disabled   : 'disabled',\n    hidden     : 'hidden',\n    inward     : 'in',\n    loading    : 'loading',\n    looping    : 'looping',\n    outward    : 'out',\n    transition : 'transition',\n    visible    : 'visible'\n  },\n\n  // possible errors\n  error: {\n    noAnimation : 'Element is no longer attached to DOM. Unable to animate.  Use silent setting to surpress this warning in production.',\n    repeated    : 'That animation is already occurring, cancelling repeated animation',\n    method      : 'The method you called is not defined',\n    support     : 'This browser does not support CSS animations'\n  }\n\n};\n\n\n})( jQuery, window, document );\n\n/*!\n * # Fomantic-UI 2.8.8 - API\n * http://github.com/fomantic/Fomantic-UI/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n'use strict';\n\n$.isWindow = $.isWindow || function(obj) {\n  return obj != null && obj === obj.window;\n};\n\n  window = (typeof window != 'undefined' && window.Math == Math)\n    ? window\n    : (typeof self != 'undefined' && self.Math == Math)\n      ? self\n      : Function('return this')()\n;\n\n$.api = $.fn.api = function(parameters) {\n\n  var\n    // use window context if none specified\n    $allModules     = $.isFunction(this)\n        ? $(window)\n        : $(this),\n    moduleSelector = $allModules.selector || '',\n    time           = new Date().getTime(),\n    performance    = [],\n\n    query          = arguments[0],\n    methodInvoked  = (typeof query == 'string'),\n    queryArguments = [].slice.call(arguments, 1),\n\n    returnedValue\n  ;\n\n  $allModules\n    .each(function() {\n      var\n        settings          = ( $.isPlainObject(parameters) )\n          ? $.extend(true, {}, $.fn.api.settings, parameters)\n          : $.extend({}, $.fn.api.settings),\n\n        // internal aliases\n        namespace       = settings.namespace,\n        metadata        = settings.metadata,\n        selector        = settings.selector,\n        error           = settings.error,\n        className       = settings.className,\n\n        // define namespaces for modules\n        eventNamespace  = '.' + namespace,\n        moduleNamespace = 'module-' + namespace,\n\n        // element that creates request\n        $module         = $(this),\n        $form           = $module.closest(selector.form),\n\n        // context used for state\n        $context        = (settings.stateContext)\n          ? $(settings.stateContext)\n          : $module,\n\n        // request details\n        ajaxSettings,\n        requestSettings,\n        url,\n        data,\n        requestStartTime,\n\n        // standard module\n        element         = this,\n        context         = $context[0],\n        instance        = $module.data(moduleNamespace),\n        module\n      ;\n\n      module = {\n\n        initialize: function() {\n          if(!methodInvoked) {\n            module.bind.events();\n          }\n          module.instantiate();\n        },\n\n        instantiate: function() {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module\n            .data(moduleNamespace, instance)\n          ;\n        },\n\n        destroy: function() {\n          module.verbose('Destroying previous module for', element);\n          $module\n            .removeData(moduleNamespace)\n            .off(eventNamespace)\n          ;\n        },\n\n        bind: {\n          events: function() {\n            var\n              triggerEvent = module.get.event()\n            ;\n            if( triggerEvent ) {\n              module.verbose('Attaching API events to element', triggerEvent);\n              $module\n                .on(triggerEvent + eventNamespace, module.event.trigger)\n              ;\n            }\n            else if(settings.on == 'now') {\n              module.debug('Querying API endpoint immediately');\n              module.query();\n            }\n          }\n        },\n\n        decode: {\n          json: function(response) {\n            if(response !== undefined && typeof response == 'string') {\n              try {\n               response = JSON.parse(response);\n              }\n              catch(e) {\n                // isnt json string\n              }\n            }\n            return response;\n          }\n        },\n\n        read: {\n          cachedResponse: function(url) {\n            var\n              response\n            ;\n            if(window.Storage === undefined) {\n              module.error(error.noStorage);\n              return;\n            }\n            response = sessionStorage.getItem(url);\n            module.debug('Using cached response', url, response);\n            response = module.decode.json(response);\n            return response;\n          }\n        },\n        write: {\n          cachedResponse: function(url, response) {\n            if(response && response === '') {\n              module.debug('Response empty, not caching', response);\n              return;\n            }\n            if(window.Storage === undefined) {\n              module.error(error.noStorage);\n              return;\n            }\n            if( $.isPlainObject(response) ) {\n              response = JSON.stringify(response);\n            }\n            sessionStorage.setItem(url, response);\n            module.verbose('Storing cached response for url', url, response);\n          }\n        },\n\n        query: function() {\n\n          if(module.is.disabled()) {\n            module.debug('Element is disabled API request aborted');\n            return;\n          }\n\n          if(module.is.loading()) {\n            if(settings.interruptRequests) {\n              module.debug('Interrupting previous request');\n              module.abort();\n            }\n            else {\n              module.debug('Cancelling request, previous request is still pending');\n              return;\n            }\n          }\n\n          // pass element metadata to url (value, text)\n          if(settings.defaultData) {\n            $.extend(true, settings.urlData, module.get.defaultData());\n          }\n\n          // Add form content\n          if(settings.serializeForm) {\n            settings.data = module.add.formData(settings.data);\n          }\n\n          // call beforesend and get any settings changes\n          requestSettings = module.get.settings();\n\n          // check if before send cancelled request\n          if(requestSettings === false) {\n            module.cancelled = true;\n            module.error(error.beforeSend);\n            return;\n          }\n          else {\n            module.cancelled = false;\n          }\n\n          // get url\n          url = module.get.templatedURL();\n\n          if(!url && !module.is.mocked()) {\n            module.error(error.missingURL);\n            return;\n          }\n\n          // replace variables\n          url = module.add.urlData( url );\n          // missing url parameters\n          if( !url && !module.is.mocked()) {\n            return;\n          }\n\n          requestSettings.url = settings.base + url;\n\n          // look for jQuery ajax parameters in settings\n          ajaxSettings = $.extend(true, {}, settings, {\n            type       : settings.method || settings.type,\n            data       : data,\n            url        : settings.base + url,\n            beforeSend : settings.beforeXHR,\n            success    : function() {},\n            failure    : function() {},\n            complete   : function() {}\n          });\n\n          module.debug('Querying URL', ajaxSettings.url);\n          module.verbose('Using AJAX settings', ajaxSettings);\n          if(settings.cache === 'local' && module.read.cachedResponse(url)) {\n            module.debug('Response returned from local cache');\n            module.request = module.create.request();\n            module.request.resolveWith(context, [ module.read.cachedResponse(url) ]);\n            return;\n          }\n\n          if( !settings.throttle ) {\n            module.debug('Sending request', data, ajaxSettings.method);\n            module.send.request();\n          }\n          else {\n            if(!settings.throttleFirstRequest && !module.timer) {\n              module.debug('Sending request', data, ajaxSettings.method);\n              module.send.request();\n              module.timer = setTimeout(function(){}, settings.throttle);\n            }\n            else {\n              module.debug('Throttling request', settings.throttle);\n              clearTimeout(module.timer);\n              module.timer = setTimeout(function() {\n                if(module.timer) {\n                  delete module.timer;\n                }\n                module.debug('Sending throttled request', data, ajaxSettings.method);\n                module.send.request();\n              }, settings.throttle);\n            }\n          }\n\n        },\n\n        should: {\n          removeError: function() {\n            return ( settings.hideError === true || (settings.hideError === 'auto' && !module.is.form()) );\n          }\n        },\n\n        is: {\n          disabled: function() {\n            return ($module.filter(selector.disabled).length > 0);\n          },\n          expectingJSON: function() {\n            return settings.dataType === 'json' || settings.dataType === 'jsonp';\n          },\n          form: function() {\n            return $module.is('form') || $context.is('form');\n          },\n          mocked: function() {\n            return (settings.mockResponse || settings.mockResponseAsync || settings.response || settings.responseAsync);\n          },\n          input: function() {\n            return $module.is('input');\n          },\n          loading: function() {\n            return (module.request)\n              ? (module.request.state() == 'pending')\n              : false\n            ;\n          },\n          abortedRequest: function(xhr) {\n            if(xhr && xhr.readyState !== undefined && xhr.readyState === 0) {\n              module.verbose('XHR request determined to be aborted');\n              return true;\n            }\n            else {\n              module.verbose('XHR request was not aborted');\n              return false;\n            }\n          },\n          validResponse: function(response) {\n            if( (!module.is.expectingJSON()) || !$.isFunction(settings.successTest) ) {\n              module.verbose('Response is not JSON, skipping validation', settings.successTest, response);\n              return true;\n            }\n            module.debug('Checking JSON returned success', settings.successTest, response);\n            if( settings.successTest(response) ) {\n              module.debug('Response passed success test', response);\n              return true;\n            }\n            else {\n              module.debug('Response failed success test', response);\n              return false;\n            }\n          }\n        },\n\n        was: {\n          cancelled: function() {\n            return (module.cancelled || false);\n          },\n          succesful: function() {\n            module.verbose('This behavior will be deleted due to typo. Use \"was successful\" instead.');\n            return module.was.successful();\n          },\n          successful: function() {\n            return (module.request && module.request.state() == 'resolved');\n          },\n          failure: function() {\n            return (module.request && module.request.state() == 'rejected');\n          },\n          complete: function() {\n            return (module.request && (module.request.state() == 'resolved' || module.request.state() == 'rejected') );\n          }\n        },\n\n        add: {\n          urlData: function(url, urlData) {\n            var\n              requiredVariables,\n              optionalVariables\n            ;\n            if(url) {\n              requiredVariables = url.match(settings.regExp.required);\n              optionalVariables = url.match(settings.regExp.optional);\n              urlData           = urlData || settings.urlData;\n              if(requiredVariables) {\n                module.debug('Looking for required URL variables', requiredVariables);\n                $.each(requiredVariables, function(index, templatedString) {\n                  var\n                    // allow legacy {$var} style\n                    variable = (templatedString.indexOf('$') !== -1)\n                      ? templatedString.substr(2, templatedString.length - 3)\n                      : templatedString.substr(1, templatedString.length - 2),\n                    value   = ($.isPlainObject(urlData) && urlData[variable] !== undefined)\n                      ? urlData[variable]\n                      : ($module.data(variable) !== undefined)\n                        ? $module.data(variable)\n                        : ($context.data(variable) !== undefined)\n                          ? $context.data(variable)\n                          : urlData[variable]\n                  ;\n                  // remove value\n                  if(value === undefined) {\n                    module.error(error.requiredParameter, variable, url);\n                    url = false;\n                    return false;\n                  }\n                  else {\n                    module.verbose('Found required variable', variable, value);\n                    value = (settings.encodeParameters)\n                      ? module.get.urlEncodedValue(value)\n                      : value\n                    ;\n                    url = url.replace(templatedString, value);\n                  }\n                });\n              }\n              if(optionalVariables) {\n                module.debug('Looking for optional URL variables', requiredVariables);\n                $.each(optionalVariables, function(index, templatedString) {\n                  var\n                    // allow legacy {/$var} style\n                    variable = (templatedString.indexOf('$') !== -1)\n                      ? templatedString.substr(3, templatedString.length - 4)\n                      : templatedString.substr(2, templatedString.length - 3),\n                    value   = ($.isPlainObject(urlData) && urlData[variable] !== undefined)\n                      ? urlData[variable]\n                      : ($module.data(variable) !== undefined)\n                        ? $module.data(variable)\n                        : ($context.data(variable) !== undefined)\n                          ? $context.data(variable)\n                          : urlData[variable]\n                  ;\n                  // optional replacement\n                  if(value !== undefined) {\n                    module.verbose('Optional variable Found', variable, value);\n                    url = url.replace(templatedString, value);\n                  }\n                  else {\n                    module.verbose('Optional variable not found', variable);\n                    // remove preceding slash if set\n                    if(url.indexOf('/' + templatedString) !== -1) {\n                      url = url.replace('/' + templatedString, '');\n                    }\n                    else {\n                      url = url.replace(templatedString, '');\n                    }\n                  }\n                });\n              }\n            }\n            return url;\n          },\n          formData: function(data) {\n            var\n              canSerialize = ($.fn.serializeObject !== undefined),\n              formData     = (canSerialize)\n                ? $form.serializeObject()\n                : $form.serialize(),\n              hasOtherData\n            ;\n            data         = data || settings.data;\n            hasOtherData = $.isPlainObject(data);\n\n            if(hasOtherData) {\n              if(canSerialize) {\n                module.debug('Extending existing data with form data', data, formData);\n                data = $.extend(true, {}, data, formData);\n              }\n              else {\n                module.error(error.missingSerialize);\n                module.debug('Cant extend data. Replacing data with form data', data, formData);\n                data = formData;\n              }\n            }\n            else {\n              module.debug('Adding form data', formData);\n              data = formData;\n            }\n            return data;\n          }\n        },\n\n        send: {\n          request: function() {\n            module.set.loading();\n            module.request = module.create.request();\n            if( module.is.mocked() ) {\n              module.mockedXHR = module.create.mockedXHR();\n            }\n            else {\n              module.xhr = module.create.xhr();\n            }\n            settings.onRequest.call(context, module.request, module.xhr);\n          }\n        },\n\n        event: {\n          trigger: function(event) {\n            module.query();\n            if(event.type == 'submit' || event.type == 'click') {\n              event.preventDefault();\n            }\n          },\n          xhr: {\n            always: function() {\n              // nothing special\n            },\n            done: function(response, textStatus, xhr) {\n              var\n                context            = this,\n                elapsedTime        = (new Date().getTime() - requestStartTime),\n                timeLeft           = (settings.loadingDuration - elapsedTime),\n                translatedResponse = ( $.isFunction(settings.onResponse) )\n                  ? module.is.expectingJSON() && !settings.rawResponse\n                    ? settings.onResponse.call(context, $.extend(true, {}, response))\n                    : settings.onResponse.call(context, response)\n                  : false\n              ;\n              timeLeft = (timeLeft > 0)\n                ? timeLeft\n                : 0\n              ;\n              if(translatedResponse) {\n                module.debug('Modified API response in onResponse callback', settings.onResponse, translatedResponse, response);\n                response = translatedResponse;\n              }\n              if(timeLeft > 0) {\n                module.debug('Response completed early delaying state change by', timeLeft);\n              }\n              setTimeout(function() {\n                if( module.is.validResponse(response) ) {\n                  module.request.resolveWith(context, [response, xhr]);\n                }\n                else {\n                  module.request.rejectWith(context, [xhr, 'invalid']);\n                }\n              }, timeLeft);\n            },\n            fail: function(xhr, status, httpMessage) {\n              var\n                context     = this,\n                elapsedTime = (new Date().getTime() - requestStartTime),\n                timeLeft    = (settings.loadingDuration - elapsedTime)\n              ;\n              timeLeft = (timeLeft > 0)\n                ? timeLeft\n                : 0\n              ;\n              if(timeLeft > 0) {\n                module.debug('Response completed early delaying state change by', timeLeft);\n              }\n              setTimeout(function() {\n                if( module.is.abortedRequest(xhr) ) {\n                  module.request.rejectWith(context, [xhr, 'aborted', httpMessage]);\n                }\n                else {\n                  module.request.rejectWith(context, [xhr, 'error', status, httpMessage]);\n                }\n              }, timeLeft);\n            }\n          },\n          request: {\n            done: function(response, xhr) {\n              module.debug('Successful API Response', response);\n              if(settings.cache === 'local' && url) {\n                module.write.cachedResponse(url, response);\n                module.debug('Saving server response locally', module.cache);\n              }\n              settings.onSuccess.call(context, response, $module, xhr);\n            },\n            complete: function(firstParameter, secondParameter) {\n              var\n                xhr,\n                response\n              ;\n              // have to guess callback parameters based on request success\n              if( module.was.successful() ) {\n                response = firstParameter;\n                xhr      = secondParameter;\n              }\n              else {\n                xhr      = firstParameter;\n                response = module.get.responseFromXHR(xhr);\n              }\n              module.remove.loading();\n              settings.onComplete.call(context, response, $module, xhr);\n            },\n            fail: function(xhr, status, httpMessage) {\n              var\n                // pull response from xhr if available\n                response     = module.get.responseFromXHR(xhr),\n                errorMessage = module.get.errorFromRequest(response, status, httpMessage)\n              ;\n              if(status == 'aborted') {\n                module.debug('XHR Aborted (Most likely caused by page navigation or CORS Policy)', status, httpMessage);\n                settings.onAbort.call(context, status, $module, xhr);\n                return true;\n              }\n              else if(status == 'invalid') {\n                module.debug('JSON did not pass success test. A server-side error has most likely occurred', response);\n              }\n              else if(status == 'error') {\n                if(xhr !== undefined) {\n                  module.debug('XHR produced a server error', status, httpMessage);\n                  // make sure we have an error to display to console\n                  if( (xhr.status < 200 || xhr.status >= 300) && httpMessage !== undefined && httpMessage !== '') {\n                    module.error(error.statusMessage + httpMessage, ajaxSettings.url);\n                  }\n                  settings.onError.call(context, errorMessage, $module, xhr);\n                }\n              }\n\n              if(settings.errorDuration && status !== 'aborted') {\n                module.debug('Adding error state');\n                module.set.error();\n                if( module.should.removeError() ) {\n                  setTimeout(module.remove.error, settings.errorDuration);\n                }\n              }\n              module.debug('API Request failed', errorMessage, xhr);\n              settings.onFailure.call(context, response, $module, xhr);\n            }\n          }\n        },\n\n        create: {\n\n          request: function() {\n            // api request promise\n            return $.Deferred()\n              .always(module.event.request.complete)\n              .done(module.event.request.done)\n              .fail(module.event.request.fail)\n            ;\n          },\n\n          mockedXHR: function () {\n            var\n              // xhr does not simulate these properties of xhr but must return them\n              textStatus     = false,\n              status         = false,\n              httpMessage    = false,\n              responder      = settings.mockResponse      || settings.response,\n              asyncResponder = settings.mockResponseAsync || settings.responseAsync,\n              asyncCallback,\n              response,\n              mockedXHR\n            ;\n\n            mockedXHR = $.Deferred()\n              .always(module.event.xhr.complete)\n              .done(module.event.xhr.done)\n              .fail(module.event.xhr.fail)\n            ;\n\n            if(responder) {\n              if( $.isFunction(responder) ) {\n                module.debug('Using specified synchronous callback', responder);\n                response = responder.call(context, requestSettings);\n              }\n              else {\n                module.debug('Using settings specified response', responder);\n                response = responder;\n              }\n              // simulating response\n              mockedXHR.resolveWith(context, [ response, textStatus, { responseText: response }]);\n            }\n            else if( $.isFunction(asyncResponder) ) {\n              asyncCallback = function(response) {\n                module.debug('Async callback returned response', response);\n\n                if(response) {\n                  mockedXHR.resolveWith(context, [ response, textStatus, { responseText: response }]);\n                }\n                else {\n                  mockedXHR.rejectWith(context, [{ responseText: response }, status, httpMessage]);\n                }\n              };\n              module.debug('Using specified async response callback', asyncResponder);\n              asyncResponder.call(context, requestSettings, asyncCallback);\n            }\n            return mockedXHR;\n          },\n\n          xhr: function() {\n            var\n              xhr\n            ;\n            // ajax request promise\n            xhr = $.ajax(ajaxSettings)\n              .always(module.event.xhr.always)\n              .done(module.event.xhr.done)\n              .fail(module.event.xhr.fail)\n            ;\n            module.verbose('Created server request', xhr, ajaxSettings);\n            return xhr;\n          }\n        },\n\n        set: {\n          error: function() {\n            module.verbose('Adding error state to element', $context);\n            $context.addClass(className.error);\n          },\n          loading: function() {\n            module.verbose('Adding loading state to element', $context);\n            $context.addClass(className.loading);\n            requestStartTime = new Date().getTime();\n          }\n        },\n\n        remove: {\n          error: function() {\n            module.verbose('Removing error state from element', $context);\n            $context.removeClass(className.error);\n          },\n          loading: function() {\n            module.verbose('Removing loading state from element', $context);\n            $context.removeClass(className.loading);\n          }\n        },\n\n        get: {\n          responseFromXHR: function(xhr) {\n            return $.isPlainObject(xhr)\n              ? (module.is.expectingJSON())\n                ? module.decode.json(xhr.responseText)\n                : xhr.responseText\n              : false\n            ;\n          },\n          errorFromRequest: function(response, status, httpMessage) {\n            return ($.isPlainObject(response) && response.error !== undefined)\n              ? response.error // use json error message\n              : (settings.error[status] !== undefined) // use server error message\n                ? settings.error[status]\n                : httpMessage\n            ;\n          },\n          request: function() {\n            return module.request || false;\n          },\n          xhr: function() {\n            return module.xhr || false;\n          },\n          settings: function() {\n            var\n              runSettings\n            ;\n            runSettings = settings.beforeSend.call($module, settings);\n            if(runSettings) {\n              if(runSettings.success !== undefined) {\n                module.debug('Legacy success callback detected', runSettings);\n                module.error(error.legacyParameters, runSettings.success);\n                runSettings.onSuccess = runSettings.success;\n              }\n              if(runSettings.failure !== undefined) {\n                module.debug('Legacy failure callback detected', runSettings);\n                module.error(error.legacyParameters, runSettings.failure);\n                runSettings.onFailure = runSettings.failure;\n              }\n              if(runSettings.complete !== undefined) {\n                module.debug('Legacy complete callback detected', runSettings);\n                module.error(error.legacyParameters, runSettings.complete);\n                runSettings.onComplete = runSettings.complete;\n              }\n            }\n            if(runSettings === undefined) {\n              module.error(error.noReturnedValue);\n            }\n            if(runSettings === false) {\n              return runSettings;\n            }\n            return (runSettings !== undefined)\n              ? $.extend(true, {}, runSettings)\n              : $.extend(true, {}, settings)\n            ;\n          },\n          urlEncodedValue: function(value) {\n            var\n              decodedValue   = window.decodeURIComponent(value),\n              encodedValue   = window.encodeURIComponent(value),\n              alreadyEncoded = (decodedValue !== value)\n            ;\n            if(alreadyEncoded) {\n              module.debug('URL value is already encoded, avoiding double encoding', value);\n              return value;\n            }\n            module.verbose('Encoding value using encodeURIComponent', value, encodedValue);\n            return encodedValue;\n          },\n          defaultData: function() {\n            var\n              data = {}\n            ;\n            if( !$.isWindow(element) ) {\n              if( module.is.input() ) {\n                data.value = $module.val();\n              }\n              else if( module.is.form() ) {\n\n              }\n              else {\n                data.text = $module.text();\n              }\n            }\n            return data;\n          },\n          event: function() {\n            if( $.isWindow(element) || settings.on == 'now' ) {\n              module.debug('API called without element, no events attached');\n              return false;\n            }\n            else if(settings.on == 'auto') {\n              if( $module.is('input') ) {\n                return (element.oninput !== undefined)\n                  ? 'input'\n                  : (element.onpropertychange !== undefined)\n                    ? 'propertychange'\n                    : 'keyup'\n                ;\n              }\n              else if( $module.is('form') ) {\n                return 'submit';\n              }\n              else {\n                return 'click';\n              }\n            }\n            else {\n              return settings.on;\n            }\n          },\n          templatedURL: function(action) {\n            action = action || $module.data(metadata.action) || settings.action || false;\n            url    = $module.data(metadata.url) || settings.url || false;\n            if(url) {\n              module.debug('Using specified url', url);\n              return url;\n            }\n            if(action) {\n              module.debug('Looking up url for action', action, settings.api);\n              if(settings.api[action] === undefined && !module.is.mocked()) {\n                module.error(error.missingAction, settings.action, settings.api);\n                return;\n              }\n              url = settings.api[action];\n            }\n            else if( module.is.form() ) {\n              url = $module.attr('action') || $context.attr('action') || false;\n              module.debug('No url or action specified, defaulting to form action', url);\n            }\n            return url;\n          }\n        },\n\n        abort: function() {\n          var\n            xhr = module.get.xhr()\n          ;\n          if( xhr && xhr.state() !== 'resolved') {\n            module.debug('Cancelling API request');\n            xhr.abort();\n          }\n        },\n\n        // reset state\n        reset: function() {\n          module.remove.error();\n          module.remove.loading();\n        },\n\n        setting: function(name, value) {\n          module.debug('Changing setting', name, value);\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            if($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            }\n            else {\n              settings[name] = value;\n            }\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                //'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n          if ( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if(Array.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      };\n\n      if(methodInvoked) {\n        if(instance === undefined) {\n          module.initialize();\n        }\n        module.invoke(query);\n      }\n      else {\n        if(instance !== undefined) {\n          instance.invoke('destroy');\n        }\n        module.initialize();\n      }\n    })\n  ;\n\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n$.api.settings = {\n\n  name              : 'API',\n  namespace         : 'api',\n\n  debug             : false,\n  verbose           : false,\n  performance       : true,\n\n  // object containing all templates endpoints\n  api               : {},\n\n  // whether to cache responses\n  cache             : true,\n\n  // whether new requests should abort previous requests\n  interruptRequests : true,\n\n  // event binding\n  on                : 'auto',\n\n  // context for applying state classes\n  stateContext      : false,\n\n  // duration for loading state\n  loadingDuration   : 0,\n\n  // whether to hide errors after a period of time\n  hideError         : 'auto',\n\n  // duration for error state\n  errorDuration     : 2000,\n\n  // whether parameters should be encoded with encodeURIComponent\n  encodeParameters  : true,\n\n  // API action to use\n  action            : false,\n\n  // templated URL to use\n  url               : false,\n\n  // base URL to apply to all endpoints\n  base              : '',\n\n  // data that will\n  urlData           : {},\n\n  // whether to add default data to url data\n  defaultData          : true,\n\n  // whether to serialize closest form\n  serializeForm        : false,\n\n  // how long to wait before request should occur\n  throttle             : 0,\n\n  // whether to throttle first request or only repeated\n  throttleFirstRequest : true,\n\n  // standard ajax settings\n  method            : 'get',\n  data              : {},\n  dataType          : 'json',\n\n  // mock response\n  mockResponse      : false,\n  mockResponseAsync : false,\n\n  // aliases for mock\n  response          : false,\n  responseAsync     : false,\n\n// whether onResponse should work with response value without force converting into an object\n  rawResponse       : false,\n\n  // callbacks before request\n  beforeSend  : function(settings) { return settings; },\n  beforeXHR   : function(xhr) {},\n  onRequest   : function(promise, xhr) {},\n\n  // after request\n  onResponse  : false, // function(response) { },\n\n  // response was successful, if JSON passed validation\n  onSuccess   : function(response, $module) {},\n\n  // request finished without aborting\n  onComplete  : function(response, $module) {},\n\n  // failed JSON success test\n  onFailure   : function(response, $module) {},\n\n  // server error\n  onError     : function(errorMessage, $module) {},\n\n  // request aborted\n  onAbort     : function(errorMessage, $module) {},\n\n  successTest : false,\n\n  // errors\n  error : {\n    beforeSend        : 'The before send function has aborted the request',\n    error             : 'There was an error with your request',\n    exitConditions    : 'API Request Aborted. Exit conditions met',\n    JSONParse         : 'JSON could not be parsed during error handling',\n    legacyParameters  : 'You are using legacy API success callback names',\n    method            : 'The method you called is not defined',\n    missingAction     : 'API action used but no url was defined',\n    missingSerialize  : 'jquery-serialize-object is required to add form data to an existing data object',\n    missingURL        : 'No URL specified for api event',\n    noReturnedValue   : 'The beforeSend callback must return a settings object, beforeSend ignored.',\n    noStorage         : 'Caching responses locally requires session storage',\n    parseError        : 'There was an error parsing your request',\n    requiredParameter : 'Missing a required URL parameter: ',\n    statusMessage     : 'Server gave an error: ',\n    timeout           : 'Your request timed out'\n  },\n\n  regExp  : {\n    required : /\\{\\$*[A-z0-9]+\\}/g,\n    optional : /\\{\\/\\$*[A-z0-9]+\\}/g,\n  },\n\n  className: {\n    loading : 'loading',\n    error   : 'error'\n  },\n\n  selector: {\n    disabled : '.disabled',\n    form      : 'form'\n  },\n\n  metadata: {\n    action  : 'action',\n    url     : 'url'\n  }\n};\n\n\n\n})( jQuery, window, document );\n\n/*!\n * # Fomantic-UI 2.8.8 - State\n * http://github.com/fomantic/Fomantic-UI/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n\"use strict\";\n\n$.isFunction = $.isFunction || function(obj) {\n  return typeof obj === \"function\" && typeof obj.nodeType !== \"number\";\n};\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\n$.fn.state = function(parameters) {\n  var\n    $allModules     = $(this),\n\n    moduleSelector  = $allModules.selector || '',\n\n    time            = new Date().getTime(),\n    performance     = [],\n\n    query           = arguments[0],\n    methodInvoked   = (typeof query == 'string'),\n    queryArguments  = [].slice.call(arguments, 1),\n\n    returnedValue\n  ;\n  $allModules\n    .each(function() {\n      var\n        settings          = ( $.isPlainObject(parameters) )\n          ? $.extend(true, {}, $.fn.state.settings, parameters)\n          : $.extend({}, $.fn.state.settings),\n\n        error           = settings.error,\n        metadata        = settings.metadata,\n        className       = settings.className,\n        namespace       = settings.namespace,\n        states          = settings.states,\n        text            = settings.text,\n\n        eventNamespace  = '.' + namespace,\n        moduleNamespace = namespace + '-module',\n\n        $module         = $(this),\n\n        element         = this,\n        instance        = $module.data(moduleNamespace),\n\n        module\n      ;\n      module = {\n\n        initialize: function() {\n          module.verbose('Initializing module');\n\n          // allow module to guess desired state based on element\n          if(settings.automatic) {\n            module.add.defaults();\n          }\n\n          // bind events with delegated events\n          if(settings.context && moduleSelector !== '') {\n            $(settings.context)\n              .on(moduleSelector, 'mouseenter' + eventNamespace, module.change.text)\n              .on(moduleSelector, 'mouseleave' + eventNamespace, module.reset.text)\n              .on(moduleSelector, 'click'      + eventNamespace, module.toggle.state)\n            ;\n          }\n          else {\n            $module\n              .on('mouseenter' + eventNamespace, module.change.text)\n              .on('mouseleave' + eventNamespace, module.reset.text)\n              .on('click'      + eventNamespace, module.toggle.state)\n            ;\n          }\n          module.instantiate();\n        },\n\n        instantiate: function() {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module\n            .data(moduleNamespace, module)\n          ;\n        },\n\n        destroy: function() {\n          module.verbose('Destroying previous module', instance);\n          $module\n            .off(eventNamespace)\n            .removeData(moduleNamespace)\n          ;\n        },\n\n        refresh: function() {\n          module.verbose('Refreshing selector cache');\n          $module = $(element);\n        },\n\n        add: {\n          defaults: function() {\n            var\n              userStates = parameters && $.isPlainObject(parameters.states)\n                ? parameters.states\n                : {}\n            ;\n            $.each(settings.defaults, function(type, typeStates) {\n              if( module.is[type] !== undefined && module.is[type]() ) {\n                module.verbose('Adding default states', type, element);\n                $.extend(settings.states, typeStates, userStates);\n              }\n            });\n          }\n        },\n\n        is: {\n\n          active: function() {\n            return $module.hasClass(className.active);\n          },\n          loading: function() {\n            return $module.hasClass(className.loading);\n          },\n          inactive: function() {\n            return !( $module.hasClass(className.active) );\n          },\n          state: function(state) {\n            if(className[state] === undefined) {\n              return false;\n            }\n            return $module.hasClass( className[state] );\n          },\n\n          enabled: function() {\n            return !( $module.is(settings.filter.active) );\n          },\n          disabled: function() {\n            return ( $module.is(settings.filter.active) );\n          },\n          textEnabled: function() {\n            return !( $module.is(settings.filter.text) );\n          },\n\n          // definitions for automatic type detection\n          button: function() {\n            return $module.is('.button:not(a, .submit)');\n          },\n          input: function() {\n            return $module.is('input');\n          },\n          progress: function() {\n            return $module.is('.ui.progress');\n          }\n        },\n\n        allow: function(state) {\n          module.debug('Now allowing state', state);\n          states[state] = true;\n        },\n        disallow: function(state) {\n          module.debug('No longer allowing', state);\n          states[state] = false;\n        },\n\n        allows: function(state) {\n          return states[state] || false;\n        },\n\n        enable: function() {\n          $module.removeClass(className.disabled);\n        },\n\n        disable: function() {\n          $module.addClass(className.disabled);\n        },\n\n        setState: function(state) {\n          if(module.allows(state)) {\n            $module.addClass( className[state] );\n          }\n        },\n\n        removeState: function(state) {\n          if(module.allows(state)) {\n            $module.removeClass( className[state] );\n          }\n        },\n\n        toggle: {\n          state: function() {\n            var\n              apiRequest,\n              requestCancelled\n            ;\n            if( module.allows('active') && module.is.enabled() ) {\n              module.refresh();\n              if($.fn.api !== undefined) {\n                apiRequest       = $module.api('get request');\n                requestCancelled = $module.api('was cancelled');\n                if( requestCancelled ) {\n                  module.debug('API Request cancelled by beforesend');\n                  settings.activateTest   = function(){ return false; };\n                  settings.deactivateTest = function(){ return false; };\n                }\n                else if(apiRequest) {\n                  module.listenTo(apiRequest);\n                  return;\n                }\n              }\n              module.change.state();\n            }\n          }\n        },\n\n        listenTo: function(apiRequest) {\n          module.debug('API request detected, waiting for state signal', apiRequest);\n          if(apiRequest) {\n            if(text.loading) {\n              module.update.text(text.loading);\n            }\n            $.when(apiRequest)\n              .then(function() {\n                if(apiRequest.state() == 'resolved') {\n                  module.debug('API request succeeded');\n                  settings.activateTest   = function(){ return true; };\n                  settings.deactivateTest = function(){ return true; };\n                }\n                else {\n                  module.debug('API request failed');\n                  settings.activateTest   = function(){ return false; };\n                  settings.deactivateTest = function(){ return false; };\n                }\n                module.change.state();\n              })\n            ;\n          }\n        },\n\n        // checks whether active/inactive state can be given\n        change: {\n\n          state: function() {\n            module.debug('Determining state change direction');\n            // inactive to active change\n            if( module.is.inactive() ) {\n              module.activate();\n            }\n            else {\n              module.deactivate();\n            }\n            if(settings.sync) {\n              module.sync();\n            }\n            settings.onChange.call(element);\n          },\n\n          text: function() {\n            if( module.is.textEnabled() ) {\n              if(module.is.disabled() ) {\n                module.verbose('Changing text to disabled text', text.hover);\n                module.update.text(text.disabled);\n              }\n              else if( module.is.active() ) {\n                if(text.hover) {\n                  module.verbose('Changing text to hover text', text.hover);\n                  module.update.text(text.hover);\n                }\n                else if(text.deactivate) {\n                  module.verbose('Changing text to deactivating text', text.deactivate);\n                  module.update.text(text.deactivate);\n                }\n              }\n              else {\n                if(text.hover) {\n                  module.verbose('Changing text to hover text', text.hover);\n                  module.update.text(text.hover);\n                }\n                else if(text.activate){\n                  module.verbose('Changing text to activating text', text.activate);\n                  module.update.text(text.activate);\n                }\n              }\n            }\n          }\n\n        },\n\n        activate: function() {\n          if( settings.activateTest.call(element) ) {\n            module.debug('Setting state to active');\n            $module\n              .addClass(className.active)\n            ;\n            module.update.text(text.active);\n            settings.onActivate.call(element);\n          }\n        },\n\n        deactivate: function() {\n          if( settings.deactivateTest.call(element) ) {\n            module.debug('Setting state to inactive');\n            $module\n              .removeClass(className.active)\n            ;\n            module.update.text(text.inactive);\n            settings.onDeactivate.call(element);\n          }\n        },\n\n        sync: function() {\n          module.verbose('Syncing other buttons to current state');\n          if( module.is.active() ) {\n            $allModules\n              .not($module)\n                .state('activate');\n          }\n          else {\n            $allModules\n              .not($module)\n                .state('deactivate')\n            ;\n          }\n        },\n\n        get: {\n          text: function() {\n            return (settings.selector.text)\n              ? $module.find(settings.selector.text).text()\n              : $module.html()\n            ;\n          },\n          textFor: function(state) {\n            return text[state] || false;\n          }\n        },\n\n        flash: {\n          text: function(text, duration, callback) {\n            var\n              previousText = module.get.text()\n            ;\n            module.debug('Flashing text message', text, duration);\n            text     = text     || settings.text.flash;\n            duration = duration || settings.flashDuration;\n            callback = callback || function() {};\n            module.update.text(text);\n            setTimeout(function(){\n              module.update.text(previousText);\n              callback.call(element);\n            }, duration);\n          }\n        },\n\n        reset: {\n          // on mouseout sets text to previous value\n          text: function() {\n            var\n              activeText   = text.active   || $module.data(metadata.storedText),\n              inactiveText = text.inactive || $module.data(metadata.storedText)\n            ;\n            if( module.is.textEnabled() ) {\n              if( module.is.active() && activeText) {\n                module.verbose('Resetting active text', activeText);\n                module.update.text(activeText);\n              }\n              else if(inactiveText) {\n                module.verbose('Resetting inactive text', activeText);\n                module.update.text(inactiveText);\n              }\n            }\n          }\n        },\n\n        update: {\n          text: function(text) {\n            var\n              currentText = module.get.text()\n            ;\n            if(text && text !== currentText) {\n              module.debug('Updating text', text);\n              if(settings.selector.text) {\n                $module\n                  .data(metadata.storedText, text)\n                  .find(settings.selector.text)\n                    .text(text)\n                ;\n              }\n              else {\n                $module\n                  .data(metadata.storedText, text)\n                  .html(text)\n                ;\n              }\n            }\n            else {\n              module.debug('Text is already set, ignoring update', text);\n            }\n          }\n        },\n\n        setting: function(name, value) {\n          module.debug('Changing setting', name, value);\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            if($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            }\n            else {\n              settings[name] = value;\n            }\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n          if ( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if(Array.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      };\n\n      if(methodInvoked) {\n        if(instance === undefined) {\n          module.initialize();\n        }\n        module.invoke(query);\n      }\n      else {\n        if(instance !== undefined) {\n          instance.invoke('destroy');\n        }\n        module.initialize();\n      }\n    })\n  ;\n\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n$.fn.state.settings = {\n\n  // module info\n  name           : 'State',\n\n  // debug output\n  debug          : false,\n\n  // verbose debug output\n  verbose        : false,\n\n  // namespace for events\n  namespace      : 'state',\n\n  // debug data includes performance\n  performance    : true,\n\n  // callback occurs on state change\n  onActivate     : function() {},\n  onDeactivate   : function() {},\n  onChange       : function() {},\n\n  // state test functions\n  activateTest   : function() { return true; },\n  deactivateTest : function() { return true; },\n\n  // whether to automatically map default states\n  automatic      : true,\n\n  // activate / deactivate changes all elements instantiated at same time\n  sync           : false,\n\n  // default flash text duration, used for temporarily changing text of an element\n  flashDuration  : 1000,\n\n  // selector filter\n  filter     : {\n    text   : '.loading, .disabled',\n    active : '.disabled'\n  },\n\n  context    : false,\n\n  // error\n  error: {\n    beforeSend : 'The before send function has cancelled state change',\n    method     : 'The method you called is not defined.'\n  },\n\n  // metadata\n  metadata: {\n    promise    : 'promise',\n    storedText : 'stored-text'\n  },\n\n  // change class on state\n  className: {\n    active   : 'active',\n    disabled : 'disabled',\n    error    : 'error',\n    loading  : 'loading',\n    success  : 'success',\n    warning  : 'warning'\n  },\n\n  selector: {\n    // selector for text node\n    text: false\n  },\n\n  defaults : {\n    input: {\n      disabled : true,\n      loading  : true,\n      active   : true\n    },\n    button: {\n      disabled : true,\n      loading  : true,\n      active   : true,\n    },\n    progress: {\n      active   : true,\n      success  : true,\n      warning  : true,\n      error    : true\n    }\n  },\n\n  states     : {\n    active   : true,\n    disabled : true,\n    error    : true,\n    loading  : true,\n    success  : true,\n    warning  : true\n  },\n\n  text     : {\n    disabled   : false,\n    flash      : false,\n    hover      : false,\n    active     : false,\n    inactive   : false,\n    activate   : false,\n    deactivate : false\n  }\n\n};\n\n\n\n})( jQuery, window, document );\n\n/*!\n * # Fomantic-UI 2.8.8 - Visibility\n * http://github.com/fomantic/Fomantic-UI/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n'use strict';\n\n$.isFunction = $.isFunction || function(obj) {\n  return typeof obj === \"function\" && typeof obj.nodeType !== \"number\";\n};\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\n$.fn.visibility = function(parameters) {\n  var\n    $allModules    = $(this),\n    moduleSelector = $allModules.selector || '',\n\n    time           = new Date().getTime(),\n    performance    = [],\n\n    query          = arguments[0],\n    methodInvoked  = (typeof query == 'string'),\n    queryArguments = [].slice.call(arguments, 1),\n    returnedValue,\n\n    moduleCount    = $allModules.length,\n    loadedCount    = 0\n  ;\n\n  $allModules\n    .each(function() {\n      var\n        settings        = ( $.isPlainObject(parameters) )\n          ? $.extend(true, {}, $.fn.visibility.settings, parameters)\n          : $.extend({}, $.fn.visibility.settings),\n\n        className       = settings.className,\n        namespace       = settings.namespace,\n        error           = settings.error,\n        metadata        = settings.metadata,\n\n        eventNamespace  = '.' + namespace,\n        moduleNamespace = 'module-' + namespace,\n\n        $window         = $(window),\n\n        $module         = $(this),\n        $context        = $(settings.context),\n\n        $placeholder,\n\n        instance        = $module.data(moduleNamespace),\n\n        requestAnimationFrame = window.requestAnimationFrame\n          || window.mozRequestAnimationFrame\n          || window.webkitRequestAnimationFrame\n          || window.msRequestAnimationFrame\n          || function(callback) { setTimeout(callback, 0); },\n\n        element         = this,\n        disabled        = false,\n\n        contextObserver,\n        observer,\n        module\n      ;\n\n      module = {\n\n        initialize: function() {\n          module.debug('Initializing', settings);\n\n          module.setup.cache();\n\n          if( module.should.trackChanges() ) {\n\n            if(settings.type == 'image') {\n              module.setup.image();\n            }\n            if(settings.type == 'fixed') {\n              module.setup.fixed();\n            }\n\n            if(settings.observeChanges) {\n              module.observeChanges();\n            }\n            module.bind.events();\n          }\n\n          module.save.position();\n          if( !module.is.visible() ) {\n            module.error(error.visible, $module);\n          }\n\n          if(settings.initialCheck) {\n            module.checkVisibility();\n          }\n          module.instantiate();\n        },\n\n        instantiate: function() {\n          module.debug('Storing instance', module);\n          $module\n            .data(moduleNamespace, module)\n          ;\n          instance = module;\n        },\n\n        destroy: function() {\n          module.verbose('Destroying previous module');\n          if(observer) {\n            observer.disconnect();\n          }\n          if(contextObserver) {\n            contextObserver.disconnect();\n          }\n          $window\n            .off('load'   + eventNamespace, module.event.load)\n            .off('resize' + eventNamespace, module.event.resize)\n          ;\n          $context\n            .off('scroll'       + eventNamespace, module.event.scroll)\n            .off('scrollchange' + eventNamespace, module.event.scrollchange)\n          ;\n          if(settings.type == 'fixed') {\n            module.resetFixed();\n            module.remove.placeholder();\n          }\n          $module\n            .off(eventNamespace)\n            .removeData(moduleNamespace)\n          ;\n        },\n\n        observeChanges: function() {\n          if('MutationObserver' in window) {\n            contextObserver = new MutationObserver(module.event.contextChanged);\n            observer        = new MutationObserver(module.event.changed);\n            contextObserver.observe(document, {\n              childList : true,\n              subtree   : true\n            });\n            observer.observe(element, {\n              childList : true,\n              subtree   : true\n            });\n            module.debug('Setting up mutation observer', observer);\n          }\n        },\n\n        bind: {\n          events: function() {\n            module.verbose('Binding visibility events to scroll and resize');\n            if(settings.refreshOnLoad) {\n              $window\n                .on('load'   + eventNamespace, module.event.load)\n              ;\n            }\n            $window\n              .on('resize' + eventNamespace, module.event.resize)\n            ;\n            // pub/sub pattern\n            $context\n              .off('scroll'      + eventNamespace)\n              .on('scroll'       + eventNamespace, module.event.scroll)\n              .on('scrollchange' + eventNamespace, module.event.scrollchange)\n            ;\n          }\n        },\n\n        event: {\n          changed: function(mutations) {\n            module.verbose('DOM tree modified, updating visibility calculations');\n            module.timer = setTimeout(function() {\n              module.verbose('DOM tree modified, updating sticky menu');\n              module.refresh();\n            }, 100);\n          },\n          contextChanged: function(mutations) {\n            [].forEach.call(mutations, function(mutation) {\n              if(mutation.removedNodes) {\n                [].forEach.call(mutation.removedNodes, function(node) {\n                  if(node == element || $(node).find(element).length > 0) {\n                    module.debug('Element removed from DOM, tearing down events');\n                    module.destroy();\n                  }\n                });\n              }\n            });\n          },\n          resize: function() {\n            module.debug('Window resized');\n            if(settings.refreshOnResize) {\n              requestAnimationFrame(module.refresh);\n            }\n          },\n          load: function() {\n            module.debug('Page finished loading');\n            requestAnimationFrame(module.refresh);\n          },\n          // publishes scrollchange event on one scroll\n          scroll: function() {\n            if(settings.throttle) {\n              clearTimeout(module.timer);\n              module.timer = setTimeout(function() {\n                $context.triggerHandler('scrollchange' + eventNamespace, [ $context.scrollTop() ]);\n              }, settings.throttle);\n            }\n            else {\n              requestAnimationFrame(function() {\n                $context.triggerHandler('scrollchange' + eventNamespace, [ $context.scrollTop() ]);\n              });\n            }\n          },\n          // subscribes to scrollchange\n          scrollchange: function(event, scrollPosition) {\n            module.checkVisibility(scrollPosition);\n          },\n        },\n\n        precache: function(images, callback) {\n          if (!(images instanceof Array)) {\n            images = [images];\n          }\n          var\n            imagesLength  = images.length,\n            loadedCounter = 0,\n            cache         = [],\n            cacheImage    = document.createElement('img'),\n            handleLoad    = function() {\n              loadedCounter++;\n              if (loadedCounter >= images.length) {\n                if ($.isFunction(callback)) {\n                  callback();\n                }\n              }\n            }\n          ;\n          while (imagesLength--) {\n            cacheImage         = document.createElement('img');\n            cacheImage.onload  = handleLoad;\n            cacheImage.onerror = handleLoad;\n            cacheImage.src     = images[imagesLength];\n            cache.push(cacheImage);\n          }\n        },\n\n        enableCallbacks: function() {\n          module.debug('Allowing callbacks to occur');\n          disabled = false;\n        },\n\n        disableCallbacks: function() {\n          module.debug('Disabling all callbacks temporarily');\n          disabled = true;\n        },\n\n        should: {\n          trackChanges: function() {\n            if(methodInvoked) {\n              module.debug('One time query, no need to bind events');\n              return false;\n            }\n            module.debug('Callbacks being attached');\n            return true;\n          }\n        },\n\n        setup: {\n          cache: function() {\n            module.cache = {\n              occurred : {},\n              screen   : {},\n              element  : {},\n            };\n          },\n          image: function() {\n            var\n              src = $module.data(metadata.src)\n            ;\n            if(src) {\n              module.verbose('Lazy loading image', src);\n              settings.once           = true;\n              settings.observeChanges = false;\n\n              // show when top visible\n              settings.onOnScreen = function() {\n                module.debug('Image on screen', element);\n                module.precache(src, function() {\n                  module.set.image(src, function() {\n                    loadedCount++;\n                    if(loadedCount == moduleCount) {\n                      settings.onAllLoaded.call(this);\n                    }\n                    settings.onLoad.call(this);\n                  });\n                });\n              };\n            }\n          },\n          fixed: function() {\n            module.debug('Setting up fixed');\n            settings.once           = false;\n            settings.observeChanges = false;\n            settings.initialCheck   = true;\n            settings.refreshOnLoad  = true;\n            if(!parameters.transition) {\n              settings.transition = false;\n            }\n            module.create.placeholder();\n            module.debug('Added placeholder', $placeholder);\n            settings.onTopPassed = function() {\n              module.debug('Element passed, adding fixed position', $module);\n              module.show.placeholder();\n              module.set.fixed();\n              if(settings.transition) {\n                if($.fn.transition !== undefined) {\n                  $module.transition(settings.transition, settings.duration);\n                }\n              }\n            };\n            settings.onTopPassedReverse = function() {\n              module.debug('Element returned to position, removing fixed', $module);\n              module.hide.placeholder();\n              module.remove.fixed();\n            };\n          }\n        },\n\n        create: {\n          placeholder: function() {\n            module.verbose('Creating fixed position placeholder');\n            $placeholder = $module\n              .clone(false)\n              .css('display', 'none')\n              .addClass(className.placeholder)\n              .insertAfter($module)\n            ;\n          }\n        },\n\n        show: {\n          placeholder: function() {\n            module.verbose('Showing placeholder');\n            $placeholder\n              .css('display', 'block')\n              .css('visibility', 'hidden')\n            ;\n          }\n        },\n        hide: {\n          placeholder: function() {\n            module.verbose('Hiding placeholder');\n            $placeholder\n              .css('display', 'none')\n              .css('visibility', '')\n            ;\n          }\n        },\n\n        set: {\n          fixed: function() {\n            module.verbose('Setting element to fixed position');\n            $module\n              .addClass(className.fixed)\n              .css({\n                position : 'fixed',\n                top      : settings.offset + 'px',\n                left     : 'auto',\n                zIndex   : settings.zIndex\n              })\n            ;\n            settings.onFixed.call(element);\n          },\n          image: function(src, callback) {\n            $module\n              .attr('src', src)\n            ;\n            if(settings.transition) {\n              if( $.fn.transition !== undefined) {\n                if($module.hasClass(className.visible)) {\n                  module.debug('Transition already occurred on this image, skipping animation');\n                  return;\n                }\n                $module.transition(settings.transition, settings.duration, callback);\n              }\n              else {\n                $module.fadeIn(settings.duration, callback);\n              }\n            }\n            else {\n              $module.show();\n            }\n          }\n        },\n\n        is: {\n          onScreen: function() {\n            var\n              calculations   = module.get.elementCalculations()\n            ;\n            return calculations.onScreen;\n          },\n          offScreen: function() {\n            var\n              calculations   = module.get.elementCalculations()\n            ;\n            return calculations.offScreen;\n          },\n          visible: function() {\n            if(module.cache && module.cache.element) {\n              return !(module.cache.element.width === 0 && module.cache.element.offset.top === 0);\n            }\n            return false;\n          },\n          verticallyScrollableContext: function() {\n            var\n              overflowY = ($context.get(0) !== window)\n                ? $context.css('overflow-y')\n                : false\n            ;\n            return (overflowY == 'auto' || overflowY == 'scroll');\n          },\n          horizontallyScrollableContext: function() {\n            var\n              overflowX = ($context.get(0) !== window)\n                ? $context.css('overflow-x')\n                : false\n            ;\n            return (overflowX == 'auto' || overflowX == 'scroll');\n          }\n        },\n\n        refresh: function() {\n          module.debug('Refreshing constants (width/height)');\n          if(settings.type == 'fixed') {\n            module.resetFixed();\n          }\n          module.reset();\n          module.save.position();\n          if(settings.checkOnRefresh) {\n            module.checkVisibility();\n          }\n          settings.onRefresh.call(element);\n        },\n\n        resetFixed: function () {\n          module.remove.fixed();\n          module.remove.occurred();\n        },\n\n        reset: function() {\n          module.verbose('Resetting all cached values');\n          if( $.isPlainObject(module.cache) ) {\n            module.cache.screen = {};\n            module.cache.element = {};\n          }\n        },\n\n        checkVisibility: function(scroll) {\n          module.verbose('Checking visibility of element', module.cache.element);\n\n          if( !disabled && module.is.visible() ) {\n\n            // save scroll position\n            module.save.scroll(scroll);\n\n            // update calculations derived from scroll\n            module.save.calculations();\n\n            // percentage\n            module.passed();\n\n            // reverse (must be first)\n            module.passingReverse();\n            module.topVisibleReverse();\n            module.bottomVisibleReverse();\n            module.topPassedReverse();\n            module.bottomPassedReverse();\n\n            // one time\n            module.onScreen();\n            module.offScreen();\n            module.passing();\n            module.topVisible();\n            module.bottomVisible();\n            module.topPassed();\n            module.bottomPassed();\n\n            // on update callback\n            if(settings.onUpdate) {\n              settings.onUpdate.call(element, module.get.elementCalculations());\n            }\n          }\n        },\n\n        passed: function(amount, newCallback) {\n          var\n            calculations   = module.get.elementCalculations()\n          ;\n          // assign callback\n          if(amount && newCallback) {\n            settings.onPassed[amount] = newCallback;\n          }\n          else if(amount !== undefined) {\n            return (module.get.pixelsPassed(amount) > calculations.pixelsPassed);\n          }\n          else if(calculations.passing) {\n            $.each(settings.onPassed, function(amount, callback) {\n              if(calculations.bottomVisible || calculations.pixelsPassed > module.get.pixelsPassed(amount)) {\n                module.execute(callback, amount);\n              }\n              else if(!settings.once) {\n                module.remove.occurred(callback);\n              }\n            });\n          }\n        },\n\n        onScreen: function(newCallback) {\n          var\n            calculations = module.get.elementCalculations(),\n            callback     = newCallback || settings.onOnScreen,\n            callbackName = 'onScreen'\n          ;\n          if(newCallback) {\n            module.debug('Adding callback for onScreen', newCallback);\n            settings.onOnScreen = newCallback;\n          }\n          if(calculations.onScreen) {\n            module.execute(callback, callbackName);\n          }\n          else if(!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n          if(newCallback !== undefined) {\n            return calculations.onOnScreen;\n          }\n        },\n\n        offScreen: function(newCallback) {\n          var\n            calculations = module.get.elementCalculations(),\n            callback     = newCallback || settings.onOffScreen,\n            callbackName = 'offScreen'\n          ;\n          if(newCallback) {\n            module.debug('Adding callback for offScreen', newCallback);\n            settings.onOffScreen = newCallback;\n          }\n          if(calculations.offScreen) {\n            module.execute(callback, callbackName);\n          }\n          else if(!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n          if(newCallback !== undefined) {\n            return calculations.onOffScreen;\n          }\n        },\n\n        passing: function(newCallback) {\n          var\n            calculations = module.get.elementCalculations(),\n            callback     = newCallback || settings.onPassing,\n            callbackName = 'passing'\n          ;\n          if(newCallback) {\n            module.debug('Adding callback for passing', newCallback);\n            settings.onPassing = newCallback;\n          }\n          if(calculations.passing) {\n            module.execute(callback, callbackName);\n          }\n          else if(!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n          if(newCallback !== undefined) {\n            return calculations.passing;\n          }\n        },\n\n\n        topVisible: function(newCallback) {\n          var\n            calculations = module.get.elementCalculations(),\n            callback     = newCallback || settings.onTopVisible,\n            callbackName = 'topVisible'\n          ;\n          if(newCallback) {\n            module.debug('Adding callback for top visible', newCallback);\n            settings.onTopVisible = newCallback;\n          }\n          if(calculations.topVisible) {\n            module.execute(callback, callbackName);\n          }\n          else if(!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n          if(newCallback === undefined) {\n            return calculations.topVisible;\n          }\n        },\n\n        bottomVisible: function(newCallback) {\n          var\n            calculations = module.get.elementCalculations(),\n            callback     = newCallback || settings.onBottomVisible,\n            callbackName = 'bottomVisible'\n          ;\n          if(newCallback) {\n            module.debug('Adding callback for bottom visible', newCallback);\n            settings.onBottomVisible = newCallback;\n          }\n          if(calculations.bottomVisible) {\n            module.execute(callback, callbackName);\n          }\n          else if(!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n          if(newCallback === undefined) {\n            return calculations.bottomVisible;\n          }\n        },\n\n        topPassed: function(newCallback) {\n          var\n            calculations = module.get.elementCalculations(),\n            callback     = newCallback || settings.onTopPassed,\n            callbackName = 'topPassed'\n          ;\n          if(newCallback) {\n            module.debug('Adding callback for top passed', newCallback);\n            settings.onTopPassed = newCallback;\n          }\n          if(calculations.topPassed) {\n            module.execute(callback, callbackName);\n          }\n          else if(!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n          if(newCallback === undefined) {\n            return calculations.topPassed;\n          }\n        },\n\n        bottomPassed: function(newCallback) {\n          var\n            calculations = module.get.elementCalculations(),\n            callback     = newCallback || settings.onBottomPassed,\n            callbackName = 'bottomPassed'\n          ;\n          if(newCallback) {\n            module.debug('Adding callback for bottom passed', newCallback);\n            settings.onBottomPassed = newCallback;\n          }\n          if(calculations.bottomPassed) {\n            module.execute(callback, callbackName);\n          }\n          else if(!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n          if(newCallback === undefined) {\n            return calculations.bottomPassed;\n          }\n        },\n\n        passingReverse: function(newCallback) {\n          var\n            calculations = module.get.elementCalculations(),\n            callback     = newCallback || settings.onPassingReverse,\n            callbackName = 'passingReverse'\n          ;\n          if(newCallback) {\n            module.debug('Adding callback for passing reverse', newCallback);\n            settings.onPassingReverse = newCallback;\n          }\n          if(!calculations.passing) {\n            if(module.get.occurred('passing')) {\n              module.execute(callback, callbackName);\n            }\n          }\n          else if(!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n          if(newCallback !== undefined) {\n            return !calculations.passing;\n          }\n        },\n\n\n        topVisibleReverse: function(newCallback) {\n          var\n            calculations = module.get.elementCalculations(),\n            callback     = newCallback || settings.onTopVisibleReverse,\n            callbackName = 'topVisibleReverse'\n          ;\n          if(newCallback) {\n            module.debug('Adding callback for top visible reverse', newCallback);\n            settings.onTopVisibleReverse = newCallback;\n          }\n          if(!calculations.topVisible) {\n            if(module.get.occurred('topVisible')) {\n              module.execute(callback, callbackName);\n            }\n          }\n          else if(!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n          if(newCallback === undefined) {\n            return !calculations.topVisible;\n          }\n        },\n\n        bottomVisibleReverse: function(newCallback) {\n          var\n            calculations = module.get.elementCalculations(),\n            callback     = newCallback || settings.onBottomVisibleReverse,\n            callbackName = 'bottomVisibleReverse'\n          ;\n          if(newCallback) {\n            module.debug('Adding callback for bottom visible reverse', newCallback);\n            settings.onBottomVisibleReverse = newCallback;\n          }\n          if(!calculations.bottomVisible) {\n            if(module.get.occurred('bottomVisible')) {\n              module.execute(callback, callbackName);\n            }\n          }\n          else if(!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n          if(newCallback === undefined) {\n            return !calculations.bottomVisible;\n          }\n        },\n\n        topPassedReverse: function(newCallback) {\n          var\n            calculations = module.get.elementCalculations(),\n            callback     = newCallback || settings.onTopPassedReverse,\n            callbackName = 'topPassedReverse'\n          ;\n          if(newCallback) {\n            module.debug('Adding callback for top passed reverse', newCallback);\n            settings.onTopPassedReverse = newCallback;\n          }\n          if(!calculations.topPassed) {\n            if(module.get.occurred('topPassed')) {\n              module.execute(callback, callbackName);\n            }\n          }\n          else if(!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n          if(newCallback === undefined) {\n            return !calculations.onTopPassed;\n          }\n        },\n\n        bottomPassedReverse: function(newCallback) {\n          var\n            calculations = module.get.elementCalculations(),\n            callback     = newCallback || settings.onBottomPassedReverse,\n            callbackName = 'bottomPassedReverse'\n          ;\n          if(newCallback) {\n            module.debug('Adding callback for bottom passed reverse', newCallback);\n            settings.onBottomPassedReverse = newCallback;\n          }\n          if(!calculations.bottomPassed) {\n            if(module.get.occurred('bottomPassed')) {\n              module.execute(callback, callbackName);\n            }\n          }\n          else if(!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n          if(newCallback === undefined) {\n            return !calculations.bottomPassed;\n          }\n        },\n\n        execute: function(callback, callbackName) {\n          var\n            calculations = module.get.elementCalculations(),\n            screen       = module.get.screenCalculations()\n          ;\n          callback = callback || false;\n          if(callback) {\n            if(settings.continuous) {\n              module.debug('Callback being called continuously', callbackName, calculations);\n              callback.call(element, calculations, screen);\n            }\n            else if(!module.get.occurred(callbackName)) {\n              module.debug('Conditions met', callbackName, calculations);\n              callback.call(element, calculations, screen);\n            }\n          }\n          module.save.occurred(callbackName);\n        },\n\n        remove: {\n          fixed: function() {\n            module.debug('Removing fixed position');\n            $module\n              .removeClass(className.fixed)\n              .css({\n                position : '',\n                top      : '',\n                left     : '',\n                zIndex   : ''\n              })\n            ;\n            settings.onUnfixed.call(element);\n          },\n          placeholder: function() {\n            module.debug('Removing placeholder content');\n            if($placeholder) {\n              $placeholder.remove();\n            }\n          },\n          occurred: function(callback) {\n            if(callback) {\n              var\n                occurred = module.cache.occurred\n              ;\n              if(occurred[callback] !== undefined && occurred[callback] === true) {\n                module.debug('Callback can now be called again', callback);\n                module.cache.occurred[callback] = false;\n              }\n            }\n            else {\n              module.cache.occurred = {};\n            }\n          }\n        },\n\n        save: {\n          calculations: function() {\n            module.verbose('Saving all calculations necessary to determine positioning');\n            module.save.direction();\n            module.save.screenCalculations();\n            module.save.elementCalculations();\n          },\n          occurred: function(callback) {\n            if(callback) {\n              if(module.cache.occurred[callback] === undefined || (module.cache.occurred[callback] !== true)) {\n                module.verbose('Saving callback occurred', callback);\n                module.cache.occurred[callback] = true;\n              }\n            }\n          },\n          scroll: function(scrollPosition) {\n            scrollPosition      = scrollPosition + settings.offset || $context.scrollTop() + settings.offset;\n            module.cache.scroll = scrollPosition;\n          },\n          direction: function() {\n            var\n              scroll     = module.get.scroll(),\n              lastScroll = module.get.lastScroll(),\n              direction\n            ;\n            if(scroll > lastScroll && lastScroll) {\n              direction = 'down';\n            }\n            else if(scroll < lastScroll && lastScroll) {\n              direction = 'up';\n            }\n            else {\n              direction = 'static';\n            }\n            module.cache.direction = direction;\n            return module.cache.direction;\n          },\n          elementPosition: function() {\n            var\n              element = module.cache.element,\n              screen  = module.get.screenSize()\n            ;\n            module.verbose('Saving element position');\n            // (quicker than $.extend)\n            element.fits          = (element.height < screen.height);\n            element.offset        = $module.offset();\n            element.width         = $module.outerWidth();\n            element.height        = $module.outerHeight();\n            // compensate for scroll in context\n            if(module.is.verticallyScrollableContext()) {\n              element.offset.top += $context.scrollTop() - $context.offset().top;\n            }\n            if(module.is.horizontallyScrollableContext()) {\n              element.offset.left += $context.scrollLeft() - $context.offset().left;\n            }\n            // store\n            module.cache.element = element;\n            return element;\n          },\n          elementCalculations: function() {\n            var\n              screen     = module.get.screenCalculations(),\n              element    = module.get.elementPosition()\n            ;\n            // offset\n            if(settings.includeMargin) {\n              element.margin        = {};\n              element.margin.top    = parseInt($module.css('margin-top'), 10);\n              element.margin.bottom = parseInt($module.css('margin-bottom'), 10);\n              element.top    = element.offset.top - element.margin.top;\n              element.bottom = element.offset.top + element.height + element.margin.bottom;\n            }\n            else {\n              element.top    = element.offset.top;\n              element.bottom = element.offset.top + element.height;\n            }\n\n            // visibility\n            element.topPassed        = (screen.top >= element.top);\n            element.bottomPassed     = (screen.top >= element.bottom);\n            element.topVisible       = (screen.bottom >= element.top) && !element.topPassed;\n            element.bottomVisible    = (screen.bottom >= element.bottom) && !element.bottomPassed;\n            element.pixelsPassed     = 0;\n            element.percentagePassed = 0;\n\n            // meta calculations\n            element.onScreen  = ((element.topVisible || element.passing) && !element.bottomPassed);\n            element.passing   = (element.topPassed && !element.bottomPassed);\n            element.offScreen = (!element.onScreen);\n\n            // passing calculations\n            if(element.passing) {\n              element.pixelsPassed     = (screen.top - element.top);\n              element.percentagePassed = (screen.top - element.top) / element.height;\n            }\n            module.cache.element = element;\n            module.verbose('Updated element calculations', element);\n            return element;\n          },\n          screenCalculations: function() {\n            var\n              scroll = module.get.scroll()\n            ;\n            module.save.direction();\n            module.cache.screen.top    = scroll;\n            module.cache.screen.bottom = scroll + module.cache.screen.height;\n            return module.cache.screen;\n          },\n          screenSize: function() {\n            module.verbose('Saving window position');\n            module.cache.screen = {\n              height: $context.height()\n            };\n          },\n          position: function() {\n            module.save.screenSize();\n            module.save.elementPosition();\n          }\n        },\n\n        get: {\n          pixelsPassed: function(amount) {\n            var\n              element = module.get.elementCalculations()\n            ;\n            if(amount.search('%') > -1) {\n              return ( element.height * (parseInt(amount, 10) / 100) );\n            }\n            return parseInt(amount, 10);\n          },\n          occurred: function(callback) {\n            return (module.cache.occurred !== undefined)\n              ? module.cache.occurred[callback] || false\n              : false\n            ;\n          },\n          direction: function() {\n            if(module.cache.direction === undefined) {\n              module.save.direction();\n            }\n            return module.cache.direction;\n          },\n          elementPosition: function() {\n            if(module.cache.element === undefined) {\n              module.save.elementPosition();\n            }\n            return module.cache.element;\n          },\n          elementCalculations: function() {\n            if(module.cache.element === undefined) {\n              module.save.elementCalculations();\n            }\n            return module.cache.element;\n          },\n          screenCalculations: function() {\n            if(module.cache.screen === undefined) {\n              module.save.screenCalculations();\n            }\n            return module.cache.screen;\n          },\n          screenSize: function() {\n            if(module.cache.screen === undefined) {\n              module.save.screenSize();\n            }\n            return module.cache.screen;\n          },\n          scroll: function() {\n            if(module.cache.scroll === undefined) {\n              module.save.scroll();\n            }\n            return module.cache.scroll;\n          },\n          lastScroll: function() {\n            if(module.cache.screen === undefined) {\n              module.debug('First scroll event, no last scroll could be found');\n              return false;\n            }\n            return module.cache.screen.top;\n          }\n        },\n\n        setting: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            settings[name] = value;\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n          if ( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if(Array.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      };\n\n      if(methodInvoked) {\n        if(instance === undefined) {\n          module.initialize();\n        }\n        instance.save.scroll();\n        instance.save.calculations();\n        module.invoke(query);\n      }\n      else {\n        if(instance !== undefined) {\n          instance.invoke('destroy');\n        }\n        module.initialize();\n      }\n    })\n  ;\n\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n$.fn.visibility.settings = {\n\n  name                   : 'Visibility',\n  namespace              : 'visibility',\n\n  debug                  : false,\n  verbose                : false,\n  performance            : true,\n\n  // whether to use mutation observers to follow changes\n  observeChanges         : true,\n\n  // check position immediately on init\n  initialCheck           : true,\n\n  // whether to refresh calculations after all page images load\n  refreshOnLoad          : true,\n\n  // whether to refresh calculations after page resize event\n  refreshOnResize        : true,\n\n  // should call callbacks on refresh event (resize, etc)\n  checkOnRefresh         : true,\n\n  // callback should only occur one time\n  once                   : true,\n\n  // callback should fire continuously whe evaluates to true\n  continuous             : false,\n\n  // offset to use with scroll top\n  offset                 : 0,\n\n  // whether to include margin in elements position\n  includeMargin          : false,\n\n  // scroll context for visibility checks\n  context                : window,\n\n  // visibility check delay in ms (defaults to animationFrame)\n  throttle               : false,\n\n  // special visibility type (image, fixed)\n  type                   : false,\n\n  // z-index to use with visibility 'fixed'\n  zIndex                 : '10',\n\n  // image only animation settings\n  transition             : 'fade in',\n  duration               : 1000,\n\n  // array of callbacks for percentage\n  onPassed               : {},\n\n  // standard callbacks\n  onOnScreen             : false,\n  onOffScreen            : false,\n  onPassing              : false,\n  onTopVisible           : false,\n  onBottomVisible        : false,\n  onTopPassed            : false,\n  onBottomPassed         : false,\n\n  // reverse callbacks\n  onPassingReverse       : false,\n  onTopVisibleReverse    : false,\n  onBottomVisibleReverse : false,\n  onTopPassedReverse     : false,\n  onBottomPassedReverse  : false,\n\n  // special callbacks for image\n  onLoad                 : function() {},\n  onAllLoaded            : function() {},\n\n  // special callbacks for fixed position\n  onFixed                : function() {},\n  onUnfixed              : function() {},\n\n  // utility callbacks\n  onUpdate               : false, // disabled by default for performance\n  onRefresh              : function(){},\n\n  metadata : {\n    src: 'src'\n  },\n\n  className: {\n    fixed       : 'fixed',\n    placeholder : 'constraint',\n    visible     : 'visible'\n  },\n\n  error : {\n    method  : 'The method you called is not defined.',\n    visible : 'Element is hidden, you must call refresh after element becomes visible'\n  }\n\n};\n\n})( jQuery, window, document );\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;AAAC,CAAC,UAAUA,CAAV,EAAaC,MAAb,EAAqBC,QAArB,EAA+BC,SAA/B,EAA0C;EAE5CH,CAAC,CAACI,UAAF,GAAeJ,CAAC,CAACI,UAAF,IAAgB,UAASC,GAAT,EAAc;IACzC,OAAO,OAAOA,GAAP,KAAe,UAAf,IAA6B,OAAOA,GAAG,CAACC,QAAX,KAAwB,QAA5D;EACH,CAFD;;EAIAN,CAAC,CAACO,IAAF,GAASP,CAAC,CAACQ,EAAF,CAAKD,IAAL,GAAY,UAASE,UAAT,EAAqB;IACxC,IACEC,IAAI,GAAa,IAAIC,IAAJ,GAAWC,OAAX,EADnB;IAAA,IAEEC,WAAW,GAAM,EAFnB;IAAA,IAIEC,KAAK,GAAYC,SAAS,CAAC,CAAD,CAJ5B;IAAA,IAKEC,aAAa,GAAK,OAAOF,KAAP,IAAgB,QALpC;IAAA,IAMEG,cAAc,GAAG,GAAGC,KAAH,CAASC,IAAT,CAAcJ,SAAd,EAAyB,CAAzB,CANnB;IAAA,IAQEK,QAAQ,GAAYpB,CAAC,CAACqB,aAAF,CAAgBZ,UAAhB,CAAF,GACdT,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAe,EAAf,EAAmBtB,CAAC,CAACO,IAAF,CAAOa,QAA1B,EAAoCX,UAApC,CADc,GAEdT,CAAC,CAACsB,MAAF,CAAS,EAAT,EAAatB,CAAC,CAACO,IAAF,CAAOa,QAApB,CAVN;IAAA,IAYEG,SAAS,GAASH,QAAQ,CAACG,SAZ7B;IAAA,IAaEC,KAAK,GAAaJ,QAAQ,CAACI,KAb7B;IAAA,IAeEC,eAAe,GAAG,YAAYF,SAfhC;IAAA,IAiBEG,SAAS,GAAS1B,CAAC,CAACE,QAAD,CAjBrB;IAAA,IAkBEyB,OAAO,GAAWD,SAlBpB;IAAA,IAmBEE,OAAO,GAAW,IAnBpB;IAAA,IAoBEC,QAAQ,GAAUF,OAAO,CAACG,IAAR,CAAaL,eAAb,CApBpB;IAAA,IAsBEM,MAtBF;IAAA,IAuBEC,aAvBF;IAyBAD,MAAM,GAAG;MAEPE,UAAU,EAAE,YAAW;QACrBF,MAAM,CAACG,WAAP;MACD,CAJM;MAMPA,WAAW,EAAE,YAAW;QACtBH,MAAM,CAACI,OAAP,CAAe,0BAAf,EAA2CJ,MAA3C;QACAF,QAAQ,GAAGE,MAAX;QACAJ,OAAO,CACJG,IADH,CACQL,eADR,EACyBM,MADzB;MAGD,CAZM;MAcPK,SAAS,EAAE,YAAW;QACpBL,MAAM,CAACM,GAAP,CAAWC,OAAX;QACAP,MAAM,CAACM,GAAP,CAAWE,qBAAX;MACD,CAjBM;MAmBPF,GAAG,EAAE;QACHC,OAAO,EAAE,YAAW;UAClBP,MAAM,CAACS,KAAP,CAAa,4BAAb;;UACA,IAAIF,OAAO,KAAKnC,SAAZ,IAAyBmC,OAAO,CAACG,GAAR,KAAgBtC,SAA7C,EAAwD;YACtD4B,MAAM,CAACI,OAAP,CAAe,2CAAf;YACAJ,MAAM,CAACW,OAAP,CAAeJ,OAAf;UACD;;UACD,IAAI,OAAOA,OAAO,CAACK,KAAf,IAAwB,WAAxB,IAAuC,OAAOL,OAAO,CAACM,QAAf,IAA2B,WAAlE,IAAiF,OAAON,OAAO,CAACO,cAAf,IAAiC,WAAtH,EAAmI;YACjId,MAAM,CAACI,OAAP,CAAe,iDAAf;;YACAlC,MAAM,CAACqC,OAAP,CAAeK,KAAf,GAAuB,YAAW,CAAE,CAApC;;YACA1C,MAAM,CAACqC,OAAP,CAAeM,QAAf,GAA0B,YAAW,CAAE,CAAvC;;YACA3C,MAAM,CAACqC,OAAP,CAAeO,cAAf,GAAgC,YAAW,CAAE,CAA7C;UACD;;UACD,IAAI,OAAOP,OAAO,CAACQ,YAAf,IAA+B,WAAnC,EAAgD;YAC9Cf,MAAM,CAACI,OAAP,CAAe,iDAAf;;YACAlC,MAAM,CAACqC,OAAP,CAAeQ,YAAf,GAA8B,YAAW,CAAE,CAA3C;UACD;QACF,CAjBE;QAkBHC,YAAY,EAAE,YAAW;UACvBhB,MAAM,CAACS,KAAP,CAAa,yCAAb;;UACAvC,MAAM,CAACqC,OAAP,CAAeU,KAAf,GAAuB,YAAW,CAAE,CAApC;QACD,CArBE;QAsBHT,qBAAqB,EAAE,YAAW;UAChCR,MAAM,CAACS,KAAP,CAAa,mCAAb;;UACA,IAAGvC,MAAM,CAACsC,qBAAP,KAAiCpC,SAApC,EAA+C;YAC7C4B,MAAM,CAACS,KAAP,CAAa,wDAAb;;YACAvC,MAAM,CAACsC,qBAAP,GAA+BtC,MAAM,CAACsC,qBAAP,IAC1BtC,MAAM,CAACgD,wBADmB,IAE1BhD,MAAM,CAACiD,2BAFmB,IAG1BjD,MAAM,CAACkD,uBAHmB,IAI1B,UAASC,QAAT,EAAmB;cAAEC,UAAU,CAACD,QAAD,EAAW,CAAX,CAAV;YAA0B,CAJpD;UAMD;QACF;MAjCE,CAnBE;MAuDPE,YAAY,EAAE,UAASC,IAAT,EAAe;QAC3B,OAAQvD,CAAC,CAACQ,EAAF,CAAK+C,IAAL,MAAepD,SAAf,IAA4BH,CAAC,CAACQ,EAAF,CAAK+C,IAAL,EAAWnC,QAAX,KAAwBjB,SAA5D;MACD,CAzDM;MA2DPqD,OAAO,EAAE;QACPC,OAAO,EAAE,UAASA,OAAT,EAAkB;UACzB,IACEC,cAAc,GAAG,EADnB;UAGAD,OAAO,GAAGA,OAAO,IAAIrC,QAAQ,CAACqC,OAA9B;UACAzD,CAAC,CAAC2D,IAAF,CAAOF,OAAP,EAAgB,UAASG,KAAT,EAAgBL,IAAhB,EAAsB;YACpC,IAAGxB,MAAM,CAACuB,YAAP,CAAoBC,IAApB,CAAH,EAA8B;cAC5BG,cAAc,CAACG,IAAf,CAAoBN,IAApB;YACD;UACF,CAJD;UAKA,OAAOG,cAAP;QACD;MAZM,CA3DF;MA0EPI,QAAQ,EAAE;QACRL,OAAO,EAAE,UAASA,OAAT,EAAkB;UACzB,IACEM,eAAe,GAAG,EADpB;UAGAN,OAAO,GAAGA,OAAO,IAAIrC,QAAQ,CAACqC,OAA9B;UACAzD,CAAC,CAAC2D,IAAF,CAAOF,OAAP,EAAgB,UAASG,KAAT,EAAgBL,IAAhB,EAAsB;YACpC,IAAG,CAACxB,MAAM,CAACuB,YAAP,CAAoBC,IAApB,CAAJ,EAA+B;cAC7BQ,eAAe,CAACF,IAAhB,CAAqBN,IAArB;YACD;UACF,CAJD;UAKA,OAAOQ,eAAP;QACD;MAZO,CA1EH;MAyFPC,MAAM,EAAE;QACNC,OAAO,EAAE,UAASA,OAAT,EAAkBC,KAAlB,EAAyBT,OAAzB,EAAkCU,cAAlC,EAAkD;UACzDV,OAAO,GAAI,OAAOA,OAAP,KAAmB,QAApB,GACLA,OAAO,KAAK,KAAb,GACErC,QAAQ,CAACqC,OADX,GAEE,CAACA,OAAD,CAHI,GAINA,OAAO,IAAIrC,QAAQ,CAACqC,OAJxB;UAMAU,cAAc,GAAIA,cAAc,KAAKhE,SAApB,GACbgE,cADa,GAEb,IAFJ;UAIAnE,CAAC,CAAC2D,IAAF,CAAOF,OAAP,EAAgB,UAASG,KAAT,EAAgBL,IAAhB,EAAsB;YACpC,IACEhC,SAAS,GAAIQ,MAAM,CAACuB,YAAP,CAAoBC,IAApB,CAAD,GACRvD,CAAC,CAACQ,EAAF,CAAK+C,IAAL,EAAWnC,QAAX,CAAoBG,SAApB,IAAiC,KADzB,GAER,IAHN;YAAA,IAIE6C,gBAJF;;YAMA,IAAGrC,MAAM,CAACuB,YAAP,CAAoBC,IAApB,CAAH,EAA8B;cAC5BxB,MAAM,CAACI,OAAP,CAAe,0BAAf,EAA2C8B,OAA3C,EAAoDC,KAApD,EAA2DX,IAA3D;cACAvD,CAAC,CAACQ,EAAF,CAAK+C,IAAL,EAAWnC,QAAX,CAAoB6C,OAApB,IAA+BC,KAA/B;;cACA,IAAGC,cAAc,IAAI5C,SAArB,EAAgC;gBAC9B6C,gBAAgB,GAAGpE,CAAC,CAAC,kBAAkBuB,SAAlB,GAA8B,GAA/B,CAApB;;gBACA,IAAG6C,gBAAgB,CAACC,MAAjB,GAA0B,CAA7B,EAAgC;kBAC9BtC,MAAM,CAACI,OAAP,CAAe,6BAAf,EAA8CiC,gBAA9C;kBACAA,gBAAgB,CAACb,IAAD,CAAhB,CAAuB,SAAvB,EAAkCU,OAAlC,EAA2CC,KAA3C;gBACD;cACF;YACF;UACF,CAlBD;QAmBD,CA/BK;QAgCN9C,QAAQ,EAAE,UAASkD,WAAT,EAAsBb,OAAtB,EAA+BU,cAA/B,EAA+C;UACvDV,OAAO,GAAI,OAAOA,OAAP,KAAmB,QAApB,GACN,CAACA,OAAD,CADM,GAENA,OAAO,IAAIrC,QAAQ,CAACqC,OAFxB;UAIAU,cAAc,GAAIA,cAAc,KAAKhE,SAApB,GACbgE,cADa,GAEb,IAFJ;UAIAnE,CAAC,CAAC2D,IAAF,CAAOF,OAAP,EAAgB,UAASG,KAAT,EAAgBL,IAAhB,EAAsB;YACpC,IACEa,gBADF;;YAGA,IAAGrC,MAAM,CAACuB,YAAP,CAAoBC,IAApB,CAAH,EAA8B;cAC5BxB,MAAM,CAACI,OAAP,CAAe,0BAAf,EAA2CmC,WAA3C,EAAwDf,IAAxD;cACAvD,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAetB,CAAC,CAACQ,EAAF,CAAK+C,IAAL,EAAWnC,QAA1B,EAAoCkD,WAApC;;cACA,IAAGH,cAAc,IAAI5C,SAArB,EAAgC;gBAC9B6C,gBAAgB,GAAGpE,CAAC,CAAC,kBAAkBuB,SAAlB,GAA8B,GAA/B,CAApB;;gBACA,IAAG6C,gBAAgB,CAACC,MAAjB,GAA0B,CAA7B,EAAgC;kBAC9BtC,MAAM,CAACI,OAAP,CAAe,6BAAf,EAA8CiC,gBAA9C;kBACAA,gBAAgB,CAACb,IAAD,CAAhB,CAAuB,SAAvB,EAAkCe,WAAlC;gBACD;cACF;YACF;UACF,CAfD;QAgBD;MAzDK,CAzFD;MAqJPC,MAAM,EAAE;QACNjC,OAAO,EAAE,YAAW;UAClBP,MAAM,CAACO,OAAP,CAAe,IAAf;QACD,CAHK;QAINE,KAAK,EAAE,UAASiB,OAAT,EAAkBU,cAAlB,EAAkC;UACvCV,OAAO,GAAGA,OAAO,IAAIrC,QAAQ,CAACqC,OAA9B;UACA1B,MAAM,CAACS,KAAP,CAAa,4BAAb,EAA2CiB,OAA3C;UACA1B,MAAM,CAACiC,MAAP,CAAcC,OAAd,CAAsB,OAAtB,EAA+B,IAA/B,EAAqCR,OAArC,EAA8CU,cAA9C;QACD,CARK;QASNhC,OAAO,EAAE,UAASsB,OAAT,EAAkBU,cAAlB,EAAkC;UACzCV,OAAO,GAAGA,OAAO,IAAIrC,QAAQ,CAACqC,OAA9B;UACA1B,MAAM,CAACS,KAAP,CAAa,oCAAb,EAAmDiB,OAAnD;UACA1B,MAAM,CAACiC,MAAP,CAAcC,OAAd,CAAsB,SAAtB,EAAiC,IAAjC,EAAuCR,OAAvC,EAAgDU,cAAhD;QACD;MAbK,CArJD;MAoKPzB,OAAO,EAAE;QACPJ,OAAO,EAAE,YAAW;UAClBP,MAAM,CAACO,OAAP,CAAe,KAAf;QACD,CAHM;QAIPE,KAAK,EAAE,UAASiB,OAAT,EAAkBU,cAAlB,EAAkC;UACvCV,OAAO,GAAGA,OAAO,IAAIrC,QAAQ,CAACqC,OAA9B;UACA1B,MAAM,CAACS,KAAP,CAAa,6BAAb,EAA4CiB,OAA5C;UACA1B,MAAM,CAACiC,MAAP,CAAcC,OAAd,CAAsB,OAAtB,EAA+B,KAA/B,EAAsCR,OAAtC,EAA+CU,cAA/C;QACD,CARM;QASPhC,OAAO,EAAE,UAASsB,OAAT,EAAkBU,cAAlB,EAAkC;UACzCV,OAAO,GAAGA,OAAO,IAAIrC,QAAQ,CAACqC,OAA9B;UACA1B,MAAM,CAACS,KAAP,CAAa,qCAAb,EAAoDiB,OAApD;UACA1B,MAAM,CAACiC,MAAP,CAAcC,OAAd,CAAsB,SAAtB,EAAiC,KAAjC,EAAwCR,OAAxC,EAAiDU,cAAjD;QACD;MAbM,CApKF;MAoLP7B,OAAO,EAAE,UAASiC,MAAT,EAAiB;QACxB,IAAGA,MAAH,EAAW;UACT,IAAG1C,QAAQ,CAAC2C,KAAT,CAAelC,OAAf,KAA2BnC,SAA9B,EAAyC;YACvC4B,MAAM,CAACP,KAAP,CAAaA,KAAK,CAACc,OAAnB;YACA;UACD;;UACDP,MAAM,CAACS,KAAP,CAAa,4BAAb;UACAvC,MAAM,CAACqC,OAAP,GAAiBT,QAAQ,CAAC2C,KAAT,CAAelC,OAAhC;QACD,CAPD,MAQK;UACHP,MAAM,CAACS,KAAP,CAAa,4BAAb;UACAX,QAAQ,CAAC2C,KAAT,CAAelC,OAAf,GAAyBrC,MAAM,CAACqC,OAAhC;UACArC,MAAM,CAACqC,OAAP,GAAiB;YACfU,KAAK,EAAY,YAAU,CAAE,CADd;YAEfxB,KAAK,EAAY,YAAU,CAAE,CAFd;YAGfmB,KAAK,EAAY,YAAU,CAAE,CAHd;YAIfE,cAAc,EAAG,YAAU,CAAE,CAJd;YAKfD,QAAQ,EAAS,YAAU,CAAE,CALd;YAMf6B,IAAI,EAAa,YAAU,CAAE,CANd;YAOfhC,GAAG,EAAc,YAAU,CAAE,CAPd;YAQfK,YAAY,EAAK,YAAU,CAAE,CARd;YASf4B,IAAI,EAAa,YAAU,CAAE;UATd,CAAjB;QAWD;MACF,CA5MM;MA8MPC,OAAO,EAAE,YAAW;QAClB5C,MAAM,CAACI,OAAP,CAAe,8BAAf,EAA+CR,OAA/C;QACAA,OAAO,CACJiD,UADH,CACcnD,eADd;MAGD,CAnNM;MAqNP+C,KAAK,EAAE,EArNA;MAuNPP,OAAO,EAAE,UAASV,IAAT,EAAeW,KAAf,EAAsB;QAC7B,IAAIlE,CAAC,CAACqB,aAAF,CAAgBkC,IAAhB,CAAJ,EAA4B;UAC1BvD,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAeF,QAAf,EAAyBmC,IAAzB;QACD,CAFD,MAGK,IAAGW,KAAK,KAAK/D,SAAb,EAAwB;UAC3BiB,QAAQ,CAACmC,IAAD,CAAR,GAAiBW,KAAjB;QACD,CAFI,MAGA;UACH,OAAO9C,QAAQ,CAACmC,IAAD,CAAf;QACD;MACF,CAjOM;MAkOPsB,QAAQ,EAAE,UAAStB,IAAT,EAAeW,KAAf,EAAsB;QAC9B,IAAIlE,CAAC,CAACqB,aAAF,CAAgBkC,IAAhB,CAAJ,EAA4B;UAC1BvD,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAeS,MAAf,EAAuBwB,IAAvB;QACD,CAFD,MAGK,IAAGW,KAAK,KAAK/D,SAAb,EAAwB;UAC3B4B,MAAM,CAACwB,IAAD,CAAN,GAAeW,KAAf;QACD,CAFI,MAGA;UACH,OAAOnC,MAAM,CAACwB,IAAD,CAAb;QACD;MACF,CA5OM;MA6OPf,KAAK,EAAE,YAAW;QAChB,IAAGpB,QAAQ,CAACoB,KAAZ,EAAmB;UACjB,IAAGpB,QAAQ,CAACP,WAAZ,EAAyB;YACvBkB,MAAM,CAAClB,WAAP,CAAmB4B,GAAnB,CAAuB1B,SAAvB;UACD,CAFD,MAGK;YACHgB,MAAM,CAACS,KAAP,GAAesC,QAAQ,CAACC,SAAT,CAAmBC,IAAnB,CAAwB7D,IAAxB,CAA6BmB,OAAO,CAACmC,IAArC,EAA2CnC,OAA3C,EAAoDlB,QAAQ,CAACmC,IAAT,GAAgB,GAApE,CAAf;YACAxB,MAAM,CAACS,KAAP,CAAayC,KAAb,CAAmB3C,OAAnB,EAA4BvB,SAA5B;UACD;QACF;MACF,CAvPM;MAwPPoB,OAAO,EAAE,YAAW;QAClB,IAAGf,QAAQ,CAACe,OAAT,IAAoBf,QAAQ,CAACoB,KAAhC,EAAuC;UACrC,IAAGpB,QAAQ,CAACP,WAAZ,EAAyB;YACvBkB,MAAM,CAAClB,WAAP,CAAmB4B,GAAnB,CAAuB1B,SAAvB;UACD,CAFD,MAGK;YACHgB,MAAM,CAACI,OAAP,GAAiB2C,QAAQ,CAACC,SAAT,CAAmBC,IAAnB,CAAwB7D,IAAxB,CAA6BmB,OAAO,CAACmC,IAArC,EAA2CnC,OAA3C,EAAoDlB,QAAQ,CAACmC,IAAT,GAAgB,GAApE,CAAjB;YACAxB,MAAM,CAACI,OAAP,CAAe8C,KAAf,CAAqB3C,OAArB,EAA8BvB,SAA9B;UACD;QACF;MACF,CAlQM;MAmQPS,KAAK,EAAE,YAAW;QAChBO,MAAM,CAACP,KAAP,GAAesD,QAAQ,CAACC,SAAT,CAAmBC,IAAnB,CAAwB7D,IAAxB,CAA6BmB,OAAO,CAACd,KAArC,EAA4Cc,OAA5C,EAAqDlB,QAAQ,CAACmC,IAAT,GAAgB,GAArE,CAAf;QACAxB,MAAM,CAACP,KAAP,CAAayD,KAAb,CAAmB3C,OAAnB,EAA4BvB,SAA5B;MACD,CAtQM;MAuQPF,WAAW,EAAE;QACX4B,GAAG,EAAE,UAASyC,OAAT,EAAkB;UACrB,IACEC,WADF,EAEEC,aAFF,EAGEC,YAHF;;UAKA,IAAGjE,QAAQ,CAACP,WAAZ,EAAyB;YACvBsE,WAAW,GAAK,IAAIxE,IAAJ,GAAWC,OAAX,EAAhB;YACAyE,YAAY,GAAI3E,IAAI,IAAIyE,WAAxB;YACAC,aAAa,GAAGD,WAAW,GAAGE,YAA9B;YACA3E,IAAI,GAAYyE,WAAhB;YACAtE,WAAW,CAACgD,IAAZ,CAAiB;cACf,WAAmBjC,OADJ;cAEf,QAAmBsD,OAAO,CAAC,CAAD,CAFX;cAGf,aAAmB,GAAGhE,KAAH,CAASC,IAAT,CAAc+D,OAAd,EAAuB,CAAvB,KAA6B,EAHjC;cAIf,kBAAmBE;YAJJ,CAAjB;UAMD;;UACDE,YAAY,CAACvD,MAAM,CAAClB,WAAP,CAAmB0E,KAApB,CAAZ;UACAxD,MAAM,CAAClB,WAAP,CAAmB0E,KAAnB,GAA2BlC,UAAU,CAACtB,MAAM,CAAClB,WAAP,CAAmB2E,OAApB,EAA6B,GAA7B,CAArC;QACD,CArBU;QAsBXA,OAAO,EAAE,YAAW;UAClB,IACEC,KAAK,GAAGrE,QAAQ,CAACmC,IAAT,GAAgB,GAD1B;UAAA,IAEEmC,SAAS,GAAG,CAFd;UAIAhF,IAAI,GAAG,KAAP;UACA4E,YAAY,CAACvD,MAAM,CAAClB,WAAP,CAAmB0E,KAApB,CAAZ;UACAvF,CAAC,CAAC2D,IAAF,CAAO9C,WAAP,EAAoB,UAAS+C,KAAT,EAAgB9B,IAAhB,EAAsB;YACxC4D,SAAS,IAAI5D,IAAI,CAAC,gBAAD,CAAjB;UACD,CAFD;UAGA2D,KAAK,IAAI,MAAMC,SAAN,GAAkB,IAA3B;;UACA,IAAI,CAACpD,OAAO,CAACK,KAAR,KAAkBxC,SAAlB,IAA+BmC,OAAO,CAACqD,KAAR,KAAkBxF,SAAlD,KAAgEU,WAAW,CAACwD,MAAZ,GAAqB,CAAzF,EAA4F;YAC1F/B,OAAO,CAACO,cAAR,CAAuB4C,KAAvB;;YACA,IAAGnD,OAAO,CAACqD,KAAX,EAAkB;cAChBrD,OAAO,CAACqD,KAAR,CAAc9E,WAAd;YACD,CAFD,MAGK;cACHb,CAAC,CAAC2D,IAAF,CAAO9C,WAAP,EAAoB,UAAS+C,KAAT,EAAgB9B,IAAhB,EAAsB;gBACxCQ,OAAO,CAACG,GAAR,CAAYX,IAAI,CAAC,MAAD,CAAJ,GAAe,IAAf,GAAsBA,IAAI,CAAC,gBAAD,CAA1B,GAA6C,IAAzD;cACD,CAFD;YAGD;;YACDQ,OAAO,CAACM,QAAR;UACD;;UACD/B,WAAW,GAAG,EAAd;QACD;MA9CU,CAvQN;MAuTP+E,MAAM,EAAE,UAAS9E,KAAT,EAAgB+E,eAAhB,EAAiCC,OAAjC,EAA0C;QAChD,IACEC,MAAM,GAAGlE,QADX;QAAA,IAEEmE,QAFF;QAAA,IAGEC,KAHF;QAAA,IAIEC,QAJF;QAMAL,eAAe,GAAGA,eAAe,IAAI5E,cAArC;QACA6E,OAAO,GAAWlE,OAAO,IAAYkE,OAArC;;QACA,IAAG,OAAOhF,KAAP,IAAgB,QAAhB,IAA4BiF,MAAM,KAAK5F,SAA1C,EAAqD;UACnDW,KAAK,GAAMA,KAAK,CAACqF,KAAN,CAAY,OAAZ,CAAX;UACAH,QAAQ,GAAGlF,KAAK,CAACuD,MAAN,GAAe,CAA1B;UACArE,CAAC,CAAC2D,IAAF,CAAO7C,KAAP,EAAc,UAASsF,KAAT,EAAgBlC,KAAhB,EAAuB;YACnC,IAAImC,cAAc,GAAID,KAAK,IAAIJ,QAAV,GACjB9B,KAAK,GAAGpD,KAAK,CAACsF,KAAK,GAAG,CAAT,CAAL,CAAiBE,MAAjB,CAAwB,CAAxB,EAA2BC,WAA3B,EAAR,GAAmDzF,KAAK,CAACsF,KAAK,GAAG,CAAT,CAAL,CAAiBlF,KAAjB,CAAuB,CAAvB,CADlC,GAEjBJ,KAFJ;;YAIA,IAAId,CAAC,CAACqB,aAAF,CAAiB0E,MAAM,CAACM,cAAD,CAAvB,KAA8CD,KAAK,IAAIJ,QAA3D,EAAuE;cACrED,MAAM,GAAGA,MAAM,CAACM,cAAD,CAAf;YACD,CAFD,MAGK,IAAIN,MAAM,CAACM,cAAD,CAAN,KAA2BlG,SAA/B,EAA2C;cAC9C8F,KAAK,GAAGF,MAAM,CAACM,cAAD,CAAd;cACA,OAAO,KAAP;YACD,CAHI,MAIA,IAAIrG,CAAC,CAACqB,aAAF,CAAiB0E,MAAM,CAAC7B,KAAD,CAAvB,KAAqCkC,KAAK,IAAIJ,QAAlD,EAA8D;cACjED,MAAM,GAAGA,MAAM,CAAC7B,KAAD,CAAf;YACD,CAFI,MAGA,IAAI6B,MAAM,CAAC7B,KAAD,CAAN,KAAkB/D,SAAtB,EAAkC;cACrC8F,KAAK,GAAGF,MAAM,CAAC7B,KAAD,CAAd;cACA,OAAO,KAAP;YACD,CAHI,MAIA;cACHnC,MAAM,CAACP,KAAP,CAAaA,KAAK,CAACgF,MAAnB,EAA2B1F,KAA3B;cACA,OAAO,KAAP;YACD;UACF,CAvBD;QAwBD;;QACD,IAAKd,CAAC,CAACI,UAAF,CAAc6F,KAAd,CAAL,EAA6B;UAC3BC,QAAQ,GAAGD,KAAK,CAAChB,KAAN,CAAYa,OAAZ,EAAqBD,eAArB,CAAX;QACD,CAFD,MAGK,IAAGI,KAAK,KAAK9F,SAAb,EAAwB;UAC3B+F,QAAQ,GAAGD,KAAX;QACD;;QACD,IAAGQ,KAAK,CAACC,OAAN,CAAc1E,aAAd,CAAH,EAAiC;UAC/BA,aAAa,CAAC6B,IAAd,CAAmBqC,QAAnB;QACD,CAFD,MAGK,IAAGlE,aAAa,KAAK7B,SAArB,EAAgC;UACnC6B,aAAa,GAAG,CAACA,aAAD,EAAgBkE,QAAhB,CAAhB;QACD,CAFI,MAGA,IAAGA,QAAQ,KAAK/F,SAAhB,EAA2B;UAC9B6B,aAAa,GAAGkE,QAAhB;QACD;;QACD,OAAOD,KAAP;MACD;IA5WM,CAAT;;IA+WA,IAAGjF,aAAH,EAAkB;MAChB,IAAGa,QAAQ,KAAK1B,SAAhB,EAA2B;QACzB4B,MAAM,CAACE,UAAP;MACD;;MACDF,MAAM,CAAC6D,MAAP,CAAc9E,KAAd;IACD,CALD,MAMK;MACH,IAAGe,QAAQ,KAAK1B,SAAhB,EAA2B;QACzB4B,MAAM,CAAC4C,OAAP;MACD;;MACD5C,MAAM,CAACE,UAAP;IACD;;IACD,OAAQD,aAAa,KAAK7B,SAAnB,GACH6B,aADG,GAEH,IAFJ;EAID,CAzZD;;EA2ZAhC,CAAC,CAACO,IAAF,CAAOa,QAAP,GAAkB;IAEhBmC,IAAI,EAAU,MAFE;IAGhBhC,SAAS,EAAK,MAHE;IAKhBC,KAAK,EAAG;MACNc,OAAO,EAAG,8EADJ;MAENkE,MAAM,EAAG;IAFH,CALQ;IAUhBhE,KAAK,EAAS,KAVE;IAWhBL,OAAO,EAAO,KAXE;IAYhBtB,WAAW,EAAG,IAZE;IAchB4C,OAAO,EAAE,CACP,WADO,EAEP,KAFO,EAGP,UAHO,EAIP,UAJO,EAKP,QALO,EAMP,UANO,EAOP,OAPO,EAQP,MARO,EASP,OATO,EAUP,KAVO,EAWP,OAXO,EAYP,QAZO,EAaP,QAbO,EAcP,OAdO,EAeP,SAfO,EAgBP,OAhBO,EAiBP,QAjBO,EAkBP,KAlBO,EAmBP,OAnBO,EAoBP,YApBO,EAqBP,YArBO,EAsBP,OAtBO,CAdO;IAuChBkD,aAAa,EAAK,MAvCF;IAwChBC,aAAa,EAAK;MAChBpC,KAAK,EAAO,EADI;MAEhBqC,MAAM,EAAM,EAFI;MAGhBC,QAAQ,EAAI,EAHI;MAIhBC,OAAO,EAAK,EAJI;MAKhBC,SAAS,EAAG;IALI;EAxCF,CAAlB,CAja4C,CAmd5C;;EACAhH,CAAC,CAACsB,MAAF,CAAStB,CAAC,CAACiH,IAAF,CAAQ,GAAR,CAAT,EAAwB;IACtBnF,IAAI,EAAG9B,CAAC,CAACiH,IAAF,CAAOC,YAAR,GACFlH,CAAC,CAACiH,IAAF,CAAOC,YAAP,CAAoB,UAASC,QAAT,EAAmB;MACrC,OAAO,UAASC,IAAT,EAAe;QACpB,OAAO,CAAC,CAACpH,CAAC,CAAC8B,IAAF,CAAOsF,IAAP,EAAaD,QAAb,CAAT;MACD,CAFD;IAGD,CAJD,CADE,GAMF,UAASC,IAAT,EAAeC,CAAf,EAAkBC,KAAlB,EAAyB;MACzB;MACA,OAAO,CAAC,CAACtH,CAAC,CAAC8B,IAAF,CAAOsF,IAAP,EAAaE,KAAK,CAAE,CAAF,CAAlB,CAAT;IACD;EAVmB,CAAxB;AAcC,CAleA,EAkeGC,MAleH,EAkeWtH,MAleX,EAkemBC,QAlenB;AAoeD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA;;AAAC,CAAC,UAAUF,CAAV,EAAaC,MAAb,EAAqBC,QAArB,EAA+BC,SAA/B,EAA0C;EAE5C;;EAEAH,CAAC,CAACI,UAAF,GAAeJ,CAAC,CAACI,UAAF,IAAgB,UAASC,GAAT,EAAc;IAC3C,OAAO,OAAOA,GAAP,KAAe,UAAf,IAA6B,OAAOA,GAAG,CAACC,QAAX,KAAwB,QAA5D;EACD,CAFD;;EAIAL,MAAM,GAAI,OAAOA,MAAP,IAAiB,WAAjB,IAAgCA,MAAM,CAACuH,IAAP,IAAeA,IAAhD,GACLvH,MADK,GAEJ,OAAOwH,IAAP,IAAe,WAAf,IAA8BA,IAAI,CAACD,IAAL,IAAaA,IAA5C,GACEC,IADF,GAEE3C,QAAQ,CAAC,aAAD,CAAR,EAJN;;EAOA9E,CAAC,CAACQ,EAAF,CAAKkH,IAAL,GAAY,UAASjH,UAAT,EAAqB;IAC/B,IACEkH,WAAW,GAAQ3H,CAAC,CAAC,IAAD,CADtB;IAAA,IAEE4H,cAAc,GAAKD,WAAW,CAACE,QAAZ,IAAwB,EAF7C;IAAA,IAIEnH,IAAI,GAAe,IAAIC,IAAJ,GAAWC,OAAX,EAJrB;IAAA,IAKEC,WAAW,GAAQ,EALrB;IAAA,IAOEC,KAAK,GAAcC,SAAS,CAAC,CAAD,CAP9B;IAAA,IAQE+G,gBAAgB,GAAG/G,SAAS,CAAC,CAAD,CAR9B;IAAA,IASEC,aAAa,GAAO,OAAOF,KAAP,IAAgB,QATtC;IAAA,IAUEG,cAAc,GAAK,GAAGC,KAAH,CAASC,IAAT,CAAcJ,SAAd,EAAyB,CAAzB,CAVrB;IAAA,IAWEiB,aAXF;IAaA2F,WAAW,CACRhE,IADH,CACQ,YAAW;MACf,IACEhC,OAAO,GAAO3B,CAAC,CAAC,IAAD,CADjB;MAAA,IAEE4B,OAAO,GAAO,IAFhB;MAAA,IAIEmG,UAAU,GAAI,EAJhB;MAAA,IAKEC,WAAW,GAAG,KALhB;MAAA,IAOE;MACAC,MARF;MAAA,IASEC,MATF;MAAA,IAUEC,QAVF;MAAA,IAWEC,OAXF;MAAA,IAYEC,OAZF;MAAA,IAaEC,MAbF;MAAA,IAcEC,MAdF;MAAA,IAgBEnH,QAhBF;MAAA,IAiBEoH,UAjBF;MAAA,IAmBEC,QAnBF;MAAA,IAoBEZ,QApBF;MAAA,IAqBEa,SArBF;MAAA,IAsBEC,MAtBF;MAAA,IAuBEnH,KAvBF;MAAA,IAyBED,SAzBF;MAAA,IA0BEE,eA1BF;MAAA,IA2BEmH,cA3BF;MAAA,IA6BEC,UAAU,GAAG,KA7Bf;MAAA,IA8BEC,KAAK,GAAG,KA9BV;MAAA,IA+BEC,OAAO,GAAG,CAAC,OAAD,EAAU,OAAV,CA/BZ;MAAA,IAiCElH,QAjCF;MAAA,IAkCEE,MAlCF;MAqCAA,MAAM,GAAQ;QAEZE,UAAU,EAAE,YAAW;UAErB;UACAF,MAAM,CAACiH,GAAP,CAAW5H,QAAX;;UACA,IAAGJ,aAAH,EAAkB;YAChB,IAAGa,QAAQ,KAAK1B,SAAhB,EAA2B;cACzB4B,MAAM,CAACG,WAAP;YACD;;YACDH,MAAM,CAAC6D,MAAP,CAAc9E,KAAd;UACD,CALD,MAMK;YACH,IAAGe,QAAQ,KAAK1B,SAAhB,EAA2B;cACzB0B,QAAQ,CAAC+D,MAAT,CAAgB,SAAhB;cACA7D,MAAM,CAACkH,OAAP;YACD;;YACDlH,MAAM,CAACI,OAAP,CAAe,8BAAf,EAA+CR,OAA/C,EAAwDP,QAAxD;YACAW,MAAM,CAACmH,UAAP;YACAnH,MAAM,CAACoH,GAAP,CAAWC,QAAX;;YACA,IAAIhI,QAAQ,CAACiI,iBAAb,EAAgC;cAC9BtH,MAAM,CAACoH,GAAP,CAAWG,SAAX;YACD;;YACDvH,MAAM,CAACG,WAAP;UACD;QACF,CAzBW;QA2BZA,WAAW,EAAE,YAAW;UACtBH,MAAM,CAACI,OAAP,CAAe,4BAAf,EAA6CJ,MAA7C;UACAF,QAAQ,GAAGE,MAAX;UACAJ,OAAO,CACJG,IADH,CACQL,eADR,EACyBM,MADzB;QAGD,CAjCW;QAmCZ4C,OAAO,EAAE,YAAW;UAClB5C,MAAM,CAACI,OAAP,CAAe,4BAAf,EAA6CN,QAA7C;UACAE,MAAM,CAACwH,YAAP;UACA5H,OAAO,CACJiD,UADH,CACcnD,eADd;QAGD,CAzCW;QA2CZwH,OAAO,EAAE,YAAW;UAClBlH,MAAM,CAACI,OAAP,CAAe,2BAAf;UACA8F,MAAM,GAAQtG,OAAO,CAAC6H,IAAR,CAAa3B,QAAQ,CAAC4B,KAAtB,CAAd;UACAvB,MAAM,GAAQvG,OAAO,CAAC6H,IAAR,CAAa3B,QAAQ,CAAClF,KAAtB,CAAd;UACAwF,QAAQ,GAAMxG,OAAO,CAAC6H,IAAR,CAAa3B,QAAQ,CAAC3C,OAAtB,CAAd;UACAkD,OAAO,GAAOzG,OAAO,CAAC6H,IAAR,CAAa3B,QAAQ,CAAC6B,MAAtB,CAAd;UAEArB,OAAO,GAAO1G,OAAO,CAAC6H,IAAR,CAAa3B,QAAQ,CAAC8B,MAAtB,CAAd;UACArB,MAAM,GAAQ3G,OAAO,CAAC6H,IAAR,CAAa3B,QAAQ,CAAC7E,KAAtB,CAAd;UACAuF,MAAM,GAAQ5G,OAAO,CAAC6H,IAAR,CAAa3B,QAAQ,CAAC+B,KAAtB,CAAd;QACD,CArDW;QAuDZD,MAAM,EAAE,YAAW;UACjB5H,MAAM,CAACI,OAAP,CAAe,iBAAf,EAAkCR,OAAlC;UACAkH,UAAU,GAAG,IAAb;UACAlH,OAAO,CAACgI,MAAR;QACD,CA3DW;QA6DZE,YAAY,EAAE,UAAShC,QAAT,EAAmBiC,MAAnB,EAA2B;UACvCA,MAAM,GAAGA,MAAM,IAAI,QAAnB;UACA9J,CAAC,CAAC6H,QAAD,CAAD,CAAYkC,EAAZ,CAAe,UAAUnB,cAAzB,EAAyC,UAASoB,KAAT,EAAgB;YACvDjI,MAAM,CAAC+H,MAAD,CAAN;YACAE,KAAK,CAACC,cAAN;UACD,CAHD;QAID,CAnEW;QAqEZf,UAAU,EAAE,YAAW;UACrBnH,MAAM,CAACI,OAAP,CAAe,uBAAf;UACAR,OAAO,CACJoI,EADH,CACM,WAAWnB,cADjB,EACiC7G,MAAM,CAACmI,QAAP,CAAgBxC,IADjD,EAEGqC,EAFH,CAEM,SAAWnB,cAFjB,EAEiCf,QAAQ,CAAC4B,KAF1C,EAEiD1H,MAAM,CAACiI,KAAP,CAAaP,KAAb,CAAmBU,IAFpE,EAGGJ,EAHH,CAGM,UAAWnB,cAHjB,EAGiCf,QAAQ,CAAC8B,MAH1C,EAGkD5H,MAAM,CAAC4H,MAHzD,EAIGI,EAJH,CAIM,UAAWnB,cAJjB,EAIiCf,QAAQ,CAAC+B,KAJ1C,EAIiD7H,MAAM,CAAC6H,KAJxD,EAKGG,EALH,CAKM,UAAWnB,cALjB,EAKiCf,QAAQ,CAAC7E,KAL1C,EAKiDjB,MAAM,CAACiB,KALxD;;UAOA,IAAG5B,QAAQ,CAACgJ,iBAAZ,EAA+B;YAC7BzI,OAAO,CAACoI,EAAR,CAAW,YAAYnB,cAAvB,EAAuCf,QAAQ,CAAC4B,KAAhD,EAAuD1H,MAAM,CAACiI,KAAP,CAAaP,KAAb,CAAmBY,OAA1E;UACD;;UACDpC,MAAM,CAACtE,IAAP,CAAY,UAASC,KAAT,EAAgB0G,EAAhB,EAAoB;YAC9B,IACEC,MAAM,GAAOvK,CAAC,CAACsK,EAAD,CADhB;YAAA,IAEEE,IAAI,GAASD,MAAM,CAACE,IAAP,CAAY,MAAZ,CAFf;YAAA,IAGEC,UAAU,GAAG3I,MAAM,CAACiH,GAAP,CAAW2B,WAAX,CAAuBH,IAAvB,EAA6BD,MAA7B,CAHf;YAKAA,MAAM,CAACR,EAAP,CAAUW,UAAU,GAAG9B,cAAvB,EAAuC7G,MAAM,CAACiI,KAAP,CAAaP,KAAb,CAAmBzF,MAA1D;UACD,CAPD,EAZqB,CAqBrB;;UACA,IAAI5C,QAAQ,CAACwJ,cAAb,EAA6B;YAC3B5K,CAAC,CAACC,MAAD,CAAD,CAAU8J,EAAV,CAAa,iBAAiBnB,cAA9B,EAA8C7G,MAAM,CAACiI,KAAP,CAAaa,YAA3D;UACD;;UAED5C,MAAM,CAAC8B,EAAP,CAAU,iCAAV,EAA6C,UAASe,CAAT,EAAY;YACvD/I,MAAM,CAACgJ,SAAP,CAAiBC,OAAjB;UACD,CAFD;UAIArJ,OAAO,CAACoI,EAAR,CAAW,UAAUnB,cAArB,EAAqC,UAASkC,CAAT,EAAY;YAC/C1J,QAAQ,CAAC6J,OAAT,CAAiB9J,IAAjB;UACD,CAFD;UAIAQ,OAAO,CAACoI,EAAR,CAAW,UAAUnB,cAArB,EAAqC,UAASkC,CAAT,EAAY;YAC/C1J,QAAQ,CAAC8J,OAAT,CAAiB/J,IAAjB;UACD,CAFD;QAGD,CA1GW;QA4GZ6B,KAAK,EAAE,YAAW;UAChBiF,MAAM,CAACtE,IAAP,CAAY,UAAUC,KAAV,EAAiB0G,EAAjB,EAAqB;YAC/B,IACErC,MAAM,GAASjI,CAAC,CAACsK,EAAD,CADlB;YAAA,IAEEa,QAAQ,GAAOlD,MAAM,CAACmD,MAAP,EAFjB;YAAA,IAGEC,WAAW,GAAIpD,MAAM,CAACqD,OAAP,CAAepD,MAAf,CAHjB;YAAA,IAIEE,OAAO,GAAQiD,WAAW,CAAC7B,IAAZ,CAAiB3B,QAAQ,CAAC6B,MAA1B,CAJjB;YAAA,IAKE6B,SAAS,GAAMtD,MAAM,CAACqD,OAAP,CAAezD,QAAQ,CAAC2D,UAAxB,CALjB;YAAA,IAMEC,YAAY,GAAGxD,MAAM,CAACnG,IAAP,CAAY2G,QAAQ,CAACgD,YAArB,KAAsC,EANvD;YAAA,IAOEC,UAAU,GAAKP,QAAQ,CAACQ,EAAT,CAAY9D,QAAQ,CAAC+D,UAArB,CAPjB;YAAA,IAQEC,UAAU,GAAKV,QAAQ,CAACQ,EAAT,CAAY9D,QAAQ,CAACiE,UAArB,KAAqC/J,MAAM,CAACgK,GAAP,CAAWC,UAAX,CAAsB,UAAtB,CARtD;YAAA,IASEC,UAAU,GAAMV,SAAS,CAAClH,MAAV,GAAmB,CAAnB,IAAyBtC,MAAM,CAACgK,GAAP,CAAWC,UAAX,CAAsB,UAAtB,CAT3C;YAAA,IAUEE,SAAS,GAAMb,WAAW,CAACc,QAAZ,CAAqBzD,SAAS,CAAClH,KAA/B,CAVjB;;YAYA,IAAG0K,SAAH,EAAc;cACZnK,MAAM,CAACI,OAAP,CAAe,0BAAf,EAA2CkJ,WAA3C;cACAA,WAAW,CAACe,WAAZ,CAAwB1D,SAAS,CAAClH,KAAlC;cACA4G,OAAO,CAACiE,MAAR;YACD;;YACD,IAAGR,UAAH,EAAe;cACb9J,MAAM,CAACI,OAAP,CAAe,0BAAf,EAA2CgJ,QAA3C,EAAqDM,YAArD;cACAN,QAAQ,CAACmB,QAAT,CAAkB,OAAlB,EAA2B,IAA3B;YACD,CAHD,MAIK,IAAGZ,UAAH,EAAe;cAClBzD,MAAM,CAACwC,IAAP,CAAY,SAAZ,EAAuB,KAAvB;YACD,CAFI,MAGA,IAAIwB,UAAJ,EAAgB;cACnBV,SAAS,CAACgB,QAAV,CAAmB,OAAnB;YACD,CAFI,MAGA;cACHxK,MAAM,CAACI,OAAP,CAAe,uBAAf,EAAwC8F,MAAxC,EAAgDwD,YAAhD;cACAxD,MAAM,CAACuE,GAAP,CAAW,EAAX;YACD;UACF,CAhCD;UAiCAzK,MAAM,CAACsK,MAAP,CAAcI,MAAd;QACD,CA/IW;QAiJZ7C,KAAK,EAAE,YAAW;UAChB3B,MAAM,CAACtE,IAAP,CAAY,UAAUC,KAAV,EAAiB0G,EAAjB,EAAqB;YAC/B,IACErC,MAAM,GAASjI,CAAC,CAACsK,EAAD,CADlB;YAAA,IAEEa,QAAQ,GAAOlD,MAAM,CAACmD,MAAP,EAFjB;YAAA,IAGEC,WAAW,GAAIpD,MAAM,CAACqD,OAAP,CAAepD,MAAf,CAHjB;YAAA,IAIEqD,SAAS,GAAMtD,MAAM,CAACqD,OAAP,CAAezD,QAAQ,CAAC2D,UAAxB,CAJjB;YAAA,IAKEpD,OAAO,GAAQiD,WAAW,CAAC7B,IAAZ,CAAiB3B,QAAQ,CAAC6B,MAA1B,CALjB;YAAA,IAME+B,YAAY,GAAGxD,MAAM,CAACnG,IAAP,CAAY2G,QAAQ,CAACgD,YAArB,CANjB;YAAA,IAOEC,UAAU,GAAKP,QAAQ,CAACQ,EAAT,CAAY9D,QAAQ,CAAC+D,UAArB,CAPjB;YAAA,IAQEC,UAAU,GAAKV,QAAQ,CAACQ,EAAT,CAAY9D,QAAQ,CAACiE,UAArB,KAAqC/J,MAAM,CAACgK,GAAP,CAAWC,UAAX,CAAsB,UAAtB,CARtD;YAAA,IASEC,UAAU,GAAMV,SAAS,CAAClH,MAAV,GAAmB,CAAnB,IAAyBtC,MAAM,CAACgK,GAAP,CAAWC,UAAX,CAAsB,UAAtB,CAT3C;YAAA,IAUEE,SAAS,GAAMb,WAAW,CAACc,QAAZ,CAAqBzD,SAAS,CAAClH,KAA/B,CAVjB;;YAYA,IAAGiK,YAAY,KAAKtL,SAApB,EAA+B;cAC7B;YACD;;YACD,IAAG+L,SAAH,EAAc;cACZnK,MAAM,CAACI,OAAP,CAAe,0BAAf,EAA2CkJ,WAA3C;cACAA,WAAW,CAACe,WAAZ,CAAwB1D,SAAS,CAAClH,KAAlC;cACA4G,OAAO,CAACiE,MAAR;YACD;;YACD,IAAGR,UAAH,EAAe;cACb9J,MAAM,CAACI,OAAP,CAAe,0BAAf,EAA2CgJ,QAA3C,EAAqDM,YAArD;cACAN,QAAQ,CAACmB,QAAT,CAAkB,kBAAlB,EAAsC,IAAtC;YACD,CAHD,MAIK,IAAGZ,UAAH,EAAe;cAClB3J,MAAM,CAACI,OAAP,CAAe,0BAAf,EAA2CgJ,QAA3C,EAAqDM,YAArD;cACAxD,MAAM,CAACwC,IAAP,CAAY,SAAZ,EAAuBgB,YAAvB;YACD,CAHI,MAIA,IAAIQ,UAAJ,EAAgB;cACnBV,SAAS,CAACgB,QAAV,CAAmB,UAAnB,EAA+Bd,YAA/B;YACD,CAFI,MAGA;cACH1J,MAAM,CAACI,OAAP,CAAe,uBAAf,EAAwC8F,MAAxC,EAAgDwD,YAAhD;cACAxD,MAAM,CAACuE,GAAP,CAAWf,YAAX;YACD;UACF,CApCD;UAqCA1J,MAAM,CAACsK,MAAP,CAAcI,MAAd;QACD,CAxLW;QA0LZ1B,SAAS,EAAE;UACT2B,OAAO,EAAE,YAAW;YAClB,IACEC,QAAQ,GAAG,IADb;YAGA3M,CAAC,CAAC2D,IAAF,CAAO6E,UAAP,EAAmB,UAASoE,SAAT,EAAoBnD,KAApB,EAA2B;cAC5C,IAAI,CAAG1H,MAAM,CAACmI,QAAP,CAAgBT,KAAhB,CAAsBA,KAAtB,EAA6BmD,SAA7B,EAAwC,IAAxC,CAAP,EAAyD;gBACvDD,QAAQ,GAAG,KAAX;cACD;YACF,CAJD;YAKA,OAAOA,QAAP;UACD,CAXQ;UAYT3B,OAAO,EAAE,UAASF,CAAT,EAAY;YACnB,IAAI+B,WAAW,GAAG,KAAlB;YAEA5E,MAAM,CAACtE,IAAP,CAAY,UAASC,KAAT,EAAgB0G,EAAhB,EAAoB;cAC9B,IACEwC,GAAG,GAAG9M,CAAC,CAACsK,EAAD,CADT;cAAA,IAEEoB,UAAU,GAAIoB,GAAG,CAACC,MAAJ,CAAWlF,QAAQ,CAACmF,QAApB,EAA8B3I,MAA9B,GAAuC,CAFvD;cAAA,IAGE2G,OAHF;;cAMA,IAAIU,UAAJ,EAAgB;gBACdV,OAAO,GAAGjJ,MAAM,CAAC4J,EAAP,CAAUsB,aAAV,CAAwBH,GAAxB,CAAV;cACD,CAFD,MAEO;gBACL9B,OAAO,GAAGjJ,MAAM,CAAC4J,EAAP,CAAUuB,UAAV,CAAqBJ,GAArB,CAAV;cACD;;cAEDA,GAAG,CAAChL,IAAJ,CAASV,QAAQ,CAACqH,QAAT,CAAkBuC,OAA3B,EAAoCA,OAApC;cAEA6B,WAAW,IAAI7B,OAAf;YACD,CAhBD;;YAkBA,IAAI6B,WAAJ,EAAiB;cACf9K,MAAM,CAACoH,GAAP,CAAWL,KAAX;YACD,CAFD,MAEO;cACL/G,MAAM,CAACoH,GAAP,CAAWgE,KAAX;YACD;UAEF;QAvCQ,CA1LC;QAoOZxB,EAAE,EAAE;UACFyB,aAAa,EAAE,UAASC,IAAT,EAAe;YAC5B,OAAQA,IAAI,CAAC7C,IAAL,IAAa6C,IAAI,CAAC7C,IAAL,CAAUlD,KAAV,CAAgBlG,QAAQ,CAACuH,MAAT,CAAgB2E,OAAhC,CAArB;UACD,CAHC;UAIF;UACAC,cAAc,EAAE,UAASC,KAAT,EAAgB;YAC9B,OAAQ,OAAOA,KAAP,IAAgB,QAAhB,IAA4B/G,KAAK,CAACC,OAAN,CAAc8G,KAAd,CAApC;UACD,CAPC;UAQFC,KAAK,EAAE,UAASxF,MAAT,EAAiB;YACtB,IAAG,CAACA,MAAD,IAAWA,MAAM,CAAC5D,MAAP,KAAkB,CAAhC,EAAmC;cACjC,OAAO,IAAP;YACD,CAFD,MAGK,IAAG4D,MAAM,CAAC0D,EAAP,CAAU9D,QAAQ,CAACmF,QAAnB,CAAH,EAAiC;cACpC,OAAO,CAAC/E,MAAM,CAAC0D,EAAP,CAAU,UAAV,CAAR;YACD,CAFI,MAGA;cACH,OAAO5J,MAAM,CAAC4J,EAAP,CAAU+B,KAAV,CAAgBzF,MAAhB,CAAP;YACD;UACF,CAlBC;UAmBFyF,KAAK,EAAE,UAASzF,MAAT,EAAiB;YACtB,OAAO0F,MAAM,CAAC1F,MAAM,CAACuE,GAAP,EAAD,CAAN,CAAqBoB,IAArB,OAAgC,EAAvC;UACD,CArBC;UAsBFC,KAAK,EAAE,UAASpE,KAAT,EAAgBqE,UAAhB,EAA4B;YACjC,IACEnB,QAAQ,GAAG,IADb;;YAGA,IAAGlD,KAAH,EAAU;cACR1H,MAAM,CAACI,OAAP,CAAe,4BAAf,EAA6CsH,KAA7C;cACA,OAAO1H,MAAM,CAACmI,QAAP,CAAgBT,KAAhB,CAAsBjB,UAAU,CAACiB,KAAD,CAAhC,EAAyCA,KAAzC,EAAgD,CAAC,CAACqE,UAAlD,CAAP;YACD,CAHD,MAIK;cACH/L,MAAM,CAACI,OAAP,CAAe,2BAAf;cACAnC,CAAC,CAAC2D,IAAF,CAAO6E,UAAP,EAAmB,UAASoE,SAAT,EAAoBnD,KAApB,EAA2B;gBAC5C,IAAI,CAAC1H,MAAM,CAAC4J,EAAP,CAAUkC,KAAV,CAAgBjB,SAAhB,EAA2BkB,UAA3B,CAAL,EAA8C;kBAC5CnB,QAAQ,GAAG,KAAX;gBACD;cACF,CAJD;cAKA,OAAOA,QAAP;YACD;UACF,CAvCC;UAwCF7D,KAAK,EAAE,YAAW;YAChB,OAAOA,KAAP;UACD,CA1CC;UA2CFqE,KAAK,EAAE,YAAW;YAChB,OAAO,CAACrE,KAAR;UACD,CA7CC;UA8CFoE,UAAU,EAAE,UAASJ,GAAT,EAAc;YACxB,IAAIiB,YAAY,GAAGjB,GAAG,CAAChL,IAAJ,CAAS2G,QAAQ,CAACgD,YAAlB,CAAnB,CADwB,CAExB;;YACA,IAAIsC,YAAY,IAAI,IAApB,EAA0B;cAAEA,YAAY,GAAG,EAAf;YAAoB,CAAhD,MACK,IAAGtH,KAAK,CAACC,OAAN,CAAcqH,YAAd,CAAH,EAAgC;cACnCA,YAAY,GAAGA,YAAY,CAACC,QAAb,EAAf;YACD;;YACD,IAAIC,YAAY,GAAGnB,GAAG,CAACN,GAAJ,EAAnB;;YACA,IAAIyB,YAAY,IAAI,IAApB,EAA0B;cAAEA,YAAY,GAAG,EAAf;YAAoB,CAAhD,CACA;YADA,KAEK,IAAGxH,KAAK,CAACC,OAAN,CAAcuH,YAAd,CAAH,EAAgC;cACnCA,YAAY,GAAGA,YAAY,CAACD,QAAb,EAAf;YACD,CAZuB,CAaxB;;;YACA,IAAIE,SAAS,GAAG,iBAAhB;YACA,IAAIC,WAAW,GAAGD,SAAS,CAACE,IAAV,CAAeL,YAAf,KAAgCG,SAAS,CAACE,IAAV,CAAeH,YAAf,CAAlD;;YACA,IAAIE,WAAJ,EAAiB;cACf,IAAIE,KAAK,GAAG,IAAIC,MAAJ,CAAW,MAAMP,YAAN,GAAqB,GAAhC,EAAqC,GAArC,CAAZ;cACA,OAAO,CAACM,KAAK,CAACD,IAAN,CAAWH,YAAX,CAAR;YACD;;YAED,OAAOA,YAAY,KAAKF,YAAxB;UACD,CApEC;UAqEFd,aAAa,EAAE,UAASH,GAAT,EAAc;YAC3B,IAAIiB,YAAY,GAAGjB,GAAG,CAAChL,IAAJ,CAAS2G,QAAQ,CAACgD,YAAlB,CAAnB;YACA,IAAIwC,YAAY,GAAGnB,GAAG,CAACnB,EAAJ,CAAO,UAAP,CAAnB;YAEA,OAAOoC,YAAY,KAAKE,YAAxB;UACD,CA1EC;UA2EFM,SAAS,EAAE,YAAW;YACpB,OAAQxF,OAAO,CAAC,CAAD,CAAP,KAAe,OAAvB;UACD,CA7EC;UA8EFyF,SAAS,EAAE,YAAW;YACpB,OAAQzF,OAAO,CAAC,CAAD,CAAP,KAAe,OAAvB;UACD;QAhFC,CApOQ;QAuTZQ,YAAY,EAAE,YAAW;UACvB5H,OAAO,CAAC8M,GAAR,CAAY7F,cAAZ;UACAX,MAAM,CAACwG,GAAP,CAAW7F,cAAX;UACAP,OAAO,CAACoG,GAAR,CAAY7F,cAAZ;UACAX,MAAM,CAACwG,GAAP,CAAW7F,cAAX;QACD,CA5TW;QA8TZoB,KAAK,EAAE;UACLP,KAAK,EAAE;YACLY,OAAO,EAAE,UAASL,KAAT,EAAgB;cACvB,IACE/B,MAAM,GAASjI,CAAC,CAAC,IAAD,CADlB;cAAA,IAEE0O,GAAG,GAAY1E,KAAK,CAAC2E,KAFvB;cAAA,IAGEC,OAAO,GAAQ3G,MAAM,CAAC0D,EAAP,CAAU9D,QAAQ,CAACgH,KAAnB,CAHjB;cAAA,IAIEnD,UAAU,GAAKzD,MAAM,CAAC0D,EAAP,CAAU9D,QAAQ,CAACmF,QAAnB,CAJjB;cAAA,IAKE8B,YAAY,GAAI7G,MAAM,CAACqD,OAAP,CAAezD,QAAQ,CAACiE,UAAxB,EAAoCzH,MAApC,GAA6C,CAL/D;cAAA,IAME0K,OAAO,GAAQ;gBACbC,KAAK,EAAI,EADI;gBAEbC,MAAM,EAAG;cAFI,CANjB;;cAWA,IAAIP,GAAG,IAAIK,OAAO,CAACE,MAAnB,EAA2B;gBACzBlN,MAAM,CAACI,OAAP,CAAe,mCAAf;gBACA8F,MAAM,CAAC,CAAD,CAAN,CACGkC,IADH;cAGD;;cACD,IAAG,CAACH,KAAK,CAACkF,OAAP,IAAkBR,GAAG,IAAIK,OAAO,CAACC,KAAjC,IAA0CJ,OAA1C,IAAqD,CAACE,YAAtD,IAAsE,CAACpD,UAA1E,EAAsF;gBACpF,IAAG,CAAC1D,WAAJ,EAAiB;kBACfC,MAAM,CAACkH,GAAP,CAAW,UAAUvG,cAArB,EAAqC7G,MAAM,CAACiI,KAAP,CAAaP,KAAb,CAAmB2F,KAAxD;kBACArN,MAAM,CAAC4H,MAAP;kBACA5H,MAAM,CAACS,KAAP,CAAa,wCAAb;gBACD;;gBACDwF,WAAW,GAAG,IAAd;cACD;YACF,CA3BI;YA4BLoH,KAAK,EAAE,YAAW;cAChBpH,WAAW,GAAG,KAAd;YACD,CA9BI;YA+BLmC,IAAI,EAAE,UAASH,KAAT,EAAgB;cACpB,IACE/B,MAAM,GAAYjI,CAAC,CAAC,IAAD,CADrB;cAAA,IAEEqL,WAAW,GAAOpD,MAAM,CAACqD,OAAP,CAAepD,MAAf,CAFpB;cAAA,IAGEmH,eAAe,GAAGtN,MAAM,CAACiH,GAAP,CAAWR,UAAX,CAAsBP,MAAtB,CAHpB;;cAKA,IAAGoH,eAAe,KAAKjO,QAAQ,CAAC2I,EAAT,IAAe,MAAf,IAA2BsB,WAAW,CAACc,QAAZ,CAAqBzD,SAAS,CAAClH,KAA/B,KAAyCJ,QAAQ,CAACkO,UAAlF,CAAlB,EAAmH;gBACjHvN,MAAM,CAACS,KAAP,CAAa,oBAAb,EAAmCyF,MAAnC,EAA2CoH,eAA3C;gBACAtN,MAAM,CAACmI,QAAP,CAAgBT,KAAhB,CAAuB4F,eAAvB;;gBACA,IAAG,CAACjO,QAAQ,CAACmO,MAAb,EAAqB;kBACnBxN,MAAM,CAACmI,QAAP,CAAgBxC,IAAhB,CAAqB,KAArB,EAA2B,IAA3B;gBACD;cACF;YACF,CA5CI;YA6CL1D,MAAM,EAAE,UAASgG,KAAT,EAAgB;cACtB,IACE/B,MAAM,GAAQjI,CAAC,CAAC,IAAD,CADjB;cAAA,IAEEqL,WAAW,GAAGpD,MAAM,CAACqD,OAAP,CAAepD,MAAf,CAFhB;cAAA,IAGEmH,eAAe,GAAGtN,MAAM,CAACiH,GAAP,CAAWR,UAAX,CAAsBP,MAAtB,CAHpB;;cAKA,IAAGoH,eAAe,KAAKjO,QAAQ,CAAC2I,EAAT,IAAe,QAAf,IAA6BsB,WAAW,CAACc,QAAZ,CAAqBzD,SAAS,CAAClH,KAA/B,KAAyCJ,QAAQ,CAACkO,UAApF,CAAlB,EAAqH;gBACnHhK,YAAY,CAACvD,MAAM,CAACwD,KAAR,CAAZ;gBACAxD,MAAM,CAACwD,KAAP,GAAelC,UAAU,CAAC,YAAW;kBACnCtB,MAAM,CAACS,KAAP,CAAa,oBAAb,EAAmCyF,MAAnC,EAA2CoH,eAA3C;kBACAtN,MAAM,CAACmI,QAAP,CAAgBT,KAAhB,CAAuB4F,eAAvB;;kBACA,IAAG,CAACjO,QAAQ,CAACmO,MAAb,EAAqB;oBACnBxN,MAAM,CAACmI,QAAP,CAAgBxC,IAAhB,CAAqB,KAArB,EAA2B,IAA3B;kBACD;gBACF,CANwB,EAMtBtG,QAAQ,CAACoO,KANa,CAAzB;cAOD;YACF;UA7DI,CADF;UAgEL3E,YAAY,EAAE,UAASb,KAAT,EAAgB;YAC5B,IAAIjI,MAAM,CAAC4J,EAAP,CAAU7C,KAAV,MAAqB,CAACD,UAA1B,EAAsC;cACpC,IAAImB,KAAK,GAAGA,KAAK,IAAI/J,MAAM,CAAC+J,KAA5B,CADoC,CAGpC;;cACA,IAAIA,KAAJ,EAAW;gBACTA,KAAK,CAACyF,WAAN,GAAoBrO,QAAQ,CAACsO,IAAT,CAAcC,cAAlC;cACD,CANmC,CAQpC;;;cACA,OAAOvO,QAAQ,CAACsO,IAAT,CAAcC,cAArB;YACD;UACF;QA5EI,CA9TK;QA8YZ3G,GAAG,EAAE;UACH4G,cAAc,EAAE,UAASvC,IAAT,EAAe;YAC7B,IAAG,CAACA,IAAI,CAAC7C,IAAN,IAAe,CAAC6C,IAAI,CAACnJ,KAAN,IAAe,CAACnC,MAAM,CAAC4J,EAAP,CAAUyB,aAAV,CAAwBC,IAAxB,CAAlC,EAAkE;cAChE,OAAO,KAAP;YACD;;YACD,OAAQA,IAAI,CAACnJ,KAAL,KAAe/D,SAAhB,GACHkN,IAAI,CAACnJ,KADF,GAEHmJ,IAAI,CAAC7C,IAAL,CAAUlD,KAAV,CAAgBlG,QAAQ,CAACuH,MAAT,CAAgB2E,OAAhC,EAAyC,CAAzC,IAA8C,EAFlD;UAID,CATE;UAUHuC,QAAQ,EAAE,UAASxC,IAAT,EAAe;YACvB,IAAItL,MAAM,CAAC4J,EAAP,CAAUyB,aAAV,CAAwBC,IAAxB,CAAJ,EAAoC;cAClC,OAAOA,IAAI,CAAC7C,IAAL,CAAUsF,OAAV,CAAkBzC,IAAI,CAAC7C,IAAL,CAAUlD,KAAV,CAAgBlG,QAAQ,CAACuH,MAAT,CAAgB2E,OAAhC,EAAyC,CAAzC,CAAlB,EAA+D,EAA/D,CAAP;YACD;;YACD,OAAOD,IAAI,CAAC7C,IAAZ;UACD,CAfE;UAgBHG,WAAW,EAAE,UAASH,IAAT,EAAeD,MAAf,EAAuB;YAClC,IAAGC,IAAI,IAAI,UAAR,IAAsBA,IAAI,IAAI,OAA9B,IAAyCA,IAAI,IAAI,QAAjD,IAA6DD,MAAM,CAACoB,EAAP,CAAU,QAAV,CAAhE,EAAqF;cACnF,OAAO,QAAP;YACD,CAFD,MAGK;cACH,OAAO5J,MAAM,CAACiH,GAAP,CAAW0B,UAAX,EAAP;YACD;UACF,CAvBE;UAwBHA,UAAU,EAAE,YAAW;YACrB,OAAQxK,QAAQ,CAAC6P,aAAT,CAAuB,OAAvB,EAAgCC,OAAhC,KAA4C7P,SAA7C,GACH,OADG,GAEFD,QAAQ,CAAC6P,aAAT,CAAuB,OAAvB,EAAgCE,gBAAhC,KAAqD9P,SAAtD,GACE,gBADF,GAEE,OAJN;UAMD,CA/BE;UAgCH+P,mBAAmB,EAAE,UAASC,MAAT,EAAiB;YACpC,IACEC,UAAU,GAAG,EADf;YAGApQ,CAAC,CAAC2D,IAAF,CAAOwM,MAAP,EAAe,UAAS5M,IAAT,EAAeiK,KAAf,EAAsB;cACnC,IAAI,CAAC/G,KAAK,CAACC,OAAN,CAAc8G,KAAd,CAAD,IAAyB,OAAOA,KAAP,KAAiB,QAA9C,EAAwD;gBACtD4C,UAAU,CAAC7M,IAAD,CAAV,GAAmBiK,KAAnB;cACD,CAFD,MAEO;gBACL,IAAI,OAAOA,KAAP,IAAgB,QAApB,EAA8B;kBAC5BA,KAAK,GAAG,CAACA,KAAD,CAAR;gBACD;;gBACD4C,UAAU,CAAC7M,IAAD,CAAV,GAAmB;kBACjBiK,KAAK,EAAE;gBADU,CAAnB;gBAGAxN,CAAC,CAAC2D,IAAF,CAAO6J,KAAP,EAAc,UAAU5J,KAAV,EAAiByJ,IAAjB,EAAuB;kBACnC+C,UAAU,CAAC7M,IAAD,CAAV,CAAiBiK,KAAjB,CAAuB3J,IAAvB,CAA4B;oBAAC2G,IAAI,EAAE6C;kBAAP,CAA5B;gBACD,CAFD;cAGD;YACF,CAdD;YAeA,OAAO+C,UAAP;UACD,CApDE;UAqDH1G,MAAM,EAAE,UAAS2D,IAAT,EAAe5D,KAAf,EAAsB;YAC5B,IACEoG,QAAQ,GAAQ9N,MAAM,CAACiH,GAAP,CAAW6G,QAAX,CAAoBxC,IAApB,CADlB;YAAA,IAEEgD,SAAS,GAAOtO,MAAM,CAACiH,GAAP,CAAW4G,cAAX,CAA0BvC,IAA1B,CAFlB;YAAA,IAGEpF,MAAM,GAAUlG,MAAM,CAACiH,GAAP,CAAWS,KAAX,CAAiBA,KAAK,CAAC6G,UAAvB,CAHlB;YAAA,IAIEpM,KAAK,GAAW+D,MAAM,CAACuE,GAAP,EAJlB;YAAA,IAKE9C,MAAM,GAAU1J,CAAC,CAACI,UAAF,CAAaiN,IAAI,CAAC3D,MAAlB,IACZ2D,IAAI,CAAC3D,MAAL,CAAYxF,KAAZ,CADY,GAEZmJ,IAAI,CAAC3D,MAAL,IAAetI,QAAQ,CAACsI,MAAT,CAAgBmG,QAAhB,CAAf,IAA4CzO,QAAQ,CAACsO,IAAT,CAAca,eAPhE;YAAA,IAQEC,aAAa,GAAI9G,MAAM,CAAC+G,MAAP,CAAc,SAAd,MAA6B,CAAC,CARjD;YAAA,IASEC,YAAY,GAAKhH,MAAM,CAAC+G,MAAP,CAAc,QAAd,MAA4B,CAAC,CAThD;YAAA,IAUEE,MAVF;YAAA,IAWEpN,IAXF;YAAA,IAYEqN,KAZF;YAAA,IAaEC,YAbF;;YAeA,IAAGR,SAAS,IAAIA,SAAS,CAACS,OAAV,CAAkB,IAAlB,KAA2B,CAA3C,EAA8C;cAC5CF,KAAK,GAAGP,SAAS,CAAClK,KAAV,CAAgB,IAAhB,EAAsB,CAAtB,CAAR;;cACA,IAAG,CAACkH,IAAI,CAAC3D,MAAT,EAAiB;gBACfmH,YAAY,GACRD,KAAK,CAAC,CAAD,CAAL,KAAa,EAAb,GAAkBxP,QAAQ,CAACsI,MAAT,CAAgBqH,QAAhB,CAAyBjB,OAAzB,CAAiC,gBAAjC,EAAkD,OAAlD,CAAlB,GACAc,KAAK,CAAC,CAAD,CAAL,KAAa,EAAb,GAAkBxP,QAAQ,CAACsI,MAAT,CAAgBsH,QAAhB,CAAyBlB,OAAzB,CAAiC,gBAAjC,EAAkD,OAAlD,CAAlB,GACA1O,QAAQ,CAACsI,MAAT,CAAgBuH,KAHpB;gBAKAvH,MAAM,IAAImH,YAAY,CAACf,OAAb,CAAqB,WAArB,EAAkC,MAAM1O,QAAQ,CAACsO,IAAT,CAAcwB,GAAtD,CAAV;cACD;;cACDxH,MAAM,GAAGA,MAAM,CAACoG,OAAP,CAAe,UAAf,EAA2Bc,KAAK,CAAC,CAAD,CAAhC,CAAT;cACAlH,MAAM,GAAGA,MAAM,CAACoG,OAAP,CAAe,UAAf,EAA2Bc,KAAK,CAAC,CAAD,CAAhC,CAAT;YACD;;YACD,IAAGJ,aAAH,EAAkB;cAChB9G,MAAM,GAAGA,MAAM,CAACoG,OAAP,CAAe,YAAf,EAA6B7H,MAAM,CAACuE,GAAP,EAA7B,CAAT;YACD;;YACD,IAAGkE,YAAH,EAAiB;cACfC,MAAM,GAAG1I,MAAM,CAACqD,OAAP,CAAezD,QAAQ,CAAClF,KAAxB,EAA+B6G,IAA/B,CAAoC,OAApC,EAA6C2H,EAA7C,CAAgD,CAAhD,CAAT;cACA5N,IAAI,GAAIoN,MAAM,CAACtM,MAAP,IAAiB,CAAlB,GACHsM,MAAM,CAACjB,IAAP,EADG,GAEHzH,MAAM,CAACwC,IAAP,CAAY,aAAZ,KAA8BrJ,QAAQ,CAACsO,IAAT,CAAc0B,gBAFhD;cAIA1H,MAAM,GAAGA,MAAM,CAACoG,OAAP,CAAe,WAAf,EAA4BvM,IAA5B,CAAT;YACD;;YACDmG,MAAM,GAAGA,MAAM,CAACoG,OAAP,CAAe,iBAAf,EAAkCrG,KAAK,CAAC6G,UAAxC,CAAT;YACA5G,MAAM,GAAGA,MAAM,CAACoG,OAAP,CAAe,gBAAf,EAAiCO,SAAjC,CAAT;;YACA,IAAG,CAAChD,IAAI,CAAC3D,MAAT,EAAiB;cACf3H,MAAM,CAACI,OAAP,CAAe,0CAAf,EAA2DuH,MAA3D,EAAmEmG,QAAnE;YACD;;YACD,OAAOnG,MAAP;UACD,CAnGE;UAoGHtI,QAAQ,EAAE,YAAW;YACnB,IAAGpB,CAAC,CAACqB,aAAF,CAAgBZ,UAAhB,CAAH,EAAgC;cAC9B,IACE4Q,IAAI,GAAOC,MAAM,CAACD,IAAP,CAAY5Q,UAAZ,CADb;cAAA,IAEE8Q,gBAAgB,GAAIF,IAAI,CAAChN,MAAL,GAAc,CAAf,GACd5D,UAAU,CAAC4Q,IAAI,CAAC,CAAD,CAAL,CAAV,CAAoBf,UAApB,KAAmCnQ,SAAnC,IAAgDM,UAAU,CAAC4Q,IAAI,CAAC,CAAD,CAAL,CAAV,CAAoB7D,KAApB,KAA8BrN,SADhE,GAEf,KAJN;;cAMA,IAAGoR,gBAAH,EAAqB;gBACnB;gBACAnQ,QAAQ,GAAKpB,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAe,EAAf,EAAmBtB,CAAC,CAACQ,EAAF,CAAKkH,IAAL,CAAUtG,QAA7B,EAAuC0G,gBAAvC,CAAb;gBACAU,UAAU,GAAGxI,CAAC,CAACsB,MAAF,CAAS,EAAT,EAAatB,CAAC,CAACQ,EAAF,CAAKkH,IAAL,CAAUtG,QAAV,CAAmBgI,QAAhC,EAA0C3I,UAA1C,CAAb;gBACAsB,MAAM,CAACP,KAAP,CAAaJ,QAAQ,CAACI,KAAT,CAAegQ,SAA5B,EAAuC5P,OAAvC;gBACAG,MAAM,CAACI,OAAP,CAAe,2CAAf,EAA4DqG,UAA5D,EAAwEpH,QAAxE;cACD,CAND,MAOK;gBACH;gBACA,IAAGX,UAAU,CAAC0P,MAAd,EAAsB;kBACpB1P,UAAU,CAAC0P,MAAX,GAAoBpO,MAAM,CAACiH,GAAP,CAAWkH,mBAAX,CAA+BzP,UAAU,CAAC0P,MAA1C,CAApB;gBACD;;gBACD/O,QAAQ,GAAKpB,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAe,EAAf,EAAmBtB,CAAC,CAACQ,EAAF,CAAKkH,IAAL,CAAUtG,QAA7B,EAAuCX,UAAvC,CAAb;gBACA+H,UAAU,GAAGxI,CAAC,CAACsB,MAAF,CAAS,EAAT,EAAatB,CAAC,CAACQ,EAAF,CAAKkH,IAAL,CAAUtG,QAAV,CAAmBgI,QAAhC,EAA0ChI,QAAQ,CAAC+O,MAAnD,CAAb;gBACApO,MAAM,CAACI,OAAP,CAAe,oBAAf,EAAqCqG,UAArC,EAAiDpH,QAAjD;cACD;YACF,CAvBD,MAwBK;cACHA,QAAQ,GAAKpB,CAAC,CAACQ,EAAF,CAAKkH,IAAL,CAAUtG,QAAvB;cACAoH,UAAU,GAAGxI,CAAC,CAACQ,EAAF,CAAKkH,IAAL,CAAUtG,QAAV,CAAmBgI,QAAhC;cACArH,MAAM,CAACI,OAAP,CAAe,+BAAf,EAAgDqG,UAAhD,EAA4DpH,QAA5D;YACD,CA7BkB,CA+BnB;;;YACAG,SAAS,GAASH,QAAQ,CAACG,SAA3B;YACAkH,QAAQ,GAAUrH,QAAQ,CAACqH,QAA3B;YACAZ,QAAQ,GAAUzG,QAAQ,CAACyG,QAA3B;YACAa,SAAS,GAAStH,QAAQ,CAACsH,SAA3B;YACAC,MAAM,GAAYvH,QAAQ,CAACuH,MAA3B;YACAnH,KAAK,GAAaJ,QAAQ,CAACI,KAA3B;YACAC,eAAe,GAAG,YAAYF,SAA9B;YACAqH,cAAc,GAAI,MAAMrH,SAAxB,CAvCmB,CAyCnB;;YACAM,QAAQ,GAAGF,OAAO,CAACG,IAAR,CAAaL,eAAb,CAAX,CA1CmB,CA4CnB;;YACA,CAACI,QAAQ,IAAIE,MAAb,EAAqBkH,OAArB;UACD,CAlJE;UAmJHQ,KAAK,EAAE,UAAS6G,UAAT,EAAqB;YAC1BvO,MAAM,CAACI,OAAP,CAAe,+BAAf,EAAgDmO,UAAhD;YACAA,UAAU,GAAGvO,MAAM,CAACkN,MAAP,CAAcwC,MAAd,CAAqBnB,UAArB,CAAb;YACA,IAAIoB,CAAJ;;YACA,IAAG,CAACA,CAAC,GAACzJ,MAAM,CAAC8E,MAAP,CAAc,MAAMuD,UAApB,CAAH,EAAoCjM,MAApC,GAA6C,CAAhD,EAAoD;cAClD,OAAOqN,CAAP;YACD;;YACD,IAAG,CAACA,CAAC,GAACzJ,MAAM,CAAC8E,MAAP,CAAc,YAAYuD,UAAZ,GAAwB,IAAtC,CAAH,EAAgDjM,MAAhD,GAAyD,CAA5D,EAAgE;cAC9D,OAAOqN,CAAP;YACD;;YACD,IAAG,CAACA,CAAC,GAACzJ,MAAM,CAAC8E,MAAP,CAAc,YAAYuD,UAAZ,GAAwB,MAAtC,CAAH,EAAkDjM,MAAlD,GAA2D,CAA9D,EAAkE;cAChE,OAAOqN,CAAP;YACD;;YACD,IAAG,CAACA,CAAC,GAACzJ,MAAM,CAAC8E,MAAP,CAAc,WAAWtE,QAAQ,CAACyB,QAApB,GAA+B,IAA/B,GAAqCoG,UAArC,GAAiD,IAA/D,CAAH,EAAyEjM,MAAzE,GAAkF,CAArF,EAAyF;cACvF,OAAOqN,CAAP;YACD;;YACD,OAAO1R,CAAC,CAAC,UAAD,CAAR;UACD,CApKE;UAqKHmQ,MAAM,EAAE,UAASA,MAAT,EAAiB;YACvB,IACEwB,OAAO,GAAG3R,CAAC,EADb;YAGAA,CAAC,CAAC2D,IAAF,CAAOwM,MAAP,EAAe,UAASvM,KAAT,EAAgBL,IAAhB,EAAsB;cACnCoO,OAAO,GAAGA,OAAO,CAACC,GAAR,CAAa7P,MAAM,CAACiH,GAAP,CAAWS,KAAX,CAAiBlG,IAAjB,CAAb,CAAV;YACD,CAFD;YAGA,OAAOoO,OAAP;UACD,CA7KE;UA8KHnJ,UAAU,EAAE,UAASP,MAAT,EAAiB;YAC3B,IACE4J,eADF,EAEEvB,UAFF;;YAIA,IAAG,CAAC9H,UAAJ,EAAgB;cACd,OAAO,KAAP;YACD;;YACDxI,CAAC,CAAC2D,IAAF,CAAO6E,UAAP,EAAmB,UAASoE,SAAT,EAAoBnD,KAApB,EAA2B;cAC5C6G,UAAU,GAAG7G,KAAK,CAAC6G,UAAN,IAAoB1D,SAAjC;cACA5M,CAAC,CAAC2D,IAAF,CAAO5B,MAAM,CAACiH,GAAP,CAAWS,KAAX,CAAiB6G,UAAjB,CAAP,EAAqC,UAAS1M,KAAT,EAAgBkO,UAAhB,EAA4B;gBAC/D,IAAGA,UAAU,IAAI7J,MAAM,CAAC,CAAD,CAAvB,EAA4B;kBAC1BwB,KAAK,CAAC6G,UAAN,GAAmBA,UAAnB;kBACAuB,eAAe,GAAGpI,KAAlB;kBACA,OAAO,KAAP;gBACD;cACF,CAND;YAOD,CATD;YAUA,OAAOoI,eAAe,IAAI,KAA1B;UACD,CAjME;UAkMH3N,KAAK,EAAE,UAAUuF,KAAV,EAAiB;YACtB,IACE0G,MAAM,GAAG,EADX;YAAA,IAEE4B,OAFF;YAIA5B,MAAM,CAACtM,IAAP,CAAY4F,KAAZ;YACAsI,OAAO,GAAGhQ,MAAM,CAACiH,GAAP,CAAWgJ,MAAX,CAAkB7Q,IAAlB,CAAuBS,OAAvB,EAAgCuO,MAAhC,CAAV;YACA,OAAO4B,OAAO,CAACtI,KAAD,CAAd;UACD,CA1ME;UA2MHuI,MAAM,EAAE,UAAU7B,MAAV,EAAkB;YACxB,IACEwB,OAAO,GAAGlL,KAAK,CAACC,OAAN,CAAcyJ,MAAd,IACNpO,MAAM,CAACiH,GAAP,CAAWmH,MAAX,CAAkBA,MAAlB,CADM,GAENlI,MAHN;YAAA,IAIE+J,MAAM,GAAG,EAJX;YAMAL,OAAO,CAAChO,IAAR,CAAa,UAASC,KAAT,EAAgB6F,KAAhB,EAAuB;cAClC,IACExB,MAAM,GAASjI,CAAC,CAACyJ,KAAD,CADlB;cAAA,IAEE8B,SAAS,GAAMtD,MAAM,CAACqD,OAAP,CAAezD,QAAQ,CAAC2D,UAAxB,CAFjB;cAAA,IAGEjI,IAAI,GAAW0E,MAAM,CAACwC,IAAP,CAAY,MAAZ,CAHjB;cAAA,IAIEvG,KAAK,GAAU+D,MAAM,CAACuE,GAAP,EAJjB;cAAA,IAKEd,UAAU,GAAKzD,MAAM,CAAC0D,EAAP,CAAU9D,QAAQ,CAACmF,QAAnB,CALjB;cAAA,IAMEiF,OAAO,GAAQhK,MAAM,CAAC0D,EAAP,CAAU9D,QAAQ,CAACqK,KAAnB,CANjB;cAAA,IAOEC,UAAU,GAAM5O,IAAI,CAACuN,OAAL,CAAa,IAAb,MAAuB,CAAC,CAP1C;cAAA,IAQE7E,UAAU,GAAMV,SAAS,CAAClH,MAAV,GAAmB,CAAnB,IAAyBtC,MAAM,CAACgK,GAAP,CAAWC,UAAX,CAAsB,UAAtB,CAR3C;cAAA,IASEoG,SAAS,GAAO1G,UAAD,GACXzD,MAAM,CAAC0D,EAAP,CAAU,UAAV,CADW,GAEX,KAXN;;cAaA,IAAGpI,IAAH,EAAS;gBACP,IAAG4O,UAAH,EAAe;kBACb5O,IAAI,GAAGA,IAAI,CAACuM,OAAL,CAAa,IAAb,EAAmB,EAAnB,CAAP;;kBACA,IAAG,CAACkC,MAAM,CAACzO,IAAD,CAAV,EAAkB;oBAChByO,MAAM,CAACzO,IAAD,CAAN,GAAe,EAAf;kBACD;;kBACD,IAAGmI,UAAH,EAAe;oBACb,IAAG0G,SAAH,EAAc;sBACZJ,MAAM,CAACzO,IAAD,CAAN,CAAaM,IAAb,CAAkBK,KAAK,IAAI,IAA3B;oBACD,CAFD,MAGK;sBACH8N,MAAM,CAACzO,IAAD,CAAN,CAAaM,IAAb,CAAkB,KAAlB;oBACD;kBACF,CAPD,MAQK;oBACHmO,MAAM,CAACzO,IAAD,CAAN,CAAaM,IAAb,CAAkBK,KAAlB;kBACD;gBACF,CAhBD,MAiBK;kBACH,IAAG+N,OAAH,EAAY;oBACV,IAAGD,MAAM,CAACzO,IAAD,CAAN,KAAiBpD,SAAjB,IAA8B6R,MAAM,CAACzO,IAAD,CAAN,KAAiB,KAAlD,EAAyD;sBACvDyO,MAAM,CAACzO,IAAD,CAAN,GAAgB6O,SAAD,GACXlO,KAAK,IAAI,IADE,GAEX,KAFJ;oBAID;kBACF,CAPD,MAQK,IAAGwH,UAAH,EAAe;oBAClB,IAAG0G,SAAH,EAAc;sBACZJ,MAAM,CAACzO,IAAD,CAAN,GAAeW,KAAK,IAAI,IAAxB;oBACD,CAFD,MAGK;sBACH8N,MAAM,CAACzO,IAAD,CAAN,GAAe,KAAf;oBACD;kBACF,CAPI,MAQA,IAAG0I,UAAH,EAAe;oBAClB,IAAIoG,IAAI,GAAG9G,SAAS,CAACgB,QAAV,CAAmB,UAAnB,CAAX;;oBAEA,IAAI8F,IAAI,KAAK,IAAb,EAAmB;sBACjB,IAAIjR,QAAQ,CAACkR,YAAT,IAAyB,MAA7B,EAAqC;wBACnCN,MAAM,CAACzO,IAAD,CAAN,GAAe8O,IAAf;sBACD,CAFD,MAEO,IAAGjR,QAAQ,CAACkR,YAAT,IAAyB,OAA5B,EAAqC;wBAC1CN,MAAM,CAACzO,IAAD,CAAN,GAAegI,SAAS,CAACgB,QAAV,CAAmB,gBAAnB,CAAf;sBACD,CAFM,MAEA,IAAInL,QAAQ,CAACkR,YAAT,IAAyB,WAA7B,EAA0C;wBAC/C,IAAI9H,IAAI,GAAGe,SAAS,CAACgB,QAAV,CAAmB,SAAnB,EAA8B,MAA9B,CAAX;;wBAEA,QAAO/B,IAAP;0BACE,KAAK,MAAL;4BACAwH,MAAM,CAACzO,IAAD,CAAN,GAAenC,QAAQ,CAACmR,SAAT,CAAmBF,IAAnB,CAAwBA,IAAxB,CAAf;4BACA;;0BAEA,KAAK,UAAL;4BACAL,MAAM,CAACzO,IAAD,CAAN,GAAenC,QAAQ,CAACmR,SAAT,CAAmBC,QAAnB,CAA4BH,IAA5B,CAAf;4BACA;;0BAEA,KAAK,MAAL;4BACAL,MAAM,CAACzO,IAAD,CAAN,GAAenC,QAAQ,CAACmR,SAAT,CAAmB7R,IAAnB,CAAwB2R,IAAxB,CAAf;4BACA;;0BAEA,KAAK,OAAL;4BACAL,MAAM,CAACzO,IAAD,CAAN,GAAenC,QAAQ,CAACmR,SAAT,CAAmBE,KAAnB,CAAyBJ,IAAzB,CAAf;4BACA;;0BAEA,KAAK,MAAL;4BACAL,MAAM,CAACzO,IAAD,CAAN,GAAenC,QAAQ,CAACmR,SAAT,CAAmBG,IAAnB,CAAwBL,IAAxB,CAAf;4BACA;;0BAEA;4BACAtQ,MAAM,CAACS,KAAP,CAAa,qBAAb,EAAoC+I,SAApC,EAA+Cf,IAA/C;4BACAwH,MAAM,CAACzO,IAAD,CAAN,GAAe,EAAf;wBAvBF;sBAyBD;oBACF,CAlCD,MAkCO;sBACLyO,MAAM,CAACzO,IAAD,CAAN,GAAe,EAAf;oBACD;kBACF,CAxCI,MAwCE;oBACLyO,MAAM,CAACzO,IAAD,CAAN,GAAeW,KAAf;kBACD;gBACF;cACF;YACF,CA9FD;YA+FA,OAAO8N,MAAP;UACD,CAlTE;UAmTHW,WAAW,EAAE,YAAW;YACtB,OAAO1K,MAAM,CAAC8E,MAAP,CAAc,UAASnJ,KAAT,EAAgBkH,CAAhB,EAAmB;cACtC,OAAO9K,CAAC,CAAC8K,CAAD,CAAD,CAAKhJ,IAAL,CAAU2G,QAAQ,CAACuC,OAAnB,CAAP;YACD,CAFM,CAAP;UAGD;QAvTE,CA9YO;QAwsBZ4H,GAAG,EAAE;UAEHnJ,KAAK,EAAE,UAAS6G,UAAT,EAAqB;YAC1BvO,MAAM,CAACI,OAAP,CAAe,mDAAf,EAAoEmO,UAApE;YACAA,UAAU,GAAGvO,MAAM,CAACkN,MAAP,CAAcwC,MAAd,CAAqBnB,UAArB,CAAb;;YACA,IAAG,OAAOA,UAAP,KAAsB,QAAzB,EAAmC;cACjCvO,MAAM,CAACP,KAAP,CAAaA,KAAK,CAAC8O,UAAnB,EAA+BA,UAA/B;YACD;;YACD,IAAGrI,MAAM,CAAC8E,MAAP,CAAc,MAAMuD,UAApB,EAAgCjM,MAAhC,GAAyC,CAA5C,EAAgD;cAC9C,OAAO,IAAP;YACD,CAFD,MAGK,IAAI4D,MAAM,CAAC8E,MAAP,CAAc,YAAYuD,UAAZ,GAAwB,IAAtC,EAA4CjM,MAA5C,GAAqD,CAAzD,EAA6D;cAChE,OAAO,IAAP;YACD,CAFI,MAGA,IAAI4D,MAAM,CAAC8E,MAAP,CAAc,WAAWtE,QAAQ,CAACyB,QAApB,GAA+B,IAA/B,GAAqCoG,UAArC,GAAiD,IAA/D,EAAqEjM,MAArE,GAA8E,CAAlF,EAAsF;cACzF,OAAO,IAAP;YACD;;YACD,OAAO,KAAP;UACD;QAlBE,CAxsBO;QA8tBZ0H,GAAG,EAAE;UACDC,UAAU,EAAE,UAASpK,OAAT,EAAiB;YAC1B,IAAI5B,CAAC,CAACQ,EAAF,CAAKoB,OAAL,MAAkBzB,SAAtB,EAAiC;cAC7B,OAAO,IAAP;YACH;;YACD4B,MAAM,CAACP,KAAP,CAAaA,KAAK,CAACqR,SAAN,CAAgB/C,OAAhB,CAAwB,WAAxB,EAAoClO,OAApC,CAAb;YACA,OAAO,KAAP;UACF;QAPA,CA9tBO;QAwuBZqN,MAAM,EAAE;UACNwC,MAAM,EAAE,UAAS/B,IAAT,EAAe;YACrBA,IAAI,GAAI/B,MAAM,CAAC+B,IAAD,CAAd;YACA,OAAOA,IAAI,CAACI,OAAL,CAAanH,MAAM,CAACsG,MAApB,EAA4B,MAA5B,CAAP;UACD;QAJK,CAxuBI;QA+uBZ2C,GAAG,EAAE;UACH;UACAvE,IAAI,EAAE,UAAS9J,IAAT,EAAeiK,KAAf,EAAsB;YAC1BzL,MAAM,CAAC6P,GAAP,CAAWnI,KAAX,CAAiBlG,IAAjB,EAAuBiK,KAAvB;UACD,CAJE;UAKH/D,KAAK,EAAE,UAASlG,IAAT,EAAeiK,KAAf,EAAsB;YAC3B;YACA,IAAGhF,UAAU,CAACjF,IAAD,CAAV,KAAqBpD,SAArB,IAAkCqI,UAAU,CAACjF,IAAD,CAAV,CAAiBiK,KAAjB,KAA2BrN,SAAhE,EAA2E;cACzEqI,UAAU,CAACjF,IAAD,CAAV,GAAmB;gBACjBiK,KAAK,EAAE;cADU,CAAnB;YAGD;;YACD,IACEsF,aAAa,GAAG;cACdtF,KAAK,EAAE;YADO,CADlB;;YAKA,IAAGzL,MAAM,CAAC4J,EAAP,CAAU4B,cAAV,CAAyBC,KAAzB,CAAH,EAAoC;cAClCA,KAAK,GAAG/G,KAAK,CAACC,OAAN,CAAc8G,KAAd,IACJA,KADI,GAEJ,CAACA,KAAD,CAFJ;cAIAxN,CAAC,CAAC2D,IAAF,CAAO6J,KAAP,EAAc,UAASuF,MAAT,EAAiB1F,IAAjB,EAAuB;gBACnCyF,aAAa,CAACtF,KAAd,CAAoB3J,IAApB,CAAyB;kBAAE2G,IAAI,EAAE6C;gBAAR,CAAzB;cACD,CAFD;YAGD,CARD,MASK;cACHyF,aAAa,CAACtF,KAAd,GAAsBA,KAAK,CAACA,KAA5B;YACD,CAvB0B,CAwB3B;;;YACAxN,CAAC,CAAC2D,IAAF,CAAOmP,aAAa,CAACtF,KAArB,EAA4B,UAAUuF,MAAV,EAAkB1F,IAAlB,EAAwB;cAClD,IAAIrN,CAAC,CAACgT,IAAF,CAAOxK,UAAU,CAACjF,IAAD,CAAV,CAAiBiK,KAAxB,EAA+B,UAASyF,IAAT,EAAc;gBAAE,OAAOA,IAAI,CAACzI,IAAL,IAAa6C,IAAI,CAAC7C,IAAzB;cAAgC,CAA/E,EAAiFnG,MAAjF,IAA2F,CAA/F,EAAkG;gBAChGmE,UAAU,CAACjF,IAAD,CAAV,CAAiBiK,KAAjB,CAAuB3J,IAAvB,CAA4BwJ,IAA5B;cACD;YACF,CAJD;YAKAtL,MAAM,CAACS,KAAP,CAAa,cAAb,EAA6BsQ,aAAa,CAACtF,KAA3C,EAAkDhF,UAAlD;UACD,CApCE;UAqCH2H,MAAM,EAAE,UAASA,MAAT,EAAiB;YACvB3H,UAAU,GAAGxI,CAAC,CAACsB,MAAF,CAAS,EAAT,EAAakH,UAAb,EAAyBzG,MAAM,CAACiH,GAAP,CAAWkH,mBAAX,CAA+BC,MAA/B,CAAzB,CAAb;UACD,CAvCE;UAwCHzG,MAAM,EAAE,UAAS4G,UAAT,EAAqB4C,MAArB,EAA6BrO,QAA7B,EAAuC;YAC7C,IACEoD,MAAM,GAASlG,MAAM,CAACiH,GAAP,CAAWS,KAAX,CAAiB6G,UAAjB,CADjB;YAAA,IAEEjF,WAAW,GAAIpD,MAAM,CAACqD,OAAP,CAAepD,MAAf,CAFjB;YAAA,IAGEE,OAAO,GAAQiD,WAAW,CAAC8H,QAAZ,CAAqBtL,QAAQ,CAAC6B,MAA9B,CAHjB;YAAA,IAIE0J,YAAY,GAAIhL,OAAO,CAAC/D,MAAR,KAAmB,CAJrC;YAMA6O,MAAM,GAAI,OAAOA,MAAP,IAAiB,QAAlB,GACL,CAACA,MAAD,CADK,GAELA,MAFJ;YAIAnR,MAAM,CAACI,OAAP,CAAe,0BAAf,EAA2CmO,UAA3C;;YACA,IAAG,CAACzL,QAAJ,EAAc;cACZwG,WAAW,CACNgI,QADL,CACc3K,SAAS,CAAClH,KADxB;YAGD;;YACD,IAAGJ,QAAQ,CAACmO,MAAZ,EAAoB;cAClB,IAAG,CAAC6D,YAAJ,EAAkB;gBAChBhL,OAAO,GAAGhH,QAAQ,CAACkS,SAAT,CAAmB5J,MAAnB,CAA0BwJ,MAA1B,EAAkCxK,SAAS,CAAC6K,KAA5C,CAAV;gBACAnL,OAAO,CACJoL,QADH,CACYnI,WADZ;cAGD;;cACDjD,OAAO,CACJqL,IADH,CACQP,MAAM,CAAC,CAAD,CADd;;cAGA,IAAG,CAACE,YAAJ,EAAkB;gBAChB,IAAGhS,QAAQ,CAACsS,UAAT,IAAuB3R,MAAM,CAACgK,GAAP,CAAWC,UAAX,CAAsB,YAAtB,CAAvB,IAA8DrK,OAAO,CAAC+R,UAAR,CAAmB,cAAnB,CAAjE,EAAqG;kBACnG3R,MAAM,CAACI,OAAP,CAAe,sCAAf,EAAuDf,QAAQ,CAACsS,UAAhE;kBACAtL,OAAO,CAACsL,UAAR,CAAmBtS,QAAQ,CAACsS,UAAT,GAAsB,KAAzC,EAAgDtS,QAAQ,CAACuS,QAAzD;gBACD,CAHD,MAIK;kBACH5R,MAAM,CAACI,OAAP,CAAe,qDAAf;kBACAiG,OAAO,CACJwL,MADH,CACUxS,QAAQ,CAACuS,QADnB;gBAGD;cACF,CAXD,MAYK;gBACH5R,MAAM,CAACI,OAAP,CAAe,mDAAf,EAAoEmO,UAApE;cACD;YACF;UACF,CAnFE;UAoFH4C,MAAM,EAAE,UAASA,MAAT,EAAiB;YACvBnR,MAAM,CAACS,KAAP,CAAa,4BAAb,EAA2C0Q,MAA3C;YACAnR,MAAM,CAACoH,GAAP,CAAW3H,KAAX;YACA2G,QAAQ,CACLsL,IADH,CACSrS,QAAQ,CAACkS,SAAT,CAAmB9R,KAAnB,CAAyB0R,MAAzB,CADT;UAGD;QA1FE,CA/uBO;QA40BZ7G,MAAM,EAAE;UACN6G,MAAM,EAAE,YAAW;YACjBnR,MAAM,CAACS,KAAP,CAAa,8BAAb;YACA2F,QAAQ,CAACsF,KAAT;UACD,CAJK;UAKNhB,MAAM,EAAE,YAAW;YACjB9K,OAAO,CAACyK,WAAR,CAAoB1D,SAAS,CAAClH,KAA9B,EAAqC4K,WAArC,CAAiD1D,SAAS,CAACmL,OAA3D;;YACA,IAAG,CAACzS,QAAQ,CAACmO,MAAb,EAAqB;cACnBxN,MAAM,CAACsK,MAAP,CAAc6G,MAAd;YACD;;YACDnR,MAAM,CAACgJ,SAAP,CAAiBC,OAAjB;UACD,CAXK;UAYNqC,IAAI,EAAE,UAAS5D,KAAT,EAAgB4D,IAAhB,EAAsB;YAC1B,IACEG,KAAK,GAAG/G,KAAK,CAACC,OAAN,CAAc2G,IAAd,IACJA,IADI,GAEJ,CAACA,IAAD,CAHN;;YAKA,IAAG7E,UAAU,CAACiB,KAAD,CAAV,KAAsBtJ,SAAtB,IAAmC,CAACsG,KAAK,CAACC,OAAN,CAAc8B,UAAU,CAACiB,KAAD,CAAV,CAAkB+D,KAAhC,CAAvC,EAA+E;cAC7E;YACD;;YACD,IAAGH,IAAI,KAAKlN,SAAZ,EAAuB;cACrB4B,MAAM,CAACS,KAAP,CAAa,mBAAb;cACAgG,UAAU,CAACiB,KAAD,CAAV,CAAkB+D,KAAlB,GAA0B,EAA1B;cACA;YACD;;YACDxN,CAAC,CAAC2D,IAAF,CAAO6E,UAAU,CAACiB,KAAD,CAAV,CAAkB+D,KAAzB,EAAgC,UAAS5J,KAAT,EAAgByJ,IAAhB,EAAsB;cACpD,IAAGA,IAAI,IAAIG,KAAK,CAACsD,OAAN,CAAczD,IAAI,CAAC7C,IAAnB,MAA6B,CAAC,CAAzC,EAA4C;gBAC1CzI,MAAM,CAACS,KAAP,CAAa,cAAb,EAA6B6K,IAAI,CAAC7C,IAAlC;gBACAhC,UAAU,CAACiB,KAAD,CAAV,CAAkB+D,KAAlB,CAAwBsG,MAAxB,CAA+BlQ,KAA/B,EAAsC,CAAtC;cACD;YACF,CALD;UAMD,CAhCK;UAiCN6F,KAAK,EAAE,UAASA,KAAT,EAAgB;YACrB,IACE0G,MAAM,GAAG1J,KAAK,CAACC,OAAN,CAAc+C,KAAd,IACLA,KADK,GAEL,CAACA,KAAD,CAHN;YAKAzJ,CAAC,CAAC2D,IAAF,CAAOwM,MAAP,EAAe,UAASvM,KAAT,EAAgB6F,KAAhB,EAAuB;cACpC1H,MAAM,CAACsK,MAAP,CAAcgB,IAAd,CAAmB5D,KAAnB;YACD,CAFD;UAGD,CA1CK;UA2CN;UACA+D,KAAK,EAAE,UAAS/D,KAAT,EAAgB+D,KAAhB,EAAuB;YAC5B,IAAG/G,KAAK,CAACC,OAAN,CAAc+C,KAAd,CAAH,EAAyB;cACvBzJ,CAAC,CAAC2D,IAAF,CAAO8F,KAAP,EAAc,UAAS7F,KAAT,EAAgB6F,KAAhB,EAAuB;gBACnC1H,MAAM,CAACsK,MAAP,CAAcgB,IAAd,CAAmB5D,KAAnB,EAA0B+D,KAA1B;cACD,CAFD;YAGD,CAJD,MAKK;cACHzL,MAAM,CAACsK,MAAP,CAAcgB,IAAd,CAAmB5D,KAAnB,EAA0B+D,KAA1B;YACD;UACF,CArDK;UAsDN2C,MAAM,EAAE,UAASA,MAAT,EAAiB;YACvBpO,MAAM,CAACsK,MAAP,CAAc5C,KAAd,CAAoB0G,MAApB;UACD,CAxDK;UAyDNzG,MAAM,EAAE,UAAS4G,UAAT,EAAqB;YAC3B,IACErI,MAAM,GAAQlG,MAAM,CAACiH,GAAP,CAAWS,KAAX,CAAiB6G,UAAjB,CADhB;YAAA,IAEEjF,WAAW,GAAGpD,MAAM,CAACqD,OAAP,CAAepD,MAAf,CAFhB;YAAA,IAGEE,OAAO,GAAOiD,WAAW,CAAC8H,QAAZ,CAAqBtL,QAAQ,CAAC6B,MAA9B,CAHhB;YAKA2B,WAAW,CACRe,WADH,CACe1D,SAAS,CAAClH,KADzB;;YAGA,IAAGJ,QAAQ,CAACmO,MAAT,IAAmBnH,OAAO,CAACuD,EAAR,CAAW,UAAX,CAAtB,EAA8C;cAC5C5J,MAAM,CAACI,OAAP,CAAe,2BAAf,EAA4CmO,UAA5C;;cACA,IAAGlP,QAAQ,CAACsS,UAAT,IAAwB3R,MAAM,CAACgK,GAAP,CAAWC,UAAX,CAAsB,YAAtB,CAAxB,IAA+DrK,OAAO,CAAC+R,UAAR,CAAmB,cAAnB,CAAlE,EAAsG;gBACpGtL,OAAO,CAACsL,UAAR,CAAmBtS,QAAQ,CAACsS,UAAT,GAAsB,MAAzC,EAAiDtS,QAAQ,CAACuS,QAA1D,EAAoE,YAAW;kBAC7EvL,OAAO,CAACiE,MAAR;gBACD,CAFD;cAGD,CAJD,MAKK;gBACHjE,OAAO,CACJ2L,OADH,CACW3S,QAAQ,CAACuS,QADpB,EAC8B,YAAU;kBACpCvL,OAAO,CAACiE,MAAR;gBACD,CAHH;cAKD;YACF;UACF;QAjFK,CA50BI;QAg6BZlD,GAAG,EAAE;UACH0K,OAAO,EAAE,YAAW;YAClBlS,OAAO,CACJyK,WADH,CACe1D,SAAS,CAAClH,KADzB,EAEG6R,QAFH,CAEY3K,SAAS,CAACmL,OAFtB;UAID,CANE;UAOHzK,QAAQ,EAAE,YAAY;YACpBnB,MAAM,CAACtE,IAAP,CAAY,UAAUC,KAAV,EAAiB0G,EAAjB,EAAqB;cAC/B,IACEwC,GAAG,GAAU9M,CAAC,CAACsK,EAAD,CADhB;cAAA,IAEE0J,OAAO,GAAMlH,GAAG,CAAC1B,MAAJ,EAFf;cAAA,IAGEM,UAAU,GAAIoB,GAAG,CAACC,MAAJ,CAAWlF,QAAQ,CAACmF,QAApB,EAA8B3I,MAA9B,GAAuC,CAHvD;cAAA,IAIEwH,UAAU,GAAGmI,OAAO,CAACrI,EAAR,CAAW9D,QAAQ,CAACiE,UAApB,KAAmC/J,MAAM,CAACgK,GAAP,CAAWC,UAAX,CAAsB,UAAtB,CAJlD;cAAA,IAKET,SAAS,GAAKuB,GAAG,CAACxB,OAAJ,CAAYzD,QAAQ,CAAC2D,UAArB,CALhB;cAAA,IAMES,UAAU,GAAKV,SAAS,CAAClH,MAAV,GAAmB,CAAnB,IAAyBtC,MAAM,CAACgK,GAAP,CAAWC,UAAX,CAAsB,UAAtB,CAN1C;cAAA,IAOE9H,KAAK,GAASwH,UAAD,GACToB,GAAG,CAACnB,EAAJ,CAAO,UAAP,CADS,GAETmB,GAAG,CAACN,GAAJ,EATN;;cAWA,IAAIX,UAAJ,EAAgB;gBACdmI,OAAO,CAAC1H,QAAR,CAAiB,eAAjB;cACD,CAFD,MAGK,IAAIL,UAAJ,EAAgB;gBACnBV,SAAS,CAACgB,QAAV,CAAmB,SAAnB;cACD;;cACDO,GAAG,CAAChL,IAAJ,CAAS2G,QAAQ,CAACgD,YAAlB,EAAgCvH,KAAhC;cACA4I,GAAG,CAAChL,IAAJ,CAAS2G,QAAQ,CAACuC,OAAlB,EAA2B,KAA3B;YACD,CApBD;UAqBD,CA7BE;UA8BHxJ,KAAK,EAAE,YAAW;YAChBG,OAAO,CACJyK,WADH,CACe1D,SAAS,CAACmL,OADzB,EAEGR,QAFH,CAEY3K,SAAS,CAAClH,KAFtB;UAID,CAnCE;UAoCH0C,KAAK,EAAE,UAAUuF,KAAV,EAAiBvF,KAAjB,EAAwB;YAC7B,IACEiM,MAAM,GAAG,EADX;YAGAA,MAAM,CAAC1G,KAAD,CAAN,GAAgBvF,KAAhB;YACA,OAAOnC,MAAM,CAACoH,GAAP,CAAW6I,MAAX,CAAkB7Q,IAAlB,CAAuBS,OAAvB,EAAgCuO,MAAhC,CAAP;UACD,CA1CE;UA2CH6B,MAAM,EAAE,UAAU7B,MAAV,EAAkB;YACxB,IAAGnQ,CAAC,CAACiU,aAAF,CAAgB9D,MAAhB,CAAH,EAA4B;cAC1B;YACD;;YACDnQ,CAAC,CAAC2D,IAAF,CAAOwM,MAAP,EAAe,UAASzB,GAAT,EAAcxK,KAAd,EAAqB;cAClC,IACE+D,MAAM,GAAQlG,MAAM,CAACiH,GAAP,CAAWS,KAAX,CAAiBiF,GAAjB,CADhB;cAAA,IAEEvD,QAAQ,GAAMlD,MAAM,CAACmD,MAAP,EAFhB;cAAA,IAGEG,SAAS,GAAKtD,MAAM,CAACqD,OAAP,CAAezD,QAAQ,CAAC2D,UAAxB,CAHhB;cAAA,IAIE2G,UAAU,GAAI1L,KAAK,CAACC,OAAN,CAAcxC,KAAd,CAJhB;cAAA,IAKEwH,UAAU,GAAIP,QAAQ,CAACQ,EAAT,CAAY9D,QAAQ,CAAC+D,UAArB,KAAqC7J,MAAM,CAACgK,GAAP,CAAWC,UAAX,CAAsB,UAAtB,CALrD;cAAA,IAMEH,UAAU,GAAIV,QAAQ,CAACQ,EAAT,CAAY9D,QAAQ,CAACiE,UAArB,KAAoC/J,MAAM,CAACgK,GAAP,CAAWC,UAAX,CAAsB,UAAtB,CANpD;cAAA,IAOEiG,OAAO,GAAQhK,MAAM,CAAC0D,EAAP,CAAU9D,QAAQ,CAACqK,KAAnB,KAA6BxG,UAP9C;cAAA,IAQEO,UAAU,GAAKV,SAAS,CAAClH,MAAV,GAAmB,CAAnB,IAAyBtC,MAAM,CAACgK,GAAP,CAAWC,UAAX,CAAsB,UAAtB,CAR1C;cAAA,IASEkI,WAAW,GAAIjM,MAAM,CAAC5D,MAAP,GAAgB,CATjC;cAAA,IAUE8P,cAVF;;cAYA,IAAGD,WAAH,EAAgB;gBACd,IAAG/B,UAAU,IAAIzG,UAAjB,EAA6B;kBAC3B3J,MAAM,CAACI,OAAP,CAAe,oBAAf,EAAqC+B,KAArC,EAA4C+D,MAA5C;kBACAkD,QAAQ,CAAC6B,QAAT,CAAkB,SAAlB;kBACAhN,CAAC,CAAC2D,IAAF,CAAOO,KAAP,EAAc,UAASN,KAAT,EAAgBM,KAAhB,EAAuB;oBACnCiQ,cAAc,GAAGlM,MAAM,CAAC8E,MAAP,CAAc,aAAa7I,KAAb,GAAqB,IAAnC,CAAjB;oBACAiH,QAAQ,GAASgJ,cAAc,CAAC/I,MAAf,EAAjB;;oBACA,IAAG+I,cAAc,CAAC9P,MAAf,GAAwB,CAA3B,EAA8B;sBAC5B8G,QAAQ,CAAC6B,QAAT,CAAkB,OAAlB;oBACD;kBACF,CAND;gBAOD,CAVD,MAWK,IAAGiF,OAAH,EAAY;kBACflQ,MAAM,CAACI,OAAP,CAAe,uBAAf,EAAwC+B,KAAxC,EAA+C+D,MAA/C;kBACAA,MAAM,CAAC8E,MAAP,CAAc,aAAa7I,KAAb,GAAqB,IAAnC,EACGkH,MADH,CACUvD,QAAQ,CAAC+D,UADnB,EAEKoB,QAFL,CAEc,OAFd;gBAID,CANI,MAOA,IAAGtB,UAAH,EAAe;kBAClB3J,MAAM,CAACI,OAAP,CAAe,wBAAf,EAAyC+B,KAAzC,EAAgDiH,QAAhD;;kBACA,IAAGjH,KAAK,KAAK,IAAV,IAAkBA,KAAK,KAAK,CAA/B,EAAkC;oBAChCiH,QAAQ,CAAC6B,QAAT,CAAkB,OAAlB;kBACD,CAFD,MAGK;oBACH7B,QAAQ,CAAC6B,QAAT,CAAkB,SAAlB;kBACD;gBACF,CARI,MASA,IAAGnB,UAAH,EAAe;kBAClB9J,MAAM,CAACI,OAAP,CAAe,wBAAf,EAAyC+B,KAAzC,EAAgDiH,QAAhD;kBACAA,QAAQ,CAACmB,QAAT,CAAkB,cAAlB,EAAkCpI,KAAlC;gBACD,CAHI,MAIA,IAAI+H,UAAJ,EAAgB;kBACnBV,SAAS,CAACgB,QAAV,CAAmB,UAAnB,EAA8BrI,KAA9B;gBACD,CAFI,MAGA;kBACHnC,MAAM,CAACI,OAAP,CAAe,qBAAf,EAAsC+B,KAAtC,EAA6C+D,MAA7C;kBACAA,MAAM,CAACuE,GAAP,CAAWtI,KAAX;gBACD;cACF;YACF,CArDD;UAsDD,CArGE;UAsGH4E,KAAK,EAAE,YAAW;YAChB/G,MAAM,CAACI,OAAP,CAAe,qBAAf;YACA2G,KAAK,GAAG,IAAR;YACAC,OAAO,CAAC,CAAD,CAAP,GAAaA,OAAO,CAAC,CAAD,CAApB;YACAA,OAAO,CAAC,CAAD,CAAP,GAAa,OAAb;;YAEA,IAAIhH,MAAM,CAAC4J,EAAP,CAAU6C,SAAV,EAAJ,EAA2B;cACzB7M,OAAO,CAACyS,OAAR,CAAgB,OAAhB;YACD;UACF,CA/GE;UAgHHjH,KAAK,EAAE,YAAW;YAChBpL,MAAM,CAACI,OAAP,CAAe,qBAAf;YACA2G,KAAK,GAAG,KAAR;YACAC,OAAO,CAAC,CAAD,CAAP,GAAaA,OAAO,CAAC,CAAD,CAApB;YACAA,OAAO,CAAC,CAAD,CAAP,GAAa,OAAb;;YAEA,IAAIhH,MAAM,CAAC4J,EAAP,CAAU4C,SAAV,EAAJ,EAA2B;cACzB5M,OAAO,CAACyS,OAAR,CAAgB,OAAhB;YACD;UACF,CAzHE;UA0HHC,OAAO,EAAE,YAAW;YAClBtS,MAAM,CAACoH,GAAP,CAAWC,QAAX;YACArH,MAAM,CAACoH,GAAP,CAAWgE,KAAX;UACD,CA7HE;UA8HHmH,OAAO,EAAE,YAAW;YAClBvS,MAAM,CAACoH,GAAP,CAAWC,QAAX;YACArH,MAAM,CAACoH,GAAP,CAAWL,KAAX;UACD,CAjIE;UAkIHQ,SAAS,EAAE,YAAW;YACpBvH,MAAM,CAACS,KAAP,CAAa,wCAAb;YACAyF,MAAM,CAACtE,IAAP,CAAY,UAAUoP,MAAV,EAAkBzI,EAAlB,EAAsB;cAChC,IACEwC,GAAG,GAAU9M,CAAC,CAACsK,EAAD,CADhB;cAAA,IAEEiK,QAAQ,GAAKvU,CAAC,CAACsK,EAAD,CAAD,CAAMgB,OAAN,CAAcpD,MAAd,CAFf;cAAA,IAGEwD,UAAU,GAAIoB,GAAG,CAACC,MAAJ,CAAWlF,QAAQ,CAACmF,QAApB,EAA8B3I,MAA9B,GAAuC,CAHvD;cAAA,IAIEmQ,UAAU,GAAG1H,GAAG,CAACrC,IAAJ,CAAS,UAAT,KAAwB8J,QAAQ,CAACpI,QAAT,CAAkBzD,SAAS,CAAC+L,QAA5B,CAAxB,IAAiEF,QAAQ,CAACnJ,MAAT,GAAkBe,QAAlB,CAA2BzD,SAAS,CAAC+L,QAArC,CAJhF;cAAA,IAKEC,UAAU,GAAG5H,GAAG,CAACnB,EAAJ,CAAO,WAAP,KAAuB4I,QAAQ,CAACpI,QAAT,CAAkBzD,SAAS,CAAC5E,QAA5B,CAAvB,IAAgEyQ,QAAQ,CAACnJ,MAAT,GAAkBe,QAAlB,CAA2BzD,SAAS,CAAC5E,QAArC,CAL/E;cAAA,IAME0E,UAAU,GAAGzG,MAAM,CAACiH,GAAP,CAAWR,UAAX,CAAsBsE,GAAtB,CANf;cAAA,IAOE6H,YAAY,GAAGnM,UAAU,GACrBxI,CAAC,CAACgT,IAAF,CAAOxK,UAAU,CAACgF,KAAlB,EAAyB,UAASH,IAAT,EAAe;gBAAE,OAAOA,IAAI,CAAC7C,IAAL,IAAa,OAApB;cAA6B,CAAvE,MAA6E,CADxD,GAErB,KATN;cAAA,IAUE8F,UAAU,GAAG9H,UAAU,CAAC8H,UAAX,IAAyBxD,GAAG,CAAC8H,IAAJ,CAAS,IAAT,CAAzB,IAA2C9H,GAAG,CAAC8H,IAAJ,CAAS,MAAT,CAA3C,IAA+D9H,GAAG,CAAChL,IAAJ,CAAS2G,QAAQ,CAACyB,QAAlB,CAV9E;;cAYA,IAAIsK,UAAU,IAAI,CAACE,UAAf,IAA6B,CAACC,YAA9B,IAA8CrE,UAAU,KAAKnQ,SAAjE,EAA4E;gBAC1E,IAAIuL,UAAJ,EAAgB;kBACd3J,MAAM,CAACI,OAAP,CAAe,gCAAf,EAAiDmO,UAAjD;kBACAvO,MAAM,CAAC6P,GAAP,CAAWvE,IAAX,CAAgBiD,UAAhB,EAA4B,SAA5B;gBACD,CAHD,MAGO;kBACLvO,MAAM,CAACI,OAAP,CAAe,8BAAf,EAA+CmO,UAA/C;kBACAvO,MAAM,CAAC6P,GAAP,CAAWvE,IAAX,CAAgBiD,UAAhB,EAA4B,OAA5B;gBACD;cACF;YACF,CAtBD;UAuBD,CA3JE;UA4JHuE,QAAQ,EAAE,UAASvE,UAAT,EAAqBwE,IAArB,EAA2B;YACnCA,IAAI,GAAIA,IAAI,KAAK,KAAjB;YACA9U,CAAC,CAAC2D,IAAF,CAAO6E,UAAP,EAAmB,UAASoE,SAAT,EAAoBnD,KAApB,EAA2B;cAC5C,IAAI6G,UAAU,IAAI1D,SAAd,IAA2B0D,UAAU,IAAI7G,KAAK,CAAC6G,UAAnD,EAA+D;gBAC7D7G,KAAK,CAACoL,QAAN,GAAiBC,IAAjB;cACD;YACF,CAJD;UAKD;QAnKE,CAh6BO;QAskCZ5K,QAAQ,EAAE;UAERxC,IAAI,EAAE,UAASsC,KAAT,EAAgB+K,eAAhB,EAAiC;YACrC,IAAI/C,MAAM,GAAGjQ,MAAM,CAACiH,GAAP,CAAWgJ,MAAX,EAAb,CADqC,CAGrC;;YACA,IAAGhK,WAAH,EAAgB;cACd,OAAO,KAAP;YACD,CANoC,CAQrC;;;YACAD,UAAU,GAAG,EAAb;;YACA,IAAIhG,MAAM,CAACgJ,SAAP,CAAiB2B,OAAjB,EAAJ,EAAiC;cAC/B3K,MAAM,CAACS,KAAP,CAAa,2CAAb;cACAT,MAAM,CAACoH,GAAP,CAAW0K,OAAX;;cACA,IAAG,CAACzS,QAAQ,CAACmO,MAAb,EAAqB;gBACnBxN,MAAM,CAACsK,MAAP,CAAc6G,MAAd;cACD;;cACD,IAAG6B,eAAe,KAAK,IAAvB,EAA6B;gBAC3B,OAAO3T,QAAQ,CAAC4T,SAAT,CAAmB7T,IAAnB,CAAwBS,OAAxB,EAAiCoI,KAAjC,EAAwCgI,MAAxC,CAAP;cACD;YACF,CATD,MAUK;cACHjQ,MAAM,CAACS,KAAP,CAAa,iBAAb;cACAqG,UAAU,GAAG,KAAb;cACA9G,MAAM,CAACoH,GAAP,CAAW3H,KAAX;;cACA,IAAG,CAACJ,QAAQ,CAACmO,MAAb,EAAqB;gBACnBxN,MAAM,CAAC6P,GAAP,CAAWsB,MAAX,CAAkBnL,UAAlB;cACD,CANE,CAOH;;;cACA,IAAGiC,KAAK,IAAIrI,OAAO,CAACG,IAAR,CAAa,WAAb,MAA8B3B,SAA1C,EAAqD;gBACnD6J,KAAK,CAACiL,wBAAN;cACD;;cACD,IAAG7T,QAAQ,CAAC8T,UAAZ,EAAwB;gBACtB,IAAIC,YAAJ;gBAAA,IAAkBC,WAAW,GAAG,IAAhC;;gBACA,IAAI,OAAOhU,QAAQ,CAAC8T,UAAhB,KAA+B,QAAnC,EAA6C;kBAC3CC,YAAY,GAAGnV,CAAC,CAACoB,QAAQ,CAAC8T,UAAV,CAAhB;kBACAE,WAAW,GAAGD,YAAY,CAACxJ,EAAb,CAAgB,YAAhB,CAAd,CAF2C,CAG3C;;kBACA,IAAI,CAACyJ,WAAL,EAAkB;oBAChBD,YAAY,CAACP,IAAb,CAAkB,UAAlB,EAA6B,CAAC,CAA9B;kBACD;gBACF,CAPD,MAOO;kBACLO,YAAY,GAAGjN,MAAM,CAAC6E,MAAP,CAAc,MAAMrE,SAAS,CAAClH,KAA9B,EAAqC6T,KAArC,GAA6C7L,IAA7C,CAAkD3B,QAAQ,CAAC4B,KAA3D,CAAf;gBACD;;gBACD0L,YAAY,CAACG,KAAb,GAZsB,CAatB;;gBACA,IAAI,CAACF,WAAL,EAAiB;kBACfD,YAAY,CAACI,UAAb,CAAwB,UAAxB;gBACD;cACF;;cACD,IAAGR,eAAe,KAAK,IAAvB,EAA6B;gBAC3B,OAAO3T,QAAQ,CAACoU,SAAT,CAAmBrU,IAAnB,CAAwBS,OAAxB,EAAiCmG,UAAjC,EAA6CiK,MAA7C,CAAP;cACD;YACF;UACF,CAvDO;UAyDR;UACAvI,KAAK,EAAE,UAASA,KAAT,EAAgBmD,SAAhB,EAA2BkB,UAA3B,EAAuC;YAC5CA,UAAU,GAAIA,UAAU,KAAK3N,SAAhB,GACT2N,UADS,GAET,IAFJ;;YAIA,IAAG,OAAOrE,KAAP,IAAgB,QAAnB,EAA6B;cAC3B1H,MAAM,CAACI,OAAP,CAAe,kBAAf,EAAmCsH,KAAnC;cACAmD,SAAS,GAAGnD,KAAZ;cACAA,KAAK,GAAOjB,UAAU,CAACiB,KAAD,CAAtB;YACD;;YACD,IACE6G,UAAU,GAAM7G,KAAK,CAAC6G,UAAN,IAAoB1D,SADtC;YAAA,IAEE3E,MAAM,GAAUlG,MAAM,CAACiH,GAAP,CAAWS,KAAX,CAAiB6G,UAAjB,CAFlB;YAAA,IAGEmF,aAAa,GAAIhM,KAAK,CAACiM,OAAP,GACZ3T,MAAM,CAACiH,GAAP,CAAWS,KAAX,CAAiBA,KAAK,CAACiM,OAAvB,CADY,GAEZ,KALN;YAAA,IAMEC,UAAU,GAAI,IANhB;YAAA,IAOEC,WAAW,GAAG,EAPhB;;YASA,IAAG,CAACnM,KAAK,CAAC6G,UAAV,EAAsB;cACpBvO,MAAM,CAACS,KAAP,CAAa,gCAAb,EAA+C8N,UAA/C;cACA7G,KAAK,CAAC6G,UAAN,GAAmBA,UAAnB;YACD;;YACD,IAAIoE,UAAU,GAAG,CAACzM,MAAM,CAAC8E,MAAP,CAAc,iBAAd,EAAiC1I,MAAnD;;YACA,IAAGqQ,UAAH,EAAe;cACb3S,MAAM,CAACS,KAAP,CAAa,6BAAb,EAA4C8N,UAA5C;YACD,CAFD,MAGK,IAAG7G,KAAK,CAACoL,QAAN,IAAkB9S,MAAM,CAAC4J,EAAP,CAAU+B,KAAV,CAAgBzF,MAAhB,CAArB,EAA6C;cAChDlG,MAAM,CAACS,KAAP,CAAa,uCAAb,EAAsD8N,UAAtD;YACD,CAFI,MAGA,IAAG7G,KAAK,CAACiM,OAAN,IAAiB3T,MAAM,CAAC4J,EAAP,CAAU8B,KAAV,CAAgBgI,aAAhB,CAApB,EAAoD;cACvD1T,MAAM,CAACS,KAAP,CAAa,uEAAb,EAAsFiT,aAAtF;YACD,CAFI,MAGA,IAAGhM,KAAK,CAAC+D,KAAN,KAAgBrN,SAAnB,EAA8B;cACjC,IAAG2N,UAAH,EAAe;gBACb7F,MAAM,CAACqD,OAAP,CAAepD,MAAf,EAAuBkE,WAAvB,CAAmC1D,SAAS,CAAClH,KAA7C;cACD;;cACDxB,CAAC,CAAC2D,IAAF,CAAO8F,KAAK,CAAC+D,KAAb,EAAoB,UAAS5J,KAAT,EAAgByJ,IAAhB,EAAsB;gBACxC,IAAItL,MAAM,CAAC6Q,GAAP,CAAWnJ,KAAX,CAAiB6G,UAAjB,CAAJ,EAAkC;kBAChC,IAAIuF,aAAa,GAAG9T,MAAM,CAACmI,QAAP,CAAgBmD,IAAhB,CAAqB5D,KAArB,EAA4B4D,IAA5B,EAAiC,IAAjC,KAA0C,EAA9D;;kBACA,IAAIwI,aAAa,CAACxR,MAAd,GAAqB,CAAzB,EAA2B;oBACzBtC,MAAM,CAACS,KAAP,CAAa,kBAAb,EAAiC8N,UAAjC,EAA6CjD,IAAI,CAAC7C,IAAlD;oBACAoL,WAAW,CAAC/R,IAAZ,CAAiB9B,MAAM,CAACiH,GAAP,CAAWU,MAAX,CAAkB2D,IAAlB,EAAwB5D,KAAxB,CAAjB;oBACAkM,UAAU,GAAG,KAAb;;oBACA,IAAG7H,UAAH,EAAc;sBACZ9N,CAAC,CAAC6V,aAAD,CAAD,CAAiBvK,OAAjB,CAAyBpD,MAAzB,EAAiCmL,QAAjC,CAA0C3K,SAAS,CAAClH,KAApD;oBACD;kBACF;gBACF;cACF,CAZD;YAaD;;YACD,IAAGmU,UAAH,EAAe;cACb,IAAG7H,UAAH,EAAe;gBACb/L,MAAM,CAACsK,MAAP,CAAc3C,MAAd,CAAqB4G,UAArB,EAAiCsF,WAAjC;gBACAxU,QAAQ,CAAC0U,OAAT,CAAiB3U,IAAjB,CAAsB8G,MAAtB;cACD;YACF,CALD,MAMK;cACH,IAAG6F,UAAH,EAAe;gBACb/F,UAAU,GAAGA,UAAU,CAACgO,MAAX,CAAkBH,WAAlB,CAAb;gBACA7T,MAAM,CAAC6P,GAAP,CAAWlI,MAAX,CAAkB4G,UAAlB,EAA8BsF,WAA9B,EAA2C,IAA3C;gBACAxU,QAAQ,CAAC4U,SAAT,CAAmB7U,IAAnB,CAAwB8G,MAAxB,EAAgC2N,WAAhC;cACD;;cACD,OAAO,KAAP;YACD;;YACD,OAAO,IAAP;UACD,CA5HO;UA8HR;UACAvI,IAAI,EAAE,UAAS5D,KAAT,EAAgB4D,IAAhB,EAAsBxI,QAAtB,EAAgC;YACpC,IACEoD,MAAM,GAASlG,MAAM,CAACiH,GAAP,CAAWS,KAAX,CAAiBA,KAAK,CAAC6G,UAAvB,CADjB;YAAA,IAEED,SAAS,GAAMtO,MAAM,CAACiH,GAAP,CAAW4G,cAAX,CAA0BvC,IAA1B,CAFjB;YAAA,IAGEwC,QAAQ,GAAO9N,MAAM,CAACiH,GAAP,CAAW6G,QAAX,CAAoBxC,IAApB,CAHjB;YAAA,IAIE4I,YAAY,GAAG7U,QAAQ,CAACoM,KAAT,CAAeqC,QAAf,CAJjB;YAAA,IAKEgG,aAAa,GAAG,EALlB;YAAA,IAMEnK,UAAU,GAAGzD,MAAM,CAAC0D,EAAP,CAAU9D,QAAQ,CAACmF,QAAnB,CANf;YAAA,IAOEN,OAAO,GAAG,UAASjD,KAAT,EAAe;cACvB,IAAIvF,KAAK,GAAIwH,UAAU,GAAG1L,CAAC,CAACyJ,KAAD,CAAD,CAASsD,MAAT,CAAgB,UAAhB,EAA4BP,GAA5B,EAAH,GAAuCxM,CAAC,CAACyJ,KAAD,CAAD,CAAS+C,GAAT,EAA9D,CADuB,CAEvB;;cACAtI,KAAK,GAAIA,KAAK,KAAK/D,SAAV,IAAuB+D,KAAK,KAAK,EAAjC,IAAuCA,KAAK,KAAK,IAAlD,GACF,EADE,GAED9C,QAAQ,CAAC8U,UAAT,IAAuB7I,IAAI,CAAC6I,UAAL,KAAoB,KAA5C,IAAsD7I,IAAI,CAAC6I,UAA3D,GAAwEvI,MAAM,CAACzJ,KAAK,GAAG,EAAT,CAAN,CAAmB0J,IAAnB,EAAxE,GAAoGD,MAAM,CAACzJ,KAAK,GAAG,EAAT,CAFhH;cAIA,OAAO+R,YAAY,CAAC9U,IAAb,CAAkBsI,KAAlB,EAAyBvF,KAAzB,EAAgCmM,SAAhC,EAA2C1O,OAA3C,CAAP;YACD,CAfH;;YAiBA,IAAI,CAAC3B,CAAC,CAACI,UAAF,CAAa6V,YAAb,CAAL,EAAkC;cAChClU,MAAM,CAACP,KAAP,CAAaA,KAAK,CAAC2U,MAAnB,EAA2BtG,QAA3B;cACA;YACD;;YACD,IAAGnE,UAAH,EAAe;cACb,IAAI,CAACgB,OAAO,CAACzE,MAAD,CAAZ,EAAsB;gBACpB4N,aAAa,GAAG5N,MAAhB;cACD;YACF,CAJD,MAIO;cACLjI,CAAC,CAAC2D,IAAF,CAAOsE,MAAP,EAAe,UAAUrE,KAAV,EAAiB6F,KAAjB,EAAwB;gBACrC,IAAI,CAACiD,OAAO,CAACjD,KAAD,CAAZ,EAAqB;kBACnBoM,aAAa,CAAChS,IAAd,CAAmB4F,KAAnB;gBACD;cACF,CAJD;YAKD;;YACD,OAAO5E,QAAQ,GAAGgR,aAAH,GAAmB,EAAEA,aAAa,CAACxR,MAAd,GAAqB,CAAvB,CAAlC;UACD;QAjKO,CAtkCE;QA0uCZJ,OAAO,EAAE,UAASV,IAAT,EAAeW,KAAf,EAAsB;UAC7B,IAAIlE,CAAC,CAACqB,aAAF,CAAgBkC,IAAhB,CAAJ,EAA4B;YAC1BvD,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAeF,QAAf,EAAyBmC,IAAzB;UACD,CAFD,MAGK,IAAGW,KAAK,KAAK/D,SAAb,EAAwB;YAC3BiB,QAAQ,CAACmC,IAAD,CAAR,GAAiBW,KAAjB;UACD,CAFI,MAGA;YACH,OAAO9C,QAAQ,CAACmC,IAAD,CAAf;UACD;QACF,CApvCW;QAqvCZsB,QAAQ,EAAE,UAAStB,IAAT,EAAeW,KAAf,EAAsB;UAC9B,IAAIlE,CAAC,CAACqB,aAAF,CAAgBkC,IAAhB,CAAJ,EAA4B;YAC1BvD,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAeS,MAAf,EAAuBwB,IAAvB;UACD,CAFD,MAGK,IAAGW,KAAK,KAAK/D,SAAb,EAAwB;YAC3B4B,MAAM,CAACwB,IAAD,CAAN,GAAeW,KAAf;UACD,CAFI,MAGA;YACH,OAAOnC,MAAM,CAACwB,IAAD,CAAb;UACD;QACF,CA/vCW;QAgwCZf,KAAK,EAAE,YAAW;UAChB,IAAG,CAACpB,QAAQ,CAACgV,MAAV,IAAoBhV,QAAQ,CAACoB,KAAhC,EAAuC;YACrC,IAAGpB,QAAQ,CAACP,WAAZ,EAAyB;cACvBkB,MAAM,CAAClB,WAAP,CAAmB4B,GAAnB,CAAuB1B,SAAvB;YACD,CAFD,MAGK;cACHgB,MAAM,CAACS,KAAP,GAAesC,QAAQ,CAACC,SAAT,CAAmBC,IAAnB,CAAwB7D,IAAxB,CAA6BmB,OAAO,CAACmC,IAArC,EAA2CnC,OAA3C,EAAoDlB,QAAQ,CAACmC,IAAT,GAAgB,GAApE,CAAf;cACAxB,MAAM,CAACS,KAAP,CAAayC,KAAb,CAAmB3C,OAAnB,EAA4BvB,SAA5B;YACD;UACF;QACF,CA1wCW;QA2wCZoB,OAAO,EAAE,YAAW;UAClB,IAAG,CAACf,QAAQ,CAACgV,MAAV,IAAoBhV,QAAQ,CAACe,OAA7B,IAAwCf,QAAQ,CAACoB,KAApD,EAA2D;YACzD,IAAGpB,QAAQ,CAACP,WAAZ,EAAyB;cACvBkB,MAAM,CAAClB,WAAP,CAAmB4B,GAAnB,CAAuB1B,SAAvB;YACD,CAFD,MAGK;cACHgB,MAAM,CAACI,OAAP,GAAiB2C,QAAQ,CAACC,SAAT,CAAmBC,IAAnB,CAAwB7D,IAAxB,CAA6BmB,OAAO,CAACmC,IAArC,EAA2CnC,OAA3C,EAAoDlB,QAAQ,CAACmC,IAAT,GAAgB,GAApE,CAAjB;cACAxB,MAAM,CAACI,OAAP,CAAe8C,KAAf,CAAqB3C,OAArB,EAA8BvB,SAA9B;YACD;UACF;QACF,CArxCW;QAsxCZS,KAAK,EAAE,YAAW;UAChB,IAAG,CAACJ,QAAQ,CAACgV,MAAb,EAAqB;YACnBrU,MAAM,CAACP,KAAP,GAAesD,QAAQ,CAACC,SAAT,CAAmBC,IAAnB,CAAwB7D,IAAxB,CAA6BmB,OAAO,CAACd,KAArC,EAA4Cc,OAA5C,EAAqDlB,QAAQ,CAACmC,IAAT,GAAgB,GAArE,CAAf;YACAxB,MAAM,CAACP,KAAP,CAAayD,KAAb,CAAmB3C,OAAnB,EAA4BvB,SAA5B;UACD;QACF,CA3xCW;QA4xCZF,WAAW,EAAE;UACX4B,GAAG,EAAE,UAASyC,OAAT,EAAkB;YACrB,IACEC,WADF,EAEEC,aAFF,EAGEC,YAHF;;YAKA,IAAGjE,QAAQ,CAACP,WAAZ,EAAyB;cACvBsE,WAAW,GAAK,IAAIxE,IAAJ,GAAWC,OAAX,EAAhB;cACAyE,YAAY,GAAI3E,IAAI,IAAIyE,WAAxB;cACAC,aAAa,GAAGD,WAAW,GAAGE,YAA9B;cACA3E,IAAI,GAAYyE,WAAhB;cACAtE,WAAW,CAACgD,IAAZ,CAAiB;gBACf,QAAmBqB,OAAO,CAAC,CAAD,CADX;gBAEf,aAAmB,GAAGhE,KAAH,CAASC,IAAT,CAAc+D,OAAd,EAAuB,CAAvB,KAA6B,EAFjC;gBAGf,WAAmBtD,OAHJ;gBAIf,kBAAmBwD;cAJJ,CAAjB;YAMD;;YACDE,YAAY,CAACvD,MAAM,CAAClB,WAAP,CAAmB0E,KAApB,CAAZ;YACAxD,MAAM,CAAClB,WAAP,CAAmB0E,KAAnB,GAA2BlC,UAAU,CAACtB,MAAM,CAAClB,WAAP,CAAmB2E,OAApB,EAA6B,GAA7B,CAArC;UACD,CArBU;UAsBXA,OAAO,EAAE,YAAW;YAClB,IACEC,KAAK,GAAGrE,QAAQ,CAACmC,IAAT,GAAgB,GAD1B;YAAA,IAEEmC,SAAS,GAAG,CAFd;YAIAhF,IAAI,GAAG,KAAP;YACA4E,YAAY,CAACvD,MAAM,CAAClB,WAAP,CAAmB0E,KAApB,CAAZ;YACAvF,CAAC,CAAC2D,IAAF,CAAO9C,WAAP,EAAoB,UAAS+C,KAAT,EAAgB9B,IAAhB,EAAsB;cACxC4D,SAAS,IAAI5D,IAAI,CAAC,gBAAD,CAAjB;YACD,CAFD;YAGA2D,KAAK,IAAI,MAAMC,SAAN,GAAkB,IAA3B;;YACA,IAAGkC,cAAH,EAAmB;cACjBnC,KAAK,IAAI,QAAQmC,cAAR,GAAyB,IAAlC;YACD;;YACD,IAAGD,WAAW,CAACtD,MAAZ,GAAqB,CAAxB,EAA2B;cACzBoB,KAAK,IAAI,MAAM,GAAN,GAAYkC,WAAW,CAACtD,MAAxB,GAAiC,GAA1C;YACD;;YACD,IAAI,CAAC/B,OAAO,CAACK,KAAR,KAAkBxC,SAAlB,IAA+BmC,OAAO,CAACqD,KAAR,KAAkBxF,SAAlD,KAAgEU,WAAW,CAACwD,MAAZ,GAAqB,CAAzF,EAA4F;cAC1F/B,OAAO,CAACO,cAAR,CAAuB4C,KAAvB;;cACA,IAAGnD,OAAO,CAACqD,KAAX,EAAkB;gBAChBrD,OAAO,CAACqD,KAAR,CAAc9E,WAAd;cACD,CAFD,MAGK;gBACHb,CAAC,CAAC2D,IAAF,CAAO9C,WAAP,EAAoB,UAAS+C,KAAT,EAAgB9B,IAAhB,EAAsB;kBACxCQ,OAAO,CAACG,GAAR,CAAYX,IAAI,CAAC,MAAD,CAAJ,GAAe,IAAf,GAAsBA,IAAI,CAAC,gBAAD,CAA1B,GAA6C,IAAzD;gBACD,CAFD;cAGD;;cACDQ,OAAO,CAACM,QAAR;YACD;;YACD/B,WAAW,GAAG,EAAd;UACD;QApDU,CA5xCD;QAk1CZ+E,MAAM,EAAE,UAAS9E,KAAT,EAAgB+E,eAAhB,EAAiCC,OAAjC,EAA0C;UAChD,IACEC,MAAM,GAAGlE,QADX;UAAA,IAEEmE,QAFF;UAAA,IAGEC,KAHF;UAAA,IAIEC,QAJF;UAMAL,eAAe,GAAGA,eAAe,IAAI5E,cAArC;UACA6E,OAAO,GAAWlE,OAAO,IAAYkE,OAArC;;UACA,IAAG,OAAOhF,KAAP,IAAgB,QAAhB,IAA4BiF,MAAM,KAAK5F,SAA1C,EAAqD;YACnDW,KAAK,GAAMA,KAAK,CAACqF,KAAN,CAAY,OAAZ,CAAX;YACAH,QAAQ,GAAGlF,KAAK,CAACuD,MAAN,GAAe,CAA1B;YACArE,CAAC,CAAC2D,IAAF,CAAO7C,KAAP,EAAc,UAASsF,KAAT,EAAgBlC,KAAhB,EAAuB;cACnC,IAAImC,cAAc,GAAID,KAAK,IAAIJ,QAAV,GACjB9B,KAAK,GAAGpD,KAAK,CAACsF,KAAK,GAAG,CAAT,CAAL,CAAiBE,MAAjB,CAAwB,CAAxB,EAA2BC,WAA3B,EAAR,GAAmDzF,KAAK,CAACsF,KAAK,GAAG,CAAT,CAAL,CAAiBlF,KAAjB,CAAuB,CAAvB,CADlC,GAEjBJ,KAFJ;;cAIA,IAAId,CAAC,CAACqB,aAAF,CAAiB0E,MAAM,CAACM,cAAD,CAAvB,KAA8CD,KAAK,IAAIJ,QAA3D,EAAuE;gBACrED,MAAM,GAAGA,MAAM,CAACM,cAAD,CAAf;cACD,CAFD,MAGK,IAAIN,MAAM,CAACM,cAAD,CAAN,KAA2BlG,SAA/B,EAA2C;gBAC9C8F,KAAK,GAAGF,MAAM,CAACM,cAAD,CAAd;gBACA,OAAO,KAAP;cACD,CAHI,MAIA,IAAIrG,CAAC,CAACqB,aAAF,CAAiB0E,MAAM,CAAC7B,KAAD,CAAvB,KAAqCkC,KAAK,IAAIJ,QAAlD,EAA8D;gBACjED,MAAM,GAAGA,MAAM,CAAC7B,KAAD,CAAf;cACD,CAFI,MAGA,IAAI6B,MAAM,CAAC7B,KAAD,CAAN,KAAkB/D,SAAtB,EAAkC;gBACrC8F,KAAK,GAAGF,MAAM,CAAC7B,KAAD,CAAd;gBACA,OAAO,KAAP;cACD,CAHI,MAIA;gBACH,OAAO,KAAP;cACD;YACF,CAtBD;UAuBD;;UACD,IAAIlE,CAAC,CAACI,UAAF,CAAc6F,KAAd,CAAJ,EAA4B;YAC1BC,QAAQ,GAAGD,KAAK,CAAChB,KAAN,CAAYa,OAAZ,EAAqBD,eAArB,CAAX;UACD,CAFD,MAGK,IAAGI,KAAK,KAAK9F,SAAb,EAAwB;YAC3B+F,QAAQ,GAAGD,KAAX;UACD;;UACD,IAAGQ,KAAK,CAACC,OAAN,CAAc1E,aAAd,CAAH,EAAiC;YAC/BA,aAAa,CAAC6B,IAAd,CAAmBqC,QAAnB;UACD,CAFD,MAGK,IAAGlE,aAAa,KAAK7B,SAArB,EAAgC;YACnC6B,aAAa,GAAG,CAACA,aAAD,EAAgBkE,QAAhB,CAAhB;UACD,CAFI,MAGA,IAAGA,QAAQ,KAAK/F,SAAhB,EAA2B;YAC9B6B,aAAa,GAAGkE,QAAhB;UACD;;UACD,OAAOD,KAAP;QACD;MAt4CW,CAAd;MAw4CAlE,MAAM,CAACE,UAAP;IACD,CAh7CH;IAm7CA,OAAQD,aAAa,KAAK7B,SAAnB,GACH6B,aADG,GAEH,IAFJ;EAID,CAr8CD;;EAu8CAhC,CAAC,CAACQ,EAAF,CAAKkH,IAAL,CAAUtG,QAAV,GAAqB;IAEnBmC,IAAI,EAAgB,MAFD;IAGnBhC,SAAS,EAAW,MAHD;IAKnBiB,KAAK,EAAe,KALD;IAMnBL,OAAO,EAAa,KAND;IAOnBtB,WAAW,EAAS,IAPD;IASnBsP,MAAM,EAAc,KATD;IAWnB/F,iBAAiB,EAAG,IAXD;IAYnBL,EAAE,EAAkB,QAZD;IAanBwF,MAAM,EAAc,KAbD;IAenBC,KAAK,EAAe,GAfD;IAgBnBF,UAAU,EAAU,IAhBD;IAiBnB4G,UAAU,EAAU,IAjBD;IAmBnBxC,UAAU,EAAU,OAnBD;IAoBnBC,QAAQ,EAAY,GApBD;IAsBnBtK,iBAAiB,EAAG,KAtBD;IAuBnBuB,cAAc,EAAM,KAvBD;IAwBnBsK,UAAU,EAAU,KAxBD;IAyBnB5C,YAAY,EAAQ,MAzBD;IAyBS;IAE5BwD,OAAO,EAAa,YAAW,CAAE,CA3Bd;IA4BnBE,SAAS,EAAW,YAAW,CAAE,CA5Bd;IA6BnBhB,SAAS,EAAW,YAAW;MAAE,OAAO,IAAP;IAAc,CA7B5B;IA8BnBQ,SAAS,EAAW,YAAW;MAAE,OAAO,KAAP;IAAe,CA9B7B;IA+BnBvK,OAAO,EAAa,YAAW,CAAE,CA/Bd;IAgCnBC,OAAO,EAAa,YAAW,CAAE,CAhCd;IAkCnBzC,QAAQ,EAAG;MACTgD,YAAY,EAAG,SADN;MAETvB,QAAQ,EAAO,UAFN;MAGTc,OAAO,EAAQ;IAHN,CAlCQ;IAwCnBrC,MAAM,EAAE;MACN0N,MAAM,EAAI,qBADJ;MAEN/I,OAAO,EAAG,WAFJ;MAGNgJ,OAAO,EAAG,aAHJ;MAINC,KAAK,EAAK,mGAJJ;MAKNtH,MAAM,EAAI,yCALJ;MAMNuH,KAAK,EAAK,gBANJ;MAONC,OAAO,EAAG,UAPJ;MAQNC,MAAM,EAAI,kBARJ;MASNC,GAAG,EAAO;IATJ,CAxCW;IAoDnBjH,IAAI,EAAE;MACJwB,GAAG,EAAgB,KADf;MAEJX,eAAe,EAAI,4BAFf;MAGJa,gBAAgB,EAAG,YAHf;MAIJzB,cAAc,EAAK;IAJf,CApDa;IA2DnBjG,MAAM,EAAE;MACNuH,KAAK,EAAkB,+CADjB;MAENF,QAAQ,EAAe,iDAFjB;MAGNC,QAAQ,EAAe,iDAHjB;MAINvD,KAAK,EAAkB,0BAJjB;MAKNmJ,OAAO,EAAgB,wBALjB;MAMNL,KAAK,EAAkB,+BANjB;MAONI,GAAG,EAAoB,4BAPjB;MAQNhO,MAAM,EAAiB,mCARjB;MASN8N,OAAO,EAAgB,2BATjB;MAUNH,OAAO,EAAgB,iCAVjB;MAWNI,MAAM,EAAiB,gCAXjB;MAYN/K,EAAE,EAAqB,8BAZjB;MAaNkL,SAAS,EAAc,sCAbjB;MAcNC,GAAG,EAAoB,uCAdjB;MAeNC,UAAU,EAAa,+CAfjB;MAgBNC,OAAO,EAAgB,mCAhBjB;MAiBNC,cAAc,EAAS,2CAjBjB;MAkBNC,aAAa,EAAU,sCAlBjB;MAmBNC,oBAAoB,EAAG,6CAnBjB;MAoBNC,SAAS,EAAc,gDApBjB;MAqBN/S,MAAM,EAAiB,gDArBjB;MAsBNgT,WAAW,EAAY,+CAtBjB;MAuBNC,SAAS,EAAc,qDAvBjB;MAwBNhQ,KAAK,EAAkB,qCAxBjB;MAyBNiQ,SAAS,EAAc,2DAzBjB;MA0BNC,UAAU,EAAa,2CA1BjB;MA2BNC,QAAQ,EAAe,+CA3BjB;MA4BNC,UAAU,EAAa,8CA5BjB;MA6BNC,QAAQ,EAAe;IA7BjB,CA3DW;IA2FnB9P,QAAQ,EAAG;MACTmF,QAAQ,EAAK,6CADJ;MAEThK,KAAK,EAAQ,QAFJ;MAGTyG,KAAK,EAAQ,yDAHJ;MAIT9G,KAAK,EAAQ,QAJJ;MAKTkM,KAAK,EAAQ,0BALJ;MAMT3J,OAAO,EAAM,gBANJ;MAOTwE,MAAM,EAAO,eAPJ;MAQTwI,KAAK,EAAQ,qBARJ;MASTtI,KAAK,EAAQ,4BATJ;MAUTD,MAAM,EAAO,8BAVJ;MAWTiC,UAAU,EAAG,cAXJ;MAYTE,UAAU,EAAG,cAZJ;MAaTN,UAAU,EAAG;IAbJ,CA3FQ;IA2GnB9C,SAAS,EAAG;MACVlH,KAAK,EAAM,OADD;MAEV+R,KAAK,EAAM,oCAFD;MAGVqE,OAAO,EAAI,MAHD;MAIV/D,OAAO,EAAI,SAJD;MAKVY,QAAQ,EAAG,UALD;MAMV3Q,QAAQ,EAAG;IAND,CA3GO;IAoHnBtC,KAAK,EAAE;MACL8O,UAAU,EAAG,qDADR;MAEL9J,MAAM,EAAO,uCAFR;MAGL2P,MAAM,EAAO,iDAHR;MAIL3E,SAAS,EAAI,0HAJR;MAKLqB,SAAS,EAAI;IALR,CApHY;IA4HnBS,SAAS,EAAE;MAET;MACA9R,KAAK,EAAE,UAAS0R,MAAT,EAAiB;QACtB,IACEO,IAAI,GAAG,mBADT;QAGAzT,CAAC,CAAC2D,IAAF,CAAOuP,MAAP,EAAe,UAAStP,KAAT,EAAgBM,KAAhB,EAAuB;UACpCuP,IAAI,IAAI,SAASvP,KAAT,GAAiB,OAAzB;QACD,CAFD;QAGAuP,IAAI,IAAI,OAAR;QACA,OAAOzT,CAAC,CAACyT,IAAD,CAAR;MACD,CAZQ;MAcT;MACA/J,MAAM,EAAE,UAASwJ,MAAT,EAAiB2E,YAAjB,EAA+B;QACrC,OAAO7X,CAAC,CAAC,QAAD,CAAD,CACJqT,QADI,CACKwE,YADL,EAEJpE,IAFI,CAECP,MAAM,CAAC,CAAD,CAFP,CAAP;MAID;IApBQ,CA5HQ;IAmJnBX,SAAS,EAAE;MACTF,IAAI,EAAE,UAASA,IAAT,EAAe;QACnB,OAAOyF,IAAI,CAACC,cAAL,CAAoB,OAApB,EAA6BC,MAA7B,CAAoC3F,IAApC,CAAP;MACD,CAHQ;MAITG,QAAQ,EAAE,UAASH,IAAT,EAAe;QACvB,OAAOyF,IAAI,CAACC,cAAL,CAAoB,OAApB,EAA6B;UAClCrF,IAAI,EAAE,SAD4B;UAElCD,KAAK,EAAE,SAF2B;UAGlCwF,GAAG,EAAE,SAH6B;UAIlCC,IAAI,EAAE,SAJ4B;UAKlCC,MAAM,EAAE,SAL0B;UAMlCC,MAAM,EAAE;QAN0B,CAA7B,EAOJJ,MAPI,CAOG3F,IAPH,CAAP;MAQD,CAbQ;MAcT3R,IAAI,EAAE,UAAS2R,IAAT,EAAe;QACnB,OAAOyF,IAAI,CAACC,cAAL,CAAoB,OAApB,EAA6B;UAClCG,IAAI,EAAE,SAD4B;UAElCC,MAAM,EAAE,SAF0B;UAGlCC,MAAM,EAAE;QAH0B,CAA7B,EAIJJ,MAJI,CAIG3F,IAJH,CAAP;MAKD,CApBQ;MAqBTI,KAAK,EAAE,UAASJ,IAAT,EAAe;QACpB,OAAOyF,IAAI,CAACC,cAAL,CAAoB,OAApB,EAA6B;UAClCtF,KAAK,EAAE,SAD2B;UAElCC,IAAI,EAAE;QAF4B,CAA7B,EAGJsF,MAHI,CAGG3F,IAHH,CAAP;MAID,CA1BQ;MA2BTK,IAAI,EAAE,UAASL,IAAT,EAAe;QACnB,OAAOyF,IAAI,CAACC,cAAL,CAAoB,OAApB,EAA6B;UAClCrF,IAAI,EAAE;QAD4B,CAA7B,EAEJsF,MAFI,CAEG3F,IAFH,CAAP;MAGD;IA/BQ,CAnJQ;IAqLnB7E,KAAK,EAAE;MAEL;MACAC,KAAK,EAAE,UAASvJ,KAAT,EAAgB;QACrB,OAAO,EAAEA,KAAK,KAAK/D,SAAV,IAAuB,OAAO+D,KAA9B,IAAuCuC,KAAK,CAACC,OAAN,CAAcxC,KAAd,KAAwBA,KAAK,CAACG,MAAN,KAAiB,CAAlF,CAAP;MACD,CALI;MAOL;MACAuS,OAAO,EAAE,YAAW;QAClB,OAAQ5W,CAAC,CAAC,IAAD,CAAD,CAAQ+M,MAAR,CAAe,UAAf,EAA2B1I,MAA3B,GAAoC,CAA5C;MACD,CAVI;MAYL;MACAkS,KAAK,EAAE,UAASrS,KAAT,EAAe;QACpB,OAAOlE,CAAC,CAACQ,EAAF,CAAKkH,IAAL,CAAUtG,QAAV,CAAmBuH,MAAnB,CAA0B4N,KAA1B,CAAgCnI,IAAhC,CAAqClK,KAArC,CAAP;MACD,CAfI;MAiBL;MACAyS,GAAG,EAAE,UAASzS,KAAT,EAAgB;QACnB,OAAOlE,CAAC,CAACQ,EAAF,CAAKkH,IAAL,CAAUtG,QAAV,CAAmBuH,MAAnB,CAA0BgO,GAA1B,CAA8BvI,IAA9B,CAAmClK,KAAnC,CAAP;MACD,CApBI;MAsBL;MACAyE,MAAM,EAAE,UAASzE,KAAT,EAAgByE,MAAhB,EAAwB;QAC9B,IAAGA,MAAM,YAAY2F,MAArB,EAA6B;UAC3B,OAAOpK,KAAK,CAACoD,KAAN,CAAYqB,MAAZ,CAAP;QACD;;QACD,IACE0P,WAAW,GAAG1P,MAAM,CAACrB,KAAP,CAAatH,CAAC,CAACQ,EAAF,CAAKkH,IAAL,CAAUtG,QAAV,CAAmBuH,MAAnB,CAA0B6N,KAAvC,CADhB;QAAA,IAEEA,KAFF,CAJ8B,CAQ9B;;QACA,IAAG6B,WAAH,EAAgB;UACd1P,MAAM,GAAI0P,WAAW,CAAChU,MAAZ,IAAsB,CAAvB,GACLgU,WAAW,CAAC,CAAD,CADN,GAEL1P,MAFJ;UAIA6N,KAAK,GAAI6B,WAAW,CAAChU,MAAZ,IAAsB,CAAvB,GACJgU,WAAW,CAAC,CAAD,CADP,GAEJ,EAFJ;QAID;;QACD,OAAOnU,KAAK,CAACoD,KAAN,CAAa,IAAIgH,MAAJ,CAAW3F,MAAX,EAAmB6N,KAAnB,CAAb,CAAP;MACD,CA3CI;MA4CLxF,QAAQ,EAAE,UAAS9M,KAAT,EAAgB+M,KAAhB,EAAuB;QAC/B,OAAOjR,CAAC,CAACQ,EAAF,CAAKkH,IAAL,CAAUtG,QAAV,CAAmBoM,KAAnB,CAAyByD,KAAzB,CAA+B/M,KAA/B,EAAsC+M,KAAK,GAAC,IAA5C,EAAkD,QAAlD,CAAP;MACD,CA9CI;MA+CLF,QAAQ,EAAE,UAAS7M,KAAT,EAAgB+M,KAAhB,EAAuB;QAC/B,OAAOjR,CAAC,CAACQ,EAAF,CAAKkH,IAAL,CAAUtG,QAAV,CAAmBoM,KAAnB,CAAyByD,KAAzB,CAA+B/M,KAA/B,EAAsC,OAAK+M,KAA3C,EAAkD,QAAlD,CAAP;MACD,CAjDI;MAkDL;MACAwF,OAAO,EAAE,UAASvS,KAAT,EAAgB+M,KAAhB,EAAuB;QAC9B,OAAOjR,CAAC,CAACQ,EAAF,CAAKkH,IAAL,CAAUtG,QAAV,CAAmBoM,KAAnB,CAAyByD,KAAzB,CAA+B/M,KAA/B,EAAsC+M,KAAtC,EAA6C,SAA7C,CAAP;MACD,CArDI;MAsDLA,KAAK,EAAE,UAAS/M,KAAT,EAAgB+M,KAAhB,EAAuBtI,MAAvB,EAA+B;QACpC,IAAG,OAAOA,MAAP,IAAiB,QAApB,EAA8B;UAC5BA,MAAM,GAAG3I,CAAC,CAACQ,EAAF,CAAKkH,IAAL,CAAUtG,QAAV,CAAmBuH,MAAnB,CAA0BA,MAA1B,CAAT;QACD;;QACD,IAAG,EAAEA,MAAM,YAAY2F,MAApB,CAAH,EAAgC;UAC9B3F,MAAM,GAAG3I,CAAC,CAACQ,EAAF,CAAKkH,IAAL,CAAUtG,QAAV,CAAmBuH,MAAnB,CAA0B8N,OAAnC;QACD;;QACD,IACE6B,GADF,EAEEC,GAFF,EAGE3H,KAHF;;QAKA,IAAI,CAACK,KAAD,IAAU,CAAC,EAAD,EAAK,IAAL,EAAWH,OAAX,CAAmBG,KAAnB,MAA8B,CAAC,CAA7C,EAAgD,CAC9C;QACD,CAFD,MAGK,IAAGA,KAAK,CAACH,OAAN,CAAc,IAAd,KAAuB,CAAC,CAA3B,EAA8B;UACjC,IAAGnI,MAAM,CAACyF,IAAP,CAAY6C,KAAZ,CAAH,EAAuB;YACrBqH,GAAG,GAAGC,GAAG,GAAGtH,KAAK,GAAG,CAApB;UACD;QACF,CAJI,MAKA;UACHL,KAAK,GAAGK,KAAK,CAAC9K,KAAN,CAAY,IAAZ,EAAkB,CAAlB,CAAR;;UACA,IAAGwC,MAAM,CAACyF,IAAP,CAAYwC,KAAK,CAAC,CAAD,CAAjB,CAAH,EAA0B;YACxB0H,GAAG,GAAG1H,KAAK,CAAC,CAAD,CAAL,GAAW,CAAjB;UACD;;UACD,IAAGjI,MAAM,CAACyF,IAAP,CAAYwC,KAAK,CAAC,CAAD,CAAjB,CAAH,EAA0B;YACxB2H,GAAG,GAAG3H,KAAK,CAAC,CAAD,CAAL,GAAW,CAAjB;UACD;QACF;;QACD,OACEjI,MAAM,CAACyF,IAAP,CAAYlK,KAAZ,MACCoU,GAAG,KAAKnY,SAAR,IAAqB+D,KAAK,IAAIoU,GAD/B,MAECC,GAAG,KAAKpY,SAAR,IAAqB+D,KAAK,IAAIqU,GAF/B,CADF;MAKD,CAxFI;MA0FL;MACAjC,OAAO,EAAE,UAASpS,KAAT,EAAgB+M,KAAhB,EAAuB;QAC9B,OAAOjR,CAAC,CAACQ,EAAF,CAAKkH,IAAL,CAAUtG,QAAV,CAAmBoM,KAAnB,CAAyByD,KAAzB,CAA+B/M,KAA/B,EAAsC+M,KAAtC,EAA6C,SAA7C,CAAP;MACD,CA7FI;MA+FL;MACAyF,MAAM,EAAE,UAASxS,KAAT,EAAgB+M,KAAhB,EAAuB;QAC7B,OAAOjR,CAAC,CAACQ,EAAF,CAAKkH,IAAL,CAAUtG,QAAV,CAAmBoM,KAAnB,CAAyByD,KAAzB,CAA+B/M,KAA/B,EAAsC+M,KAAtC,EAA6C,QAA7C,CAAP;MACD,CAlGI;MAoGL;MACAtF,EAAE,EAAE,UAASzH,KAAT,EAAgBwL,IAAhB,EAAsB;QACxBA,IAAI,GAAI,OAAOA,IAAP,IAAe,QAAhB,GACHA,IAAI,CAAC8I,WAAL,EADG,GAEH9I,IAFJ;QAIAxL,KAAK,GAAI,OAAOA,KAAP,IAAgB,QAAjB,GACJA,KAAK,CAACsU,WAAN,EADI,GAEJtU,KAFJ;QAIA,OAAQA,KAAK,IAAIwL,IAAjB;MACD,CA/GI;MAiHL;MACAmH,SAAS,EAAE,UAAS3S,KAAT,EAAgBwL,IAAhB,EAAsB;QAC/B,OAAQxL,KAAK,IAAIwL,IAAjB;MACD,CApHI;MAsHL;MACAoH,GAAG,EAAE,UAAS5S,KAAT,EAAgBuU,QAAhB,EAA0B;QAC7BvU,KAAK,GAAI,OAAOA,KAAP,IAAgB,QAAjB,GACJA,KAAK,CAACsU,WAAN,EADI,GAEJtU,KAFJ;QAIAuU,QAAQ,GAAI,OAAOA,QAAP,IAAmB,QAApB,GACPA,QAAQ,CAACD,WAAT,EADO,GAEPC,QAFJ;QAIA,OAAQvU,KAAK,IAAIuU,QAAjB;MACD,CAjII;MAmIL;MACA1B,UAAU,EAAE,UAAS7S,KAAT,EAAgBuU,QAAhB,EAA0B;QACpC,OAAQvU,KAAK,IAAIuU,QAAjB;MACD,CAtII;MAwIL;MACAC,QAAQ,EAAE,UAASxU,KAAT,EAAgBwL,IAAhB,EAAsB;QAC9B;QACAA,IAAI,GAAGA,IAAI,CAACI,OAAL,CAAa9P,CAAC,CAACQ,EAAF,CAAKkH,IAAL,CAAUtG,QAAV,CAAmBuH,MAAnB,CAA0BsG,MAAvC,EAA+C,MAA/C,CAAP;QACA,OAAQ/K,KAAK,CAACuM,MAAN,CAAc,IAAInC,MAAJ,CAAWoB,IAAX,EAAiB,GAAjB,CAAd,MAA0C,CAAC,CAAnD;MACD,CA7II;MA+IL;MACAiJ,eAAe,EAAE,UAASzU,KAAT,EAAgBwL,IAAhB,EAAsB;QACrC;QACAA,IAAI,GAAGA,IAAI,CAACI,OAAL,CAAa9P,CAAC,CAACQ,EAAF,CAAKkH,IAAL,CAAUtG,QAAV,CAAmBuH,MAAnB,CAA0BsG,MAAvC,EAA+C,MAA/C,CAAP;QACA,OAAQ/K,KAAK,CAACuM,MAAN,CAAc,IAAInC,MAAJ,CAAWoB,IAAX,CAAd,MAAqC,CAAC,CAA9C;MACD,CApJI;MAsJL;MACAwH,aAAa,EAAE,UAAShT,KAAT,EAAgBwL,IAAhB,EAAsB;QACnC;QACAA,IAAI,GAAGA,IAAI,CAACI,OAAL,CAAa9P,CAAC,CAACQ,EAAF,CAAKkH,IAAL,CAAUtG,QAAV,CAAmBuH,MAAnB,CAA0BsG,MAAvC,EAA+C,MAA/C,CAAP;QACA,OAAQ/K,KAAK,CAACuM,MAAN,CAAc,IAAInC,MAAJ,CAAWoB,IAAX,EAAiB,GAAjB,CAAd,MAA0C,CAAC,CAAnD;MACD,CA3JI;MA6JL;MACAyH,oBAAoB,EAAE,UAASjT,KAAT,EAAgBwL,IAAhB,EAAsB;QAC1C;QACAA,IAAI,GAAGA,IAAI,CAACI,OAAL,CAAa9P,CAAC,CAACQ,EAAF,CAAKkH,IAAL,CAAUtG,QAAV,CAAmBuH,MAAnB,CAA0BsG,MAAvC,EAA+C,MAA/C,CAAP;QACA,OAAQ/K,KAAK,CAACuM,MAAN,CAAc,IAAInC,MAAJ,CAAWoB,IAAX,CAAd,MAAqC,CAAC,CAA9C;MACD,CAlKI;MAoKL;MACA0H,SAAS,EAAE,UAASlT,KAAT,EAAgB0U,cAAhB,EAAgC;QACzC,OAAQ1U,KAAK,KAAK/D,SAAX,GACF+D,KAAK,CAACG,MAAN,IAAgBuU,cADd,GAEH,KAFJ;MAID,CA1KI;MA4KL;MACAvU,MAAM,EAAE,UAASH,KAAT,EAAgB0U,cAAhB,EAAgC;QACtC,OAAQ1U,KAAK,KAAK/D,SAAX,GACF+D,KAAK,CAACG,MAAN,IAAgBuU,cADd,GAEH,KAFJ;MAID,CAlLI;MAoLL;MACAvB,WAAW,EAAE,UAASnT,KAAT,EAAgB0U,cAAhB,EAAgC;QAC3C,OAAQ1U,KAAK,KAAK/D,SAAX,GACF+D,KAAK,CAACG,MAAN,IAAgBuU,cADd,GAEH,KAFJ;MAID,CA1LI;MA4LL;MACAtB,SAAS,EAAE,UAASpT,KAAT,EAAgBoT,SAAhB,EAA2B;QACpC,OAAQpT,KAAK,KAAK/D,SAAX,GACF+D,KAAK,CAACG,MAAN,IAAgBiT,SADd,GAEH,KAFJ;MAID,CAlMI;MAoML;MACAhQ,KAAK,EAAE,UAASpD,KAAT,EAAgBoM,UAAhB,EAA4B3O,OAA5B,EAAqC;QAC1C,IACEkX,aADF,EAEEC,eAFF;;QAIA,IAAG,CAACA,eAAe,GAAGnX,OAAO,CAAC6H,IAAR,CAAa,qBAAoB8G,UAApB,GAAgC,IAA7C,CAAnB,EAAuEjM,MAAvE,GAAgF,CAAnF,EAAuF;UACrFwU,aAAa,GAAGC,eAAe,CAACtM,GAAhB,EAAhB;QACD,CAFD,MAGK,IAAG,CAACsM,eAAe,GAAGnX,OAAO,CAAC6H,IAAR,CAAa,MAAM8G,UAAnB,CAAnB,EAAmDjM,MAAnD,GAA4D,CAA/D,EAAkE;UACrEwU,aAAa,GAAGC,eAAe,CAACtM,GAAhB,EAAhB;QACD,CAFI,MAGA,IAAG,CAACsM,eAAe,GAAGnX,OAAO,CAAC6H,IAAR,CAAa,YAAY8G,UAAZ,GAAwB,IAArC,CAAnB,EAA+DjM,MAA/D,GAAwE,CAA3E,EAA8E;UACjFwU,aAAa,GAAGC,eAAe,CAACtM,GAAhB,EAAhB;QACD,CAFI,MAGA,IAAG,CAACsM,eAAe,GAAGnX,OAAO,CAAC6H,IAAR,CAAa,YAAY8G,UAAZ,GAAwB,MAArC,CAAnB,EAAiEjM,MAAjE,GAA0E,CAA7E,EAAiF;UACpFwU,aAAa,GAAGC,eAAhB;QACD;;QACD,OAAQD,aAAa,KAAK1Y,SAAnB,GACD+D,KAAK,CAAC8J,QAAN,MAAoB6K,aAAa,CAAC7K,QAAd,EADnB,GAEH,KAFJ;MAID,CA1NI;MA4NL;MACAuJ,SAAS,EAAE,UAASrT,KAAT,EAAgBoM,UAAhB,EAA4B3O,OAA5B,EAAqC;QAC9C;QACA,IACEkX,aADF,EAEEC,eAFF;;QAIA,IAAG,CAACA,eAAe,GAAGnX,OAAO,CAAC6H,IAAR,CAAa,qBAAoB8G,UAApB,GAAgC,IAA7C,CAAnB,EAAuEjM,MAAvE,GAAgF,CAAnF,EAAuF;UACrFwU,aAAa,GAAGC,eAAe,CAACtM,GAAhB,EAAhB;QACD,CAFD,MAGK,IAAG,CAACsM,eAAe,GAAGnX,OAAO,CAAC6H,IAAR,CAAa,MAAM8G,UAAnB,CAAnB,EAAmDjM,MAAnD,GAA4D,CAA/D,EAAkE;UACrEwU,aAAa,GAAGC,eAAe,CAACtM,GAAhB,EAAhB;QACD,CAFI,MAGA,IAAG,CAACsM,eAAe,GAAGnX,OAAO,CAAC6H,IAAR,CAAa,YAAY8G,UAAZ,GAAwB,IAArC,CAAnB,EAA+DjM,MAA/D,GAAwE,CAA3E,EAA8E;UACjFwU,aAAa,GAAGC,eAAe,CAACtM,GAAhB,EAAhB;QACD,CAFI,MAGA,IAAG,CAACsM,eAAe,GAAGnX,OAAO,CAAC6H,IAAR,CAAa,YAAY8G,UAAZ,GAAwB,MAArC,CAAnB,EAAiEjM,MAAjE,GAA0E,CAA7E,EAAiF;UACpFwU,aAAa,GAAGC,eAAhB;QACD;;QACD,OAAQD,aAAa,KAAK1Y,SAAnB,GACD+D,KAAK,CAAC8J,QAAN,OAAqB6K,aAAa,CAAC7K,QAAd,EADpB,GAEH,KAFJ;MAID,CAnPI;MAqPLwJ,UAAU,EAAE,UAASuB,UAAT,EAAqBC,SAArB,EAAgC;QAC1C,IACEC,KAAK,GAAG;UACNC,IAAI,EAAE;YACJC,OAAO,EAAG,IADN;YAEJ9U,MAAM,EAAI,CAAC,EAAD;UAFN,CADA;UAKN+U,IAAI,EAAE;YACJD,OAAO,EAAG,QADN;YAEJ9U,MAAM,EAAI,CAAC,EAAD;UAFN,CALA;UASNgV,UAAU,EAAE;YACVF,OAAO,EAAG,SADA;YAEV9U,MAAM,EAAI,CAAC,EAAD;UAFA,CATN;UAaNiV,QAAQ,EAAE;YACRH,OAAO,EAAG,+EADF;YAER9U,MAAM,EAAI,CAAC,EAAD;UAFF,CAbJ;UAiBNkV,QAAQ,EAAE;YACRJ,OAAO,EAAG,UADF;YAER9U,MAAM,EAAI,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,EAAb;UAFF,CAjBJ;UAqBNmV,GAAG,EAAE;YACHL,OAAO,EAAG,uBADP;YAEH9U,MAAM,EAAI,CAAC,EAAD;UAFP,CArBC;UAyBNoV,OAAO,EAAE;YACPN,OAAO,EAAG,sCADH;YAEP9U,MAAM,EAAI,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,EAAb,EAAiB,EAAjB,EAAqB,EAArB,EAAyB,EAAzB,EAA6B,EAA7B;UAFH,CAzBH;UA6BNqV,UAAU,EAAE;YACVP,OAAO,EAAG,gBADA;YAEV9U,MAAM,EAAI,CAAC,EAAD;UAFA,CA7BN;UAiCNsV,KAAK,EAAE;YACLR,OAAO,EAAG,sBADL;YAEL9U,MAAM,EAAI,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,EAAb;UAFL,CAjCD;UAqCNuV,YAAY,EAAE;YACZT,OAAO,EAAG,mCADE;YAEZ9U,MAAM,EAAI,CAAC,EAAD;UAFE;QArCR,CADV;QAAA,IA2CEwJ,KAAK,GAAW,EA3ClB;QAAA,IA4CEgM,SAAS,GAAO,KA5ClB;QAAA,IA6CEC,aAAa,GAAI,OAAOd,SAAP,IAAoB,QAArB,GACZA,SAAS,CAAC7S,KAAV,CAAgB,GAAhB,CADY,GAEZ,KA/CN;QAAA,IAgDEoT,QAhDF;QAAA,IAiDE/Q,UAjDF;;QAoDA,IAAG,OAAOuQ,UAAP,KAAsB,QAAtB,IAAkCA,UAAU,CAAC1U,MAAX,KAAsB,CAA3D,EAA8D;UAC5D;QACD,CAvDyC,CAyD1C;;;QACA0U,UAAU,GAAGA,UAAU,CAACjJ,OAAX,CAAmB,SAAnB,EAA8B,EAA9B,CAAb,CA1D0C,CA4D1C;;QACA,IAAGgK,aAAH,EAAkB;UAChB9Z,CAAC,CAAC2D,IAAF,CAAOmW,aAAP,EAAsB,UAASlW,KAAT,EAAgB4G,IAAhB,EAAqB;YACzC;YACAhC,UAAU,GAAGyQ,KAAK,CAACzO,IAAD,CAAlB;;YACA,IAAGhC,UAAH,EAAe;cACbqF,KAAK,GAAG;gBACNxJ,MAAM,EAAKrE,CAAC,CAAC+Z,OAAF,CAAUhB,UAAU,CAAC1U,MAArB,EAA6BmE,UAAU,CAACnE,MAAxC,MAAoD,CAAC,CAD1D;gBAEN8U,OAAO,EAAIJ,UAAU,CAACtI,MAAX,CAAkBjI,UAAU,CAAC2Q,OAA7B,MAA0C,CAAC;cAFhD,CAAR;;cAIA,IAAGtL,KAAK,CAACxJ,MAAN,IAAgBwJ,KAAK,CAACsL,OAAzB,EAAkC;gBAChCU,SAAS,GAAG,IAAZ;cACD;YACF;UACF,CAZD;;UAcA,IAAG,CAACA,SAAJ,EAAe;YACb,OAAO,KAAP;UACD;QACF,CA/EyC,CAiF1C;;;QACAN,QAAQ,GAAG;UACT7C,MAAM,EAAK1W,CAAC,CAAC+Z,OAAF,CAAUhB,UAAU,CAAC1U,MAArB,EAA6B4U,KAAK,CAACM,QAAN,CAAelV,MAA5C,MAAwD,CAAC,CAD3D;UAET8U,OAAO,EAAIJ,UAAU,CAACtI,MAAX,CAAkBwI,KAAK,CAACM,QAAN,CAAeJ,OAAjC,MAA8C,CAAC;QAFjD,CAAX;;QAIA,IAAGI,QAAQ,CAAC7C,MAAT,IAAmB6C,QAAQ,CAACJ,OAA/B,EAAwC;UACtC,OAAO,IAAP;QACD,CAxFyC,CA0F1C;;;QACA,IACE9U,MAAM,GAAU0U,UAAU,CAAC1U,MAD7B;QAAA,IAEE2V,QAAQ,GAAQ,CAFlB;QAAA,IAGEC,aAAa,GAAG,CACd,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,EAAsB,CAAtB,EAAyB,CAAzB,EAA4B,CAA5B,CADc,EAEd,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,EAAsB,CAAtB,EAAyB,CAAzB,EAA4B,CAA5B,CAFc,CAHlB;QAAA,IAOEC,GAAG,GAAa,CAPlB;;QASA,OAAO7V,MAAM,EAAb,EAAiB;UACf6V,GAAG,IAAID,aAAa,CAACD,QAAD,CAAb,CAAwBG,QAAQ,CAACpB,UAAU,CAACzS,MAAX,CAAkBjC,MAAlB,CAAD,EAA4B,EAA5B,CAAhC,CAAP;UACA2V,QAAQ,IAAI,CAAZ;QACD;;QACD,OAAQE,GAAG,GAAG,EAAN,KAAa,CAAb,IAAkBA,GAAG,GAAG,CAAhC;MACD,CA9VI;MAgWLzC,QAAQ,EAAE,UAASvT,KAAT,EAAgBuT,QAAhB,EAA0B;QAClC,IAAGA,QAAQ,IAAI,CAAf,EAAkB;UAChB,OAAO,IAAP;QACD;;QACD,IAAGA,QAAQ,IAAI,CAAf,EAAkB;UAChB,OAAQvT,KAAK,KAAK,EAAlB;QACD;;QACD,OAAQA,KAAK,CAACiC,KAAN,CAAY,GAAZ,EAAiB9B,MAAjB,IAA2BoT,QAAnC;MACD,CAxWI;MA0WLC,UAAU,EAAE,UAASxT,KAAT,EAAgBwT,UAAhB,EAA4B;QACtC,IAAGA,UAAU,IAAI,CAAjB,EAAoB;UAClB,OAAQxT,KAAK,KAAK,EAAlB;QACD;;QACD,IAAGwT,UAAU,IAAI,CAAjB,EAAoB;UAClB,OAAQxT,KAAK,KAAK,EAAV,IAAgBA,KAAK,CAACuM,MAAN,CAAa,GAAb,MAAsB,CAAC,CAA/C;QACD;;QACD,OAAQvM,KAAK,CAACiC,KAAN,CAAY,GAAZ,EAAiB9B,MAAjB,IAA2BqT,UAAnC;MACD,CAlXI;MAoXLC,QAAQ,EAAE,UAASzT,KAAT,EAAgByT,QAAhB,EAA0B;QAClC,IAAGA,QAAQ,IAAI,CAAf,EAAkB;UAChB,OAAO,KAAP;QACD;;QACD,IAAGA,QAAQ,IAAI,CAAf,EAAkB;UAChB,OAAQzT,KAAK,CAACuM,MAAN,CAAa,GAAb,MAAsB,CAAC,CAA/B;QACD;;QACD,OAAQvM,KAAK,CAACiC,KAAN,CAAY,GAAZ,EAAiB9B,MAAjB,IAA2BsT,QAAnC;MACD;IA5XI;EArLY,CAArB;AAsjBC,CA5gEA,EA4gEGpQ,MA5gEH,EA4gEWtH,MA5gEX,EA4gEmBC,QA5gEnB;AA8gED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA;;AAAC,CAAC,UAAUF,CAAV,EAAaC,MAAb,EAAqBC,QAArB,EAA+BC,SAA/B,EAA0C;EAE5C;;EAEAH,CAAC,CAACI,UAAF,GAAeJ,CAAC,CAACI,UAAF,IAAgB,UAASC,GAAT,EAAc;IAC3C,OAAO,OAAOA,GAAP,KAAe,UAAf,IAA6B,OAAOA,GAAG,CAACC,QAAX,KAAwB,QAA5D;EACD,CAFD;;EAIAL,MAAM,GAAI,OAAOA,MAAP,IAAiB,WAAjB,IAAgCA,MAAM,CAACuH,IAAP,IAAeA,IAAhD,GACLvH,MADK,GAEJ,OAAOwH,IAAP,IAAe,WAAf,IAA8BA,IAAI,CAACD,IAAL,IAAaA,IAA5C,GACEC,IADF,GAEE3C,QAAQ,CAAC,aAAD,CAAR,EAJN;;EAOA9E,CAAC,CAACQ,EAAF,CAAK4Z,SAAL,GAAiB,UAAS3Z,UAAT,EAAqB;IACpC,IACEkH,WAAW,GAAO3H,CAAC,CAAC,IAAD,CADrB;IAAA,IAGEU,IAAI,GAAc,IAAIC,IAAJ,GAAWC,OAAX,EAHpB;IAAA,IAIEC,WAAW,GAAO,EAJpB;IAAA,IAMEC,KAAK,GAAaC,SAAS,CAAC,CAAD,CAN7B;IAAA,IAOEC,aAAa,GAAM,OAAOF,KAAP,IAAgB,QAPrC;IAAA,IAQEG,cAAc,GAAI,GAAGC,KAAH,CAASC,IAAT,CAAcJ,SAAd,EAAyB,CAAzB,CARpB;IAAA,IAUEiB,aAVF;IAYA2F,WAAW,CACRhE,IADH,CACQ,YAAW;MACf,IACEvC,QAAQ,GAAYpB,CAAC,CAACqB,aAAF,CAAgBZ,UAAhB,CAAF,GACdT,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAe,EAAf,EAAmBtB,CAAC,CAACQ,EAAF,CAAK4Z,SAAL,CAAehZ,QAAlC,EAA4CX,UAA5C,CADc,GAEdT,CAAC,CAACsB,MAAF,CAAS,EAAT,EAAatB,CAAC,CAACQ,EAAF,CAAK4Z,SAAL,CAAehZ,QAA5B,CAHN;MAAA,IAKEsH,SAAS,GAAStH,QAAQ,CAACsH,SAL7B;MAAA,IAMEnH,SAAS,GAASH,QAAQ,CAACG,SAN7B;MAAA,IAOEsG,QAAQ,GAAUzG,QAAQ,CAACyG,QAP7B;MAAA,IAQErG,KAAK,GAAaJ,QAAQ,CAACI,KAR7B;MAAA,IAUEoH,cAAc,GAAI,MAAMrH,SAV1B;MAAA,IAWEE,eAAe,GAAG,YAAYF,SAXhC;MAAA,IAYEqG,cAAc,GAAID,WAAW,CAACE,QAAZ,IAAwB,EAZ5C;MAAA,IAcElG,OAAO,GAAI3B,CAAC,CAAC,IAAD,CAdd;MAAA,IAeEqa,MAAM,GAAK1Y,OAAO,CAAC6H,IAAR,CAAa3B,QAAQ,CAACpC,KAAtB,CAfb;MAAA,IAgBE6U,QAAQ,GAAG3Y,OAAO,CAAC6H,IAAR,CAAa3B,QAAQ,CAAC0S,OAAtB,CAhBb;MAAA,IAkBE3Y,OAAO,GAAI,IAlBb;MAAA,IAmBEC,QAAQ,GAAGF,OAAO,CAACG,IAAR,CAAaL,eAAb,CAnBb;MAAA,IAoBE+Y,QApBF;MAAA,IAqBEzY,MArBF;MAwBAA,MAAM,GAAG;QAEPE,UAAU,EAAE,YAAW;UACrBF,MAAM,CAACS,KAAP,CAAa,cAAb,EAA6Bb,OAA7B;UACAI,MAAM,CAACiD,IAAP,CAAYyV,MAAZ;;UACA,IAAGrZ,QAAQ,CAACsZ,cAAZ,EAA4B;YAC1B3Y,MAAM,CAAC2Y,cAAP;UACD;;UACD3Y,MAAM,CAACG,WAAP;QACD,CATM;QAWPA,WAAW,EAAE,YAAW;UACtBL,QAAQ,GAAGE,MAAX;UACAJ,OAAO,CACJG,IADH,CACQL,eADR,EACyBM,MADzB;QAGD,CAhBM;QAkBP4C,OAAO,EAAE,YAAW;UAClB5C,MAAM,CAACS,KAAP,CAAa,8BAAb,EAA6Cb,OAA7C;UACAA,OAAO,CACJ8M,GADH,CACO7F,cADP,EAEGhE,UAFH,CAEcnD,eAFd;QAID,CAxBM;QA0BPwH,OAAO,EAAE,YAAW;UAClBoR,MAAM,GAAK1Y,OAAO,CAAC6H,IAAR,CAAa3B,QAAQ,CAACpC,KAAtB,CAAX;UACA6U,QAAQ,GAAG3Y,OAAO,CAAC6H,IAAR,CAAa3B,QAAQ,CAAC0S,OAAtB,CAAX;QACD,CA7BM;QA+BPG,cAAc,EAAE,YAAW;UACzB,IAAG,sBAAsBza,MAAzB,EAAiC;YAC/Bua,QAAQ,GAAG,IAAIG,gBAAJ,CAAqB,UAASC,SAAT,EAAoB;cAClD7Y,MAAM,CAACS,KAAP,CAAa,4CAAb;cACAT,MAAM,CAACkH,OAAP;YACD,CAHU,CAAX;YAIAuR,QAAQ,CAACK,OAAT,CAAiBjZ,OAAjB,EAA0B;cACxBkZ,SAAS,EAAG,IADY;cAExBC,OAAO,EAAK;YAFY,CAA1B;YAIAhZ,MAAM,CAACS,KAAP,CAAa,8BAAb,EAA6CgY,QAA7C;UACD;QACF,CA3CM;QA6CPxV,IAAI,EAAE;UACJyV,MAAM,EAAE,YAAW;YACjB1Y,MAAM,CAACS,KAAP,CAAa,0BAAb;YACAb,OAAO,CACJoI,EADH,CACM3I,QAAQ,CAAC2I,EAAT,GAAcnB,cADpB,EACoCf,QAAQ,CAACuM,OAD7C,EACsDrS,MAAM,CAACiI,KAAP,CAAagR,KADnE;UAGD;QANG,CA7CC;QAsDPhR,KAAK,EAAE;UACLgR,KAAK,EAAE,YAAW;YAChBjZ,MAAM,CAACkZ,MAAP,CAAc9Z,IAAd,CAAmB,IAAnB;UACD;QAHI,CAtDA;QA4DP8Z,MAAM,EAAE,UAASna,KAAT,EAAgB;UACtB,IACEoa,YAAY,GAAIpa,KAAK,KAAKX,SAAX,GACV,OAAOW,KAAP,KAAiB,QAAlB,GACEuZ,MAAM,CAAClJ,EAAP,CAAUrQ,KAAV,CADF,GAEEd,CAAC,CAACc,KAAD,CAAD,CAASwK,OAAT,CAAiBzD,QAAQ,CAACpC,KAA1B,CAHS,GAIXzF,CAAC,CAAC,IAAD,CAAD,CAAQsL,OAAR,CAAgBzD,QAAQ,CAACpC,KAAzB,CALN;UAAA,IAME0V,cAAc,GAAGD,YAAY,CAACE,IAAb,CAAkBd,QAAlB,CANnB;UAAA,IAOEe,WAAW,GAAGF,cAAc,CAAChP,QAAf,CAAwBzD,SAAS,CAAC4S,SAAlC,CAPhB;UAAA,IAQEC,QAAQ,GAAMJ,cAAc,CAAChP,QAAf,CAAwBzD,SAAS,CAAC8S,MAAlC,CARhB;UAAA,IASEC,MAAM,GAASF,QAAQ,IAAI,CAACF,WAT9B;UAAA,IAUEK,SAAS,GAAM,CAACH,QAAD,IAAaF,WAV9B;UAYAtZ,MAAM,CAACS,KAAP,CAAa,gCAAb,EAA+C0Y,YAA/C;;UACA,IAAGO,MAAM,IAAIC,SAAb,EAAwB;YACtB,IAAGta,QAAQ,CAACua,WAAZ,EAAyB;cACvB5Z,MAAM,CAAC6Z,KAAP,CAAaza,IAAb,CAAkB+Z,YAAlB;YACD,CAFD,MAGK;cACHnZ,MAAM,CAACS,KAAP,CAAa,uDAAb;YACD;UACF,CAPD,MAQK;YACHT,MAAM,CAAC8Z,IAAP,CAAY1a,IAAZ,CAAiB+Z,YAAjB;UACD;QACF,CArFM;QAuFPW,IAAI,EAAE,UAAS/a,KAAT,EAAgB;UACpB,IACEoa,YAAY,GAAIpa,KAAK,KAAKX,SAAX,GACV,OAAOW,KAAP,KAAiB,QAAlB,GACEuZ,MAAM,CAAClJ,EAAP,CAAUrQ,KAAV,CADF,GAEEd,CAAC,CAACc,KAAD,CAAD,CAASwK,OAAT,CAAiBzD,QAAQ,CAACpC,KAA1B,CAHS,GAIXzF,CAAC,CAAC,IAAD,CAAD,CAAQsL,OAAR,CAAgBzD,QAAQ,CAACpC,KAAzB,CALN;UAAA,IAME0V,cAAc,GAAGD,YAAY,CAACE,IAAb,CAAkBd,QAAlB,CANnB;UAAA,IAOEe,WAAW,GAAGF,cAAc,CAAChP,QAAf,CAAwBzD,SAAS,CAAC4S,SAAlC,CAPhB;UAAA,IAQEC,QAAQ,GAAMJ,cAAc,CAAChP,QAAf,CAAwBzD,SAAS,CAAC8S,MAAlC,CARhB;UAAA,IASEC,MAAM,GAASF,QAAQ,IAAIF,WAT7B;;UAWA,IAAGI,MAAH,EAAW;YACT1Z,MAAM,CAACS,KAAP,CAAa,kCAAb,EAAiD2Y,cAAjD;YACA;UACD;;UACDpZ,MAAM,CAACS,KAAP,CAAa,2BAAb,EAA0C0Y,YAA1C;UACA9Z,QAAQ,CAAC0a,SAAT,CAAmB3a,IAAnB,CAAwBga,cAAxB;UACA/Z,QAAQ,CAAC2a,UAAT,CAAoB5a,IAApB,CAAyBga,cAAzB;;UACA,IAAG/Z,QAAQ,CAAC4a,SAAZ,EAAuB;YACrBja,MAAM,CAACka,WAAP,CAAmB9a,IAAnB,CAAwB+Z,YAAxB;UACD;;UACDA,YAAY,CACT7H,QADH,CACY3K,SAAS,CAAC8S,MADtB;UAGAL,cAAc,CACXe,IADH,CACQ,IADR,EACc,IADd,EAEG7I,QAFH,CAEY3K,SAAS,CAAC4S,SAFtB;;UAIA,IAAGla,QAAQ,CAAC+a,eAAZ,EAA6B;YAC3B,IAAGnc,CAAC,CAACQ,EAAF,CAAKkT,UAAL,KAAoBvT,SAApB,IAAiCwB,OAAO,CAAC+R,UAAR,CAAmB,cAAnB,CAApC,EAAwE;cACtEyH,cAAc,CACXhI,QADH,GAEKO,UAFL,CAEgB;gBACV0I,SAAS,EAAU,SADT;gBAEVC,KAAK,EAAc,KAFT;gBAGVC,WAAW,EAAQ,IAHT;gBAIV9Z,KAAK,EAAcpB,QAAQ,CAACoB,KAJlB;gBAKVL,OAAO,EAAYf,QAAQ,CAACe,OALlB;gBAMVwR,QAAQ,EAAWvS,QAAQ,CAACuS,QANlB;gBAOV4I,gBAAgB,EAAG,IAPT;gBAQVC,UAAU,EAAE,YAAW;kBACrBrB,cAAc,CAAChI,QAAf,GAA0B/G,WAA1B,CAAsC1D,SAAS,CAACgL,UAAhD;gBACD;cAVS,CAFhB;YAeD,CAhBD,MAiBK;cACHyH,cAAc,CACXhI,QADH,GAEK+I,IAFL,CAEU,IAFV,EAEgB,IAFhB,EAGKO,OAHL,CAGa;gBACPC,OAAO,EAAE;cADF,CAHb,EAKOtb,QAAQ,CAACuS,QALhB,EAK0B5R,MAAM,CAAC4a,YALjC;YAOD;UACF;;UACDxB,cAAc,CACXyB,SADH,CACaxb,QAAQ,CAACuS,QADtB,EACgCvS,QAAQ,CAACyb,MADzC,EACiD,YAAW;YACxD1B,cAAc,CACX/O,WADH,CACe1D,SAAS,CAAC4S,SADzB,EAEGjI,QAFH,CAEY3K,SAAS,CAAC8S,MAFtB;YAIAzZ,MAAM,CAAC6H,KAAP,CAAapE,OAAb,CAAqBrE,IAArB,CAA0B,IAA1B;YACAC,QAAQ,CAAC0b,MAAT,CAAgB3b,IAAhB,CAAqB,IAArB;YACAC,QAAQ,CAAC2b,QAAT,CAAkB5b,IAAlB,CAAuB,IAAvB;UACD,CATH;QAWD,CA3JM;QA6JPya,KAAK,EAAE,UAAS9a,KAAT,EAAgB;UACrB,IACEoa,YAAY,GAAIpa,KAAK,KAAKX,SAAX,GACV,OAAOW,KAAP,KAAiB,QAAlB,GACEuZ,MAAM,CAAClJ,EAAP,CAAUrQ,KAAV,CADF,GAEEd,CAAC,CAACc,KAAD,CAAD,CAASwK,OAAT,CAAiBzD,QAAQ,CAACpC,KAA1B,CAHS,GAIXzF,CAAC,CAAC,IAAD,CAAD,CAAQsL,OAAR,CAAgBzD,QAAQ,CAACpC,KAAzB,CALN;UAAA,IAME0V,cAAc,GAAGD,YAAY,CAACE,IAAb,CAAkBd,QAAlB,CANnB;UAAA,IAOEe,WAAW,GAAMF,cAAc,CAAChP,QAAf,CAAwBzD,SAAS,CAAC4S,SAAlC,CAPnB;UAAA,IAQEC,QAAQ,GAASJ,cAAc,CAAChP,QAAf,CAAwBzD,SAAS,CAAC8S,MAAlC,CARnB;UAAA,IASEE,SAAS,GAAS,CAACH,QAAD,IAAaF,WATjC;UAAA,IAUE2B,SAAS,GAASzB,QAAQ,IAAIF,WAVhC;;UAYA,IAAG,CAACE,QAAQ,IAAIG,SAAb,KAA2B,CAACsB,SAA/B,EAA0C;YACxCjb,MAAM,CAACS,KAAP,CAAa,2BAAb,EAA0C2Y,cAA1C;YACA/Z,QAAQ,CAAC6b,SAAT,CAAmB9b,IAAnB,CAAwBga,cAAxB;YACA/Z,QAAQ,CAAC2a,UAAT,CAAoB5a,IAApB,CAAyBga,cAAzB;YACAD,YAAY,CACT9O,WADH,CACe1D,SAAS,CAAC8S,MADzB;YAGAL,cAAc,CACXe,IADH,CACQ,IADR,EACc,IADd,EAEG7I,QAFH,CAEY3K,SAAS,CAAC4S,SAFtB;;YAIA,IAAGla,QAAQ,CAAC+a,eAAZ,EAA6B;cAC3B,IAAGnc,CAAC,CAACQ,EAAF,CAAKkT,UAAL,KAAoBvT,SAApB,IAAiCwB,OAAO,CAAC+R,UAAR,CAAmB,cAAnB,CAApC,EAAwE;gBACtEyH,cAAc,CACXhI,QADH,GAEKO,UAFL,CAEgB;kBACV0I,SAAS,EAAU,UADT;kBAEVC,KAAK,EAAc,KAFT;kBAGVC,WAAW,EAAQ,IAHT;kBAIV9Z,KAAK,EAAcpB,QAAQ,CAACoB,KAJlB;kBAKVL,OAAO,EAAYf,QAAQ,CAACe,OALlB;kBAMVwR,QAAQ,EAAWvS,QAAQ,CAACuS,QANlB;kBAOV4I,gBAAgB,EAAG;gBAPT,CAFhB;cAYD,CAbD,MAcK;gBACHpB,cAAc,CACXhI,QADH,GAEK+I,IAFL,CAEU,IAFV,EAEgB,IAFhB,EAGKO,OAHL,CAGa;kBACPC,OAAO,EAAE;gBADF,CAHb,EAKOtb,QAAQ,CAACuS,QALhB,EAK0B5R,MAAM,CAAC4a,YALjC;cAOD;YACF;;YACDxB,cAAc,CACX+B,OADH,CACW9b,QAAQ,CAACuS,QADpB,EAC8BvS,QAAQ,CAACyb,MADvC,EAC+C,YAAW;cACtD1B,cAAc,CACX/O,WADH,CACe1D,SAAS,CAAC4S,SADzB,EAEGlP,WAFH,CAEe1D,SAAS,CAAC8S,MAFzB;cAIAzZ,MAAM,CAAC6H,KAAP,CAAapE,OAAb,CAAqBrE,IAArB,CAA0B,IAA1B;cACAC,QAAQ,CAAC+b,OAAT,CAAiBhc,IAAjB,CAAsB,IAAtB;cACAC,QAAQ,CAAC2b,QAAT,CAAkB5b,IAAlB,CAAuB,IAAvB;YACD,CATH;UAWD;QACF,CA1NM;QA4NP8a,WAAW,EAAE,UAASrY,KAAT,EAAgB;UAC3B,IACEsX,YAAY,GAAItX,KAAK,KAAKzD,SAAX,GACXka,MAAM,CAAClJ,EAAP,CAAUvN,KAAV,CADW,GAEX5D,CAAC,CAAC,IAAD,CAAD,CAAQsL,OAAR,CAAgBzD,QAAQ,CAACpC,KAAzB,CAHN;UAAA,IAIE2X,aAAa,GAAMlC,YAAY,CAACmC,OAAb,CAAqBxV,QAAQ,CAAC0S,OAA9B,EAAuC+C,IAAvC,CAA4CzV,QAAQ,CAACpC,KAArD,CAJrB;UAAA,IAKE8X,gBAAgB,GAAGrC,YAAY,CAAC5P,OAAb,CAAqBzD,QAAQ,CAACuS,SAA9B,CALrB;UAAA,IAMEoD,cAAc,GAAK3V,QAAQ,CAACpC,KAAT,GAAiB,GAAjB,GAAuBiD,SAAS,CAAC8S,MAAjC,GAA0C,UAN/D;UAAA,IAOEiC,aAAa,GAAM5V,QAAQ,CAAC0S,OAAT,GAAmB,GAAnB,GAAyB7R,SAAS,CAAC8S,MAAnC,GAA4C,UAPjE;UAAA,IAQEkC,WARF;UAAA,IASEC,aATF;UAAA,IAUEC,aAVF;;UAYA,IAAGxc,QAAQ,CAACyc,WAAZ,EAAyB;YACvBH,WAAW,GAAKH,gBAAgB,CAAC/T,IAAjB,CAAsBgU,cAAtB,EAAsC1G,GAAtC,CAA0CsG,aAA1C,CAAhB;YACAQ,aAAa,GAAGF,WAAW,CAACtC,IAAZ,CAAiBd,QAAjB,CAAhB;UACD,CAHD,MAIK;YACHoD,WAAW,GAAKH,gBAAgB,CAAC/T,IAAjB,CAAsBgU,cAAtB,EAAsC1G,GAAtC,CAA0CsG,aAA1C,CAAhB;YACAO,aAAa,GAAGJ,gBAAgB,CAAC/T,IAAjB,CAAsBiU,aAAtB,EAAqCjU,IAArC,CAA0CgU,cAA1C,EAA0D1G,GAA1D,CAA8DsG,aAA9D,CAAhB;YACAM,WAAW,GAAKA,WAAW,CAAC5G,GAAZ,CAAgB6G,aAAhB,CAAhB;YACAC,aAAa,GAAGF,WAAW,CAACtC,IAAZ,CAAiBd,QAAjB,CAAhB;UACD;;UACD,IAAKoD,WAAW,CAACrZ,MAAZ,GAAqB,CAA1B,EAA+B;YAC7BtC,MAAM,CAACS,KAAP,CAAa,0CAAb,EAAyDkb,WAAzD;YACAA,WAAW,CACRtR,WADH,CACe1D,SAAS,CAAC8S,MADzB;YAGAoC,aAAa,CACVxR,WADH,CACe1D,SAAS,CAAC4S,SADzB,EAEGY,IAFH,CAEQ,IAFR,EAEc,IAFd;;YAIA,IAAG9a,QAAQ,CAAC+a,eAAZ,EAA6B;cAC3B,IAAGnc,CAAC,CAACQ,EAAF,CAAKkT,UAAL,KAAoBvT,SAApB,IAAiCwB,OAAO,CAAC+R,UAAR,CAAmB,cAAnB,CAApC,EAAwE;gBACtEkK,aAAa,CACVzK,QADH,GAEKO,UAFL,CAEgB;kBACV0I,SAAS,EAAU,UADT;kBAEVE,WAAW,EAAQ,IAFT;kBAGV9Z,KAAK,EAAcpB,QAAQ,CAACoB,KAHlB;kBAIVL,OAAO,EAAYf,QAAQ,CAACe,OAJlB;kBAKVwR,QAAQ,EAAWvS,QAAQ,CAACuS,QALlB;kBAMV4I,gBAAgB,EAAG;gBANT,CAFhB;cAWD,CAZD,MAaK;gBACHqB,aAAa,CACVzK,QADH,GAEK+I,IAFL,CAEU,IAFV,EAEgB,IAFhB,EAGKO,OAHL,CAGa;kBACPC,OAAO,EAAE;gBADF,CAHb,EAKOtb,QAAQ,CAACuS,QALhB,EAK0B5R,MAAM,CAAC4a,YALjC;cAOD;YACF;;YACDiB,aAAa,CACVV,OADH,CACW9b,QAAQ,CAACuS,QADpB,EAC+BvS,QAAQ,CAACyb,MADxC,EACgD,YAAW;cACvD7c,CAAC,CAAC,IAAD,CAAD,CAAQoM,WAAR,CAAoB1D,SAAS,CAAC8S,MAA9B;cACAzZ,MAAM,CAAC6H,KAAP,CAAapE,OAAb,CAAqBrE,IAArB,CAA0B,IAA1B;YACD,CAJH;UAMD;QACF,CA3RM;QA6RPyI,KAAK,EAAE;UAELpE,OAAO,EAAE,YAAW;YAClBzD,MAAM,CAACI,OAAP,CAAe,sCAAf,EAAuD,IAAvD;YACAnC,CAAC,CAAC,IAAD,CAAD,CAAQ8d,GAAR,CAAY,SAAZ,EAAuB,EAAvB;;YACA,IAAI9d,CAAC,CAAC,IAAD,CAAD,CAAQ4U,IAAR,CAAa,OAAb,MAA0B,EAA9B,EAAkC;cAChC5U,CAAC,CAAC,IAAD,CAAD,CACG4U,IADH,CACQ,OADR,EACiB,EADjB,EAEGW,UAFH,CAEc,OAFd;YAID;UACF,CAXI;UAaLmH,OAAO,EAAE,YAAW;YAClB3a,MAAM,CAACI,OAAP,CAAe,sCAAf,EAAuD,IAAvD;YACAnC,CAAC,CAAC,IAAD,CAAD,CAAQ8d,GAAR,CAAY,SAAZ,EAAuB,EAAvB;;YACA,IAAI9d,CAAC,CAAC,IAAD,CAAD,CAAQ4U,IAAR,CAAa,OAAb,MAA0B,EAA9B,EAAkC;cAChC5U,CAAC,CAAC,IAAD,CAAD,CACG4U,IADH,CACQ,OADR,EACiB,EADjB,EAEGW,UAFH,CAEc,OAFd;YAID;UACF;QAtBI,CA7RA;QAuTPtR,OAAO,EAAE,UAASV,IAAT,EAAeW,KAAf,EAAsB;UAC7BnC,MAAM,CAACS,KAAP,CAAa,kBAAb,EAAiCe,IAAjC,EAAuCW,KAAvC;;UACA,IAAIlE,CAAC,CAACqB,aAAF,CAAgBkC,IAAhB,CAAJ,EAA4B;YAC1BvD,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAeF,QAAf,EAAyBmC,IAAzB;UACD,CAFD,MAGK,IAAGW,KAAK,KAAK/D,SAAb,EAAwB;YAC3B,IAAGH,CAAC,CAACqB,aAAF,CAAgBD,QAAQ,CAACmC,IAAD,CAAxB,CAAH,EAAoC;cAClCvD,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAeF,QAAQ,CAACmC,IAAD,CAAvB,EAA+BW,KAA/B;YACD,CAFD,MAGK;cACH9C,QAAQ,CAACmC,IAAD,CAAR,GAAiBW,KAAjB;YACD;UACF,CAPI,MAQA;YACH,OAAO9C,QAAQ,CAACmC,IAAD,CAAf;UACD;QACF,CAvUM;QAwUPsB,QAAQ,EAAE,UAAStB,IAAT,EAAeW,KAAf,EAAsB;UAC9BnC,MAAM,CAACS,KAAP,CAAa,mBAAb,EAAkCe,IAAlC,EAAwCW,KAAxC;;UACA,IAAGA,KAAK,KAAK/D,SAAb,EAAwB;YACtB,IAAIH,CAAC,CAACqB,aAAF,CAAgBkC,IAAhB,CAAJ,EAA4B;cAC1BvD,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAeS,MAAf,EAAuBwB,IAAvB;YACD,CAFD,MAGK;cACHxB,MAAM,CAACwB,IAAD,CAAN,GAAeW,KAAf;YACD;UACF,CAPD,MAQK;YACH,OAAOnC,MAAM,CAACwB,IAAD,CAAb;UACD;QACF,CArVM;QAsVPf,KAAK,EAAE,YAAW;UAChB,IAAG,CAACpB,QAAQ,CAACgV,MAAV,IAAoBhV,QAAQ,CAACoB,KAAhC,EAAuC;YACrC,IAAGpB,QAAQ,CAACP,WAAZ,EAAyB;cACvBkB,MAAM,CAAClB,WAAP,CAAmB4B,GAAnB,CAAuB1B,SAAvB;YACD,CAFD,MAGK;cACHgB,MAAM,CAACS,KAAP,GAAesC,QAAQ,CAACC,SAAT,CAAmBC,IAAnB,CAAwB7D,IAAxB,CAA6BmB,OAAO,CAACmC,IAArC,EAA2CnC,OAA3C,EAAoDlB,QAAQ,CAACmC,IAAT,GAAgB,GAApE,CAAf;cACAxB,MAAM,CAACS,KAAP,CAAayC,KAAb,CAAmB3C,OAAnB,EAA4BvB,SAA5B;YACD;UACF;QACF,CAhWM;QAiWPoB,OAAO,EAAE,YAAW;UAClB,IAAG,CAACf,QAAQ,CAACgV,MAAV,IAAoBhV,QAAQ,CAACe,OAA7B,IAAwCf,QAAQ,CAACoB,KAApD,EAA2D;YACzD,IAAGpB,QAAQ,CAACP,WAAZ,EAAyB;cACvBkB,MAAM,CAAClB,WAAP,CAAmB4B,GAAnB,CAAuB1B,SAAvB;YACD,CAFD,MAGK;cACHgB,MAAM,CAACI,OAAP,GAAiB2C,QAAQ,CAACC,SAAT,CAAmBC,IAAnB,CAAwB7D,IAAxB,CAA6BmB,OAAO,CAACmC,IAArC,EAA2CnC,OAA3C,EAAoDlB,QAAQ,CAACmC,IAAT,GAAgB,GAApE,CAAjB;cACAxB,MAAM,CAACI,OAAP,CAAe8C,KAAf,CAAqB3C,OAArB,EAA8BvB,SAA9B;YACD;UACF;QACF,CA3WM;QA4WPS,KAAK,EAAE,YAAW;UAChB,IAAG,CAACJ,QAAQ,CAACgV,MAAb,EAAqB;YACnBrU,MAAM,CAACP,KAAP,GAAesD,QAAQ,CAACC,SAAT,CAAmBC,IAAnB,CAAwB7D,IAAxB,CAA6BmB,OAAO,CAACd,KAArC,EAA4Cc,OAA5C,EAAqDlB,QAAQ,CAACmC,IAAT,GAAgB,GAArE,CAAf;YACAxB,MAAM,CAACP,KAAP,CAAayD,KAAb,CAAmB3C,OAAnB,EAA4BvB,SAA5B;UACD;QACF,CAjXM;QAkXPF,WAAW,EAAE;UACX4B,GAAG,EAAE,UAASyC,OAAT,EAAkB;YACrB,IACEC,WADF,EAEEC,aAFF,EAGEC,YAHF;;YAKA,IAAGjE,QAAQ,CAACP,WAAZ,EAAyB;cACvBsE,WAAW,GAAK,IAAIxE,IAAJ,GAAWC,OAAX,EAAhB;cACAyE,YAAY,GAAI3E,IAAI,IAAIyE,WAAxB;cACAC,aAAa,GAAGD,WAAW,GAAGE,YAA9B;cACA3E,IAAI,GAAYyE,WAAhB;cACAtE,WAAW,CAACgD,IAAZ,CAAiB;gBACf,QAAmBqB,OAAO,CAAC,CAAD,CADX;gBAEf,aAAmB,GAAGhE,KAAH,CAASC,IAAT,CAAc+D,OAAd,EAAuB,CAAvB,KAA6B,EAFjC;gBAGf,WAAmBtD,OAHJ;gBAIf,kBAAmBwD;cAJJ,CAAjB;YAMD;;YACDE,YAAY,CAACvD,MAAM,CAAClB,WAAP,CAAmB0E,KAApB,CAAZ;YACAxD,MAAM,CAAClB,WAAP,CAAmB0E,KAAnB,GAA2BlC,UAAU,CAACtB,MAAM,CAAClB,WAAP,CAAmB2E,OAApB,EAA6B,GAA7B,CAArC;UACD,CArBU;UAsBXA,OAAO,EAAE,YAAW;YAClB,IACEC,KAAK,GAAGrE,QAAQ,CAACmC,IAAT,GAAgB,GAD1B;YAAA,IAEEmC,SAAS,GAAG,CAFd;YAIAhF,IAAI,GAAG,KAAP;YACA4E,YAAY,CAACvD,MAAM,CAAClB,WAAP,CAAmB0E,KAApB,CAAZ;YACAvF,CAAC,CAAC2D,IAAF,CAAO9C,WAAP,EAAoB,UAAS+C,KAAT,EAAgB9B,IAAhB,EAAsB;cACxC4D,SAAS,IAAI5D,IAAI,CAAC,gBAAD,CAAjB;YACD,CAFD;YAGA2D,KAAK,IAAI,MAAMC,SAAN,GAAkB,IAA3B;;YACA,IAAGkC,cAAH,EAAmB;cACjBnC,KAAK,IAAI,QAAQmC,cAAR,GAAyB,IAAlC;YACD;;YACD,IAAI,CAACtF,OAAO,CAACK,KAAR,KAAkBxC,SAAlB,IAA+BmC,OAAO,CAACqD,KAAR,KAAkBxF,SAAlD,KAAgEU,WAAW,CAACwD,MAAZ,GAAqB,CAAzF,EAA4F;cAC1F/B,OAAO,CAACO,cAAR,CAAuB4C,KAAvB;;cACA,IAAGnD,OAAO,CAACqD,KAAX,EAAkB;gBAChBrD,OAAO,CAACqD,KAAR,CAAc9E,WAAd;cACD,CAFD,MAGK;gBACHb,CAAC,CAAC2D,IAAF,CAAO9C,WAAP,EAAoB,UAAS+C,KAAT,EAAgB9B,IAAhB,EAAsB;kBACxCQ,OAAO,CAACG,GAAR,CAAYX,IAAI,CAAC,MAAD,CAAJ,GAAe,IAAf,GAAsBA,IAAI,CAAC,gBAAD,CAA1B,GAA6C,IAAzD;gBACD,CAFD;cAGD;;cACDQ,OAAO,CAACM,QAAR;YACD;;YACD/B,WAAW,GAAG,EAAd;UACD;QAjDU,CAlXN;QAqaP+E,MAAM,EAAE,UAAS9E,KAAT,EAAgB+E,eAAhB,EAAiCC,OAAjC,EAA0C;UAChD,IACEC,MAAM,GAAGlE,QADX;UAAA,IAEEmE,QAFF;UAAA,IAGEC,KAHF;UAAA,IAIEC,QAJF;UAMAL,eAAe,GAAGA,eAAe,IAAI5E,cAArC;UACA6E,OAAO,GAAWlE,OAAO,IAAYkE,OAArC;;UACA,IAAG,OAAOhF,KAAP,IAAgB,QAAhB,IAA4BiF,MAAM,KAAK5F,SAA1C,EAAqD;YACnDW,KAAK,GAAMA,KAAK,CAACqF,KAAN,CAAY,OAAZ,CAAX;YACAH,QAAQ,GAAGlF,KAAK,CAACuD,MAAN,GAAe,CAA1B;YACArE,CAAC,CAAC2D,IAAF,CAAO7C,KAAP,EAAc,UAASsF,KAAT,EAAgBlC,KAAhB,EAAuB;cACnC,IAAImC,cAAc,GAAID,KAAK,IAAIJ,QAAV,GACjB9B,KAAK,GAAGpD,KAAK,CAACsF,KAAK,GAAG,CAAT,CAAL,CAAiBE,MAAjB,CAAwB,CAAxB,EAA2BC,WAA3B,EAAR,GAAmDzF,KAAK,CAACsF,KAAK,GAAG,CAAT,CAAL,CAAiBlF,KAAjB,CAAuB,CAAvB,CADlC,GAEjBJ,KAFJ;;cAIA,IAAId,CAAC,CAACqB,aAAF,CAAiB0E,MAAM,CAACM,cAAD,CAAvB,KAA8CD,KAAK,IAAIJ,QAA3D,EAAuE;gBACrED,MAAM,GAAGA,MAAM,CAACM,cAAD,CAAf;cACD,CAFD,MAGK,IAAIN,MAAM,CAACM,cAAD,CAAN,KAA2BlG,SAA/B,EAA2C;gBAC9C8F,KAAK,GAAGF,MAAM,CAACM,cAAD,CAAd;gBACA,OAAO,KAAP;cACD,CAHI,MAIA,IAAIrG,CAAC,CAACqB,aAAF,CAAiB0E,MAAM,CAAC7B,KAAD,CAAvB,KAAqCkC,KAAK,IAAIJ,QAAlD,EAA8D;gBACjED,MAAM,GAAGA,MAAM,CAAC7B,KAAD,CAAf;cACD,CAFI,MAGA,IAAI6B,MAAM,CAAC7B,KAAD,CAAN,KAAkB/D,SAAtB,EAAkC;gBACrC8F,KAAK,GAAGF,MAAM,CAAC7B,KAAD,CAAd;gBACA,OAAO,KAAP;cACD,CAHI,MAIA;gBACHnC,MAAM,CAACP,KAAP,CAAaA,KAAK,CAACgF,MAAnB,EAA2B1F,KAA3B;gBACA,OAAO,KAAP;cACD;YACF,CAvBD;UAwBD;;UACD,IAAKd,CAAC,CAACI,UAAF,CAAc6F,KAAd,CAAL,EAA6B;YAC3BC,QAAQ,GAAGD,KAAK,CAAChB,KAAN,CAAYa,OAAZ,EAAqBD,eAArB,CAAX;UACD,CAFD,MAGK,IAAGI,KAAK,KAAK9F,SAAb,EAAwB;YAC3B+F,QAAQ,GAAGD,KAAX;UACD;;UACD,IAAGQ,KAAK,CAACC,OAAN,CAAc1E,aAAd,CAAH,EAAiC;YAC/BA,aAAa,CAAC6B,IAAd,CAAmBqC,QAAnB;UACD,CAFD,MAGK,IAAGlE,aAAa,KAAK7B,SAArB,EAAgC;YACnC6B,aAAa,GAAG,CAACA,aAAD,EAAgBkE,QAAhB,CAAhB;UACD,CAFI,MAGA,IAAGA,QAAQ,KAAK/F,SAAhB,EAA2B;YAC9B6B,aAAa,GAAGkE,QAAhB;UACD;;UACD,OAAOD,KAAP;QACD;MA1dM,CAAT;;MA4dA,IAAGjF,aAAH,EAAkB;QAChB,IAAGa,QAAQ,KAAK1B,SAAhB,EAA2B;UACzB4B,MAAM,CAACE,UAAP;QACD;;QACDF,MAAM,CAAC6D,MAAP,CAAc9E,KAAd;MACD,CALD,MAMK;QACH,IAAGe,QAAQ,KAAK1B,SAAhB,EAA2B;UACzB0B,QAAQ,CAAC+D,MAAT,CAAgB,SAAhB;QACD;;QACD7D,MAAM,CAACE,UAAP;MACD;IACF,CAlgBH;IAogBA,OAAQD,aAAa,KAAK7B,SAAnB,GACH6B,aADG,GAEH,IAFJ;EAID,CArhBD;;EAuhBAhC,CAAC,CAACQ,EAAF,CAAK4Z,SAAL,CAAehZ,QAAf,GAA0B;IAExBmC,IAAI,EAAc,WAFM;IAGxBhC,SAAS,EAAS,WAHM;IAKxB6U,MAAM,EAAY,KALM;IAMxB5T,KAAK,EAAa,KANM;IAOxBL,OAAO,EAAW,KAPM;IAQxBtB,WAAW,EAAO,IARM;IAUxBkJ,EAAE,EAAgB,OAVM;IAUG;IAE3B2Q,cAAc,EAAI,IAZM;IAYC;IAEzBsB,SAAS,EAAS,IAdM;IAcC;IACzBL,WAAW,EAAO,IAfM;IAeC;IACzBkC,WAAW,EAAO,KAhBM;IAgBC;IACzB1B,eAAe,EAAG,IAjBM;IAiBC;IAEzBxI,QAAQ,EAAU,GAnBM;IAmBD;IACvBkJ,MAAM,EAAY,aApBM;IAoBS;IAEjCf,SAAS,EAAS,YAAU,CAAE,CAtBN;IAsBQ;IAChCmB,SAAS,EAAS,YAAU,CAAE,CAvBN;IAuBQ;IAChClB,UAAU,EAAQ,YAAU,CAAE,CAxBN;IAwBQ;IAEhCe,MAAM,EAAY,YAAU,CAAE,CA1BN;IA0BQ;IAChCK,OAAO,EAAW,YAAU,CAAE,CA3BN;IA2BQ;IAChCJ,QAAQ,EAAU,YAAU,CAAE,CA5BN;IA4BQ;IAEhCvb,KAAK,EAAE;MACLgF,MAAM,EAAG;IADJ,CA9BiB;IAkCxBkC,SAAS,EAAK;MACZ8S,MAAM,EAAM,QADA;MAEZF,SAAS,EAAG,WAFA;MAGZ5H,UAAU,EAAE;IAHA,CAlCU;IAwCxB7L,QAAQ,EAAM;MACZuS,SAAS,EAAG,YADA;MAEZ3U,KAAK,EAAO,QAFA;MAGZ2O,OAAO,EAAK,QAHA;MAIZmG,OAAO,EAAK;IAJA;EAxCU,CAA1B,CAtiB4C,CAulB5C;;EACAva,CAAC,CAACsB,MAAF,CAAUtB,CAAC,CAAC6c,MAAZ,EAAoB;IAClBkB,WAAW,EAAE,UAAUC,CAAV,EAAatM,CAAb,EAAgBuM,CAAhB,EAAmBC,CAAnB,EAAsBC,CAAtB,EAAyB;MACpC,OAAO,CAACD,CAAD,IAAKxM,CAAC,IAAEyM,CAAR,KAAYzM,CAAC,GAAC,CAAd,IAAmBuM,CAA1B;IACD;EAHiB,CAApB;AAMC,CA9lBA,EA8lBG1W,MA9lBH,EA8lBWtH,MA9lBX,EA8lBmBC,QA9lBnB;AAimBD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA;;AAAC,CAAC,UAAUF,CAAV,EAAaC,MAAb,EAAqBC,QAArB,EAA+BC,SAA/B,EAA0C;EAE5C;;EAEAH,CAAC,CAACI,UAAF,GAAeJ,CAAC,CAACI,UAAF,IAAgB,UAASC,GAAT,EAAc;IAC3C,OAAO,OAAOA,GAAP,KAAe,UAAf,IAA6B,OAAOA,GAAG,CAACC,QAAX,KAAwB,QAA5D;EACD,CAFD;;EAIAL,MAAM,GAAI,OAAOA,MAAP,IAAiB,WAAjB,IAAgCA,MAAM,CAACuH,IAAP,IAAeA,IAAhD,GACLvH,MADK,GAEJ,OAAOwH,IAAP,IAAe,WAAf,IAA8BA,IAAI,CAACD,IAAL,IAAaA,IAA5C,GACEC,IADF,GAEE3C,QAAQ,CAAC,aAAD,CAAR,EAJN;;EAOA9E,CAAC,CAACQ,EAAF,CAAK+L,QAAL,GAAgB,UAAS9L,UAAT,EAAqB;IACnC,IACEkH,WAAW,GAAM3H,CAAC,CAAC,IAAD,CADpB;IAAA,IAGE4H,cAAc,GAAGD,WAAW,CAACE,QAAZ,IAAwB,EAH3C;IAAA,IAKEnH,IAAI,GAAa,IAAIC,IAAJ,GAAWC,OAAX,EALnB;IAAA,IAMEC,WAAW,GAAM,EANnB;IAAA,IAQEC,KAAK,GAAYC,SAAS,CAAC,CAAD,CAR5B;IAAA,IASEC,aAAa,GAAK,OAAOF,KAAP,IAAgB,QATpC;IAAA,IAUEG,cAAc,GAAG,GAAGC,KAAH,CAASC,IAAT,CAAcJ,SAAd,EAAyB,CAAzB,CAVnB;IAAA,IAWEiB,aAXF;IAAA,IAYEoc,YAAY,GAAG;MACb,KAAK;QAAC,OAAO,CAAR;QAAW,UAAU;MAArB,CADQ;MAEb,MAAM;QAAC,OAAO,CAAR;QAAW,UAAU;MAArB,CAFO;MAGb,MAAM;QAAC,OAAO,CAAR;QAAW,UAAU;MAArB,CAHO;MAIb,MAAM;QAAC,OAAO,CAAR;QAAW,UAAU;MAArB,CAJO;MAKb,MAAM;QAAC,OAAO,CAAR;QAAW,UAAU;MAArB;IALO,CAZjB;IAAA,IAmBEC,UAAU,GAAG,CAAC,EAAD,EAAI,KAAJ,EAAU,KAAV,EAAgB,OAAhB,EAAwB,MAAxB,EAA+B,MAA/B,EAAsC,KAAtC,EAA4C,OAA5C,EAAoD,OAApD,CAnBf;IAsBA1W,WAAW,CACRhE,IADH,CACQ,YAAY;MAChB,IACEvC,QAAQ,GAAKpB,CAAC,CAACqB,aAAF,CAAgBZ,UAAhB,CAAF,GACPT,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAe,EAAf,EAAmBtB,CAAC,CAACQ,EAAF,CAAK+L,QAAL,CAAcnL,QAAjC,EAA2CX,UAA3C,CADO,GAEPT,CAAC,CAACsB,MAAF,CAAS,EAAT,EAAatB,CAAC,CAACQ,EAAF,CAAK+L,QAAL,CAAcnL,QAA3B,CAHN;MAAA,IAKEsH,SAAS,GAAGtH,QAAQ,CAACsH,SALvB;MAAA,IAMEnH,SAAS,GAAGH,QAAQ,CAACG,SANvB;MAAA,IAOEsG,QAAQ,GAAGzG,QAAQ,CAACyG,QAPtB;MAAA,IAQE0K,SAAS,GAAGnR,QAAQ,CAACmR,SARvB;MAAA,IASE+L,MAAM,GAAGld,QAAQ,CAACkd,MATpB;MAAA,IAUE7V,QAAQ,GAAGrH,QAAQ,CAACqH,QAVtB;MAAA,IAWE8V,OAAO,GAAGH,YAAY,CAAChd,QAAQ,CAACod,UAAV,CAXxB;MAAA,IAYEhd,KAAK,GAAGJ,QAAQ,CAACI,KAZnB;MAAA,IAcEoH,cAAc,GAAG,MAAMrH,SAdzB;MAAA,IAeEE,eAAe,GAAG,YAAYF,SAfhC;MAAA,IAiBEI,OAAO,GAAG3B,CAAC,CAAC,IAAD,CAjBb;MAAA,IAkBEuK,MAAM,GAAG5I,OAAO,CAAC6H,IAAR,CAAa3B,QAAQ,CAACgH,KAAtB,CAlBX;MAAA,IAmBE4P,UAAU,GAAG9c,OAAO,CAAC6H,IAAR,CAAa3B,QAAQ,CAAC6W,KAAtB,CAnBf;MAAA,IAoBEC,UAAU,GAAGhd,OAAO,CAAC6H,IAAR,CAAa3B,QAAQ,CAAC+W,SAAtB,CApBf;MAAA,IAsBEhd,OAAO,GAAG,IAtBZ;MAAA,IAuBEC,QAAQ,GAAGF,OAAO,CAACG,IAAR,CAAaL,eAAb,CAvBb;MAAA,IAyBEod,OAzBF;MAAA,IA0BEC,WAAW,GAAG,KA1BhB;MAAA,IA2BEC,UAAU,GAAGpd,OAAO,CAACwK,QAAR,CAAiBzD,SAAS,CAACsW,QAA3B,CA3Bf;MAAA,IA4BEC,qBAAqB,GAAG,KA5B1B;MAAA,IA6BEC,iBAAiB,GAAG,KA7BtB;MAAA,IA8BEC,aA9BF;MAAA,IA+BEpd,MA/BF;MAkCAA,MAAM,GAAG;QAEPE,UAAU,EAAE,YAAY;UACtBF,MAAM,CAACS,KAAP,CAAa,2BAAb,EAA0CZ,OAA1C,EAAmDD,OAAnD;UAEAkd,OAAO,GAAG9c,MAAM,CAACiH,GAAP,CAAW6V,OAAX,EAAV;UACA9c,MAAM,CAACqd,KAAP,CAAavY,MAAb;UACA9E,MAAM,CAACqd,KAAP,CAAaV,KAAb;UACA3c,MAAM,CAACqd,KAAP,CAAa7P,MAAb;UACAxN,MAAM,CAACqd,KAAP,CAAavQ,KAAb;UACA9M,MAAM,CAACqd,KAAP,CAAa/M,IAAb;UACAtQ,MAAM,CAACsd,MAAP,CAAc9S,QAAd;UAEAxK,MAAM,CAACiD,IAAP,CAAYyV,MAAZ;UACA1Y,MAAM,CAAC2Y,cAAP;UACA3Y,MAAM,CAACG,WAAP;QACD,CAhBM;QAkBPA,WAAW,EAAE,YAAY;UACvBH,MAAM,CAACI,OAAP,CAAe,8BAAf;UACAN,QAAQ,GAAGE,MAAX;UACAJ,OAAO,CAACG,IAAR,CAAaL,eAAb,EAA8BI,QAA9B;QACD,CAtBM;QAwBP8C,OAAO,EAAE,YAAY;UACnB5C,MAAM,CAACI,OAAP,CAAe,kCAAf,EAAmDP,OAAnD;UACAD,OAAO,CAACiD,UAAR,CAAmBnD,eAAnB;UACAM,MAAM,CAACud,MAAP,CAAc7E,MAAd;UACA1Y,MAAM,CAACwd,UAAP,CAAkBJ,aAAlB;QACD,CA7BM;QA+BPC,KAAK,EAAE;UACLvY,MAAM,EAAE,YAAY;YAClB,IAAI9E,MAAM,CAACiH,GAAP,CAAWwW,OAAX,OAAyB,IAA7B,EAAmC;cACjCzd,MAAM,CAACoH,GAAP,CAAWqW,OAAX,CAAmB7d,OAAO,CAACG,IAAR,CAAa2G,QAAQ,CAAC+W,OAAtB,CAAnB;YACD;;YACD,IAAIzd,MAAM,CAACiH,GAAP,CAAWyW,OAAX,OAAyB,IAA7B,EAAmC;cACjC1d,MAAM,CAACoH,GAAP,CAAWsW,OAAX,CAAmB9d,OAAO,CAACG,IAAR,CAAa2G,QAAQ,CAACgX,OAAtB,CAAnB;YACD;;YACD1d,MAAM,CAACkC,OAAP,CAAe,MAAf,EAAuBlC,MAAM,CAACiH,GAAP,CAAWwB,IAAX,EAAvB;YACAzI,MAAM,CAACkC,OAAP,CAAe,IAAf,EAAqB7C,QAAQ,CAAC2I,EAAT,KAAgBQ,MAAM,CAAClG,MAAP,GAAgB,OAAhB,GAA0B,OAA1C,CAArB;UACD,CAVI;UAWLqa,KAAK,EAAE,YAAY;YACjB,IAAItd,QAAQ,CAACmO,MAAb,EAAqB;cACnB;YACD;;YACD,IAAI,CAACoP,UAAU,CAACta,MAAhB,EAAwB;cACtBsa,UAAU,GAAGhd,OAAO,CAACwR,QAAR,GAAmBkC,KAAnB,EAAb;;cACA,IAAI,CAACsJ,UAAU,CAACta,MAAhB,EAAwB;gBACtB;cACD;YACF;;YACD,IAAIrE,CAAC,CAACQ,EAAF,CAAKke,KAAL,KAAeve,SAAnB,EAA8B;cAC5B4B,MAAM,CAACP,KAAP,CAAaA,KAAK,CAACkd,KAAnB;cACA;YACD;;YACD,IAAI,CAACD,UAAU,CAACpa,MAAhB,EAAwB;cACtB;cACA;cACA,IAAIqb,gBAAgB,GAAGf,UAAU,CAACvT,MAAX,EAAvB;cAAA,IACIuU,mBAAmB,GAAGD,gBAAgB,CAACpU,OAAjB,CAAyBzD,QAAQ,CAAC+X,MAAlC,EAA0Cvb,MAA1C,KAAqD,CAArD,GAAyD,UAAzD,GAAsE,WADhG;cAEAoa,UAAU,GAAGze,CAAC,CAAC,QAAD,CAAD,CAAYqT,QAAZ,CAAqB3K,SAAS,CAACgW,KAA/B,EAAsCiB,mBAAtC,EAA2DD,gBAA3D,CAAb;YACD;;YACDjB,UAAU,CAACpL,QAAX,CAAoB3K,SAAS,CAAC6D,QAA9B;;YACA,IAAGwS,UAAH,EAAc;cACZN,UAAU,CAACpL,QAAX,CAAoB3K,SAAS,CAACsW,QAA9B;YACD;;YACD,IAAIa,SAAS,GAAG,YAAY;cAC1B9d,MAAM,CAAC+d,eAAP;cACA,OAAO1e,QAAQ,CAACye,SAAT,CAAmB5a,KAAnB,CAAyBwZ,UAAzB,EAAqC1d,SAArC,CAAP;YACD,CAHD;;YAIA,IAAIgf,QAAQ,GAAG3e,QAAQ,CAAC2e,QAAxB;;YACA,IAAI,CAACxV,MAAM,CAAClG,MAAZ,EAAoB;cAClB;cACAoa,UAAU,CAAC7J,IAAX,CAAgB,UAAhB,EAA4B,GAA5B;;cACAiL,SAAS,GAAG,YAAY;gBACtB9d,MAAM,CAAC+d,eAAP;gBACA/d,MAAM,CAACuT,KAAP;gBACA,OAAOlU,QAAQ,CAACye,SAAT,CAAmB5a,KAAnB,CAAyBwZ,UAAzB,EAAqC1d,SAArC,CAAP;cACD,CAJD;;cAKAgf,QAAQ,GAAG,YAAY;gBACrBhe,MAAM,CAACoI,IAAP;gBACA,OAAO/I,QAAQ,CAAC2e,QAAT,CAAkB9a,KAAlB,CAAwBwZ,UAAxB,EAAoC1d,SAApC,CAAP;cACD,CAHD;YAID;;YACD,IAAIif,MAAM,GAAG,YAAY;cACvB;cACAje,MAAM,CAACoH,GAAP,CAAW8W,SAAX,CAAqBle,MAAM,CAACiH,GAAP,CAAWqJ,IAAX,EAArB;cACAtQ,MAAM,CAACoH,GAAP,CAAW+W,IAAX,CAAgBne,MAAM,CAACiH,GAAP,CAAWmX,aAAX,CAAyB/e,QAAQ,CAACgf,SAAlC,CAAhB;cACA,OAAOhf,QAAQ,CAAC4e,MAAT,CAAgB/a,KAAhB,CAAsBwZ,UAAtB,EAAkC1d,SAAlC,CAAP;YACD,CALD;;YAMA,IAAIgJ,EAAE,GAAGhI,MAAM,CAACkC,OAAP,CAAe,IAAf,CAAT;YACA,IAAIoc,OAAO,GAAGrgB,CAAC,CAACsB,MAAF,CAAS,EAAT,EAAaF,QAAQ,CAACkf,YAAtB,EAAoC;cAChD5B,KAAK,EAAED,UADyC;cAEhD1U,EAAE,EAAEA,EAF4C;cAGhDwW,SAAS,EAAExW,EAAE,KAAK,OAH8B;cAIhDyW,QAAQ,EAAEzW,EAAE,KAAK,OAJ+B;cAKhDiW,MAAM,EAAEA,MALwC;cAMhDH,SAAS,EAAEA,SANqC;cAOhDY,MAAM,EAAErf,QAAQ,CAACqf,MAP+B;cAQhDV,QAAQ,EAAEA;YARsC,CAApC,CAAd;YAUAhe,MAAM,CAAC2c,KAAP,CAAa2B,OAAb;UACD,CAxEI;UAyEL9Q,MAAM,EAAE,YAAY;YAClB,IAAIoP,UAAU,CAACta,MAAX,IAAqB,CAACjD,QAAQ,CAACmO,MAAnC,EAA2C;cACzC;YACD;;YACDnO,QAAQ,CAACmO,MAAT,GAAkB,IAAlB;YACAkP,UAAU,GAAGze,CAAC,CAAC,QAAD,CAAD,CAAYqT,QAAZ,CAAqB3K,SAAS,CAAC6D,QAA/B,EAAyCiH,QAAzC,CAAkD7R,OAAlD,CAAb;;YACA,IAAI,CAAC4I,MAAM,CAAClG,MAAZ,EAAoB;cAClBoa,UAAU,CAAC7J,IAAX,CAAgB,UAAhB,EAA4B,GAA5B;YACD;UACF,CAlFI;UAmFL/F,KAAK,EAAE,YAAY;YACjB,IAAIzN,QAAQ,CAACsf,aAAT,IAA0BnW,MAAM,CAAClG,MAAjC,IAA2Cwa,OAA/C,EAAwD;cACtDtU,MAAM,CAACE,IAAP,CAAY,UAAZ,EAAwB,IAAxB;YACD;;YACD1I,MAAM,CAAC4e,KAAP,CAAa7c,QAAb;UACD,CAxFI;UAyFLuO,IAAI,EAAE,YAAY;YAChB,IAAIA,IAAJ;;YACA,IAAIjR,QAAQ,CAACwf,WAAb,EAA0B;cACxBvO,IAAI,GAAGiM,MAAM,CAACjM,IAAP,CAAYjR,QAAQ,CAACwf,WAArB,EAAkCxf,QAAlC,CAAP;YACD,CAFD,MAEO,IAAIO,OAAO,CAACG,IAAR,CAAa2G,QAAQ,CAAC4J,IAAtB,MAAgClS,SAApC,EAA+C;cACpDkS,IAAI,GAAGiM,MAAM,CAACjM,IAAP,CAAY1Q,OAAO,CAACG,IAAR,CAAa2G,QAAQ,CAAC4J,IAAtB,CAAZ,EAAyCjR,QAAzC,CAAP;YACD,CAFM,MAEA,IAAImJ,MAAM,CAAClG,MAAX,EAAmB;cACxBgO,IAAI,GAAGiM,MAAM,CAACjM,IAAP,CAAY9H,MAAM,CAACiC,GAAP,EAAZ,EAA0BpL,QAA1B,CAAP;YACD;;YACDW,MAAM,CAACoH,GAAP,CAAWkJ,IAAX,CAAgBA,IAAhB,EAAsBjR,QAAQ,CAACyf,WAA/B,EAA4C,KAA5C;YACA9e,MAAM,CAACoH,GAAP,CAAW+W,IAAX,CAAgBne,MAAM,CAACiH,GAAP,CAAWkX,IAAX,EAAhB,EAAmC,KAAnC;UACD;QApGI,CA/BA;QAsIP9L,OAAO,EAAE;UACPpQ,MAAM,EAAE,YAAW;YACjB,IACI8c,YAAY,GAAGvW,MAAM,CAAC,CAAD,CADzB;;YAGA,IAAGuW,YAAH,EAAiB;cACf,IAAIrG,MAAM,GAAGva,QAAQ,CAAC6gB,WAAT,CAAqB,YAArB,CAAb;cACAhf,MAAM,CAACI,OAAP,CAAe,gCAAf;cACAsY,MAAM,CAACuG,SAAP,CAAiB,QAAjB,EAA2B,IAA3B,EAAiC,KAAjC;cACAF,YAAY,CAACG,aAAb,CAA2BxG,MAA3B;YACD;UACF;QAXM,CAtIF;QAoJP4E,MAAM,EAAE;UACN9S,QAAQ,EAAE,YAAY;YACpB,IAAIlF,CAAJ,EAAO6Z,CAAP,EAAUhD,CAAV,EAAaiD,CAAb,EAAgBC,GAAhB,EAAqBC,IAArB,EAA2BC,QAA3B;YAEA,IACEpB,IAAI,GAAGne,MAAM,CAACiH,GAAP,CAAWkX,IAAX,EADT;YAAA,IAEEqB,KAAK,GAAG,IAAI5gB,IAAJ,EAFV;YAAA,IAGE0R,IAAI,GAAGtQ,MAAM,CAACiH,GAAP,CAAWqJ,IAAX,EAHT;YAAA,IAIE4N,SAAS,GAAGle,MAAM,CAACiH,GAAP,CAAWiX,SAAX,EAJd;YAAA,IAKEza,OAAO,GAAGzD,MAAM,CAACyf,MAAP,CAAcC,WAAd,CAA0BxB,SAAS,IAAI5N,IAAb,IAAqBjR,QAAQ,CAACwf,WAA9B,IAA6CW,KAAvE,CALZ;;YAQA,IAAI,CAACtB,SAAL,EAAgB;cACdA,SAAS,GAAGza,OAAZ;cACAzD,MAAM,CAACoH,GAAP,CAAW8W,SAAX,CAAqBA,SAArB,EAAgC,KAAhC,EAAuC,KAAvC;YACD;;YAED,IACEyB,MAAM,GAAGxB,IAAI,KAAK,MADpB;YAAA,IAEEyB,OAAO,GAAGzB,IAAI,KAAK,OAFrB;YAAA,IAGE0B,KAAK,GAAG1B,IAAI,KAAK,KAHnB;YAAA,IAIE2B,MAAM,GAAG3B,IAAI,KAAK,MAJpB;YAAA,IAKE4B,QAAQ,GAAG5B,IAAI,KAAK,QALtB;YAAA,IAME6B,UAAU,GAAG3gB,QAAQ,CAACoJ,IAAT,KAAkB,MANjC;YASA,IAAIwX,UAAU,GAAGxa,IAAI,CAAC+Q,GAAL,CAASnX,QAAQ,CAAC4gB,UAAlB,EAA8B,CAA9B,CAAjB;YACA,IAAIC,WAAW,GAAG,CAACL,KAAD,GAAS,CAAT,GAAa7f,MAAM,CAACiH,GAAP,CAAWiZ,WAAX,EAA/B;YAEA,IACE9J,MAAM,GAAG3S,OAAO,CAAC0c,UAAR,EADX;YAAA,IAEEhK,IAAI,GAAG1S,OAAO,CAAC2c,QAAR,EAFT;YAAA,IAGElK,GAAG,GAAGzS,OAAO,CAAC4c,OAAR,EAHR;YAAA,IAIEC,UAAU,GAAG7c,OAAO,CAAC8c,QAAR,KAAqBL,WAJpC;YAAA,IAKEvP,IAAI,GAAGlN,OAAO,CAAC+c,WAAR,EALT;YAQA,IAAIC,OAAO,GAAGZ,KAAK,GAAGxgB,QAAQ,CAACqhB,eAAT,GAA2B,CAA3B,GAA+B,CAAlC,GAAsCZ,MAAM,GAAG,CAAH,GAAOtD,OAAO,CAAC,QAAD,CAA7E;YACA,IAAImE,IAAI,GAAGd,KAAK,IAAIC,MAAT,GAAkB,CAAlB,GAAsBtD,OAAO,CAAC,KAAD,CAAxC;YACA,IAAIoE,KAAK,GAAGf,KAAK,GAAGI,UAAH,GAAgB,CAAjC;YAEA,IAAIY,SAAS,GAAGnE,UAAhB;YACA,IAAIoE,eAAe,GAAGD,SAAS,CAACzW,QAAV,CAAmB,MAAnB,IAA6B,cAA7B,GAA8C,aAApE;YACAyW,SAAS,CAACnV,KAAV;;YACA,IAAIkV,KAAK,GAAG,CAAZ,EAAe;cACbrB,QAAQ,GAAGthB,CAAC,CAAC,QAAD,CAAD,CAAYqT,QAAZ,CAAqB3K,SAAS,CAACoa,IAA/B,EAAqCtP,QAArC,CAA8CoP,SAA9C,CAAX;YACD;;YAED,KAAKzB,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGwB,KAAhB,EAAuBxB,CAAC,EAAxB,EAA4B;cAC1B,IAAIwB,KAAK,GAAG,CAAZ,EAAe;gBACb,IAAII,UAAU,GAAG/iB,CAAC,CAAC,QAAD,CAAD,CAAYqT,QAAZ,CAAqB3K,SAAS,CAACsa,MAA/B,EAAuCxP,QAAvC,CAAgD8N,QAAhD,CAAjB;gBACAsB,SAAS,GAAGG,UAAZ;cACD;;cAED,IAAItQ,KAAK,GAAG4P,UAAU,GAAGlB,CAAzB;cACA,IAAI8B,mBAAmB,GAAG,CAAC,IAAItiB,IAAJ,CAAS+R,IAAT,EAAeD,KAAf,EAAsB,CAAtB,EAAyByQ,MAAzB,KAAoC9hB,QAAQ,CAAC+hB,cAAT,GAA0B,CAA9D,GAAkE,CAAnE,IAAwE,CAAlG;;cACA,IAAI,CAAC/hB,QAAQ,CAACgiB,cAAV,IAA4BxB,KAAhC,EAAuC;gBACrC,IAAIyB,aAAa,GAAG,IAAI1iB,IAAJ,CAAS+R,IAAT,EAAeD,KAAK,GAAG,CAAvB,EAA0B,CAA1B,EAA6B2P,OAA7B,KAAyCa,mBAA7D;gBACAP,IAAI,GAAGlb,IAAI,CAAC8b,IAAL,CAAUD,aAAa,GAAG,CAA1B,CAAP;cACD;;cAED,IACEE,UAAU,GAAG7B,MAAM,GAAG,EAAH,GAAQC,OAAO,GAAG,CAAH,GAAO,CAD3C;cAAA,IAEE6B,WAAW,GAAG5B,KAAK,GAAG,CAAH,GAAO,CAF5B;cAAA,IAGE6B,SAAS,GAAG5B,MAAM,IAAIC,QAAV,GAAqB,CAArB,GAAyB,CAHvC;cAAA,IAIE4B,WAAW,GAAG7B,MAAM,IAAIC,QAAV,GAAqB7J,GAArB,GAA2B,CAJ3C;cAAA,IAKE0L,QAAQ,GAAG,IAAIhjB,IAAJ,CAAS+R,IAAI,GAAG6Q,UAAhB,EAA4B9Q,KAAK,GAAG+Q,WAApC,EAAiDE,WAAW,GAAGD,SAA/D,EAA0EvL,IAA1E,CALb;cAAA,IAME0L,QAAQ,GAAG,IAAIjjB,IAAJ,CAAS+R,IAAI,GAAG6Q,UAAhB,EAA4B9Q,KAAK,GAAG+Q,WAApC,EAAiDE,WAAW,GAAGD,SAA/D,EAA0EvL,IAA1E,CANb;cAAA,IAOE2L,QAAQ,GAAGnC,MAAM,GAAG,IAAI/gB,IAAJ,CAAS6G,IAAI,CAAC8b,IAAL,CAAU5Q,IAAI,GAAG,EAAjB,IAAuB,EAAvB,GAA4B,CAArC,EAAwC,CAAxC,EAA2C,CAA3C,CAAH,GACfiP,OAAO,GAAG,IAAIhhB,IAAJ,CAAS+R,IAAT,EAAe,CAAf,EAAkB,CAAlB,CAAH,GAA0BkP,KAAK,GAAG,IAAIjhB,IAAJ,CAAS+R,IAAT,EAAeD,KAAf,EAAsB,CAAtB,CAAH,GAA8B,IAAI9R,IAAJ,CAAS+R,IAAT,EAAeD,KAAf,EAAsBwF,GAAtB,EAA2B,CAAC,CAA5B,CARxE;cAAA,IASE6L,SAAS,GAAGpC,MAAM,GAAG,IAAI/gB,IAAJ,CAAS6G,IAAI,CAAC8b,IAAL,CAAU5Q,IAAI,GAAG,EAAjB,IAAuB,EAAvB,GAA4B,CAArC,EAAwC,CAAxC,EAA2C,CAA3C,CAAH,GAChBiP,OAAO,GAAG,IAAIhhB,IAAJ,CAAS+R,IAAI,GAAG,CAAhB,EAAmB,CAAnB,EAAsB,CAAtB,CAAH,GAA8BkP,KAAK,GAAG,IAAIjhB,IAAJ,CAAS+R,IAAT,EAAeD,KAAK,GAAG,CAAvB,EAA0B,CAA1B,CAAH,GAAkC,IAAI9R,IAAJ,CAAS+R,IAAT,EAAeD,KAAf,EAAsBwF,GAAG,GAAG,CAA5B,CAVhF;cAaA,IAAI8L,QAAQ,GAAG7D,IAAf;;cACA,IAAI0B,KAAK,IAAIxgB,QAAQ,CAACqhB,eAAtB,EAAsC;gBACpCsB,QAAQ,IAAI,UAAZ;cACD;;cACD,IAAIpe,KAAK,GAAG3F,CAAC,CAAC,UAAD,CAAD,CAAcqT,QAAd,CAAuB3K,SAAS,CAAC/C,KAAjC,EAAwC0N,QAAxC,CAAiD0Q,QAAjD,EAA2D1Q,QAA3D,CAAoEgL,UAAU,CAACmE,OAAD,CAAV,GAAsB,SAA1F,EAAqGhP,QAArG,CAA8GoP,SAA9G,CAAZ;;cACA,IAAG7D,UAAH,EAAc;gBACZpZ,KAAK,CAAC0N,QAAN,CAAe3K,SAAS,CAACsW,QAAzB;cACD;;cACD,IAAIgF,WAAW,GAAGxB,OAAlB,CAlC0B,CAmC1B;;cACA,IAAI,CAACT,UAAL,EAAiB;gBACf,IAAIkC,KAAK,GAAGjkB,CAAC,CAAC,UAAD,CAAD,CAAcwT,QAAd,CAAuB7N,KAAvB,CAAZ;gBAEAyb,GAAG,GAAGphB,CAAC,CAAC,OAAD,CAAD,CAAWwT,QAAX,CAAoByQ,KAApB,CAAN;gBACA5C,IAAI,GAAGrhB,CAAC,CAAC,OAAD,CAAD,CAAW4U,IAAX,CAAgB,SAAhB,EAA2B,KAAK4N,OAAhC,EAAyChP,QAAzC,CAAkD4N,GAAlD,CAAP;gBAEA,IAAI8C,UAAU,GAAGxC,MAAM,IAAIC,OAAV,GAAoB,IAAIhhB,IAAJ,CAAS+R,IAAT,EAAe,CAAf,EAAkB,CAAlB,CAApB,GACfkP,KAAK,GAAG,IAAIjhB,IAAJ,CAAS+R,IAAT,EAAeD,KAAf,EAAsB,CAAtB,CAAH,GAA8B,IAAI9R,IAAJ,CAAS+R,IAAT,EAAeD,KAAf,EAAsBwF,GAAtB,EAA2BC,IAA3B,EAAiCC,MAAjC,CADrC;gBAEA,IAAIgM,UAAU,GAAGnkB,CAAC,CAAC,SAAD,CAAD,CAAaqT,QAAb,CAAsB3K,SAAS,CAAC0b,IAAhC,EAAsC5Q,QAAtC,CAA+C6N,IAA/C,CAAjB;gBACA8C,UAAU,CAACzU,IAAX,CAAgB6C,SAAS,CAAC8R,MAAV,CAAiBH,UAAjB,EAA6BhE,IAA7B,EAAmC9e,QAAnC,CAAhB;gBACA,IAAIkjB,OAAO,GAAG3C,OAAO,GAAIvgB,QAAQ,CAACmjB,WAAT,GAAuB,KAAvB,GAA+B,MAAnC,GACnB3C,KAAK,GAAIxgB,QAAQ,CAACojB,YAAT,GAAwB,MAAxB,GAAiC,OAArC,GAAgD,KADvD;gBAEAL,UAAU,CAACriB,IAAX,CAAgB2G,QAAQ,CAACyX,IAAzB,EAA+BoE,OAA/B;;gBAEA,IAAInD,CAAC,KAAK,CAAV,EAAa;kBACX,IAAI7D,IAAI,GAAGtd,CAAC,CAAC,SAAD,CAAD,CAAaqT,QAAb,CAAsB3K,SAAS,CAAC4U,IAAhC,EAAsC9J,QAAtC,CAA+C6N,IAA/C,CAAX;kBACA/D,IAAI,CAACxb,IAAL,CAAU2G,QAAQ,CAACwX,SAAnB,EAA8B0D,QAA9B;kBACArG,IAAI,CAACmH,WAAL,CAAiB/b,SAAS,CAACgc,YAA3B,EAAyC,CAAC3iB,MAAM,CAACyf,MAAP,CAAcmD,aAAd,CAA4Bd,QAA5B,EAAsC3D,IAAtC,CAA1C;kBACAlgB,CAAC,CAAC,MAAD,CAAD,CAAUqT,QAAV,CAAmB3K,SAAS,CAACkc,QAA7B,EAAuCpR,QAAvC,CAAgD8J,IAAhD;gBACD;;gBAED,IAAI6D,CAAC,KAAKwB,KAAK,GAAG,CAAlB,EAAqB;kBACnB,IAAIvH,IAAI,GAAGpb,CAAC,CAAC,SAAD,CAAD,CAAaqT,QAAb,CAAsB3K,SAAS,CAAC0S,IAAhC,EAAsC5H,QAAtC,CAA+C6N,IAA/C,CAAX;kBACAjG,IAAI,CAACtZ,IAAL,CAAU2G,QAAQ,CAACwX,SAAnB,EAA8B2D,QAA9B;kBACAxI,IAAI,CAACqJ,WAAL,CAAiB/b,SAAS,CAACgc,YAA3B,EAAyC,CAAC3iB,MAAM,CAACyf,MAAP,CAAcmD,aAAd,CAA4Bb,SAA5B,EAAuC5D,IAAvC,CAA1C;kBACAlgB,CAAC,CAAC,MAAD,CAAD,CAAUqT,QAAV,CAAmB3K,SAAS,CAACmc,QAA7B,EAAuCrR,QAAvC,CAAgD4H,IAAhD;gBACD;;gBACD,IAAIwG,KAAJ,EAAW;kBACTR,GAAG,GAAGphB,CAAC,CAAC,OAAD,CAAD,CAAWwT,QAAX,CAAoByQ,KAApB,CAAN;;kBACA,IAAG7iB,QAAQ,CAACqhB,eAAZ,EAA6B;oBACzBpB,IAAI,GAAGrhB,CAAC,CAAC,OAAD,CAAD,CAAWwT,QAAX,CAAoB4N,GAApB,CAAP;oBACAC,IAAI,CAAC3R,IAAL,CAAUtO,QAAQ,CAACsO,IAAT,CAAcoV,MAAxB;oBACAzD,IAAI,CAAChO,QAAL,CAAc3K,SAAS,CAACqc,QAAxB;oBACAf,WAAW;kBACd;;kBACD,KAAK3c,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAG2c,WAAhB,EAA6B3c,CAAC,EAA9B,EAAkC;oBAChCga,IAAI,GAAGrhB,CAAC,CAAC,OAAD,CAAD,CAAWwT,QAAX,CAAoB4N,GAApB,CAAP;oBACAC,IAAI,CAAC3R,IAAL,CAAU6C,SAAS,CAACyS,eAAV,CAA0B,CAAC3d,CAAC,GAAGjG,QAAQ,CAAC+hB,cAAd,IAAgC,CAA1D,EAA6D/hB,QAA7D,CAAV;kBACD;gBACF;cACF;;cAED,IAAI6jB,KAAK,GAAGjlB,CAAC,CAAC,UAAD,CAAD,CAAcwT,QAAd,CAAuB7N,KAAvB,CAAZ;cACA0B,CAAC,GAAGqa,MAAM,GAAGla,IAAI,CAAC8b,IAAL,CAAU5Q,IAAI,GAAG,EAAjB,IAAuB,EAAvB,GAA4B,CAA/B,GAAmCkP,KAAK,GAAG,IAAIqB,mBAAP,GAA6B,CAA/E;;cACA,KAAK/B,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGwB,IAAhB,EAAsBxB,CAAC,EAAvB,EAA2B;gBACzBE,GAAG,GAAGphB,CAAC,CAAC,OAAD,CAAD,CAAWwT,QAAX,CAAoByR,KAApB,CAAN;;gBACA,IAAGrD,KAAK,IAAIxgB,QAAQ,CAACqhB,eAArB,EAAqC;kBACjCpB,IAAI,GAAGrhB,CAAC,CAAC,OAAD,CAAD,CAAWwT,QAAX,CAAoB4N,GAApB,CAAP;kBACAC,IAAI,CAAC3R,IAAL,CAAU3N,MAAM,CAACiH,GAAP,CAAWkc,UAAX,CAAsBxS,IAAtB,EAA2BD,KAA3B,EAAiCpL,CAAC,GAAC,CAAF,GAAIjG,QAAQ,CAAC+hB,cAA9C,CAAV;kBACA9B,IAAI,CAAChO,QAAL,CAAc3K,SAAS,CAACqc,QAAxB;gBACH;;gBACD,KAAK7G,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAG8F,WAAhB,EAA6B9F,CAAC,IAAI7W,CAAC,EAAnC,EAAuC;kBACrC,IAAI8d,QAAQ,GAAGzD,MAAM,GAAG,IAAI/gB,IAAJ,CAAS0G,CAAT,EAAYoL,KAAZ,EAAmB,CAAnB,EAAsByF,IAAtB,EAA4BC,MAA5B,CAAH,GACnBwJ,OAAO,GAAG,IAAIhhB,IAAJ,CAAS+R,IAAT,EAAerL,CAAf,EAAkB,CAAlB,EAAqB6Q,IAArB,EAA2BC,MAA3B,CAAH,GAAwCyJ,KAAK,GAAG,IAAIjhB,IAAJ,CAAS+R,IAAT,EAAeD,KAAf,EAAsBpL,CAAtB,EAAyB6Q,IAAzB,EAA+BC,MAA/B,CAAH,GAClD0J,MAAM,GAAG,IAAIlhB,IAAJ,CAAS+R,IAAT,EAAeD,KAAf,EAAsBwF,GAAtB,EAA2B5Q,CAA3B,CAAH,GAAmC,IAAI1G,IAAJ,CAAS+R,IAAT,EAAeD,KAAf,EAAsBwF,GAAtB,EAA2BC,IAA3B,EAAiC7Q,CAAC,GAAGjG,QAAQ,CAACod,UAA9C,CAF7C;kBAGA,IAAI4G,QAAQ,GAAG1D,MAAM,GAAGra,CAAH,GACnBsa,OAAO,GAAGvgB,QAAQ,CAACsO,IAAT,CAAc2V,WAAd,CAA0Bhe,CAA1B,CAAH,GAAkCua,KAAK,GAAGuD,QAAQ,CAAC/C,OAAT,EAAH,GAC5C7P,SAAS,CAAC7R,IAAV,CAAeykB,QAAf,EAAyB/jB,QAAzB,EAAmC,IAAnC,CAFJ;kBAGAigB,IAAI,GAAGrhB,CAAC,CAAC,OAAD,CAAD,CAAWqT,QAAX,CAAoB3K,SAAS,CAAC2Y,IAA9B,EAAoC7N,QAApC,CAA6C4N,GAA7C,CAAP;kBACAC,IAAI,CAAC3R,IAAL,CAAU0V,QAAV;kBACA/D,IAAI,CAACvf,IAAL,CAAU2G,QAAQ,CAAC4J,IAAnB,EAAyB8S,QAAzB;kBACA,IAAIG,QAAQ,GAAG1D,KAAK,IAAIuD,QAAQ,CAAC7C,QAAT,OAAyB,CAAC7P,KAAK,GAAG,EAAT,IAAe,EAAhE;kBACA,IAAI3O,QAAQ,GAAI,CAAC1C,QAAQ,CAACmkB,kBAAV,IAAgCD,QAAjC,IAA8C,CAACvjB,MAAM,CAACyf,MAAP,CAAcmD,aAAd,CAA4BQ,QAA5B,EAAsCjF,IAAtC,CAA/C,IAA8F9e,QAAQ,CAACsT,UAAT,CAAoByQ,QAApB,EAA8BjF,IAA9B,CAA9F,IAAqIne,MAAM,CAACyf,MAAP,CAAc9M,UAAd,CAAyByQ,QAAzB,EAAmCjF,IAAnC,CAArI,IAAiL,CAACne,MAAM,CAACyf,MAAP,CAAcgE,SAAd,CAAwBL,QAAxB,EAAkCjF,IAAlC,CAAjM;kBACA,IAAIuF,SAAJ;;kBACA,IAAI3hB,QAAJ,EAAc;oBACZ,IAAI4hB,YAAY,GAAG3jB,MAAM,CAACyf,MAAP,CAAcmE,eAAd,CAA8BR,QAA9B,EAAwCjF,IAAxC,EAA8C9e,QAAQ,CAACwkB,aAAvD,CAAnB;;oBACA,IAAIF,YAAY,KAAK,IAAjB,IAAyBA,YAAY,CAACjd,QAAQ,CAACvD,OAAV,CAAzC,EAA6D;sBAC3Dmc,IAAI,CAACzM,IAAL,CAAU,cAAV,EAA0B8Q,YAAY,CAACjd,QAAQ,CAACvD,OAAV,CAAtC;sBACAmc,IAAI,CAACzM,IAAL,CAAU,eAAV,EAA2B8Q,YAAY,CAACjd,QAAQ,CAACod,QAAV,CAAZ,IAAmChD,eAA9D;;sBACA,IAAG6C,YAAY,CAACjd,QAAQ,CAACuW,QAAV,CAAZ,IAAoCD,UAAU,IAAI2G,YAAY,CAACjd,QAAQ,CAACuW,QAAV,CAAZ,KAAoC7e,SAAzF,EAAqG;wBACnGkhB,IAAI,CAACzM,IAAL,CAAU,eAAV,EAA2B,EAA3B;sBACD;;sBACD,IAAG8Q,YAAY,CAACjd,QAAQ,CAACqd,SAAV,CAAf,EAAqC;wBACnCzE,IAAI,CAACzM,IAAL,CAAU,gBAAV,EAA4B8Q,YAAY,CAACjd,QAAQ,CAACqd,SAAV,CAAxC;sBACD;oBACF;kBACF,CAZD,MAYO;oBACLL,SAAS,GAAG1jB,MAAM,CAACyf,MAAP,CAAcmE,eAAd,CAA8BR,QAA9B,EAAwCjF,IAAxC,EAA8C9e,QAAQ,CAAC2kB,UAAvD,CAAZ;;oBACA,IAAIN,SAAS,KAAK,IAAlB,EAAwB;sBACtBpE,IAAI,CAAChO,QAAL,CAAcoS,SAAS,CAAChd,QAAQ,CAACud,KAAV,CAAT,IAA6B5kB,QAAQ,CAAC6kB,UAApD;;sBACA,IAAIR,SAAS,CAAChd,QAAQ,CAACvD,OAAV,CAAb,EAAiC;wBAC/Bmc,IAAI,CAACzM,IAAL,CAAU,cAAV,EAA0B6Q,SAAS,CAAChd,QAAQ,CAACvD,OAAV,CAAnC;wBACAmc,IAAI,CAACzM,IAAL,CAAU,eAAV,EAA2B6Q,SAAS,CAAChd,QAAQ,CAACod,QAAV,CAAT,IAAgChD,eAA3D;;wBACA,IAAG4C,SAAS,CAAChd,QAAQ,CAACuW,QAAV,CAAT,IAAiCD,UAAU,IAAI0G,SAAS,CAAChd,QAAQ,CAACuW,QAAV,CAAT,KAAiC7e,SAAnF,EAA+F;0BAC7FkhB,IAAI,CAACzM,IAAL,CAAU,eAAV,EAA2B,EAA3B;wBACD;;wBACD,IAAG6Q,SAAS,CAAChd,QAAQ,CAACqd,SAAV,CAAZ,EAAkC;0BAChCzE,IAAI,CAACzM,IAAL,CAAU,gBAAV,EAA4B6Q,SAAS,CAAChd,QAAQ,CAACqd,SAAV,CAArC;wBACD;sBACF;oBACF;kBACF;;kBACD,IAAItK,MAAM,GAAGzZ,MAAM,CAACyf,MAAP,CAAc0E,SAAd,CAAwBf,QAAxB,EAAkC9S,IAAlC,EAAwC6N,IAAxC,CAAb;kBACA,IAAIiG,OAAO,GAAGpkB,MAAM,CAACyf,MAAP,CAAc0E,SAAd,CAAwBf,QAAxB,EAAkC5D,KAAlC,EAAyCrB,IAAzC,CAAd;kBACAmB,IAAI,CAACoD,WAAL,CAAiB/b,SAAS,CAAC0d,YAA3B,EAAyCd,QAAQ,IAAI,CAACG,SAAtD;kBACApE,IAAI,CAACoD,WAAL,CAAiB/b,SAAS,CAACgc,YAA3B,EAAyC5gB,QAAzC;kBACAud,IAAI,CAACoD,WAAL,CAAiB/b,SAAS,CAAC2d,UAA3B,EAAuC7K,MAAM,IAAI,EAAE8J,QAAQ,IAAIxhB,QAAd,CAAjD;;kBACA,IAAI,CAAC+d,MAAD,IAAW,CAACC,QAAhB,EAA0B;oBACxBT,IAAI,CAACoD,WAAL,CAAiB/b,SAAS,CAAC4d,SAA3B,EAAsC,CAAChB,QAAD,IAAaa,OAAnD;kBACD,CAhDoC,CAkDrC;;;kBACA,IAAII,WAAW,GAAG;oBAChBrG,IAAI,EAAEA,IADU;oBAEhBoF,QAAQ,EAAEA,QAFM;oBAGhBxhB,QAAQ,EAAEA,QAHM;oBAIhB0X,MAAM,EAAEA,MAJQ;oBAKhB+F,KAAK,EAAE4E;kBALS,CAAlB;kBAOA5T,SAAS,CAAC8O,IAAV,CAAeA,IAAf,EAAqB8D,QAArB,EAA+BoB,WAA/B;;kBAEA,IAAIxkB,MAAM,CAACyf,MAAP,CAAc0E,SAAd,CAAwBf,QAAxB,EAAkClF,SAAlC,EAA6CC,IAA7C,CAAJ,EAAwD;oBACtD;oBACA;oBACAne,MAAM,CAACoH,GAAP,CAAW8W,SAAX,CAAqBkF,QAArB,EAA+B,KAA/B,EAAsC,KAAtC;kBACD;gBACF;cACF;;cAED,IAAI/jB,QAAQ,CAACmgB,KAAb,EAAoB;gBAClB,IAAIiF,QAAQ,GAAGxmB,CAAC,CAAC,OAAD,CAAD,CAAWwT,QAAX,CAAoByR,KAApB,CAAf;gBACA,IAAIwB,WAAW,GAAGzmB,CAAC,CAAC,OAAD,CAAD,CAAW4U,IAAX,CAAgB,SAAhB,EAA2B,KAAK4N,OAAhC,EAAyCnP,QAAzC,CAAkD3K,SAAS,CAAC6Y,KAA5D,EAAmE/N,QAAnE,CAA4EgT,QAA5E,CAAlB;gBACAC,WAAW,CAAC/W,IAAZ,CAAiB6C,SAAS,CAACgP,KAAV,CAAgBngB,QAAhB,CAAjB;gBACAqlB,WAAW,CAAC3kB,IAAZ,CAAiB2G,QAAQ,CAAC4J,IAA1B,EAAgCkP,KAAhC;cACD;;cAEDxf,MAAM,CAAC2kB,MAAP,CAAcpR,KAAd,CAAoB,KAApB,EAA2B3P,KAA3B;;cAEA,IAAGvE,QAAQ,CAACmO,MAAZ,EAAmB;gBACjBxN,MAAM,CAAC+d,eAAP;cACD;YACF;UACF;QAxNK,CApJD;QA+WP4G,MAAM,EAAE;UACNpR,KAAK,EAAE,UAAUqR,WAAV,EAAuB/D,SAAvB,EAAkC;YACvCA,SAAS,GAAGA,SAAS,IAAInE,UAAzB;YACA,IAAIyB,IAAI,GAAGne,MAAM,CAACiH,GAAP,CAAWkX,IAAX,EAAX;YACA,IAAI7N,IAAI,GAAGtQ,MAAM,CAACiH,GAAP,CAAWqJ,IAAX,EAAX;YACA,IAAI4N,SAAS,GAAGle,MAAM,CAACiH,GAAP,CAAWiX,SAAX,EAAhB;YACA,IAAI2G,SAAS,GAAG7kB,MAAM,CAACiH,GAAP,CAAW4d,SAAX,EAAhB;YACA,IAAIC,OAAO,GAAG9kB,MAAM,CAACiH,GAAP,CAAW6d,OAAX,EAAd;YACA,IAAIC,SAAS,GAAG,CAACH,WAAW,GAAG1G,SAAH,GAAe,IAA3B,KAAoC5N,IAApC,KAA6C,CAACwM,OAAD,GAAWoB,SAAX,GAAuB,IAApE,CAAhB;YAEA2C,SAAS,CAACpZ,IAAV,CAAe,IAAf,EAAqB7F,IAArB,CAA0B,YAAY;cACpC,IAAI0d,IAAI,GAAGrhB,CAAC,CAAC,IAAD,CAAZ;cACA,IAAImlB,QAAQ,GAAG9D,IAAI,CAACvf,IAAL,CAAU2G,QAAQ,CAAC4J,IAAnB,CAAf;;cACA,IAAI,CAAC8S,QAAL,EAAe;gBACb;cACD;;cACD,IAAIrhB,QAAQ,GAAGud,IAAI,CAAClV,QAAL,CAAczD,SAAS,CAACgc,YAAxB,CAAf;cACA,IAAIlJ,MAAM,GAAG6F,IAAI,CAAClV,QAAL,CAAczD,SAAS,CAAC2d,UAAxB,CAAb;cACA,IAAIf,QAAQ,GAAGjE,IAAI,CAAClV,QAAL,CAAczD,SAAS,CAAC0d,YAAxB,CAAf;cACA,IAAIW,OAAO,GAAGhlB,MAAM,CAACyf,MAAP,CAAc0E,SAAd,CAAwBf,QAAxB,EAAkClF,SAAlC,EAA6CC,IAA7C,CAAd;cACA,IAAI8G,OAAO,GAAG,CAACF,SAAD,GAAa,KAAb,GACV,CAAC,CAACF,SAAF,IAAe7kB,MAAM,CAACyf,MAAP,CAAcmD,aAAd,CAA4BQ,QAA5B,EAAsCjF,IAAtC,EAA4C0G,SAA5C,EAAuDE,SAAvD,CAAhB,IACA,CAAC,CAACD,OAAF,IAAa9kB,MAAM,CAACyf,MAAP,CAAcmD,aAAd,CAA4BQ,QAA5B,EAAsCjF,IAAtC,EAA4C4G,SAA5C,EAAuDD,OAAvD,CAFhB;cAGAxF,IAAI,CAACoD,WAAL,CAAiB/b,SAAS,CAACue,SAA3B,EAAsCF,OAAO,KAAK,CAAClI,OAAD,IAAYC,WAAjB,CAAP,KAAyC,CAACwG,QAAD,IAAclkB,QAAQ,CAACmkB,kBAAT,IAA+BD,QAAtF,KAAoG,CAACxhB,QAA3I;;cAEA,IAAI/B,MAAM,CAACyf,MAAP,CAAc0F,aAAd,CAA4B7F,IAA5B,CAAJ,EAAuC;gBACrC;cACD;;cACDA,IAAI,CAACoD,WAAL,CAAiB/b,SAAS,CAACye,SAA3B,EAAsCH,OAAO,IAAI,CAACxL,MAAZ,IAAsB,CAAC1X,QAA7D;YACD,CAnBD;UAoBD;QA9BK,CA/WD;QAgZPmF,OAAO,EAAE,YAAY;UACnBlH,MAAM,CAACsd,MAAP,CAAc9S,QAAd;QACD,CAlZM;QAoZPuT,eAAe,EAAE,YAAW;UAC1B,IAAIsH,QAAQ,GAAGpnB,CAAC,CAACC,MAAD,CAAD,CAAUonB,KAAV,EAAf;UACA5I,UAAU,CAACjV,IAAX,CAAgB,mBAAhB,EAAqC7F,IAArC,CAA0C,YAAY;YACpD,IAAI0d,IAAI,GAAGrhB,CAAC,CAAC,IAAD,CAAZ;YACA,IAAIsnB,YAAY,GAAGrnB,MAAM,CAACsnB,gBAAP,CAAwBlG,IAAI,CAAC,CAAD,CAA5B,EAAiC,QAAjC,EAA2CgG,KAA3C,CAAiDvX,OAAjD,CAAyD,WAAzD,EAAqE,EAArE,CAAnB;YACA,IAAI+S,eAAe,GAAGxB,IAAI,CAACzM,IAAL,CAAU,eAAV,CAAtB,CAHoD,CAIpD;;YACA,IAAI4S,YAAY,GAAIJ,QAAQ,GAAG/F,IAAI,CAACgG,KAAL,EAAX,IAA2BlN,QAAQ,CAACmN,YAAD,EAAc,EAAd,CAAR,IAA6B,GAAxD,CAAD,GAAiEjG,IAAI,CAACoG,MAAL,GAAcC,IAA/E,GAAsF,OAAtF,GAAgG,MAAnH;;YACA,IAAG7E,eAAe,CAAC/R,OAAhB,CAAwB0W,YAAxB,MAA0C,CAAC,CAA9C,EAAiD;cAC/CnG,IAAI,CAACzM,IAAL,CAAU,eAAV,EAA0BiO,eAAe,CAAC/S,OAAhB,CAAwB,cAAxB,EAAuC0X,YAAvC,CAA1B;YACD;UACD,CATF;QAUD,CAhaM;QAkaPxiB,IAAI,EAAE;UACJyV,MAAM,EAAE,YAAY;YAClB1Y,MAAM,CAACS,KAAP,CAAa,gBAAb;YACAic,UAAU,CAAC1U,EAAX,CAAc,cAAcnB,cAA5B,EAA4C7G,MAAM,CAACiI,KAAP,CAAa2d,SAAzD;YACAlJ,UAAU,CAAC1U,EAAX,CAAc,eAAenB,cAA7B,EAA6C7G,MAAM,CAACiI,KAAP,CAAa2d,SAA1D;YACAlJ,UAAU,CAAC1U,EAAX,CAAc,YAAYnB,cAA1B,EAA0C7G,MAAM,CAACiI,KAAP,CAAa4d,OAAvD;YACAnJ,UAAU,CAAC1U,EAAX,CAAc,aAAanB,cAA3B,EAA2C7G,MAAM,CAACiI,KAAP,CAAa4d,OAAxD;YACAnJ,UAAU,CAAC1U,EAAX,CAAc,cAAcnB,cAA5B,EAA4C7G,MAAM,CAACiI,KAAP,CAAa6d,SAAzD;;YACA,IAAItd,MAAM,CAAClG,MAAX,EAAmB;cACjBkG,MAAM,CAACR,EAAP,CAAU,UAAUnB,cAApB,EAAoC7G,MAAM,CAACiI,KAAP,CAAa8d,WAAjD;cACAvd,MAAM,CAACR,EAAP,CAAU,UAAUnB,cAApB,EAAoC7G,MAAM,CAACiI,KAAP,CAAa+d,UAAjD;cACAxd,MAAM,CAACR,EAAP,CAAU,SAASnB,cAAnB,EAAmC7G,MAAM,CAACiI,KAAP,CAAage,SAAhD;cACAzd,MAAM,CAACR,EAAP,CAAU,YAAYnB,cAAtB,EAAsC7G,MAAM,CAACiI,KAAP,CAAaK,OAAnD;YACD,CALD,MAKO;cACLoU,UAAU,CAAC1U,EAAX,CAAc,YAAYnB,cAA1B,EAA0C7G,MAAM,CAACiI,KAAP,CAAaK,OAAvD;YACD;UACF;QAhBG,CAlaC;QAqbPiV,MAAM,EAAE;UACN7E,MAAM,EAAE,YAAY;YAClB1Y,MAAM,CAACS,KAAP,CAAa,kBAAb;YACAic,UAAU,CAAChQ,GAAX,CAAe7F,cAAf;;YACA,IAAI2B,MAAM,CAAClG,MAAX,EAAmB;cACjBkG,MAAM,CAACkE,GAAP,CAAW7F,cAAX;YACD;UACF;QAPK,CArbD;QA+bPoB,KAAK,EAAE;UACL6d,SAAS,EAAE,UAAU7d,KAAV,EAAiB;YAC1B,IAAIie,MAAM,GAAGjoB,CAAC,CAACgK,KAAK,CAACie,MAAP,CAAd;YACA,IAAI5V,IAAI,GAAG4V,MAAM,CAACnmB,IAAP,CAAY2G,QAAQ,CAAC4J,IAArB,CAAX;YACA,IAAIsV,SAAS,GAAG3d,KAAK,CAACke,OAAN,KAAkB,CAAlC;;YACA,IAAI7V,IAAJ,EAAU;cACRtQ,MAAM,CAACoH,GAAP,CAAW8W,SAAX,CAAqB5N,IAArB,EAA2B,KAA3B,EAAkC,IAAlC,EAAwCsV,SAAxC;YACD;UACF,CARI;UASLA,SAAS,EAAE,UAAU3d,KAAV,EAAiB;YAC1B,IAAIO,MAAM,CAAClG,MAAX,EAAmB;cACjB;cACA2F,KAAK,CAACC,cAAN;YACD;;YACD6U,WAAW,GAAG9U,KAAK,CAACQ,IAAN,CAAWsG,OAAX,CAAmB,OAAnB,KAA+B,CAA7C;YACA,IAAImX,MAAM,GAAGjoB,CAAC,CAACgK,KAAK,CAACie,MAAP,CAAd;YACA,IAAI5V,IAAI,GAAG4V,MAAM,CAACnmB,IAAP,CAAY2G,QAAQ,CAAC4J,IAArB,CAAX;;YACA,IAAIA,IAAJ,EAAU;cACRtQ,MAAM,CAACoH,GAAP,CAAW8W,SAAX,CAAqB5N,IAArB,EAA2B,KAA3B,EAAkC,IAAlC,EAAwC,IAAxC;YACD;UACF,CApBI;UAqBLuV,OAAO,EAAE,UAAU5d,KAAV,EAAiB;YACxB;YACAjI,MAAM,CAACuT,KAAP;YACAtL,KAAK,CAACC,cAAN;YACAD,KAAK,CAACme,eAAN;YACArJ,WAAW,GAAG,KAAd;YACA,IAAImJ,MAAM,GAAGjoB,CAAC,CAACgK,KAAK,CAACie,MAAP,CAAd;;YACA,IAAIA,MAAM,CAAC9b,QAAP,CAAgB,UAAhB,CAAJ,EAAiC;cAC/B;YACD;;YACD,IAAIf,MAAM,GAAG6c,MAAM,CAAC7c,MAAP,EAAb;;YACA,IAAIA,MAAM,CAACtJ,IAAP,CAAY2G,QAAQ,CAAC4J,IAArB,KAA8BjH,MAAM,CAACtJ,IAAP,CAAY2G,QAAQ,CAACwX,SAArB,CAA9B,IAAiE7U,MAAM,CAACtJ,IAAP,CAAY2G,QAAQ,CAACyX,IAArB,CAArE,EAAiG;cAC/F;cACA+H,MAAM,GAAG7c,MAAT;YACD;;YACD,IAAIiH,IAAI,GAAG4V,MAAM,CAACnmB,IAAP,CAAY2G,QAAQ,CAAC4J,IAArB,CAAX;YACA,IAAI4N,SAAS,GAAGgI,MAAM,CAACnmB,IAAP,CAAY2G,QAAQ,CAACwX,SAArB,CAAhB;YACA,IAAIC,IAAI,GAAG+H,MAAM,CAACnmB,IAAP,CAAY2G,QAAQ,CAACyX,IAArB,CAAX;;YACA,IAAI7N,IAAI,IAAIjR,QAAQ,CAACgnB,QAAT,CAAkBjnB,IAAlB,CAAuBS,OAAvB,EAAgCyQ,IAAhC,EAAsCtQ,MAAM,CAACiH,GAAP,CAAWkX,IAAX,EAAtC,MAA6D,KAAzE,EAAgF;cAC9E,IAAImI,QAAQ,GAAGJ,MAAM,CAAC9b,QAAP,CAAgBzD,SAAS,CAAC6Y,KAA1B,CAAf;cACAxf,MAAM,CAACumB,UAAP,CAAkBjW,IAAlB,EAAwBgW,QAAxB;YACD,CAHD,MAIK,IAAIpI,SAAJ,EAAe;cAClBle,MAAM,CAACoH,GAAP,CAAW8W,SAAX,CAAqBA,SAArB;YACD,CAFI,MAGA,IAAIC,IAAJ,EAAU;cACbne,MAAM,CAACoH,GAAP,CAAW+W,IAAX,CAAgBA,IAAhB;YACD;UACF,CAjDI;UAkDL7V,OAAO,EAAE,UAAUL,KAAV,EAAiB;YACxB,IAAI+E,OAAO,GAAG/E,KAAK,CAAC2E,KAApB;;YACA,IAAII,OAAO,KAAK,EAAZ,IAAkBA,OAAO,KAAK,CAAlC,EAAqC;cACnC;cACAhN,MAAM,CAAC2c,KAAP,CAAa,MAAb;YACD;;YAED,IAAI3c,MAAM,CAAC2c,KAAP,CAAa,YAAb,CAAJ,EAAgC;cAC9B,IAAI3P,OAAO,KAAK,EAAZ,IAAkBA,OAAO,KAAK,EAA9B,IAAoCA,OAAO,KAAK,EAAhD,IAAsDA,OAAO,KAAK,EAAtE,EAA0E;gBACxE;gBACA,IAAImR,IAAI,GAAGne,MAAM,CAACiH,GAAP,CAAWkX,IAAX,EAAX;gBACA,IAAIqI,YAAY,GAAGrI,IAAI,KAAK,KAAT,GAAiB,CAAjB,GAAqBA,IAAI,KAAK,MAAT,GAAkB,CAAlB,GAAsBA,IAAI,KAAK,QAAT,GAAoB3B,OAAO,CAAC,QAAD,CAA3B,GAAwC,CAAtG;gBACA,IAAIiK,SAAS,GAAGzZ,OAAO,KAAK,EAAZ,GAAiB,CAAC,CAAlB,GAAsBA,OAAO,KAAK,EAAZ,GAAiB,CAACwZ,YAAlB,GAAiCxZ,OAAO,IAAI,EAAX,GAAgB,CAAhB,GAAoBwZ,YAA3F;gBACAC,SAAS,IAAItI,IAAI,KAAK,QAAT,GAAoB9e,QAAQ,CAACod,UAA7B,GAA0C,CAAvD;gBACA,IAAIyB,SAAS,GAAGle,MAAM,CAACiH,GAAP,CAAWiX,SAAX,MAA0Ble,MAAM,CAACiH,GAAP,CAAWqJ,IAAX,EAA1B,IAA+C,IAAI1R,IAAJ,EAA/D;gBACA,IAAI+R,IAAI,GAAGuN,SAAS,CAACsC,WAAV,MAA2BrC,IAAI,KAAK,MAAT,GAAkBsI,SAAlB,GAA8B,CAAzD,CAAX;gBACA,IAAI/V,KAAK,GAAGwN,SAAS,CAACqC,QAAV,MAAwBpC,IAAI,KAAK,OAAT,GAAmBsI,SAAnB,GAA+B,CAAvD,CAAZ;gBACA,IAAIvQ,GAAG,GAAGgI,SAAS,CAACmC,OAAV,MAAuBlC,IAAI,KAAK,KAAT,GAAiBsI,SAAjB,GAA6B,CAApD,CAAV;gBACA,IAAItQ,IAAI,GAAG+H,SAAS,CAACkC,QAAV,MAAwBjC,IAAI,KAAK,MAAT,GAAkBsI,SAAlB,GAA8B,CAAtD,CAAX;gBACA,IAAIrQ,MAAM,GAAG8H,SAAS,CAACiC,UAAV,MAA0BhC,IAAI,KAAK,QAAT,GAAoBsI,SAApB,GAAgC,CAA1D,CAAb;gBACA,IAAIC,YAAY,GAAG,IAAI9nB,IAAJ,CAAS+R,IAAT,EAAeD,KAAf,EAAsBwF,GAAtB,EAA2BC,IAA3B,EAAiCC,MAAjC,CAAnB;;gBACA,IAAI/W,QAAQ,CAACoJ,IAAT,KAAkB,MAAtB,EAA8B;kBAC5Bie,YAAY,GAAG1mB,MAAM,CAACyf,MAAP,CAAckH,aAAd,CAA4BzI,SAA5B,EAAuCwI,YAAvC,CAAf;gBACD;;gBACD,IAAI1mB,MAAM,CAACyf,MAAP,CAAcmD,aAAd,CAA4B8D,YAA5B,EAA0CvI,IAA1C,CAAJ,EAAqD;kBACnDne,MAAM,CAACoH,GAAP,CAAW8W,SAAX,CAAqBwI,YAArB;gBACD;cACF,CAnBD,MAmBO,IAAI1Z,OAAO,KAAK,EAAhB,EAAoB;gBACzB;gBACA,IAAImR,IAAI,GAAGne,MAAM,CAACiH,GAAP,CAAWkX,IAAX,EAAX;gBACA,IAAI7N,IAAI,GAAGtQ,MAAM,CAACiH,GAAP,CAAWiX,SAAX,EAAX;;gBACA,IAAI5N,IAAI,IAAI,CAACjR,QAAQ,CAACsT,UAAT,CAAoBrC,IAApB,EAA0B6N,IAA1B,CAAT,IAA4C,CAACne,MAAM,CAACyf,MAAP,CAAc9M,UAAd,CAAyBrC,IAAzB,EAA+B6N,IAA/B,CAA7C,IAAqFne,MAAM,CAACyf,MAAP,CAAcgE,SAAd,CAAwBnT,IAAxB,EAA8B6N,IAA9B,CAAzF,EAA8H;kBAC5Hne,MAAM,CAACumB,UAAP,CAAkBjW,IAAlB;gBACD,CANwB,CAOzB;;;gBACArI,KAAK,CAACC,cAAN;gBACAD,KAAK,CAACme,eAAN;cACD;YACF;;YAED,IAAIpZ,OAAO,KAAK,EAAZ,IAAkBA,OAAO,KAAK,EAAlC,EAAsC;cACpC;cACA/E,KAAK,CAACC,cAAN,GAFoC,CAEZ;;cACxBlI,MAAM,CAAC2c,KAAP,CAAa,MAAb;YACD;UACF,CA/FI;UAgGLoJ,WAAW,EAAE,YAAY;YACvB,IAAItb,GAAG,GAAGjC,MAAM,CAACiC,GAAP,EAAV;YACA,IAAI6F,IAAI,GAAGiM,MAAM,CAACjM,IAAP,CAAY7F,GAAZ,EAAiBpL,QAAjB,CAAX;YACAW,MAAM,CAACoH,GAAP,CAAWkJ,IAAX,CAAgBA,IAAhB,EAAsB,KAAtB;UACD,CApGI;UAqGL0V,UAAU,EAAE,YAAY;YACtBtJ,UAAU,CAACpL,QAAX,CAAoB3K,SAAS,CAAC8S,MAA9B;UACD,CAvGI;UAwGLwM,SAAS,EAAE,YAAY;YACrBvJ,UAAU,CAACrS,WAAX,CAAuB1D,SAAS,CAAC8S,MAAjC;;YACA,IAAIpa,QAAQ,CAACyf,WAAb,EAA0B;cACxB,IAAIxO,IAAI,GAAGtQ,MAAM,CAACiH,GAAP,CAAWqJ,IAAX,EAAX;cACA,IAAI3C,IAAI,GAAG6C,SAAS,CAACC,QAAV,CAAmBH,IAAnB,EAAyBjR,QAAzB,CAAX;cACAmJ,MAAM,CAACiC,GAAP,CAAWkD,IAAX;YACD;;YACD,IAAGwP,iBAAH,EAAqB;cACnBnd,MAAM,CAACqS,OAAP,CAAepQ,MAAf;cACAkb,iBAAiB,GAAG,KAApB;YACD;UACF,CAnHI;UAoHL8G,KAAK,EAAE;YACL2C,QAAQ,EAAE,UAAS/N,SAAT,EAAoB;cAC5BA,SAAS,CAACgO,OAAV,CAAkB,UAASD,QAAT,EAAmB;gBACnC,IAAGA,QAAQ,CAACE,aAAT,KAA2B,OAA9B,EAAuC;kBACrC9mB,MAAM,CAAC4e,KAAP,CAAa7c,QAAb;gBACD;cACF,CAJD;YAKD;UAPI;QApHF,CA/bA;QA8jBP4W,cAAc,EAAE,YAAW;UACzB,IAAG,sBAAsBza,MAAzB,EAAiC;YAC/Bkf,aAAa,GAAI,IAAIxE,gBAAJ,CAAqB5Y,MAAM,CAACiI,KAAP,CAAagc,KAAb,CAAmB2C,QAAxC,CAAjB;YACA5mB,MAAM,CAACS,KAAP,CAAa,8BAAb,EAA6C2c,aAA7C;YACApd,MAAM,CAAC8Y,OAAP,CAAemL,KAAf;UACD;QACF,CApkBM;QAskBPzG,UAAU,EAAE;UACVJ,aAAa,EAAE,YAAW;YACxB,IAAG5U,MAAM,CAAClG,MAAP,IAAiB8a,aAApB,EAAmC;cACjCA,aAAa,CAACI,UAAd;YACD;UACF;QALS,CAtkBL;QA8kBP1E,OAAO,EAAE;UACPmL,KAAK,EAAE,YAAW;YAChB,IAAGzb,MAAM,CAAClG,MAAP,IAAiB8a,aAApB,EAAmC;cACjCA,aAAa,CAACtE,OAAd,CAAsBlZ,OAAO,CAAC,CAAD,CAA7B,EAAkC;gBAChCmnB,UAAU,EAAG;cADmB,CAAlC;YAGD;UACF;QAPM,CA9kBF;QAwlBPnd,EAAE,EAAE;UACF7H,QAAQ,EAAE,YAAW;YACnB,OAAOnC,OAAO,CAACwK,QAAR,CAAiBzD,SAAS,CAAC5E,QAA3B,CAAP;UACD;QAHC,CAxlBG;QA8lBP6c,KAAK,EAAE;UACL7c,QAAQ,EAAE,YAAU;YAClByG,MAAM,CAACqK,IAAP,CAAY,UAAZ,EAAuB7S,MAAM,CAAC4J,EAAP,CAAU7H,QAAV,KAAuB,CAAC,CAAxB,GAA4B,CAAnD;UACD;QAHI,CA9lBA;QAomBPkF,GAAG,EAAE;UACHkc,UAAU,EAAE,UAAS6D,QAAT,EAAkBC,SAAlB,EAA4BC,OAA5B,EAAqC;YAC7C;YACA,IAAIC,IAAI,GAAG,KAAX;YAAA,IAAkB;YACdC,IAAI,GAAG,IAAID,IADf,CAF6C,CAGxB;;YAErB,OAAO,YAAW;cAAE;cAChB,IAAIE,GAAG,GAAGzoB,IAAI,CAAC0oB,GAAL,CAASN,QAAT,EAAmBC,SAAnB,EAA8BC,OAAO,GAAG,CAAxC,IAA6CC,IAAvD;cAAA,IAA6D;cACzDI,GAAG,GAAG9hB,IAAI,CAAC+hB,KAAL,CAAWH,GAAG,GAAG,CAAjB,CADV;cAAA,IAC+B;cAC3BI,GAAG,GAAG,IAAI7oB,IAAJ,CAAS2oB,GAAG,GAAGH,IAAf,EAAqBM,cAArB,EAFV;cAIA,OAAOH,GAAG,GAAG9hB,IAAI,CAAC+hB,KAAL,CAAW5oB,IAAI,CAAC0oB,GAAL,CAASG,GAAT,EAAc,CAAd,EAAiB,CAAjB,IAAsBL,IAAjC,CAAN,GAA+C,CAAtD;YACH,CANM,EAAP;UAOH,CAbE;UAcH9W,IAAI,EAAE,YAAY;YAChB,OAAOtQ,MAAM,CAACyf,MAAP,CAAckI,YAAd,CAA2B/nB,OAAO,CAACG,IAAR,CAAa2G,QAAQ,CAAC4J,IAAtB,CAA3B,KAA2D,IAAlE;UACD,CAhBE;UAiBHsX,SAAS,EAAE,YAAW;YACpB,OAAOpf,MAAM,CAACiC,GAAP,EAAP;UACD,CAnBE;UAoBHyT,SAAS,EAAE,YAAY;YACrB,OAAOte,OAAO,CAACG,IAAR,CAAa2G,QAAQ,CAACwX,SAAtB,KAAoC,IAA3C;UACD,CAtBE;UAuBH2G,SAAS,EAAE,YAAY;YACrB,IAAIgD,WAAW,GAAG7nB,MAAM,CAACiH,GAAP,CAAW6gB,cAAX,CAA0BzoB,QAAQ,CAAC0oB,aAAnC,CAAlB;YACA,OAAO,CAACF,WAAW,GAAGA,WAAW,CAAC5gB,GAAZ,CAAgBqJ,IAAhB,EAAH,GAA4B1Q,OAAO,CAACG,IAAR,CAAa2G,QAAQ,CAACme,SAAtB,CAAxC,KAA6E,IAApF;UACD,CA1BE;UA2BHC,OAAO,EAAE,YAAY;YACnB,IAAIkD,SAAS,GAAGhoB,MAAM,CAACiH,GAAP,CAAW6gB,cAAX,CAA0BzoB,QAAQ,CAAC4oB,WAAnC,CAAhB;YACA,OAAO,CAACD,SAAS,GAAGA,SAAS,CAAC/gB,GAAV,CAAcqJ,IAAd,EAAH,GAA0B1Q,OAAO,CAACG,IAAR,CAAa2G,QAAQ,CAACoe,OAAtB,CAApC,KAAuE,IAA9E;UACD,CA9BE;UA+BHrH,OAAO,EAAE,YAAW;YAClB,OAAO7d,OAAO,CAACG,IAAR,CAAa2G,QAAQ,CAAC+W,OAAtB,KAAkC,IAAzC;UACD,CAjCE;UAkCHC,OAAO,EAAE,YAAW;YAClB,OAAO9d,OAAO,CAACG,IAAR,CAAa2G,QAAQ,CAACgX,OAAtB,KAAkC,IAAzC;UACD,CApCE;UAqCHwC,WAAW,EAAE,YAAY;YACvB,OAAOtgB,OAAO,CAACG,IAAR,CAAa2G,QAAQ,CAACwZ,WAAtB,KAAsC,CAA7C;UACD,CAvCE;UAwCH/B,IAAI,EAAE,YAAY;YAChB;YACA,IAAIA,IAAI,GAAGve,OAAO,CAACG,IAAR,CAAa2G,QAAQ,CAACyX,IAAtB,KAA+B9e,QAAQ,CAACgf,SAAnD;YACA,OAAOre,MAAM,CAACiH,GAAP,CAAWmX,aAAX,CAAyBD,IAAzB,CAAP;UACD,CA5CE;UA6CHC,aAAa,EAAE,UAASD,IAAT,EAAc;YAC3B,IAAI+J,UAAU,GAAGloB,MAAM,CAACiH,GAAP,CAAWihB,UAAX,EAAjB;;YACA,IAAIjqB,CAAC,CAAC+Z,OAAF,CAAUmG,IAAV,EAAgB+J,UAAhB,KAA+B,CAAnC,EAAsC;cACpC,OAAO/J,IAAP;YACD;;YACD,OAAO9e,QAAQ,CAACoJ,IAAT,KAAkB,MAAlB,GAA2B,MAA3B,GACLpJ,QAAQ,CAACoJ,IAAT,KAAkB,OAAlB,GAA4B,OAA5B,GACEpJ,QAAQ,CAACoJ,IAAT,KAAkB,MAAlB,GAA2B,MAA3B,GAAoC,KAFxC;UAGD,CArDE;UAsDHA,IAAI,EAAE,YAAW;YACf,OAAO7I,OAAO,CAACG,IAAR,CAAa2G,QAAQ,CAAC+B,IAAtB,KAA+BpJ,QAAQ,CAACoJ,IAA/C;UACD,CAxDE;UAyDHyf,UAAU,EAAE,YAAY;YACtB,IAAIA,UAAU,GAAG,EAAjB;;YACA,IAAI7oB,QAAQ,CAACoJ,IAAT,KAAkB,MAAtB,EAA8B;cAC5B,IAAI,CAACpJ,QAAQ,CAACmjB,WAAV,IAAyBnjB,QAAQ,CAACoJ,IAAT,KAAkB,MAA/C,EAAuD;gBACrDyf,UAAU,CAACpmB,IAAX,CAAgB,MAAhB;cACD;;cACD,IAAI,EAAEzC,QAAQ,CAACojB,YAAT,IAAyBpjB,QAAQ,CAACoJ,IAAT,KAAkB,MAA7C,KAAwDpJ,QAAQ,CAACoJ,IAAT,KAAkB,OAA9E,EAAuF;gBACrFyf,UAAU,CAACpmB,IAAX,CAAgB,OAAhB;cACD;;cACD,IAAIzC,QAAQ,CAACoJ,IAAT,CAAcsG,OAAd,CAAsB,MAAtB,KAAiC,CAArC,EAAwC;gBACtCmZ,UAAU,CAACpmB,IAAX,CAAgB,KAAhB;cACD;YACF;;YACD,IAAIzC,QAAQ,CAACoJ,IAAT,CAAcsG,OAAd,CAAsB,MAAtB,KAAiC,CAArC,EAAwC;cACtCmZ,UAAU,CAACpmB,IAAX,CAAgB,MAAhB;;cACA,IAAI,CAACzC,QAAQ,CAAC8oB,aAAd,EAA6B;gBAC3BD,UAAU,CAACpmB,IAAX,CAAgB,QAAhB;cACD;YACF;;YACD,OAAOomB,UAAP;UACD,CA7EE;UA8EHpL,OAAO,EAAE,YAAY;YACnB,IAAI;cACF3e,QAAQ,CAAC6gB,WAAT,CAAqB,YAArB;cACA,OAAO,IAAP;YACD,CAHD,CAIA,OAAOjW,CAAP,EAAU;cACR,OAAO,KAAP;YACD;UACF,CAtFE;UAuFH+e,cAAc,EAAE,UAAUhiB,QAAV,EAAoB;YAClC,IAAI,CAACA,QAAL,EAAe;cACb,OAAO,IAAP;YACD;;YACD,IAAI,EAAEA,QAAQ,YAAY7H,CAAtB,CAAJ,EAA8B;cAC5B6H,QAAQ,GAAG7H,CAAC,CAAC6H,QAAD,CAAD,CAAYwN,KAAZ,EAAX;YACD,CANiC,CAOlC;;;YACA,OAAOxN,QAAQ,CAAC/F,IAAT,CAAcL,eAAd,CAAP;UACD;QAhGE,CApmBE;QAusBP0H,GAAG,EAAE;UACHkJ,IAAI,EAAE,UAAUA,IAAV,EAAgB8X,WAAhB,EAA6BC,UAA7B,EAAyC;YAC7CD,WAAW,GAAGA,WAAW,KAAK,KAA9B;YACAC,UAAU,GAAGA,UAAU,KAAK,KAA5B;YACA/X,IAAI,GAAGtQ,MAAM,CAACyf,MAAP,CAAckI,YAAd,CAA2BrX,IAA3B,CAAP;YACAA,IAAI,GAAGtQ,MAAM,CAACyf,MAAP,CAAcC,WAAd,CAA0BpP,IAA1B,CAAP;YAEA,IAAI6N,IAAI,GAAGne,MAAM,CAACiH,GAAP,CAAWkX,IAAX,EAAX;YACA,IAAIxQ,IAAI,GAAG6C,SAAS,CAACC,QAAV,CAAmBH,IAAnB,EAAyBjR,QAAzB,CAAX;;YAEA,IAAIgpB,UAAU,IAAIhpB,QAAQ,CAACipB,cAAT,CAAwBlpB,IAAxB,CAA6BS,OAA7B,EAAsCyQ,IAAtC,EAA4C3C,IAA5C,EAAkDwQ,IAAlD,MAA4D,KAA9E,EAAqF;cACnF,OAAO,KAAP;YACD;;YAEDne,MAAM,CAACoH,GAAP,CAAW8W,SAAX,CAAqB5N,IAArB;;YAEA,IAAIjR,QAAQ,CAACsT,UAAT,CAAoBrC,IAApB,EAA0B6N,IAA1B,CAAJ,EAAqC;cACnC,OAAO,KAAP;YACD;;YAED,IAAI2G,OAAO,GAAG9kB,MAAM,CAACiH,GAAP,CAAW6d,OAAX,EAAd;;YACA,IAAI,CAAC,CAACA,OAAF,IAAa,CAAC,CAACxU,IAAf,IAAuBA,IAAI,GAAGwU,OAAlC,EAA2C;cACzC;cACA9kB,MAAM,CAACoH,GAAP,CAAW0d,OAAX,CAAmB1mB,SAAnB;YACD;;YACD4B,MAAM,CAACoH,GAAP,CAAWmhB,YAAX,CAAwB7hB,QAAQ,CAAC4J,IAAjC,EAAuCA,IAAvC;;YAEA,IAAI8X,WAAW,IAAI5f,MAAM,CAAClG,MAA1B,EAAkC;cAChCkG,MAAM,CAACiC,GAAP,CAAWkD,IAAX;YACD;;YAED,IAAI0a,UAAJ,EAAgB;cACdhpB,QAAQ,CAAC2b,QAAT,CAAkB5b,IAAlB,CAAuBS,OAAvB,EAAgCyQ,IAAhC,EAAsC3C,IAAtC,EAA4CwQ,IAA5C;YACD;UACF,CAlCE;UAmCH0G,SAAS,EAAE,UAAUvU,IAAV,EAAgBkY,eAAhB,EAAiC;YAC1ClY,IAAI,GAAGtQ,MAAM,CAACyf,MAAP,CAAckI,YAAd,CAA2BrX,IAA3B,CAAP;YACA,IAAIuX,WAAW,GAAG7nB,MAAM,CAACiH,GAAP,CAAW6gB,cAAX,CAA0BzoB,QAAQ,CAAC0oB,aAAnC,CAAlB;;YACA,IAAIF,WAAJ,EAAiB;cACfA,WAAW,CAACzgB,GAAZ,CAAgBkJ,IAAhB,CAAqBA,IAArB;YACD;;YACDtQ,MAAM,CAACoH,GAAP,CAAWmhB,YAAX,CAAwB7hB,QAAQ,CAACme,SAAjC,EAA4CvU,IAA5C,EAAkDkY,eAAlD;UACD,CA1CE;UA2CH1D,OAAO,EAAE,UAAUxU,IAAV,EAAgBkY,eAAhB,EAAiC;YACxClY,IAAI,GAAGtQ,MAAM,CAACyf,MAAP,CAAckI,YAAd,CAA2BrX,IAA3B,CAAP;YACA,IAAI0X,SAAS,GAAGhoB,MAAM,CAACiH,GAAP,CAAW6gB,cAAX,CAA0BzoB,QAAQ,CAAC4oB,WAAnC,CAAhB;;YACA,IAAID,SAAJ,EAAe;cACbA,SAAS,CAAC5gB,GAAV,CAAckJ,IAAd,CAAmBA,IAAnB;YACD;;YACDtQ,MAAM,CAACoH,GAAP,CAAWmhB,YAAX,CAAwB7hB,QAAQ,CAACoe,OAAjC,EAA0CxU,IAA1C,EAAgDkY,eAAhD;UACD,CAlDE;UAmDHtK,SAAS,EAAE,UAAU5N,IAAV,EAAgBkY,eAAhB,EAAiCC,WAAjC,EAA8C7D,WAA9C,EAA2D;YACpEtU,IAAI,GAAGtQ,MAAM,CAACyf,MAAP,CAAckI,YAAd,CAA2BrX,IAA3B,CAAP;YACAA,IAAI,GAAGtQ,MAAM,CAACyf,MAAP,CAAcC,WAAd,CAA0BpP,IAA1B,CAAP;YACA,IAAIuP,KAAK,GAAG7f,MAAM,CAACiH,GAAP,CAAWkX,IAAX,OAAsB,KAAlC;YACA,IAAIuK,YAAY,GAAG1oB,MAAM,CAACiH,GAAP,CAAWiX,SAAX,EAAnB;;YACA,IAAI2B,KAAK,IAAIvP,IAAT,IAAiBoY,YAArB,EAAmC;cACjC,IAAIC,SAAS,GAAGrY,IAAI,CAACkQ,WAAL,KAAqBkI,YAAY,CAAClI,WAAb,EAArC;cACA,IAAIoI,UAAU,GAAGD,SAAS,GAAG,EAAZ,GAAiBrY,IAAI,CAACiQ,QAAL,EAAjB,GAAmCmI,YAAY,CAACnI,QAAb,EAApD;;cACA,IAAIqI,UAAJ,EAAgB;gBACd,IAAI1I,WAAW,GAAGlgB,MAAM,CAACiH,GAAP,CAAWiZ,WAAX,KAA2B0I,UAA7C;gBACA5oB,MAAM,CAACoH,GAAP,CAAW8Y,WAAX,CAAuBA,WAAvB,EAAoC,KAApC;cACD;YACF;;YACD,IAAI2I,OAAO,GAAG7oB,MAAM,CAACoH,GAAP,CAAWmhB,YAAX,CAAwB7hB,QAAQ,CAACwX,SAAjC,EAA4C5N,IAA5C,EAAkD,CAAC,CAACA,IAAF,IAAUkY,eAA5D,CAAd;YACAC,WAAW,GAAIA,WAAW,KAAK,KAAhB,IAAyBI,OAAzB,IAAoCL,eAAe,KAAK,KAAzD,IAAmEtL,qBAAqB,IAAI0H,WAA1G;YACA1H,qBAAqB,GAAG0H,WAAxB;;YACA,IAAI6D,WAAJ,EAAiB;cACfzoB,MAAM,CAAC2kB,MAAP,CAAcpR,KAAd,CAAoBqR,WAApB;YACD;UACF,CAtEE;UAuEHnH,OAAO,EAAE,UAAUnN,IAAV,EAAgB;YACvBA,IAAI,GAAGtQ,MAAM,CAACyf,MAAP,CAAckI,YAAd,CAA2BrX,IAA3B,CAAP;;YACA,IAAIjR,QAAQ,CAACqe,OAAT,KAAqB,IAArB,IAA6Bre,QAAQ,CAACqe,OAAT,IAAoBpN,IAArD,EAA2D;cACzDtQ,MAAM,CAACI,OAAP,CAAe,6DAAf,EAA8EkQ,IAA9E,EAAoFjR,QAAQ,CAACqe,OAA7F;YACD,CAFD,MAEO;cACL1d,MAAM,CAACkC,OAAP,CAAe,SAAf,EAA0BoO,IAA1B;cACAtQ,MAAM,CAACoH,GAAP,CAAWmhB,YAAX,CAAwB7hB,QAAQ,CAAC+W,OAAjC,EAA0CnN,IAA1C;YACD;UACF,CA/EE;UAgFHoN,OAAO,EAAE,UAAUpN,IAAV,EAAgB;YACvBA,IAAI,GAAGtQ,MAAM,CAACyf,MAAP,CAAckI,YAAd,CAA2BrX,IAA3B,CAAP;;YACA,IAAIjR,QAAQ,CAACoe,OAAT,KAAqB,IAArB,IAA6Bpe,QAAQ,CAACoe,OAAT,IAAoBnN,IAArD,EAA2D;cACzDtQ,MAAM,CAACI,OAAP,CAAe,4DAAf,EAA6EkQ,IAA7E,EAAmFjR,QAAQ,CAACoe,OAA5F;YACD,CAFD,MAEO;cACLzd,MAAM,CAACkC,OAAP,CAAe,SAAf,EAA0BoO,IAA1B;cACAtQ,MAAM,CAACoH,GAAP,CAAWmhB,YAAX,CAAwB7hB,QAAQ,CAACgX,OAAjC,EAA0CpN,IAA1C;YACD;UACF,CAxFE;UAyFH4P,WAAW,EAAE,UAAUA,WAAV,EAAuBsI,eAAvB,EAAwC;YACnD,IAAIvI,UAAU,GAAGxa,IAAI,CAAC+Q,GAAL,CAASnX,QAAQ,CAAC4gB,UAAlB,EAA8B,CAA9B,CAAjB;YACAC,WAAW,GAAGza,IAAI,CAAC+Q,GAAL,CAAS,IAAIyJ,UAAb,EAAyBxa,IAAI,CAAC8Q,GAAL,CAAS,CAAT,EAAY2J,WAAZ,CAAzB,CAAd;YACAlgB,MAAM,CAACoH,GAAP,CAAWmhB,YAAX,CAAwB7hB,QAAQ,CAACwZ,WAAjC,EAA8CA,WAA9C,EAA2DsI,eAA3D;UACD,CA7FE;UA8FHrK,IAAI,EAAE,UAAUA,IAAV,EAAgBqK,eAAhB,EAAiC;YACrCxoB,MAAM,CAACoH,GAAP,CAAWmhB,YAAX,CAAwB7hB,QAAQ,CAACyX,IAAjC,EAAuCA,IAAvC,EAA6CqK,eAA7C;UACD,CAhGE;UAiGHD,YAAY,EAAE,UAAU5b,GAAV,EAAexK,KAAf,EAAsBqmB,eAAtB,EAAuC;YACnD,IAAIM,QAAQ,GAAGlpB,OAAO,CAACG,IAAR,CAAa4M,GAAb,CAAf;YACA,IAAIoc,KAAK,GAAGD,QAAQ,KAAK3mB,KAAb,IAAuB2mB,QAAQ,IAAI3mB,KAAZ,IAAqB2mB,QAAQ,IAAI3mB,KAApE,CAFmD,CAEyB;;YAC5E,IAAIA,KAAJ,EAAW;cACTvC,OAAO,CAACG,IAAR,CAAa4M,GAAb,EAAkBxK,KAAlB;YACD,CAFD,MAEO;cACLvC,OAAO,CAACiD,UAAR,CAAmB8J,GAAnB;YACD;;YACD6b,eAAe,GAAGA,eAAe,KAAK,KAApB,IAA6B,CAACO,KAAhD;;YACA,IAAIP,eAAJ,EAAqB;cACnBxoB,MAAM,CAACkH,OAAP;YACD;;YACD,OAAO,CAAC6hB,KAAR;UACD;QA9GE,CAvsBE;QAwzBPxC,UAAU,EAAE,UAAUjW,IAAV,EAAgBgW,QAAhB,EAA0B;UACpCtmB,MAAM,CAACI,OAAP,CAAe,oBAAf,EAAqCkQ,IAArC;UACA,IAAI6N,IAAI,GAAGne,MAAM,CAACiH,GAAP,CAAWkX,IAAX,EAAX;UACA,IAAI6K,QAAQ,GAAG1C,QAAQ,IAAInI,IAAI,KAAK,QAArB,IACZ9e,QAAQ,CAAC8oB,aAAT,IAA0BhK,IAAI,KAAK,MADvB,IAEZ9e,QAAQ,CAACoJ,IAAT,KAAkB,MAAlB,IAA4B0V,IAAI,KAAK,KAFzB,IAGZ9e,QAAQ,CAACoJ,IAAT,KAAkB,OAAlB,IAA6B0V,IAAI,KAAK,OAH1B,IAIZ9e,QAAQ,CAACoJ,IAAT,KAAkB,MAAlB,IAA4B0V,IAAI,KAAK,MAJxC;;UAKA,IAAI6K,QAAJ,EAAc;YACZ,IAAIC,QAAQ,GAAGjpB,MAAM,CAACoH,GAAP,CAAWkJ,IAAX,CAAgBA,IAAhB,MAA0B,KAAzC;;YACA,IAAI,CAAC2Y,QAAL,EAAe;cACb9L,iBAAiB,GAAG,IAApB;;cACA,IAAG9d,QAAQ,CAACof,QAAZ,EAAsB;gBACpBze,MAAM,CAAC2c,KAAP,CAAa,MAAb,EADoB,CAEpB;;gBACA,IAAIqL,SAAS,GAAGhoB,MAAM,CAACiH,GAAP,CAAW6gB,cAAX,CAA0BzoB,QAAQ,CAAC4oB,WAAnC,CAAhB;;gBACA,IAAID,SAAJ,EAAe;kBACb,IAAIA,SAAS,CAAC9lB,OAAV,CAAkB,IAAlB,MAA4B,OAAhC,EAAyC;oBACvC8lB,SAAS,CAACrL,KAAV,CAAgB,MAAhB;kBACD;;kBACDqL,SAAS,CAACzU,KAAV;gBACD;cACF;YACF;UACF,CAhBD,MAgBO;YACL,IAAIgP,OAAO,GAAGpE,IAAI,KAAK,MAAT,GAAmB,CAAC9e,QAAQ,CAACojB,YAAV,GAAyB,OAAzB,GAAmC,KAAtD,GACZtE,IAAI,KAAK,OAAT,GAAmB,KAAnB,GAA2BA,IAAI,KAAK,KAAT,GAAiB,MAAjB,GAA0B,QADvD;YAEAne,MAAM,CAACoH,GAAP,CAAW+W,IAAX,CAAgBoE,OAAhB;;YACA,IAAIpE,IAAI,KAAK,MAAT,IAAoBA,IAAI,KAAK,KAAT,IAAkBne,MAAM,CAACiH,GAAP,CAAWqJ,IAAX,EAA1C,EAA8D;cAC5D;cACAtQ,MAAM,CAACoH,GAAP,CAAWkJ,IAAX,CAAgBA,IAAhB,EAAsB,IAAtB,EAA4B,KAA5B;YACD,CAHD,MAGO;cACLtQ,MAAM,CAACoH,GAAP,CAAW8W,SAAX,CAAqB5N,IAArB;YACD;UACF;QACF,CA31BM;QA61BP4Y,UAAU,EAAE,UAAU5Y,IAAV,EAAgB;UAC1BtQ,MAAM,CAACoH,GAAP,CAAWkJ,IAAX,CAAgBA,IAAhB;QACD,CA/1BM;QAi2BPrP,KAAK,EAAE,YAAY;UACjBjB,MAAM,CAACoH,GAAP,CAAWkJ,IAAX,CAAgBlS,SAAhB;QACD,CAn2BM;QAq2BPue,KAAK,EAAE,YAAY;UACjB,OAAOC,UAAU,CAACD,KAAX,CAAiBzZ,KAAjB,CAAuB0Z,UAAvB,EAAmC5d,SAAnC,CAAP;QACD,CAv2BM;QAy2BPuU,KAAK,EAAE,YAAY;UACjB,IAAI/K,MAAM,CAAClG,MAAX,EAAmB;YACjBkG,MAAM,CAAC+K,KAAP;UACD,CAFD,MAEO;YACLmJ,UAAU,CAACnJ,KAAX;UACD;QACF,CA/2BM;QAg3BPnL,IAAI,EAAE,YAAY;UAChB,IAAII,MAAM,CAAClG,MAAX,EAAmB;YACjBkG,MAAM,CAACJ,IAAP;UACD,CAFD,MAEO;YACLsU,UAAU,CAACtU,IAAX;UACD;QACF,CAt3BM;QAw3BPqX,MAAM,EAAE;UACN9M,UAAU,EAAE,UAASrC,IAAT,EAAe6N,IAAf,EAAqB;YAC/B,OAAO,CAACA,IAAI,KAAK,KAAT,IAAkBA,IAAI,KAAK,OAA3B,IAAsCA,IAAI,KAAK,MAAhD,MAA6DA,IAAI,KAAK,KAAT,IAAkB9e,QAAQ,CAAC8pB,kBAAT,CAA4Bpa,OAA5B,CAAoCuB,IAAI,CAAC6Q,MAAL,EAApC,MAAuD,CAAC,CAA3E,IAAiF9hB,QAAQ,CAACwkB,aAAT,CAAuBuF,IAAvB,CAA4B,UAAShN,CAAT,EAAW;cACzL,IAAG,OAAOA,CAAP,KAAa,QAAhB,EAA0B;gBACxBA,CAAC,GAAGpc,MAAM,CAACyf,MAAP,CAAckI,YAAd,CAA2BvL,CAA3B,CAAJ;cACD;;cACD,IAAIA,CAAC,YAAYxd,IAAjB,EAAuB;gBACrB,OAAOoB,MAAM,CAACyf,MAAP,CAAc0E,SAAd,CAAwB7T,IAAxB,EAA8B8L,CAA9B,EAAiC+B,IAAjC,CAAP;cACD;;cACD,IAAI/B,CAAC,KAAK,IAAN,IAAc,OAAOA,CAAP,KAAa,QAA/B,EAAyC;gBACvC,IAAIA,CAAC,CAAC1V,QAAQ,CAACiK,IAAV,CAAL,EAAsB;kBACpB,IAAI,OAAOyL,CAAC,CAAC1V,QAAQ,CAACiK,IAAV,CAAR,KAA4B,QAAhC,EAA0C;oBACxC,OAAOL,IAAI,CAACkQ,WAAL,MAAsBpE,CAAC,CAAC1V,QAAQ,CAACiK,IAAV,CAA9B;kBACD,CAFD,MAEO,IAAIjM,KAAK,CAACC,OAAN,CAAcyX,CAAC,CAAC1V,QAAQ,CAACiK,IAAV,CAAf,CAAJ,EAAqC;oBAC1C,OAAOyL,CAAC,CAAC1V,QAAQ,CAACiK,IAAV,CAAD,CAAiB5B,OAAjB,CAAyBuB,IAAI,CAACkQ,WAAL,EAAzB,IAA+C,CAAC,CAAvD;kBACD;gBACF,CAND,MAMO,IAAIpE,CAAC,CAAC1V,QAAQ,CAACgK,KAAV,CAAL,EAAuB;kBAC5B,IAAI,OAAO0L,CAAC,CAAC1V,QAAQ,CAACgK,KAAV,CAAR,KAA6B,QAAjC,EAA2C;oBACzC,OAAOJ,IAAI,CAACiQ,QAAL,MAAmBnE,CAAC,CAAC1V,QAAQ,CAACgK,KAAV,CAA3B;kBACD,CAFD,MAEO,IAAIhM,KAAK,CAACC,OAAN,CAAcyX,CAAC,CAAC1V,QAAQ,CAACgK,KAAV,CAAf,CAAJ,EAAsC;oBAC3C,OAAO0L,CAAC,CAAC1V,QAAQ,CAACgK,KAAV,CAAD,CAAkB3B,OAAlB,CAA0BuB,IAAI,CAACiQ,QAAL,EAA1B,IAA6C,CAAC,CAArD;kBACD,CAFM,MAEA,IAAInE,CAAC,CAAC1V,QAAQ,CAACgK,KAAV,CAAD,YAA6B9R,IAAjC,EAAuC;oBAC5C,IAAIyqB,KAAK,GAAGrpB,MAAM,CAACyf,MAAP,CAAckI,YAAd,CAA2BvL,CAAC,CAAC1V,QAAQ,CAACgK,KAAV,CAA5B,CAAZ;oBACA,OAAQJ,IAAI,CAACiQ,QAAL,MAAmB8I,KAAK,CAAC9I,QAAN,EAApB,IAA0CjQ,IAAI,CAACkQ,WAAL,MAAsB6I,KAAK,CAAC7I,WAAN,EAAvE;kBACD;gBACF,CATM,MASA,IAAIpE,CAAC,CAAC1V,QAAQ,CAAC4J,IAAV,CAAD,IAAoB6N,IAAI,KAAK,KAAjC,EAAwC;kBAC7C,IAAI/B,CAAC,CAAC1V,QAAQ,CAAC4J,IAAV,CAAD,YAA4B1R,IAAhC,EAAsC;oBACpC,OAAOoB,MAAM,CAACyf,MAAP,CAAc0E,SAAd,CAAwB7T,IAAxB,EAA8BtQ,MAAM,CAACyf,MAAP,CAAckI,YAAd,CAA2BvL,CAAC,CAAC1V,QAAQ,CAAC4J,IAAV,CAA5B,CAA9B,EAA4E6N,IAA5E,CAAP;kBACD,CAFD,MAEO,IAAIzZ,KAAK,CAACC,OAAN,CAAcyX,CAAC,CAAC1V,QAAQ,CAAC4J,IAAV,CAAf,CAAJ,EAAqC;oBAC1C,OAAO8L,CAAC,CAAC1V,QAAQ,CAAC4J,IAAV,CAAD,CAAiB8Y,IAAjB,CAAsB,UAASE,KAAT,EAAgB;sBAC3C,OAAOtpB,MAAM,CAACyf,MAAP,CAAc0E,SAAd,CAAwB7T,IAAxB,EAA8BgZ,KAA9B,EAAqCnL,IAArC,CAAP;oBACD,CAFM,CAAP;kBAGD;gBACF;cACF;YACF,CAjCmJ,CAA7I,CAAP;UAkCD,CApCK;UAqCNsF,SAAS,EAAE,UAASnT,IAAT,EAAe6N,IAAf,EAAqB;YAC9B,IAAIA,IAAI,KAAK,KAAb,EAAoB;cAClB,OAAO9e,QAAQ,CAACkqB,YAAT,CAAsBjnB,MAAtB,KAAiC,CAAjC,IAAsCjD,QAAQ,CAACkqB,YAAT,CAAsBH,IAAtB,CAA2B,UAAShN,CAAT,EAAW;gBACjF,IAAG,OAAOA,CAAP,KAAa,QAAhB,EAA0B;kBACxBA,CAAC,GAAGpc,MAAM,CAACyf,MAAP,CAAckI,YAAd,CAA2BvL,CAA3B,CAAJ;gBACD;;gBACD,IAAIA,CAAC,YAAYxd,IAAjB,EAAuB;kBACrB,OAAOoB,MAAM,CAACyf,MAAP,CAAc0E,SAAd,CAAwB7T,IAAxB,EAA8B8L,CAA9B,EAAiC+B,IAAjC,CAAP;gBACD;;gBACD,IAAI/B,CAAC,KAAK,IAAN,IAAc,OAAOA,CAAP,KAAa,QAA3B,IAAuCA,CAAC,CAAC1V,QAAQ,CAAC4J,IAAV,CAA5C,EAA6D;kBAC3D,OAAOtQ,MAAM,CAACyf,MAAP,CAAc0E,SAAd,CAAwB7T,IAAxB,EAA8BtQ,MAAM,CAACyf,MAAP,CAAckI,YAAd,CAA2BvL,CAAC,CAAC1V,QAAQ,CAAC4J,IAAV,CAA5B,CAA9B,EAA4E6N,IAA5E,CAAP;gBACD;cACF,CAV4C,CAA7C;YAWD,CAZD,MAYO;cACL,OAAO,IAAP;YACD;UACF,CArDK;UAsDNyF,eAAe,EAAE,UAAStT,IAAT,EAAe6N,IAAf,EAAqBqL,KAArB,EAA4B;YAC3C,IAAIrL,IAAI,KAAK,KAAT,IAAkBA,IAAI,KAAK,OAA3B,IAAsCA,IAAI,KAAK,MAAnD,EAA2D;cACzD,IAAI/B,CAAJ;;cACA,KAAK,IAAI9W,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGkkB,KAAK,CAAClnB,MAA1B,EAAkCgD,CAAC,EAAnC,EAAuC;gBACrC8W,CAAC,GAAGoN,KAAK,CAAClkB,CAAD,CAAT;;gBACA,IAAG,OAAO8W,CAAP,KAAa,QAAhB,EAA0B;kBACxBA,CAAC,GAAGpc,MAAM,CAACyf,MAAP,CAAckI,YAAd,CAA2BvL,CAA3B,CAAJ;gBACD;;gBACD,IAAIA,CAAC,YAAYxd,IAAb,IAAqBoB,MAAM,CAACyf,MAAP,CAAc0E,SAAd,CAAwB7T,IAAxB,EAA8B8L,CAA9B,EAAiC+B,IAAjC,CAAzB,EAAiE;kBAC/D,IAAIsL,UAAU,GAAG,EAAjB;kBACAA,UAAU,CAAC/iB,QAAQ,CAAC4J,IAAV,CAAV,GAA4B8L,CAA5B;kBACA,OAAOqN,UAAP;gBACD,CAJD,MAKK,IAAIrN,CAAC,KAAK,IAAN,IAAc,OAAOA,CAAP,KAAa,QAA/B,EAAyC;kBAC5C,IAAIA,CAAC,CAAC1V,QAAQ,CAACiK,IAAV,CAAL,EAAsB;oBACpB,IAAI,OAAOyL,CAAC,CAAC1V,QAAQ,CAACiK,IAAV,CAAR,KAA4B,QAA5B,IAAwCL,IAAI,CAACkQ,WAAL,MAAsBpE,CAAC,CAAC1V,QAAQ,CAACiK,IAAV,CAAnE,EAAoF;sBAClF,OAAOyL,CAAP;oBACD,CAFD,MAEO,IAAI1X,KAAK,CAACC,OAAN,CAAcyX,CAAC,CAAC1V,QAAQ,CAACiK,IAAV,CAAf,CAAJ,EAAqC;sBAC1C,IAAIyL,CAAC,CAAC1V,QAAQ,CAACiK,IAAV,CAAD,CAAiB5B,OAAjB,CAAyBuB,IAAI,CAACkQ,WAAL,EAAzB,IAA+C,CAAC,CAApD,EAAuD;wBACrD,OAAOpE,CAAP;sBACD;oBACF;kBACF,CARD,MAQO,IAAIA,CAAC,CAAC1V,QAAQ,CAACgK,KAAV,CAAL,EAAuB;oBAC5B,IAAI,OAAO0L,CAAC,CAAC1V,QAAQ,CAACgK,KAAV,CAAR,KAA6B,QAA7B,IAAyCJ,IAAI,CAACiQ,QAAL,MAAmBnE,CAAC,CAAC1V,QAAQ,CAACgK,KAAV,CAAjE,EAAmF;sBACjF,OAAO0L,CAAP;oBACD,CAFD,MAEO,IAAI1X,KAAK,CAACC,OAAN,CAAcyX,CAAC,CAAC1V,QAAQ,CAACgK,KAAV,CAAf,CAAJ,EAAsC;sBAC3C,IAAI0L,CAAC,CAAC1V,QAAQ,CAACgK,KAAV,CAAD,CAAkB3B,OAAlB,CAA0BuB,IAAI,CAACiQ,QAAL,EAA1B,IAA6C,CAAC,CAAlD,EAAqD;wBACnD,OAAOnE,CAAP;sBACD;oBACF,CAJM,MAIA,IAAIA,CAAC,CAAC1V,QAAQ,CAACgK,KAAV,CAAD,YAA6B9R,IAAjC,EAAuC;sBAC5C,IAAIyqB,KAAK,GAAGrpB,MAAM,CAACyf,MAAP,CAAckI,YAAd,CAA2BvL,CAAC,CAAC1V,QAAQ,CAACgK,KAAV,CAA5B,CAAZ;;sBACA,IAAKJ,IAAI,CAACiQ,QAAL,MAAmB8I,KAAK,CAAC9I,QAAN,EAApB,IAA0CjQ,IAAI,CAACkQ,WAAL,MAAsB6I,KAAK,CAAC7I,WAAN,EAApE,EAA0F;wBACxF,OAAOpE,CAAP;sBACD;oBACF;kBACF,CAbM,MAaA,IAAIA,CAAC,CAAC1V,QAAQ,CAAC4J,IAAV,CAAD,IAAoB6N,IAAI,KAAK,KAAjC,EAAwC;oBAC7C,IAAI/B,CAAC,CAAC1V,QAAQ,CAAC4J,IAAV,CAAD,YAA4B1R,IAA5B,IAAoCoB,MAAM,CAACyf,MAAP,CAAc0E,SAAd,CAAwB7T,IAAxB,EAA8BtQ,MAAM,CAACyf,MAAP,CAAckI,YAAd,CAA2BvL,CAAC,CAAC1V,QAAQ,CAAC4J,IAAV,CAA5B,CAA9B,EAA4E6N,IAA5E,CAAxC,EAA2H;sBACzH,OAAO/B,CAAP;oBACD,CAFD,MAEO,IAAI1X,KAAK,CAACC,OAAN,CAAcyX,CAAC,CAAC1V,QAAQ,CAAC4J,IAAV,CAAf,CAAJ,EAAqC;sBAC1C,IAAG8L,CAAC,CAAC1V,QAAQ,CAAC4J,IAAV,CAAD,CAAiB8Y,IAAjB,CAAsB,UAASE,KAAT,EAAgB;wBAAE,OAAOtpB,MAAM,CAACyf,MAAP,CAAc0E,SAAd,CAAwB7T,IAAxB,EAA8BgZ,KAA9B,EAAqCnL,IAArC,CAAP;sBAAoD,CAA5F,CAAH,EAAkG;wBAChG,OAAO/B,CAAP;sBACD;oBACF;kBACF;gBACF;cACF;YACF;;YACD,OAAO,IAAP;UACD,CAtGK;UAuGNuL,YAAY,EAAE,UAAUrX,IAAV,EAAgB;YAC5B,IAAI,EAAEA,IAAI,YAAY1R,IAAlB,CAAJ,EAA6B;cAC3B0R,IAAI,GAAGiM,MAAM,CAACjM,IAAP,CAAY,KAAKA,IAAjB,EAAuBjR,QAAvB,CAAP;YACD;;YACD,IAAI,CAACiR,IAAD,IAASoZ,KAAK,CAACpZ,IAAI,CAACzR,OAAL,EAAD,CAAlB,EAAoC;cAClC,OAAO,IAAP;YACD;;YACD,OAAOyR,IAAP;UACD,CA/GK;UAgHNqZ,QAAQ,EAAE,UAAUC,KAAV,EAAiBC,KAAjB,EAAwB1L,IAAxB,EAA8B;YACtCA,IAAI,GAAGA,IAAI,IAAI,KAAf;YACA,IAAI6B,UAAU,GAAG3gB,QAAQ,CAACoJ,IAAT,KAAkB,MAAnC;YACA,IAAIkX,MAAM,GAAGxB,IAAI,KAAK,MAAtB;YACA,IAAI2L,aAAa,GAAGnK,MAAM,IAAIxB,IAAI,KAAK,OAAvC;YACA,IAAI4B,QAAQ,GAAG5B,IAAI,KAAK,QAAxB;YACA,IAAI4L,cAAc,GAAGhK,QAAQ,IAAI5B,IAAI,KAAK,MAA1C,CANsC,CAOtC;;YACAyL,KAAK,GAAG,IAAIhrB,IAAJ,CACNohB,UAAU,GAAG,IAAH,GAAU4J,KAAK,CAACpJ,WAAN,EADd,EAENR,UAAU,GAAG,CAAH,GAAOL,MAAM,GAAG,CAAH,GAAOiK,KAAK,CAACrJ,QAAN,EAFxB,EAGNP,UAAU,GAAG,CAAH,GAAO8J,aAAa,GAAG,CAAH,GAAOF,KAAK,CAACvJ,OAAN,EAH/B,EAIN,CAAC0J,cAAD,GAAkB,CAAlB,GAAsBH,KAAK,CAACxJ,QAAN,EAJhB,EAKN,CAACL,QAAD,GAAY,CAAZ,GAAgB1gB,QAAQ,CAACod,UAAT,GAAsBhX,IAAI,CAAC+hB,KAAL,CAAWoC,KAAK,CAACzJ,UAAN,KAAqB9gB,QAAQ,CAACod,UAAzC,CALhC,CAAR;YAMAoN,KAAK,GAAG,IAAIjrB,IAAJ,CACNohB,UAAU,GAAG,IAAH,GAAU6J,KAAK,CAACrJ,WAAN,EADd,EAENR,UAAU,GAAG,CAAH,GAAOL,MAAM,GAAG,CAAH,GAAOkK,KAAK,CAACtJ,QAAN,EAFxB,EAGNP,UAAU,GAAG,CAAH,GAAO8J,aAAa,GAAG,CAAH,GAAOD,KAAK,CAACxJ,OAAN,EAH/B,EAIN,CAAC0J,cAAD,GAAkB,CAAlB,GAAsBF,KAAK,CAACzJ,QAAN,EAJhB,EAKN,CAACL,QAAD,GAAY,CAAZ,GAAgB1gB,QAAQ,CAACod,UAAT,GAAsBhX,IAAI,CAAC+hB,KAAL,CAAWqC,KAAK,CAAC1J,UAAN,KAAqB9gB,QAAQ,CAACod,UAAzC,CALhC,CAAR;YAMA,OAAOoN,KAAK,CAAChrB,OAAN,KAAkB+qB,KAAK,CAAC/qB,OAAN,EAAzB;UACD,CArIK;UAsINslB,SAAS,EAAE,UAAUyF,KAAV,EAAiBC,KAAjB,EAAwB1L,IAAxB,EAA8B;YACvC,OAAO,CAAC,CAACyL,KAAF,IAAW,CAAC,CAACC,KAAb,IAAsB7pB,MAAM,CAACyf,MAAP,CAAckK,QAAd,CAAuBC,KAAvB,EAA8BC,KAA9B,EAAqC1L,IAArC,MAA+C,CAA5E;UACD,CAxIK;UAyINyE,aAAa,EAAE,UAAUtS,IAAV,EAAgB6N,IAAhB,EAAsBV,OAAtB,EAA+BC,OAA/B,EAAwC;YACrD,IAAI,CAACD,OAAD,IAAY,CAACC,OAAjB,EAA0B;cACxB,IAAImH,SAAS,GAAG7kB,MAAM,CAACiH,GAAP,CAAW4d,SAAX,EAAhB;cACApH,OAAO,GAAGoH,SAAS,IAAIxlB,QAAQ,CAACoe,OAAtB,GAAgC,IAAI7e,IAAJ,CAAS6G,IAAI,CAAC+Q,GAAL,CAASqO,SAAT,EAAoBxlB,QAAQ,CAACoe,OAA7B,CAAT,CAAhC,GAAkFoH,SAAS,IAAIxlB,QAAQ,CAACoe,OAAlH;cACAC,OAAO,GAAGre,QAAQ,CAACqe,OAAnB;YACD;;YACDD,OAAO,GAAGA,OAAO,IAAI,IAAI7e,IAAJ,CAAS6e,OAAO,CAAC+C,WAAR,EAAT,EAAgC/C,OAAO,CAAC8C,QAAR,EAAhC,EAAoD9C,OAAO,CAAC4C,OAAR,EAApD,EAAuE5C,OAAO,CAAC2C,QAAR,EAAvE,EAA2F/gB,QAAQ,CAACod,UAAT,GAAsBhX,IAAI,CAAC8b,IAAL,CAAU9D,OAAO,CAAC0C,UAAR,KAAuB9gB,QAAQ,CAACod,UAA1C,CAAjH,CAArB;YACA,OAAO,EAAE,CAACnM,IAAD,IACRmN,OAAO,IAAIzd,MAAM,CAACyf,MAAP,CAAckK,QAAd,CAAuBrZ,IAAvB,EAA6BmN,OAA7B,EAAsCU,IAAtC,IAA8C,CADjD,IAERT,OAAO,IAAI1d,MAAM,CAACyf,MAAP,CAAckK,QAAd,CAAuBjM,OAAvB,EAAgCpN,IAAhC,EAAsC6N,IAAtC,IAA8C,CAFnD,CAAP;UAGD,CAnJK;UAoJNuB,WAAW,EAAE,UAAUpP,IAAV,EAAgBmN,OAAhB,EAAyBC,OAAzB,EAAkC;YAC7C,IAAI,CAACD,OAAD,IAAY,CAACC,OAAjB,EAA0B;cACxB,IAAImH,SAAS,GAAG7kB,MAAM,CAACiH,GAAP,CAAW4d,SAAX,EAAhB;cACApH,OAAO,GAAGoH,SAAS,IAAIxlB,QAAQ,CAACoe,OAAtB,GAAgC,IAAI7e,IAAJ,CAAS6G,IAAI,CAAC+Q,GAAL,CAASqO,SAAT,EAAoBxlB,QAAQ,CAACoe,OAA7B,CAAT,CAAhC,GAAkFoH,SAAS,IAAIxlB,QAAQ,CAACoe,OAAlH;cACAC,OAAO,GAAGre,QAAQ,CAACqe,OAAnB;YACD;;YACDD,OAAO,GAAGA,OAAO,IAAI,IAAI7e,IAAJ,CAAS6e,OAAO,CAAC+C,WAAR,EAAT,EAAgC/C,OAAO,CAAC8C,QAAR,EAAhC,EAAoD9C,OAAO,CAAC4C,OAAR,EAApD,EAAuE5C,OAAO,CAAC2C,QAAR,EAAvE,EAA2F/gB,QAAQ,CAACod,UAAT,GAAsBhX,IAAI,CAAC8b,IAAL,CAAU9D,OAAO,CAAC0C,UAAR,KAAuB9gB,QAAQ,CAACod,UAA1C,CAAjH,CAArB;YACA,IAAIuD,UAAU,GAAG3gB,QAAQ,CAACoJ,IAAT,KAAkB,MAAnC;YACA,OAAO,CAAC6H,IAAD,GAAQA,IAAR,GACJmN,OAAO,IAAIzd,MAAM,CAACyf,MAAP,CAAckK,QAAd,CAAuBrZ,IAAvB,EAA6BmN,OAA7B,EAAsC,QAAtC,IAAkD,CAA9D,GACGuC,UAAU,GAAGhgB,MAAM,CAACyf,MAAP,CAAckH,aAAd,CAA4BrW,IAA5B,EAAkCmN,OAAlC,CAAH,GAAgDA,OAD7D,GAEGC,OAAO,IAAI1d,MAAM,CAACyf,MAAP,CAAckK,QAAd,CAAuBjM,OAAvB,EAAgCpN,IAAhC,EAAsC,QAAtC,IAAkD,CAA9D,GACG0P,UAAU,GAAGhgB,MAAM,CAACyf,MAAP,CAAckH,aAAd,CAA4BrW,IAA5B,EAAkCoN,OAAlC,CAAH,GAAgDA,OAD7D,GAEEpN,IALN;UAMD,CAlKK;UAmKNqW,aAAa,EAAE,UAAUrW,IAAV,EAAgB3R,IAAhB,EAAsB;YACnC,OAAQ,CAAC2R,IAAD,IAAS,CAAC3R,IAAX,GAAmBA,IAAnB,GACL,IAAIC,IAAJ,CAAS0R,IAAI,CAACkQ,WAAL,EAAT,EAA6BlQ,IAAI,CAACiQ,QAAL,EAA7B,EAA8CjQ,IAAI,CAAC+P,OAAL,EAA9C,EAA8D1hB,IAAI,CAACyhB,QAAL,EAA9D,EAA+EzhB,IAAI,CAACwhB,UAAL,EAA/E,CADF;UAED,CAtKK;UAuKNgF,aAAa,EAAE,UAAStlB,OAAT,EAAkB;YAC/B,OAAOA,OAAO,CAAC8N,IAAR,OAAmBtO,QAAQ,CAACsO,IAAT,CAAc6R,KAAxC;UACD;QAzKK,CAx3BD;QAoiCPtd,OAAO,EAAE,UAAUV,IAAV,EAAgBW,KAAhB,EAAuB;UAC9BnC,MAAM,CAACS,KAAP,CAAa,kBAAb,EAAiCe,IAAjC,EAAuCW,KAAvC;;UACA,IAAIlE,CAAC,CAACqB,aAAF,CAAgBkC,IAAhB,CAAJ,EAA2B;YACzBvD,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAeF,QAAf,EAAyBmC,IAAzB;UACD,CAFD,MAGK,IAAIW,KAAK,KAAK/D,SAAd,EAAyB;YAC5B,IAAIH,CAAC,CAACqB,aAAF,CAAgBD,QAAQ,CAACmC,IAAD,CAAxB,CAAJ,EAAqC;cACnCvD,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAeF,QAAQ,CAACmC,IAAD,CAAvB,EAA+BW,KAA/B;YACD,CAFD,MAGK;cACH9C,QAAQ,CAACmC,IAAD,CAAR,GAAiBW,KAAjB;YACD;UACF,CAPI,MAQA;YACH,OAAO9C,QAAQ,CAACmC,IAAD,CAAf;UACD;QACF,CApjCM;QAqjCPsB,QAAQ,EAAE,UAAUtB,IAAV,EAAgBW,KAAhB,EAAuB;UAC/B,IAAIlE,CAAC,CAACqB,aAAF,CAAgBkC,IAAhB,CAAJ,EAA4B;YAC1BvD,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAeS,MAAf,EAAuBwB,IAAvB;UACD,CAFD,MAGK,IAAGW,KAAK,KAAK/D,SAAb,EAAwB;YAC3B4B,MAAM,CAACwB,IAAD,CAAN,GAAeW,KAAf;UACD,CAFI,MAGA;YACH,OAAOnC,MAAM,CAACwB,IAAD,CAAb;UACD;QACF,CA/jCM;QAgkCPf,KAAK,EAAE,YAAY;UACjB,IAAI,CAACpB,QAAQ,CAACgV,MAAV,IAAoBhV,QAAQ,CAACoB,KAAjC,EAAwC;YACtC,IAAIpB,QAAQ,CAACP,WAAb,EAA0B;cACxBkB,MAAM,CAAClB,WAAP,CAAmB4B,GAAnB,CAAuB1B,SAAvB;YACD,CAFD,MAGK;cACHgB,MAAM,CAACS,KAAP,GAAesC,QAAQ,CAACC,SAAT,CAAmBC,IAAnB,CAAwB7D,IAAxB,CAA6BmB,OAAO,CAACmC,IAArC,EAA2CnC,OAA3C,EAAoDlB,QAAQ,CAACmC,IAAT,GAAgB,GAApE,CAAf;cACAxB,MAAM,CAACS,KAAP,CAAayC,KAAb,CAAmB3C,OAAnB,EAA4BvB,SAA5B;YACD;UACF;QACF,CA1kCM;QA2kCPoB,OAAO,EAAE,YAAY;UACnB,IAAI,CAACf,QAAQ,CAACgV,MAAV,IAAoBhV,QAAQ,CAACe,OAA7B,IAAwCf,QAAQ,CAACoB,KAArD,EAA4D;YAC1D,IAAIpB,QAAQ,CAACP,WAAb,EAA0B;cACxBkB,MAAM,CAAClB,WAAP,CAAmB4B,GAAnB,CAAuB1B,SAAvB;YACD,CAFD,MAGK;cACHgB,MAAM,CAACI,OAAP,GAAiB2C,QAAQ,CAACC,SAAT,CAAmBC,IAAnB,CAAwB7D,IAAxB,CAA6BmB,OAAO,CAACmC,IAArC,EAA2CnC,OAA3C,EAAoDlB,QAAQ,CAACmC,IAAT,GAAgB,GAApE,CAAjB;cACAxB,MAAM,CAACI,OAAP,CAAe8C,KAAf,CAAqB3C,OAArB,EAA8BvB,SAA9B;YACD;UACF;QACF,CArlCM;QAslCPS,KAAK,EAAE,YAAY;UACjB,IAAI,CAACJ,QAAQ,CAACgV,MAAd,EAAsB;YACpBrU,MAAM,CAACP,KAAP,GAAesD,QAAQ,CAACC,SAAT,CAAmBC,IAAnB,CAAwB7D,IAAxB,CAA6BmB,OAAO,CAACd,KAArC,EAA4Cc,OAA5C,EAAqDlB,QAAQ,CAACmC,IAAT,GAAgB,GAArE,CAAf;YACAxB,MAAM,CAACP,KAAP,CAAayD,KAAb,CAAmB3C,OAAnB,EAA4BvB,SAA5B;UACD;QACF,CA3lCM;QA4lCPF,WAAW,EAAE;UACX4B,GAAG,EAAE,UAAUyC,OAAV,EAAmB;YACtB,IACEC,WADF,EAEEC,aAFF,EAGEC,YAHF;;YAKA,IAAIjE,QAAQ,CAACP,WAAb,EAA0B;cACxBsE,WAAW,GAAG,IAAIxE,IAAJ,GAAWC,OAAX,EAAd;cACAyE,YAAY,GAAG3E,IAAI,IAAIyE,WAAvB;cACAC,aAAa,GAAGD,WAAW,GAAGE,YAA9B;cACA3E,IAAI,GAAGyE,WAAP;cACAtE,WAAW,CAACgD,IAAZ,CAAiB;gBACf,QAAQqB,OAAO,CAAC,CAAD,CADA;gBAEf,aAAa,GAAGhE,KAAH,CAASC,IAAT,CAAc+D,OAAd,EAAuB,CAAvB,KAA6B,EAF3B;gBAGf,WAAWtD,OAHI;gBAIf,kBAAkBwD;cAJH,CAAjB;YAMD;;YACDE,YAAY,CAACvD,MAAM,CAAClB,WAAP,CAAmB0E,KAApB,CAAZ;YACAxD,MAAM,CAAClB,WAAP,CAAmB0E,KAAnB,GAA2BlC,UAAU,CAACtB,MAAM,CAAClB,WAAP,CAAmB2E,OAApB,EAA6B,GAA7B,CAArC;UACD,CArBU;UAsBXA,OAAO,EAAE,YAAY;YACnB,IACEC,KAAK,GAAGrE,QAAQ,CAACmC,IAAT,GAAgB,GAD1B;YAAA,IAEEmC,SAAS,GAAG,CAFd;YAIAhF,IAAI,GAAG,KAAP;YACA4E,YAAY,CAACvD,MAAM,CAAClB,WAAP,CAAmB0E,KAApB,CAAZ;YACAvF,CAAC,CAAC2D,IAAF,CAAO9C,WAAP,EAAoB,UAAU+C,KAAV,EAAiB9B,IAAjB,EAAuB;cACzC4D,SAAS,IAAI5D,IAAI,CAAC,gBAAD,CAAjB;YACD,CAFD;YAGA2D,KAAK,IAAI,MAAMC,SAAN,GAAkB,IAA3B;;YACA,IAAIkC,cAAJ,EAAoB;cAClBnC,KAAK,IAAI,QAAQmC,cAAR,GAAyB,IAAlC;YACD;;YACD,IAAI,CAACtF,OAAO,CAACK,KAAR,KAAkBxC,SAAlB,IAA+BmC,OAAO,CAACqD,KAAR,KAAkBxF,SAAlD,KAAgEU,WAAW,CAACwD,MAAZ,GAAqB,CAAzF,EAA4F;cAC1F/B,OAAO,CAACO,cAAR,CAAuB4C,KAAvB;;cACA,IAAInD,OAAO,CAACqD,KAAZ,EAAmB;gBACjBrD,OAAO,CAACqD,KAAR,CAAc9E,WAAd;cACD,CAFD,MAGK;gBACHb,CAAC,CAAC2D,IAAF,CAAO9C,WAAP,EAAoB,UAAU+C,KAAV,EAAiB9B,IAAjB,EAAuB;kBACzCQ,OAAO,CAACG,GAAR,CAAYX,IAAI,CAAC,MAAD,CAAJ,GAAe,IAAf,GAAsBA,IAAI,CAAC,gBAAD,CAA1B,GAA+C,IAA3D;gBACD,CAFD;cAGD;;cACDQ,OAAO,CAACM,QAAR;YACD;;YACD/B,WAAW,GAAG,EAAd;UACD;QAjDU,CA5lCN;QA+oCP+E,MAAM,EAAE,UAAU9E,KAAV,EAAiB+E,eAAjB,EAAkCC,OAAlC,EAA2C;UACjD,IACEC,MAAM,GAAGlE,QADX;UAAA,IAEEmE,QAFF;UAAA,IAGEC,KAHF;UAAA,IAIEC,QAJF;UAMAL,eAAe,GAAGA,eAAe,IAAI5E,cAArC;UACA6E,OAAO,GAAGlE,OAAO,IAAIkE,OAArB;;UACA,IAAI,OAAOhF,KAAP,IAAgB,QAAhB,IAA4BiF,MAAM,KAAK5F,SAA3C,EAAsD;YACpDW,KAAK,GAAGA,KAAK,CAACqF,KAAN,CAAY,OAAZ,CAAR;YACAH,QAAQ,GAAGlF,KAAK,CAACuD,MAAN,GAAe,CAA1B;YACArE,CAAC,CAAC2D,IAAF,CAAO7C,KAAP,EAAc,UAAUsF,KAAV,EAAiBlC,KAAjB,EAAwB;cACpC,IAAImC,cAAc,GAAID,KAAK,IAAIJ,QAAV,GACf9B,KAAK,GAAGpD,KAAK,CAACsF,KAAK,GAAG,CAAT,CAAL,CAAiBE,MAAjB,CAAwB,CAAxB,EAA2BC,WAA3B,EAAR,GAAmDzF,KAAK,CAACsF,KAAK,GAAG,CAAT,CAAL,CAAiBlF,KAAjB,CAAuB,CAAvB,CADpC,GAEfJ,KAFN;;cAIA,IAAId,CAAC,CAACqB,aAAF,CAAgB0E,MAAM,CAACM,cAAD,CAAtB,KAA4CD,KAAK,IAAIJ,QAAzD,EAAoE;gBAClED,MAAM,GAAGA,MAAM,CAACM,cAAD,CAAf;cACD,CAFD,MAGK,IAAIN,MAAM,CAACM,cAAD,CAAN,KAA2BlG,SAA/B,EAA0C;gBAC7C8F,KAAK,GAAGF,MAAM,CAACM,cAAD,CAAd;gBACA,OAAO,KAAP;cACD,CAHI,MAIA,IAAIrG,CAAC,CAACqB,aAAF,CAAgB0E,MAAM,CAAC7B,KAAD,CAAtB,KAAmCkC,KAAK,IAAIJ,QAAhD,EAA2D;gBAC9DD,MAAM,GAAGA,MAAM,CAAC7B,KAAD,CAAf;cACD,CAFI,MAGA,IAAI6B,MAAM,CAAC7B,KAAD,CAAN,KAAkB/D,SAAtB,EAAiC;gBACpC8F,KAAK,GAAGF,MAAM,CAAC7B,KAAD,CAAd;gBACA,OAAO,KAAP;cACD,CAHI,MAIA;gBACHnC,MAAM,CAACP,KAAP,CAAaA,KAAK,CAACgF,MAAnB,EAA2B1F,KAA3B;gBACA,OAAO,KAAP;cACD;YACF,CAvBD;UAwBD;;UACD,IAAId,CAAC,CAACI,UAAF,CAAa6F,KAAb,CAAJ,EAAyB;YACvBC,QAAQ,GAAGD,KAAK,CAAChB,KAAN,CAAYa,OAAZ,EAAqBD,eAArB,CAAX;UACD,CAFD,MAGK,IAAII,KAAK,KAAK9F,SAAd,EAAyB;YAC5B+F,QAAQ,GAAGD,KAAX;UACD;;UACD,IAAIQ,KAAK,CAACC,OAAN,CAAc1E,aAAd,CAAJ,EAAkC;YAChCA,aAAa,CAAC6B,IAAd,CAAmBqC,QAAnB;UACD,CAFD,MAGK,IAAIlE,aAAa,KAAK7B,SAAtB,EAAiC;YACpC6B,aAAa,GAAG,CAACA,aAAD,EAAgBkE,QAAhB,CAAhB;UACD,CAFI,MAGA,IAAIA,QAAQ,KAAK/F,SAAjB,EAA4B;YAC/B6B,aAAa,GAAGkE,QAAhB;UACD;;UACD,OAAOD,KAAP;QACD;MApsCM,CAAT;;MAusCA,IAAIjF,aAAJ,EAAmB;QACjB,IAAIa,QAAQ,KAAK1B,SAAjB,EAA4B;UAC1B4B,MAAM,CAACE,UAAP;QACD;;QACDF,MAAM,CAAC6D,MAAP,CAAc9E,KAAd;MACD,CALD,MAMK;QACH,IAAIe,QAAQ,KAAK1B,SAAjB,EAA4B;UAC1B0B,QAAQ,CAAC+D,MAAT,CAAgB,SAAhB;QACD;;QACD7D,MAAM,CAACE,UAAP;MACD;IACF,CAvvCH;IAyvCA,OAAQD,aAAa,KAAK7B,SAAnB,GACH6B,aADG,GAEH,IAFJ;EAID,CApxCD;;EAsxCAhC,CAAC,CAACQ,EAAF,CAAK+L,QAAL,CAAcnL,QAAd,GAAyB;IAEvBmC,IAAI,EAAc,UAFK;IAGvBhC,SAAS,EAAS,UAHK;IAKvB6U,MAAM,EAAE,KALe;IAMvB5T,KAAK,EAAE,KANgB;IAOvBL,OAAO,EAAE,KAPc;IAQvBtB,WAAW,EAAE,KARU;IAUvB2J,IAAI,EAAiB,UAVE;IAUU;IACjC2Y,cAAc,EAAO,CAXE;IAWU;IACjCC,cAAc,EAAO,IAZE;IAYU;IACjC7B,KAAK,EAAgB,KAbE;IAaU;IACjCf,QAAQ,EAAa,IAdE;IAcU;IACjCuL,UAAU,EAAW,IAfE;IAeU;IACjCrL,aAAa,EAAQ,IAhBE;IAgBU;IACjCnR,MAAM,EAAe,KAjBE;IAiBU;IACjCxF,EAAE,EAAmB,IAlBE;IAkBU;IACjC6W,WAAW,EAAU,IAnBE;IAmBU;IACjCR,SAAS,EAAY,KApBE;IAoBU;IACjCZ,OAAO,EAAc,IArBE;IAqBU;IACjCC,OAAO,EAAc,IAtBE;IAsBU;IACjCuM,IAAI,EAAiB,IAvBE;IAuBU;IACjCzH,WAAW,EAAU,KAxBE;IAwBU;IACjCC,YAAY,EAAS,KAzBE;IAyBU;IACjC0F,aAAa,EAAQ,KA1BE;IA0BU;IACjCrJ,WAAW,EAAU,IA3BE;IA2BU;IACjCiJ,aAAa,EAAQ,IA5BE;IA4BU;IACjCE,WAAW,EAAU,IA7BE;IA6BU;IACjChI,UAAU,EAAW,CA9BE;IA8BU;IACjCxD,UAAU,EAAW,CA/BE;IAgCvBiE,eAAe,EAAM,IAhCE;IAgCU;IACjCmD,aAAa,EAAQ,EAjCE;IAiCU;IACjCsF,kBAAkB,EAAG,EAlCE;IAkCU;IACjCI,YAAY,EAAS,EAnCE;IAmCU;IACjCvF,UAAU,EAAW,EApCE;IAoCU;IACjCkG,YAAY,EAAS,EArCE;IAqCU;IACjCC,cAAc,EAAO,IAtCE;IAsCU;IACjC3G,kBAAkB,EAAG,KAvCE;IAuCS;IAChC;IACAjF,YAAY,EAAE;MACZuF,QAAQ,EAAE,aADE;MAEZsG,UAAU,EAAE,aAFA;MAGZC,MAAM,EAAE,UAHI;MAIZC,YAAY,EAAE;IAJF,CAzCS;IAgDvB3c,IAAI,EAAE;MACJ4c,IAAI,EAAE,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,GAAhB,EAAqB,GAArB,EAA0B,GAA1B,EAA+B,GAA/B,CADF;MAEJC,MAAM,EAAE,CAAC,SAAD,EAAY,UAAZ,EAAwB,OAAxB,EAAiC,OAAjC,EAA0C,KAA1C,EAAiD,MAAjD,EAAyD,MAAzD,EAAiE,QAAjE,EAA2E,WAA3E,EAAwF,SAAxF,EAAmG,UAAnG,EAA+G,UAA/G,CAFJ;MAGJlH,WAAW,EAAE,CAAC,KAAD,EAAQ,KAAR,EAAe,KAAf,EAAsB,KAAtB,EAA6B,KAA7B,EAAoC,KAApC,EAA2C,KAA3C,EAAkD,KAAlD,EAAyD,KAAzD,EAAgE,KAAhE,EAAuE,KAAvE,EAA8E,KAA9E,CAHT;MAIJ9D,KAAK,EAAE,OAJH;MAKJiL,GAAG,EAAE,KALD;MAMJC,EAAE,EAAE,IANA;MAOJC,EAAE,EAAE,IAPA;MAQJ5H,MAAM,EAAE;IARJ,CAhDiB;IA2DvBvS,SAAS,EAAE;MACT8R,MAAM,EAAE,UAAUhS,IAAV,EAAgB6N,IAAhB,EAAsB9e,QAAtB,EAAgC;QACtC,OAAO8e,IAAI,KAAK,MAAT,GAAkB9e,QAAQ,CAACmR,SAAT,CAAmBoa,UAAnB,CAA8Bta,IAA9B,EAAoCjR,QAApC,CAAlB,GACL8e,IAAI,KAAK,OAAT,GAAmB9e,QAAQ,CAACmR,SAAT,CAAmBqa,WAAnB,CAA+Bva,IAA/B,EAAqCjR,QAArC,CAAnB,GACE8e,IAAI,KAAK,KAAT,GAAiB9e,QAAQ,CAACmR,SAAT,CAAmBsa,SAAnB,CAA6Bxa,IAA7B,EAAmCjR,QAAnC,CAAjB,GACE8e,IAAI,KAAK,MAAT,GAAkB9e,QAAQ,CAACmR,SAAT,CAAmBua,UAAnB,CAA8Bza,IAA9B,EAAoCjR,QAApC,CAAlB,GACEA,QAAQ,CAACmR,SAAT,CAAmBwa,YAAnB,CAAgC1a,IAAhC,EAAsCjR,QAAtC,CAJR;MAKD,CAPQ;MAQTurB,UAAU,EAAE,UAAUta,IAAV,EAAgBjR,QAAhB,EAA0B;QACpC,IAAI4rB,UAAU,GAAGxlB,IAAI,CAAC8b,IAAL,CAAUjR,IAAI,CAACkQ,WAAL,KAAqB,EAA/B,IAAqC,EAAtD;QACA,OAAQyK,UAAU,GAAG,CAAd,GAAmB,KAAnB,IAA4BA,UAAU,GAAG,CAAzC,CAAP;MACD,CAXQ;MAYTJ,WAAW,EAAE,UAAUva,IAAV,EAAgBjR,QAAhB,EAA0B;QACrC,OAAOiR,IAAI,CAACkQ,WAAL,EAAP;MACD,CAdQ;MAeTsK,SAAS,EAAE,UAAUxa,IAAV,EAAgBjR,QAAhB,EAA0B;QACnC,IAAIqR,KAAK,GAAGrR,QAAQ,CAACsO,IAAT,CAAc6c,MAAd,CAAqBla,IAAI,CAACiQ,QAAL,EAArB,CAAZ;QACA,IAAI5P,IAAI,GAAGL,IAAI,CAACkQ,WAAL,EAAX;QACA,OAAO9P,KAAK,GAAG,GAAR,GAAcC,IAArB;MACD,CAnBQ;MAoBToa,UAAU,EAAE,UAAUza,IAAV,EAAgBjR,QAAhB,EAA0B;QACpC,OAAOA,QAAQ,CAACmR,SAAT,CAAmBF,IAAnB,CAAwBA,IAAxB,EAA8BjR,QAA9B,CAAP;MACD,CAtBQ;MAuBT2rB,YAAY,EAAE,UAAU1a,IAAV,EAAgBjR,QAAhB,EAA0B;QACtC,OAAOA,QAAQ,CAACmR,SAAT,CAAmBF,IAAnB,CAAwBA,IAAxB,EAA8BjR,QAA9B,CAAP;MACD,CAzBQ;MA0BT4jB,eAAe,EAAE,UAAU/M,GAAV,EAAe7W,QAAf,EAAyB;QACxC,OAAOA,QAAQ,CAACsO,IAAT,CAAc4c,IAAd,CAAmBrU,GAAnB,CAAP;MACD,CA5BQ;MA6BTzF,QAAQ,EAAE,UAAUH,IAAV,EAAgBjR,QAAhB,EAA0B;QAClC,IAAI,CAACiR,IAAL,EAAW;UACT,OAAO,EAAP;QACD;;QACD,IAAI4F,GAAG,GAAG7W,QAAQ,CAACoJ,IAAT,KAAkB,MAAlB,GAA2B,EAA3B,GAAgCpJ,QAAQ,CAACmR,SAAT,CAAmBF,IAAnB,CAAwBA,IAAxB,EAA8BjR,QAA9B,CAA1C;QACA,IAAIV,IAAI,GAAGU,QAAQ,CAACoJ,IAAT,CAAcsG,OAAd,CAAsB,MAAtB,IAAgC,CAAhC,GAAoC,EAApC,GAAyC1P,QAAQ,CAACmR,SAAT,CAAmB7R,IAAnB,CAAwB2R,IAAxB,EAA8BjR,QAA9B,EAAwC,KAAxC,CAApD;QACA,IAAI6rB,SAAS,GAAG7rB,QAAQ,CAACoJ,IAAT,KAAkB,UAAlB,GAA+B,GAA/B,GAAqC,EAArD;QACA,OAAOyN,GAAG,GAAGgV,SAAN,GAAkBvsB,IAAzB;MACD,CArCQ;MAsCT2R,IAAI,EAAE,UAAUA,IAAV,EAAgBjR,QAAhB,EAA0B;QAC9B,IAAI,CAACiR,IAAL,EAAW;UACT,OAAO,EAAP;QACD;;QACD,IAAI4F,GAAG,GAAG5F,IAAI,CAAC+P,OAAL,EAAV;QACA,IAAI3P,KAAK,GAAGrR,QAAQ,CAACsO,IAAT,CAAc6c,MAAd,CAAqBla,IAAI,CAACiQ,QAAL,EAArB,CAAZ;QACA,IAAI5P,IAAI,GAAGL,IAAI,CAACkQ,WAAL,EAAX;QACA,OAAOnhB,QAAQ,CAACoJ,IAAT,KAAkB,MAAlB,GAA2BkI,IAA3B,GACLtR,QAAQ,CAACoJ,IAAT,KAAkB,OAAlB,GAA4BiI,KAAK,GAAG,GAAR,GAAcC,IAA1C,GACA,CAACtR,QAAQ,CAAC2qB,UAAT,GAAsBtZ,KAAK,GAAG,GAAR,GAAcwF,GAApC,GAA0CA,GAAG,GAAG,GAAN,GAAYxF,KAAvD,IAAgE,IAAhE,GAAuEC,IAFzE;MAGD,CAhDQ;MAiDThS,IAAI,EAAE,UAAU2R,IAAV,EAAgBjR,QAAhB,EAA0B8rB,WAA1B,EAAuC;QAC3C,IAAI,CAAC7a,IAAL,EAAW;UACT,OAAO,EAAP;QACD;;QACD,IAAI6F,IAAI,GAAG7F,IAAI,CAAC8P,QAAL,EAAX;QACA,IAAIhK,MAAM,GAAG9F,IAAI,CAAC6P,UAAL,EAAb;QACA,IAAI8J,IAAI,GAAG,EAAX;;QACA,IAAI5qB,QAAQ,CAAC4qB,IAAb,EAAmB;UACjBA,IAAI,GAAG,OAAO9T,IAAI,GAAG,EAAP,GAAY9W,QAAQ,CAACsO,IAAT,CAAc+c,EAA1B,GAA+BrrB,QAAQ,CAACsO,IAAT,CAAcgd,EAApD,CAAP;UACAxU,IAAI,GAAGA,IAAI,KAAK,CAAT,GAAa,EAAb,GAAkBA,IAAI,GAAG,EAAP,GAAYA,IAAI,GAAG,EAAnB,GAAwBA,IAAjD;QACD;;QACD,OAAOA,IAAI,GAAG,GAAP,IAAcC,MAAM,GAAG,EAAT,GAAc,GAAd,GAAoB,EAAlC,IAAwCA,MAAxC,GAAiD6T,IAAxD;MACD,CA7DQ;MA8DTzK,KAAK,EAAE,UAAUngB,QAAV,EAAoB;QACzB,OAAOA,QAAQ,CAACoJ,IAAT,KAAkB,MAAlB,GAA2BpJ,QAAQ,CAACsO,IAAT,CAAc6R,KAAzC,GAAiDngB,QAAQ,CAACsO,IAAT,CAAc8c,GAAtE;MACD,CAhEQ;MAiETnL,IAAI,EAAE,UAAUA,IAAV,EAAgBhP,IAAhB,EAAsBkU,WAAtB,EAAmC,CACxC;IAlEQ,CA3DY;IAgIvBjI,MAAM,EAAE;MACNjM,IAAI,EAAE,UAAU3C,IAAV,EAAgBtO,QAAhB,EAA0B;QAC9B,IAAIsO,IAAI,YAAY/O,IAApB,EAA0B;UACxB,OAAO+O,IAAP;QACD;;QACD,IAAI,CAACA,IAAL,EAAW;UACT,OAAO,IAAP;QACD;;QACDA,IAAI,GAAG/B,MAAM,CAAC+B,IAAD,CAAN,CAAa9B,IAAb,EAAP;;QACA,IAAI8B,IAAI,CAACrL,MAAL,KAAgB,CAApB,EAAuB;UACrB,OAAO,IAAP;QACD;;QACD,IAAGqL,IAAI,CAACpI,KAAL,CAAW,gDAAX,CAAH,EAAgE;UAC9DoI,IAAI,GAAGA,IAAI,CAACI,OAAL,CAAa,WAAb,EAAyB,GAAzB,IAAgC,WAAvC;QACD,CAb6B,CAc9B;;;QACAJ,IAAI,GAAGtO,QAAQ,CAAC2qB,UAAT,IAAuB,CAACrc,IAAI,CAACpI,KAAL,CAAW,qBAAX,CAAxB,GAA4DoI,IAA5D,GAAmEA,IAAI,CAACI,OAAL,CAAa,WAAb,EAAyB,GAAzB,EAA8BA,OAA9B,CAAsC,oBAAtC,EAA2D,OAA3D,CAA1E;QACA,IAAIqd,QAAQ,GAAG,IAAIxsB,IAAJ,CAAS+O,IAAT,CAAf;QACA,IAAI0d,UAAU,GAAG1d,IAAI,CAACpI,KAAL,CAAW,UAAX,MAA2B,IAA5C;;QACA,IAAG,CAAC8lB,UAAD,IAAe,CAAC3B,KAAK,CAAC0B,QAAQ,CAAC/K,OAAT,EAAD,CAAxB,EAA8C;UAC5C,OAAO+K,QAAP;QACD;;QACDzd,IAAI,GAAGA,IAAI,CAAC8I,WAAL,EAAP;QAEA,IAAInR,CAAJ,EAAOgmB,CAAP,EAAUC,CAAV;QACA,IAAInV,MAAM,GAAG,CAAC,CAAd;QAAA,IAAiBD,IAAI,GAAG,CAAC,CAAzB;QAAA,IAA4BD,GAAG,GAAG,CAAC,CAAnC;QAAA,IAAsCxF,KAAK,GAAG,CAAC,CAA/C;QAAA,IAAkDC,IAAI,GAAG,CAAC,CAA1D;QACA,IAAI6a,IAAI,GAAGptB,SAAX;QAEA,IAAI4hB,UAAU,GAAG3gB,QAAQ,CAACoJ,IAAT,KAAkB,MAAnC;QACA,IAAIgjB,UAAU,GAAGpsB,QAAQ,CAACoJ,IAAT,CAAcsG,OAAd,CAAsB,MAAtB,IAAgC,CAAjD;QAEA,IAAI2c,KAAK,GAAG/d,IAAI,CAACvJ,KAAL,CAAW/E,QAAQ,CAACuH,MAAT,CAAgB+kB,SAA3B,CAAZ;QAAA,IAAmDC,IAAnD;QACA,IAAIC,OAAO,GAAGle,IAAI,CAACvJ,KAAL,CAAW/E,QAAQ,CAACuH,MAAT,CAAgBklB,WAA3B,CAAd;QAAA,IAAuDnX,MAAvD;QAEA,IAAI9F,KAAJ;QACA,IAAIkd,WAAJ;;QAEA,IAAI,CAACN,UAAL,EAAiB;UACf;UACAD,IAAI,GAAGvtB,CAAC,CAAC+Z,OAAF,CAAU3Y,QAAQ,CAACsO,IAAT,CAAc+c,EAAd,CAAiBjU,WAAjB,EAAV,EAA0CiV,KAA1C,KAAoD,CAApD,GAAwD,IAAxD,GACLztB,CAAC,CAAC+Z,OAAF,CAAU3Y,QAAQ,CAACsO,IAAT,CAAcgd,EAAd,CAAiBlU,WAAjB,EAAV,EAA0CiV,KAA1C,KAAoD,CAApD,GAAwD,KAAxD,GAAgEttB,SADlE,CAFe,CAKf;;UACA,KAAKkH,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGumB,OAAO,CAACvpB,MAAxB,EAAgCgD,CAAC,EAAjC,EAAqC;YACnCqP,MAAM,GAAGkX,OAAO,CAACvmB,CAAD,CAAhB;;YACA,IAAIqP,MAAM,CAAC5F,OAAP,CAAe,GAAf,KAAuB,CAA3B,EAA8B;cAC5B,IAAIoH,IAAI,GAAG,CAAP,IAAYC,MAAM,GAAG,CAAzB,EAA4B;gBAC1BvH,KAAK,GAAG8F,MAAM,CAACvQ,KAAP,CAAa,GAAb,CAAR;;gBACA,KAAKmnB,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAG9lB,IAAI,CAAC8Q,GAAL,CAAS,CAAT,EAAY1H,KAAK,CAACvM,MAAlB,CAAhB,EAA2CipB,CAAC,EAA5C,EAAgD;kBAC9CD,CAAC,GAAGlT,QAAQ,CAACvJ,KAAK,CAAC0c,CAAD,CAAN,CAAZ;;kBACA,IAAI7B,KAAK,CAAC4B,CAAD,CAAT,EAAc;oBACZA,CAAC,GAAG,CAAJ;kBACD;;kBACD,IAAIC,CAAC,KAAK,CAAV,EAAa;oBACXpV,IAAI,GAAGmV,CAAC,GAAG,EAAX;kBACD,CAFD,MAEO;oBACLlV,MAAM,GAAGkV,CAAC,GAAG,EAAb;kBACD;gBACF;cACF;;cACDO,OAAO,CAAC9Z,MAAR,CAAezM,CAAf,EAAkB,CAAlB;YACD;UACF;QACF;;QAED,IAAI,CAAC0a,UAAL,EAAiB;UACf;UACA,KAAK1a,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGomB,KAAK,CAACppB,MAAtB,EAA8BgD,CAAC,EAA/B,EAAmC;YACjCsmB,IAAI,GAAGF,KAAK,CAACpmB,CAAD,CAAZ;;YACA,IAAIsmB,IAAI,CAACtpB,MAAL,IAAe,CAAnB,EAAsB;cACpB;YACD;;YACD,KAAKgpB,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGjsB,QAAQ,CAACsO,IAAT,CAAc6c,MAAd,CAAqBloB,MAArC,EAA6CgpB,CAAC,EAA9C,EAAkD;cAChDS,WAAW,GAAG1sB,QAAQ,CAACsO,IAAT,CAAc6c,MAAd,CAAqBc,CAArB,CAAd;cACAS,WAAW,GAAGA,WAAW,CAACC,SAAZ,CAAsB,CAAtB,EAAyBJ,IAAI,CAACtpB,MAA9B,EAAsCmU,WAAtC,EAAd;;cACA,IAAIsV,WAAW,KAAKH,IAApB,EAA0B;gBACxBlb,KAAK,GAAG4a,CAAC,GAAG,CAAZ;gBACA;cACD;YACF;;YACD,IAAI5a,KAAK,IAAI,CAAb,EAAgB;cACd;YACD;UACF,CAlBc,CAoBf;;;UACA,KAAKpL,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGumB,OAAO,CAACvpB,MAAxB,EAAgCgD,CAAC,EAAjC,EAAqC;YACnCgmB,CAAC,GAAGlT,QAAQ,CAACyT,OAAO,CAACvmB,CAAD,CAAR,CAAZ;;YACA,IAAIokB,KAAK,CAAC4B,CAAD,CAAT,EAAc;cACZ;YACD;;YACD,IAAIA,CAAC,IAAIjsB,QAAQ,CAAC6qB,YAAd,IAA8B5kB,CAAC,KAAKumB,OAAO,CAACvpB,MAAR,GAAe,CAAvD,EAA0D;cACxD,IAAIgpB,CAAC,IAAI,EAAT,EAAa;gBACXA,CAAC,IAAIjsB,QAAQ,CAAC8qB,cAAT,GAA0B,GAA/B;cACD;;cACDxZ,IAAI,GAAG2a,CAAP;cACAO,OAAO,CAAC9Z,MAAR,CAAezM,CAAf,EAAkB,CAAlB;cACA;YACD;UACF,CAlCc,CAoCf;;;UACA,IAAIoL,KAAK,GAAG,CAAZ,EAAe;YACb,KAAKpL,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGumB,OAAO,CAACvpB,MAAxB,EAAgCgD,CAAC,EAAjC,EAAqC;cACnCimB,CAAC,GAAGjmB,CAAC,GAAG,CAAJ,IAASjG,QAAQ,CAAC2qB,UAAlB,GAA+B1kB,CAA/B,GAAmCA,CAAC,KAAK,CAAN,GAAU,CAAV,GAAc,CAArD;cACAgmB,CAAC,GAAGlT,QAAQ,CAACyT,OAAO,CAACN,CAAD,CAAR,CAAZ;;cACA,IAAI7B,KAAK,CAAC4B,CAAD,CAAT,EAAc;gBACZ;cACD;;cACD,IAAI,KAAKA,CAAL,IAAUA,CAAC,IAAI,EAAnB,EAAuB;gBACrB5a,KAAK,GAAG4a,CAAR;gBACAO,OAAO,CAAC9Z,MAAR,CAAewZ,CAAf,EAAkB,CAAlB;gBACA;cACD;YACF;UACF,CAlDc,CAoDf;;;UACA,KAAKjmB,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGumB,OAAO,CAACvpB,MAAxB,EAAgCgD,CAAC,EAAjC,EAAqC;YACnCgmB,CAAC,GAAGlT,QAAQ,CAACyT,OAAO,CAACvmB,CAAD,CAAR,CAAZ;;YACA,IAAIokB,KAAK,CAAC4B,CAAD,CAAT,EAAc;cACZ;YACD;;YACD,IAAI,KAAKA,CAAL,IAAUA,CAAC,IAAI,EAAnB,EAAuB;cACrBpV,GAAG,GAAGoV,CAAN;cACAO,OAAO,CAAC9Z,MAAR,CAAezM,CAAf,EAAkB,CAAlB;cACA;YACD;UACF,CA/Dc,CAiEf;;;UACA,IAAIqL,IAAI,GAAG,CAAX,EAAc;YACZ,KAAKrL,CAAC,GAAGumB,OAAO,CAACvpB,MAAR,GAAiB,CAA1B,EAA6BgD,CAAC,IAAI,CAAlC,EAAqCA,CAAC,EAAtC,EAA0C;cACxCgmB,CAAC,GAAGlT,QAAQ,CAACyT,OAAO,CAACvmB,CAAD,CAAR,CAAZ;;cACA,IAAIokB,KAAK,CAAC4B,CAAD,CAAT,EAAc;gBACZ;cACD;;cACD,IAAIA,CAAC,IAAI,EAAT,EAAa;gBACXA,CAAC,IAAIjsB,QAAQ,CAAC8qB,cAAd;cACD;;cACDxZ,IAAI,GAAG2a,CAAP;cACAO,OAAO,CAAC9Z,MAAR,CAAezM,CAAf,EAAkB,CAAlB;cACA;YACD;UACF;QACF;;QAED,IAAI,CAACmmB,UAAL,EAAiB;UACf;UACA,IAAItV,IAAI,GAAG,CAAX,EAAc;YACZ,KAAK7Q,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGumB,OAAO,CAACvpB,MAAxB,EAAgCgD,CAAC,EAAjC,EAAqC;cACnCgmB,CAAC,GAAGlT,QAAQ,CAACyT,OAAO,CAACvmB,CAAD,CAAR,CAAZ;;cACA,IAAIokB,KAAK,CAAC4B,CAAD,CAAT,EAAc;gBACZ;cACD;;cACD,IAAI,KAAKA,CAAL,IAAUA,CAAC,IAAI,EAAnB,EAAuB;gBACrBnV,IAAI,GAAGmV,CAAP;gBACAO,OAAO,CAAC9Z,MAAR,CAAezM,CAAf,EAAkB,CAAlB;gBACA;cACD;YACF;UACF,CAdc,CAgBf;;;UACA,IAAI8Q,MAAM,GAAG,CAAb,EAAgB;YACd,KAAK9Q,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGumB,OAAO,CAACvpB,MAAxB,EAAgCgD,CAAC,EAAjC,EAAqC;cACnCgmB,CAAC,GAAGlT,QAAQ,CAACyT,OAAO,CAACvmB,CAAD,CAAR,CAAZ;;cACA,IAAIokB,KAAK,CAAC4B,CAAD,CAAT,EAAc;gBACZ;cACD;;cACD,IAAI,KAAKA,CAAL,IAAUA,CAAC,IAAI,EAAnB,EAAuB;gBACrBlV,MAAM,GAAGkV,CAAT;gBACAO,OAAO,CAAC9Z,MAAR,CAAezM,CAAf,EAAkB,CAAlB;gBACA;cACD;YACF;UACF;QACF;;QAED,IAAI8Q,MAAM,GAAG,CAAT,IAAcD,IAAI,GAAG,CAArB,IAA0BD,GAAG,GAAG,CAAhC,IAAqCxF,KAAK,GAAG,CAA7C,IAAkDC,IAAI,GAAG,CAA7D,EAAgE;UAC9D,OAAO,IAAP;QACD;;QAED,IAAIyF,MAAM,GAAG,CAAb,EAAgB;UACdA,MAAM,GAAG,CAAT;QACD;;QACD,IAAID,IAAI,GAAG,CAAX,EAAc;UACZA,IAAI,GAAG,CAAP;QACD;;QACD,IAAID,GAAG,GAAG,CAAV,EAAa;UACXA,GAAG,GAAG,CAAN;QACD;;QACD,IAAIxF,KAAK,GAAG,CAAZ,EAAe;UACbA,KAAK,GAAG,CAAR;QACD;;QACD,IAAIC,IAAI,GAAG,CAAX,EAAc;UACZA,IAAI,GAAG,IAAI/R,IAAJ,GAAW4hB,WAAX,EAAP;QACD;;QAED,IAAIgL,IAAI,KAAKptB,SAAb,EAAwB;UACtB,IAAIotB,IAAJ,EAAU;YACR,IAAIrV,IAAI,KAAK,EAAb,EAAiB;cACfA,IAAI,GAAG,CAAP;YACD;UACF,CAJD,MAIO,IAAIA,IAAI,GAAG,EAAX,EAAe;YACpBA,IAAI,IAAI,EAAR;UACD;QACF;;QAED,IAAI7F,IAAI,GAAG,IAAI1R,IAAJ,CAAS+R,IAAT,EAAeD,KAAK,GAAG,CAAvB,EAA0BwF,GAA1B,EAA+BC,IAA/B,EAAqCC,MAArC,CAAX;;QACA,IAAI9F,IAAI,CAACiQ,QAAL,OAAoB7P,KAAK,GAAG,CAA5B,IAAiCJ,IAAI,CAACkQ,WAAL,OAAuB7P,IAA5D,EAAkE;UAChE;UACAL,IAAI,GAAG,IAAI1R,IAAJ,CAAS+R,IAAT,EAAeD,KAAf,EAAsB,CAAtB,EAAyByF,IAAzB,EAA+BC,MAA/B,CAAP;QACD;;QACD,OAAOsT,KAAK,CAACpZ,IAAI,CAACzR,OAAL,EAAD,CAAL,GAAwB,IAAxB,GAA+ByR,IAAtC;MACD;IAvNK,CAhIe;IA0VvB;IACAgY,cAAc,EAAE,UAAUhY,IAAV,EAAgB3C,IAAhB,EAAsBwQ,IAAtB,EAA4B;MAC1C,OAAO,IAAP;IACD,CA7VsB;IA+VvB;IACAnD,QAAQ,EAAE,UAAU1K,IAAV,EAAgB3C,IAAhB,EAAsBwQ,IAAtB,EAA4B,CACrC,CAjWsB;IAmWvB;IACAF,MAAM,EAAE,YAAY,CACnB,CArWsB;IAuWvB;IACAH,SAAS,EAAE,YAAY,CACtB,CAzWsB;IA2WvB;IACAY,MAAM,EAAE,YAAY,CACnB,CA7WsB;IA+WvB;IACAV,QAAQ,EAAE,YAAY,CACrB,CAjXsB;IAmXvB;IACAqI,QAAQ,EAAE,UAAU/V,IAAV,EAAgB6N,IAAhB,EAAsB,CAC/B,CArXsB;IAuXvB;IACAxL,UAAU,EAAE,UAAUrC,IAAV,EAAgB6N,IAAhB,EAAsB;MAChC,OAAO,KAAP;IACD,CA1XsB;IA4XvBrY,QAAQ,EAAE;MACR6W,KAAK,EAAE,WADC;MAER7P,KAAK,EAAE,OAFC;MAGR+P,SAAS,EAAE,OAHH;MAIRgB,MAAM,EAAE;IAJA,CA5Xa;IAmYvBjX,MAAM,EAAE;MACN+kB,SAAS,EAAE,0BADL;MAENG,WAAW,EAAE;IAFP,CAnYe;IAwYvBrsB,KAAK,EAAE;MACLkd,KAAK,EAAE,6DADF;MAELlY,MAAM,EAAE;IAFH,CAxYgB;IA6YvBkC,SAAS,EAAE;MACT6D,QAAQ,EAAE,UADD;MAETiP,MAAM,EAAE,QAFC;MAGTkD,KAAK,EAAE,UAHE;MAIToE,IAAI,EAAE,qBAJG;MAKTE,MAAM,EAAE,QALC;MAMTrd,KAAK,EAAE,4CANE;MAOTqZ,QAAQ,EAAE,UAPD;MAQT1B,IAAI,EAAE,WARG;MASTlC,IAAI,EAAE,WATG;MAUTwJ,QAAQ,EAAE,mBAVD;MAWTC,QAAQ,EAAE,oBAXD;MAYTT,IAAI,EAAE,MAZG;MAaT/C,IAAI,EAAE,MAbG;MAcTqD,YAAY,EAAE,UAdL;MAeTK,QAAQ,EAAE,UAfD;MAgBTqB,YAAY,EAAE,UAhBL;MAiBTC,UAAU,EAAE,QAjBH;MAkBTc,SAAS,EAAE,OAlBF;MAmBTF,SAAS,EAAE,OAnBF;MAoBTX,SAAS,EAAE,OApBF;MAqBT/E,KAAK,EAAE,YArBE;MAsBTzd,QAAQ,EAAE;IAtBD,CA7YY;IAsavB2E,QAAQ,EAAE;MACR4J,IAAI,EAAE,MADE;MAER4N,SAAS,EAAE,WAFH;MAGR2G,SAAS,EAAE,WAHH;MAIRC,OAAO,EAAE,SAJD;MAKRrH,OAAO,EAAE,SALD;MAMRC,OAAO,EAAE,SAND;MAORS,IAAI,EAAE,MAPE;MAQR1V,IAAI,EAAE,MARE;MASRyX,WAAW,EAAE,aATL;MAUR/c,OAAO,EAAE,SAVD;MAWR8gB,KAAK,EAAE,OAXC;MAYRhH,QAAQ,EAAE,UAZF;MAaR8G,SAAS,EAAE,WAbH;MAcRD,QAAQ,EAAE,UAdF;MAeRpT,KAAK,EAAE,OAfC;MAgBRC,IAAI,EAAE;IAhBE,CAtaa;IAybvBuT,UAAU,EAAE;EAzbW,CAAzB;AA4bC,CAjuDA,EAiuDE1e,MAjuDF,EAiuDUtH,MAjuDV,EAiuDkBC,QAjuDlB;AAmuDD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA;;AAAC,CAAC,UAAUF,CAAV,EAAaC,MAAb,EAAqBC,QAArB,EAA+BC,SAA/B,EAA0C;EAE5C;;EAEAH,CAAC,CAACI,UAAF,GAAeJ,CAAC,CAACI,UAAF,IAAgB,UAASC,GAAT,EAAc;IAC3C,OAAO,OAAOA,GAAP,KAAe,UAAf,IAA6B,OAAOA,GAAG,CAACC,QAAX,KAAwB,QAA5D;EACD,CAFD;;EAIAL,MAAM,GAAI,OAAOA,MAAP,IAAiB,WAAjB,IAAgCA,MAAM,CAACuH,IAAP,IAAeA,IAAhD,GACLvH,MADK,GAEJ,OAAOwH,IAAP,IAAe,WAAf,IAA8BA,IAAI,CAACD,IAAL,IAAaA,IAA5C,GACEC,IADF,GAEE3C,QAAQ,CAAC,aAAD,CAAR,EAJN;;EAOA9E,CAAC,CAACQ,EAAF,CAAKwM,QAAL,GAAgB,UAASvM,UAAT,EAAqB;IACnC,IACEkH,WAAW,GAAM3H,CAAC,CAAC,IAAD,CADpB;IAAA,IAEE4H,cAAc,GAAGD,WAAW,CAACE,QAAZ,IAAwB,EAF3C;IAAA,IAIEnH,IAAI,GAAa,IAAIC,IAAJ,GAAWC,OAAX,EAJnB;IAAA,IAKEC,WAAW,GAAM,EALnB;IAAA,IAOEC,KAAK,GAAYC,SAAS,CAAC,CAAD,CAP5B;IAAA,IAQEC,aAAa,GAAK,OAAOF,KAAP,IAAgB,QARpC;IAAA,IASEG,cAAc,GAAG,GAAGC,KAAH,CAASC,IAAT,CAAcJ,SAAd,EAAyB,CAAzB,CATnB;IAAA,IAUEiB,aAVF;IAaA2F,WAAW,CACRhE,IADH,CACQ,YAAW;MACf,IACEvC,QAAQ,GAAUpB,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAe,EAAf,EAAmBtB,CAAC,CAACQ,EAAF,CAAKwM,QAAL,CAAc5L,QAAjC,EAA2CX,UAA3C,CADpB;MAAA,IAGEiI,SAAS,GAAStH,QAAQ,CAACsH,SAH7B;MAAA,IAIEnH,SAAS,GAASH,QAAQ,CAACG,SAJ7B;MAAA,IAKEsG,QAAQ,GAAUzG,QAAQ,CAACyG,QAL7B;MAAA,IAMErG,KAAK,GAAaJ,QAAQ,CAACI,KAN7B;MAAA,IAQEoH,cAAc,GAAI,MAAMrH,SAR1B;MAAA,IASEE,eAAe,GAAG,YAAYF,SAThC;MAAA,IAWEI,OAAO,GAAW3B,CAAC,CAAC,IAAD,CAXrB;MAAA,IAYE2Q,MAAM,GAAY3Q,CAAC,CAAC,IAAD,CAAD,CAAQmT,QAAR,CAAiBtL,QAAQ,CAAC0L,KAA1B,CAZpB;MAAA,IAaEhJ,MAAM,GAAYvK,CAAC,CAAC,IAAD,CAAD,CAAQmT,QAAR,CAAiBtL,QAAQ,CAACgH,KAA1B,CAbpB;MAAA,IAcEA,KAAK,GAAatE,MAAM,CAAC,CAAD,CAd1B;MAAA,IAgBEyjB,WAAW,GAAO,KAhBpB;MAAA,IAiBEC,eAAe,GAAG,KAjBpB;MAAA,IAkBEpsB,QAAQ,GAAUF,OAAO,CAACG,IAAR,CAAaL,eAAb,CAlBpB;MAAA,IAoBE+Y,QApBF;MAAA,IAqBE5Y,OAAO,GAAW,IArBpB;MAAA,IAsBEG,MAtBF;MAyBAA,MAAM,GAAQ;QAEZE,UAAU,EAAE,YAAW;UACrBF,MAAM,CAACI,OAAP,CAAe,uBAAf,EAAwCf,QAAxC;UAEAW,MAAM,CAACsd,MAAP,CAAc9L,KAAd;UACAxR,MAAM,CAACiD,IAAP,CAAYyV,MAAZ;UAEA1Y,MAAM,CAACoH,GAAP,CAAW+kB,QAAX;UACAnsB,MAAM,CAACosB,IAAP,CAAYtf,KAAZ;UAEA9M,MAAM,CAAC2Y,cAAP;UACA3Y,MAAM,CAACG,WAAP;UACAH,MAAM,CAACqd,KAAP;QACD,CAdW;QAgBZld,WAAW,EAAE,YAAW;UACtBH,MAAM,CAACI,OAAP,CAAe,4BAAf,EAA6CJ,MAA7C;UACAF,QAAQ,GAAGE,MAAX;UACAJ,OAAO,CACJG,IADH,CACQL,eADR,EACyBM,MADzB;QAGD,CAtBW;QAwBZ4C,OAAO,EAAE,YAAW;UAClB5C,MAAM,CAACI,OAAP,CAAe,mBAAf;UACAJ,MAAM,CAACud,MAAP,CAAc7E,MAAd;UACA1Y,MAAM,CAACqsB,IAAP,CAAYvf,KAAZ;UACAlN,OAAO,CAACiD,UAAR,CAAmBnD,eAAnB;QACD,CA7BW;QA+BZY,GAAG,EAAE;UACHgsB,SAAS,EAAE,YAAW;YACpB,IAAI1sB,OAAO,CAACgK,EAAR,CAAW9D,QAAQ,CAACgH,KAApB,CAAJ,EAAiC;cAC/B9M,MAAM,CAACS,KAAP,CAAa,sDAAb;cACAb,OAAO,GAAGA,OAAO,CAAC2J,OAAR,CAAgBzD,QAAQ,CAACmF,QAAzB,CAAV;cACAjL,MAAM,CAACkH,OAAP;YACD;UACF;QAPE,CA/BO;QAyCZmW,KAAK,EAAE,YAAW;UAChBrd,MAAM,CAACoH,GAAP,CAAW6kB,WAAX;;UACA,IAAIjsB,MAAM,CAAC4J,EAAP,CAAU2iB,aAAV,EAAJ,EAAgC;YAC9BvsB,MAAM,CAACS,KAAP,CAAa,gCAAb;YACAT,MAAM,CAACusB,aAAP;UACD,CAHD,MAIK,IAAIvsB,MAAM,CAAC4J,EAAP,CAAUiL,OAAV,EAAJ,EAA0B;YAC7B7U,MAAM,CAACS,KAAP,CAAa,0BAAb;YACAT,MAAM,CAAC4e,KAAP;UACD,CAHI,MAIA;YACH5e,MAAM,CAACS,KAAP,CAAa,4BAAb;YACAT,MAAM,CAACwsB,OAAP;UACD;;UACDxsB,MAAM,CAACsK,MAAP,CAAc2hB,WAAd;QACD,CAxDW;QA0DZ/kB,OAAO,EAAE,YAAW;UAClB0H,MAAM,GAAGhP,OAAO,CAACwR,QAAR,CAAiBtL,QAAQ,CAAC0L,KAA1B,CAAT;UACAhJ,MAAM,GAAG5I,OAAO,CAACwR,QAAR,CAAiBtL,QAAQ,CAACgH,KAA1B,CAAT;UACAA,KAAK,GAAItE,MAAM,CAAC,CAAD,CAAf;QACD,CA9DW;QAgEZ4jB,IAAI,EAAE;UACJtf,KAAK,EAAE,YAAW;YAChB9M,MAAM,CAACI,OAAP,CAAe,8CAAf;YACAoI,MAAM,CAAC8I,QAAP,CAAgB3K,SAAS,CAAC8lB,MAA1B;UACD;QAJG,CAhEM;QAsEZJ,IAAI,EAAE;UACJvf,KAAK,EAAE,YAAW;YAChB9M,MAAM,CAACI,OAAP,CAAe,4CAAf;YACAoI,MAAM,CAAC6B,WAAP,CAAmB1D,SAAS,CAAC8lB,MAA7B;UACD;QAJG,CAtEM;QA6EZ9T,cAAc,EAAE,YAAW;UACzB,IAAG,sBAAsBza,MAAzB,EAAiC;YAC/Bua,QAAQ,GAAG,IAAIG,gBAAJ,CAAqB,UAASC,SAAT,EAAoB;cAClD7Y,MAAM,CAACS,KAAP,CAAa,4CAAb;cACAT,MAAM,CAACkH,OAAP;YACD,CAHU,CAAX;YAIAuR,QAAQ,CAACK,OAAT,CAAiBjZ,OAAjB,EAA0B;cACxBkZ,SAAS,EAAG,IADY;cAExBC,OAAO,EAAK;YAFY,CAA1B;YAIAhZ,MAAM,CAACS,KAAP,CAAa,8BAAb,EAA6CgY,QAA7C;UACD;QACF,CAzFW;QA2FZ3Q,YAAY,EAAE,UAAShC,QAAT,EAAmBmC,KAAnB,EAA0B;UACtC,IACEmB,QAAQ,GAAGnL,CAAC,CAAC6H,QAAD,CADd;UAGAmC,KAAK,GAAGhK,CAAC,CAACI,UAAF,CAAa2B,MAAM,CAACiI,KAAD,CAAnB,IACJjI,MAAM,CAACiI,KAAD,CADF,GAEJjI,MAAM,CAACkZ,MAFX;;UAIA,IAAG9P,QAAQ,CAAC9G,MAAT,GAAkB,CAArB,EAAwB;YACtBtC,MAAM,CAACS,KAAP,CAAa,sCAAb,EAAqDqF,QAArD,EAA+DmC,KAA/D;YACAmB,QAAQ,CACLpB,EADH,CACM,UAAUnB,cADhB,EACgCoB,KADhC;UAGD,CALD,MAMK;YACHjI,MAAM,CAACP,KAAP,CAAaA,KAAK,CAACitB,QAAnB;UACD;QACF,CA5GW;QA8GZC,2BAA2B,EAAE,YAAW;UACtC,IAAG,OAAO1kB,KAAP,KAAiB,WAAjB,IAAgCA,KAAK,KAAK,IAA1C,IAAkDhK,CAAC,CAACgK,KAAK,CAACie,MAAP,CAAD,CAAgBtc,EAAhB,CAAmB9D,QAAQ,CAACgH,KAA5B,CAArD,EAAyF;YACvF9M,MAAM,CAACI,OAAP,CAAe,2DAAf;YACA6H,KAAK,CAACC,cAAN;UACD;QACF,CAnHW;QAqHZD,KAAK,EAAE;UACLhG,MAAM,EAAE,UAASgG,KAAT,EAAgB;YACtB,IAAI,CAACjI,MAAM,CAAC4sB,MAAP,CAAc5Z,eAAd,EAAL,EAAuC;cACrC3T,QAAQ,CAAC2b,QAAT,CAAkB5b,IAAlB,CAAuB0N,KAAvB;YACD;UACF,CALI;UAMLmM,KAAK,EAAE,UAAShR,KAAT,EAAgB;YACrB,IACE4kB,OAAO,GAAG5uB,CAAC,CAACgK,KAAK,CAACie,MAAP,CADb;;YAGA,IAAI2G,OAAO,CAACjjB,EAAR,CAAW9D,QAAQ,CAACgH,KAApB,CAAJ,EAAiC;cAC/B9M,MAAM,CAACI,OAAP,CAAe,oDAAf;cACA;YACD;;YACD,IAAIysB,OAAO,CAACjjB,EAAR,CAAW9D,QAAQ,CAACuc,IAApB,CAAJ,EAAgC;cAC9BriB,MAAM,CAACS,KAAP,CAAa,gDAAb;cACA;YACD;;YACDT,MAAM,CAACkZ,MAAP;YACA1Q,MAAM,CAAC+K,KAAP;YACAtL,KAAK,CAACC,cAAN;UACD,CArBI;UAsBLI,OAAO,EAAE,UAASL,KAAT,EAAgB;YACvB,IACE0E,GAAG,GAAO1E,KAAK,CAAC2E,KADlB;YAAA,IAEEI,OAAO,GAAG;cACRC,KAAK,EAAI,EADD;cAER6f,KAAK,EAAI,EAFD;cAGR5f,MAAM,EAAG,EAHD;cAIRyY,IAAI,EAAK,EAJD;cAKRoH,EAAE,EAAO,EALD;cAMRC,KAAK,EAAI,EAND;cAORC,IAAI,EAAK;YAPD,CAFZ;YAaA,IAAI9N,CAAC,GAAGnf,MAAM,CAACiH,GAAP,CAAWimB,MAAX,EAAR;YAAA,IACIC,MAAM,GAAGhO,CAAC,CAACtd,KAAF,CAAQjC,OAAR,CADb;YAAA,IAEIwtB,IAAI,GAAGjO,CAAC,CAAC7c,MAFb;YAAA,IAGI+qB,UAAU,GAAG,KAHjB;;YAKA,IAAG1gB,GAAG,IAAIK,OAAO,CAAC2Y,IAAf,IAAuBhZ,GAAG,IAAIK,OAAO,CAAC+f,EAAzC,EAA6C;cAC3CM,UAAU,GAAG,CAACF,MAAM,KAAK,CAAX,GAAeC,IAAf,GAAsBD,MAAvB,IAAiC,CAA9C;YACD,CAFD,MAEO,IAAGxgB,GAAG,IAAIK,OAAO,CAACggB,KAAf,IAAwBrgB,GAAG,IAAIK,OAAO,CAACigB,IAA1C,EAAgD;cACrDI,UAAU,GAAGF,MAAM,KAAKC,IAAI,GAAC,CAAhB,GAAoB,CAApB,GAAwBD,MAAM,GAAC,CAA5C;YACD;;YAED,IAAI,CAACntB,MAAM,CAAC4sB,MAAP,CAAc5Z,eAAd,EAAD,IAAoCqa,UAAU,KAAK,KAAvD,EAA8D;cAC5D,IAAGhuB,QAAQ,CAACiuB,eAAT,CAAyBpqB,KAAzB,CAA+B4J,KAA/B,MAAwC,KAA3C,EAAkD;gBAChD9M,MAAM,CAACI,OAAP,CAAe,+DAAf;gBACA,OAAO,KAAP;cACD;;cACD,IAAIf,QAAQ,CAACkuB,aAAT,CAAuBrqB,KAAvB,CAA6BjF,CAAC,CAACkhB,CAAC,CAACkO,UAAD,CAAF,CAAD,CAAiBjc,QAAjB,CAA0BtL,QAAQ,CAACgH,KAAnC,EAA0C,CAA1C,CAA7B,MAA6E,KAAjF,EAAwF;gBACtF9M,MAAM,CAACI,OAAP,CAAe,+DAAf;gBACA,OAAO,KAAP;cACD;YACF;;YAED,IAAGuM,GAAG,IAAIK,OAAO,CAACE,MAAlB,EAA0B;cACxBlN,MAAM,CAACI,OAAP,CAAe,mCAAf;cACAoI,MAAM,CAACJ,IAAP;cACA8jB,eAAe,GAAG,IAAlB;YACD,CAJD,MAKK,IAAG,CAACjkB,KAAK,CAACkF,OAAP,KAAoBR,GAAG,IAAIK,OAAO,CAAC8f,KAAf,IAAyBngB,GAAG,IAAIK,OAAO,CAACC,KAAf,IAAwB5N,QAAQ,CAACmuB,cAA9E,CAAH,EAAoG;cACvGxtB,MAAM,CAACI,OAAP,CAAe,4CAAf;cACAJ,MAAM,CAACkZ,MAAP;cACAgT,eAAe,GAAG,IAAlB;YACD,CAJI,MAKA;cACHA,eAAe,GAAG,KAAlB;YACD;UACF,CAvEI;UAwEL7e,KAAK,EAAE,UAASpF,KAAT,EAAgB;YACrB,IAAGikB,eAAH,EAAoB;cAClBjkB,KAAK,CAACC,cAAN;YACD;UACF;QA5EI,CArHK;QAoMZ0W,KAAK,EAAE,YAAW;UAChB,IAAI,CAAC5e,MAAM,CAAC4sB,MAAP,CAAca,UAAd,EAAL,EAAkC;YAChC;UACD;;UACDztB,MAAM,CAACS,KAAP,CAAa,mBAAb,EAAkC+H,MAAlC;UACAxI,MAAM,CAACoH,GAAP,CAAWyN,OAAX;;UACA,IAAI,CAAC7U,MAAM,CAAC4sB,MAAP,CAAc5Z,eAAd,EAAL,EAAuC;YACrC3T,QAAQ,CAACquB,SAAT,CAAmBtuB,IAAnB,CAAwB0N,KAAxB;YACA9M,MAAM,CAACqS,OAAP,CAAepQ,MAAf;UACD;;UACDjC,MAAM,CAAC2sB,2BAAP;QACD,CA/MW;QAiNZH,OAAO,EAAE,YAAW;UAClB,IAAI,CAACxsB,MAAM,CAAC4sB,MAAP,CAAce,YAAd,EAAL,EAAoC;YAClC;UACD;;UACD3tB,MAAM,CAACS,KAAP,CAAa,qBAAb;UACAT,MAAM,CAACoH,GAAP,CAAWwmB,SAAX;;UACA,IAAI,CAAC5tB,MAAM,CAAC4sB,MAAP,CAAc5Z,eAAd,EAAL,EAAuC;YACrC3T,QAAQ,CAACwuB,WAAT,CAAqBzuB,IAArB,CAA0B0N,KAA1B;YACA9M,MAAM,CAACqS,OAAP,CAAepQ,MAAf;UACD;;UACDjC,MAAM,CAAC2sB,2BAAP;QACD,CA5NW;QA8NZJ,aAAa,EAAE,YAAW;UACxB,IAAIvsB,MAAM,CAAC4sB,MAAP,CAAckB,kBAAd,EAAJ,EAAyC;YACvC9tB,MAAM,CAACS,KAAP,CAAa,mCAAb;YACA;UACD;;UACDT,MAAM,CAACS,KAAP,CAAa,+BAAb;UACAT,MAAM,CAACoH,GAAP,CAAWmlB,aAAX;;UACA,IAAI,CAACvsB,MAAM,CAAC4sB,MAAP,CAAc5Z,eAAd,EAAL,EAAuC;YACrC3T,QAAQ,CAAC0uB,eAAT,CAAyB3uB,IAAzB,CAA8B0N,KAA9B;YACA9M,MAAM,CAACqS,OAAP,CAAepQ,MAAf;UACD;QACF,CAzOW;QA2OZ+rB,WAAW,EAAE,YAAW;UACtB,IAAIhuB,MAAM,CAAC4sB,MAAP,CAAcqB,gBAAd,EAAJ,EAAuC;YACrCjuB,MAAM,CAACS,KAAP,CAAa,iCAAb;YACA;UACD;;UACDT,MAAM,CAACS,KAAP,CAAa,6BAAb;UACAT,MAAM,CAACoH,GAAP,CAAW4mB,WAAX;;UACA,IAAI,CAAChuB,MAAM,CAAC4sB,MAAP,CAAc5Z,eAAd,EAAL,EAAuC;YACrC3T,QAAQ,CAAC6uB,aAAT,CAAuB9uB,IAAvB,CAA4B0N,KAA5B;YACA9M,MAAM,CAACqS,OAAP,CAAepQ,MAAf;UACD;QACF,CAtPW;QAwPZO,MAAM,EAAE,YAAW;UACjB,IAAIxC,MAAM,CAAC4J,EAAP,CAAUnI,OAAV,EAAJ,EAA0B;YACxBzB,MAAM,CAACS,KAAP,CAAa,6BAAb;YACA;UACD;;UACDT,MAAM,CAACS,KAAP,CAAa,mBAAb;UACAT,MAAM,CAACoH,GAAP,CAAW3F,OAAX;;UACA,IAAI,CAACzB,MAAM,CAAC4sB,MAAP,CAAc5Z,eAAd,EAAL,EAAuC;YACrC3T,QAAQ,CAAC8uB,QAAT,CAAkB/uB,IAAlB,CAAuB0N,KAAvB,EADqC,CAErC;;YACAzN,QAAQ,CAAC+uB,SAAT,CAAmBhvB,IAAnB,CAAwB0N,KAAxB;YACA9M,MAAM,CAACqS,OAAP,CAAepQ,MAAf;UACD;QACF,CArQW;QAuQZtB,OAAO,EAAE,YAAW;UAClB,IAAIX,MAAM,CAAC4J,EAAP,CAAU7H,QAAV,EAAJ,EAA2B;YACzB/B,MAAM,CAACS,KAAP,CAAa,8BAAb;YACA;UACD;;UACDT,MAAM,CAACS,KAAP,CAAa,oBAAb;UACAT,MAAM,CAACoH,GAAP,CAAWrF,QAAX;;UACA,IAAI,CAAC/B,MAAM,CAAC4sB,MAAP,CAAc5Z,eAAd,EAAL,EAAuC;YACrC3T,QAAQ,CAACgvB,SAAT,CAAmBjvB,IAAnB,CAAwB0N,KAAxB,EADqC,CAErC;;YACAzN,QAAQ,CAACivB,UAAT,CAAoBlvB,IAApB,CAAyB0N,KAAzB;YACA9M,MAAM,CAACqS,OAAP,CAAepQ,MAAf;UACD;QACF,CApRW;QAsRZgF,GAAG,EAAE;UACHimB,MAAM,EAAE,YAAW;YACjB,IACE1rB,IAAI,GAAGxB,MAAM,CAACiH,GAAP,CAAWzF,IAAX,EADT;YAGA,OAAOvD,CAAC,CAAC,iBAAiBuD,IAAjB,GAAwB,IAAzB,CAAD,CAAgC+H,OAAhC,CAAwCzD,QAAQ,CAACmF,QAAjD,CAAP;UACD,CANE;UAOHsjB,WAAW,EAAE,YAAW;YACtB,OAAOvuB,MAAM,CAACiH,GAAP,CAAWimB,MAAX,GAAoBnY,GAApB,CAAwBnV,OAAxB,CAAP;UACD,CATE;UAUH4B,IAAI,EAAE,YAAW;YACf,OAAOgH,MAAM,CAACqK,IAAP,CAAY,MAAZ,CAAP;UACD;QAZE,CAtRO;QAqSZjJ,EAAE,EAAE;UACFqiB,WAAW,EAAE,YAAW;YACtB,OAAOA,WAAP;UACD,CAHC;UAIF9b,KAAK,EAAE,YAAW;YAChB,OAAQ3H,MAAM,CAAC4B,QAAP,CAAgBzD,SAAS,CAACwJ,KAA1B,KAAoC3H,MAAM,CAACqK,IAAP,CAAY,MAAZ,KAAuB,OAAnE;UACD,CANC;UAOF0Z,aAAa,EAAE,YAAW;YACxB,OAAO/jB,MAAM,CAACE,IAAP,CAAY,eAAZ,MAAiCtK,SAAjC,IAA8CoK,MAAM,CAACE,IAAP,CAAY,eAAZ,CAArD;UACD,CATC;UAUFmM,OAAO,EAAE,YAAW;YAClB,OAAOrM,MAAM,CAACE,IAAP,CAAY,SAAZ,MAA2BtK,SAA3B,IAAwCoK,MAAM,CAACE,IAAP,CAAY,SAAZ,CAA/C;UACD,CAZC;UAaF3G,QAAQ,EAAE,YAAW;YACnB,OAAOyG,MAAM,CAACE,IAAP,CAAY,UAAZ,MAA4BtK,SAA5B,IAAyCoK,MAAM,CAACE,IAAP,CAAY,UAAZ,CAAhD;UACD,CAfC;UAgBFjH,OAAO,EAAE,YAAW;YAClB,OAAO,CAACzB,MAAM,CAAC4J,EAAP,CAAU7H,QAAV,EAAR;UACD,CAlBC;UAmBFisB,WAAW,EAAE,YAAW;YACtB,OAAO,CAAChuB,MAAM,CAAC4J,EAAP,CAAU2iB,aAAV,EAAR;UACD,CArBC;UAsBFqB,SAAS,EAAE,YAAW;YACpB,OAAO,CAAC5tB,MAAM,CAAC4J,EAAP,CAAUiL,OAAV,EAAR;UACD;QAxBC,CArSQ;QAgUZ+X,MAAM,EAAE;UACNa,UAAU,EAAE,YAAW;YACrB,IAAGztB,MAAM,CAAC4J,EAAP,CAAUokB,WAAV,MAA2BhuB,MAAM,CAAC4J,EAAP,CAAUiL,OAAV,EAA3B,IAAkD,CAAC7U,MAAM,CAAC4J,EAAP,CAAUqiB,WAAV,EAAtD,EAAgF;cAC9EjsB,MAAM,CAACS,KAAP,CAAa,qDAAb;cACA,OAAO,KAAP;YACD;;YACD,IAAG,CAACT,MAAM,CAAC4sB,MAAP,CAAc5Z,eAAd,EAAD,IAAoC3T,QAAQ,CAACkuB,aAAT,CAAuBrqB,KAAvB,CAA6B4J,KAA7B,MAAwC,KAA/E,EAAsF;cACpF9M,MAAM,CAACS,KAAP,CAAa,iDAAb;cACA,OAAO,KAAP;YACD;;YACD,OAAO,IAAP;UACD,CAXK;UAYNktB,YAAY,EAAE,YAAW;YACvB,IAAG3tB,MAAM,CAAC4J,EAAP,CAAUokB,WAAV,MAA2BhuB,MAAM,CAAC4J,EAAP,CAAUgkB,SAAV,EAA3B,IAAoD,CAAC5tB,MAAM,CAAC4J,EAAP,CAAUqiB,WAAV,EAAxD,EAAkF;cAChFjsB,MAAM,CAACS,KAAP,CAAa,yDAAb;cACA,OAAO,KAAP;YACD;;YACD,IAAG,CAACT,MAAM,CAAC4sB,MAAP,CAAc5Z,eAAd,EAAD,IAAoC3T,QAAQ,CAACiuB,eAAT,CAAyBpqB,KAAzB,CAA+B4J,KAA/B,MAA0C,KAAjF,EAAwF;cACtF9M,MAAM,CAACS,KAAP,CAAa,qDAAb;cACA,OAAO,KAAP;YACD;;YACD,OAAO,IAAP;UACD,CAtBK;UAuBNqtB,kBAAkB,EAAE,YAAW;YAC7B,IAAG9tB,MAAM,CAAC4J,EAAP,CAAU2iB,aAAV,MAA6B,CAACvsB,MAAM,CAAC4J,EAAP,CAAUqiB,WAAV,EAAjC,EAA2D;cACzDjsB,MAAM,CAACS,KAAP,CAAa,mEAAb;cACA,OAAO,KAAP;YACD;;YACD,IAAG,CAACT,MAAM,CAAC4sB,MAAP,CAAc5Z,eAAd,EAAD,IAAoC3T,QAAQ,CAACmvB,mBAAT,CAA6BtrB,KAA7B,CAAmC4J,KAAnC,MAA8C,KAArF,EAA4F;cAC1F9M,MAAM,CAACS,KAAP,CAAa,+DAAb;cACA,OAAO,KAAP;YACD;;YACD,OAAO,IAAP;UACD,CAjCK;UAkCNwtB,gBAAgB,EAAE,YAAW;YAC3B,IAAGjuB,MAAM,CAAC4J,EAAP,CAAUokB,WAAV,MAA2B,CAAChuB,MAAM,CAAC4J,EAAP,CAAUqiB,WAAV,EAA/B,EAAyD;cACvDjsB,MAAM,CAACS,KAAP,CAAa,+DAAb;cACA,OAAO,KAAP;YACD;;YACD,IAAG,CAACT,MAAM,CAAC4sB,MAAP,CAAc5Z,eAAd,EAAD,IAAoC3T,QAAQ,CAACovB,iBAAT,CAA2BvrB,KAA3B,CAAiC4J,KAAjC,MAA4C,KAAnF,EAA0F;cACxF9M,MAAM,CAACS,KAAP,CAAa,2DAAb;cACA,OAAO,KAAP;YACD;;YACD,OAAO,IAAP;UACD,CA5CK;UA6CNuS,eAAe,EAAE,YAAW;YAC1B,OAAQiZ,WAAW,IAAI,CAAC5sB,QAAQ,CAACqvB,UAAjC;UACD;QA/CK,CAhUI;QAkXZ1kB,GAAG,EAAE;UACH/H,MAAM,EAAE,YAAW;YACjB,OAAO,EAAGrC,OAAO,CAACwK,QAAR,CAAiBzD,SAAS,CAAC5E,QAA3B,KAAwCnC,OAAO,CAACwK,QAAR,CAAiBzD,SAAS,CAACgoB,QAA3B,CAAxC,IAAgFnmB,MAAM,CAACE,IAAP,CAAY,UAAZ,CAAhF,IAA2GF,MAAM,CAACE,IAAP,CAAY,UAAZ,CAA9G,CAAP;UACD,CAHE;UAIH8jB,OAAO,EAAE,YAAW;YAClB,OAAQ,OAAOntB,QAAQ,CAACuvB,WAAhB,KAAgC,SAAjC,GACHvvB,QAAQ,CAACuvB,WADN,GAEH,CAAC5uB,MAAM,CAAC4J,EAAP,CAAUuG,KAAV,EAFL;UAID;QATE,CAlXO;QA8XZ/I,GAAG,EAAE;UACH6kB,WAAW,EAAE,YAAW;YACtBA,WAAW,GAAG,IAAd;UACD,CAHE;UAIHpX,OAAO,EAAE,YAAW;YAClB7U,MAAM,CAACI,OAAP,CAAe,0BAAf;YACAR,OAAO,CACJyK,WADH,CACe1D,SAAS,CAAC4lB,aADzB,EAEGjb,QAFH,CAEY3K,SAAS,CAACkO,OAFtB;;YAIA,IAAI7U,MAAM,CAAC4J,EAAP,CAAUuG,KAAV,EAAJ,EAAwB;cACtBnQ,MAAM,CAAC6uB,aAAP;YACD;;YACD,IAAG,CAAC7uB,MAAM,CAAC4J,EAAP,CAAU2iB,aAAV,EAAD,IAA8BvsB,MAAM,CAAC4J,EAAP,CAAUiL,OAAV,EAAjC,EAAsD;cACpD7U,MAAM,CAACS,KAAP,CAAa,0DAAb;cACA;YACD;;YACDT,MAAM,CAACI,OAAP,CAAe,0BAAf,EAA2C0M,KAA3C;YACAtE,MAAM,CACHE,IADH,CACQ,eADR,EACyB,KADzB,EAEGA,IAFH,CAEQ,SAFR,EAEmB,IAFnB;UAID,CAtBE;UAuBHklB,SAAS,EAAE,YAAW;YACpB5tB,MAAM,CAACI,OAAP,CAAe,wBAAf;YACAR,OAAO,CACJyK,WADH,CACe1D,SAAS,CAAC4lB,aADzB,EAEGliB,WAFH,CAEe1D,SAAS,CAACkO,OAFzB;;YAIA,IAAG,CAAC7U,MAAM,CAAC4J,EAAP,CAAU2iB,aAAV,EAAD,IAA+BvsB,MAAM,CAAC4J,EAAP,CAAUgkB,SAAV,EAAlC,EAA0D;cACxD5tB,MAAM,CAACS,KAAP,CAAa,4BAAb;cACA;YACD;;YACDT,MAAM,CAACS,KAAP,CAAa,4BAAb;YACA+H,MAAM,CACHE,IADH,CACQ,eADR,EACyB,KADzB,EAEGA,IAFH,CAEQ,SAFR,EAEmB,KAFnB;UAID,CAtCE;UAuCH6jB,aAAa,EAAE,YAAW;YACxBvsB,MAAM,CAACI,OAAP,CAAe,gCAAf;YACAR,OAAO,CACJ0R,QADH,CACY3K,SAAS,CAAC4lB,aADtB;;YAGA,IAAIvsB,MAAM,CAAC4J,EAAP,CAAU2iB,aAAV,EAAJ,EAAgC;cAC9BvsB,MAAM,CAACS,KAAP,CAAa,gEAAb;cACA;YACD;;YACDT,MAAM,CAACS,KAAP,CAAa,gCAAb;YACA+H,MAAM,CACHE,IADH,CACQ,eADR,EACyB,IADzB;UAGD,CApDE;UAqDHslB,WAAW,EAAE,YAAW;YACtBhuB,MAAM,CAACI,OAAP,CAAe,8BAAf;YACAR,OAAO,CACJyK,WADH,CACe1D,SAAS,CAAC4lB,aADzB;;YAGA,IAAIvsB,MAAM,CAAC4J,EAAP,CAAUokB,WAAV,EAAJ,EAA8B;cAC5BhuB,MAAM,CAACS,KAAP,CAAa,8DAAb;cACA;YACD;;YACDT,MAAM,CAACS,KAAP,CAAa,8BAAb;YACA+H,MAAM,CACHE,IADH,CACQ,eADR,EACyB,KADzB;UAGD,CAlEE;UAmEH3G,QAAQ,EAAE,YAAW;YACnB/B,MAAM,CAACI,OAAP,CAAe,2BAAf;YACAR,OAAO,CACJ0R,QADH,CACY3K,SAAS,CAAC5E,QADtB;;YAGA,IAAI/B,MAAM,CAAC4J,EAAP,CAAU7H,QAAV,EAAJ,EAA2B;cACzB/B,MAAM,CAACS,KAAP,CAAa,2DAAb;cACA;YACD;;YACDT,MAAM,CAACS,KAAP,CAAa,2BAAb;YACA+H,MAAM,CACHE,IADH,CACQ,UADR,EACoB,UADpB;UAGD,CAhFE;UAiFHjH,OAAO,EAAE,YAAW;YAClBzB,MAAM,CAACI,OAAP,CAAe,yBAAf;YACAR,OAAO,CAACyK,WAAR,CAAoB1D,SAAS,CAAC5E,QAA9B;;YACA,IAAI/B,MAAM,CAAC4J,EAAP,CAAUnI,OAAV,EAAJ,EAA0B;cACxBzB,MAAM,CAACS,KAAP,CAAa,0DAAb;cACA;YACD;;YACDT,MAAM,CAACS,KAAP,CAAa,0BAAb;YACA+H,MAAM,CACHE,IADH,CACQ,UADR,EACoB,KADpB;UAGD,CA5FE;UA6FHyjB,QAAQ,EAAE,YAAW;YACnBnsB,MAAM,CAACI,OAAP,CAAe,6BAAf;;YACA,IAAIoI,MAAM,CAACqK,IAAP,CAAY,UAAZ,MAA4BzU,SAAhC,EAA2C;cACzCoK,MAAM,CAACqK,IAAP,CAAY,UAAZ,EAAwB,CAAxB;YACD;UACF;QAlGE,CA9XO;QAmeZvI,MAAM,EAAE;UACN2hB,WAAW,EAAE,YAAW;YACtBA,WAAW,GAAG,KAAd;UACD;QAHK,CAneI;QAyeZ5Z,OAAO,EAAE;UACPpQ,MAAM,EAAE,YAAW;YACjB,IACE8c,YAAY,GAAGvW,MAAM,CAAC,CAAD,CADvB;;YAGA,IAAGuW,YAAH,EAAiB;cACf,IAAIrG,MAAM,GAAGva,QAAQ,CAAC6gB,WAAT,CAAqB,YAArB,CAAb;cACAhf,MAAM,CAACI,OAAP,CAAe,gCAAf;cACAsY,MAAM,CAACuG,SAAP,CAAiB,QAAjB,EAA2B,IAA3B,EAAiC,KAAjC;cACAF,YAAY,CAACG,aAAb,CAA2BxG,MAA3B;YACD;UACF;QAXM,CAzeG;QAwfZ4E,MAAM,EAAE;UACN9L,KAAK,EAAE,YAAW;YAChB,IAAGhJ,MAAM,CAACsmB,OAAP,CAAehpB,QAAQ,CAAC0L,KAAxB,EAA+BlP,MAA/B,GAAwC,CAA3C,EAA8C;cAC5CkG,MAAM,CAAC+S,IAAP,CAAYzV,QAAQ,CAAC0L,KAArB,EAA4Bud,MAA5B,GAAqCC,WAArC,CAAiDxmB,MAAjD;cACAxI,MAAM,CAACS,KAAP,CAAa,uBAAb,EAAsCmO,MAAtC;YACD,CAHD,MAIK,IAAI,CAAC5O,MAAM,CAAC6Q,GAAP,CAAWW,KAAX,EAAL,EAA0B;cAC7B5C,MAAM,GAAG3Q,CAAC,CAAC,SAAD,CAAD,CAAa+wB,WAAb,CAAyBxmB,MAAzB,CAAT;cACAxI,MAAM,CAACS,KAAP,CAAa,gBAAb,EAA+BmO,MAA/B;YACD;UACF;QAVK,CAxfI;QAqgBZiC,GAAG,EAAE;UACHW,KAAK,EAAE,YAAW;YAChB,OAAQ5C,MAAM,CAACtM,MAAP,GAAgB,CAAxB;UACD;QAHE,CArgBO;QA2gBZW,IAAI,EAAE;UACJyV,MAAM,EAAE,YAAW;YACjB1Y,MAAM,CAACI,OAAP,CAAe,2BAAf;YACAR,OAAO,CACJoI,EADH,CACM,UAAYnB,cADlB,EACkC7G,MAAM,CAACiI,KAAP,CAAagR,KAD/C,EAEGjR,EAFH,CAEM,WAAYnB,cAFlB,EAEkC7G,MAAM,CAACiI,KAAP,CAAahG,MAF/C,EAGG+F,EAHH,CAGM,YAAYnB,cAHlB,EAGkCf,QAAQ,CAACgH,KAH3C,EAGkD9M,MAAM,CAACiI,KAAP,CAAaK,OAH/D,EAIGN,EAJH,CAIM,UAAYnB,cAJlB,EAIkCf,QAAQ,CAACgH,KAJ3C,EAIkD9M,MAAM,CAACiI,KAAP,CAAaoF,KAJ/D;UAMD;QATG,CA3gBM;QAuhBZkQ,MAAM,EAAE;UACN7E,MAAM,EAAE,YAAW;YACjB1Y,MAAM,CAACS,KAAP,CAAa,iBAAb;YACAb,OAAO,CACJ8M,GADH,CACO7F,cADP;UAGD;QANK,CAvhBI;QAgiBZgoB,aAAa,EAAE,YAAW;UACxB,IACEI,OAAO,GAAGjvB,MAAM,CAACiH,GAAP,CAAWsnB,WAAX,EADZ;UAGAvuB,MAAM,CAACS,KAAP,CAAa,yBAAb,EAAwCwuB,OAAxC;UACAA,OAAO,CAAC5kB,WAAR,CAAoB1D,SAAS,CAACkO,OAA9B;QACD,CAtiBW;QAwiBZqE,MAAM,EAAE,YAAW;UACjB,IAAI,CAAClZ,MAAM,CAACgK,GAAP,CAAW/H,MAAX,EAAL,EAA2B;YACzB,IAAG,CAACjC,MAAM,CAAC4J,EAAP,CAAUuG,KAAV,EAAJ,EAAuB;cACrBnQ,MAAM,CAACS,KAAP,CAAa,oDAAb;YACD;;YACD;UACD;;UACD,IAAIT,MAAM,CAAC4J,EAAP,CAAU2iB,aAAV,MAA6BvsB,MAAM,CAAC4J,EAAP,CAAUgkB,SAAV,EAAjC,EAAyD;YACvD5tB,MAAM,CAACS,KAAP,CAAa,qBAAb;YACAT,MAAM,CAAC4e,KAAP;UACD,CAHD,MAIK,IAAI5e,MAAM,CAAC4J,EAAP,CAAUiL,OAAV,MAAuB7U,MAAM,CAACgK,GAAP,CAAWwiB,OAAX,EAA3B,EAAkD;YACrDxsB,MAAM,CAACS,KAAP,CAAa,mBAAb;YACAT,MAAM,CAACwsB,OAAP;UACD;QACF,CAvjBW;QAwjBZtqB,OAAO,EAAE,UAASV,IAAT,EAAeW,KAAf,EAAsB;UAC7BnC,MAAM,CAACS,KAAP,CAAa,kBAAb,EAAiCe,IAAjC,EAAuCW,KAAvC;;UACA,IAAIlE,CAAC,CAACqB,aAAF,CAAgBkC,IAAhB,CAAJ,EAA4B;YAC1BvD,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAeF,QAAf,EAAyBmC,IAAzB;UACD,CAFD,MAGK,IAAGW,KAAK,KAAK/D,SAAb,EAAwB;YAC3B,IAAGH,CAAC,CAACqB,aAAF,CAAgBD,QAAQ,CAACmC,IAAD,CAAxB,CAAH,EAAoC;cAClCvD,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAeF,QAAQ,CAACmC,IAAD,CAAvB,EAA+BW,KAA/B;YACD,CAFD,MAGK;cACH9C,QAAQ,CAACmC,IAAD,CAAR,GAAiBW,KAAjB;YACD;UACF,CAPI,MAQA;YACH,OAAO9C,QAAQ,CAACmC,IAAD,CAAf;UACD;QACF,CAxkBW;QAykBZsB,QAAQ,EAAE,UAAStB,IAAT,EAAeW,KAAf,EAAsB;UAC9B,IAAIlE,CAAC,CAACqB,aAAF,CAAgBkC,IAAhB,CAAJ,EAA4B;YAC1BvD,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAeS,MAAf,EAAuBwB,IAAvB;UACD,CAFD,MAGK,IAAGW,KAAK,KAAK/D,SAAb,EAAwB;YAC3B4B,MAAM,CAACwB,IAAD,CAAN,GAAeW,KAAf;UACD,CAFI,MAGA;YACH,OAAOnC,MAAM,CAACwB,IAAD,CAAb;UACD;QACF,CAnlBW;QAolBZf,KAAK,EAAE,YAAW;UAChB,IAAG,CAACpB,QAAQ,CAACgV,MAAV,IAAoBhV,QAAQ,CAACoB,KAAhC,EAAuC;YACrC,IAAGpB,QAAQ,CAACP,WAAZ,EAAyB;cACvBkB,MAAM,CAAClB,WAAP,CAAmB4B,GAAnB,CAAuB1B,SAAvB;YACD,CAFD,MAGK;cACHgB,MAAM,CAACS,KAAP,GAAesC,QAAQ,CAACC,SAAT,CAAmBC,IAAnB,CAAwB7D,IAAxB,CAA6BmB,OAAO,CAACmC,IAArC,EAA2CnC,OAA3C,EAAoDlB,QAAQ,CAACmC,IAAT,GAAgB,GAApE,CAAf;cACAxB,MAAM,CAACS,KAAP,CAAayC,KAAb,CAAmB3C,OAAnB,EAA4BvB,SAA5B;YACD;UACF;QACF,CA9lBW;QA+lBZoB,OAAO,EAAE,YAAW;UAClB,IAAG,CAACf,QAAQ,CAACgV,MAAV,IAAoBhV,QAAQ,CAACe,OAA7B,IAAwCf,QAAQ,CAACoB,KAApD,EAA2D;YACzD,IAAGpB,QAAQ,CAACP,WAAZ,EAAyB;cACvBkB,MAAM,CAAClB,WAAP,CAAmB4B,GAAnB,CAAuB1B,SAAvB;YACD,CAFD,MAGK;cACHgB,MAAM,CAACI,OAAP,GAAiB2C,QAAQ,CAACC,SAAT,CAAmBC,IAAnB,CAAwB7D,IAAxB,CAA6BmB,OAAO,CAACmC,IAArC,EAA2CnC,OAA3C,EAAoDlB,QAAQ,CAACmC,IAAT,GAAgB,GAApE,CAAjB;cACAxB,MAAM,CAACI,OAAP,CAAe8C,KAAf,CAAqB3C,OAArB,EAA8BvB,SAA9B;YACD;UACF;QACF,CAzmBW;QA0mBZS,KAAK,EAAE,YAAW;UAChB,IAAG,CAACJ,QAAQ,CAACgV,MAAb,EAAqB;YACnBrU,MAAM,CAACP,KAAP,GAAesD,QAAQ,CAACC,SAAT,CAAmBC,IAAnB,CAAwB7D,IAAxB,CAA6BmB,OAAO,CAACd,KAArC,EAA4Cc,OAA5C,EAAqDlB,QAAQ,CAACmC,IAAT,GAAgB,GAArE,CAAf;YACAxB,MAAM,CAACP,KAAP,CAAayD,KAAb,CAAmB3C,OAAnB,EAA4BvB,SAA5B;UACD;QACF,CA/mBW;QAgnBZF,WAAW,EAAE;UACX4B,GAAG,EAAE,UAASyC,OAAT,EAAkB;YACrB,IACEC,WADF,EAEEC,aAFF,EAGEC,YAHF;;YAKA,IAAGjE,QAAQ,CAACP,WAAZ,EAAyB;cACvBsE,WAAW,GAAK,IAAIxE,IAAJ,GAAWC,OAAX,EAAhB;cACAyE,YAAY,GAAI3E,IAAI,IAAIyE,WAAxB;cACAC,aAAa,GAAGD,WAAW,GAAGE,YAA9B;cACA3E,IAAI,GAAYyE,WAAhB;cACAtE,WAAW,CAACgD,IAAZ,CAAiB;gBACf,QAAmBqB,OAAO,CAAC,CAAD,CADX;gBAEf,aAAmB,GAAGhE,KAAH,CAASC,IAAT,CAAc+D,OAAd,EAAuB,CAAvB,KAA6B,EAFjC;gBAGf,WAAmBtD,OAHJ;gBAIf,kBAAmBwD;cAJJ,CAAjB;YAMD;;YACDE,YAAY,CAACvD,MAAM,CAAClB,WAAP,CAAmB0E,KAApB,CAAZ;YACAxD,MAAM,CAAClB,WAAP,CAAmB0E,KAAnB,GAA2BlC,UAAU,CAACtB,MAAM,CAAClB,WAAP,CAAmB2E,OAApB,EAA6B,GAA7B,CAArC;UACD,CArBU;UAsBXA,OAAO,EAAE,YAAW;YAClB,IACEC,KAAK,GAAGrE,QAAQ,CAACmC,IAAT,GAAgB,GAD1B;YAAA,IAEEmC,SAAS,GAAG,CAFd;YAIAhF,IAAI,GAAG,KAAP;YACA4E,YAAY,CAACvD,MAAM,CAAClB,WAAP,CAAmB0E,KAApB,CAAZ;YACAvF,CAAC,CAAC2D,IAAF,CAAO9C,WAAP,EAAoB,UAAS+C,KAAT,EAAgB9B,IAAhB,EAAsB;cACxC4D,SAAS,IAAI5D,IAAI,CAAC,gBAAD,CAAjB;YACD,CAFD;YAGA2D,KAAK,IAAI,MAAMC,SAAN,GAAkB,IAA3B;;YACA,IAAGkC,cAAH,EAAmB;cACjBnC,KAAK,IAAI,QAAQmC,cAAR,GAAyB,IAAlC;YACD;;YACD,IAAI,CAACtF,OAAO,CAACK,KAAR,KAAkBxC,SAAlB,IAA+BmC,OAAO,CAACqD,KAAR,KAAkBxF,SAAlD,KAAgEU,WAAW,CAACwD,MAAZ,GAAqB,CAAzF,EAA4F;cAC1F/B,OAAO,CAACO,cAAR,CAAuB4C,KAAvB;;cACA,IAAGnD,OAAO,CAACqD,KAAX,EAAkB;gBAChBrD,OAAO,CAACqD,KAAR,CAAc9E,WAAd;cACD,CAFD,MAGK;gBACHb,CAAC,CAAC2D,IAAF,CAAO9C,WAAP,EAAoB,UAAS+C,KAAT,EAAgB9B,IAAhB,EAAsB;kBACxCQ,OAAO,CAACG,GAAR,CAAYX,IAAI,CAAC,MAAD,CAAJ,GAAe,IAAf,GAAsBA,IAAI,CAAC,gBAAD,CAA1B,GAA6C,IAAzD;gBACD,CAFD;cAGD;;cACDQ,OAAO,CAACM,QAAR;YACD;;YACD/B,WAAW,GAAG,EAAd;UACD;QAjDU,CAhnBD;QAmqBZ+E,MAAM,EAAE,UAAS9E,KAAT,EAAgB+E,eAAhB,EAAiCC,OAAjC,EAA0C;UAChD,IACEC,MAAM,GAAGlE,QADX;UAAA,IAEEmE,QAFF;UAAA,IAGEC,KAHF;UAAA,IAIEC,QAJF;UAMAL,eAAe,GAAGA,eAAe,IAAI5E,cAArC;UACA6E,OAAO,GAAWlE,OAAO,IAAYkE,OAArC;;UACA,IAAG,OAAOhF,KAAP,IAAgB,QAAhB,IAA4BiF,MAAM,KAAK5F,SAA1C,EAAqD;YACnDW,KAAK,GAAMA,KAAK,CAACqF,KAAN,CAAY,OAAZ,CAAX;YACAH,QAAQ,GAAGlF,KAAK,CAACuD,MAAN,GAAe,CAA1B;YACArE,CAAC,CAAC2D,IAAF,CAAO7C,KAAP,EAAc,UAASsF,KAAT,EAAgBlC,KAAhB,EAAuB;cACnC,IAAImC,cAAc,GAAID,KAAK,IAAIJ,QAAV,GACjB9B,KAAK,GAAGpD,KAAK,CAACsF,KAAK,GAAG,CAAT,CAAL,CAAiBE,MAAjB,CAAwB,CAAxB,EAA2BC,WAA3B,EAAR,GAAmDzF,KAAK,CAACsF,KAAK,GAAG,CAAT,CAAL,CAAiBlF,KAAjB,CAAuB,CAAvB,CADlC,GAEjBJ,KAFJ;;cAIA,IAAId,CAAC,CAACqB,aAAF,CAAiB0E,MAAM,CAACM,cAAD,CAAvB,KAA8CD,KAAK,IAAIJ,QAA3D,EAAuE;gBACrED,MAAM,GAAGA,MAAM,CAACM,cAAD,CAAf;cACD,CAFD,MAGK,IAAIN,MAAM,CAACM,cAAD,CAAN,KAA2BlG,SAA/B,EAA2C;gBAC9C8F,KAAK,GAAGF,MAAM,CAACM,cAAD,CAAd;gBACA,OAAO,KAAP;cACD,CAHI,MAIA,IAAIrG,CAAC,CAACqB,aAAF,CAAiB0E,MAAM,CAAC7B,KAAD,CAAvB,KAAqCkC,KAAK,IAAIJ,QAAlD,EAA8D;gBACjED,MAAM,GAAGA,MAAM,CAAC7B,KAAD,CAAf;cACD,CAFI,MAGA,IAAI6B,MAAM,CAAC7B,KAAD,CAAN,KAAkB/D,SAAtB,EAAkC;gBACrC8F,KAAK,GAAGF,MAAM,CAAC7B,KAAD,CAAd;gBACA,OAAO,KAAP;cACD,CAHI,MAIA;gBACHnC,MAAM,CAACP,KAAP,CAAaA,KAAK,CAACgF,MAAnB,EAA2B1F,KAA3B;gBACA,OAAO,KAAP;cACD;YACF,CAvBD;UAwBD;;UACD,IAAKd,CAAC,CAACI,UAAF,CAAc6F,KAAd,CAAL,EAA6B;YAC3BC,QAAQ,GAAGD,KAAK,CAAChB,KAAN,CAAYa,OAAZ,EAAqBD,eAArB,CAAX;UACD,CAFD,MAGK,IAAGI,KAAK,KAAK9F,SAAb,EAAwB;YAC3B+F,QAAQ,GAAGD,KAAX;UACD;;UACD,IAAGQ,KAAK,CAACC,OAAN,CAAc1E,aAAd,CAAH,EAAiC;YAC/BA,aAAa,CAAC6B,IAAd,CAAmBqC,QAAnB;UACD,CAFD,MAGK,IAAGlE,aAAa,KAAK7B,SAArB,EAAgC;YACnC6B,aAAa,GAAG,CAACA,aAAD,EAAgBkE,QAAhB,CAAhB;UACD,CAFI,MAGA,IAAGA,QAAQ,KAAK/F,SAAhB,EAA2B;YAC9B6B,aAAa,GAAGkE,QAAhB;UACD;;UACD,OAAOD,KAAP;QACD;MAxtBW,CAAd;;MA2tBA,IAAGjF,aAAH,EAAkB;QAChB,IAAGa,QAAQ,KAAK1B,SAAhB,EAA2B;UACzB4B,MAAM,CAACE,UAAP;QACD;;QACDF,MAAM,CAAC6D,MAAP,CAAc9E,KAAd;MACD,CALD,MAMK;QACH,IAAGe,QAAQ,KAAK1B,SAAhB,EAA2B;UACzB0B,QAAQ,CAAC+D,MAAT,CAAgB,SAAhB;QACD;;QACD7D,MAAM,CAACE,UAAP;MACD;IACF,CAlwBH;IAqwBA,OAAQD,aAAa,KAAK7B,SAAnB,GACH6B,aADG,GAEH,IAFJ;EAID,CAvxBD;;EAyxBAhC,CAAC,CAACQ,EAAF,CAAKwM,QAAL,CAAc5L,QAAd,GAAyB;IAEvBmC,IAAI,EAAkB,UAFC;IAGvBhC,SAAS,EAAa,UAHC;IAKvB6U,MAAM,EAAgB,KALC;IAMvB5T,KAAK,EAAiB,KANC;IAOvBL,OAAO,EAAe,IAPC;IAQvBtB,WAAW,EAAW,IARC;IAUvB;IACA8vB,WAAW,EAAW,MAXC;IAYvBF,UAAU,EAAY,KAZC;IAavBlB,cAAc,EAAQ,IAbC;IAevBxS,QAAQ,EAAc,YAAU,CAAE,CAfX;IAiBvBuS,aAAa,EAAS,YAAU,CAAE,CAjBX;IAkBvBD,eAAe,EAAO,YAAU,CAAE,CAlBX;IAmBvBmB,iBAAiB,EAAK,YAAU,CAAE,CAnBX;IAoBvBD,mBAAmB,EAAG,YAAU,CAAE,CApBX;IAsBvBd,SAAS,EAAa,YAAU,CAAE,CAtBX;IAuBvBG,WAAW,EAAW,YAAU,CAAE,CAvBX;IAyBvBK,aAAa,EAAS,YAAW,CAAE,CAzBZ;IA0BvBH,eAAe,EAAO,YAAW,CAAE,CA1BZ;IA4BvBI,QAAQ,EAAc,YAAU,CAAE,CA5BX;IA6BvBE,SAAS,EAAa,YAAU,CAAE,CA7BX;IA+BvB;IACAD,SAAS,EAAa,YAAU,CAAE,CAhCX;IAiCvBE,UAAU,EAAY,YAAU,CAAE,CAjCX;IAmCvB3nB,SAAS,EAAS;MAChBkO,OAAO,EAAS,SADA;MAEhB0X,aAAa,EAAG,eAFA;MAGhBxqB,QAAQ,EAAQ,UAHA;MAIhB0qB,MAAM,EAAU,QAJA;MAKhBtc,KAAK,EAAW,OALA;MAMhBwe,QAAQ,EAAQ;IANA,CAnCK;IA4CvBlvB,KAAK,EAAO;MACVgF,MAAM,EAAS;IADL,CA5CW;IAgDvBqB,QAAQ,EAAG;MACTmF,QAAQ,EAAG,cADF;MAETuG,KAAK,EAAM,aAFF;MAGT1E,KAAK,EAAM,6CAHF;MAITuV,IAAI,EAAO;IAJF;EAhDY,CAAzB;AAyDC,CAj2BA,EAi2BG7c,MAj2BH,EAi2BWtH,MAj2BX,EAi2BmBC,QAj2BnB;AAm2BD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA;;AAAC,CAAC,UAAUF,CAAV,EAAaC,MAAb,EAAqBC,QAArB,EAA+BC,SAA/B,EAA0C;EAE5C;;EAEAH,CAAC,CAACI,UAAF,GAAeJ,CAAC,CAACI,UAAF,IAAgB,UAASC,GAAT,EAAc;IAC3C,OAAO,OAAOA,GAAP,KAAe,UAAf,IAA6B,OAAOA,GAAG,CAACC,QAAX,KAAwB,QAA5D;EACD,CAFD;;EAIAL,MAAM,GAAI,OAAOA,MAAP,IAAiB,WAAjB,IAAgCA,MAAM,CAACuH,IAAP,IAAeA,IAAhD,GACLvH,MADK,GAEJ,OAAOwH,IAAP,IAAe,WAAf,IAA8BA,IAAI,CAACD,IAAL,IAAaA,IAA5C,GACEC,IADF,GAEE3C,QAAQ,CAAC,aAAD,CAAR,EAJN;;EAOA9E,CAAC,CAACQ,EAAF,CAAKywB,MAAL,GAAc,UAASxwB,UAAT,EAAqB;IACjC,IACEkH,WAAW,GAAO3H,CAAC,CAAC,IAAD,CADrB;IAAA,IAGEU,IAAI,GAAc,IAAIC,IAAJ,GAAWC,OAAX,EAHpB;IAAA,IAIEC,WAAW,GAAO,EAJpB;IAAA,IAMEC,KAAK,GAAaC,SAAS,CAAC,CAAD,CAN7B;IAAA,IAOEC,aAAa,GAAM,OAAOF,KAAP,IAAgB,QAPrC;IAAA,IAQEG,cAAc,GAAI,GAAGC,KAAH,CAASC,IAAT,CAAcJ,SAAd,EAAyB,CAAzB,CARpB;IAAA,IAUEiB,aAVF;IAaA2F,WAAW,CACRhE,IADH,CACQ,YAAW;MACf,IACEvC,QAAQ,GAAYpB,CAAC,CAACqB,aAAF,CAAgBZ,UAAhB,CAAF,GACdT,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAe,EAAf,EAAmBtB,CAAC,CAACQ,EAAF,CAAKywB,MAAL,CAAY7vB,QAA/B,EAAyCX,UAAzC,CADc,GAEdT,CAAC,CAACsB,MAAF,CAAS,EAAT,EAAatB,CAAC,CAACQ,EAAF,CAAKywB,MAAL,CAAY7vB,QAAzB,CAHN;MAAA,IAKEyG,QAAQ,GAAUzG,QAAQ,CAACyG,QAL7B;MAAA,IAMEtG,SAAS,GAASH,QAAQ,CAACG,SAN7B;MAAA,IAOEmH,SAAS,GAAStH,QAAQ,CAACsH,SAP7B;MAAA,IAQElH,KAAK,GAAaJ,QAAQ,CAACI,KAR7B;MAAA,IAUEoH,cAAc,GAAI,MAAMrH,SAV1B;MAAA,IAWEE,eAAe,GAAG,YAAYF,SAXhC;MAAA,IAYEqG,cAAc,GAAID,WAAW,CAACE,QAAZ,IAAwB,EAZ5C;MAAA,IAcEqpB,UAAU,GAAS,kBAAkBhxB,QAAQ,CAACixB,eAA5B,GACd,YADc,GAEd,OAhBN;MAAA,IAkBExvB,OAAO,GAAG3B,CAAC,CAAC,IAAD,CAlBb;MAAA,IAmBEoxB,OAnBF;MAAA,IAoBEC,SApBF;MAAA,IAsBEzvB,OAAO,GAAK,IAtBd;MAAA,IAuBEC,QAAQ,GAAIF,OAAO,CAACG,IAAR,CAAaL,eAAb,CAvBd;MAAA,IAwBEM,MAxBF;MA2BAA,MAAM,GAAG;QAEPuvB,aAAa,EAAE,YAAW;UACxB,IAAIvvB,MAAM,CAAC4J,EAAP,CAAUslB,MAAV,EAAJ,EAAyB;YAEvBI,SAAS,GAAG1vB,OAAO,CAACyJ,MAAR,EAAZ;YACAgmB,OAAO,GAAKzvB,OAAZ;UACD,CAJD,MAKK;YACH0vB,SAAS,GAAG1vB,OAAZ;;YACA,IAAII,MAAM,CAAC6Q,GAAP,CAAWqe,MAAX,EAAJ,EAA0B;cACxB,IAAG7vB,QAAQ,CAACmwB,UAAZ,EAAwB;gBACtBH,OAAO,GAAGC,SAAS,CAAC7nB,IAAV,CAAe3B,QAAQ,CAACopB,MAAxB,EAAgClkB,MAAhC,CAAuC,MAAM3L,QAAQ,CAACmwB,UAAtD,CAAV;cACD,CAFD,MAGK;gBACHH,OAAO,GAAGC,SAAS,CAAC7nB,IAAV,CAAe3B,QAAQ,CAACopB,MAAxB,CAAV;cACD;YACF,CAPD,MAQK;cACHG,OAAO,GAAGrvB,MAAM,CAACsd,MAAP,EAAV;YACD;UACF;QACF,CAtBM;QAwBPpd,UAAU,EAAE,YAAW;UACrBF,MAAM,CAACS,KAAP,CAAa,qBAAb,EAAoCpB,QAApC;UAEAW,MAAM,CAACiD,IAAP,CAAYyV,MAAZ;UACA1Y,MAAM,CAACoH,GAAP,CAAWqoB,QAAX;UACAzvB,MAAM,CAACG,WAAP;QACD,CA9BM;QAgCPA,WAAW,EAAE,YAAW;UACtBH,MAAM,CAACI,OAAP,CAAe,4BAAf,EAA6CJ,MAA7C;UACAF,QAAQ,GAAGE,MAAX;UACAJ,OAAO,CACJG,IADH,CACQL,eADR,EACyBI,QADzB;QAGD,CAtCM;QAwCP8C,OAAO,EAAE,YAAW;UAClB5C,MAAM,CAACI,OAAP,CAAe,4BAAf,EAA6CivB,OAA7C;UACArvB,MAAM,CAACud,MAAP,CAAc7E,MAAd;UACA1Y,MAAM,CAACsK,MAAP,CAAcyZ,SAAd;UACAuL,SAAS,CACN5iB,GADH,CACO7F,cADP;QAGD,CA/CM;QAiDP5D,IAAI,EAAE;UACJyV,MAAM,EAAE,YAAW;YACjB,IAAGrZ,QAAQ,CAAC2I,EAAT,IAAe,OAAlB,EAA2B;cACzBsnB,SAAS,CACNtnB,EADH,CACM,eAAenB,cADrB,EACqC7G,MAAM,CAACqsB,IAD5C,EAEGrkB,EAFH,CAEM,eAAenB,cAFrB,EAEqC7G,MAAM,CAACosB,IAF5C;YAID,CALD,MAMK,IAAG/sB,QAAQ,CAAC2I,EAAT,IAAe,OAAlB,EAA2B;cAC9BsnB,SAAS,CACNtnB,EADH,CACMmnB,UAAU,GAAGtoB,cADnB,EACmC7G,MAAM,CAACkZ,MAD1C;YAGD;;YACD,IAAIlZ,MAAM,CAAC4J,EAAP,CAAU8lB,IAAV,EAAJ,EAAuB;cACrB1vB,MAAM,CAACS,KAAP,CAAa,0BAAb,EAAyC6uB,SAAzC;cACAtvB,MAAM,CAACoH,GAAP,CAAWuoB,UAAX;YACD;;YAED,IAAI3vB,MAAM,CAAC4J,EAAP,CAAU6U,QAAV,EAAJ,EAA2B;cACzBze,MAAM,CAACI,OAAP,CAAe,2BAAf,EAA4CivB,OAA5C;cACAC,SAAS,CACNtnB,EADH,CACMmnB,UAAU,GAAGtoB,cADnB,EACmCf,QAAQ,CAACopB,MAD5C,EACoDlvB,MAAM,CAACiI,KAAP,CAAagR,KADjE;YAGD;UACF;QAxBG,CAjDC;QA4EPsE,MAAM,EAAE;UACN7E,MAAM,EAAE,YAAW;YACjB9Y,OAAO,CACJiD,UADH,CACcnD,eADd;YAGA4vB,SAAS,CACN5iB,GADH,CACO7F,cADP;UAGD;QARK,CA5ED;QAuFPoB,KAAK,EAAE;UACLgR,KAAK,EAAE,UAAShR,KAAT,EAAgB;YACrBjI,MAAM,CAACI,OAAP,CAAe,yCAAf,EAA0D6H,KAA1D;;YACA,IAAIonB,OAAO,CAAC5nB,IAAR,CAAaQ,KAAK,CAACie,MAAnB,EAA2B5jB,MAA3B,KAAsC,CAAtC,IAA2CrE,CAAC,CAACgK,KAAK,CAACie,MAAP,CAAD,CAAgBtc,EAAhB,CAAmB9D,QAAQ,CAAC0S,OAA5B,CAA/C,EAAsF;cACpFxY,MAAM,CAACosB,IAAP;cACAnkB,KAAK,CAACiL,wBAAN;YACD;UACF;QAPI,CAvFA;QAiGP0c,UAAU,EAAE,UAAS/vB,OAAT,EAAkB;UAC5B,IACE0Y,QAAQ,GAAGta,CAAC,CAAC4B,OAAD,CADd;UAGAG,MAAM,CAACS,KAAP,CAAa,uBAAb,EAAsC8X,QAAtC;;UACA,IAAGA,QAAQ,CAAClP,MAAT,GAAkB,CAAlB,MAAyBgmB,OAAO,CAAC,CAAD,CAAnC,EAAwC;YACtC9W,QAAQ,CAACwW,MAAT,GAAkBtd,QAAlB,CAA2B4d,OAA3B;UACD;QACF,CAzGM;QA2GP/R,MAAM,EAAE,YAAW;UACjB,IACElU,QAAQ,GAAGnL,CAAC,CAAEoB,QAAQ,CAACwwB,QAAT,CAAkBX,MAAlB,CAAyB7vB,QAAzB,CAAF,CADd;;UAGA,IAAGA,QAAQ,CAACmwB,UAAZ,EAAwB;YACtBxvB,MAAM,CAACS,KAAP,CAAa,uBAAb,EAAsCpB,QAAQ,CAACmwB,UAA/C;YACApmB,QAAQ,CAACkI,QAAT,CAAkBjS,QAAQ,CAACmwB,UAA3B;UACD;;UACDpmB,QAAQ,CACLqI,QADH,CACY6d,SADZ;UAGA,OAAOlmB,QAAP;QACD,CAvHM;QAyHPijB,IAAI,EAAE,UAAShrB,QAAT,EAAmB;UACvBA,QAAQ,GAAGpD,CAAC,CAACI,UAAF,CAAagD,QAAb,IACPA,QADO,GAEP,YAAU,CAAE,CAFhB;UAIArB,MAAM,CAACS,KAAP,CAAa,gBAAb,EAA+B4uB,OAA/B,EAAwChwB,QAAxC;UACAW,MAAM,CAACoH,GAAP,CAAW2c,SAAX;;UACA,IAAI,CAAC,CAAC/jB,MAAM,CAAC4J,EAAP,CAAUkmB,MAAV,EAAD,IAAuB9vB,MAAM,CAAC4J,EAAP,CAAU2P,SAAV,EAAxB,KAAkDvZ,MAAM,CAAC4J,EAAP,CAAUnI,OAAV,EAAtD,EAA4E;YAC1EzB,MAAM,CAAC0a,OAAP,CAAe2R,IAAf,CAAoBhrB,QAApB;YACAhC,QAAQ,CAAC4e,MAAT,CAAgB7e,IAAhB,CAAqBS,OAArB;YACAR,QAAQ,CAAC2b,QAAT,CAAkB5b,IAAlB,CAAuBS,OAAvB;UACD,CAJD,MAKK;YACHG,MAAM,CAACS,KAAP,CAAa,qCAAb;UACD;QACF,CAxIM;QA0IP2rB,IAAI,EAAE,UAAS/qB,QAAT,EAAmB;UACvBA,QAAQ,GAAGpD,CAAC,CAACI,UAAF,CAAagD,QAAb,IACPA,QADO,GAEP,YAAU,CAAE,CAFhB;;UAIA,IAAIrB,MAAM,CAAC4J,EAAP,CAAUkmB,MAAV,MAAsB9vB,MAAM,CAAC4J,EAAP,CAAU2P,SAAV,EAA1B,EAAkD;YAChDvZ,MAAM,CAACS,KAAP,CAAa,eAAb,EAA8B4uB,OAA9B;YACArvB,MAAM,CAAC0a,OAAP,CAAe0R,IAAf,CAAoB/qB,QAApB;YACAhC,QAAQ,CAACqf,MAAT,CAAgBtf,IAAhB,CAAqBS,OAArB;YACAR,QAAQ,CAAC2b,QAAT,CAAkB5b,IAAlB,CAAuBS,OAAvB;UACD,CALD,MAMK;YACHG,MAAM,CAACS,KAAP,CAAa,uBAAb;UACD;QACF,CAxJM;QA0JPyY,MAAM,EAAE,YAAW;UACjBlZ,MAAM,CAACI,OAAP,CAAe,4BAAf,EAA6CivB,OAA7C;;UACA,IAAI,CAACrvB,MAAM,CAAC4J,EAAP,CAAUkmB,MAAV,EAAL,EAA0B;YACxB9vB,MAAM,CAACqsB,IAAP;UACD,CAFD,MAGK;YACH,IAAKrsB,MAAM,CAAC4J,EAAP,CAAU6U,QAAV,EAAL,EAA4B;cAC1Bze,MAAM,CAACosB,IAAP;YACD;UACF;QACF,CApKM;QAsKP1R,OAAO,EAAE;UACP2R,IAAI,EAAE,UAAShrB,QAAT,EAAmB;YACvBA,QAAQ,GAAGpD,CAAC,CAACI,UAAF,CAAagD,QAAb,IACPA,QADO,GAEP,YAAU,CAAE,CAFhB;;YAIA,IAAGhC,QAAQ,CAAC0wB,MAAT,IAAmB9xB,CAAC,CAACQ,EAAF,CAAKkT,UAAL,KAAoBvT,SAAvC,IAAoDixB,OAAO,CAAC1d,UAAR,CAAmB,cAAnB,CAAvD,EAA2F;cACzF,IAAGtS,QAAQ,CAAC2wB,OAAZ,EAAqB;gBACnBhwB,MAAM,CAACS,KAAP,CAAa,mBAAb;gBACAT,MAAM,CAACsK,MAAP,CAAc2lB,MAAd;cACD,CAHD,MAIK;gBACHjwB,MAAM,CAACS,KAAP,CAAa,8BAAb;gBACAT,MAAM,CAACoH,GAAP,CAAW6oB,MAAX;cACD;;cACD,IAAG5wB,QAAQ,CAACsb,OAAT,KAAqB,MAAxB,EAAgC;gBAC9B3a,MAAM,CAACoH,GAAP,CAAWuT,OAAX;cACD;;cACD0U,OAAO,CACJ1d,UADH,CACc;gBACVue,WAAW,EAAG7wB,QAAQ,CAAC2wB,OAAT,GACV,MADU,GAEV,OAHM;gBAIV3V,SAAS,EAAK,CAAChb,QAAQ,CAACsS,UAAT,CAAoBwe,UAApB,IAAkC9wB,QAAQ,CAACsS,UAA5C,IAA0D,KAJ9D;gBAKV2I,KAAK,EAAS,KALJ;gBAMV1I,QAAQ,EAAM5R,MAAM,CAACiH,GAAP,CAAW2K,QAAX,EANJ;gBAOV2I,WAAW,EAAG,IAPJ;gBAQV6V,OAAO,EAAO,YAAW;kBACvBpwB,MAAM,CAACoH,GAAP,CAAW0oB,MAAX;gBACD,CAVS;gBAWVrV,UAAU,EAAI,YAAW;kBACvBza,MAAM,CAACoH,GAAP,CAAWqS,MAAX;kBACApY,QAAQ;gBACT;cAdS,CADd;YAkBD,CA9BD,MA+BK;cACHrB,MAAM,CAACI,OAAP,CAAe,0CAAf;cACAJ,MAAM,CAACoH,GAAP,CAAW0oB,MAAX;;cACA,IAAGzwB,QAAQ,CAACsb,OAAT,IAAoB,MAAvB,EAA+B;gBAC7Btb,QAAQ,CAACsb,OAAT,GAAmB,GAAnB;cACD;;cACD0U,OAAO,CACJlV,IADH,GAEG4B,GAFH,CAEO;gBACHpB,OAAO,EAAG,CADP;gBAEH2K,KAAK,EAAK,MAFP;gBAGH+K,MAAM,EAAI;cAHP,CAFP,EAOGC,MAPH,CAOUtwB,MAAM,CAACiH,GAAP,CAAW2K,QAAX,EAPV,EAOiCvS,QAAQ,CAACsb,OAP1C,EAOmD,YAAW;gBAC1D0U,OAAO,CAAC7b,UAAR,CAAmB,OAAnB;gBACAxT,MAAM,CAACoH,GAAP,CAAWqS,MAAX;gBACApY,QAAQ;cACT,CAXH;YAaD;UACF,CAzDM;UA0DP+qB,IAAI,EAAE,UAAS/qB,QAAT,EAAmB;YACvBA,QAAQ,GAAGpD,CAAC,CAACI,UAAF,CAAagD,QAAb,IACPA,QADO,GAEP,YAAU,CAAE,CAFhB;;YAIA,IAAGhC,QAAQ,CAAC0wB,MAAT,IAAmB9xB,CAAC,CAACQ,EAAF,CAAKkT,UAAL,KAAoBvT,SAAvC,IAAoDixB,OAAO,CAAC1d,UAAR,CAAmB,cAAnB,CAAvD,EAA2F;cACzF3R,MAAM,CAACI,OAAP,CAAe,wBAAf;cACAivB,OAAO,CACJ1d,UADH,CACc;gBACVue,WAAW,EAAG7wB,QAAQ,CAAC2wB,OAAT,GACV,MADU,GAEV,OAHM;gBAIV3V,SAAS,EAAK,CAAChb,QAAQ,CAACsS,UAAT,CAAoB4e,UAApB,IAAkClxB,QAAQ,CAACsS,UAA5C,IAA0D,MAJ9D;gBAKV2I,KAAK,EAAS,KALJ;gBAMV1I,QAAQ,EAAM5R,MAAM,CAACiH,GAAP,CAAW2K,QAAX,EANJ;gBAOV2I,WAAW,EAAG,IAPJ;gBAQVE,UAAU,EAAI,YAAW;kBACvBza,MAAM,CAACsK,MAAP,CAAcwlB,MAAd;kBACA9vB,MAAM,CAACsK,MAAP,CAAcyZ,SAAd;kBACA/jB,MAAM,CAACsK,MAAP,CAAcmP,MAAd;kBACApY,QAAQ;gBACT;cAbS,CADd;YAiBD,CAnBD,MAoBK;cACHrB,MAAM,CAACI,OAAP,CAAe,+BAAf;cACAivB,OAAO,CACJlV,IADH,GAEGnI,OAFH,CAEWhS,MAAM,CAACiH,GAAP,CAAW2K,QAAX,EAFX,EAEkC,YAAW;gBACzC5R,MAAM,CAACsK,MAAP,CAAcwlB,MAAd;gBACA9vB,MAAM,CAACsK,MAAP,CAAcmP,MAAd;gBACA4V,OAAO,CAAC7b,UAAR,CAAmB,OAAnB;gBACAnS,QAAQ;cACT,CAPH;YASD;UACF;QA/FM,CAtKF;QAwQP4F,GAAG,EAAE;UACHioB,MAAM,EAAE,YAAW;YACjB,OAAOG,OAAP;UACD,CAHE;UAIHzd,QAAQ,EAAE,YAAW;YACnB,IAAI5R,MAAM,CAAC4J,EAAP,CAAU6P,MAAV,EAAJ,EAAyB;cACvB,OAAOpa,QAAQ,CAACsS,UAAT,CAAoB6e,YAApB,IAAoCnxB,QAAQ,CAACuS,QAAT,CAAkBwa,IAAtD,IAA8D/sB,QAAQ,CAACuS,QAA9E;YACD,CAFD,MAGK;cACH,OAAOvS,QAAQ,CAACsS,UAAT,CAAoB8e,YAApB,IAAoCpxB,QAAQ,CAACuS,QAAT,CAAkBya,IAAtD,IAA8DhtB,QAAQ,CAACuS,QAA9E;YACD;UACF;QAXE,CAxQE;QAsRPf,GAAG,EAAE;UACHqe,MAAM,EAAE,YAAW;YACjB,IAAG7vB,QAAQ,CAACmwB,UAAZ,EAAwB;cACtB,OAAQ5vB,OAAO,CAAC6H,IAAR,CAAa3B,QAAQ,CAACopB,MAAtB,EAA8BlkB,MAA9B,CAAqC,MAAM3L,QAAQ,CAACmwB,UAApD,EAAgEltB,MAAhE,GAAyE,CAAjF;YACD,CAFD,MAGK;cACH,OAAS1C,OAAO,CAAC6H,IAAR,CAAa3B,QAAQ,CAACopB,MAAtB,EAA8B5sB,MAA9B,GAAuC,CAAhD;YACD;UACF;QARE,CAtRE;QAiSPsH,EAAE,EAAE;UACF6P,MAAM,EAAE,YAAW;YACjB,OAAO4V,OAAO,CAACjlB,QAAR,CAAiBzD,SAAS,CAAC8S,MAA3B,CAAP;UACD,CAHC;UAIFF,SAAS,EAAE,YAAW;YACpB,OAAS8V,OAAO,CAACzlB,EAAR,CAAW,WAAX,KAA2BylB,OAAO,CAACjlB,QAAR,CAAiBzD,SAAS,CAAC4S,SAA3B,CAApC;UACD,CANC;UAOFkF,QAAQ,EAAE,YAAW;YACnB,IAAGpf,QAAQ,CAACof,QAAT,IAAqB,MAAxB,EAAgC;cAC9B,IAAGpf,QAAQ,CAAC2I,EAAT,IAAe,OAAlB,EAA2B;gBACzB,OAAO,KAAP;cACD;;cACD,OAAO,IAAP;YACD;;YACD,OAAO3I,QAAQ,CAACof,QAAhB;UACD,CAfC;UAgBFyQ,MAAM,EAAE,YAAW;YACjB,OAAOtvB,OAAO,CAACwK,QAAR,CAAiBzD,SAAS,CAACuoB,MAA3B,CAAP;UACD,CAlBC;UAmBFO,QAAQ,EAAE,YAAW;YACnB,OAAO7vB,OAAO,CAACwK,QAAR,CAAiBzD,SAAS,CAAC8oB,QAA3B,CAAP;UACD,CArBC;UAsBFK,MAAM,EAAE,YAAW;YACjB,OAAOR,SAAS,CAACllB,QAAV,CAAmBzD,SAAS,CAACmpB,MAA7B,CAAP;UACD,CAxBC;UAyBF/tB,QAAQ,EAAE,YAAW;YACnB,OAAOutB,SAAS,CAACllB,QAAV,CAAmBzD,SAAS,CAAC5E,QAA7B,CAAP;UACD,CA3BC;UA4BFN,OAAO,EAAE,YAAW;YAClB,OAAO,CAACzB,MAAM,CAAC4J,EAAP,CAAU7H,QAAV,EAAR;UACD,CA9BC;UA+BF2tB,IAAI,EAAE,YAAY;YAChB,OAAOJ,SAAS,CAAC1lB,EAAV,CAAa,MAAb,CAAP;UACD,CAjCC;UAkCF+lB,UAAU,EAAE,YAAW;YACrB,OAAON,OAAO,CAACjlB,QAAR,CAAiBzD,SAAS,CAACgpB,UAA3B,CAAP;UACD;QApCC,CAjSG;QAwUP3lB,GAAG,EAAE;UACHqiB,IAAI,EAAE,YAAW;YACf,OAAO,CAACgD,OAAO,CAACjlB,QAAR,CAAiBzD,SAAS,CAAC5E,QAA3B,CAAR;UACD;QAHE,CAxUE;QA8UPqF,GAAG,EAAE;UACHuT,OAAO,EAAE,UAASA,OAAT,EAAkB;YACzB,IACE+V,KAAK,GAAQrB,OAAO,CAACtT,GAAR,CAAY,kBAAZ,CADf;YAAA,IAEE4U,UAAU,GAAGD,KAAK,CAACtsB,KAAN,CAAY,GAAZ,CAFf;YAAA,IAGEwsB,KAAK,GAASD,UAAU,IAAIA,UAAU,CAACruB,MAAX,IAAqB,CAHnD;YAKAqY,OAAO,GAAMtb,QAAQ,CAACsb,OAAT,KAAqB,CAArB,GAAyB,CAAzB,GAA6Btb,QAAQ,CAACsb,OAAT,IAAoBA,OAA9D;;YACA,IAAGiW,KAAH,EAAU;cACRD,UAAU,CAAC,CAAD,CAAV,GAAgBA,UAAU,CAAC,CAAD,CAAV,CAAc5iB,OAAd,CAAsB,GAAtB,EAA0B,EAA1B,CAAhB;cACA4iB,UAAU,CAAC,CAAD,CAAV,GAAgBhW,OAAO,GAAG,GAA1B;cACA+V,KAAK,GAAWC,UAAU,CAACE,IAAX,CAAgB,GAAhB,CAAhB;YACD,CAJD,MAKK;cACHH,KAAK,GAAG,mBAAmB/V,OAAnB,GAA6B,GAArC;YACD;;YACD3a,MAAM,CAACS,KAAP,CAAa,oBAAb,EAAmCka,OAAnC;YACA0U,OAAO,CAACtT,GAAR,CAAY,kBAAZ,EAAgC2U,KAAhC;UACD,CAlBE;UAmBHT,MAAM,EAAE,YAAW;YACjBZ,OAAO,CAAC/d,QAAR,CAAiB3K,SAAS,CAACspB,MAA3B;UACD,CArBE;UAsBHxW,MAAM,EAAE,YAAW;YACjB4V,OAAO,CAAC/d,QAAR,CAAiB3K,SAAS,CAAC8S,MAA3B;UACD,CAxBE;UAyBHgW,QAAQ,EAAE,YAAW;YACnBH,SAAS,CAAChe,QAAV,CAAmB3K,SAAS,CAAC8oB,QAA7B;UACD,CA3BE;UA4BHK,MAAM,EAAE,YAAW;YACjBR,SAAS,CAAChe,QAAV,CAAmB3K,SAAS,CAACmpB,MAA7B;UACD,CA9BE;UA+BHH,UAAU,EAAE,YAAW;YACrBN,OAAO,CAAC/d,QAAR,CAAiB3K,SAAS,CAACgpB,UAA3B;UACD,CAjCE;UAkCH5tB,QAAQ,EAAE,YAAW;YACnBstB,OAAO,CAAC/d,QAAR,CAAiB3K,SAAS,CAAC5E,QAA3B;UACD,CApCE;UAqCHgiB,SAAS,EAAE,UAASA,SAAT,EAAoB;YAC7BA,SAAS,GAAGA,SAAS,IAAI1kB,QAAQ,CAAC0kB,SAAlC;;YACA,IAAGA,SAAH,EAAc;cACZsL,OAAO,CAAC/d,QAAR,CAAiByS,SAAjB;YACD;UACF;QA1CE,CA9UE;QA2XPzZ,MAAM,EAAE;UACNmP,MAAM,EAAE,YAAW;YACjB4V,OAAO,CACJhlB,WADH,CACe1D,SAAS,CAAC8S,MADzB;UAGD,CALK;UAMNwW,MAAM,EAAE,YAAW;YACjBZ,OAAO,CAAChlB,WAAR,CAAoB1D,SAAS,CAACspB,MAA9B;UACD,CARK;UASNH,MAAM,EAAE,YAAW;YACjBR,SAAS,CAACjlB,WAAV,CAAsB1D,SAAS,CAACmpB,MAAhC;UACD,CAXK;UAYN/tB,QAAQ,EAAE,YAAW;YACnBstB,OAAO,CAAChlB,WAAR,CAAoB1D,SAAS,CAAC5E,QAA9B;UACD,CAdK;UAeNgiB,SAAS,EAAE,UAASA,SAAT,EAAoB;YAC7BA,SAAS,GAAGA,SAAS,IAAI1kB,QAAQ,CAAC0kB,SAAlC;;YACA,IAAGA,SAAH,EAAc;cACZsL,OAAO,CAAChlB,WAAR,CAAoB0Z,SAApB;YACD;UACF;QApBK,CA3XD;QAkZP7hB,OAAO,EAAE,UAASV,IAAT,EAAeW,KAAf,EAAsB;UAC7BnC,MAAM,CAACS,KAAP,CAAa,kBAAb,EAAiCe,IAAjC,EAAuCW,KAAvC;;UACA,IAAIlE,CAAC,CAACqB,aAAF,CAAgBkC,IAAhB,CAAJ,EAA4B;YAC1BvD,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAeF,QAAf,EAAyBmC,IAAzB;UACD,CAFD,MAGK,IAAGW,KAAK,KAAK/D,SAAb,EAAwB;YAC3B,IAAGH,CAAC,CAACqB,aAAF,CAAgBD,QAAQ,CAACmC,IAAD,CAAxB,CAAH,EAAoC;cAClCvD,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAeF,QAAQ,CAACmC,IAAD,CAAvB,EAA+BW,KAA/B;YACD,CAFD,MAGK;cACH9C,QAAQ,CAACmC,IAAD,CAAR,GAAiBW,KAAjB;YACD;UACF,CAPI,MAQA;YACH,OAAO9C,QAAQ,CAACmC,IAAD,CAAf;UACD;QACF,CAlaM;QAmaPsB,QAAQ,EAAE,UAAStB,IAAT,EAAeW,KAAf,EAAsB;UAC9B,IAAIlE,CAAC,CAACqB,aAAF,CAAgBkC,IAAhB,CAAJ,EAA4B;YAC1BvD,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAeS,MAAf,EAAuBwB,IAAvB;UACD,CAFD,MAGK,IAAGW,KAAK,KAAK/D,SAAb,EAAwB;YAC3B4B,MAAM,CAACwB,IAAD,CAAN,GAAeW,KAAf;UACD,CAFI,MAGA;YACH,OAAOnC,MAAM,CAACwB,IAAD,CAAb;UACD;QACF,CA7aM;QA8aPf,KAAK,EAAE,YAAW;UAChB,IAAG,CAACpB,QAAQ,CAACgV,MAAV,IAAoBhV,QAAQ,CAACoB,KAAhC,EAAuC;YACrC,IAAGpB,QAAQ,CAACP,WAAZ,EAAyB;cACvBkB,MAAM,CAAClB,WAAP,CAAmB4B,GAAnB,CAAuB1B,SAAvB;YACD,CAFD,MAGK;cACHgB,MAAM,CAACS,KAAP,GAAesC,QAAQ,CAACC,SAAT,CAAmBC,IAAnB,CAAwB7D,IAAxB,CAA6BmB,OAAO,CAACmC,IAArC,EAA2CnC,OAA3C,EAAoDlB,QAAQ,CAACmC,IAAT,GAAgB,GAApE,CAAf;cACAxB,MAAM,CAACS,KAAP,CAAayC,KAAb,CAAmB3C,OAAnB,EAA4BvB,SAA5B;YACD;UACF;QACF,CAxbM;QAybPoB,OAAO,EAAE,YAAW;UAClB,IAAG,CAACf,QAAQ,CAACgV,MAAV,IAAoBhV,QAAQ,CAACe,OAA7B,IAAwCf,QAAQ,CAACoB,KAApD,EAA2D;YACzD,IAAGpB,QAAQ,CAACP,WAAZ,EAAyB;cACvBkB,MAAM,CAAClB,WAAP,CAAmB4B,GAAnB,CAAuB1B,SAAvB;YACD,CAFD,MAGK;cACHgB,MAAM,CAACI,OAAP,GAAiB2C,QAAQ,CAACC,SAAT,CAAmBC,IAAnB,CAAwB7D,IAAxB,CAA6BmB,OAAO,CAACmC,IAArC,EAA2CnC,OAA3C,EAAoDlB,QAAQ,CAACmC,IAAT,GAAgB,GAApE,CAAjB;cACAxB,MAAM,CAACI,OAAP,CAAe8C,KAAf,CAAqB3C,OAArB,EAA8BvB,SAA9B;YACD;UACF;QACF,CAncM;QAocPS,KAAK,EAAE,YAAW;UAChB,IAAG,CAACJ,QAAQ,CAACgV,MAAb,EAAqB;YACnBrU,MAAM,CAACP,KAAP,GAAesD,QAAQ,CAACC,SAAT,CAAmBC,IAAnB,CAAwB7D,IAAxB,CAA6BmB,OAAO,CAACd,KAArC,EAA4Cc,OAA5C,EAAqDlB,QAAQ,CAACmC,IAAT,GAAgB,GAArE,CAAf;YACAxB,MAAM,CAACP,KAAP,CAAayD,KAAb,CAAmB3C,OAAnB,EAA4BvB,SAA5B;UACD;QACF,CAzcM;QA0cPF,WAAW,EAAE;UACX4B,GAAG,EAAE,UAASyC,OAAT,EAAkB;YACrB,IACEC,WADF,EAEEC,aAFF,EAGEC,YAHF;;YAKA,IAAGjE,QAAQ,CAACP,WAAZ,EAAyB;cACvBsE,WAAW,GAAK,IAAIxE,IAAJ,GAAWC,OAAX,EAAhB;cACAyE,YAAY,GAAI3E,IAAI,IAAIyE,WAAxB;cACAC,aAAa,GAAGD,WAAW,GAAGE,YAA9B;cACA3E,IAAI,GAAYyE,WAAhB;cACAtE,WAAW,CAACgD,IAAZ,CAAiB;gBACf,QAAmBqB,OAAO,CAAC,CAAD,CADX;gBAEf,aAAmB,GAAGhE,KAAH,CAASC,IAAT,CAAc+D,OAAd,EAAuB,CAAvB,KAA6B,EAFjC;gBAGf,WAAmBtD,OAHJ;gBAIf,kBAAmBwD;cAJJ,CAAjB;YAMD;;YACDE,YAAY,CAACvD,MAAM,CAAClB,WAAP,CAAmB0E,KAApB,CAAZ;YACAxD,MAAM,CAAClB,WAAP,CAAmB0E,KAAnB,GAA2BlC,UAAU,CAACtB,MAAM,CAAClB,WAAP,CAAmB2E,OAApB,EAA6B,GAA7B,CAArC;UACD,CArBU;UAsBXA,OAAO,EAAE,YAAW;YAClB,IACEC,KAAK,GAAGrE,QAAQ,CAACmC,IAAT,GAAgB,GAD1B;YAAA,IAEEmC,SAAS,GAAG,CAFd;YAIAhF,IAAI,GAAG,KAAP;YACA4E,YAAY,CAACvD,MAAM,CAAClB,WAAP,CAAmB0E,KAApB,CAAZ;YACAvF,CAAC,CAAC2D,IAAF,CAAO9C,WAAP,EAAoB,UAAS+C,KAAT,EAAgB9B,IAAhB,EAAsB;cACxC4D,SAAS,IAAI5D,IAAI,CAAC,gBAAD,CAAjB;YACD,CAFD;YAGA2D,KAAK,IAAI,MAAMC,SAAN,GAAkB,IAA3B;;YACA,IAAGkC,cAAH,EAAmB;cACjBnC,KAAK,IAAI,QAAQmC,cAAR,GAAyB,IAAlC;YACD;;YACD,IAAGD,WAAW,CAACtD,MAAZ,GAAqB,CAAxB,EAA2B;cACzBoB,KAAK,IAAI,MAAM,GAAN,GAAYkC,WAAW,CAACtD,MAAxB,GAAiC,GAA1C;YACD;;YACD,IAAI,CAAC/B,OAAO,CAACK,KAAR,KAAkBxC,SAAlB,IAA+BmC,OAAO,CAACqD,KAAR,KAAkBxF,SAAlD,KAAgEU,WAAW,CAACwD,MAAZ,GAAqB,CAAzF,EAA4F;cAC1F/B,OAAO,CAACO,cAAR,CAAuB4C,KAAvB;;cACA,IAAGnD,OAAO,CAACqD,KAAX,EAAkB;gBAChBrD,OAAO,CAACqD,KAAR,CAAc9E,WAAd;cACD,CAFD,MAGK;gBACHb,CAAC,CAAC2D,IAAF,CAAO9C,WAAP,EAAoB,UAAS+C,KAAT,EAAgB9B,IAAhB,EAAsB;kBACxCQ,OAAO,CAACG,GAAR,CAAYX,IAAI,CAAC,MAAD,CAAJ,GAAe,IAAf,GAAsBA,IAAI,CAAC,gBAAD,CAA1B,GAA6C,IAAzD;gBACD,CAFD;cAGD;;cACDQ,OAAO,CAACM,QAAR;YACD;;YACD/B,WAAW,GAAG,EAAd;UACD;QApDU,CA1cN;QAggBP+E,MAAM,EAAE,UAAS9E,KAAT,EAAgB+E,eAAhB,EAAiCC,OAAjC,EAA0C;UAChD,IACEC,MAAM,GAAGlE,QADX;UAAA,IAEEmE,QAFF;UAAA,IAGEC,KAHF;UAAA,IAIEC,QAJF;UAMAL,eAAe,GAAGA,eAAe,IAAI5E,cAArC;UACA6E,OAAO,GAAWlE,OAAO,IAAYkE,OAArC;;UACA,IAAG,OAAOhF,KAAP,IAAgB,QAAhB,IAA4BiF,MAAM,KAAK5F,SAA1C,EAAqD;YACnDW,KAAK,GAAMA,KAAK,CAACqF,KAAN,CAAY,OAAZ,CAAX;YACAH,QAAQ,GAAGlF,KAAK,CAACuD,MAAN,GAAe,CAA1B;YACArE,CAAC,CAAC2D,IAAF,CAAO7C,KAAP,EAAc,UAASsF,KAAT,EAAgBlC,KAAhB,EAAuB;cACnC,IAAImC,cAAc,GAAID,KAAK,IAAIJ,QAAV,GACjB9B,KAAK,GAAGpD,KAAK,CAACsF,KAAK,GAAG,CAAT,CAAL,CAAiBE,MAAjB,CAAwB,CAAxB,EAA2BC,WAA3B,EAAR,GAAmDzF,KAAK,CAACsF,KAAK,GAAG,CAAT,CAAL,CAAiBlF,KAAjB,CAAuB,CAAvB,CADlC,GAEjBJ,KAFJ;;cAIA,IAAId,CAAC,CAACqB,aAAF,CAAiB0E,MAAM,CAACM,cAAD,CAAvB,KAA8CD,KAAK,IAAIJ,QAA3D,EAAuE;gBACrED,MAAM,GAAGA,MAAM,CAACM,cAAD,CAAf;cACD,CAFD,MAGK,IAAIN,MAAM,CAACM,cAAD,CAAN,KAA2BlG,SAA/B,EAA2C;gBAC9C8F,KAAK,GAAGF,MAAM,CAACM,cAAD,CAAd;gBACA,OAAO,KAAP;cACD,CAHI,MAIA,IAAIrG,CAAC,CAACqB,aAAF,CAAiB0E,MAAM,CAAC7B,KAAD,CAAvB,KAAqCkC,KAAK,IAAIJ,QAAlD,EAA8D;gBACjED,MAAM,GAAGA,MAAM,CAAC7B,KAAD,CAAf;cACD,CAFI,MAGA,IAAI6B,MAAM,CAAC7B,KAAD,CAAN,KAAkB/D,SAAtB,EAAkC;gBACrC8F,KAAK,GAAGF,MAAM,CAAC7B,KAAD,CAAd;gBACA,OAAO,KAAP;cACD,CAHI,MAIA;gBACHnC,MAAM,CAACP,KAAP,CAAaA,KAAK,CAACgF,MAAnB,EAA2B1F,KAA3B;gBACA,OAAO,KAAP;cACD;YACF,CAvBD;UAwBD;;UACD,IAAKd,CAAC,CAACI,UAAF,CAAc6F,KAAd,CAAL,EAA6B;YAC3BC,QAAQ,GAAGD,KAAK,CAAChB,KAAN,CAAYa,OAAZ,EAAqBD,eAArB,CAAX;UACD,CAFD,MAGK,IAAGI,KAAK,KAAK9F,SAAb,EAAwB;YAC3B+F,QAAQ,GAAGD,KAAX;UACD;;UACD,IAAGQ,KAAK,CAACC,OAAN,CAAc1E,aAAd,CAAH,EAAiC;YAC/BA,aAAa,CAAC6B,IAAd,CAAmBqC,QAAnB;UACD,CAFD,MAGK,IAAGlE,aAAa,KAAK7B,SAArB,EAAgC;YACnC6B,aAAa,GAAG,CAACA,aAAD,EAAgBkE,QAAhB,CAAhB;UACD,CAFI,MAGA,IAAGA,QAAQ,KAAK/F,SAAhB,EAA2B;YAC9B6B,aAAa,GAAGkE,QAAhB;UACD;;UACD,OAAOD,KAAP;QACD;MArjBM,CAAT;MAwjBAlE,MAAM,CAACuvB,aAAP;;MAEA,IAAGtwB,aAAH,EAAkB;QAChB,IAAGa,QAAQ,KAAK1B,SAAhB,EAA2B;UACzB4B,MAAM,CAACE,UAAP;QACD;;QACDF,MAAM,CAAC6D,MAAP,CAAc9E,KAAd;MACD,CALD,MAMK;QACH,IAAGe,QAAQ,KAAK1B,SAAhB,EAA2B;UACzB0B,QAAQ,CAAC+D,MAAT,CAAgB,SAAhB;QACD;;QACD7D,MAAM,CAACE,UAAP;MACD;IACF,CAnmBH;IAsmBA,OAAQD,aAAa,KAAK7B,SAAnB,GACH6B,aADG,GAEH,IAFJ;EAID,CAxnBD;;EA0nBAhC,CAAC,CAACQ,EAAF,CAAKywB,MAAL,CAAY7vB,QAAZ,GAAuB;IAErBmC,IAAI,EAAU,QAFO;IAGrBhC,SAAS,EAAK,QAHO;IAKrB6U,MAAM,EAAQ,KALO;IAMrB5T,KAAK,EAAS,KANO;IAOrBL,OAAO,EAAO,KAPO;IAQrBtB,WAAW,EAAG,IARO;IAUrB;IACAkxB,OAAO,EAAO,IAXO;IAarB;IACAR,UAAU,EAAI,KAdO;IAgBrB;IACAzL,SAAS,EAAK,KAjBO;IAmBrB;IACAtF,QAAQ,EAAM,MApBO;IAsBrB;IACAsR,MAAM,EAAQ,IAvBO;IAyBrB;IACApe,UAAU,EAAI,MA1BO;IA4BrB;IACA3J,EAAE,EAAY,KA7BO;IA+BrB;IACA2S,OAAO,EAAO,MAhCO;IAkCrB;IACA/I,QAAQ,EAAM;MACZya,IAAI,EAAG,GADK;MAEZD,IAAI,EAAG;IAFK,CAnCO;IAuCvB;IACE0E,aAAa,EAAE,KAxCM;IAyCrBC,UAAU,EAAI,KAzCO;IA0CrBC,eAAe,EAAG,EA1CG;IA4CrBhW,QAAQ,EAAM,YAAU,CAAE,CA5CL;IA6CrBiD,MAAM,EAAQ,YAAU,CAAE,CA7CL;IA8CrBS,MAAM,EAAQ,YAAU,CAAE,CA9CL;IAgDrBjf,KAAK,EAAK;MACRgF,MAAM,EAAK;IADH,CAhDW;IAoDrBkC,SAAS,EAAG;MACV8S,MAAM,EAAO,QADH;MAEVF,SAAS,EAAI,WAFH;MAGVkW,QAAQ,EAAK,UAHH;MAIVK,MAAM,EAAO,QAJH;MAKVZ,MAAM,EAAO,QALH;MAMVntB,QAAQ,EAAK,UANH;MAOVqqB,IAAI,EAAS,MAPH;MAQV6D,MAAM,EAAO,QARH;MASVN,UAAU,EAAG,MATH;MAUVtD,IAAI,EAAS,MAVH;MAWV4E,MAAM,EAAO;IAXH,CApDS;IAkErBnrB,QAAQ,EAAE;MACRopB,MAAM,EAAK,cADH;MAER1W,OAAO,EAAI;IAFH,CAlEW;IAuErBqX,QAAQ,EAAE;MACRX,MAAM,EAAE,UAAS7vB,QAAT,EAAmB;QACvB,IAAI+c,CAAC,GAAGne,CAAC,CAAC,QAAD,CAAD,CAAYqT,QAAZ,CAAqB,WAArB,CAAR;QAAA,IAA0C4f,CAA1C;;QACA,IAAG7xB,QAAQ,CAACyxB,aAAZ,EAA2B;UACzBI,CAAC,GAAGjzB,CAAC,CAAC,QAAD,CAAD,CACCqT,QADD,CACUjS,QAAQ,CAACsH,SAAT,CAAmBsqB,MAD7B,EAEC3f,QAFD,CAEUjS,QAAQ,CAAC2xB,eAFnB,CAAJ;;UAGA,IAAG,CAAC,CAAC3xB,QAAQ,CAAC0xB,UAAd,EAAyB;YACvBG,CAAC,CAACvjB,IAAF,CAAOtO,QAAQ,CAAC0xB,UAAhB;YACAG,CAAC,CAAC5f,QAAF,CAAW,MAAX;UACD;;UACD8K,CAAC,CAACyB,MAAF,CAASqT,CAAT;QACD;;QACD,OAAO9U,CAAP;MACH;IAdO;EAvEW,CAAvB;AA0FC,CAnuBA,EAmuBG5W,MAnuBH,EAmuBWtH,MAnuBX,EAmuBmBC,QAnuBnB;AAquBD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA;;AAAC,CAAC,UAAUF,CAAV,EAAaC,MAAb,EAAqBC,QAArB,EAA+BC,SAA/B,EAA0C;EAE5C;;EAEAH,CAAC,CAACI,UAAF,GAAeJ,CAAC,CAACI,UAAF,IAAgB,UAASC,GAAT,EAAc;IAC3C,OAAO,OAAOA,GAAP,KAAe,UAAf,IAA6B,OAAOA,GAAG,CAACC,QAAX,KAAwB,QAA5D;EACD,CAFD;;EAIAL,MAAM,GAAI,OAAOA,MAAP,IAAiB,WAAjB,IAAgCA,MAAM,CAACuH,IAAP,IAAeA,IAAhD,GACLvH,MADK,GAEJ,OAAOwH,IAAP,IAAe,WAAf,IAA8BA,IAAI,CAACD,IAAL,IAAaA,IAA5C,GACEC,IADF,GAEE3C,QAAQ,CAAC,aAAD,CAAR,EAJN;;EAOA9E,CAAC,CAACQ,EAAF,CAAK8L,QAAL,GAAgB,UAAS7L,UAAT,EAAqB;IACnC,IACEkH,WAAW,GAAM3H,CAAC,CAAC,IAAD,CADpB;IAAA,IAEE0B,SAAS,GAAQ1B,CAAC,CAACE,QAAD,CAFpB;IAAA,IAIE0H,cAAc,GAAGD,WAAW,CAACE,QAAZ,IAAwB,EAJ3C;IAAA,IAMEqrB,QAAQ,IAAU,kBAAkBhzB,QAAQ,CAACixB,eAArC,CANV;IAAA,IAOED,UAAU,GAAQgC,QAAQ,GACpB,YADoB,GAEpB,OATR;IAAA,IAWExyB,IAAI,GAAa,IAAIC,IAAJ,GAAWC,OAAX,EAXnB;IAAA,IAYEC,WAAW,GAAM,EAZnB;IAAA,IAcEC,KAAK,GAAYC,SAAS,CAAC,CAAD,CAd5B;IAAA,IAeEC,aAAa,GAAK,OAAOF,KAAP,IAAgB,QAfpC;IAAA,IAgBEG,cAAc,GAAG,GAAGC,KAAH,CAASC,IAAT,CAAcJ,SAAd,EAAyB,CAAzB,CAhBnB;IAAA,IAiBEiB,aAjBF;IAoBA2F,WAAW,CACRhE,IADH,CACQ,UAASwvB,YAAT,EAAuB;MAC3B,IACE/xB,QAAQ,GAAcpB,CAAC,CAACqB,aAAF,CAAgBZ,UAAhB,CAAF,GAChBT,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAe,EAAf,EAAmBtB,CAAC,CAACQ,EAAF,CAAK8L,QAAL,CAAclL,QAAjC,EAA2CX,UAA3C,CADgB,GAEhBT,CAAC,CAACsB,MAAF,CAAS,EAAT,EAAatB,CAAC,CAACQ,EAAF,CAAK8L,QAAL,CAAclL,QAA3B,CAHN;MAAA,IAKEsH,SAAS,GAAStH,QAAQ,CAACsH,SAL7B;MAAA,IAMExD,OAAO,GAAW9D,QAAQ,CAAC8D,OAN7B;MAAA,IAOEiL,MAAM,GAAY/O,QAAQ,CAAC+O,MAP7B;MAAA,IAQEkB,IAAI,GAAcjQ,QAAQ,CAACiQ,IAR7B;MAAA,IASE5I,QAAQ,GAAUrH,QAAQ,CAACqH,QAT7B;MAAA,IAUElH,SAAS,GAASH,QAAQ,CAACG,SAV7B;MAAA,IAWEoH,MAAM,GAAYvH,QAAQ,CAACuH,MAX7B;MAAA,IAYEd,QAAQ,GAAUzG,QAAQ,CAACyG,QAZ7B;MAAA,IAaErG,KAAK,GAAaJ,QAAQ,CAACI,KAb7B;MAAA,IAcE8R,SAAS,GAASlS,QAAQ,CAACkS,SAd7B;MAAA,IAgBE1K,cAAc,GAAI,MAAMrH,SAhB1B;MAAA,IAiBEE,eAAe,GAAG,YAAYF,SAjBhC;MAAA,IAmBEI,OAAO,GAAW3B,CAAC,CAAC,IAAD,CAnBrB;MAAA,IAoBEozB,QAAQ,GAAUpzB,CAAC,CAACoB,QAAQ,CAAC0E,OAAV,CApBrB;MAAA,IAqBEutB,KAAK,GAAa1xB,OAAO,CAAC6H,IAAR,CAAa3B,QAAQ,CAAC6H,IAAtB,CArBpB;MAAA,IAsBE4jB,OAAO,GAAW3xB,OAAO,CAAC6H,IAAR,CAAa3B,QAAQ,CAAC4I,MAAtB,CAtBpB;MAAA,IAuBE8iB,MAAM,GAAY5xB,OAAO,CAAC6H,IAAR,CAAa3B,QAAQ,CAAC2rB,KAAtB,CAvBpB;MAAA,IAwBEjpB,MAAM,GAAY5I,OAAO,CAAC6H,IAAR,CAAa3B,QAAQ,CAACgH,KAAtB,CAxBpB;MAAA,IAyBE4kB,KAAK,GAAa9xB,OAAO,CAAC6H,IAAR,CAAa3B,QAAQ,CAAC6rB,IAAtB,CAzBpB;MAAA,IA0BEprB,MAAM,GAAY3G,OAAO,CAAC6H,IAAR,CAAa3B,QAAQ,CAAC8rB,SAAtB,CA1BpB;MAAA,IA4BEC,MAAM,GAAIjyB,OAAO,CAAC2b,IAAR,GAAe9T,IAAf,CAAoB3B,QAAQ,CAAC6H,IAA7B,EAAmCrL,MAAnC,GAA4C,CAA7C,GACL1C,OAAO,CAAC2b,IAAR,GAAe9T,IAAf,CAAoB3B,QAAQ,CAAC6H,IAA7B,CADK,GAEL/N,OAAO,CAAC2b,IAAR,EA9BN;MAAA,IAgCEuW,KAAK,GAAalyB,OAAO,CAACwR,QAAR,CAAiBtL,QAAQ,CAACisB,IAA1B,CAhCpB;MAAA,IAiCEC,KAAK,GAAaF,KAAK,CAACrqB,IAAN,CAAW3B,QAAQ,CAACoL,IAApB,CAjCpB;MAAA,IAkCE+gB,QAAQ,GAAU5yB,QAAQ,CAAC6yB,YAAT,GAAwBF,KAAK,CAAC3oB,MAAN,GAAe+H,QAAf,CAAwBtL,QAAQ,CAACqsB,OAAjC,CAAxB,GAAoEl0B,CAAC,EAlCzF;MAAA,IAoCEm0B,SAAS,GAAS,KApCpB;MAAA,IAqCEC,aAAa,GAAK,KArCpB;MAAA,IAsCEC,cAAc,GAAI,KAtCpB;MAAA,IAuCEC,WAAW,GAAO,KAvCpB;MAAA,IAwCE1yB,OAAO,GAAW,IAxCpB;MAAA,IAyCEmlB,OAAO,GAAW,KAzCpB;MAAA,IA0CEllB,QAAQ,GAAUF,OAAO,CAACG,IAAR,CAAaL,eAAb,CA1CpB;MAAA,IA4CE8yB,kBA5CF;MAAA,IA6CEvG,WA7CF;MAAA,IA8CEwG,aA9CF;MAAA,IA+CEC,WA/CF;MAAA,IAgDEC,gBAhDF;MAAA,IAiDEC,EAjDF;MAAA,IAkDEC,cAlDF;MAAA,IAmDEC,YAnDF;MAAA,IAoDE1V,aApDF;MAAA,IAqDEpd,MArDF;MAwDAA,MAAM,GAAG;QAEPE,UAAU,EAAE,YAAW;UACrBF,MAAM,CAACS,KAAP,CAAa,uBAAb,EAAsCpB,QAAtC;;UAEA,IAAIW,MAAM,CAAC4J,EAAP,CAAUmpB,YAAV,EAAJ,EAA+B;YAC7B/yB,MAAM,CAACqd,KAAP,CAAaiP,SAAb;UACD,CAFD,MAGK;YACH,IAAIjtB,QAAQ,CAAC2zB,gBAAT,IAA6B,CAACpnB,MAAM,CAAC5I,SAAP,CAAiB3C,SAAnD,EAA8D;cAC5DhB,QAAQ,CAAC2zB,gBAAT,GAA4B,KAA5B;cACAhzB,MAAM,CAACP,KAAP,CAAaA,KAAK,CAACwzB,WAAnB,EAAgCpzB,OAAhC;YACD;;YAEDG,MAAM,CAACqd,KAAP,CAAa6V,MAAb;;YAEA,IAAG7zB,QAAQ,CAAC4Q,MAAZ,EAAoB;cAClBjQ,MAAM,CAACoH,GAAP,CAAW6kB,WAAX;cACAjsB,MAAM,CAACiC,MAAP,CAAcgO,MAAd,CAAqB5Q,QAAQ,CAAC4Q,MAA9B;cACAjQ,MAAM,CAACsK,MAAP,CAAc2hB,WAAd;YACD;;YAEDjsB,MAAM,CAACmzB,WAAP;YAEAnzB,MAAM,CAACozB,IAAP,CAAY/rB,QAAZ;YACArH,MAAM,CAACqzB,OAAP,CAAeC,QAAf;YAEAtzB,MAAM,CAACsd,MAAP,CAAcsV,EAAd;YACA5yB,MAAM,CAACiD,IAAP,CAAYyV,MAAZ;YAEA1Y,MAAM,CAAC2Y,cAAP;YACA3Y,MAAM,CAACG,WAAP;UACD;QAEF,CAlCM;QAoCPA,WAAW,EAAE,YAAW;UACtBH,MAAM,CAACI,OAAP,CAAe,8BAAf,EAA+CJ,MAA/C;UACAF,QAAQ,GAAGE,MAAX;UACAJ,OAAO,CACJG,IADH,CACQL,eADR,EACyBM,MADzB;QAGD,CA1CM;QA4CP4C,OAAO,EAAE,YAAW;UAClB5C,MAAM,CAACI,OAAP,CAAe,8BAAf,EAA+CR,OAA/C;UACAI,MAAM,CAACsK,MAAP,CAAc6hB,QAAd;UACAnsB,MAAM,CAACsK,MAAP,CAAcmP,MAAd;UACAqY,KAAK,CAACngB,UAAN,CAAiB,UAAjB;UACAmgB,KAAK,CAACznB,WAAN,CAAkB1D,SAAS,CAAC4sB,OAA5B,EAAqCjiB,QAArC,CAA8C3K,SAAS,CAAC8lB,MAAxD;UACA7sB,OAAO,CACJ8M,GADH,CACO7F,cADP,EAEGhE,UAFH,CAEcnD,eAFd;UAIAoyB,KAAK,CACFplB,GADH,CACO7F,cADP;UAGAlH,SAAS,CACN+M,GADH,CACOimB,gBADP;UAGA3yB,MAAM,CAACwd,UAAP,CAAkBsV,YAAlB;UACA9yB,MAAM,CAACwd,UAAP,CAAkBqV,cAAlB;UACA7yB,MAAM,CAACwd,UAAP,CAAkBJ,aAAlB;QACD,CA/DM;QAiEPzE,cAAc,EAAE,YAAW;UACzB,IAAG,sBAAsBza,MAAzB,EAAiC;YAC/B20B,cAAc,GAAG,IAAIja,gBAAJ,CAAqB5Y,MAAM,CAACiI,KAAP,CAAaurB,MAAb,CAAoB5M,QAAzC,CAAjB;YACAkM,YAAY,GAAK,IAAIla,gBAAJ,CAAqB5Y,MAAM,CAACiI,KAAP,CAAa8pB,IAAb,CAAkBnL,QAAvC,CAAjB;YACAxJ,aAAa,GAAI,IAAIxE,gBAAJ,CAAqB5Y,MAAM,CAACiI,KAAP,CAAagc,KAAb,CAAmB2C,QAAxC,CAAjB;YACA5mB,MAAM,CAACS,KAAP,CAAa,8BAAb,EAA6CoyB,cAA7C,EAA6DC,YAA7D,EAA2E1V,aAA3E;YACApd,MAAM,CAAC8Y,OAAP,CAAe0a,MAAf;YACAxzB,MAAM,CAAC8Y,OAAP,CAAeiZ,IAAf;YACA/xB,MAAM,CAAC8Y,OAAP,CAAemL,KAAf;UACD;QACF,CA3EM;QA6EPzG,UAAU,EAAE;UACVsV,YAAY,EAAE,YAAW;YACvB,IAAGA,YAAH,EAAiB;cACfA,YAAY,CAACtV,UAAb;YACD;UACF,CALS;UAMVqV,cAAc,EAAE,YAAW;YACzB,IAAGA,cAAH,EAAmB;cACjBA,cAAc,CAACrV,UAAf;YACD;UACF,CAVS;UAWVJ,aAAa,EAAE,YAAW;YACxB,IAAGA,aAAH,EAAkB;cAChBA,aAAa,CAACI,UAAd;YACD;UACF;QAfS,CA7EL;QA8FP1E,OAAO,EAAE;UACP0a,MAAM,EAAE,YAAW;YACjB,IAAGxzB,MAAM,CAAC6Q,GAAP,CAAW/D,KAAX,MAAsB+lB,cAAzB,EAAyC;cACvCA,cAAc,CAAC/Z,OAAf,CAAuBlZ,OAAO,CAAC,CAAD,CAA9B,EAAmC;gBACjCmZ,SAAS,EAAG,IADqB;gBAEjCC,OAAO,EAAK;cAFqB,CAAnC;YAID;UACF,CARM;UASP+Y,IAAI,EAAE,YAAW;YACf,IAAG/xB,MAAM,CAAC6Q,GAAP,CAAWkhB,IAAX,MAAqBe,YAAxB,EAAsC;cACpCA,YAAY,CAACha,OAAb,CAAqBgZ,KAAK,CAAC,CAAD,CAA1B,EAA+B;gBAC7B/Y,SAAS,EAAG,IADiB;gBAE7BC,OAAO,EAAK;cAFiB,CAA/B;YAID;UACF,CAhBM;UAiBPiL,KAAK,EAAE,YAAW;YAChB,IAAGjkB,MAAM,CAAC6Q,GAAP,CAAWnC,MAAX,MAAuB0O,aAA1B,EAAyC;cACvCA,aAAa,CAACtE,OAAd,CAAsBlZ,OAAO,CAAC,CAAD,CAA7B,EAAkC;gBAChCmnB,UAAU,EAAG;cADmB,CAAlC;YAGD;UACF;QAvBM,CA9FF;QAwHPzJ,MAAM,EAAE;UACNsV,EAAE,EAAE,YAAW;YACbA,EAAE,GAAG,CAACntB,IAAI,CAACguB,MAAL,GAAcxnB,QAAd,CAAuB,EAAvB,IAA6B,WAA9B,EAA2CynB,MAA3C,CAAkD,CAAlD,EAAqD,CAArD,CAAL;YACAf,gBAAgB,GAAG,MAAMC,EAAzB;YACA5yB,MAAM,CAACI,OAAP,CAAe,gCAAf,EAAiDwyB,EAAjD;UACD,CALK;UAMNe,UAAU,EAAE,UAAS1jB,MAAT,EAAiB;YAC3B,IACE2jB,YADF,EAEEC,WAFF,EAGEC,WAHF,EAIEpiB,IAJF;YAMAzB,MAAM,GAAGA,MAAM,IAAIjQ,MAAM,CAACiH,GAAP,CAAW8sB,UAAX,EAAnB;;YACA,IAAG,CAAC9jB,MAAJ,EAAY;cACV,OAAO,KAAP;YACD;;YACDA,MAAM,GAAGvL,KAAK,CAACC,OAAN,CAAcsL,MAAd,IACLA,MADK,GAEL,CAACA,MAAD,CAFJ;YAIAhS,CAAC,CAAC2D,IAAF,CAAOqO,MAAP,EAAe,UAASpO,KAAT,EAAgBM,KAAhB,EAAuB;cACpC,IAAGnC,MAAM,CAACiH,GAAP,CAAWiK,IAAX,CAAgB/O,KAAhB,MAA2B,KAA9B,EAAqC;gBACnCuP,IAAI,GAAWrS,QAAQ,CAACkS,SAAT,CAAmByiB,QAAnB,CAA6Bh0B,MAAM,CAAC6P,GAAP,CAAWokB,SAAX,CAAqB9wB,OAAO,CAAC+wB,SAA7B,EAAwC/xB,KAAxC,CAA7B,CAAf;gBACA0xB,WAAW,GAAI51B,CAAC,CAAC,SAAD,CAAD,CACZyT,IADY,CACPA,IADO,EAEZmB,IAFY,CAEP,UAAUnM,QAAQ,CAACvE,KAFZ,EAEmBA,KAFnB,EAGZ0Q,IAHY,CAGP,UAAUnM,QAAQ,CAACiH,IAHZ,EAGkBxL,KAHlB,EAIZmP,QAJY,CAIH3K,SAAS,CAACqtB,QAJP,EAKZ1iB,QALY,CAKH3K,SAAS,CAACuK,IALP,CAAf;;gBAOA,IAAG7R,QAAQ,CAAC80B,aAAZ,EAA2B;kBACzBN,WAAW,CAACviB,QAAZ,CAAqB3K,SAAS,CAAC8lB,MAA/B;gBACD;;gBACDmH,YAAY,GAAIA,YAAY,KAAKx1B,SAAlB,GACXy1B,WADW,GAEXD,YAAY,CAAC/jB,GAAb,CAAiBgkB,WAAjB,CAFJ;gBAIA7zB,MAAM,CAACI,OAAP,CAAe,iCAAf,EAAkD+B,KAAlD,EAAyD0xB,WAAzD;cACD;YACF,CAnBD;YAoBA,OAAOD,YAAP;UACD,CA1CK;UA2CNQ,UAAU,EAAE,UAASjyB,KAAT,EAAgB;YAC1B,IACE4xB,UAAU,GAAG/zB,MAAM,CAACiH,GAAP,CAAW8sB,UAAX,EADf;;YAGA,IAAGA,UAAH,EAAe;cACb/zB,MAAM,CAACS,KAAP,CAAa,oBAAb,EAAmCszB,UAAnC;cACA91B,CAAC,CAAC2D,IAAF,CAAOmyB,UAAP,EAAmB,UAASlyB,KAAT,EAAgBM,KAAhB,EAAuB;gBACxCnC,MAAM,CAACI,OAAP,CAAe,0BAAf;gBACAJ,MAAM,CAAC6P,GAAP,CAAW2B,KAAX,CAAiBrP,KAAjB,EAAwBA,KAAxB;cACD,CAHD;YAID;UACF,CAtDK;UAuDN4vB,IAAI,EAAE,YAAW;YACfD,KAAK,GAAG7zB,CAAC,CAAC,SAAD,CAAD,CACLqT,QADK,CACI3K,SAAS,CAACorB,IADd,EAELtgB,QAFK,CAEI7R,OAFJ,CAAR;UAID,CA5DK;UA6DN6xB,KAAK,EAAE,YAAW;YAChBD,MAAM,GAAGvzB,CAAC,CAAC,UAAD,CAAD,CACNqT,QADM,CACG3K,SAAS,CAAC8qB,KADb,EAENzC,WAFM,CAEMuC,OAFN,CAAT;UAID;QAlEK,CAxHD;QA6LP7iB,MAAM,EAAE,UAAS3P,KAAT,EAAgB;UACtBA,KAAK,GAAIA,KAAK,KAAKX,SAAX,GACJW,KADI,GAEJiB,MAAM,CAACiH,GAAP,CAAWlI,KAAX,EAFJ;UAIAiB,MAAM,CAACI,OAAP,CAAe,qBAAf,EAAsCrB,KAAtC;;UACA,IAAGM,QAAQ,CAACqvB,UAAT,KAAwB,KAAxB,IAAiC1uB,MAAM,CAAC4J,EAAP,CAAUqiB,WAAV,EAApC,EAA6D;YAC3DjsB,MAAM,CAACI,OAAP,CAAe,mCAAf,EAAoDf,QAAQ,CAACg1B,QAA7D;UACD,CAFD,MAEO,IAAGr0B,MAAM,CAAC6Q,GAAP,CAAWyjB,aAAX,CAAyBv1B,KAAzB,KAAmCM,QAAQ,CAACg1B,QAAT,CAAkBj1B,IAAlB,CAAuBS,OAAvB,EAAgCd,KAAhC,MAA2C,KAAjF,EAAwF;YAC7FiB,MAAM,CAACgL,MAAP,CAAcjM,KAAd;UACD,CAFM,MAGF;YACHiB,MAAM,CAACosB,IAAP,CAAY,IAAZ,EAAiB,IAAjB;UACD;QACF,CA3MM;QA6MPoH,MAAM,EAAE;UACNe,eAAe,EAAE,YAAW;YAC1Bv0B,MAAM,CAACI,OAAP,CAAe,sCAAf;YACAJ,MAAM,CAACsK,MAAP,CAAckqB,YAAd;YACAxC,KAAK,CACFjd,GADH,CACOjP,QAAQ,CAAC2uB,YADhB,EAEG1f,GAFH,CAEOjP,QAAQ,CAACkuB,QAAT,GAAoBluB,QAAQ,CAAC2mB,MAFpC,EAGKrd,EAHL,CAGQ,CAHR,EAIKkC,QAJL,CAIc3K,SAAS,CAAC2sB,QAJxB;UAMD,CAVK;UAWNoB,aAAa,EAAE,UAASC,SAAT,EAAoB;YACjCA,SAAS,GAAGA,SAAS,CAACvlB,EAAV,CAAa,CAAb,CAAZ;YACA,IACEwlB,cAAc,GAAGD,SAAS,CAACE,OAAV,CAAkB/uB,QAAQ,CAACoL,IAA3B,EAAiC6D,GAAjC,CAAqCjP,QAAQ,CAAC2uB,YAA9C,EAA4DrlB,EAA5D,CAA+D,CAA/D,CADnB;YAAA,IAEE0lB,cAAc,GAAGH,SAAS,CAAC7F,OAAV,CAAkBhpB,QAAQ,CAACoL,IAA3B,EAAiC6D,GAAjC,CAAqCjP,QAAQ,CAAC2uB,YAA9C,EAA4DrlB,EAA5D,CAA+D,CAA/D,CAFnB;YAAA,IAGE2lB,OAAO,GAAWH,cAAc,CAACtyB,MAAf,GAAwB,CAH5C;;YAKA,IAAGyyB,OAAH,EAAY;cACV/0B,MAAM,CAACI,OAAP,CAAe,qBAAf,EAAsCw0B,cAAtC;cACAA,cAAc,CAACtjB,QAAf,CAAwB3K,SAAS,CAAC2sB,QAAlC;YACD,CAHD,MAIK;cACHtzB,MAAM,CAACI,OAAP,CAAe,qBAAf,EAAsC00B,cAAtC;cACAA,cAAc,CAACxjB,QAAf,CAAwB3K,SAAS,CAAC2sB,QAAlC;YACD;UACF;QA1BK,CA7MD;QA0OPjW,KAAK,EAAE;UACL2X,GAAG,EAAE,YAAW;YACd,IACEC,WAAW,GAAG;cACZx0B,KAAK,EAAKpB,QAAQ,CAACoB,KADP;cAEZy0B,OAAO,EAAG;gBACR/yB,KAAK,EAAGnC,MAAM,CAACiH,GAAP,CAAW9E,KAAX,EADA;gBAERpD,KAAK,EAAGiB,MAAM,CAACiH,GAAP,CAAWlI,KAAX;cAFA,CAFE;cAMZiJ,EAAE,EAAM;YANI,CADhB;YAUAhI,MAAM,CAACI,OAAP,CAAe,iCAAf;YACAR,OAAO,CACJo1B,GADH,CACOC,WADP;UAGD,CAhBI;UAiBL/B,MAAM,EAAE,YAAW;YACjB,IAAItzB,OAAO,CAACgK,EAAR,CAAW,QAAX,CAAJ,EAA2B;cACzB5J,MAAM,CAACqd,KAAP,CAAamW,MAAb;cACAxzB,MAAM,CAACqd,KAAP,CAAa8X,cAAb;YACD;;YACD,IAAI,CAACn1B,MAAM,CAAC6Q,GAAP,CAAWkhB,IAAX,EAAL,EAAyB;cACvB/xB,MAAM,CAACsd,MAAP,CAAcyU,IAAd;YACD;;YACD,IAAK/xB,MAAM,CAAC4J,EAAP,CAAUwrB,SAAV,MAAyB,CAACp1B,MAAM,CAAC6Q,GAAP,CAAWwkB,SAAX,EAA/B,EAAwD;cACtDr1B,MAAM,CAACI,OAAP,CAAe,mBAAf;cACAmG,MAAM,GAAGtI,CAAC,CAAC,OAAD,CAAD,CACNqT,QADM,CACG,aADH,EAENgkB,YAFM,CAEOhE,KAFP,CAAT;YAID;;YACD,IAAItxB,MAAM,CAAC4J,EAAP,CAAU8E,MAAV,MAAsB,CAAC1O,MAAM,CAAC6Q,GAAP,CAAWnC,MAAX,EAA3B,EAAiD;cAC/C1O,MAAM,CAACI,OAAP,CAAe,qBAAf;cACAmxB,OAAO,GAAGtzB,CAAC,CAAC,WAAD,CAAD,CACPqT,QADO,CACE3K,SAAS,CAAC+H,MADZ,EAEPhG,IAFO,CAEF,cAFE,EAEc1I,MAAM,CAAC4J,EAAP,CAAU2rB,MAAV,KAAqB,iBAArB,GAAyC,KAFvD,EAGPD,YAHO,CAGMhE,KAHN,CAAV;YAKD;;YACD,IAAItxB,MAAM,CAAC4J,EAAP,CAAUqO,QAAV,MAAwBjY,MAAM,CAAC4J,EAAP,CAAU4rB,eAAV,EAAxB,IAAuD,CAACx1B,MAAM,CAAC6Q,GAAP,CAAW4gB,KAAX,EAA5D,EAAgF;cAC9EzxB,MAAM,CAACsd,MAAP,CAAcmU,KAAd;YACD;;YACD,IAAGpyB,QAAQ,CAACo2B,QAAZ,EAAsB;cACpBz1B,MAAM,CAACoH,GAAP,CAAW+kB,QAAX;YACD;UACF,CA9CI;UA+CLqH,MAAM,EAAE,YAAW;YACjB,IACEkC,YAAY,GAAI11B,MAAM,CAACiH,GAAP,CAAWyuB,YAAX,EADlB;YAGA11B,MAAM,CAACS,KAAP,CAAa,kCAAb,EAAiDi1B,YAAjD;;YACA,IAAI91B,OAAO,CAACgK,EAAR,CAAW,QAAX,CAAJ,EAA2B;cACzBpB,MAAM,GAAG5I,OAAT;YACD,CAPgB,CAQjB;;;YACA,IAAG4I,MAAM,CAACa,MAAP,CAAcvD,QAAQ,CAACyE,QAAvB,EAAiCjI,MAAjC,GAA0C,CAA7C,EAAgD;cAC9CtC,MAAM,CAACS,KAAP,CAAa,yDAAb;cACAb,OAAO,GAAG4I,MAAM,CAACe,OAAP,CAAezD,QAAQ,CAACyE,QAAxB,CAAV;;cACA,IAAI,CAACvK,MAAM,CAAC6Q,GAAP,CAAWkhB,IAAX,EAAL,EAAyB;gBACvB/xB,MAAM,CAACsd,MAAP,CAAcyU,IAAd;cACD;;cACDD,KAAK,GAAGlyB,OAAO,CAACwR,QAAR,CAAiBtL,QAAQ,CAACisB,IAA1B,CAAR;cACA/xB,MAAM,CAACqd,KAAP,CAAa0U,IAAb,CAAkB2D,YAAlB;YACD,CARD,MASK;cACH11B,MAAM,CAACS,KAAP,CAAa,sCAAb;cACAb,OAAO,GAAG3B,CAAC,CAAC,SAAD,CAAD,CACP4U,IADO,CACF,OADE,EACOrK,MAAM,CAACqK,IAAP,CAAY,OAAZ,CADP,EAEPvB,QAFO,CAEE3K,SAAS,CAACgvB,SAFZ,EAGPrkB,QAHO,CAGE3K,SAAS,CAAC4D,QAHZ,EAIPmH,IAJO,CAIDH,SAAS,CAAChH,QAAV,CAAmBmrB,YAAnB,EAAiCtnB,MAAjC,EAAyC/O,QAAQ,CAACu2B,YAAlD,EAAgEv2B,QAAQ,CAACsH,SAAzE,CAJC,EAKP2uB,YALO,CAKM9sB,MALN,CAAV;;cAOA,IAAGA,MAAM,CAAC4B,QAAP,CAAgBzD,SAAS,CAACsR,QAA1B,KAAuCzP,MAAM,CAACE,IAAP,CAAY,UAAZ,MAA4B,KAAtE,EAA6E;gBAC3E1I,MAAM,CAACP,KAAP,CAAaA,KAAK,CAACo2B,eAAnB;gBACArtB,MAAM,CAACE,IAAP,CAAY,UAAZ,EAAwB,IAAxB;cACD;;cACD,IAAGF,MAAM,CAACoB,EAAP,CAAU,YAAV,CAAH,EAA4B;gBAC1B5J,MAAM,CAACoH,GAAP,CAAW6Q,QAAX;cACD;;cACD,IAAIzP,MAAM,CAACE,IAAP,CAAY,UAAZ,CAAJ,EAA6B;gBAC3B1I,MAAM,CAACS,KAAP,CAAa,oBAAb;gBACAb,OAAO,CAAC0R,QAAR,CAAiB3K,SAAS,CAAC5E,QAA3B;cACD;;cACDyG,MAAM,CACHgL,UADH,CACc,UADd,EAEGA,UAFH,CAEc,OAFd,EAGGub,MAHH,GAIG+G,SAJH,CAIal2B,OAJb;YAMD;;YACDI,MAAM,CAACkH,OAAP;UACD,CA7FI;UA8FL6qB,IAAI,EAAE,UAAS9hB,MAAT,EAAiB;YACrB6hB,KAAK,CAACpgB,IAAN,CAAYH,SAAS,CAACwgB,IAAV,CAAe9hB,MAAf,EAAuB7B,MAAvB,EAA8B/O,QAAQ,CAACu2B,YAAvC,EAAoDv2B,QAAQ,CAACsH,SAA7D,CAAZ;YACAqrB,KAAK,GAAMF,KAAK,CAACrqB,IAAN,CAAW3B,QAAQ,CAACoL,IAApB,CAAX;YACA+gB,QAAQ,GAAG5yB,QAAQ,CAAC6yB,YAAT,GAAwBF,KAAK,CAAC3oB,MAAN,GAAe+H,QAAf,CAAwBtL,QAAQ,CAACqsB,OAAjC,CAAxB,GAAoEl0B,CAAC,EAAhF;UACD,CAlGI;UAmGLquB,SAAS,EAAE,YAAW;YACpBtsB,MAAM,CAACS,KAAP,CAAa,yEAAb,EADoB,CAEpB;;YACAb,OAAO,GAAIA,OAAO,CAACyJ,MAAR,CAAevD,QAAQ,CAACyE,QAAxB,CAAX;YACAzK,QAAQ,GAAGF,OAAO,CAACG,IAAR,CAAaL,eAAb,CAAX;YACAG,OAAO,GAAID,OAAO,CAACqH,GAAR,CAAY,CAAZ,CAAX;YACAjH,MAAM,CAACkH,OAAP;YACAlH,MAAM,CAACqd,KAAP,CAAa8X,cAAb;UACD,CA3GI;UA4GLA,cAAc,EAAE,YAAW;YACzB,IACEY,aAAa,GAAGnwB,WAAW,CAACzG,KAAZ,CAAkB,CAAlB,EAAqBiyB,YAArB,CADlB;YAAA,IAEE4E,YAAY,GAAIpwB,WAAW,CAACzG,KAAZ,CAAkBiyB,YAAY,GAAG,CAAjC,CAFlB,CADyB,CAKzB;;YACAxrB,WAAW,GAAGmwB,aAAa,CAAClmB,GAAd,CAAkBjQ,OAAlB,EAA2BiQ,GAA3B,CAA+BmmB,YAA/B,CAAd;UACD;QAnHI,CA1OA;QAgWP9uB,OAAO,EAAE,YAAW;UAClBlH,MAAM,CAACi2B,gBAAP;UACAj2B,MAAM,CAACmzB,WAAP;QACD,CAnWM;QAqWP+C,YAAY,EAAE,YAAW;UACvBlE,KAAK,GAAMF,KAAK,CAACrqB,IAAN,CAAW3B,QAAQ,CAACoL,IAApB,CAAX;UACA+gB,QAAQ,GAAG5yB,QAAQ,CAAC6yB,YAAT,GAAwBF,KAAK,CAAC3oB,MAAN,GAAe+H,QAAf,CAAwBtL,QAAQ,CAACqsB,OAAjC,CAAxB,GAAoEl0B,CAAC,EAAhF;QACD,CAxWM;QA0WPg4B,gBAAgB,EAAE,YAAW;UAC3Bj2B,MAAM,CAACI,OAAP,CAAe,2BAAf;UACAkxB,KAAK,GAAK1xB,OAAO,CAAC6H,IAAR,CAAa3B,QAAQ,CAAC6H,IAAtB,CAAV;UACA4jB,OAAO,GAAG3xB,OAAO,CAAC6H,IAAR,CAAa3B,QAAQ,CAAC4I,MAAtB,CAAV;UACAlG,MAAM,GAAI5I,OAAO,CAAC6H,IAAR,CAAa3B,QAAQ,CAACgH,KAAtB,CAAV;UACA4kB,KAAK,GAAK9xB,OAAO,CAAC6H,IAAR,CAAa3B,QAAQ,CAAC6rB,IAAtB,CAAV;UACAE,MAAM,GAAKjyB,OAAO,CAAC2b,IAAR,GAAe9T,IAAf,CAAoB3B,QAAQ,CAAC6H,IAA7B,EAAmCrL,MAAnC,GAA4C,CAA7C,GACN1C,OAAO,CAAC2b,IAAR,GAAe9T,IAAf,CAAoB3B,QAAQ,CAAC6H,IAA7B,CADM,GAEN/N,OAAO,CAAC2b,IAAR,EAFJ;UAIAuW,KAAK,GAAMlyB,OAAO,CAACwR,QAAR,CAAiBtL,QAAQ,CAACisB,IAA1B,CAAX;UACAC,KAAK,GAAMF,KAAK,CAACrqB,IAAN,CAAW3B,QAAQ,CAACoL,IAApB,CAAX;UACA+gB,QAAQ,GAAG5yB,QAAQ,CAAC6yB,YAAT,GAAwBF,KAAK,CAAC3oB,MAAN,GAAe+H,QAAf,CAAwBtL,QAAQ,CAACqsB,OAAjC,CAAxB,GAAoEl0B,CAAC,EAAhF;QACD,CAvXM;QAyXPk1B,WAAW,EAAE,YAAW;UACtBnzB,MAAM,CAACI,OAAP,CAAe,4BAAf;UACA4xB,KAAK,CACFnvB,UADH,CACc6D,QAAQ,CAACiH,IADvB,EAEG9K,UAFH,CAEc6D,QAAQ,CAACvE,KAFvB;QAID,CA/XM;QAiYPg0B,SAAS,EAAE,YAAW;UACpBn2B,MAAM,CAACI,OAAP,CAAe,mBAAf;UACA4xB,KAAK,CACFnvB,UADH,CACc6D,QAAQ,CAACiH,IADvB,EAEG9K,UAFH,CAEc6D,QAAQ,CAACvE,KAFvB;UAIAvC,OAAO,CACJiD,UADH,CACc6D,QAAQ,CAAC0vB,WADvB,EAEGvzB,UAFH,CAEc6D,QAAQ,CAACgD,YAFvB,EAGG7G,UAHH,CAGc6D,QAAQ,CAAC2vB,eAHvB;QAKD,CA5YM;QA8YPC,UAAU,EAAE,YAAW;UACrBxE,KAAK,CAACpmB,KAAN;UACA1L,MAAM,CAACk2B,YAAP;QACD,CAjZM;QAmZPhd,MAAM,EAAE,YAAW;UACjBlZ,MAAM,CAACI,OAAP,CAAe,0BAAf;;UACA,IAAI,CAACJ,MAAM,CAAC4J,EAAP,CAAU6P,MAAV,EAAL,EAA0B;YACxBzZ,MAAM,CAACqsB,IAAP;UACD,CAFD,MAGK;YACHrsB,MAAM,CAACosB,IAAP;UACD;QACF,CA3ZM;QA6ZPC,IAAI,EAAE,UAAShrB,QAAT,EAAmBk1B,YAAnB,EAAiC;UACrCl1B,QAAQ,GAAGpD,CAAC,CAACI,UAAF,CAAagD,QAAb,IACPA,QADO,GAEP,YAAU,CAAE,CAFhB;;UAIA,IAAI,CAAC2jB,OAAO,IAAIuN,WAAZ,KAA4BvyB,MAAM,CAAC4J,EAAP,CAAU4sB,MAAV,EAA5B,IAAkDx2B,MAAM,CAAC4J,EAAP,CAAU6sB,UAAV,EAAtD,EAA8E;YAC5Ez2B,MAAM,CAACs2B,UAAP;UACD;;UACD,IAAG,CAACt2B,MAAM,CAACgK,GAAP,CAAWqiB,IAAX,EAAD,IAAsBrsB,MAAM,CAAC4J,EAAP,CAAU4sB,MAAV,EAAzB,EAA6C;YAC3Cx2B,MAAM,CAACS,KAAP,CAAa,iDAAb;YACAT,MAAM,CAAC02B,WAAP,CAAmB12B,MAAM,CAACiH,GAAP,CAAWlI,KAAX,EAAnB,EAAuCiB,MAAM,CAACqsB,IAA9C,EAAoD,CAAChrB,QAAD,EAAWk1B,YAAX,CAApD;UACD;;UACD,IAAIv2B,MAAM,CAACgK,GAAP,CAAWqiB,IAAX,MAAqB,CAACrsB,MAAM,CAAC4J,EAAP,CAAU6P,MAAV,EAA1B,EAA+C;YAC7CzZ,MAAM,CAACS,KAAP,CAAa,kBAAb;;YACA,IAAGT,MAAM,CAAC6Q,GAAP,CAAW1N,OAAX,MAAwB,EAAEnD,MAAM,CAAC6Q,GAAP,CAAW8lB,aAAX,MAA8B32B,MAAM,CAAC6Q,GAAP,CAAW+lB,kBAAX,EAAhC,CAA3B,EAA8F;cAC5F52B,MAAM,CAACsK,MAAP,CAAcnH,OAAd;YACD;;YACD,IAAGnD,MAAM,CAAC4J,EAAP,CAAUitB,WAAV,EAAH,EAA4B;cAC1B,OAAO,IAAP;YACD;;YACD,IAAGx3B,QAAQ,CAAC4e,MAAT,CAAgB7e,IAAhB,CAAqBS,OAArB,MAAkC,KAArC,EAA4C;cAC1CG,MAAM,CAAC0a,OAAP,CAAe2R,IAAf,CAAoB,YAAW;gBAC7B,IAAIrsB,MAAM,CAACgK,GAAP,CAAWiP,KAAX,EAAJ,EAAyB;kBACvBjZ,MAAM,CAACiD,IAAP,CAAY6zB,MAAZ;gBACD;;gBACD,IAAG92B,MAAM,CAAC6Q,GAAP,CAAWnC,MAAX,MAAuB,CAAC6nB,YAA3B,EAAyC;kBACvCv2B,MAAM,CAAC+2B,WAAP;gBACD;;gBACD/2B,MAAM,CAACoH,GAAP,CAAWmsB,OAAX;gBACAlyB,QAAQ,CAACjC,IAAT,CAAcS,OAAd;cACD,CATD;YAUD;UACF;QACF,CA9bM;QAgcPusB,IAAI,EAAE,UAAS/qB,QAAT,EAAmB21B,WAAnB,EAAgC;UACpC31B,QAAQ,GAAGpD,CAAC,CAACI,UAAF,CAAagD,QAAb,IACPA,QADO,GAEP,YAAU,CAAE,CAFhB;;UAIA,IAAIrB,MAAM,CAAC4J,EAAP,CAAU6P,MAAV,MAAsB,CAACzZ,MAAM,CAAC4J,EAAP,CAAUqtB,gBAAV,EAA3B,EAA0D;YACxDj3B,MAAM,CAACS,KAAP,CAAa,iBAAb;;YACA,IAAGpB,QAAQ,CAACqf,MAAT,CAAgBtf,IAAhB,CAAqBS,OAArB,MAAkC,KAArC,EAA4C;cAC1CG,MAAM,CAAC0a,OAAP,CAAe0R,IAAf,CAAoB,YAAW;gBAC7BpsB,MAAM,CAACsK,MAAP,CAAcipB,OAAd,GAD6B,CAE7B;;gBACA,IAAKvzB,MAAM,CAAC4J,EAAP,CAAUstB,eAAV,MAA+BF,WAAW,KAAK,IAApD,EAA2D;kBACzDzF,OAAO,CAACnpB,IAAR;gBACD;;gBACD/G,QAAQ,CAACjC,IAAT,CAAcS,OAAd;cACD,CAPD;YAQD;UACF,CAZD,MAYO,IAAIG,MAAM,CAACgK,GAAP,CAAWiP,KAAX,EAAJ,EAAyB;YAC5BjZ,MAAM,CAACud,MAAP,CAAcuZ,MAAd;UACH;;UACDvE,WAAW,GAAG,KAAd;UACAvN,OAAO,GAAG,KAAV;QACD,CAtdM;QAwdPmS,UAAU,EAAE,YAAW;UACrBn3B,MAAM,CAACI,OAAP,CAAe,iCAAf;UACAwF,WAAW,CACRmP,GADH,CACOnV,OADP,EAEKiR,GAFL,CAES/K,QAAQ,CAACisB,IAAT,GAAgB,GAAhB,GAAsBprB,SAAS,CAAC4sB,OAFzC,EAGOhpB,QAHP,CAGgB,MAHhB;QAKD,CA/dM;QAieP6sB,QAAQ,EAAE,YAAW;UACnBp3B,MAAM,CAACI,OAAP,CAAe,8BAAf;UACAJ,MAAM,CAACsK,MAAP,CAAcmP,MAAd;UACAzZ,MAAM,CAACsK,MAAP,CAAcipB,OAAd;UACAzB,KAAK,CAACngB,UAAN,CAAiB,MAAjB;QACD,CAteM;QAweP0lB,YAAY,EAAE,YAAW;UACvB,IACEC,SAAS,GAAGxF,KAAK,CAAC1gB,QAAN,CAAetL,QAAQ,CAACoL,IAAxB,EAA8BzJ,IAA9B,CAAmC3B,QAAQ,CAACisB,IAA5C,CADd;UAGA/xB,MAAM,CAACI,OAAP,CAAe,kBAAf,EAAmCk3B,SAAnC;UACAA,SAAS,CAAC3lB,UAAV,CAAqB,MAArB;QACD,CA9eM;QAgfP1O,IAAI,EAAE;UACJyV,MAAM,EAAE,YAAW;YACjB1Y,MAAM,CAACiD,IAAP,CAAYs0B,cAAZ;YACAv3B,MAAM,CAACiD,IAAP,CAAYu0B,WAAZ;YACAx3B,MAAM,CAACiD,IAAP,CAAYw0B,WAAZ;UACD,CALG;UAMJF,cAAc,EAAE,YAAW;YACzBv3B,MAAM,CAACI,OAAP,CAAe,yBAAf;YACAR,OAAO,CACJoI,EADH,CACM,YAAYnB,cADlB,EACkC7G,MAAM,CAACiI,KAAP,CAAaK,OAD/C;;YAGA,IAAItI,MAAM,CAAC6Q,GAAP,CAAWnC,MAAX,EAAJ,EAA0B;cACxB9O,OAAO,CACJoI,EADH,CACMhI,MAAM,CAACiH,GAAP,CAAW0B,UAAX,KAA0B9B,cADhC,EACgDf,QAAQ,CAAC4I,MADzD,EACiE1O,MAAM,CAACiI,KAAP,CAAa6E,KAD9E;YAGD;;YACD,IAAI9M,MAAM,CAAC4J,EAAP,CAAUqO,QAAV,EAAJ,EAA2B;cACzBtY,SAAS,CACNqI,EADH,CACM,YAAY2qB,gBADlB,EACoC3yB,MAAM,CAACiI,KAAP,CAAa9J,QAAb,CAAsBmK,OAD1D;YAGD;UACF,CArBG;UAsBJkvB,WAAW,EAAE,YAAW;YACtBx3B,MAAM,CAACI,OAAP,CAAe,6BAAf;YACAR,OAAO,CACJoI,EADH,CACM,WAAWnB,cADjB,EACiCf,QAAQ,CAACgH,KAD1C,EACiD9M,MAAM,CAACiI,KAAP,CAAahG,MAD9D;UAGD,CA3BG;UA4BJw1B,WAAW,EAAE,YAAW;YACtBz3B,MAAM,CAACI,OAAP,CAAe,sBAAf;;YACA,IAAGJ,MAAM,CAAC4J,EAAP,CAAUqO,QAAV,EAAH,EAAyB;cACvBrY,OAAO,CACJoI,EADH,CACMmnB,UAAU,GAAKtoB,cADrB,EACqCf,QAAQ,CAAC0L,KAD9C,EACsDxR,MAAM,CAACiI,KAAP,CAAauJ,KAAb,CAAmByH,KADzE,EAEGjR,EAFH,CAEMmnB,UAAU,GAAKtoB,cAFrB,EAEqCf,QAAQ,CAACwE,MAF9C,EAEsDtK,MAAM,CAACiI,KAAP,CAAaqC,MAAb,CAAoB2O,KAF1E;YAID;;YACD,IAAIjZ,MAAM,CAAC4J,EAAP,CAAU4rB,eAAV,EAAJ,EAAkC;cAChC51B,OAAO,CACJoI,EADH,CACM,cAAcnB,cADpB,EACoC7G,MAAM,CAACiI,KAAP,CAAa2d,SADjD,EAEG5d,EAFH,CAEM,YAAcnB,cAFpB,EAEoC7G,MAAM,CAACiI,KAAP,CAAa4d,OAFjD,EAGG7d,EAHH,CAGM,cAAcnB,cAHpB,EAGoCf,QAAQ,CAACisB,IAH7C,EAGqD/xB,MAAM,CAACiI,KAAP,CAAa8pB,IAAb,CAAkBnM,SAHvE,EAIG5d,EAJH,CAIM,YAAcnB,cAJpB,EAIoCf,QAAQ,CAACisB,IAJ7C,EAIqD/xB,MAAM,CAACiI,KAAP,CAAa8pB,IAAb,CAAkBlM,OAJvE,EAKG7d,EALH,CAKMmnB,UAAU,GAAItoB,cALpB,EAKoCf,QAAQ,CAAC6rB,IAL7C,EAKqD3xB,MAAM,CAACiI,KAAP,CAAa0pB,IAAb,CAAkB1Y,KALvE,EAMGjR,EANH,CAMMmnB,UAAU,GAAItoB,cANpB,EAMoCf,QAAQ,CAAC8rB,SAN7C,EAMwD5xB,MAAM,CAACiI,KAAP,CAAa2pB,SAAb,CAAuB3Y,KAN/E,EAOGjR,EAPH,CAOM,UAAcnB,cAPpB,EAOoCf,QAAQ,CAAC4I,MAP7C,EAOqD1O,MAAM,CAACiI,KAAP,CAAayG,MAAb,CAAoB6E,KAPzE,EAQGvL,EARH,CAQMmnB,UAAU,GAAItoB,cARpB,EAQoCf,QAAQ,CAAC4I,MAR7C,EAQqD1O,MAAM,CAACiI,KAAP,CAAayG,MAAb,CAAoB6E,KARzE,EASGvL,EATH,CASM,SAAcnB,cATpB,EASoCf,QAAQ,CAAC4I,MAT7C,EASqD1O,MAAM,CAACiI,KAAP,CAAayG,MAAb,CAAoBtG,IATzE,EAUGJ,EAVH,CAUMmnB,UAAU,GAAItoB,cAVpB,EAUoCf,QAAQ,CAAC6H,IAV7C,EAUqD3N,MAAM,CAACiI,KAAP,CAAa0F,IAAb,CAAkB4F,KAVvE;;cAYA,IAAGvT,MAAM,CAAC4J,EAAP,CAAUqO,QAAV,EAAH,EAAyB;gBACvBrY,OAAO,CACJoI,EADH,CACMmnB,UAAU,GAAGtoB,cADnB,EACmC7G,MAAM,CAACiI,KAAP,CAAagR,KADhD,EAEGjR,EAFH,CAEMmnB,UAAU,GAAGtoB,cAFnB,EAEmC7G,MAAM,CAACiI,KAAP,CAAayG,MAAb,CAAoB6E,KAFvD;cAID;YACF,CAnBD,MAoBK;cACH,IAAGlU,QAAQ,CAAC2I,EAAT,IAAe,OAAlB,EAA2B;gBACzBpI,OAAO,CACJoI,EADH,CACMmnB,UAAU,GAAGtoB,cADnB,EACmCf,QAAQ,CAAC6rB,IAD5C,EACkD3xB,MAAM,CAACiI,KAAP,CAAa0pB,IAAb,CAAkB1Y,KADpE,EAEGjR,EAFH,CAEMmnB,UAAU,GAAGtoB,cAFnB,EAEmC7G,MAAM,CAACiI,KAAP,CAAaoE,IAAb,CAAkB6M,MAFrD;cAID,CALD,MAMK,IAAG7Z,QAAQ,CAAC2I,EAAT,IAAe,OAAlB,EAA2B;gBAC9BpI,OAAO,CACJoI,EADH,CACM,eAAenB,cADrB,EACqC7G,MAAM,CAACyN,KAAP,CAAa4e,IADlD,EAEGrkB,EAFH,CAEM,eAAenB,cAFrB,EAEqC7G,MAAM,CAACyN,KAAP,CAAa2e,IAFlD;cAID,CALI,MAMA;gBACHxsB,OAAO,CACJoI,EADH,CACM3I,QAAQ,CAAC2I,EAAT,GAAcnB,cADpB,EACoC7G,MAAM,CAACkZ,MAD3C;cAGD;;cACDtZ,OAAO,CACJoI,EADH,CACM,cAAcnB,cADpB,EACoC7G,MAAM,CAACiI,KAAP,CAAa2d,SADjD,EAEG5d,EAFH,CAEM,YAAcnB,cAFpB,EAEoC7G,MAAM,CAACiI,KAAP,CAAa4d,OAFjD,EAGG7d,EAHH,CAGM,UAAcnB,cAHpB,EAGoC7G,MAAM,CAACiI,KAAP,CAAasL,KAHjD,EAIGvL,EAJH,CAIMmnB,UAAU,GAAItoB,cAJpB,EAIoCf,QAAQ,CAAC8rB,SAJ7C,EAIwD5xB,MAAM,CAACiI,KAAP,CAAa2pB,SAAb,CAAuB3Y,KAJ/E;;cAMA,IAAGjZ,MAAM,CAAC6Q,GAAP,CAAW6mB,UAAX,EAAH,EAA6B;gBAC3B93B,OAAO,CACJoI,EADH,CACM,SAASnB,cADf,EAC+Bf,QAAQ,CAAC4I,MADxC,EACgD1O,MAAM,CAACiI,KAAP,CAAayG,MAAb,CAAoBtG,IADpE;cAGD,CAJD,MAKK;gBACHxI,OAAO,CACJoI,EADH,CACM,SAASnB,cADf,EAC+B7G,MAAM,CAACiI,KAAP,CAAaG,IAD5C;cAGD;YACF;;YACD0pB,KAAK,CACF9pB,EADH,CACM,CAACmpB,QAAQ,GAAG,YAAH,GAAkB,YAA3B,IAA2CtqB,cADjD,EACiEf,QAAQ,CAACoL,IAD1E,EACgFlR,MAAM,CAACiI,KAAP,CAAaiJ,IAAb,CAAkBymB,UADlG,EAEG3vB,EAFH,CAEM,eAAenB,cAFrB,EAEqCf,QAAQ,CAACoL,IAF9C,EAEoDlR,MAAM,CAACiI,KAAP,CAAaiJ,IAAb,CAAkB0mB,UAFtE,EAGG5vB,EAHH,CAGM,UAAenB,cAHrB,EAGqCf,QAAQ,CAACoL,IAH9C,EAGoDlR,MAAM,CAACiI,KAAP,CAAaiJ,IAAb,CAAkB+H,KAHtE;UAKD,CAhGG;UAiGJ6d,MAAM,EAAE,YAAW;YACjB92B,MAAM,CAACI,OAAP,CAAe,uCAAf;;YACA,IAAG+wB,QAAH,EAAa;cACXxxB,SAAS,CACNqI,EADH,CACM,eAAe2qB,gBADrB,EACuC3yB,MAAM,CAACiI,KAAP,CAAaoE,IAAb,CAAkBwrB,KADzD,EAEG7vB,EAFH,CAEM,cAAe2qB,gBAFrB,EAEuC3yB,MAAM,CAACiI,KAAP,CAAaoE,IAAb,CAAkBwrB,KAFzD;YAID;;YACDl4B,SAAS,CACNqI,EADH,CACMmnB,UAAU,GAAGwD,gBADnB,EACqC3yB,MAAM,CAACiI,KAAP,CAAaoE,IAAb,CAAkB+f,IADvD;UAGD;QA5GG,CAhfC;QA+lBP7O,MAAM,EAAE;UACNuZ,MAAM,EAAE,YAAW;YACjB92B,MAAM,CAACI,OAAP,CAAe,0CAAf;;YACA,IAAG+wB,QAAH,EAAa;cACXxxB,SAAS,CACN+M,GADH,CACO,eAAeimB,gBADtB,EAEGjmB,GAFH,CAEO,cAAcimB,gBAFrB;YAID;;YACDhzB,SAAS,CACN+M,GADH,CACOyiB,UAAU,GAAGwD,gBADpB;UAGD;QAZK,CA/lBD;QA8mBP3nB,MAAM,EAAE,UAASjM,KAAT,EAAgB;UACtB,IACE+4B,UAAU,GAAI/4B,KAAK,KAAKX,SAAX,GACTW,KADS,GAETiB,MAAM,CAACiH,GAAP,CAAWlI,KAAX,EAHN;UAAA,IAIEg5B,aAAa,GAAG,YAAW;YACzB,IAAG/3B,MAAM,CAAC4J,EAAP,CAAUqO,QAAV,EAAH,EAAyB;cACvBjY,MAAM,CAACg4B,YAAP;YACD;;YACD,IAAGj5B,KAAK,IAAK,CAACA,KAAD,IAAUiB,MAAM,CAACiH,GAAP,CAAWgxB,UAAX,GAAwB31B,MAAxB,IAAkC,CAAzD,EAA6D;cAC3DtC,MAAM,CAACwzB,MAAP,CAAce,eAAd;YACD;;YACD,IAAIv0B,MAAM,CAAC6Q,GAAP,CAAW+lB,kBAAX,EAAJ,EAAsC;cACpC,IAAIv3B,QAAQ,CAAC64B,WAAT,CAAqB94B,IAArB,CAA0BS,OAA1B,EAAmCi4B,UAAnC,CAAJ,EAAqD;gBACnD,IAAGz4B,QAAQ,CAAC84B,cAAZ,EAA4B;kBAC1B,IAAG94B,QAAQ,CAAC80B,aAAZ,EAA2B;oBACzBn0B,MAAM,CAACI,OAAP,CAAe,iDAAf;oBACAJ,MAAM,CAACoH,GAAP,CAAWsE,KAAX;oBACA1L,MAAM,CAACo3B,QAAP;kBACD;gBACF,CAND,MAOK;kBACHp3B,MAAM,CAACI,OAAP,CAAe,qCAAf,EAAsD03B,UAAtD;kBACA93B,MAAM,CAAC6P,GAAP,CAAW1M,OAAX,CAAmBA,OAAO,CAACi1B,SAA3B;gBACD;cACF,CAZD,MAaK;gBACHp4B,MAAM,CAACI,OAAP,CAAe,qCAAf,EAAsD03B,UAAtD;gBACA93B,MAAM,CAACo3B,QAAP;cACD;YACF,CAlBD,MAmBK;cACHp3B,MAAM,CAACsK,MAAP,CAAcoB,KAAd;cACA1L,MAAM,CAACsK,MAAP,CAAcnH,OAAd;YACD;;YACD,IAAG9D,QAAQ,CAAC84B,cAAZ,EAA4B;cAC1Bn4B,MAAM,CAAC6P,GAAP,CAAWwoB,cAAX,CAA0Br4B,MAAM,CAACkN,MAAP,CAAcorB,YAAd,CAA2Bv5B,KAA3B,CAA1B;YACD;;YACD,IAAGiB,MAAM,CAAC4J,EAAP,CAAU4rB,eAAV,MAA+Bx1B,MAAM,CAACgK,GAAP,CAAWqiB,IAAX,EAA/B,IAAoDrsB,MAAM,CAAC4J,EAAP,CAAUstB,eAAV,EAAvD,EAAqF;cACnFl3B,MAAM,CAACqsB,IAAP;YACD;UACF,CAxCH;;UA0CA,IAAGhtB,QAAQ,CAACk5B,SAAT,IAAsBv4B,MAAM,CAAC6Q,GAAP,CAAW8lB,aAAX,EAAzB,EAAqD;YACnD;UACD;;UACD,IAAGt3B,QAAQ,CAAC41B,WAAZ,EAAyB;YACvB,IAAIj1B,MAAM,CAACgK,GAAP,CAAWwuB,MAAX,EAAJ,EAA0B;cACxBx4B,MAAM,CAAC02B,WAAP,CAAmBoB,UAAnB,EAA+B,YAAW;gBACxC,IAAGz4B,QAAQ,CAACo5B,gBAAZ,EAA8B;kBAC5Bz4B,MAAM,CAAC04B,WAAP,CAAmBZ,UAAnB;gBACD;;gBACD,IAAIa,WAAW,GAAGnwB,MAAM,CAACiC,GAAP,EAAlB;;gBACA,IAAG,CAAC/F,KAAK,CAACC,OAAN,CAAcg0B,WAAd,CAAJ,EAAgC;kBAC5BA,WAAW,GAAGA,WAAW,IAAIA,WAAW,KAAG,EAA7B,GAAkCA,WAAW,CAACv0B,KAAZ,CAAkB/E,QAAQ,CAACu5B,SAA3B,CAAlC,GAA0E,EAAxF;gBACH;;gBACD,IAAI54B,MAAM,CAAC4J,EAAP,CAAUqO,QAAV,EAAJ,EAA0B;kBACxBha,CAAC,CAAC2D,IAAF,CAAO+2B,WAAP,EAAmB,UAAS92B,KAAT,EAAeM,KAAf,EAAqB;oBACtC6vB,KAAK,CAAChnB,MAAN,CAAa,kBAAgB7I,KAAhB,GAAsB,IAAnC,EACKmP,QADL,CACc3K,SAAS,CAACkyB,QADxB;kBAGD,CAJD;gBAKD;;gBACD74B,MAAM,CAAC+2B,WAAP,CAAmB,IAAnB;gBACAgB,aAAa;cACd,CAjBD;YAkBD,CAnBD,MAoBK;cACH/3B,MAAM,CAACP,KAAP,CAAaA,KAAK,CAACq5B,KAAnB;YACD;UACF,CAxBD,MAyBK;YACH94B,MAAM,CAAC04B,WAAP,CAAmBZ,UAAnB;YACAC,aAAa;UACd;QACF,CAzrBM;QA2rBPrB,WAAW,EAAE,UAAS33B,KAAT,EAAgBsC,QAAhB,EAA0B03B,kBAA1B,EAA8C;UACzD,IAAG,CAACr0B,KAAK,CAACC,OAAN,CAAco0B,kBAAd,CAAJ,EAAsC;YACpCA,kBAAkB,GAAG,CAACA,kBAAD,CAArB;UACD;;UACD,IACE9D,WAAW,GAAG;YACZ+D,aAAa,EAAG,KADJ;YAEZv2B,KAAK,EAAW,OAFJ;YAGZw2B,QAAQ,EAAQ55B,QAAQ,CAAC45B,QAHb;YAIZ/D,OAAO,EAAS;cACdn2B,KAAK,EAAEA;YADO,CAJJ;YAOZm6B,OAAO,EAAE,YAAW;cAClBl5B,MAAM,CAAC6P,GAAP,CAAW1M,OAAX,CAAmBA,OAAO,CAACg2B,WAA3B;cACA5G,WAAW,GAAG,KAAd;cACAvN,OAAO,GAAG,KAAV;cACA3jB,QAAQ,CAAC6B,KAAT,CAAe,IAAf,EAAqB61B,kBAArB;YACD,CAZW;YAaZtlB,SAAS,EAAE,YAAW;cACpBzT,MAAM,CAAC6P,GAAP,CAAW1M,OAAX,CAAmBA,OAAO,CAACg2B,WAA3B;cACA5G,WAAW,GAAG,KAAd;cACAvN,OAAO,GAAG,KAAV;cACA3jB,QAAQ,CAAC6B,KAAT,CAAe,IAAf,EAAqB61B,kBAArB;YACD,CAlBW;YAmBZ9lB,SAAS,EAAG,UAAS9O,QAAT,EAAmB;cAC7B,IACE8L,MAAM,GAAY9L,QAAQ,CAACiK,MAAM,CAACgrB,YAAR,CAD5B;;cAGA,IAAI,CAAC10B,KAAK,CAACC,OAAN,CAAcsL,MAAd,CAAL,EAA2B;gBACvBA,MAAM,GAAG,EAAT;cACH;;cACDjQ,MAAM,CAACsK,MAAP,CAAcnH,OAAd;cACA,IAAIk2B,UAAU,GAAG,EAAjB;cACAA,UAAU,CAACjrB,MAAM,CAAC6B,MAAR,CAAV,GAA4BA,MAA5B;cACAjQ,MAAM,CAACqd,KAAP,CAAa0U,IAAb,CAAkBsH,UAAlB;;cAEA,IAAGppB,MAAM,CAAC3N,MAAP,KAAgB,CAAhB,IAAqB,CAACjD,QAAQ,CAAC84B,cAAlC,EAAkD;gBAChDn4B,MAAM,CAAC6P,GAAP,CAAW1M,OAAX,CAAmBA,OAAO,CAACi1B,SAA3B;cACD,CAFD,MAGK;gBACH,IAAIj2B,KAAK,GAAGnC,MAAM,CAAC4J,EAAP,CAAUqO,QAAV,KAAuBjY,MAAM,CAACiH,GAAP,CAAWgJ,MAAX,EAAvB,GAA6CjQ,MAAM,CAACiH,GAAP,CAAW9E,KAAX,EAAzD;;gBACA,IAAIA,KAAK,KAAK,EAAd,EAAkB;kBAChBnC,MAAM,CAACI,OAAP,CAAe,6DAAf;kBACAJ,MAAM,CAACoH,GAAP,CAAWksB,QAAX,CAAoBnxB,KAApB,EAA2B,IAA3B,EAAiC,IAAjC,EAAuC,IAAvC;gBACD;cACF;;cACDowB,WAAW,GAAG,KAAd;cACAvN,OAAO,GAAG,KAAV;cACA3jB,QAAQ,CAAC6B,KAAT,CAAe,IAAf,EAAqB61B,kBAArB;YACD;UA5CW,CADhB;;UAgDA,IAAI,CAACn5B,OAAO,CAACo1B,GAAR,CAAY,aAAZ,CAAL,EAAkC;YAChCh1B,MAAM,CAACqd,KAAP,CAAa2X,GAAb;UACD;;UACDC,WAAW,GAAGh3B,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAe,EAAf,EAAmB01B,WAAnB,EAAgC51B,QAAQ,CAAC41B,WAAzC,CAAd;UACAr1B,OAAO,CACJo1B,GADH,CACO,SADP,EACkBC,WADlB,EAEGD,GAFH,CAEO,OAFP;QAID,CAvvBM;QAyvBP0D,WAAW,EAAE,UAAS35B,KAAT,EAAgB;UAC3B,IACE+4B,UAAU,GAAG93B,MAAM,CAACsK,MAAP,CAAcgvB,UAAd,CAAyBv6B,KAAK,KAAKX,SAAV,GAClCW,KADkC,GAElCiB,MAAM,CAACiH,GAAP,CAAWlI,KAAX,EAFS,CADf;UAAA,IAKEiR,OAAO,GAAa,IALtB;UAAA,IAMEupB,WAAW,GAAQv5B,MAAM,CAACkN,MAAP,CAAcwC,MAAd,CAAqBooB,UAArB,CANrB;UAAA,IAOE0B,WAAW,GAAQ,CAACn6B,QAAQ,CAACo6B,gBAAT,GAA4B,GAA5B,GAAkC,EAAnC,IAAyC,IAP9D;UAAA,IAQEC,gBAAgB,GAAG,IAAIntB,MAAJ,CAAW,MAAMgtB,WAAjB,EAA8BC,WAA9B,CARrB,CAD2B,CAW3B;;UACA,IAAIx5B,MAAM,CAAC6Q,GAAP,CAAW9R,KAAX,EAAJ,EAAyB;YACvBiR,OAAO,GAAG,EAAV;YAEAhQ,MAAM,CAACI,OAAP,CAAe,+BAAf,EAAgD03B,UAAhD;YACA9F,KAAK,CACFpwB,IADH,CACQ,YAAU;cACd,IACE+3B,OAAO,GAAG17B,CAAC,CAAC,IAAD,CADb;cAAA,IAEE0P,IAFF;cAAA,IAGExL,KAHF;;cAKA,IAAGw3B,OAAO,CAACvvB,QAAR,CAAiBzD,SAAS,CAACizB,YAA3B,CAAH,EAA6C;gBAC3C5pB,OAAO,CAAClO,IAAR,CAAa,IAAb;gBACA,OAAO,IAAP;cACD;;cACD,IAAGzC,QAAQ,CAACkG,KAAT,KAAmB,MAAnB,IAA6BlG,QAAQ,CAACkG,KAAT,KAAmB,MAAnD,EAA2D;gBACzDoI,IAAI,GAAG3N,MAAM,CAACsK,MAAP,CAAcgvB,UAAd,CAAyB1tB,MAAM,CAAC5L,MAAM,CAACiH,GAAP,CAAW4yB,UAAX,CAAsBF,OAAtB,EAA+B,KAA/B,CAAD,CAA/B,CAAP;;gBACA,IAAGhsB,IAAI,CAACe,MAAL,CAAYgrB,gBAAZ,MAAkC,CAAC,CAAtC,EAAyC;kBACvC1pB,OAAO,CAAClO,IAAR,CAAa,IAAb;kBACA,OAAO,IAAP;gBACD,CAHD,MAIK,IAAIzC,QAAQ,CAACy6B,cAAT,KAA4B,OAA5B,IAAuC95B,MAAM,CAAC+5B,WAAP,CAAmBjC,UAAnB,EAA+BnqB,IAA/B,CAA3C,EAAiF;kBACpFqC,OAAO,CAAClO,IAAR,CAAa,IAAb;kBACA,OAAO,IAAP;gBACD,CAHI,MAIA,IAAIzC,QAAQ,CAACy6B,cAAT,KAA4B,IAA5B,IAAoC95B,MAAM,CAACg6B,WAAP,CAAmBlC,UAAnB,EAA+BnqB,IAA/B,CAAxC,EAA8E;kBACjFqC,OAAO,CAAClO,IAAR,CAAa,IAAb;kBACA,OAAO,IAAP;gBACD;cACF;;cACD,IAAGzC,QAAQ,CAACkG,KAAT,KAAmB,MAAnB,IAA6BlG,QAAQ,CAACkG,KAAT,KAAmB,OAAnD,EAA4D;gBAC1DpD,KAAK,GAAGnC,MAAM,CAACsK,MAAP,CAAcgvB,UAAd,CAAyB1tB,MAAM,CAAC5L,MAAM,CAACiH,GAAP,CAAWgzB,WAAX,CAAuBN,OAAvB,EAAgChsB,IAAhC,CAAD,CAA/B,CAAR;;gBACA,IAAGxL,KAAK,CAACuM,MAAN,CAAagrB,gBAAb,MAAmC,CAAC,CAAvC,EAA0C;kBACxC1pB,OAAO,CAAClO,IAAR,CAAa,IAAb;kBACA,OAAO,IAAP;gBACD,CAHD,MAIK,IAAIzC,QAAQ,CAACy6B,cAAT,KAA4B,OAA5B,IAAuC95B,MAAM,CAAC+5B,WAAP,CAAmBjC,UAAnB,EAA+B31B,KAA/B,CAA3C,EAAkF;kBACrF6N,OAAO,CAAClO,IAAR,CAAa,IAAb;kBACA,OAAO,IAAP;gBACD,CAHI,MAIA,IAAIzC,QAAQ,CAACy6B,cAAT,KAA4B,IAA5B,IAAoC95B,MAAM,CAACg6B,WAAP,CAAmBlC,UAAnB,EAA+B31B,KAA/B,CAAxC,EAA+E;kBAClF6N,OAAO,CAAClO,IAAR,CAAa,IAAb;kBACA,OAAO,IAAP;gBACD;cACF;YACF,CAzCH;UA2CD;;UACD9B,MAAM,CAACS,KAAP,CAAa,4BAAb,EAA2Cq3B,UAA3C;UACA93B,MAAM,CAACsK,MAAP,CAAc4vB,YAAd;;UACA,IAAGlqB,OAAH,EAAY;YACVgiB,KAAK,CACFjd,GADH,CACO/E,OADP,EAEGsB,QAFH,CAEY3K,SAAS,CAACkyB,QAFtB;UAID;;UAED,IAAG,CAAC74B,MAAM,CAAC6Q,GAAP,CAAW9R,KAAX,EAAJ,EAAwB;YACtBkzB,QAAQ,CACL5nB,WADH,CACe1D,SAAS,CAAC8lB,MADzB;UAED,CAHD,MAGO,IAAGptB,QAAQ,CAAC6yB,YAAT,KAA0B,IAA7B,EAAmC;YACxCD,QAAQ,CACL3gB,QADH,CACY3K,SAAS,CAAC8lB,MADtB;UAED,CAHM,MAGA,IAAGptB,QAAQ,CAAC6yB,YAAT,KAA0B,OAA7B,EAAsC;YAC3CD,QAAQ,CACL5nB,WADH,CACe1D,SAAS,CAAC8lB,MADzB,EAEGzhB,MAFH,CAEU,YAAW;cACjB;cACA;cACA,IAAImvB,WAAW,GAAGl8B,CAAC,CAAC,IAAD,CAAD,CAAQm8B,SAAR,CAAkBt0B,QAAQ,CAACoL,IAA3B,CAAlB;cAEA,OAAO,CAACipB,WAAW,CAAC73B,MAAZ,GAAqB63B,WAArB,GAAmCl8B,CAAC,CAAC,IAAD,CAArC,CACP;cADO,EAEJm8B,SAFI,CAEMt0B,QAAQ,CAACqsB,OAFf,EAGJnnB,MAHI,CAGGlF,QAAQ,CAACoL,IAAT,GAAgB,QAAhB,GAA2BvK,SAAS,CAACkyB,QAArC,GAAgD,GAHnD,EAIL;cAJK,CAKJv2B,MALI,KAKO,CALd;YAMD,CAbH,EAcGgP,QAdH,CAcY3K,SAAS,CAAC8lB,MAdtB;UAeD;QACF,CAr1BM;QAu1BPuN,WAAW,EAAE,UAASj7B,KAAT,EAAgBs7B,IAAhB,EAAsB;UACjC,IACEC,UAAU,GAAID,IAAI,CAAC/3B,MADrB;UAAA,IAEEi4B,WAAW,GAAGx7B,KAAK,CAACuD,MAFtB;UAIAvD,KAAK,GAAIM,QAAQ,CAACo6B,gBAAT,GAA4B16B,KAAK,CAAC0X,WAAN,EAA5B,GAAkD1X,KAA3D;UACAs7B,IAAI,GAAKh7B,QAAQ,CAACo6B,gBAAT,GAA4BY,IAAI,CAAC5jB,WAAL,EAA5B,GAAiD4jB,IAA1D;;UACA,IAAGE,WAAW,GAAGD,UAAjB,EAA6B;YAC3B,OAAO,KAAP;UACD;;UACD,IAAGC,WAAW,KAAKD,UAAnB,EAA+B;YAC7B,OAAQv7B,KAAK,KAAKs7B,IAAlB;UACD;;UACD3rB,MAAM,EAAE,KAAK,IAAI8rB,cAAc,GAAG,CAArB,EAAwBC,kBAAkB,GAAG,CAAlD,EAAqDD,cAAc,GAAGD,WAAtE,EAAmFC,cAAc,EAAjG,EAAqG;YAC3G,IACEE,cAAc,GAAG37B,KAAK,CAAC47B,UAAN,CAAiBH,cAAjB,CADnB;;YAGA,OAAMC,kBAAkB,GAAGH,UAA3B,EAAuC;cACrC,IAAGD,IAAI,CAACM,UAAL,CAAgBF,kBAAkB,EAAlC,MAA0CC,cAA7C,EAA6D;gBAC3D,SAAShsB,MAAT;cACD;YACF;;YACD,OAAO,KAAP;UACD;;UACD,OAAO,IAAP;QACD,CAh3BM;QAi3BPqrB,WAAW,EAAE,UAAUh7B,KAAV,EAAiBs7B,IAAjB,EAAuB;UAClCt7B,KAAK,GAAIM,QAAQ,CAACo6B,gBAAT,GAA4B16B,KAAK,CAAC0X,WAAN,EAA5B,GAAkD1X,KAA3D;UACAs7B,IAAI,GAAKh7B,QAAQ,CAACo6B,gBAAT,GAA4BY,IAAI,CAAC5jB,WAAL,EAA5B,GAAiD4jB,IAA1D;UACA,OAAOA,IAAI,CAACtrB,OAAL,CAAahQ,KAAb,IAAsB,CAAC,CAA9B;QAED,CAt3BM;QAu3BPi5B,YAAY,EAAE,YAAW;UACvB,IAAG34B,QAAQ,CAACk5B,SAAZ,EAAuB;YACrBvG,KAAK,CAAChnB,MAAN,CAAa,MAAMrE,SAAS,CAAC8S,MAA7B,EACGnI,QADH,CACY3K,SAAS,CAACkyB,QADtB;UAGD;QACF,CA73BM;QA+3BP9B,WAAW,EAAE,UAAS6D,WAAT,EAAsB;UACjC,IAAI56B,MAAM,CAAC6Q,GAAP,CAAWnC,MAAX,MAAuB,CAAC1O,MAAM,CAAC4J,EAAP,CAAUstB,eAAV,EAA5B,EAA0D;YACxD,IAAG0D,WAAH,EAAgB;cACdh7B,OAAO,CAAC8M,GAAR,CAAY,UAAU7F,cAAtB,EAAsCf,QAAQ,CAAC4I,MAA/C;cACA6iB,OAAO,CAAChe,KAAR;cACA3T,OAAO,CAACoI,EAAR,CAAW,UAAWnB,cAAtB,EAAsCf,QAAQ,CAAC4I,MAA/C,EAAuD1O,MAAM,CAACiI,KAAP,CAAayG,MAAb,CAAoB6E,KAA3E;YACD,CAJD,MAKK;cACHge,OAAO,CAAChe,KAAR;YACD;UACF;QACF,CA14BM;QA44BPsnB,UAAU,EAAE,YAAW;UACrB,IAAI76B,MAAM,CAAC6Q,GAAP,CAAWnC,MAAX,EAAJ,EAA0B;YACxB6iB,OAAO,CAACnpB,IAAR;UACD;QACF,CAh5BM;QAk5BP0yB,cAAc,EAAE,YAAW;UACzB,IACEC,kBAAkB,GAAG/I,KAAK,CAACjd,GAAN,CAAUpO,SAAS,CAACkyB,QAApB,EAA8B7tB,MAA9B,CAAqC,MAAMrE,SAAS,CAAC2sB,QAArD,EAA+DlkB,EAA/D,CAAkE,CAAlE,CADvB;UAAA,IAEE4rB,WAAW,GAAUhJ,KAAK,CAACjd,GAAN,CAAUpO,SAAS,CAACkyB,QAApB,EAA8B7tB,MAA9B,CAAqC,MAAMrE,SAAS,CAAC8S,MAArD,EAA6DrK,EAA7D,CAAgE,CAAhE,CAFvB;UAAA,IAGE6rB,aAAa,GAASF,kBAAkB,CAACz4B,MAAnB,GAA4B,CAA7B,GACjBy4B,kBADiB,GAEjBC,WALN;UAAA,IAMEE,WAAW,GAAID,aAAa,CAAC34B,MAAd,GAAuB,CANxC;;UAQA,IAAGjD,QAAQ,CAAC84B,cAAT,IAA4B+C,WAAW,IAAI,CAACl7B,MAAM,CAAC4J,EAAP,CAAUqO,QAAV,EAA/C,EAAsE;YACpEjY,MAAM,CAACS,KAAP,CAAa,4CAAb,EAA2Dw6B,aAA3D;YACAj7B,MAAM,CAACiI,KAAP,CAAaiJ,IAAb,CAAkB+H,KAAlB,CAAwB7Z,IAAxB,CAA6B67B,aAA7B,EAA4C,EAA5C,EAAgD,IAAhD;UACD,CAHD,MAIK;YACHj7B,MAAM,CAACsK,MAAP,CAAcwtB,UAAd;UACD;QACF,CAl6BM;QAo6BP71B,MAAM,EAAE;UACNgO,MAAM,EAAE,UAASA,MAAT,EAAiB;YACvB,IAAG,CAAC5Q,QAAQ,CAAC84B,cAAb,EAA6B;cAC3Bn4B,MAAM,CAACiB,KAAP;YACD;;YACDjB,MAAM,CAACS,KAAP,CAAa,yCAAb,EAAwDwP,MAAxD;YACA,IAAIopB,UAAU,GAAG,EAAjB;YACAA,UAAU,CAACjrB,MAAM,CAAC6B,MAAR,CAAV,GAA4BA,MAA5B;YACAjQ,MAAM,CAACqd,KAAP,CAAa0U,IAAb,CAAkBsH,UAAlB;YACAp7B,CAAC,CAAC2D,IAAF,CAAOqO,MAAP,EAAe,UAASpO,KAAT,EAAgBqP,IAAhB,EAAsB;cACnC,IAAGA,IAAI,CAACoiB,QAAL,IAAiB,IAApB,EAA0B;gBACxBtzB,MAAM,CAACS,KAAP,CAAa,8BAAb,EAA6CyQ,IAAI,CAAC9C,MAAM,CAACjM,KAAR,CAAjD;gBACAnC,MAAM,CAACoH,GAAP,CAAWksB,QAAX,CAAoBpiB,IAAI,CAAC9C,MAAM,CAACjM,KAAR,CAAxB;;gBACA,IAAG,CAACnC,MAAM,CAAC4J,EAAP,CAAUqO,QAAV,EAAJ,EAA0B;kBACxB,OAAO,KAAP;gBACD;cACF;YACF,CARD;;YAUA,IAAGjY,MAAM,CAAC6Q,GAAP,CAAWsqB,WAAX,EAAH,EAA6B;cAC3Bn7B,MAAM,CAACwd,UAAP,CAAkBqV,cAAlB;cACArqB,MAAM,CAACkJ,IAAP,CAAY,EAAZ;cACAlJ,MAAM,CAACqV,MAAP,CAAc,2CAAd;cACA5f,CAAC,CAAC2D,IAAF,CAAOqO,MAAP,EAAe,UAASpO,KAAT,EAAgBqP,IAAhB,EAAsB;gBACnC,IACE/O,KAAK,GAAG9C,QAAQ,CAACkS,SAAT,CAAmB6pB,OAAnB,CAA2BlqB,IAAI,CAAC9C,MAAM,CAACjM,KAAR,CAA/B,CADV;gBAAA,IAEEX,IAAI,GAAGnC,QAAQ,CAACkS,SAAT,CAAmBrE,MAAnB,CACLgE,IAAI,CAAC9C,MAAM,CAAC5M,IAAR,CAAJ,IAAqB,EADhB,EAELnC,QAAQ,CAACu2B,YAFJ,CAFT;gBAOAptB,MAAM,CAACqV,MAAP,CAAc,oBAAoB1b,KAApB,GAA4B,IAA5B,GAAmCX,IAAnC,GAA0C,WAAxD;cACD,CATD;cAUAxB,MAAM,CAAC8Y,OAAP,CAAe0a,MAAf;YACD;UACF;QAnCK,CAp6BD;QA08BPvrB,KAAK,EAAE;UACLhG,MAAM,EAAE,YAAW;YACjB,IAAG,CAACqwB,cAAJ,EAAoB;cAClBtyB,MAAM,CAACS,KAAP,CAAa,mCAAb;cACAT,MAAM,CAACoH,GAAP,CAAWksB,QAAX;YACD;UACF,CANI;UAOL/f,KAAK,EAAE,YAAW;YAChB,IAAGlU,QAAQ,CAACg8B,WAAT,IAAwB,CAACjJ,SAAzB,IAAsCpyB,MAAM,CAAC4J,EAAP,CAAU6iB,MAAV,EAAtC,IAA4D,CAACgG,aAAhE,EAA+E;cAC7EzN,OAAO,GAAG,IAAV;cACAhlB,MAAM,CAACqsB,IAAP;YACD;UACF,CAZI;UAaLjkB,IAAI,EAAE,UAASH,KAAT,EAAgB;YACpBwqB,aAAa,GAAIt0B,QAAQ,CAACm9B,aAAT,KAA2B,IAA5C;;YACA,IAAG,CAAClJ,SAAD,IAAc,CAACK,aAAlB,EAAiC;cAC/BzyB,MAAM,CAACsK,MAAP,CAAcixB,WAAd;cACAv7B,MAAM,CAACosB,IAAP;YACD;UACF,CAnBI;UAoBLxG,SAAS,EAAE,YAAW;YACpB,IAAG5lB,MAAM,CAAC4J,EAAP,CAAU4rB,eAAV,EAAH,EAAgC;cAC9B;cACA9C,WAAW,GAAG,IAAd;YACD,CAHD,MAIK;cACH;cACAN,SAAS,GAAG,IAAZ;YACD;UACF,CA7BI;UA8BLvM,OAAO,EAAE,YAAW;YAClB,IAAG7lB,MAAM,CAAC4J,EAAP,CAAU4rB,eAAV,EAAH,EAAgC;cAC9B;cACA9C,WAAW,GAAG,KAAd;YACD,CAHD,MAIK;cACHN,SAAS,GAAG,KAAZ;YACD;UACF,CAtCI;UAuCLnZ,KAAK,EAAE,UAAShR,KAAT,EAAgB;YACrB,IACE4kB,OAAO,GAAG5uB,CAAC,CAACgK,KAAK,CAACie,MAAP,CADb,CADqB,CAIrB;;YACA,IAAG2G,OAAO,CAACjjB,EAAR,CAAWhK,OAAX,CAAH,EAAwB;cACtB,IAAG,CAACI,MAAM,CAAC4J,EAAP,CAAUstB,eAAV,EAAJ,EAAiC;gBAC/Bl3B,MAAM,CAAC+2B,WAAP;cACD,CAFD,MAGK;gBACH/2B,MAAM,CAACqsB,IAAP;cACD;YACF;UACF,CApDI;UAqDL3d,MAAM,EAAE;YACN6E,KAAK,EAAE,UAAStL,KAAT,EAAgB;cACrBmqB,SAAS,GAAG,IAAZ;;cACA,IAAGpyB,MAAM,CAAC4J,EAAP,CAAUqO,QAAV,EAAH,EAAyB;gBACvBjY,MAAM,CAACsK,MAAP,CAAcixB,WAAd;cACD;;cACD,IAAG,CAACvW,OAAD,IAAY,CAAChlB,MAAM,CAAC4J,EAAP,CAAU6P,MAAV,EAAb,KAAoCpa,QAAQ,CAACg8B,WAAT,IAAyBpzB,KAAK,CAACQ,IAAN,KAAe,OAAf,IAA0BR,KAAK,CAACQ,IAAN,KAAe,SAAtG,CAAH,EAAsH;gBACpHuc,OAAO,GAAG,IAAV;gBACAhlB,MAAM,CAAC0O,MAAP;cACD;YACF,CAVK;YAWNtG,IAAI,EAAE,UAASH,KAAT,EAAgB;cACpBwqB,aAAa,GAAIt0B,QAAQ,CAACm9B,aAAT,KAA2B,IAA5C;;cACA,IAAGt7B,MAAM,CAAC4J,EAAP,CAAU4rB,eAAV,MAA+B,CAAC9C,WAAnC,EAAgD;gBAC9C,IAAG,CAACL,aAAD,IAAkB,CAACI,aAAtB,EAAqC;kBACnC,IAAGpzB,QAAQ,CAACy7B,cAAZ,EAA4B;oBAC1B96B,MAAM,CAAC86B,cAAP;kBACD,CAFD,MAEO,IAAG,CAACz7B,QAAQ,CAAC84B,cAAb,EAA4B;oBACjCn4B,MAAM,CAACsK,MAAP,CAAcwtB,UAAd;kBACD;;kBACD93B,MAAM,CAACosB,IAAP;gBACD;cACF;;cACDsG,WAAW,GAAG,KAAd;YACD;UAxBK,CArDH;UA+ELd,SAAS,EAAE;YACT3Y,KAAK,EAAE,UAAShR,KAAT,EAAgB;cACrBjI,MAAM,CAACiB,KAAP;;cACA,IAAGjB,MAAM,CAAC4J,EAAP,CAAU4rB,eAAV,EAAH,EAAgC;gBAC9Bx1B,MAAM,CAACsK,MAAP,CAAcwtB,UAAd;cACD;;cACD93B,MAAM,CAACosB,IAAP;cACAnkB,KAAK,CAACme,eAAN;YACD;UARQ,CA/EN;UAyFLuL,IAAI,EAAE;YACJ1Y,KAAK,EAAE,UAAShR,KAAT,EAAgB;cACrBsqB,WAAW,GAAC,IAAZ;;cACA,IAAGvyB,MAAM,CAAC6Q,GAAP,CAAWnC,MAAX,EAAH,EAAwB;gBACtB,IAAG,CAAC1O,MAAM,CAAC4J,EAAP,CAAU6P,MAAV,EAAJ,EAAwB;kBACpB,IAAGpa,QAAQ,CAACg8B,WAAZ,EAAwB;oBACtBr7B,MAAM,CAAC+2B,WAAP;kBACD,CAFD,MAEO;oBACL/2B,MAAM,CAACkZ,MAAP;kBACD;gBACJ,CAND,MAMO;kBACLlZ,MAAM,CAAC66B,UAAP;gBACD;cACF,CAVD,MAUO;gBACL76B,MAAM,CAACkZ,MAAP;cACD;;cACDjR,KAAK,CAACme,eAAN;YACD;UAjBG,CAzFD;UA4GLzY,IAAI,EAAE;YACJ4F,KAAK,EAAE,UAAStL,KAAT,EAAgB;cACrBmqB,SAAS,GAAG,IAAZ;cACApyB,MAAM,CAAC+2B,WAAP;YACD;UAJG,CA5GD;UAkHLjqB,KAAK,EAAE,UAAS7E,KAAT,EAAgB;YACrB,IAAGjI,MAAM,CAAC4J,EAAP,CAAUqO,QAAV,MAAwBjY,MAAM,CAAC4J,EAAP,CAAU4rB,eAAV,EAA3B,EAAwD;cACtDx1B,MAAM,CAACoH,GAAP,CAAWyxB,QAAX;YACD;;YACDt1B,YAAY,CAACvD,MAAM,CAACwD,KAAR,CAAZ;YACAxD,MAAM,CAACwD,KAAP,GAAelC,UAAU,CAACtB,MAAM,CAAC0O,MAAR,EAAgBrP,QAAQ,CAACoO,KAAT,CAAeiB,MAA/B,CAAzB;UACD,CAxHI;UAyHL8C,KAAK,EAAE;YACLyH,KAAK,EAAE,UAAShR,KAAT,EAAgB;cACrB,IACE2G,MAAM,GAAU3Q,CAAC,CAAC,IAAD,CADnB;cAAA,IAEEu9B,OAAO,GAAS57B,OAAO,CAAC6H,IAAR,CAAa3B,QAAQ,CAAC0L,KAAtB,CAFlB;cAAA,IAGEiqB,aAAa,GAAGD,OAAO,CAACxwB,MAAR,CAAe,MAAMrE,SAAS,CAAC8S,MAA/B,CAHlB;cAAA,IAIEiiB,WAAW,GAAK9sB,MAAM,CAACimB,OAAP,CAAe,MAAMluB,SAAS,CAAC8S,MAA/B,CAJlB;cAAA,IAKEkiB,WAAW,GAAK/sB,MAAM,CAACkgB,OAAP,CAAe,MAAMnoB,SAAS,CAAC8S,MAA/B,CALlB;cAAA,IAMEmiB,MAAM,GAAIF,WAAW,CAACp5B,MAAZ,GAAqB,CAAtB,GACLsM,MAAM,CAACwrB,SAAP,CAAiBsB,WAAjB,EAA8B7rB,GAA9B,CAAkC4rB,aAAlC,EAAiD5rB,GAAjD,CAAqDjB,MAArD,CADK,GAELA,MAAM,CAACitB,SAAP,CAAiBF,WAAjB,EAA8B9rB,GAA9B,CAAkC4rB,aAAlC,EAAiD5rB,GAAjD,CAAqDjB,MAArD,CARN;;cAUA,IAAG3G,KAAK,CAAC6zB,QAAT,EAAmB;gBACjBL,aAAa,CAACpxB,WAAd,CAA0B1D,SAAS,CAAC8S,MAApC;gBACAmiB,MAAM,CAACtqB,QAAP,CAAgB3K,SAAS,CAAC8S,MAA1B;cACD,CAHD,MAIK,IAAGxR,KAAK,CAACkF,OAAT,EAAkB;gBACrByB,MAAM,CAAC8T,WAAP,CAAmB/b,SAAS,CAAC8S,MAA7B;cACD,CAFI,MAGA;gBACHgiB,aAAa,CAACpxB,WAAd,CAA0B1D,SAAS,CAAC8S,MAApC;gBACA7K,MAAM,CAAC0C,QAAP,CAAgB3K,SAAS,CAAC8S,MAA1B;cACD;;cACDpa,QAAQ,CAAC08B,aAAT,CAAuB74B,KAAvB,CAA6B,IAA7B,EAAmCs4B,OAAO,CAACxwB,MAAR,CAAe,MAAMrE,SAAS,CAAC8S,MAA/B,CAAnC;cACAxR,KAAK,CAACme,eAAN;YACD;UAzBI,CAzHF;UAoJL9b,MAAM,EAAE;YACN2O,KAAK,EAAE,UAAShR,KAAT,EAAgB;cACrB,IACE2G,MAAM,GAAG3Q,CAAC,CAAC,IAAD,CAAD,CAAQoL,MAAR,EADX;;cAGA,IAAIuF,MAAM,CAACxE,QAAP,CAAgBzD,SAAS,CAAC8S,MAA1B,CAAJ,EAAwC;gBACtC;gBACAzZ,MAAM,CAACsK,MAAP,CAAc0xB,YAAd;cACD,CAHD,MAIK;gBACH;gBACAh8B,MAAM,CAACsK,MAAP,CAAc0xB,YAAd,CAA4BptB,MAA5B;cACD;;cACD3G,KAAK,CAACme,eAAN;YACD;UAdK,CApJH;UAoKL/Z,IAAI,EAAE;YACJ6M,MAAM,EAAE,UAASjR,KAAT,EAAgB;cACtB,IACEg0B,cAAc,GAAIj8B,MAAM,CAAC4J,EAAP,CAAUqO,QAAV,EAAD,GACbjY,MAAM,CAACqsB,IADM,GAEbrsB,MAAM,CAACkZ,MAHb;;cAKA,IAAGlZ,MAAM,CAAC4J,EAAP,CAAUsyB,iBAAV,CAA4Bj0B,KAA5B,KAAsCjI,MAAM,CAAC4J,EAAP,CAAUuyB,gBAAV,CAA2Bl0B,KAA3B,CAAzC,EAA4E;gBAC1E;cACD;;cACD,IAAI,CAACjI,MAAM,CAAC4J,EAAP,CAAUqO,QAAV,EAAD,IAA0BjY,MAAM,CAAC4J,EAAP,CAAUqO,QAAV,MAAwB,CAACjY,MAAM,CAAC4J,EAAP,CAAU6P,MAAV,EAAvD,EAA4E;gBAC1EuL,OAAO,GAAG,IAAV;cACD;;cACD,IAAIhlB,MAAM,CAACgJ,SAAP,CAAiBozB,cAAjB,CAAgCn0B,KAAhC,EAAuCg0B,cAAvC,CAAJ,EAA6D;gBAC3Dh0B,KAAK,CAACC,cAAN;cACD;YACF,CAhBG;YAiBJ2vB,KAAK,EAAE,UAAS5vB,KAAT,EAAgB;cACrBjI,MAAM,CAACgJ,SAAP,CAAiBozB,cAAjB,CAAgCn0B,KAAhC,EAAuC,YAAW;gBAChD,IAAGA,KAAK,CAACQ,IAAN,IAAc,YAAjB,EAA+B;kBAC7BzI,MAAM,CAACwD,KAAP,GAAelC,UAAU,CAAC,YAAW;oBACnCtB,MAAM,CAACosB,IAAP;kBACD,CAFwB,EAEtB/sB,QAAQ,CAACoO,KAAT,CAAeoqB,KAFO,CAAzB;gBAGD,CAJD,MAKK,IAAG5vB,KAAK,CAACQ,IAAN,IAAc,WAAjB,EAA8B;kBACjClF,YAAY,CAACvD,MAAM,CAACwD,KAAR,CAAZ;gBACD;cACF,CATD;cAUAyE,KAAK,CAACme,eAAN;YACD,CA7BG;YA8BJgG,IAAI,EAAE,UAASnkB,KAAT,EAAgB;cACpB,IAAGjI,MAAM,CAACgJ,SAAP,CAAiBqzB,aAAjB,CAA+Bp0B,KAA/B,EAAsCjI,MAAM,CAACosB,IAA7C,CAAH,EAAsD;gBACpD,IAAGvsB,OAAO,CAAC+yB,EAAR,IAAc30B,CAAC,CAACgK,KAAK,CAACie,MAAP,CAAD,CAAgBrT,IAAhB,CAAqB,KAArB,MAAgChT,OAAO,CAAC+yB,EAAzD,EAA4D;kBAC1D3qB,KAAK,CAACC,cAAN;gBACD;cACF;YACF;UApCG,CApKD;UA0ML+b,KAAK,EAAE;YACL2C,QAAQ,EAAE,UAAS/N,SAAT,EAAoB;cAC5BA,SAAS,CAACgO,OAAV,CAAkB,UAASD,QAAT,EAAmB;gBACnC,IAAGA,QAAQ,CAACE,aAAT,KAA2B,OAA9B,EAAuC;kBACrC9mB,MAAM,CAAC4e,KAAP,CAAa7c,QAAb;gBACD;cACF,CAJD;YAKD;UAPI,CA1MF;UAmNLyxB,MAAM,EAAE;YACN5M,QAAQ,EAAE,UAAS/N,SAAT,EAAoB;cAC5B7Y,MAAM,CAACS,KAAP,CAAa,oCAAb;;cACA,IAAGT,MAAM,CAAC4J,EAAP,CAAU0yB,cAAV,CAAyBzjB,SAAzB,CAAH,EAAwC;gBACtC7Y,MAAM,CAACwd,UAAP,CAAkBqV,cAAlB;gBACA7yB,MAAM,CAACkH,OAAP;gBACAlH,MAAM,CAACqd,KAAP,CAAamW,MAAb;gBACAxzB,MAAM,CAACoH,GAAP,CAAWksB,QAAX;gBACAtzB,MAAM,CAAC8Y,OAAP,CAAe0a,MAAf;cACD;YACF;UAVK,CAnNH;UA+NLzB,IAAI,EAAE;YACJnL,QAAQ,EAAE,UAAS/N,SAAT,EAAoB;cAC5B,IACE+N,QAAQ,GAAK/N,SAAS,CAAC,CAAD,CADxB;cAAA,IAEE0jB,UAAU,GAAG3V,QAAQ,CAAC4V,UAAT,GACTv+B,CAAC,CAAC2oB,QAAQ,CAAC4V,UAAT,CAAoB,CAApB,CAAD,CADQ,GAETv+B,CAAC,CAAC,KAAD,CAJP;cAAA,IAKEw+B,YAAY,GAAG7V,QAAQ,CAAC8V,YAAT,GACXz+B,CAAC,CAAC2oB,QAAQ,CAAC8V,YAAT,CAAsB,CAAtB,CAAD,CADU,GAEXz+B,CAAC,CAAC,KAAD,CAPP;cAAA,IAQE0+B,aAAa,GAAIJ,UAAU,CAAC1sB,GAAX,CAAe4sB,YAAf,CARnB;cAAA,IASEG,cAAc,GAAGD,aAAa,CAAC/yB,EAAd,CAAiB9D,QAAQ,CAACkuB,QAA1B,KAAuC2I,aAAa,CAACpzB,OAAd,CAAsBzD,QAAQ,CAACkuB,QAA/B,EAAyC1xB,MAAzC,GAAkD,CAT5G;cAAA,IAUEu6B,SAAS,GAAQF,aAAa,CAAC/yB,EAAd,CAAiB9D,QAAQ,CAAC3C,OAA1B,KAAuCw5B,aAAa,CAACpzB,OAAd,CAAsBzD,QAAQ,CAAC3C,OAA/B,EAAwCb,MAAxC,GAAiD,CAV3G;;cAYA,IAAGs6B,cAAc,IAAIC,SAArB,EAAgC;gBAC9B78B,MAAM,CAACS,KAAP,CAAa,8BAAb;gBACAT,MAAM,CAACk2B,YAAP;cACD,CAHD,MAIK;gBACHl2B,MAAM,CAACS,KAAP,CAAa,wCAAb;gBACAT,MAAM,CAACkH,OAAP;cACD;YACF,CAtBG;YAuBJ0e,SAAS,EAAE,YAAW;cACpByM,aAAa,GAAG,IAAhB;YACD,CAzBG;YA0BJxM,OAAO,EAAE,YAAW;cAClBwM,aAAa,GAAG,KAAhB;YACD;UA5BG,CA/ND;UA6PLnhB,IAAI,EAAE;YACJymB,UAAU,EAAE,UAAS1vB,KAAT,EAAgB;cAC1B,IACE4kB,OAAO,GAAU5uB,CAAC,CAACgK,KAAK,CAACie,MAAP,CADpB;cAAA,IAEE8L,KAAK,GAAY/zB,CAAC,CAAC,IAAD,CAFpB;cAAA,IAGE6+B,QAAQ,GAAS9K,KAAK,CAAC5gB,QAAN,CAAetL,QAAQ,CAACisB,IAAxB,CAHnB;cAAA,IAIEgL,WAAW,GAAM/K,KAAK,CAACgL,QAAN,CAAel3B,QAAQ,CAACoL,IAAxB,EAA8BE,QAA9B,CAAuCtL,QAAQ,CAACisB,IAAhD,CAJnB;cAAA,IAKEkL,UAAU,GAAQH,QAAQ,CAACx6B,MAAT,GAAkB,CALtC;cAAA,IAME46B,cAAc,GAAIJ,QAAQ,CAACr1B,IAAT,CAAcolB,OAAd,EAAuBvqB,MAAvB,GAAgC,CANpD;;cAQA,IAAI,CAAC46B,cAAD,IAAmBD,UAAvB,EAAoC;gBAClC15B,YAAY,CAACvD,MAAM,CAACm9B,SAAR,CAAZ;gBACAn9B,MAAM,CAACm9B,SAAP,GAAmB77B,UAAU,CAAC,YAAW;kBACvCtB,MAAM,CAACI,OAAP,CAAe,kBAAf,EAAmC08B,QAAnC;kBACA7+B,CAAC,CAAC2D,IAAF,CAAOm7B,WAAP,EAAoB,YAAW;oBAC7B/8B,MAAM,CAAC0a,OAAP,CAAe0R,IAAf,CAAoB,KAApB,EAA2BnuB,CAAC,CAAC,IAAD,CAA5B;kBACD,CAFD;kBAGA+B,MAAM,CAAC0a,OAAP,CAAe2R,IAAf,CAAoB,KAApB,EAA2ByQ,QAA3B;gBACD,CAN4B,EAM1Bz9B,QAAQ,CAACoO,KAAT,CAAe4e,IANW,CAA7B;gBAOApkB,KAAK,CAACC,cAAN;cACD;YACF,CArBG;YAsBJ0vB,UAAU,EAAE,UAAS3vB,KAAT,EAAgB;cAC1B,IACE60B,QAAQ,GAAG7+B,CAAC,CAAC,IAAD,CAAD,CAAQmT,QAAR,CAAiBtL,QAAQ,CAACisB,IAA1B,CADb;;cAGA,IAAG+K,QAAQ,CAACx6B,MAAT,GAAkB,CAArB,EAAwB;gBACtBiB,YAAY,CAACvD,MAAM,CAACm9B,SAAR,CAAZ;gBACAn9B,MAAM,CAACm9B,SAAP,GAAmB77B,UAAU,CAAC,YAAW;kBACvCtB,MAAM,CAACI,OAAP,CAAe,iBAAf,EAAkC08B,QAAlC;kBACA98B,MAAM,CAAC0a,OAAP,CAAe0R,IAAf,CAAoB,KAApB,EAA2B0Q,QAA3B;gBACD,CAH4B,EAG1Bz9B,QAAQ,CAACoO,KAAT,CAAe2e,IAHW,CAA7B;cAID;YACF,CAjCG;YAkCJnT,KAAK,EAAE,UAAUhR,KAAV,EAAiBm1B,WAAjB,EAA8B;cACnC,IACEzD,OAAO,GAAU17B,CAAC,CAAC,IAAD,CADpB;cAAA,IAEE4uB,OAAO,GAAW5kB,KAAD,GACbhK,CAAC,CAACgK,KAAK,CAACie,MAAP,CADY,GAEbjoB,CAAC,CAAC,EAAD,CAJP;cAAA,IAKE6+B,QAAQ,GAASnD,OAAO,CAAClyB,IAAR,CAAa3B,QAAQ,CAACisB,IAAtB,CALnB;cAAA,IAMEpkB,IAAI,GAAa3N,MAAM,CAACiH,GAAP,CAAW4yB,UAAX,CAAsBF,OAAtB,CANnB;cAAA,IAOEx3B,KAAK,GAAYnC,MAAM,CAACiH,GAAP,CAAWgzB,WAAX,CAAuBN,OAAvB,EAAgChsB,IAAhC,CAPnB;cAAA,IAQEsvB,UAAU,GAAQH,QAAQ,CAACx6B,MAAT,GAAkB,CARtC;cAAA,IASE46B,cAAc,GAAIJ,QAAQ,CAACr1B,IAAT,CAAcolB,OAAd,EAAuBvqB,MAAvB,GAAgC,CATpD,CADmC,CAYnC;;cACA,IAAInE,QAAQ,CAACm9B,aAAT,CAAuB+B,OAAvB,CAA+B5mB,WAA/B,OAAiD,OAArD,EAA8D;gBAC5DxY,CAAC,CAACE,QAAQ,CAACm9B,aAAV,CAAD,CAA0BlzB,IAA1B;cACD;;cACD,IAAG,CAAC80B,cAAD,KAAoB,CAACD,UAAD,IAAe59B,QAAQ,CAACi+B,sBAA5C,CAAH,EAAwE;gBACtE,IAAGt9B,MAAM,CAAC4J,EAAP,CAAU4rB,eAAV,EAAH,EAAgC;kBAC9B,IAAGn2B,QAAQ,CAAC84B,cAAZ,EAA4B;oBAC1Bn4B,MAAM,CAACsK,MAAP,CAAcizB,YAAd;kBACD;;kBACDv9B,MAAM,CAACsK,MAAP,CAAcwtB,UAAd;;kBACA,IAAG,CAAC93B,MAAM,CAAC4J,EAAP,CAAUstB,eAAV,EAAD,IAAgC,EAAEkG,WAAW,IAAI,IAAjB,CAAnC,EAA2D;oBACzDp9B,MAAM,CAAC+2B,WAAP,CAAmB,IAAnB;kBACD;gBACF;;gBACD,IAAG,CAAC13B,QAAQ,CAACk5B,SAAb,EAAwB;kBACtBv4B,MAAM,CAACsK,MAAP,CAAc4vB,YAAd;kBACAl6B,MAAM,CAACoH,GAAP,CAAWo2B,cAAX,CAA0B7D,OAA1B;gBACD;;gBACD35B,MAAM,CAACgJ,SAAP,CAAiBy0B,YAAjB,CAA8Br+B,IAA9B,CAAmC,IAAnC,EAAyCuO,IAAzC,EAA+CxL,KAA/C;cACD;YACF;UAlEG,CA7PD;UAkULhE,QAAQ,EAAE;YACR;YACAmK,OAAO,EAAE,UAASL,KAAT,EAAgB;cACvB,IACEy1B,UAAU,GAAMz1B,KAAK,CAAC2E,KADxB;cAAA,IAEE+wB,aAAa,GAAG39B,MAAM,CAAC4J,EAAP,CAAUg0B,QAAV,CAAmBF,UAAnB,EAA+BpuB,IAA/B,CAFlB;;cAIA,IAAGquB,aAAH,EAAkB;gBAChB,IACE/uB,MAAM,GAAchP,OAAO,CAAC6H,IAAR,CAAa3B,QAAQ,CAAC0L,KAAtB,CADtB;gBAAA,IAEEqsB,YAAY,GAAQjvB,MAAM,CAAC5D,MAAP,CAAc,MAAMrE,SAAS,CAAC8S,MAA9B,CAFtB;gBAAA,IAGEqkB,WAAW,GAASD,YAAY,CAAC99B,IAAb,CAAkB2G,QAAQ,CAACvE,KAA3B,CAHtB;gBAAA,IAIE47B,UAAU,GAAUnvB,MAAM,CAAC/M,KAAP,CAAag8B,YAAb,CAJtB;gBAAA,IAKEG,UAAU,GAAUpvB,MAAM,CAACtM,MAL7B;gBAAA,IAME27B,cAAc,GAAOJ,YAAY,CAACv7B,MAAb,GAAsB,CAN7C;gBAAA,IAOE47B,iBAAiB,GAAIL,YAAY,CAACv7B,MAAb,GAAsB,CAP7C;gBAAA,IAQE67B,YAAY,GAASJ,UAAU,KAAK,CARtC;gBAAA,IASEK,WAAW,GAAUL,UAAU,GAAG,CAAb,IAAkBC,UATzC;gBAAA,IAUEK,QAAQ,GAAYr+B,MAAM,CAAC4J,EAAP,CAAU4rB,eAAV,EAVtB;gBAAA,IAWE8I,iBAAiB,GAAGt+B,MAAM,CAAC4J,EAAP,CAAUstB,eAAV,EAXtB;gBAAA,IAYEqH,SAAS,GAAWv+B,MAAM,CAAC4J,EAAP,CAAUob,OAAV,EAZtB;gBAAA,IAaEwZ,YAAY,GAASF,iBAAiB,IAAIt+B,MAAM,CAACiH,GAAP,CAAWw3B,aAAX,CAAyB,KAAzB,MAAoC,CAbhF;gBAAA,IAcEC,gBAAgB,GAAKF,YAAY,IAAIx+B,MAAM,CAACiH,GAAP,CAAWw3B,aAAX,CAAyB,IAAzB,MAAmC,CAd1E;gBAAA,IAeEE,UAfF;;gBAiBA,IAAGN,QAAQ,IAAI,CAACJ,cAAb,IAA+B,CAACK,iBAAnC,EAAsD;kBACpD;gBACD;;gBAED,IAAGZ,UAAU,IAAIpuB,IAAI,CAACsvB,SAAtB,EAAiC;kBAC/B;kBACA,IAAG,CAACL,SAAS,IAAIC,YAAd,KAA+B,CAACP,cAAnC,EAAmD;oBACjDj+B,MAAM,CAACI,OAAP,CAAe,0BAAf;oBACAwO,MAAM,CAACiwB,IAAP,GAAcvtB,QAAd,CAAuB3K,SAAS,CAAC8S,MAAjC;kBACD,CAHD,MAIK,IAAGwkB,cAAH,EAAmB;oBACtB,IAAG,CAACh2B,KAAK,CAAC6zB,QAAV,EAAoB;sBAClB97B,MAAM,CAACI,OAAP,CAAe,0BAAf;sBACAwO,MAAM,CAACvE,WAAP,CAAmB1D,SAAS,CAAC8S,MAA7B;oBACD,CAHD,MAIK;sBACHzZ,MAAM,CAACI,OAAP,CAAe,oCAAf;oBACD;;oBACD,IAAG+9B,YAAY,IAAI,CAACD,iBAApB,EAAuC;sBACrCL,YAAY,CAACvsB,QAAb,CAAsB3K,SAAS,CAAC8S,MAAhC;oBACD,CAFD,MAGK;sBACHokB,YAAY,CAACtiB,IAAb,CAAkBzV,QAAQ,CAACg5B,YAA3B,EACGxtB,QADH,CACY3K,SAAS,CAAC8S,MADtB,EAEGslB,GAFH;oBAID;;oBACD92B,KAAK,CAACC,cAAN;kBACD;gBACF,CAzBD,MA0BK,IAAGw1B,UAAU,IAAIpuB,IAAI,CAAC0vB,UAAtB,EAAkC;kBACrC;kBACA,IAAGT,SAAS,IAAI,CAACN,cAAjB,EAAiC;oBAC/BrvB,MAAM,CAAC0E,KAAP,GAAehC,QAAf,CAAwB3K,SAAS,CAAC8S,MAAlC;kBACD,CAJoC,CAKrC;;;kBACA,IAAGwkB,cAAH,EAAmB;oBACjB,IAAG,CAACh2B,KAAK,CAAC6zB,QAAV,EAAoB;sBAClB97B,MAAM,CAACI,OAAP,CAAe,sBAAf;sBACAwO,MAAM,CAACvE,WAAP,CAAmB1D,SAAS,CAAC8S,MAA7B;oBACD,CAHD,MAIK;sBACHzZ,MAAM,CAACI,OAAP,CAAe,gCAAf;oBACD;;oBACD,IAAGg+B,WAAH,EAAgB;sBACd,IAAGC,QAAH,EAAa;wBACX,IAAG,CAACC,iBAAJ,EAAuB;0BACrBt+B,MAAM,CAAC+2B,WAAP;wBACD,CAFD,MAGK;0BACHnoB,MAAM,CAACvE,WAAP,CAAmB1D,SAAS,CAAC8S,MAA7B;wBACD;sBACF,CAPD,MAQK,IAAGykB,iBAAH,EAAsB;wBACzBL,YAAY,CAACxkB,IAAb,CAAkBvT,QAAQ,CAACg5B,YAA3B,EAAyCxtB,QAAzC,CAAkD3K,SAAS,CAAC8S,MAA5D;sBACD,CAFI,MAGA;wBACHokB,YAAY,CAACvsB,QAAb,CAAsB3K,SAAS,CAAC8S,MAAhC;sBACD;oBACF,CAfD,MAgBK;sBACHokB,YAAY,CAACxkB,IAAb,CAAkBvT,QAAQ,CAACg5B,YAA3B,EAAyCxtB,QAAzC,CAAkD3K,SAAS,CAAC8S,MAA5D;oBACD;;oBACDxR,KAAK,CAACC,cAAN;kBACD;gBACF,CAnCI,MAoCA,IAAGw1B,UAAU,IAAIpuB,IAAI,CAAC2vB,SAAnB,IAAgCvB,UAAU,IAAIpuB,IAAI,CAAC4vB,SAAtD,EAAiE;kBACpE,IAAGjB,cAAH,EAAmB;oBACjBj+B,MAAM,CAACI,OAAP,CAAe,wBAAf;;oBACA,IAAGg+B,WAAH,EAAgB;sBACd,IAAGC,QAAQ,IAAI,CAACC,iBAAhB,EAAmC;wBACjCt+B,MAAM,CAAC+2B,WAAP;sBACD;oBACF;;oBACD8G,YAAY,CAACgB,IAAb,GAAoBxlB,IAApB,CAAyBvT,QAAQ,CAACg5B,YAAlC,EAAgDxtB,QAAhD,CAAyD3K,SAAS,CAAC8S,MAAnE;oBACAzZ,MAAM,CAACsK,MAAP,CAAc0xB,YAAd,CAA2B6B,YAA3B;oBACA51B,KAAK,CAACC,cAAN;kBACD,CAVD,MAWK,IAAGs2B,YAAY,IAAI,CAACE,gBAAjB,IAAqC,CAACT,cAAtC,IAAwDP,UAAU,IAAIpuB,IAAI,CAAC4vB,SAA9E,EAAyF;oBAC5Fl/B,MAAM,CAACI,OAAP,CAAe,wCAAf;oBACAy9B,YAAY,GAAGjvB,MAAM,CAACiwB,IAAP,GAAcvtB,QAAd,CAAuB3K,SAAS,CAAC8S,MAAjC,CAAf;oBACAzZ,MAAM,CAACsK,MAAP,CAAc0xB,YAAd,CAA2B6B,YAA3B;kBACD;gBACF,CAjBI,MAkBA;kBACHA,YAAY,CAACxzB,WAAb,CAAyB1D,SAAS,CAAC8S,MAAnC;gBACD;cACF;YACF;UAjHO,CAlUL;UAsbLnR,OAAO,EAAE,UAASL,KAAT,EAAgB;YACvB,IACEy1B,UAAU,GAAMz1B,KAAK,CAAC2E,KADxB;YAAA,IAEE+wB,aAAa,GAAG39B,MAAM,CAAC4J,EAAP,CAAUg0B,QAAV,CAAmBF,UAAnB,EAA+BpuB,IAA/B,CAFlB;;YAIA,IAAGquB,aAAH,EAAkB;cAChB,IACE5C,kBAAkB,GAAG/I,KAAK,CAACjd,GAAN,CAAUjP,QAAQ,CAAC2uB,YAAnB,EAAiCzpB,MAAjC,CAAwC,MAAMrE,SAAS,CAAC2sB,QAAxD,EAAkElkB,EAAlE,CAAqE,CAArE,CADvB;cAAA,IAEE4rB,WAAW,GAAUlJ,KAAK,CAAC1gB,QAAN,CAAe,MAAMzK,SAAS,CAAC8S,MAA/B,EAAuCrK,EAAvC,CAA0C,CAA1C,CAFvB;cAAA,IAGE6rB,aAAa,GAASF,kBAAkB,CAACz4B,MAAnB,GAA4B,CAA7B,GACjBy4B,kBADiB,GAEjBC,WALN;cAAA,IAMEmE,aAAa,GAAIlE,aAAa,CAAC34B,MAAd,GAAuB,CAAxB,GACZ24B,aAAa,CAAC+B,QAAd,CAAuB,WAAWr2B,SAAS,CAACkyB,QAArB,GAA+B,GAAtD,EAA2DuG,OAA3D,EADY,GAEZtN,KAAK,CAAC1gB,QAAN,CAAe,WAAWzK,SAAS,CAACkyB,QAArB,GAA+B,GAA9C,CARN;cAAA,IASEiE,QAAQ,GAAgB7B,aAAa,CAAC7pB,QAAd,CAAuBtL,QAAQ,CAACisB,IAAhC,CAT1B;cAAA,IAUEsN,WAAW,GAAapE,aAAa,CAAC1xB,OAAd,CAAsBzD,QAAQ,CAACisB,IAA/B,CAV1B;cAAA,IAWEuN,aAAa,GAAYD,WAAW,CAACj1B,QAAZ,CAAqBzD,SAAS,CAAC4sB,OAA/B,KAA2C8L,WAAW,CAACj1B,QAAZ,CAAqBzD,SAAS,CAAC4S,SAA/B,CAA3C,IAAwF8lB,WAAW,CAACh2B,MAAZ,CAAmBvD,QAAQ,CAACisB,IAA5B,EAAkCzvB,MAAlC,GAA2C,CAX9J;cAAA,IAYE26B,UAAU,GAAeH,QAAQ,CAACx6B,MAAT,GAAiB,CAZ5C;cAAA,IAaEi9B,eAAe,GAAUtE,aAAa,CAAC34B,MAAd,GAAuB,CAblD;cAAA,IAcEk9B,oBAAoB,GAAKvE,aAAa,CAAClmB,GAAd,CAAkBjP,QAAQ,CAAC2uB,YAA3B,EAAyCnyB,MAAzC,GAAkD,CAd7E;cAAA,IAeEm9B,gBAAgB,GAAS/B,UAAU,IAAIpuB,IAAI,CAACspB,SAAnB,IAAgCv5B,QAAQ,CAAC84B,cAAzC,IAA2Dn4B,MAAM,CAAC4J,EAAP,CAAUqO,QAAV,EAftF;cAAA,IAgBEynB,qBAAqB,GAAIrgC,QAAQ,CAAC84B,cAAT,IAA2B94B,QAAQ,CAAC80B,aAApC,KAAsDuJ,UAAU,IAAIpuB,IAAI,CAACrC,KAAnB,IAA4BwyB,gBAAlF,KAAuGD,oBAhBlI;cAAA,IAiBEG,SAjBF;cAAA,IAkBEC,aAlBF;cAAA,IAmBEC,QAnBF,CADgB,CAsBhB;;cACA,IAAGH,qBAAH,EAA0B;gBACxB1/B,MAAM,CAACI,OAAP,CAAe,uCAAf,EAAwD66B,aAAxD;gBACAj7B,MAAM,CAACiI,KAAP,CAAaiJ,IAAb,CAAkB+H,KAAlB,CAAwB7Z,IAAxB,CAA6B67B,aAA7B,EAA4ChzB,KAA5C;;gBACA,IAAGjI,MAAM,CAAC4J,EAAP,CAAU4rB,eAAV,EAAH,EAAgC;kBAC9Bx1B,MAAM,CAACsK,MAAP,CAAcwtB,UAAd;gBACD;;gBACD,IAAG93B,MAAM,CAAC4J,EAAP,CAAUqO,QAAV,EAAH,EAAwB;kBACpBhQ,KAAK,CAACC,cAAN;gBACH;cACF,CAhCe,CAkChB;;;cACA,IAAIlI,MAAM,CAAC4J,EAAP,CAAU2pB,OAAV,EAAJ,EAA0B;gBAExB;gBACA,IAAGmK,UAAU,IAAIpuB,IAAI,CAACrC,KAAnB,IAA4BwyB,gBAA/B,EAAiD;kBAC/C,IAAG/B,UAAU,IAAIpuB,IAAI,CAACrC,KAAnB,IAA4BsyB,eAA5B,IAA+CtC,UAA/C,IAA6D,CAAC59B,QAAQ,CAACi+B,sBAA1E,EAAkG;oBAChGt9B,MAAM,CAACI,OAAP,CAAe,0DAAf;oBACAs9B,UAAU,GAAGpuB,IAAI,CAAC0vB,UAAlB;kBACD,CAHD,MAIK,IAAGQ,oBAAH,EAAyB;oBAC5Bx/B,MAAM,CAACI,OAAP,CAAe,uCAAf,EAAwD66B,aAAxD;oBACAj7B,MAAM,CAACiI,KAAP,CAAaiJ,IAAb,CAAkB+H,KAAlB,CAAwB7Z,IAAxB,CAA6B67B,aAA7B,EAA4ChzB,KAA5C;;oBACA,IAAGjI,MAAM,CAAC4J,EAAP,CAAU4rB,eAAV,EAAH,EAAgC;sBAC9Bx1B,MAAM,CAACsK,MAAP,CAAcwtB,UAAd;;sBACA,IAAG93B,MAAM,CAAC4J,EAAP,CAAUqO,QAAV,EAAH,EAAyB;wBACrBsZ,OAAO,CAAChe,KAAR;sBACH;oBACF;kBACF;;kBACDtL,KAAK,CAACC,cAAN;gBACD,CAnBuB,CAqBxB;;;gBACA,IAAGq3B,eAAH,EAAoB;kBAElB,IAAG7B,UAAU,IAAIpuB,IAAI,CAACsvB,SAAtB,EAAiC;oBAE/BgB,aAAa,GAAIP,WAAW,CAAC,CAAD,CAAX,KAAmBvN,KAAK,CAAC,CAAD,CAAzC;;oBAEA,IAAG8N,aAAH,EAAkB;sBAChB5/B,MAAM,CAACI,OAAP,CAAe,oCAAf;sBACAJ,MAAM,CAAC0a,OAAP,CAAe0R,IAAf,CAAoB,KAApB,EAA2BiT,WAA3B;sBACApE,aAAa,CACV5wB,WADH,CACe1D,SAAS,CAAC2sB,QADzB;sBAGA+L,WAAW,CACR91B,OADH,CACWzD,QAAQ,CAACoL,IADpB,EAEKI,QAFL,CAEc3K,SAAS,CAAC2sB,QAFxB;sBAIArrB,KAAK,CAACC,cAAN;oBACD;kBACF,CAlBiB,CAoBlB;;;kBACA,IAAGw1B,UAAU,IAAIpuB,IAAI,CAAC0vB,UAAtB,EAAkC;oBAChC,IAAG/B,UAAH,EAAe;sBACbj9B,MAAM,CAACI,OAAP,CAAe,qCAAf;sBACAJ,MAAM,CAAC0a,OAAP,CAAe2R,IAAf,CAAoB,KAApB,EAA2ByQ,QAA3B;sBACA7B,aAAa,CACV5wB,WADH,CACe1D,SAAS,CAAC2sB,QADzB;sBAGAwJ,QAAQ,CACLr1B,IADH,CACQ3B,QAAQ,CAACoL,IADjB,EACuB9B,EADvB,CAC0B,CAD1B,EAEKkC,QAFL,CAEc3K,SAAS,CAAC2sB,QAFxB;sBAIArrB,KAAK,CAACC,cAAN;oBACD;kBACF;gBACF,CAzDuB,CA2DxB;;;gBACA,IAAGw1B,UAAU,IAAIpuB,IAAI,CAACwwB,OAAtB,EAA+B;kBAC7BH,SAAS,GAAIJ,eAAe,IAAID,aAApB,GACRrE,aAAa,CAACnM,OAAd,CAAsBhpB,QAAQ,CAACoL,IAAT,GAAgB,OAAhB,GAA0BpL,QAAQ,CAAC2uB,YAAnC,GAAkD,GAAxE,EAA6ErlB,EAA7E,CAAgF,CAAhF,CADQ,GAER4iB,KAAK,CAAC5iB,EAAN,CAAS,CAAT,CAFJ;;kBAIA,IAAG+vB,aAAa,CAACt9B,KAAd,CAAqB89B,SAArB,IAAmC,CAAtC,EAAyC;oBACvC3/B,MAAM,CAACI,OAAP,CAAe,gDAAf;oBACA6H,KAAK,CAACC,cAAN;oBACA;kBACD,CAJD,MAKK;oBACHlI,MAAM,CAACI,OAAP,CAAe,sCAAf;oBACA66B,aAAa,CACV5wB,WADH,CACe1D,SAAS,CAAC2sB,QADzB;oBAGAqM,SAAS,CACNruB,QADH,CACY3K,SAAS,CAAC2sB,QADtB;oBAGAtzB,MAAM,CAACoH,GAAP,CAAWo2B,cAAX,CAA0BmC,SAA1B;;oBACA,IAAGtgC,QAAQ,CAAC0gC,eAAT,IAA4B//B,MAAM,CAAC4J,EAAP,CAAUo2B,MAAV,EAA/B,EAAmD;sBACjDhgC,MAAM,CAACoH,GAAP,CAAWotB,YAAX,CAAwBmL,SAAxB;oBACD;kBACF;;kBACD13B,KAAK,CAACC,cAAN;gBACD,CApFuB,CAsFxB;;;gBACA,IAAGw1B,UAAU,IAAIpuB,IAAI,CAAC2wB,SAAtB,EAAiC;kBAC/BN,SAAS,GAAIJ,eAAe,IAAID,aAApB,GACRK,SAAS,GAAG1E,aAAa,CAACpG,OAAd,CAAsB/uB,QAAQ,CAACoL,IAAT,GAAgB,OAAhB,GAA0BpL,QAAQ,CAAC2uB,YAAnC,GAAkD,GAAxE,EAA6ErlB,EAA7E,CAAgF,CAAhF,CADJ,GAER4iB,KAAK,CAAC5iB,EAAN,CAAS,CAAT,CAFJ;;kBAIA,IAAGuwB,SAAS,CAACr9B,MAAV,KAAqB,CAAxB,EAA2B;oBACzBtC,MAAM,CAACI,OAAP,CAAe,qDAAf;oBACA6H,KAAK,CAACC,cAAN;oBACA;kBACD,CAJD,MAKK;oBACHlI,MAAM,CAACI,OAAP,CAAe,wCAAf;oBACA4xB,KAAK,CACF3nB,WADH,CACe1D,SAAS,CAAC2sB,QADzB;oBAGAqM,SAAS,CACNruB,QADH,CACY3K,SAAS,CAAC2sB,QADtB;oBAGAtzB,MAAM,CAACoH,GAAP,CAAWo2B,cAAX,CAA0BmC,SAA1B;;oBACA,IAAGtgC,QAAQ,CAAC0gC,eAAT,IAA4B//B,MAAM,CAAC4J,EAAP,CAAUo2B,MAAV,EAA/B,EAAmD;sBACjDhgC,MAAM,CAACoH,GAAP,CAAWotB,YAAX,CAAwBmL,SAAxB;oBACD;kBACF;;kBACD13B,KAAK,CAACC,cAAN;gBACD,CA/GuB,CAiHxB;;;gBACA,IAAGw1B,UAAU,IAAIpuB,IAAI,CAAC4wB,MAAtB,EAA8B;kBAC5BlgC,MAAM,CAACmgC,UAAP,CAAkB,IAAlB;kBACAl4B,KAAK,CAACC,cAAN;gBACD;;gBACD,IAAGw1B,UAAU,IAAIpuB,IAAI,CAAC8wB,QAAtB,EAAgC;kBAC9BpgC,MAAM,CAACmgC,UAAP,CAAkB,MAAlB;kBACAl4B,KAAK,CAACC,cAAN;gBACD,CAzHuB,CA2HxB;;;gBACA,IAAGw1B,UAAU,IAAIpuB,IAAI,CAACpC,MAAtB,EAA8B;kBAC5BlN,MAAM,CAACI,OAAP,CAAe,sCAAf;kBACAJ,MAAM,CAACosB,IAAP;gBACD;cAEF,CAjID,MAkIK;gBACH;gBACA,IAAGqT,gBAAH,EAAqB;kBACnBx3B,KAAK,CAACC,cAAN;gBACD,CAJE,CAKH;;;gBACA,IAAGw1B,UAAU,IAAIpuB,IAAI,CAAC2wB,SAAnB,IAAgC,CAACjgC,MAAM,CAAC4J,EAAP,CAAU2pB,OAAV,EAApC,EAAyD;kBACvDvzB,MAAM,CAACI,OAAP,CAAe,oCAAf;kBACAJ,MAAM,CAACqsB,IAAP;kBACApkB,KAAK,CAACC,cAAN;gBACD;cACF;YACF,CAjLD,MAkLK;cACH,IAAI,CAAClI,MAAM,CAAC6Q,GAAP,CAAWnC,MAAX,EAAL,EAA2B;gBACzB1O,MAAM,CAACoH,GAAP,CAAWi5B,cAAX,CAA2Bz0B,MAAM,CAAC00B,YAAP,CAAoB5C,UAApB,CAA3B;cACD;YACF;UACF;QAlnBI,CA18BA;QA+jDPrrB,OAAO,EAAE;UACPpQ,MAAM,EAAE,YAAW;YACjB,IACE8c,YAAY,GAAGvW,MAAM,CAAC,CAAD,CADvB;;YAGA,IAAGuW,YAAH,EAAiB;cACf,IAAIrG,MAAM,GAAGva,QAAQ,CAAC6gB,WAAT,CAAqB,YAArB,CAAb;cACAhf,MAAM,CAACI,OAAP,CAAe,gCAAf;cACAsY,MAAM,CAACuG,SAAP,CAAiB,QAAjB,EAA2B,IAA3B,EAAiC,KAAjC;cACAF,YAAY,CAACG,aAAb,CAA2BxG,MAA3B;YACD;UACF;QAXM,CA/jDF;QA6kDP1P,SAAS,EAAE;UACTy0B,YAAY,EAAE,UAAS9vB,IAAT,EAAexL,KAAf,EAAsB;YAClCqwB,kBAAkB,GAAG,IAArB;YACAxyB,MAAM,CAACI,OAAP,CAAe,oBAAf,EAAqCf,QAAQ,CAAC0I,MAA9C;;YACA,IAAI9J,CAAC,CAACI,UAAF,CAAc2B,MAAM,CAAC+H,MAAP,CAAc1I,QAAQ,CAAC0I,MAAvB,CAAd,CAAJ,EAAqD;cACnD/H,MAAM,CAACI,OAAP,CAAe,0BAAf,EAA2Cf,QAAQ,CAAC0I,MAApD,EAA4D4F,IAA5D,EAAkExL,KAAlE;cACAnC,MAAM,CAAC+H,MAAP,CAAe1I,QAAQ,CAAC0I,MAAxB,EAAiC3I,IAAjC,CAAsCS,OAAtC,EAA+C8N,IAA/C,EAAqDxL,KAArD,EAA4D,IAA5D;YACD,CAHD,MAIK,IAAIlE,CAAC,CAACI,UAAF,CAAagB,QAAQ,CAAC0I,MAAtB,CAAJ,EAAoC;cACvC/H,MAAM,CAACI,OAAP,CAAe,wBAAf,EAAyCf,QAAQ,CAAC0I,MAAlD,EAA0D4F,IAA1D,EAAgExL,KAAhE;cACA9C,QAAQ,CAAC0I,MAAT,CAAgB3I,IAAhB,CAAqBS,OAArB,EAA8B8N,IAA9B,EAAoCxL,KAApC,EAA2C,IAA3C;YACD,CAHI,MAIA;cACHnC,MAAM,CAACP,KAAP,CAAaA,KAAK,CAACsI,MAAnB,EAA2B1I,QAAQ,CAAC0I,MAApC;YACD;;YACDyqB,kBAAkB,GAAG,KAArB;UACD,CAhBQ;UAiBT6J,aAAa,EAAE,UAASp0B,KAAT,EAAgB5G,QAAhB,EAA0B;YACvC,IACEwrB,OAAO,GAAM5uB,CAAC,CAACgK,KAAK,CAACie,MAAP,CADhB;YAAA,IAEEqa,UAAU,GAAI1T,OAAO,CAACtjB,OAAR,CAAgBpL,QAAQ,CAACixB,eAAzB,EAA0C9sB,MAA1C,GAAmD,CAFnE;YAAA,IAGEk+B,QAAQ,GAAM3T,OAAO,CAACtjB,OAAR,CAAgB3J,OAAhB,EAAyB0C,MAAzB,GAAkC,CAHlD;YAKAjB,QAAQ,GAAGpD,CAAC,CAACI,UAAF,CAAagD,QAAb,IACPA,QADO,GAEP,YAAU,CAAE,CAFhB;;YAIA,IAAGk/B,UAAU,IAAI,CAACC,QAAlB,EAA4B;cAC1BxgC,MAAM,CAACI,OAAP,CAAe,kBAAf,EAAmCiB,QAAnC;cACAA,QAAQ;cACR,OAAO,IAAP;YACD,CAJD,MAKK;cACHrB,MAAM,CAACI,OAAP,CAAe,gDAAf;cACA,OAAO,KAAP;YACD;UACF,CApCQ;UAqCTg8B,cAAc,EAAE,UAASn0B,KAAT,EAAgB5G,QAAhB,EAA0B;YACxC,IACEwrB,OAAO,GAAQ5uB,CAAC,CAACgK,KAAK,CAACie,MAAP,CADlB;YAAA,IAEEtX,MAAM,GAASie,OAAO,CAACtjB,OAAR,CAAgBzD,QAAQ,CAACg5B,YAAzB,CAFjB;YAAA,IAGE2B,YAAY,GAAGtiC,QAAQ,CAACuiC,IAAT,CAAc/pB,QAAd,CAAuB1O,KAAK,CAACie,MAA7B,CAHjB;YAAA,IAIEya,UAAU,GAAM/gC,OAAO,CAAC6H,IAAR,CAAamH,MAAb,EAAqBtM,MAArB,KAAgC,CAAhC,IAAqC,EAAEtC,MAAM,CAAC4J,EAAP,CAAUqO,QAAV,MAAwB5Y,QAAQ,CAACk5B,SAAnC,CAJvD;YAAA,IAKEqI,SAAS,GAAO/T,OAAO,CAACtjB,OAAR,CAAgBuoB,KAAhB,EAAuBxvB,MAAvB,KAAkC,CALpD;YAOAjB,QAAQ,GAAGpD,CAAC,CAACI,UAAF,CAAagD,QAAb,IACPA,QADO,GAEP,YAAU,CAAE,CAFhB;;YAIA,IAAGo/B,YAAY,IAAIE,UAAhB,IAA8BC,SAAjC,EAA4C;cAC1C5gC,MAAM,CAACI,OAAP,CAAe,kBAAf,EAAmCiB,QAAnC;cACAA,QAAQ;cACR,OAAO,IAAP;YACD,CAJD,MAKK;cACHrB,MAAM,CAACI,OAAP,CAAe,qDAAf;cACA,OAAO,KAAP;YACD;UACF;QA1DQ,CA7kDJ;QA0oDP2H,MAAM,EAAE;UAEN84B,OAAO,EAAE,YAAW,CAAE,CAFhB;UAINC,QAAQ,EAAE,UAASnzB,IAAT,EAAexL,KAAf,EAAsBtC,OAAtB,EAA+B;YACvCsC,KAAK,GAAIA,KAAK,KAAK/D,SAAX,GACJ+D,KADI,GAEJwL,IAFJ;;YAIA,IAAI3N,MAAM,CAACgK,GAAP,CAAW82B,QAAX,CAAqB7iC,CAAC,CAAC4B,OAAD,CAAtB,CAAJ,EAAwC;cACtCG,MAAM,CAACoH,GAAP,CAAWksB,QAAX,CAAoBnxB,KAApB,EAA2BlE,CAAC,CAAC4B,OAAD,CAA5B;;cACA,IAAG,CAACG,MAAM,CAAC4J,EAAP,CAAUqO,QAAV,EAAJ,EAA0B;gBACxBjY,MAAM,CAAC+gC,YAAP;cACD;YACF;UACF,CAfK;UAiBNvN,MAAM,EAAE,UAAS7lB,IAAT,EAAexL,KAAf,EAAsBtC,OAAtB,EAA+B;YACrCsC,KAAK,GAAIA,KAAK,KAAK/D,SAAX,GACJ+D,KADI,GAEJwL,IAFJ;;YAIA,IAAI3N,MAAM,CAACgK,GAAP,CAAW82B,QAAX,CAAqB7iC,CAAC,CAAC4B,OAAD,CAAtB,CAAJ,EAAwC;cACtCG,MAAM,CAACoH,GAAP,CAAWjF,KAAX,CAAiBA,KAAjB,EAAwBwL,IAAxB,EAA8B1P,CAAC,CAAC4B,OAAD,CAA/B;;cACA,IAAG,CAACG,MAAM,CAAC4J,EAAP,CAAUqO,QAAV,EAAJ,EAA0B;gBACxBjY,MAAM,CAAC+gC,YAAP;cACD;YACF;UACF,CA5BK;UA8BNC,KAAK,EAAE,UAASrzB,IAAT,EAAexL,KAAf,EAAsBtC,OAAtB,EAA+B;YACpCsC,KAAK,GAAIA,KAAK,KAAK/D,SAAX,GACJ+D,KADI,GAEJwL,IAFJ;YAIA3N,MAAM,CAACoH,GAAP,CAAWksB,QAAX,CAAoBnxB,KAApB,EAA2BlE,CAAC,CAAC4B,OAAD,CAA5B;YACAG,MAAM,CAAC+gC,YAAP;UACD,CArCK;UAuCN3U,IAAI,EAAE,UAASze,IAAT,EAAexL,KAAf,EAAsBtC,OAAtB,EAA+B;YACnCG,MAAM,CAACoH,GAAP,CAAWjF,KAAX,CAAiBA,KAAjB,EAAwBwL,IAAxB,EAA8B1P,CAAC,CAAC4B,OAAD,CAA/B;YACAG,MAAM,CAAC+gC,YAAP;UACD;QA1CK,CA1oDD;QAwrDP95B,GAAG,EAAE;UACH2rB,EAAE,EAAE,YAAW;YACb,OAAOA,EAAP;UACD,CAHE;UAIHwD,WAAW,EAAE,YAAW;YACtB,OAAOx2B,OAAO,CAACG,IAAR,CAAa2G,QAAQ,CAAC0vB,WAAtB,CAAP;UACD,CANE;UAOH1sB,YAAY,EAAE,YAAW;YACvB,OAAO9J,OAAO,CAACG,IAAR,CAAa2G,QAAQ,CAACgD,YAAtB,CAAP;UACD,CATE;UAUH2sB,eAAe,EAAE,YAAW;YAC1B,IAAGh3B,QAAQ,CAAC4hC,WAAT,IAAwB,MAAxB,IAAkC,OAAO5hC,QAAQ,CAAC4hC,WAAhB,IAA+B,QAApE,EAA8E;cAC5E,OAAO5hC,QAAQ,CAAC4hC,WAAhB;YACD;;YACD,OAAOrhC,OAAO,CAACG,IAAR,CAAa2G,QAAQ,CAAC2vB,eAAtB,KAA0C,EAAjD;UACD,CAfE;UAgBH1oB,IAAI,EAAE,YAAW;YACf,OAAOtO,QAAQ,CAACu2B,YAAT,GAAwBtE,KAAK,CAAC5f,IAAN,EAAxB,GAAuC4f,KAAK,CAAC3jB,IAAN,EAA9C;UACD,CAlBE;UAmBH5O,KAAK,EAAE,YAAW;YAChB,OAAO6M,MAAM,CAAC2lB,OAAO,CAAC9mB,GAAR,EAAD,CAAN,CAAsBoB,IAAtB,EAAP;UACD,CArBE;UAsBHq1B,WAAW,EAAE,UAAS/+B,KAAT,EAAgB;YAC3BA,KAAK,GAAIA,KAAK,KAAK/D,SAAX,GACJ+D,KADI,GAEJovB,OAAO,CAAC9mB,GAAR,EAFJ;YAIA+mB,MAAM,CAAC7jB,IAAP,CAAYxL,KAAZ,EAL2B,CAM3B;;YACA,OAAOsD,IAAI,CAAC8b,IAAL,CAAWiQ,MAAM,CAAClM,KAAP,KAAiB,CAA5B,CAAP;UACD,CA9BE;UA+BH6b,cAAc,EAAE,YAAW;YACzB,IACElxB,MAAM,GAAGjQ,MAAM,CAACiH,GAAP,CAAWgJ,MAAX,EADX;YAAA,IAEEmxB,KAFF;YAIAA,KAAK,GAAKphC,MAAM,CAAC4J,EAAP,CAAUqO,QAAV,EAAF,GACJvT,KAAK,CAACC,OAAN,CAAcsL,MAAd,IACEA,MAAM,CAAC3N,MADT,GAEE,CAHE,GAIHtC,MAAM,CAACiH,GAAP,CAAW9E,KAAX,OAAuB,EAAxB,GACE,CADF,GAEE,CANN;YAQA,OAAOi/B,KAAP;UACD,CA7CE;UA8CHzvB,UAAU,EAAE,UAASmrB,QAAT,EAAmB;YAC7B,OAAQz9B,QAAQ,CAACsS,UAAT,KAAwB,MAAzB,GACH3R,MAAM,CAAC4J,EAAP,CAAUy3B,MAAV,CAAiBvE,QAAjB,IACE,UADF,GAEE,YAHC,GAIHz9B,QAAQ,CAACsS,UAJb;UAMD,CArDE;UAsDHoiB,UAAU,EAAE,YAAW;YACrB,IACE9jB,MAAM,GAAGjQ,MAAM,CAACiH,GAAP,CAAWgJ,MAAX,EADX;;YAGA,IAAG,CAACA,MAAJ,EAAY;cACV,OAAO,KAAP;YACD;;YACDA,MAAM,GAAGvL,KAAK,CAACC,OAAN,CAAcsL,MAAd,IACLA,MADK,GAEL,CAACA,MAAD,CAFJ;YAIA,OAAOhS,CAAC,CAACgT,IAAF,CAAOhB,MAAP,EAAe,UAAS9N,KAAT,EAAgB;cACpC,OAAQnC,MAAM,CAACiH,GAAP,CAAWiK,IAAX,CAAgB/O,KAAhB,MAA2B,KAAnC;YACD,CAFM,CAAP;UAGD,CApEE;UAqEHm/B,WAAW,EAAE,UAASC,KAAT,EAAgB;YAC3B,OAAOtjC,CAAC,CAACgT,IAAF,CAAOswB,KAAP,EAAc,UAAUp/B,KAAV,EAAiBN,KAAjB,EAAwB;cACzC,OAAO5D,CAAC,CAAC+Z,OAAF,CAAU7V,KAAV,EAAiBo/B,KAAjB,MAA4B1/B,KAAnC;YACH,CAFM,CAAP;UAGD,CAzEE;UA0EH48B,aAAa,EAAE,UAAS+C,YAAT,EAAuB;YACpC,IACE10B,KAAK,GAAGykB,OAAO,CAACtqB,GAAR,CAAY,CAAZ,CADV;YAAA,IAEEiI,KAFF;YAAA,IAGEuyB,WAHF;;YAKA,IAAGD,YAAY,IAAI,kBAAkB10B,KAArC,EAA2C;cACzC,OAAOA,KAAK,CAAC40B,YAAb;YACD,CAFD,MAGK,IAAG,CAACF,YAAD,IAAiB,oBAAoB10B,KAAxC,EAA+C;cAClD,OAAOA,KAAK,CAAC60B,cAAb;YACD;;YACD,IAAIxjC,QAAQ,CAACw3B,SAAb,EAAwB;cACtB7oB,KAAK,CAACyG,KAAN;cACArE,KAAK,GAAS/Q,QAAQ,CAACw3B,SAAT,CAAmBiM,WAAnB,EAAd;cACAH,WAAW,GAAGvyB,KAAK,CAACvB,IAAN,CAAWrL,MAAzB;;cACA,IAAGk/B,YAAH,EAAiB;gBACf,OAAOC,WAAP;cACD;;cACDvyB,KAAK,CAAC2yB,SAAN,CAAgB,WAAhB,EAA6B,CAAC/0B,KAAK,CAAC3K,KAAN,CAAYG,MAA1C;cACA,OAAO4M,KAAK,CAACvB,IAAN,CAAWrL,MAAX,GAAoBm/B,WAA3B;YACD;UACF,CAhGE;UAiGHt/B,KAAK,EAAE,YAAW;YAChB,IACEA,KAAK,GAAIqG,MAAM,CAAClG,MAAP,GAAgB,CAAjB,GACJkG,MAAM,CAACiC,GAAP,EADI,GAEJ7K,OAAO,CAACG,IAAR,CAAa2G,QAAQ,CAACvE,KAAtB,CAHN;YAAA,IAIE2/B,kBAAkB,GAAIp9B,KAAK,CAACC,OAAN,CAAcxC,KAAd,KAAwBA,KAAK,CAACG,MAAN,KAAiB,CAAzC,IAA8CH,KAAK,CAAC,CAAD,CAAL,KAAa,EAJnF,CADgB,CAOhB;;YACA,OAAQA,KAAK,KAAK/D,SAAV,IAAuB0jC,kBAAxB,GACH,EADG,GAEH3/B,KAFJ;UAID,CA7GE;UA8GH8N,MAAM,EAAE,UAAS8xB,GAAT,EAAc;YACpB,IACE5/B,KAAK,GAAGnC,MAAM,CAACiH,GAAP,CAAW9E,KAAX,EADV;;YAGA,IAAGA,KAAK,KAAK,EAAb,EAAiB;cACf,OAAO,EAAP;YACD;;YACD,OAAS,CAACnC,MAAM,CAAC6Q,GAAP,CAAWsqB,WAAX,EAAD,IAA6Bn7B,MAAM,CAAC4J,EAAP,CAAUqO,QAAV,EAA/B,GACF,OAAO9V,KAAP,IAAgB,QAAjB,CAA2B;YAA3B,EACE,CAAC4/B,GAAG,GAAG5/B,KAAH,GAAWnC,MAAM,CAACkN,MAAP,CAAcorB,YAAd,CAA2Bn2B,KAA3B,CAAf,EAAkDiC,KAAlD,CAAwD/E,QAAQ,CAACu5B,SAAjE,CADF,GAEE,EAHC,GAIHz2B,KAJJ;UAMD,CA3HE;UA4HHi3B,YAAY,EAAE,YAAW;YACvB,IACEnpB,MAAM,GAAGjQ,MAAM,CAACiH,GAAP,CAAWgJ,MAAX,EADX;YAAA,IAEEmpB,YAAY,GAAG,KAFjB;;YAIA,IAAGnpB,MAAH,EAAW;cACT,IAAG,OAAOA,MAAP,IAAiB,QAApB,EAA8B;gBAC5BA,MAAM,GAAG,CAACA,MAAD,CAAT;cACD;;cACDhS,CAAC,CAAC2D,IAAF,CAAOqO,MAAP,EAAe,UAASpO,KAAT,EAAgBM,KAAhB,EAAuB;gBACpC,IACEX,IAAI,GAAGxB,MAAM,CAACgiC,IAAP,CAAYC,UAAZ,CAAuB9/B,KAAvB,CADT;gBAGAnC,MAAM,CAACI,OAAP,CAAe,mCAAf,EAAoDoB,IAApD,EAA0DW,KAA1D;;gBACA,IAAGX,IAAH,EAAS;kBACP,IAAG,CAAC43B,YAAJ,EAAkB;oBAChBA,YAAY,GAAG,EAAf;kBACD;;kBACDA,YAAY,CAACj3B,KAAD,CAAZ,GAAsBX,IAAtB;gBACD;cACF,CAXD;YAYD;;YACD,OAAO43B,YAAP;UACD,CAnJE;UAoJHS,UAAU,EAAE,UAASF,OAAT,EAAkB/D,YAAlB,EAAgC;YAC1CA,YAAY,GAAIA,YAAY,KAAKx3B,SAAlB,GACXw3B,YADW,GAEXv2B,QAAQ,CAACu2B,YAFb;;YAIA,IAAG+D,OAAH,EAAY;cACV,IAAGA,OAAO,CAAClyB,IAAR,CAAa3B,QAAQ,CAACisB,IAAtB,EAA4BzvB,MAA5B,GAAqC,CAAxC,EAA2C;gBACzCtC,MAAM,CAACI,OAAP,CAAe,0CAAf;gBACAu5B,OAAO,GAAGA,OAAO,CAACuI,KAAR,EAAV;gBACAvI,OAAO,CAAClyB,IAAR,CAAa3B,QAAQ,CAACisB,IAAtB,EAA4BznB,MAA5B;gBACAqvB,OAAO,CAAClyB,IAAR,CAAa3B,QAAQ,CAACq8B,QAAtB,EAAgC73B,MAAhC;cACD;;cACD,OAAQqvB,OAAO,CAAC55B,IAAR,CAAa2G,QAAQ,CAACiH,IAAtB,MAAgCvP,SAAjC,GACHu7B,OAAO,CAAC55B,IAAR,CAAa2G,QAAQ,CAACiH,IAAtB,CADG,GAEFioB,YAAD,GACE+D,OAAO,CAACjoB,IAAR,MAAkBioB,OAAO,CAACjoB,IAAR,GAAe7F,IAAf,EADpB,GAEE8tB,OAAO,CAAChsB,IAAR,MAAkBgsB,OAAO,CAAChsB,IAAR,GAAe9B,IAAf,EAJxB;YAMD;UACF,CAvKE;UAwKHouB,WAAW,EAAE,UAASN,OAAT,EAAkBE,UAAlB,EAA8B;YACzCA,UAAU,GAAGA,UAAU,IAAI75B,MAAM,CAACiH,GAAP,CAAW4yB,UAAX,CAAsBF,OAAtB,CAA3B;;YACA,IAAG,CAACA,OAAJ,EAAa;cACX,OAAO,KAAP;YACD;;YACD,OAAQA,OAAO,CAAC55B,IAAR,CAAa2G,QAAQ,CAACvE,KAAtB,MAAiC/D,SAAlC,GACHwN,MAAM,CAAE+tB,OAAO,CAAC55B,IAAR,CAAa2G,QAAQ,CAACvE,KAAtB,CAAF,CADH,GAEF,OAAO03B,UAAP,KAAsB,QAAvB,GACEjuB,MAAM,CACNvM,QAAQ,CAACo6B,gBAAT,GACEI,UAAU,CAACpjB,WAAX,EADF,GAEEojB,UAHI,CAAN,CAIAhuB,IAJA,EADF,GAMED,MAAM,CAACiuB,UAAD,CARZ;UAUD,CAvLE;UAwLHlxB,UAAU,EAAE,YAAW;YACrB,IACEmE,KAAK,GAAGykB,OAAO,CAAC,CAAD,CADjB;;YAGA,IAAGzkB,KAAH,EAAU;cACR,OAAQA,KAAK,CAACmB,OAAN,KAAkB7P,SAAnB,GACH,OADG,GAEF0O,KAAK,CAACoB,gBAAN,KAA2B9P,SAA5B,GACE,gBADF,GAEE,OAJN;YAMD;;YACD,OAAO,KAAP;UACD,CArME;UAsMHs3B,YAAY,EAAE,YAAW;YACvB,IACElC,MAAM,GAAG,EADX;YAAA,IAEE4O,QAAQ,GAAG,EAFb;YAAA,IAGEnyB,MAAM,GAAG,EAHX;YAKArQ,OAAO,CACJ6H,IADH,CACQ,QADR,EAEK7F,IAFL,CAEU,YAAW;cACf,IACEygC,OAAO,GAAIpkC,CAAC,CAAC,IAAD,CADd;cAAA,IAEEuD,IAAI,GAAO6gC,OAAO,CAAC3wB,IAAR,EAFb;cAAA,IAGE3P,QAAQ,GAAGsgC,OAAO,CAACxvB,IAAR,CAAa,UAAb,CAHb;cAAA,IAIE1Q,KAAK,GAAQkgC,OAAO,CAACxvB,IAAR,CAAa,OAAb,MAA0BzU,SAA5B,GACPikC,OAAO,CAACxvB,IAAR,CAAa,OAAb,CADO,GAEPrR,IANN;cAAA,IAOEmM,IAAI,GAAS00B,OAAO,CAACtiC,IAAR,CAAa2G,QAAQ,CAACiH,IAAtB,MAAgCvP,SAAlC,GACPikC,OAAO,CAACtiC,IAAR,CAAa2G,QAAQ,CAACiH,IAAtB,CADO,GAEPnM,IATN;cAAA,IAUEZ,KAAK,GAAGyhC,OAAO,CAACh5B,MAAR,CAAe,UAAf,CAVV;;cAYA,IAAGhK,QAAQ,CAAC4hC,WAAT,KAAyB,MAAzB,IAAmC9+B,KAAK,KAAK,EAAhD,EAAoD;gBAClDqxB,MAAM,CAACyN,WAAP,GAAqBz/B,IAArB;cACD,CAFD,MAGK;gBACH,IAAGZ,KAAK,CAAC0B,MAAN,KAAiB8/B,QAAQ,CAAC9/B,MAA1B,IAAoC1B,KAAK,CAAC,CAAD,CAAL,KAAawhC,QAAQ,CAAC,CAAD,CAA5D,EAAiE;kBAC/DnyB,MAAM,CAACnO,IAAP,CAAY;oBACV2G,IAAI,EAAE,QADI;oBAEV0pB,OAAO,EAAE9yB,QAAQ,CAACijC,aAFR;oBAGV9gC,IAAI,EAAEZ,KAAK,CAACiS,IAAN,CAAW,OAAX,KAAuB;kBAHnB,CAAZ;kBAKAuvB,QAAQ,GAAGxhC,KAAX;gBACD;;gBACDqP,MAAM,CAACnO,IAAP,CAAY;kBACVN,IAAI,EAAOA,IADD;kBAEVW,KAAK,EAAMA,KAFD;kBAGVwL,IAAI,EAAOA,IAHD;kBAIV5L,QAAQ,EAAGA;gBAJD,CAAZ;cAMD;YACF,CAlCL;;YAoCA,IAAG1C,QAAQ,CAAC4hC,WAAT,IAAwB5hC,QAAQ,CAAC4hC,WAAT,KAAyB,MAApD,EAA4D;cAC1DjhC,MAAM,CAACS,KAAP,CAAa,8BAAb,EAA6CpB,QAAQ,CAAC4hC,WAAtD;cACAzN,MAAM,CAACyN,WAAP,GAAqB5hC,QAAQ,CAAC4hC,WAA9B;YACD;;YACD,IAAG5hC,QAAQ,CAACkjC,UAAZ,EAAwB;cACtB,IAAGljC,QAAQ,CAACkjC,UAAT,KAAwB,IAA3B,EAAiC;gBAC/BtyB,MAAM,CAACuyB,IAAP,CAAY,UAASC,CAAT,EAAYvmB,CAAZ,EAAe;kBACzB,OAAOumB,CAAC,CAACjhC,IAAF,CAAOkhC,aAAP,CAAqBxmB,CAAC,CAAC1a,IAAvB,CAAP;gBACD,CAFD;cAGD,CAJD,MAIO,IAAGnC,QAAQ,CAACkjC,UAAT,KAAwB,SAA3B,EAAsC;gBAC3CtyB,MAAM,CAACuyB,IAAP,CAAY,UAASC,CAAT,EAAYvmB,CAAZ,EAAe;kBACzB,OAAQumB,CAAC,CAACjhC,IAAF,CAAOiV,WAAP,GAAqBisB,aAArB,CAAmCxmB,CAAC,CAAC1a,IAAF,CAAOiV,WAAP,EAAnC,CAAR;gBACD,CAFD;cAGD,CAJM,MAIA,IAAGxY,CAAC,CAACI,UAAF,CAAagB,QAAQ,CAACkjC,UAAtB,CAAH,EAAsC;gBAC3CtyB,MAAM,CAACuyB,IAAP,CAAYnjC,QAAQ,CAACkjC,UAArB;cACD;;cACD/O,MAAM,CAACplB,MAAM,CAAC6B,MAAR,CAAN,GAAwBA,MAAxB;cACAjQ,MAAM,CAACS,KAAP,CAAa,yCAAb,EAAwD+yB,MAAxD;YACD,CAdD,MAeK;cACHA,MAAM,CAACplB,MAAM,CAAC6B,MAAR,CAAN,GAAwBA,MAAxB;cACAjQ,MAAM,CAACS,KAAP,CAAa,8BAAb,EAA6C+yB,MAA7C;YACD;;YACD,OAAOA,MAAP;UACD,CAxQE;UAyQHyE,UAAU,EAAE,YAAW;YACrB,OAAOjG,KAAK,CAAChnB,MAAN,CAAa,MAAOrE,SAAS,CAAC8S,MAA9B,CAAP;UACD,CA3QE;UA4QH+a,YAAY,EAAE,YAAW;YACvB,IACEyG,aAAa,GAAGjJ,KAAK,CAACjd,GAAN,CAAUjP,QAAQ,CAAC2uB,YAAnB,EAAiCzpB,MAAjC,CAAwC,MAAOrE,SAAS,CAAC2sB,QAAzD,CADlB;YAGA,OAAQ2H,aAAa,CAAC34B,MAAd,GAAuB,CAAxB,GACH24B,aADG,GAEHjJ,KAAK,CAAC5iB,EAAN,CAAS,CAAT,CAFJ;UAID,CApRE;UAqRHuzB,iBAAiB,EAAE,UAASxgC,KAAT,EAAgB;YACjC,IACEygC,MAAM,GAAS5iC,MAAM,CAACiH,GAAP,CAAWiK,IAAX,CAAgB/O,KAAhB,CADjB;YAAA,IAEE0gC,UAAU,GAAK7iC,MAAM,CAACsd,MAAP,CAAcqW,UAAd,CAAyBxxB,KAAzB,CAFjB;YAAA,IAGE2gC,YAAY,GAAID,UAAU,IAAIA,UAAU,CAACvgC,MAAX,GAAoB,CAHpD;;YAKA,IAAGwgC,YAAH,EAAiB;cACfF,MAAM,GAAIA,MAAM,CAACtgC,MAAP,GAAgB,CAAjB,GACLsgC,MAAM,CAAC/yB,GAAP,CAAWgzB,UAAX,CADK,GAELA,UAFJ;YAID;;YACD,OAAOD,MAAP;UACD,CAlSE;UAmSH1xB,IAAI,EAAE,UAAS/O,KAAT,EAAgB4gC,MAAhB,EAAwB;YAC5B,IACE9H,aAAa,GAAG,KADlB;YAAA,IAEE+H,YAFF;YAAA,IAGE5yB,UAHF;YAKAjO,KAAK,GAAIA,KAAK,KAAK/D,SAAX,GACJ+D,KADI,GAEFnC,MAAM,CAACiH,GAAP,CAAWgJ,MAAX,OAAwB7R,SAA1B,GACE4B,MAAM,CAACiH,GAAP,CAAWgJ,MAAX,EADF,GAEEjQ,MAAM,CAACiH,GAAP,CAAW0G,IAAX,EAJN;YAMAyC,UAAU,GAAIpQ,MAAM,CAAC4J,EAAP,CAAUqO,QAAV,MAAwBvT,KAAK,CAACC,OAAN,CAAcxC,KAAd,CAAtC;YACA6gC,YAAY,GAAI5yB,UAAD,GACVjO,KAAK,CAACG,MAAN,GAAe,CADL,GAEVH,KAAK,KAAK/D,SAAV,IAAuB+D,KAAK,KAAK,IAFtC;YAIA4gC,MAAM,GAAQ5gC,KAAK,KAAK,EAAV,IAAgBA,KAAK,KAAK,KAA1B,IAAoCA,KAAK,KAAK,IAA/C,GACT,IADS,GAET4gC,MAAM,IAAI,KAFd;;YAIA,IAAGC,YAAH,EAAiB;cACfhR,KAAK,CACFpwB,IADH,CACQ,YAAW;gBACf,IACE+3B,OAAO,GAAS17B,CAAC,CAAC,IAAD,CADnB;gBAAA,IAEEglC,UAAU,GAAMjjC,MAAM,CAACiH,GAAP,CAAW4yB,UAAX,CAAsBF,OAAtB,CAFlB;gBAAA,IAGEuJ,WAAW,GAAKljC,MAAM,CAACiH,GAAP,CAAWgzB,WAAX,CAAuBN,OAAvB,EAAgCsJ,UAAhC,CAHlB,CADe,CAMf;;gBACA,IAAGC,WAAW,KAAK,IAAhB,IAAwBA,WAAW,KAAK9kC,SAA3C,EAAsD;kBACpD;gBACD;;gBACD,IAAGgS,UAAH,EAAe;kBACb,IAAGnS,CAAC,CAAC+Z,OAAF,CAAUhY,MAAM,CAACkN,MAAP,CAAcorB,YAAd,CAA2B1sB,MAAM,CAACs3B,WAAD,CAAjC,CAAV,EAA2D/gC,KAAK,CAACghC,GAAN,CAAU,UAASC,CAAT,EAAW;oBAAC,OAAOx3B,MAAM,CAACw3B,CAAD,CAAb;kBAAkB,CAAxC,CAA3D,MAA0G,CAAC,CAA9G,EAAiH;oBAC/GnI,aAAa,GAAIA,aAAD,GACZA,aAAa,CAACprB,GAAd,CAAkB8pB,OAAlB,CADY,GAEZA,OAFJ;kBAID;gBACF,CAPD,MAQK,IAAGoJ,MAAH,EAAW;kBACd/iC,MAAM,CAACI,OAAP,CAAe,kDAAf,EAAmEu5B,OAAnE,EAA4Ex3B,KAA5E;;kBACA,IAAI+gC,WAAW,KAAK/gC,KAApB,EAA2B;oBACzB84B,aAAa,GAAGtB,OAAhB;oBACA,OAAO,IAAP;kBACD;gBACF,CANI,MAOA;kBACH,IAAGt6B,QAAQ,CAACgkC,UAAZ,EAAwB;oBACtBH,WAAW,GAAGA,WAAW,CAACzsB,WAAZ,EAAd;oBACAtU,KAAK,GAAGA,KAAK,CAACsU,WAAN,EAAR;kBACD;;kBACD,IAAGzW,MAAM,CAACkN,MAAP,CAAcorB,YAAd,CAA2B1sB,MAAM,CAACs3B,WAAD,CAAjC,MAAoDljC,MAAM,CAACkN,MAAP,CAAcorB,YAAd,CAA2B1sB,MAAM,CAACzJ,KAAD,CAAjC,CAAvD,EAAkG;oBAChGnC,MAAM,CAACI,OAAP,CAAe,4BAAf,EAA6C8iC,WAA7C,EAA0D/gC,KAA1D;oBACA84B,aAAa,GAAGtB,OAAhB;oBACA,OAAO,IAAP;kBACD;gBACF;cACF,CArCH;YAuCD;;YACD,OAAOsB,aAAP;UACD,CAlWE;UAmWH/K,WAAW,EAAE,YAAW;YACtB,OAAOtwB,OAAO,CAACwK,QAAR,CAAiB,QAAjB,IAA6B,MAA7B,GAAsC/K,QAAQ,CAAC6wB,WAAtD;UACD;QArWE,CAxrDE;QAgiEPtR,KAAK,EAAE;UACL+X,aAAa,EAAE,UAASwK,cAAT,EAAyB;YACtC,IAAG9hC,QAAQ,CAACs3B,aAAZ,EAA2B;cACzBwK,cAAc,GAAIA,cAAc,KAAK/iC,SAApB,GACb+iC,cADa,GAEbnhC,MAAM,CAACiH,GAAP,CAAWk6B,cAAX,EAFJ;;cAIA,IAAGA,cAAc,IAAI9hC,QAAQ,CAACs3B,aAA9B,EAA6C;gBAC3C32B,MAAM,CAACS,KAAP,CAAa,iCAAb;;gBACA,IAAGpB,QAAQ,CAACk5B,SAAZ,EAAuB;kBACrBvG,KAAK,CAAC1gB,QAAN,CAAe3K,SAAS,CAACkyB,QAAzB;kBACA74B,MAAM,CAAC6P,GAAP,CAAW1M,OAAX,CAAmBA,OAAO,CAACwzB,aAA3B;gBACD;;gBACD,OAAO,IAAP;cACD,CAPD,MAQK;gBACH32B,MAAM,CAACI,OAAP,CAAe,sCAAf;gBACAJ,MAAM,CAACsK,MAAP,CAAcnH,OAAd;gBACAnD,MAAM,CAACsK,MAAP,CAAc4vB,YAAd;;gBACA,IAAGl6B,MAAM,CAAC4J,EAAP,CAAU4rB,eAAV,EAAH,EAAgC;kBAC9Bx1B,MAAM,CAAC04B,WAAP;gBACD;;gBACD,OAAO,KAAP;cACD;YACF;;YACD,OAAO,IAAP;UACD,CA1BI;UA2BL32B,QAAQ,EAAE,YAAU;YAClBwvB,OAAO,CAAC1e,IAAR,CAAa,UAAb,EAAwB7S,MAAM,CAAC4J,EAAP,CAAU7H,QAAV,KAAuB,CAAC,CAAxB,GAA4B,CAApD;UACD;QA7BI,CAhiEA;QAgkEPsxB,OAAO,EAAE;UACPhsB,QAAQ,EAAE,UAASi8B,oBAAT,EAA+B;YACvCtjC,MAAM,CAACiB,KAAP,CAAaqiC,oBAAb;YACAtjC,MAAM,CAACqzB,OAAP,CAAe+C,WAAf;YACAp2B,MAAM,CAACqzB,OAAP,CAAe3pB,YAAf;UACD,CALM;UAMP0sB,WAAW,EAAE,YAAW;YACtB,IACEA,WAAW,GAAOp2B,MAAM,CAACiH,GAAP,CAAWmvB,WAAX,EADpB;YAAA,IAEEC,eAAe,GAAGr2B,MAAM,CAACiH,GAAP,CAAWovB,eAF/B;;YAIA,IAAGD,WAAW,KAAKC,eAAnB,EAAoC;cAClCr2B,MAAM,CAACS,KAAP,CAAa,oCAAb,EAAmD21B,WAAnD;cACAp2B,MAAM,CAACoH,GAAP,CAAWivB,eAAX,CAA2BD,WAA3B;YACD,CAHD,MAIK;cACHp2B,MAAM,CAACS,KAAP,CAAa,wBAAb,EAAuC21B,WAAvC;cACAp2B,MAAM,CAACoH,GAAP,CAAWuG,IAAX,CAAgByoB,WAAhB;YACD;UACF,CAnBM;UAoBPC,eAAe,EAAE,YAAW;YAC1Br2B,MAAM,CAACoH,GAAP,CAAWivB,eAAX;UACD,CAtBM;UAuBP3sB,YAAY,EAAE,YAAW;YACvB,IACEA,YAAY,GAAG1J,MAAM,CAACiH,GAAP,CAAWyC,YAAX,EADjB;;YAGA,IAAGA,YAAY,KAAKtL,SAApB,EAA+B;cAC7B4B,MAAM,CAACS,KAAP,CAAa,yBAAb,EAAwCiJ,YAAxC;;cACA,IAAGA,YAAY,KAAK,EAApB,EAAwB;gBACtB1J,MAAM,CAACoH,GAAP,CAAWjF,KAAX,CAAiBuH,YAAjB;gBACA1J,MAAM,CAACoH,GAAP,CAAWksB,QAAX;cACD,CAHD,MAIK;gBACHtzB,MAAM,CAACsK,MAAP,CAAc2tB,UAAd;gBACAj4B,MAAM,CAACsK,MAAP,CAAckqB,YAAd;cACD;YACF;UACF,CAtCM;UAuCP+O,MAAM,EAAE,YAAW;YACjB,IAAGlkC,QAAQ,CAAC84B,cAAZ,EAA4B;cAC1B,IAAG,CAAC94B,QAAQ,CAACk5B,SAAb,EAAwB;gBACtBv4B,MAAM,CAACP,KAAP,CAAaA,KAAK,CAAC8jC,MAAnB;gBACAlkC,QAAQ,CAACk5B,SAAT,GAAqB,IAArB;cACD;;cACDv4B,MAAM,CAACS,KAAP,CAAa,2BAAb;cACAT,MAAM,CAACsd,MAAP,CAAc8W,UAAd;YACD;;YACDp0B,MAAM,CAAC4e,KAAP,CAAa+X,aAAb;UACD,CAjDM;UAkDPrD,QAAQ,EAAE,YAAW;YACnBtzB,MAAM,CAACqzB,OAAP,CAAepjB,MAAf;;YACA,IAAGjQ,MAAM,CAAC4J,EAAP,CAAUqO,QAAV,EAAH,EAAyB;cACvBjY,MAAM,CAACS,KAAP,CAAa,iDAAb;cACAT,MAAM,CAACqzB,OAAP,CAAekQ,MAAf;YACD,CAHD,MAIK;cACHvjC,MAAM,CAACS,KAAP,CAAa,sCAAb;YACD;UACF,CA3DM;UA4DPwP,MAAM,EAAE,YAAW;YACjB;YACAjQ,MAAM,CAACoH,GAAP,CAAW6kB,WAAX;;YACA,IAAG5sB,QAAQ,CAAC41B,WAAT,IAAwB51B,QAAQ,CAACmkC,cAAjC,IAAmDxjC,MAAM,CAACiH,GAAP,CAAWmyB,YAAX,EAAtD,EAAiF;cAC/Ep5B,MAAM,CAACqzB,OAAP,CAAe+F,YAAf;YACD,CAFD,MAGK;cACHp5B,MAAM,CAACoH,GAAP,CAAWksB,QAAX;YACD;;YACD,IAAInxB,KAAK,GAAGnC,MAAM,CAACiH,GAAP,CAAW9E,KAAX,EAAZ;;YACA,IAAGA,KAAK,IAAIA,KAAK,KAAK,EAAnB,IAAyB,EAAEuC,KAAK,CAACC,OAAN,CAAcxC,KAAd,KAAwBA,KAAK,CAACG,MAAN,KAAiB,CAA3C,CAA5B,EAA2E;cACzEkG,MAAM,CAAC6B,WAAP,CAAmB1D,SAAS,CAAC88B,WAA7B;YACD,CAFD,MAEO;cACLj7B,MAAM,CAAC8I,QAAP,CAAgB3K,SAAS,CAAC88B,WAA1B;YACD;;YACDzjC,MAAM,CAACsK,MAAP,CAAc2hB,WAAd;UACD,CA5EM;UA6EPmN,YAAY,EAAE,YAAW;YACvB,IACEnpB,MAAM,GAAGjQ,MAAM,CAACiH,GAAP,CAAWmyB,YAAX,EADX;YAGAp5B,MAAM,CAACS,KAAP,CAAa,uCAAb,EAAsDwP,MAAtD;;YACA,IAAGA,MAAH,EAAW;cACT,IAAIjQ,MAAM,CAAC4J,EAAP,CAAUo2B,MAAV,EAAJ,EAAyB;gBACvB/hC,CAAC,CAAC2D,IAAF,CAAOqO,MAAP,EAAe,UAAS9N,KAAT,EAAgBX,IAAhB,EAAsB;kBACnCxB,MAAM,CAACoH,GAAP,CAAWuG,IAAX,CAAgBnM,IAAhB;gBACD,CAFD;cAGD,CAJD,MAKK;gBACHvD,CAAC,CAAC2D,IAAF,CAAOqO,MAAP,EAAe,UAAS9N,KAAT,EAAgBX,IAAhB,EAAsB;kBACnCxB,MAAM,CAAC6P,GAAP,CAAW2B,KAAX,CAAiBrP,KAAjB,EAAwBX,IAAxB;gBACD,CAFD;cAGD;YACF;UACF;QA9FM,CAhkEF;QAiqEPwgC,IAAI,EAAE;UACJC,UAAU,EAAE,UAAS9/B,KAAT,EAAgB;YAC1B,IACEX,IADF;;YAGA,IAAGtD,MAAM,CAACwlC,OAAP,KAAmBtlC,SAAtB,EAAiC;cAC/B4B,MAAM,CAACP,KAAP,CAAaA,KAAK,CAACkkC,SAAnB;cACA;YACD;;YACDniC,IAAI,GAAGoiC,cAAc,CAACC,OAAf,CAAuB1hC,KAAvB,CAAP;YACA,OAAQX,IAAI,KAAKpD,SAAV,GACHoD,IADG,GAEH,KAFJ;UAID;QAdG,CAjqEC;QAkrEP4xB,IAAI,EAAE;UACJ/rB,QAAQ,EAAE,YAAW;YACnBrH,MAAM,CAACozB,IAAP,CAAYgD,WAAZ;YACAp2B,MAAM,CAACozB,IAAP,CAAYiD,eAAZ;YACAr2B,MAAM,CAACozB,IAAP,CAAY1pB,YAAZ;UACD,CALG;UAMJA,YAAY,EAAE,YAAW;YACvB,IACEvH,KAAK,GAAGnC,MAAM,CAACiH,GAAP,CAAW9E,KAAX,EADV;YAGAnC,MAAM,CAACI,OAAP,CAAe,yBAAf,EAA0C+B,KAA1C;YACAvC,OAAO,CAACG,IAAR,CAAa2G,QAAQ,CAACgD,YAAtB,EAAoCvH,KAApC;UACD,CAZG;UAaJi0B,WAAW,EAAE,YAAW;YACtB,IACEzoB,IAAI,GAAG3N,MAAM,CAACiH,GAAP,CAAW0G,IAAX,EADT;YAGA3N,MAAM,CAACI,OAAP,CAAe,wBAAf,EAAyCuN,IAAzC;YACA/N,OAAO,CAACG,IAAR,CAAa2G,QAAQ,CAAC0vB,WAAtB,EAAmCzoB,IAAnC;UACD,CAnBG;UAoBJ0oB,eAAe,EAAE,YAAW;YAC1B,IACE1oB,IADF;;YAGA,IAAGtO,QAAQ,CAAC4hC,WAAT,KAAyB,KAAzB,IAAkC3P,KAAK,CAAClnB,QAAN,CAAezD,SAAS,CAACs6B,WAAzB,CAArC,EAA4E;cAC1EtzB,IAAI,GAAG3N,MAAM,CAACiH,GAAP,CAAW0G,IAAX,EAAP;cACA3N,MAAM,CAACI,OAAP,CAAe,4BAAf,EAA6CuN,IAA7C;cACA/N,OAAO,CAACG,IAAR,CAAa2G,QAAQ,CAAC2vB,eAAtB,EAAuC1oB,IAAvC;YACD;UACF,CA7BG;UA8BJs0B,UAAU,EAAE,UAASzgC,IAAT,EAAeW,KAAf,EAAsB;YAChC,IAAGjE,MAAM,CAACwlC,OAAP,KAAmBtlC,SAAtB,EAAiC;cAC/B4B,MAAM,CAACP,KAAP,CAAaA,KAAK,CAACkkC,SAAnB;cACA;YACD;;YACD3jC,MAAM,CAACI,OAAP,CAAe,uCAAf,EAAwD+B,KAAxD,EAA+DX,IAA/D;YACAoiC,cAAc,CAACE,OAAf,CAAuB3hC,KAAvB,EAA8BX,IAA9B;UACD;QArCG,CAlrEC;QA0tEPP,KAAK,EAAE,UAASqiC,oBAAT,EAA+B;UACpC,IAAGtjC,MAAM,CAAC4J,EAAP,CAAUqO,QAAV,MAAwB5Y,QAAQ,CAACk5B,SAApC,EAA+C;YAC7Cv4B,MAAM,CAACsK,MAAP,CAAci5B,MAAd,CAAqB3jC,OAAO,CAAC6H,IAAR,CAAa3B,QAAQ,CAAC0L,KAAtB,CAArB,EAAmD8xB,oBAAnD;UACD,CAFD,MAGK;YACHtjC,MAAM,CAACsK,MAAP,CAAc2tB,UAAd;YACAj4B,MAAM,CAACsK,MAAP,CAAckqB,YAAd;YACAx0B,MAAM,CAACsK,MAAP,CAAc4vB,YAAd;UACD;;UACDl6B,MAAM,CAACoH,GAAP,CAAWivB,eAAX;UACAr2B,MAAM,CAAC+jC,UAAP,CAAkBT,oBAAlB;QACD,CAruEM;QAuuEPS,UAAU,EAAE,UAAST,oBAAT,EAA+B;UACzCtjC,MAAM,CAACoH,GAAP,CAAWjF,KAAX,CAAiB,EAAjB,EAAqB,IAArB,EAA2B,IAA3B,EAAiCmhC,oBAAjC;QACD,CAzuEM;QA2uEPnD,UAAU,EAAE,UAAS6D,SAAT,EAAoB/I,aAApB,EAAmC;UAC7C,IACEgJ,YAAY,GAAIhJ,aAAa,IAAIj7B,MAAM,CAACiH,GAAP,CAAWutB,YAAX,EADnC;UAAA,IAEE1C,KAAK,GAAWmS,YAAY,CAAC16B,OAAb,CAAqBzD,QAAQ,CAACisB,IAA9B,CAFlB;UAAA,IAGEmS,UAAU,GAAMpS,KAAK,CAACqS,WAAN,EAHlB;UAAA,IAIEC,aAAa,GAAGtS,KAAK,CAACuS,SAAN,EAJlB;UAAA,IAKEC,UAAU,GAAMtS,KAAK,CAAC5iB,EAAN,CAAS,CAAT,EAAY+0B,WAAZ,EALlB;UAAA,IAMEI,YAAY,GAAI9+B,IAAI,CAAC+hB,KAAL,CAAW0c,UAAU,GAAGI,UAAxB,CANlB;UAAA,IAOEE,SAAS,GAAO1S,KAAK,CAACppB,IAAN,CAAW,cAAX,CAPlB;UAAA,IAQE+7B,SAAS,GAAQT,SAAS,IAAI,IAAd,GACZI,aAAa,GAAIE,UAAU,GAAGC,YADlB,GAEZH,aAAa,GAAIE,UAAU,GAAGC,YAVpC;UAAA,IAWEG,eAAe,GAAG1S,KAAK,CAACjd,GAAN,CAAUjP,QAAQ,CAAC2uB,YAAnB,CAXpB;UAAA,IAYEkQ,aAZF;UAAA,IAaEC,iBAbF;UAAA,IAcExT,YAdF;UAgBAA,YAAY,GAAS4S,SAAS,IAAI,IAAd,GAChBU,eAAe,CAAC7iC,KAAhB,CAAsBoiC,YAAtB,IAAsCM,YADtB,GAEhBG,eAAe,CAAC7iC,KAAhB,CAAsBoiC,YAAtB,IAAsCM,YAF1C;UAIAI,aAAa,GAAIX,SAAS,IAAI,IAAd,GACX5S,YAAY,IAAI,CADL,GAEXA,YAAY,GAAGsT,eAAe,CAACpiC,MAFpC;UAIAsiC,iBAAiB,GAAID,aAAD,GAChBD,eAAe,CAACt1B,EAAhB,CAAmBgiB,YAAnB,CADgB,GAEf4S,SAAS,IAAI,IAAd,GACEU,eAAe,CAACpxB,KAAhB,EADF,GAEEoxB,eAAe,CAAC7F,IAAhB,EAJN;;UAMA,IAAG+F,iBAAiB,CAACtiC,MAAlB,GAA2B,CAA9B,EAAiC;YAC/BtC,MAAM,CAACS,KAAP,CAAa,gBAAb,EAA+BujC,SAA/B,EAA0CY,iBAA1C;YACAX,YAAY,CACT55B,WADH,CACe1D,SAAS,CAAC2sB,QADzB;YAGAsR,iBAAiB,CACdtzB,QADH,CACY3K,SAAS,CAAC2sB,QADtB;;YAGA,IAAGj0B,QAAQ,CAAC0gC,eAAT,IAA4B//B,MAAM,CAAC4J,EAAP,CAAUo2B,MAAV,EAA/B,EAAmD;cACjDhgC,MAAM,CAACoH,GAAP,CAAWotB,YAAX,CAAwBoQ,iBAAxB;YACD;;YACD9S,KAAK,CACFuS,SADH,CACaI,SADb;UAGD;QACF,CAzxEM;QA2xEPr9B,GAAG,EAAE;UACHyxB,QAAQ,EAAE,YAAW;YACnB,IACEzoB,UAAU,GAASpQ,MAAM,CAAC4J,EAAP,CAAUqO,QAAV,EADrB;YAAA,IAEEomB,QAAQ,GAAWr+B,MAAM,CAAC4J,EAAP,CAAU4rB,eAAV,EAFrB;YAAA,IAGEqP,gBAAgB,GAAIz0B,UAAU,IAAIiuB,QAHpC;YAAA,IAIEyG,WAAW,GAASzG,QAAD,GACfr+B,MAAM,CAACiH,GAAP,CAAWlI,KAAX,EADe,GAEf,EANN;YAAA,IAOEgmC,cAAc,GAAM,OAAOD,WAAP,KAAuB,QAAvB,IAAmCA,WAAW,CAACxiC,MAAZ,GAAqB,CAP9E;YAAA,IAQE4+B,WAAW,GAAQlhC,MAAM,CAACiH,GAAP,CAAWi6B,WAAX,EARrB;YAAA,IASE8D,UAAU,GAASF,WAAW,KAAK,EATrC;;YAWA,IAAG10B,UAAU,IAAI20B,cAAjB,EAAiC;cAC/B/kC,MAAM,CAACI,OAAP,CAAe,uBAAf,EAAwC8gC,WAAxC,EAAqD7hC,QAAQ,CAAC4lC,UAA9D;cACA1T,OAAO,CAACxV,GAAR,CAAY,OAAZ,EAAqBmlB,WAArB;YACD;;YACD,IAAG6D,cAAc,IAAKF,gBAAgB,IAAIG,UAA1C,EAAuD;cACrDhlC,MAAM,CAACI,OAAP,CAAe,yBAAf;cACAkxB,KAAK,CAAChgB,QAAN,CAAe3K,SAAS,CAACkyB,QAAzB;YACD,CAHD,MAIK,IAAG,CAACzoB,UAAD,IAAgBy0B,gBAAgB,IAAI,CAACG,UAAxC,EAAqD;cACxDhlC,MAAM,CAACI,OAAP,CAAe,0BAAf;cACAkxB,KAAK,CAACjnB,WAAN,CAAkB1D,SAAS,CAACkyB,QAA5B;YACD;UACF,CAzBE;UA0BHntB,KAAK,EAAE,YAAW;YAChB9L,OAAO,CAAC0R,QAAR,CAAiB3K,SAAS,CAAC+E,KAA3B;UACD,CA5BE;UA6BHw5B,OAAO,EAAE,YAAW;YAClBtlC,OAAO,CAAC0R,QAAR,CAAiB3K,SAAS,CAACu+B,OAA3B;UACD,CA/BE;UAgCH7O,eAAe,EAAE,UAAS1oB,IAAT,EAAe;YAC9BA,IAAI,GAAGA,IAAI,IAAI3N,MAAM,CAACiH,GAAP,CAAWovB,eAAX,EAAf;YACAr2B,MAAM,CAACS,KAAP,CAAa,0BAAb,EAAyCkN,IAAzC;YACA3N,MAAM,CAACoH,GAAP,CAAWuG,IAAX,CAAgBA,IAAhB;YACA2jB,KAAK,CAAChgB,QAAN,CAAe3K,SAAS,CAACs6B,WAAzB;UACD,CArCE;UAsCH9U,QAAQ,EAAE,YAAW;YACnB,IAAInsB,MAAM,CAAC4J,EAAP,CAAU4rB,eAAV,EAAJ,EAAkC;cAChCx1B,MAAM,CAACS,KAAP,CAAa,uCAAb;cACA8wB,OAAO,CACJ9mB,GADH,CACO,EADP;cAGAzK,MAAM,CAAC4e,KAAP,CAAa7c,QAAb;cACA+vB,KAAK,CACFjf,IADH,CACQ,UADR,EACoB,CAAC,CADrB;YAGD,CATD,MAUK;cACH7S,MAAM,CAACS,KAAP,CAAa,4BAAb;;cACA,IAAIb,OAAO,CAACiT,IAAR,CAAa,UAAb,MAA6BzU,SAAjC,EAA4C;gBAC1CwB,OAAO,CACJiT,IADH,CACQ,UADR,EACoB,CADpB;gBAGAif,KAAK,CACFjf,IADH,CACQ,UADR,EACoB,CAAC,CADrB;cAGD;YACF;UACF,CA5DE;UA6DHoZ,WAAW,EAAE,YAAW;YACtBjsB,MAAM,CAACI,OAAP,CAAe,sBAAf;YACA6rB,WAAW,GAAG,IAAd;UACD,CAhEE;UAiEHgM,UAAU,EAAE,UAASjG,KAAT,EAAgB;YAC1B,IAAI3yB,QAAQ,CAAC84B,cAAT,IAA2BnG,KAAK,CAAChnB,MAAN,CAAalF,QAAQ,CAACkuB,QAAtB,EAAgC1xB,MAAhC,GAAyC,CAAxE,EAA4E;cAC1E0vB,KAAK,CAAC1gB,QAAN,CAAe3K,SAAS,CAACkyB,QAAzB;YACD,CAFD,MAGK;cACH7G,KAAK,CAAC1gB,QAAN,CAAe3K,SAAS,CAAC8S,MAAzB;YACD;UACF,CAxEE;UAyEH0rB,aAAa,EAAE,UAASx3B,IAAT,EAAe;YAC5B,IACErL,MAAM,GAAGtC,MAAM,CAACiH,GAAP,CAAWlI,KAAX,GAAmBuD,MAD9B;YAGAivB,OAAO,CAAC9mB,GAAR,CAAakD,IAAI,CAAC+lB,MAAL,CAAY,CAAZ,EAAepxB,MAAf,CAAb;UACD,CA9EE;UA+EHk7B,cAAc,EAAE,UAASxL,KAAT,EAAgBoT,WAAhB,EAA6B;YAC3C,IACEC,aAAa,GAAG,CADlB;YAAA,IAEEvT,KAFF;YAAA,IAGEwT,SAHF;YAAA,IAIE5f,MAJF;YAAA,IAKE4e,UALF;YAAA,IAMEiB,UANF;YAAA,IAOEC,UAPF;YAAA,IAQEC,UARF;YAAA,IASEvB,UATF;YAAA,IAUEwB,SAVF;YAAA,IAWEC,SAXF;YAcA3T,KAAK,GAASA,KAAK,IAAIhyB,MAAM,CAACiH,GAAP,CAAWutB,YAAX,EAAvB;YACA1C,KAAK,GAASE,KAAK,CAACzoB,OAAN,CAAczD,QAAQ,CAACisB,IAAvB,CAAd;YACAuT,SAAS,GAAMtT,KAAK,IAAIA,KAAK,CAAC1vB,MAAN,GAAe,CAAvC;YACA8iC,WAAW,GAAIA,WAAW,KAAKhnC,SAAjB,GACVgnC,WADU,GAEV,KAFJ;;YAIA,IAAGplC,MAAM,CAACiH,GAAP,CAAWgxB,UAAX,GAAwB31B,MAAxB,KAAmC,CAAtC,EAAwC;cACtC8iC,WAAW,GAAG,KAAd;YACD;;YACD,IAAGpT,KAAK,IAAIF,KAAK,CAACxvB,MAAN,GAAe,CAAxB,IAA6BgjC,SAAhC,EAA2C;cACzCC,UAAU,GAAGvT,KAAK,CAAClO,QAAN,GAAiB8hB,GAA9B;cAEA9T,KAAK,CAACxgB,QAAN,CAAe3K,SAAS,CAACu+B,OAAzB;cACAO,UAAU,GAAG3T,KAAK,CAACuS,SAAN,EAAb;cACAmB,UAAU,GAAG1T,KAAK,CAACpM,MAAN,GAAekgB,GAA5B;cACAL,UAAU,GAAGvT,KAAK,CAACtM,MAAN,GAAekgB,GAA5B;cACAlgB,MAAM,GAAO+f,UAAU,GAAGD,UAAb,GAA0BD,UAAvC;;cACA,IAAG,CAACH,WAAJ,EAAiB;gBACflB,UAAU,GAAGpS,KAAK,CAACzB,MAAN,EAAb;gBACAsV,SAAS,GAAIF,UAAU,GAAGvB,UAAb,GAA2Bxe,MAAM,GAAG2f,aAAjD;gBACAK,SAAS,GAAMhgB,MAAM,GAAG2f,aAAV,GAA2BI,UAAzC;cACD;;cACDzlC,MAAM,CAACS,KAAP,CAAa,0BAAb,EAAyCilB,MAAzC;;cACA,IAAG0f,WAAW,IAAIM,SAAf,IAA4BC,SAA/B,EAA0C;gBACxC7T,KAAK,CAACuS,SAAN,CAAgB3e,MAAhB;cACD;;cACDoM,KAAK,CAACznB,WAAN,CAAkB1D,SAAS,CAACu+B,OAA5B;YACD;UACF,CA3HE;UA4HHv3B,IAAI,EAAE,UAASA,IAAT,EAAe;YACnB,IAAGtO,QAAQ,CAAC0I,MAAT,KAAoB,OAAvB,EAAgC;cAC9B/H,MAAM,CAACS,KAAP,CAAa,4BAAb,EAA2CkN,IAA3C,EAAiDkkB,MAAjD;;cACA,IAAGxyB,QAAQ,CAACu2B,YAAZ,EAA0B;gBACxB/D,MAAM,CAACngB,IAAP,CAAY/D,IAAZ;cACD,CAFD,MAGK;gBACHkkB,MAAM,CAAClkB,IAAP,CAAYA,IAAZ;cACD;YACF,CARD,MASK,IAAGtO,QAAQ,CAAC0I,MAAT,KAAoB,UAAvB,EAAmC;cACtC,IAAG4F,IAAI,KAAK3N,MAAM,CAACiH,GAAP,CAAWovB,eAAX,EAAZ,EAA0C;gBACxC/E,KAAK,CAACjnB,WAAN,CAAkB1D,SAAS,CAACs6B,WAA5B;cACD;;cACDjhC,MAAM,CAACS,KAAP,CAAa,eAAb,EAA8BkN,IAA9B,EAAoC2jB,KAApC;cACAA,KAAK,CACFjnB,WADH,CACe1D,SAAS,CAACkyB,QADzB;;cAGA,IAAGx5B,QAAQ,CAACu2B,YAAZ,EAA0B;gBACxBtE,KAAK,CAAC5f,IAAN,CAAW/D,IAAX;cACD,CAFD,MAGK;gBACH2jB,KAAK,CAAC3jB,IAAN,CAAWA,IAAX;cACD;YACF;UACF,CArJE;UAsJH6mB,YAAY,EAAE,UAASxC,KAAT,EAAgB;YAC5B,IACE7vB,KAAK,GAAQnC,MAAM,CAACiH,GAAP,CAAWgzB,WAAX,CAAuBjI,KAAvB,CADf;YAAA,IAEE6T,UAAU,GAAG7lC,MAAM,CAACiH,GAAP,CAAW4yB,UAAX,CAAsB7H,KAAtB,EAA6B,KAA7B,CAFf;YAAA,IAGErkB,IAAI,GAAS3N,MAAM,CAACiH,GAAP,CAAW4yB,UAAX,CAAsB7H,KAAtB,EAA6B,IAA7B,CAHf;YAKAhyB,MAAM,CAACS,KAAP,CAAa,gCAAb,EAA+CuxB,KAA/C;YACAhyB,MAAM,CAACsK,MAAP,CAAc2tB,UAAd;YACAj4B,MAAM,CAACoH,GAAP,CAAW+9B,aAAX,CAAyBU,UAAzB;YACA7lC,MAAM,CAACoH,GAAP,CAAW6wB,UAAX,CAAsBjG,KAAtB;YACAhyB,MAAM,CAACoH,GAAP,CAAWksB,QAAX,CAAoBnxB,KAApB,EAA2B6vB,KAA3B;YACAhyB,MAAM,CAACoH,GAAP,CAAWuG,IAAX,CAAgBA,IAAhB;UACD,CAlKE;UAmKH0yB,cAAc,EAAE,UAASyF,MAAT,EAAiB;YAC/B,IACE7K,aAAa,GAAWjJ,KAAK,CAAChnB,MAAN,CAAa,MAAMrE,SAAS,CAAC2sB,QAA7B,CAD1B;YAAA,IAEEyS,qBAAqB,GAAG9K,aAAa,CAAC34B,MAAd,GAAuB,CAAvB,IAA4BtC,MAAM,CAAC6Q,GAAP,CAAWm1B,WAAX,CAAuB/K,aAAvB,EAAsC6K,MAAtC,CAFtD;YAAA,IAGEG,UAAU,GAAc,KAH1B;YAAA,IAIEtG,SAJF,CAD+B,CAO/B;;YACA,IAAGoG,qBAAH,EAA0B;cACxBpG,SAAS,GAAG1E,aAAa,CAACpG,OAAd,CAAsB7C,KAAtB,EAA6B5iB,EAA7B,CAAgC,CAAhC,CAAZ;;cACA,IAAIpP,MAAM,CAAC6Q,GAAP,CAAWm1B,WAAX,CAAuBrG,SAAvB,EAAkCmG,MAAlC,CAAJ,EAAgD;gBAC9CG,UAAU,GAAItG,SAAd;cACD;YACF,CAb8B,CAc/B;;;YACA,IAAG,CAACsG,UAAJ,EAAgB;cACdjU,KAAK,CACFpwB,IADH,CACQ,YAAU;gBACd,IAAG5B,MAAM,CAAC6Q,GAAP,CAAWm1B,WAAX,CAAuB/nC,CAAC,CAAC,IAAD,CAAxB,EAAgC6nC,MAAhC,CAAH,EAA4C;kBAC1CG,UAAU,GAAGhoC,CAAC,CAAC,IAAD,CAAd;kBACA,OAAO,KAAP;gBACD;cACF,CANH;YAQD,CAxB8B,CAyB/B;;;YACA,IAAGgoC,UAAH,EAAe;cACbjmC,MAAM,CAACI,OAAP,CAAe,qCAAf,EAAsD0lC,MAAtD;cACA9lC,MAAM,CAACoH,GAAP,CAAWo2B,cAAX,CAA0ByI,UAA1B;cACAhL,aAAa,CAAC5wB,WAAd,CAA0B1D,SAAS,CAAC2sB,QAApC;cACA2S,UAAU,CAAC30B,QAAX,CAAoB3K,SAAS,CAAC2sB,QAA9B;;cACA,IAAGj0B,QAAQ,CAAC0gC,eAAT,IAA4B//B,MAAM,CAAC4J,EAAP,CAAUo2B,MAAV,EAA/B,EAAmD;gBACjDhgC,MAAM,CAACoH,GAAP,CAAWotB,YAAX,CAAwByR,UAAxB;cACD;YACF;UACF,CAtME;UAuMHjC,SAAS,EAAE,UAASlS,KAAT,EAAgB;YACzB,IAAGzyB,QAAQ,CAAC2kC,SAAT,IAAsB,MAAzB,EAAiC;cAC/B;cACA,IAAI,CAAClS,KAAL,EAAY;gBACV9xB,MAAM,CAACsK,MAAP,CAAc+2B,MAAd;cACD,CAFD,MAEO,IAAIrhC,MAAM,CAAC4J,EAAP,CAAUy3B,MAAV,CAAiBvP,KAAjB,CAAJ,EAA6B;gBAClC;gBACA9xB,MAAM,CAACsK,MAAP,CAAc+2B,MAAd,CAAqBvP,KAArB;cACD;;cAED,IAAG9xB,MAAM,CAACgK,GAAP,CAAWk8B,YAAX,CAAwBpU,KAAxB,CAAH,EAAmC;gBACjC9xB,MAAM,CAACsK,MAAP,CAAc+2B,MAAd,CAAqBvP,KAArB;cACD,CAFD,MAGK;gBACH9xB,MAAM,CAACoH,GAAP,CAAWi6B,MAAX,CAAkBvP,KAAlB;cACD;;cACD,IAAG,CAAC9xB,MAAM,CAAC4J,EAAP,CAAUu8B,QAAV,CAAmBrU,KAAnB,CAAD,IAA8B,CAAC9xB,MAAM,CAACgK,GAAP,CAAWo8B,aAAX,CAAyBtU,KAAzB,CAAlC,EAAmE;gBACjE9xB,MAAM,CAACoH,GAAP,CAAW++B,QAAX,CAAoBrU,KAApB;cACD;YACF,CAlBD,MAmBK,IAAGzyB,QAAQ,CAAC2kC,SAAT,IAAsB,QAAzB,EAAmC;cACtChkC,MAAM,CAACoH,GAAP,CAAWi6B,MAAX,CAAkBvP,KAAlB;YACD;UACF,CA9NE;UA+NHuP,MAAM,EAAE,UAASgF,YAAT,EAAuB;YAC7B,IAAIj9B,QAAQ,GAAGi9B,YAAY,IAAIzmC,OAA/B;YACAwJ,QAAQ,CAACkI,QAAT,CAAkB3K,SAAS,CAAC06B,MAA5B;UACD,CAlOE;UAmOH8E,QAAQ,EAAE,UAASE,YAAT,EAAuB;YAC/B,IAAIj9B,QAAQ,GAAGi9B,YAAY,IAAIvU,KAA/B;YACA1oB,QAAQ,CAACkI,QAAT,CAAkB3K,SAAS,CAACw/B,QAA5B;UACD,CAtOE;UAuOHhkC,KAAK,EAAE,UAASA,KAAT,EAAgBwL,IAAhB,EAAsBgnB,SAAtB,EAAiC2O,oBAAjC,EAAuD;YAC5D,IAAGnhC,KAAK,KAAK/D,SAAV,IAAuB+D,KAAK,KAAK,EAAjC,IAAuC,EAAEuC,KAAK,CAACC,OAAN,CAAcxC,KAAd,KAAwBA,KAAK,CAACG,MAAN,KAAiB,CAA3C,CAA1C,EAAyF;cACvFkG,MAAM,CAAC6B,WAAP,CAAmB1D,SAAS,CAAC88B,WAA7B;YACD,CAFD,MAEO;cACLj7B,MAAM,CAAC8I,QAAP,CAAgB3K,SAAS,CAAC88B,WAA1B;YACD;;YACD,IACE6C,YAAY,GAAGtmC,MAAM,CAACkN,MAAP,CAAc/K,KAAd,CAAoBA,KAApB,CADjB;YAAA,IAEEokC,QAAQ,GAAQ/9B,MAAM,CAAClG,MAAP,GAAgB,CAFlC;YAAA,IAGE4J,YAAY,GAAGlM,MAAM,CAACiH,GAAP,CAAWgJ,MAAX,EAHjB;YAAA,IAIEu2B,WAAW,GAAKrkC,KAAK,KAAK/D,SAAX,GACXwN,MAAM,CAACzJ,KAAD,CADK,GAEXA,KANN;YAAA,IAOEskC,QAPF;;YASA,IAAGF,QAAH,EAAa;cACX,IAAG,CAAClnC,QAAQ,CAACqnC,gBAAV,IAA8BF,WAAW,IAAIt6B,YAAhD,EAA8D;gBAC5DlM,MAAM,CAACI,OAAP,CAAe,0CAAf,EAA2D+B,KAA3D,EAAkE+J,YAAlE;;gBACA,IAAG,CAAClM,MAAM,CAAC4J,EAAP,CAAUqiB,WAAV,EAAJ,EAA6B;kBAC3B;gBACD;cACF;;cAED,IAAIjsB,MAAM,CAAC4J,EAAP,CAAUo2B,MAAV,MAAsBhgC,MAAM,CAAC6Q,GAAP,CAAWsqB,WAAX,EAAtB,IAAkDn7B,MAAM,CAACgK,GAAP,CAAW28B,YAAX,EAAtD,EAAkF;gBAChF3mC,MAAM,CAACS,KAAP,CAAa,oBAAb,EAAmC0B,KAAnC;gBACAnC,MAAM,CAAC6P,GAAP,CAAWqzB,WAAX,CAAuB/gC,KAAvB;cACD;;cACDnC,MAAM,CAACS,KAAP,CAAa,sBAAb,EAAqC6lC,YAArC,EAAmDp6B,YAAnD;cACAomB,cAAc,GAAG,IAAjB;cACA9pB,MAAM,CACHiC,GADH,CACO67B,YADP;;cAGA,IAAGjnC,QAAQ,CAACqvB,UAAT,KAAwB,KAAxB,IAAiC1uB,MAAM,CAAC4J,EAAP,CAAUqiB,WAAV,EAApC,EAA6D;gBAC3DjsB,MAAM,CAACS,KAAP,CAAa,mDAAb;cACD,CAFD,MAGK,IAAG6iC,oBAAoB,KAAK,IAA5B,EAAkC;gBACrCtjC,MAAM,CAACqS,OAAP,CAAepQ,MAAf;cACD;;cACDqwB,cAAc,GAAG,KAAjB;YACD,CAxBD,MAyBK;cACHtyB,MAAM,CAACI,OAAP,CAAe,2BAAf,EAA4CkmC,YAA5C,EAA0D99B,MAA1D;;cACA,IAAG89B,YAAY,KAAKp6B,YAApB,EAAkC;gBAChCtM,OAAO,CAACG,IAAR,CAAa2G,QAAQ,CAACvE,KAAtB,EAA6BqkC,WAA7B;cACD;YACF;;YACD,IAAGnnC,QAAQ,CAACqvB,UAAT,KAAwB,KAAxB,IAAiC1uB,MAAM,CAAC4J,EAAP,CAAUqiB,WAAV,EAApC,EAA6D;cAC3DjsB,MAAM,CAACI,OAAP,CAAe,6BAAf,EAA8Cf,QAAQ,CAAC2b,QAAvD;YACD,CAFD,MAGK,IAAGsoB,oBAAoB,KAAK,IAA5B,EAAkC;cACrCjkC,QAAQ,CAAC2b,QAAT,CAAkB5b,IAAlB,CAAuBS,OAAvB,EAAgCsC,KAAhC,EAAuCwL,IAAvC,EAA6CgnB,SAA7C;YACD;UACF,CA3RE;UA4RHlb,MAAM,EAAE,YAAW;YACjB7Z,OAAO,CACJ0R,QADH,CACY3K,SAAS,CAAC8S,MADtB;UAGD,CAhSE;UAiSHxB,QAAQ,EAAE,YAAW;YACnBrY,OAAO,CAAC0R,QAAR,CAAiB3K,SAAS,CAACsR,QAA3B;UACD,CAnSE;UAoSHsb,OAAO,EAAE,YAAW;YAClB3zB,OAAO,CAAC0R,QAAR,CAAiB3K,SAAS,CAAC4sB,OAA3B;UACD,CAtSE;UAuSHqT,OAAO,EAAE,UAASzkC,KAAT,EAAgB84B,aAAhB,EAA+B;YACtCj7B,MAAM,CAACS,KAAP,CAAa,kCAAb;YACAT,MAAM,CAACiB,KAAP;YACAjB,MAAM,CAACoH,GAAP,CAAWksB,QAAX,CAAoBnxB,KAApB,EAA2B84B,aAA3B;UACD,CA3SE;UA4SH3H,QAAQ,EAAE,UAASnxB,KAAT,EAAgB84B,aAAhB,EAA+BqI,oBAA/B,EAAqDuD,cAArD,EAAqE;YAC7E,IACEz2B,UAAU,GAAGpQ,MAAM,CAAC4J,EAAP,CAAUqO,QAAV,EADf;YAGAgjB,aAAa,GAAI57B,QAAQ,CAAC84B,cAAV,GACZ8C,aAAa,IAAIj7B,MAAM,CAACiH,GAAP,CAAW07B,iBAAX,CAA6BxgC,KAA7B,CADL,GAEZ84B,aAAa,IAAIj7B,MAAM,CAACiH,GAAP,CAAWiK,IAAX,CAAgB/O,KAAhB,CAFrB;;YAIA,IAAG,CAAC84B,aAAJ,EAAmB;cACjB;YACD;;YACDj7B,MAAM,CAACS,KAAP,CAAa,+BAAb,EAA8Cw6B,aAA9C;;YACA,IAAGj7B,MAAM,CAAC4J,EAAP,CAAUqO,QAAV,EAAH,EAAyB;cACvBjY,MAAM,CAACsK,MAAP,CAAc42B,WAAd;YACD;;YACD,IAAGlhC,MAAM,CAAC4J,EAAP,CAAUo2B,MAAV,EAAH,EAAuB;cACrBhgC,MAAM,CAACsK,MAAP,CAAc2tB,UAAd;cACAj4B,MAAM,CAACsK,MAAP,CAAckqB,YAAd;YACD,CAHD,MAIK,IAAGn1B,QAAQ,CAACk5B,SAAZ,EAAuB;cAC1Bv4B,MAAM,CAACsK,MAAP,CAAckqB,YAAd;YACD,CArB4E,CAsB7E;;;YACAyG,aAAa,CACVr5B,IADH,CACQ,YAAW;cACf,IACE+yB,SAAS,GAAQ12B,CAAC,CAAC,IAAD,CADpB;cAAA,IAEE6oC,YAAY,GAAK9mC,MAAM,CAACiH,GAAP,CAAW4yB,UAAX,CAAsBlF,SAAtB,CAFnB;cAAA,IAGEoS,aAAa,GAAI/mC,MAAM,CAACiH,GAAP,CAAWgzB,WAAX,CAAuBtF,SAAvB,EAAkCmS,YAAlC,CAHnB;cAAA,IAKEE,UAAU,GAAOrS,SAAS,CAACvqB,QAAV,CAAmBzD,SAAS,CAACkyB,QAA7B,CALnB;cAAA,IAMErf,QAAQ,GAASmb,SAAS,CAACvqB,QAAV,CAAmBzD,SAAS,CAAC8S,MAA7B,CANnB;cAAA,IAOEqa,WAAW,GAAMa,SAAS,CAACvqB,QAAV,CAAmBzD,SAAS,CAACqtB,QAA7B,CAPnB;cAAA,IAQEiT,aAAa,GAAK72B,UAAU,IAAI6qB,aAAa,CAAC34B,MAAd,IAAwB,CAR1D;;cAUA,IAAG8N,UAAH,EAAe;gBACb,IAAG,CAACoJ,QAAD,IAAasa,WAAhB,EAA6B;kBAC3B,IAAGz0B,QAAQ,CAAC41B,WAAT,IAAwB51B,QAAQ,CAACmkC,cAApC,EAAoD;oBAClDxjC,MAAM,CAACozB,IAAP,CAAY6O,UAAZ,CAAuB6E,YAAvB,EAAqCC,aAArC;kBACD;;kBACD,IAAG1nC,QAAQ,CAACk5B,SAAZ,EAAuB;oBACrBv4B,MAAM,CAAC6P,GAAP,CAAW2B,KAAX,CAAiBu1B,aAAjB,EAAgCD,YAAhC,EAA8CG,aAA9C;oBACAjnC,MAAM,CAAC6P,GAAP,CAAW1N,KAAX,CAAiB4kC,aAAjB,EAAgCD,YAAhC,EAA8CnS,SAA9C;oBACA30B,MAAM,CAACoH,GAAP,CAAW6wB,UAAX,CAAsBtD,SAAtB;oBACA30B,MAAM,CAACg4B,YAAP;oBACAh4B,MAAM,CAACwzB,MAAP,CAAckB,aAAd,CAA4BuG,aAA5B;kBACD,CAND,MAOK;oBACHj7B,MAAM,CAAC6P,GAAP,CAAW1N,KAAX,CAAiB4kC,aAAjB,EAAgCD,YAAhC,EAA8CnS,SAA9C;oBACA30B,MAAM,CAACoH,GAAP,CAAWuG,IAAX,CAAgB3N,MAAM,CAAC6P,GAAP,CAAWokB,SAAX,CAAqB9wB,OAAO,CAACi+B,KAA7B,CAAhB;oBACAphC,MAAM,CAACoH,GAAP,CAAW6wB,UAAX,CAAsBtD,SAAtB;kBACD;gBACF,CAhBD,MAiBK,IAAG,CAACqS,UAAD,KAAgB3nC,QAAQ,CAACk5B,SAAT,IAAsB/F,kBAAtC,CAAH,EAA8D;kBACjExyB,MAAM,CAACS,KAAP,CAAa,uCAAb;kBACAT,MAAM,CAACsK,MAAP,CAAcgpB,QAAd,CAAuByT,aAAvB;gBACD;cACF,CAtBD,MAuBK;gBACH,IAAG1nC,QAAQ,CAAC41B,WAAT,IAAwB51B,QAAQ,CAACmkC,cAApC,EAAoD;kBAClDxjC,MAAM,CAACozB,IAAP,CAAY6O,UAAZ,CAAuB6E,YAAvB,EAAqCC,aAArC;gBACD;;gBACD,IAAI,CAACF,cAAL,EAAqB;kBACnB7mC,MAAM,CAACoH,GAAP,CAAWuG,IAAX,CAAgBm5B,YAAhB;gBACD;;gBACD9mC,MAAM,CAACoH,GAAP,CAAWjF,KAAX,CAAiB4kC,aAAjB,EAAgCD,YAAhC,EAA8CnS,SAA9C,EAAyD2O,oBAAzD;gBACA3O,SAAS,CACNrjB,QADH,CACY3K,SAAS,CAAC8S,MADtB,EAEGnI,QAFH,CAEY3K,SAAS,CAAC2sB,QAFtB;cAID;YACF,CAhDH;;YAkDA,IAAI,CAACuT,cAAL,EAAqB;cACnB7mC,MAAM,CAACsK,MAAP,CAAcwtB,UAAd;YACD;UACF;QAxXE,CA3xEE;QAspFPjoB,GAAG,EAAE;UACH2B,KAAK,EAAE,UAASrP,KAAT,EAAgBwL,IAAhB,EAAsBs5B,aAAtB,EAAqC;YAC1C,IACEC,KAAK,GAAIlnC,MAAM,CAAC4J,EAAP,CAAU4rB,eAAV,KACLjE,OADK,GAELD,KAHN;YAAA,IAIEgV,YAAY,GAAGtmC,MAAM,CAACkN,MAAP,CAAc/K,KAAd,CAAoBA,KAApB,CAJjB;YAAA,IAKEyM,MALF;;YAOA,IAAGvP,QAAQ,CAACgkC,UAAZ,EAAwB;cACtBiD,YAAY,GAAGA,YAAY,CAAC7vB,WAAb,EAAf;YACD;;YACD7H,MAAM,GAAI3Q,CAAC,CAAC,OAAD,CAAD,CACPqT,QADO,CACE3K,SAAS,CAAC6K,KADZ,EAEPqB,IAFO,CAEF,UAAUnM,QAAQ,CAACvE,KAFjB,EAEwBmkC,YAFxB,EAGP50B,IAHO,CAGFH,SAAS,CAACC,KAAV,CAAgB80B,YAAhB,EAA8B34B,IAA9B,EAAoCtO,QAAQ,CAACu2B,YAA7C,EAA2Dv2B,QAAQ,CAACsH,SAApE,CAHE,CAAV;YAKAiI,MAAM,GAAGvP,QAAQ,CAAC8nC,aAAT,CAAuB/nC,IAAvB,CAA4BwP,MAA5B,EAAoC03B,YAApC,EAAkD34B,IAAlD,CAAT;;YAEA,IAAG3N,MAAM,CAAC6Q,GAAP,CAAWW,KAAX,CAAiBrP,KAAjB,CAAH,EAA4B;cAC1BnC,MAAM,CAACS,KAAP,CAAa,yCAAb,EAAwD6lC,YAAxD;cACA;YACD;;YACD,IAAGjnC,QAAQ,CAACmS,KAAT,CAAeuS,SAAlB,EAA6B;cAC3BnV,MAAM,CAAC0C,QAAP,CAAgBjS,QAAQ,CAACmS,KAAT,CAAeuS,SAA/B;YACD;;YACD,IAAGkjB,aAAa,KAAK,IAArB,EAA2B;cACzBjnC,MAAM,CAACS,KAAP,CAAa,oBAAb,EAAmCmO,MAAnC;cACAA,MAAM,CACH0C,QADH,CACY3K,SAAS,CAAC8lB,MADtB,EAEG6I,YAFH,CAEgB4R,KAFhB,EAGGv1B,UAHH,CAGc;gBACR0I,SAAS,EAAIhb,QAAQ,CAACmS,KAAT,CAAeG,UADpB;gBAERlR,KAAK,EAAQpB,QAAQ,CAACoB,KAFd;gBAGRL,OAAO,EAAMf,QAAQ,CAACe,OAHd;gBAIRwR,QAAQ,EAAKvS,QAAQ,CAACmS,KAAT,CAAeI;cAJpB,CAHd;YAUD,CAZD,MAaK;cACH5R,MAAM,CAACS,KAAP,CAAa,wBAAb,EAAuCmO,MAAvC;cACAA,MAAM,CACH0mB,YADH,CACgB4R,KADhB;YAGD;UACF,CA7CE;UA8CH/jC,OAAO,EAAE,UAASA,OAAT,EAAkB;YACzB,IACEiD,QAAQ,GAAG0rB,KAAK,CAAC1gB,QAAN,CAAetL,QAAQ,CAAC3C,OAAxB,CADb;YAAA,IAEEuO,IAAI,GAAOrS,QAAQ,CAACkS,SAAT,CAAmBpO,OAAnB,CAA2BnD,MAAM,CAAC6P,GAAP,CAAWokB,SAAX,CAAqB9wB,OAArB,CAA3B,CAFb;;YAIA,IAAGiD,QAAQ,CAAC9D,MAAT,GAAkB,CAArB,EAAwB;cACtB8D,QAAQ,CACLsL,IADH,CACQA,IADR;YAGD,CAJD,MAKK;cACHtL,QAAQ,GAAGnI,CAAC,CAAC,QAAD,CAAD,CACRyT,IADQ,CACHA,IADG,EAERJ,QAFQ,CAEC3K,SAAS,CAACxD,OAFX,EAGRsO,QAHQ,CAGCqgB,KAHD,CAAX;YAKD;UACF,CA/DE;UAgEHoR,WAAW,EAAE,UAAS/gC,KAAT,EAAgB;YAC3B,IACEmkC,YAAY,GAAGtmC,MAAM,CAACkN,MAAP,CAAc/K,KAAd,CAAoBA,KAApB,CADjB;YAAA,IAEEkgC,OAAO,GAAQ75B,MAAM,CAACf,IAAP,CAAY,mBAAmBzH,MAAM,CAACkN,MAAP,CAAcwC,MAAd,CAAqB42B,YAArB,CAAnB,GAAwD,IAApE,CAFjB;YAAA,IAGEc,SAAS,GAAO/E,OAAO,CAAC//B,MAAR,GAAiB,CAHnC;;YAKA,IAAG8kC,SAAH,EAAc;cACZ;YACD,CAR0B,CAS3B;;;YACApnC,MAAM,CAACwd,UAAP,CAAkBqV,cAAlB;;YACA,IAAI7yB,MAAM,CAAC4J,EAAP,CAAUo2B,MAAV,EAAJ,EAAyB;cACvBhgC,MAAM,CAACI,OAAP,CAAe,iCAAf;cACAoI,MAAM,CAACf,IAAP,CAAY,YAAYd,SAAS,CAACqtB,QAAlC,EAA4C1pB,MAA5C;YACD;;YACDrM,CAAC,CAAC,WAAD,CAAD,CACGyK,IADH,CACQ,OADR,EACiB49B,YADjB,EAEGh1B,QAFH,CAEY3K,SAAS,CAACqtB,QAFtB,EAGGtiB,IAHH,CAGQvP,KAHR,EAIGsP,QAJH,CAIYjJ,MAJZ;YAMAxI,MAAM,CAACI,OAAP,CAAe,qCAAf,EAAsD+B,KAAtD;YACAnC,MAAM,CAAC8Y,OAAP,CAAe0a,MAAf;UACD,CAvFE;UAwFH6E,cAAc,EAAE,UAASl2B,KAAT,EAAgB;YAC9B,IACEklC,SAAS,GAAWvV,KAAK,CAAC1gB,QAAN,CAAetL,QAAQ,CAACkuB,QAAxB,CADtB;YAAA,IAEEsT,aAAa,GAAOtnC,MAAM,CAACiH,GAAP,CAAWiK,IAAX,CAAgB/O,KAAhB,CAFtB;YAAA,IAGEolC,eAAe,GAAKD,aAAa,IAAIA,aAAa,CAACvyB,GAAd,CAAkBjP,QAAQ,CAACkuB,QAA3B,EAAqC1xB,MAH5E;YAAA,IAIEklC,iBAAiB,GAAGH,SAAS,CAAC/kC,MAAV,GAAmB,CAJzC;YAAA,IAKEoP,IALF;;YAOA,IAAGrS,QAAQ,CAACk5B,SAAT,IAAsBv4B,MAAM,CAAC6Q,GAAP,CAAW8lB,aAAX,EAAzB,EAAqD;cACnD;YACD;;YACD,IAAGx0B,KAAK,KAAK,EAAV,IAAgBolC,eAAnB,EAAoC;cAClCF,SAAS,CAAC/8B,MAAV;cACA;YACD;;YACD,IAAGk9B,iBAAH,EAAsB;cACpBH,SAAS,CACNtnC,IADH,CACQ2G,QAAQ,CAACvE,KADjB,EACwBA,KADxB,EAEGpC,IAFH,CAEQ2G,QAAQ,CAACiH,IAFjB,EAEuBxL,KAFvB,EAGG0Q,IAHH,CAGQ,UAAUnM,QAAQ,CAACvE,KAH3B,EAGkCA,KAHlC,EAIG0Q,IAJH,CAIQ,UAAUnM,QAAQ,CAACiH,IAJ3B,EAIiCxL,KAJjC,EAKGkI,WALH,CAKe1D,SAAS,CAACkyB,QALzB;;cAOA,IAAG,CAACx5B,QAAQ,CAAC80B,aAAb,EAA4B;gBAC1BziB,IAAI,GAAGrS,QAAQ,CAACkS,SAAT,CAAmByiB,QAAnB,CAA6Bh0B,MAAM,CAAC6P,GAAP,CAAWokB,SAAX,CAAqB9wB,OAAO,CAAC+wB,SAA7B,EAAwC/xB,KAAxC,CAA7B,CAAP;gBACAklC,SAAS,CACN31B,IADH,CACQA,IADR;cAGD;;cACD1R,MAAM,CAACI,OAAP,CAAe,0CAAf,EAA2DinC,SAA3D;YACD,CAfD,MAgBK;cACHA,SAAS,GAAGrnC,MAAM,CAACsd,MAAP,CAAcqW,UAAd,CAAyBxxB,KAAzB,CAAZ;cACAklC,SAAS,CACNvR,SADH,CACahE,KADb;cAGA9xB,MAAM,CAACI,OAAP,CAAe,oEAAf,EAAqFinC,SAArF;YACD;;YACD,IAAG,CAAChoC,QAAQ,CAAC80B,aAAV,IAA2Bn0B,MAAM,CAAC4J,EAAP,CAAUitB,WAAV,EAA9B,EAAuD;cACrDwQ,SAAS,CACN/1B,QADH,CACY3K,SAAS,CAAC2sB,QADtB,EAEG0J,QAFH,GAGG3yB,WAHH,CAGe1D,SAAS,CAAC2sB,QAHzB;YAKD;;YACDtzB,MAAM,CAACk2B,YAAP;UACD,CAtIE;UAuIHjC,SAAS,EAAE,UAAS9wB,OAAT,EAAkBk3B,IAAlB,EAAwB;YACjC,IACEoN,QAAQ,GAAOtkC,OAAO,CAACuL,MAAR,CAAe,SAAf,MAA8B,CAAC,CADhD;YAAA,IAEEg5B,WAAW,GAAIvkC,OAAO,CAACuL,MAAR,CAAe,YAAf,MAAiC,CAAC,CAFnD;YAAA,IAGEi5B,OAAO,GAAQxkC,OAAO,CAACuL,MAAR,CAAe,QAAf,MAA6B,CAAC,CAH/C;YAAA,IAIE0yB,KAJF;YAAA,IAKEriC,KALF;YAOAiB,MAAM,CAACI,OAAP,CAAe,uCAAf,EAAwD+C,OAAxD;;YACA,IAAGskC,QAAH,EAAa;cACXrG,KAAK,GAAIphC,MAAM,CAACiH,GAAP,CAAWk6B,cAAX,EAAT;cACAh+B,OAAO,GAAGA,OAAO,CAAC4K,OAAR,CAAgB,SAAhB,EAA2BqzB,KAA3B,CAAV;YACD;;YACD,IAAGsG,WAAH,EAAgB;cACdtG,KAAK,GAAIphC,MAAM,CAACiH,GAAP,CAAWk6B,cAAX,EAAT;cACAh+B,OAAO,GAAGA,OAAO,CAAC4K,OAAR,CAAgB,YAAhB,EAA8B1O,QAAQ,CAACs3B,aAAvC,CAAV;YACD;;YACD,IAAGgR,OAAH,EAAY;cACV5oC,KAAK,GAAKs7B,IAAI,IAAIr6B,MAAM,CAACiH,GAAP,CAAWlI,KAAX,EAAlB;cACAoE,OAAO,GAAGA,OAAO,CAAC4K,OAAR,CAAgB,QAAhB,EAA0BhP,KAA1B,CAAV;YACD;;YACD,OAAOoE,OAAP;UACD,CA7JE;UA8JHhB,KAAK,EAAE,UAASylC,UAAT,EAAqBC,SAArB,EAAgC5M,aAAhC,EAA+C;YACpD,IACE/uB,YAAY,GAAGlM,MAAM,CAACiH,GAAP,CAAWgJ,MAAX,CAAkB,IAAlB,CADjB;YAAA,IAEEw2B,QAFF;;YAIA,IAAGzmC,MAAM,CAAC6Q,GAAP,CAAW1O,KAAX,CAAiBylC,UAAjB,CAAH,EAAiC;cAC/B5nC,MAAM,CAACS,KAAP,CAAa,wBAAb;cACA;YACD;;YACD,IAAGmnC,UAAU,KAAK,EAAlB,EAAsB;cACpB5nC,MAAM,CAACS,KAAP,CAAa,6CAAb;cACA;YACD,CAZmD,CAapD;;;YACA,IAAGiE,KAAK,CAACC,OAAN,CAAcuH,YAAd,CAAH,EAAgC;cAC9Bu6B,QAAQ,GAAGv6B,YAAY,CAAC8H,MAAb,CAAoB,CAAC4zB,UAAD,CAApB,CAAX;cACAnB,QAAQ,GAAGzmC,MAAM,CAACiH,GAAP,CAAWq6B,WAAX,CAAuBmF,QAAvB,CAAX;YACD,CAHD,MAIK;cACHA,QAAQ,GAAG,CAACmB,UAAD,CAAX;YACD,CApBmD,CAqBpD;;;YACA,IAAI5nC,MAAM,CAAC6Q,GAAP,CAAWsqB,WAAX,EAAJ,EAA+B;cAC7B,IAAGn7B,MAAM,CAACgK,GAAP,CAAW28B,YAAX,EAAH,EAA8B;gBAC5B3mC,MAAM,CAACS,KAAP,CAAa,wBAAb,EAAuCmnC,UAAvC,EAAmDnB,QAAnD,EAA6Dj+B,MAA7D;gBACAxI,MAAM,CAAC6P,GAAP,CAAWqzB,WAAX,CAAuB0E,UAAvB;cACD;YACF,CALD,MAMK;cACHnB,QAAQ,GAAGA,QAAQ,CAAC5V,IAAT,CAAcxxB,QAAQ,CAACu5B,SAAvB,CAAX;cACA54B,MAAM,CAACS,KAAP,CAAa,yCAAb,EAAwDgmC,QAAxD,EAAkEj+B,MAAlE;YACD;;YAED,IAAGnJ,QAAQ,CAACqvB,UAAT,KAAwB,KAAxB,IAAiC1uB,MAAM,CAAC4J,EAAP,CAAUqiB,WAAV,EAApC,EAA6D;cAC3DjsB,MAAM,CAACI,OAAP,CAAe,yCAAf,EAA0Df,QAAQ,CAACyoC,KAAnE;YACD,CAFD,MAGK;cACHzoC,QAAQ,CAACyoC,KAAT,CAAe1oC,IAAf,CAAoBS,OAApB,EAA6B+nC,UAA7B,EAAyCC,SAAzC,EAAoD5M,aAApD;YACD;;YACDj7B,MAAM,CAACoH,GAAP,CAAWjF,KAAX,CAAiBskC,QAAjB,EAA2BoB,SAA3B,EAAsC5M,aAAtC;YACAj7B,MAAM,CAAC4e,KAAP,CAAa+X,aAAb;UACD;QAvME,CAtpFE;QAg2FPrsB,MAAM,EAAE;UACNmP,MAAM,EAAE,YAAW;YACjB7Z,OAAO,CAACyK,WAAR,CAAoB1D,SAAS,CAAC8S,MAA9B;UACD,CAHK;UAIN8hB,WAAW,EAAE,YAAW;YACtB37B,OAAO,CAAC6H,IAAR,CAAa3B,QAAQ,CAAC0L,KAAtB,EAA6BnH,WAA7B,CAAyC1D,SAAS,CAAC8S,MAAnD;UACD,CANK;UAON/N,KAAK,EAAE,YAAW;YAChB9L,OAAO,CAACyK,WAAR,CAAoB1D,SAAS,CAAC+E,KAA9B;UACD,CATK;UAUNw5B,OAAO,EAAE,YAAW;YAClBtlC,OAAO,CAACyK,WAAR,CAAoB1D,SAAS,CAACu+B,OAA9B;UACD,CAZK;UAaNjZ,WAAW,EAAE,YAAW;YACtBA,WAAW,GAAG,KAAd;UACD,CAfK;UAgBNoV,MAAM,EAAE,UAASgF,YAAT,EAAuB;YAC7B,IAAIj9B,QAAQ,GAAGi9B,YAAY,IAAIzmC,OAA/B;YACAwJ,QAAQ,CAACiB,WAAT,CAAqB1D,SAAS,CAAC06B,MAA/B;UACD,CAnBK;UAoBN8E,QAAQ,EAAE,UAASE,YAAT,EAAuB;YAC/B,IAAIj9B,QAAQ,GAAGi9B,YAAY,IAAIvU,KAA/B;YACA1oB,QAAQ,CAACiB,WAAT,CAAqB1D,SAAS,CAACw/B,QAA/B;UACD,CAvBK;UAwBN5S,OAAO,EAAE,YAAW;YAClB3zB,OAAO,CAACyK,WAAR,CAAoB1D,SAAS,CAAC4sB,OAA9B;UACD,CA1BK;UA2BN0E,UAAU,EAAE,YAAW;YACrBjG,KAAK,CAAC3nB,WAAN,CAAkB1D,SAAS,CAAC8S,MAA5B;UACD,CA7BK;UA8BNygB,YAAY,EAAE,YAAW;YACvB,IAAG76B,QAAQ,CAACk5B,SAAT,IAAsBv4B,MAAM,CAAC6Q,GAAP,CAAW8lB,aAAX,EAAzB,EAAsD;cACpD;YACD;;YACD,IAAGt3B,QAAQ,CAACk5B,SAAT,IAAsBv4B,MAAM,CAAC4J,EAAP,CAAUqO,QAAV,EAAzB,EAA+C;cAC7C+Z,KAAK,CAACjd,GAAN,CAAU,MAAMpO,SAAS,CAAC8S,MAA1B,EAAkCpP,WAAlC,CAA8C1D,SAAS,CAACkyB,QAAxD;YACD,CAFD,MAGK;cACH7G,KAAK,CAAC3nB,WAAN,CAAkB1D,SAAS,CAACkyB,QAA5B;YACD;;YACD,IAAGx5B,QAAQ,CAAC6yB,YAAZ,EAA0B;cACxBD,QAAQ,CAAC5nB,WAAT,CAAqB1D,SAAS,CAAC8lB,MAA/B;YACD;;YACDzsB,MAAM,CAACsK,MAAP,CAAcoB,KAAd;UACD,CA5CK;UA6CNw3B,WAAW,EAAE,UAAS/gC,KAAT,EAAgB;YAC3B,IACEmkC,YAAY,GAAGtmC,MAAM,CAACkN,MAAP,CAAc/K,KAAd,CAAoBA,KAApB,CADjB;YAAA,IAEEkgC,OAAO,GAAQ75B,MAAM,CAACf,IAAP,CAAY,mBAAmBzH,MAAM,CAACkN,MAAP,CAAcwC,MAAd,CAAqB42B,YAArB,CAAnB,GAAwD,IAApE,CAFjB;YAAA,IAGEc,SAAS,GAAO/E,OAAO,CAAC//B,MAAR,GAAiB,CAHnC;;YAKA,IAAG,CAAC8kC,SAAD,IAAc,CAAC/E,OAAO,CAACj4B,QAAR,CAAiBzD,SAAS,CAACqtB,QAA3B,CAAlB,EAAwD;cACtD;YACD,CAR0B,CAS3B;;;YACA,IAAGnB,cAAH,EAAmB;cACjBA,cAAc,CAACrV,UAAf;cACAxd,MAAM,CAACI,OAAP,CAAe,6CAAf;YACD;;YACDiiC,OAAO,CAAC/3B,MAAR;YACAtK,MAAM,CAACI,OAAP,CAAe,uCAAf,EAAwDkmC,YAAxD;;YACA,IAAGzT,cAAH,EAAmB;cACjBA,cAAc,CAAC/Z,OAAf,CAAuBtQ,MAAM,CAAC,CAAD,CAA7B,EAAkC;gBAChCuQ,SAAS,EAAG,IADoB;gBAEhCC,OAAO,EAAK;cAFoB,CAAlC;YAID;UACF,CAnEK;UAoEN7V,OAAO,EAAE,YAAW;YAClB2uB,KAAK,CAAC1gB,QAAN,CAAetL,QAAQ,CAAC3C,OAAxB,EAAiCmH,MAAjC;UACD,CAtEK;UAuEN42B,WAAW,EAAE,YAAW;YACtB3P,OAAO,CAACxV,GAAR,CAAY,OAAZ,EAAqB,EAArB;UACD,CAzEK;UA0EN+b,UAAU,EAAE,YAAW;YACrB93B,MAAM,CAACI,OAAP,CAAe,qBAAf;YACAmxB,OAAO,CAAC9mB,GAAR,CAAY,EAAZ;YACAzK,MAAM,CAACoH,GAAP,CAAWyxB,QAAX;UACD,CA9EK;UA+EN0E,YAAY,EAAE,YAAW;YACvBvL,KAAK,CAAChnB,MAAN,CAAalF,QAAQ,CAACkuB,QAAtB,EAAgC1pB,MAAhC;UACD,CAjFK;UAkFNgpB,QAAQ,EAAE,UAASnxB,KAAT,EAAgB84B,aAAhB,EAA+BqI,oBAA/B,EAAqD;YAC7DrI,aAAa,GAAI57B,QAAQ,CAAC84B,cAAV,GACZ8C,aAAa,IAAIj7B,MAAM,CAACiH,GAAP,CAAW07B,iBAAX,CAA6BxgC,KAA7B,CADL,GAEZ84B,aAAa,IAAIj7B,MAAM,CAACiH,GAAP,CAAWiK,IAAX,CAAgB/O,KAAhB,CAFrB;;YAKA,IAAG,CAAC84B,aAAJ,EAAmB;cACjB,OAAO,KAAP;YACD;;YAEDA,aAAa,CACVr5B,IADH,CACQ,YAAW;cACf,IACE+yB,SAAS,GAAO12B,CAAC,CAAC,IAAD,CADnB;cAAA,IAEE6oC,YAAY,GAAI9mC,MAAM,CAACiH,GAAP,CAAW4yB,UAAX,CAAsBlF,SAAtB,CAFlB;cAAA,IAGEoS,aAAa,GAAG/mC,MAAM,CAACiH,GAAP,CAAWgzB,WAAX,CAAuBtF,SAAvB,EAAkCmS,YAAlC,CAHlB;;cAKA,IAAG9mC,MAAM,CAAC4J,EAAP,CAAUqO,QAAV,EAAH,EAAyB;gBACvB,IAAG5Y,QAAQ,CAACk5B,SAAZ,EAAuB;kBACrBv4B,MAAM,CAACsK,MAAP,CAAcnI,KAAd,CAAoB4kC,aAApB,EAAmCD,YAAnC,EAAiDnS,SAAjD,EAA4D2O,oBAA5D;kBACAtjC,MAAM,CAACsK,MAAP,CAAckH,KAAd,CAAoBu1B,aAApB;gBACD,CAHD,MAIK;kBACH/mC,MAAM,CAACsK,MAAP,CAAcnI,KAAd,CAAoB4kC,aAApB,EAAmCD,YAAnC,EAAiDnS,SAAjD,EAA4D2O,oBAA5D;;kBACA,IAAGtjC,MAAM,CAACiH,GAAP,CAAWk6B,cAAX,OAAgC,CAAnC,EAAsC;oBACpCnhC,MAAM,CAACoH,GAAP,CAAWivB,eAAX;kBACD,CAFD,MAGK;oBACHr2B,MAAM,CAACoH,GAAP,CAAWuG,IAAX,CAAgB3N,MAAM,CAAC6P,GAAP,CAAWokB,SAAX,CAAqB9wB,OAAO,CAACi+B,KAA7B,CAAhB;kBACD;gBACF;cACF,CAdD,MAeK;gBACHphC,MAAM,CAACsK,MAAP,CAAcnI,KAAd,CAAoB4kC,aAApB,EAAmCD,YAAnC,EAAiDnS,SAAjD,EAA4D2O,oBAA5D;cACD;;cACD3O,SAAS,CACNtqB,WADH,CACe1D,SAAS,CAACkyB,QADzB,EAEGxuB,WAFH,CAEe1D,SAAS,CAAC8S,MAFzB;;cAIA,IAAGpa,QAAQ,CAACk5B,SAAZ,EAAuB;gBACrB5D,SAAS,CAACtqB,WAAV,CAAsB1D,SAAS,CAAC2sB,QAAhC;cACD;YACF,CAhCH;UAkCD,CA9HK;UA+HNkB,YAAY,EAAE,YAAW;YACvBxC,KAAK,CAAC3nB,WAAN,CAAkB1D,SAAS,CAAC2sB,QAA5B;UACD,CAjIK;UAkINnxB,KAAK,EAAE,UAAS4lC,YAAT,EAAuBC,WAAvB,EAAoCC,YAApC,EAAkD3E,oBAAlD,EAAwE;YAC7E,IACErzB,MAAM,GAAGjQ,MAAM,CAACiH,GAAP,CAAWgJ,MAAX,EADX;YAAA,IAEEw2B,QAFF;YAIAsB,YAAY,GAAG/nC,MAAM,CAACkN,MAAP,CAAcorB,YAAd,CAA2ByP,YAA3B,CAAf;;YACA,IAAI/nC,MAAM,CAAC6Q,GAAP,CAAWsqB,WAAX,EAAJ,EAA+B;cAC7Bn7B,MAAM,CAACI,OAAP,CAAe,4CAAf,EAA6D2nC,YAA7D;cACAtB,QAAQ,GAAGzmC,MAAM,CAACsK,MAAP,CAAc49B,UAAd,CAAyBH,YAAzB,EAAuC93B,MAAvC,CAAX;cACAjQ,MAAM,CAACsK,MAAP,CAAc44B,WAAd,CAA0B6E,YAA1B;YACD,CAJD,MAKK;cACH/nC,MAAM,CAACI,OAAP,CAAe,gCAAf,EAAiD2nC,YAAjD;cACAtB,QAAQ,GAAGzmC,MAAM,CAACsK,MAAP,CAAc49B,UAAd,CAAyBH,YAAzB,EAAuC93B,MAAvC,CAAX;cACAw2B,QAAQ,GAAGA,QAAQ,CAAC5V,IAAT,CAAcxxB,QAAQ,CAACu5B,SAAvB,CAAX;YACD;;YACD,IAAGv5B,QAAQ,CAACqvB,UAAT,KAAwB,KAAxB,IAAiC1uB,MAAM,CAAC4J,EAAP,CAAUqiB,WAAV,EAApC,EAA6D;cAC3DjsB,MAAM,CAACI,OAAP,CAAe,6BAAf,EAA8Cf,QAAQ,CAAC8oC,QAAvD;YACD,CAFD,MAGK;cACH9oC,QAAQ,CAAC8oC,QAAT,CAAkB/oC,IAAlB,CAAuBS,OAAvB,EAAgCkoC,YAAhC,EAA8CC,WAA9C,EAA2DC,YAA3D;YACD;;YACDjoC,MAAM,CAACoH,GAAP,CAAWjF,KAAX,CAAiBskC,QAAjB,EAA2BuB,WAA3B,EAAwCC,YAAxC,EAAsD3E,oBAAtD;YACAtjC,MAAM,CAAC4e,KAAP,CAAa+X,aAAb;UACD,CA1JK;UA2JNuR,UAAU,EAAE,UAASH,YAAT,EAAuB93B,MAAvB,EAA+B;YACzC,IAAI,CAACvL,KAAK,CAACC,OAAN,CAAcsL,MAAd,CAAL,EAA6B;cAC3BA,MAAM,GAAG,CAACA,MAAD,CAAT;YACD;;YACDA,MAAM,GAAGhS,CAAC,CAACgT,IAAF,CAAOhB,MAAP,EAAe,UAAS9N,KAAT,EAAe;cACrC,OAAQ4lC,YAAY,IAAI5lC,KAAxB;YACD,CAFQ,CAAT;YAGAnC,MAAM,CAACI,OAAP,CAAe,qCAAf,EAAsD2nC,YAAtD,EAAoE93B,MAApE;YACA,OAAOA,MAAP;UACD,CApKK;UAqKNuB,KAAK,EAAE,UAASrP,KAAT,EAAgB8kC,aAAhB,EAA+B;YACpC,IACEX,YAAY,GAAItmC,MAAM,CAACkN,MAAP,CAAc/K,KAAd,CAAoBA,KAApB,CADlB;YAAA,IAEEq5B,OAAO,GAAS57B,OAAO,CAAC6H,IAAR,CAAa3B,QAAQ,CAAC0L,KAAtB,CAFlB;YAAA,IAGE42B,aAAa,GAAG5M,OAAO,CAACxwB,MAAR,CAAe,WAAWtE,QAAQ,CAACvE,KAApB,GAA4B,IAA5B,GAAmCnC,MAAM,CAACkN,MAAP,CAAcwC,MAAd,CAAqBrQ,QAAQ,CAACgkC,UAAT,GAAsBiD,YAAY,CAAC7vB,WAAb,EAAtB,GAAmD6vB,YAAxE,CAAnC,GAA0H,IAAzI,CAHlB;YAKAtmC,MAAM,CAACI,OAAP,CAAe,gBAAf,EAAiCgoC,aAAjC;YACAA,aAAa,CAAC99B,MAAd;UACD,CA7KK;UA8KN0xB,YAAY,EAAE,UAASP,aAAT,EAAwB;YACpCA,aAAa,GAAGA,aAAa,IAAI77B,OAAO,CAAC6H,IAAR,CAAa3B,QAAQ,CAAC0L,KAAtB,EAA6BxG,MAA7B,CAAoC,MAAMrE,SAAS,CAAC8S,MAApD,CAAjC;YACAzZ,MAAM,CAACI,OAAP,CAAe,kCAAf,EAAmDq7B,aAAnD;YACAz7B,MAAM,CAACsK,MAAP,CAAci5B,MAAd,CAAqB9H,aAArB;UACD,CAlLK;UAmLN8H,MAAM,EAAE,UAAS/H,OAAT,EAAkB8H,oBAAlB,EAAwC;YAC9C9H,OAAO,GAAGA,OAAO,IAAI57B,OAAO,CAAC6H,IAAR,CAAa3B,QAAQ,CAAC0L,KAAtB,CAArB;YACAxR,MAAM,CAACI,OAAP,CAAe,iBAAf,EAAkCo7B,OAAlC;YACAA,OAAO,CACJ55B,IADH,CACQ,YAAU;cACd,IACEgN,MAAM,GAAQ3Q,CAAC,CAAC,IAAD,CADjB;cAAA,IAEEkE,KAAK,GAASyM,MAAM,CAAC7O,IAAP,CAAY2G,QAAQ,CAACvE,KAArB,CAFhB;cAAA,IAGEqkC,WAAW,GAAIrkC,KAAK,KAAK/D,SAAX,GACVwN,MAAM,CAACzJ,KAAD,CADI,GAEVA,KALN;cAAA,IAME2xB,WAAW,GAAG9zB,MAAM,CAAC4J,EAAP,CAAUy+B,SAAV,CAAoB7B,WAApB,CANhB;;cAQA,IAAGnnC,QAAQ,CAACipC,aAAT,CAAuBlpC,IAAvB,CAA4BwP,MAA5B,EAAoCzM,KAApC,MAA+C,KAAlD,EAAyD;gBACvDnC,MAAM,CAACS,KAAP,CAAa,yCAAb;gBACA;cACD;;cACDT,MAAM,CAACsK,MAAP,CAAcnH,OAAd;;cACA,IAAG2wB,WAAH,EAAgB;gBACd9zB,MAAM,CAACsK,MAAP,CAAcnI,KAAd,CAAoBqkC,WAApB,EAAiCA,WAAjC,EAA8CxmC,MAAM,CAACiH,GAAP,CAAWiK,IAAX,CAAgBs1B,WAAhB,CAA9C,EAA4ElD,oBAA5E;gBACAtjC,MAAM,CAACsK,MAAP,CAAckH,KAAd,CAAoBg1B,WAApB;cACD,CAHD,MAIK;gBACH;gBACAxmC,MAAM,CAACsK,MAAP,CAAcgpB,QAAd,CAAuBkT,WAAvB,EAAoC,KAApC,EAA2ClD,oBAA3C;cACD;YACF,CAvBH;UAyBD,CA/MK;UAgNNnX,QAAQ,EAAE,YAAW;YACnB,IAAInsB,MAAM,CAAC4J,EAAP,CAAU4rB,eAAV,EAAJ,EAAkC;cAChCx1B,MAAM,CAACS,KAAP,CAAa,iCAAb;cACA8wB,OAAO,CACJ/d,UADH,CACc,UADd;cAGAse,KAAK,CACFte,UADH,CACc,UADd;YAGD,CARD,MASK;cACHxT,MAAM,CAACS,KAAP,CAAa,uCAAb;cACAb,OAAO,CACJ4T,UADH,CACc,UADd;cAGAse,KAAK,CACFte,UADH,CACc,UADd;YAGD;UACF,CAnOK;UAoON8lB,UAAU,EAAE,UAAS3rB,IAAT,EAAe;YACzB,OAAOtO,QAAQ,CAAC2zB,gBAAT,GAA6BrlB,IAAI,CAACtN,SAAL,CAAe,KAAf,EAAsB0N,OAAtB,CAA8B,kBAA9B,EAAkD,EAAlD,CAA7B,GAAqFJ,IAA5F;UACD;QAtOK,CAh2FD;QAykGPkD,GAAG,EAAE;UACH6mB,UAAU,EAAE,YAAW;YACrB,OAAQ13B,MAAM,CAAC6Q,GAAP,CAAWnC,MAAX,MAAuB6iB,OAAO,CAAChoB,OAAR,CAAgBuoB,KAAhB,EAAuBxvB,MAAvB,GAAgC,CAA/D;UACD,CAHE;UAIH+yB,SAAS,EAAE,YAAW;YACpB,OAAQ9uB,MAAM,CAACjE,MAAP,GAAgB,CAAxB;UACD,CANE;UAOHoM,MAAM,EAAE,YAAW;YACjB,OAAQ6iB,OAAO,CAACjvB,MAAR,GAAiB,CAAzB;UACD,CATE;UAUHmvB,KAAK,EAAE,YAAW;YAChB,OAAQD,MAAM,CAAClvB,MAAP,GAAgB,CAAxB;UACD,CAZE;UAaH64B,WAAW,EAAE,YAAW;YACtB,OAAS3yB,MAAM,CAACoB,EAAP,CAAU,QAAV,CAAT;UACD,CAfE;UAgBH0qB,aAAa,EAAE,UAASwD,UAAT,EAAqB;YAClC,IAAGz4B,QAAQ,CAACi1B,aAAT,IAA0B,CAAC/B,WAA9B,EAA2C;cACzCuF,UAAU,GAAIA,UAAU,KAAK15B,SAAhB,GACTwN,MAAM,CAACksB,UAAD,CADG,GAETlsB,MAAM,CAAC5L,MAAM,CAACiH,GAAP,CAAWlI,KAAX,EAAD,CAFV;cAIA,OAAQ+4B,UAAU,CAACx1B,MAAX,IAAqBjD,QAAQ,CAACi1B,aAAtC;YACD;;YACD/B,WAAW,GAAC,KAAZ;YACA,OAAO,IAAP;UACD,CA1BE;UA2BHyT,WAAW,EAAE,UAAShU,KAAT,EAAgB8T,MAAhB,EAAwB;YACnC,IACEn4B,IADF,EAEEq4B,WAFF;;YAIA,IAAG,CAAChU,KAAD,IAAUA,KAAK,CAAC1vB,MAAN,KAAiB,CAA3B,IAAgC,OAAOwjC,MAAP,KAAkB,QAArD,EAA+D;cAC7D,OAAO,KAAP;YACD;;YACDn4B,IAAI,GAAU3N,MAAM,CAACiH,GAAP,CAAW4yB,UAAX,CAAsB7H,KAAtB,EAA6B,KAA7B,CAAd;YACA8T,MAAM,GAAQA,MAAM,CAACrvB,WAAP,EAAd;YACAuvB,WAAW,GAAGp6B,MAAM,CAAC+B,IAAD,CAAN,CAAapJ,MAAb,CAAoB,CAApB,EAAuBkS,WAAvB,EAAd;YACA,OAAQqvB,MAAM,IAAIE,WAAlB;UACD,CAvCE;UAwCHl5B,KAAK,EAAE,YAAW;YAChB,OAAQtE,MAAM,CAAClG,MAAP,GAAgB,CAAxB;UACD,CA1CE;UA2CHimC,KAAK,EAAE,YAAW;YAChB,OAAQvW,KAAK,CAAC1vB,MAAN,GAAe,CAAvB;UACD,CA7CE;UA8CHyvB,IAAI,EAAE,YAAW;YACf,OAAQD,KAAK,CAACxvB,MAAN,GAAe,CAAvB;UACD,CAhDE;UAiDHkmC,OAAO,EAAE,UAASnC,YAAT,EAAuB;YAC9B,OAAO,CAACA,YAAY,IAAIvU,KAAjB,EAAwBrqB,IAAxB,CAA6B3B,QAAQ,CAACisB,IAAtC,EAA4CzvB,MAA5C,GAAqD,CAA5D;UACD,CAnDE;UAoDHa,OAAO,EAAE,YAAW;YAClB,OAAQ2uB,KAAK,CAAC1gB,QAAN,CAAetL,QAAQ,CAAC3C,OAAxB,EAAiCb,MAAjC,KAA4C,CAApD;UACD,CAtDE;UAuDHkP,KAAK,EAAE,UAASrP,KAAT,EAAgB;YACrB,IACEmkC,YAAY,GAAGtmC,MAAM,CAACkN,MAAP,CAAc/K,KAAd,CAAoBA,KAApB,CADjB;YAAA,IAEEq5B,OAAO,GAAQ57B,OAAO,CAAC6H,IAAR,CAAa3B,QAAQ,CAAC0L,KAAtB,CAFjB;;YAIA,IAAGnS,QAAQ,CAACgkC,UAAZ,EAAwB;cACtBiD,YAAY,GAAGA,YAAY,CAAC7vB,WAAb,EAAf;YACD;;YACD,OAAQ+kB,OAAO,CAACxwB,MAAR,CAAe,WAAWtE,QAAQ,CAACvE,KAApB,GAA4B,IAA5B,GAAmCnC,MAAM,CAACkN,MAAP,CAAcwC,MAAd,CAAqB42B,YAArB,CAAnC,GAAuE,IAAtF,EAA4FhkC,MAA5F,GAAqG,CAA7G;UACD,CAhEE;UAiEHq0B,aAAa,EAAE,YAAW;YACxB,OAAQt3B,QAAQ,CAACs3B,aAAT,IAA0B32B,MAAM,CAACiH,GAAP,CAAWk6B,cAAX,MAA+B9hC,QAAQ,CAACs3B,aAA1E;UACD,CAnEE;UAoEHC,kBAAkB,EAAE,YAAW;YAC7B,IACE6R,cAAc,GAAGzW,KAAK,CAACjd,GAAN,CAAUjP,QAAQ,CAACkuB,QAAnB,CADnB;YAGA,OAAQyU,cAAc,CAACz9B,MAAf,CAAsBlF,QAAQ,CAAC2uB,YAA/B,EAA6CnyB,MAA7C,KAAwDmmC,cAAc,CAACnmC,MAA/E;UACD,CAzEE;UA0EH+1B,cAAc,EAAE,YAAW;YACzB,OAAQvG,KAAK,CAAC1gB,QAAN,CAAetL,QAAQ,CAACkuB,QAAxB,EAAkC1xB,MAAlC,GAA2C,CAAnD;UACD,CA5EE;UA6EHvD,KAAK,EAAE,YAAW;YAChB,OAAQiB,MAAM,CAACiH,GAAP,CAAWlI,KAAX,OAAuB,EAA/B;UACD,CA/EE;UAgFHoD,KAAK,EAAE,UAASA,KAAT,EAAgB;YACrB,OAAQ9C,QAAQ,CAACgkC,UAAV,GACHrjC,MAAM,CAAC6Q,GAAP,CAAW63B,iBAAX,CAA6BvmC,KAA7B,CADG,GAEHnC,MAAM,CAAC6Q,GAAP,CAAW83B,iBAAX,CAA6BxmC,KAA7B,CAFJ;UAID,CArFE;UAsFHwmC,iBAAiB,EAAE,UAASxmC,KAAT,EAAgB;YACjC,IACE8N,MAAM,GAAKjQ,MAAM,CAACiH,GAAP,CAAWgJ,MAAX,CAAkB,IAAlB,CADb;YAAA,IAEE24B,QAAQ,GAAGlkC,KAAK,CAACC,OAAN,CAAcsL,MAAd,IACRA,MAAM,IAAKhS,CAAC,CAAC+Z,OAAF,CAAU7V,KAAV,EAAiB8N,MAAjB,MAA6B,CAAC,CADjC,GAEPA,MAAM,IAAI9N,KAJhB;YAMA,OAAQymC,QAAD,GACH,IADG,GAEH,KAFJ;UAID,CAjGE;UAkGHF,iBAAiB,EAAE,UAASvmC,KAAT,EAAgB;YACjC,IACE8N,MAAM,GAAKjQ,MAAM,CAACiH,GAAP,CAAWgJ,MAAX,CAAkB,IAAlB,CADb;YAAA,IAEE24B,QAAQ,GAAG,KAFb;;YAIA,IAAG,CAAClkC,KAAK,CAACC,OAAN,CAAcsL,MAAd,CAAJ,EAA2B;cACzBA,MAAM,GAAG,CAACA,MAAD,CAAT;YACD;;YACDhS,CAAC,CAAC2D,IAAF,CAAOqO,MAAP,EAAe,UAASpO,KAAT,EAAgBgnC,aAAhB,EAA+B;cAC5C,IAAGj9B,MAAM,CAACzJ,KAAD,CAAN,CAAcsU,WAAd,MAA+B7K,MAAM,CAACi9B,aAAD,CAAN,CAAsBpyB,WAAtB,EAAlC,EAAuE;gBACrEmyB,QAAQ,GAAG,IAAX;gBACA,OAAO,KAAP;cACD;YACF,CALD;YAMA,OAAOA,QAAP;UACD;QAjHE,CAzkGE;QA6rGPh/B,EAAE,EAAE;UACF6P,MAAM,EAAE,YAAW;YACjB,OAAO7Z,OAAO,CAACwK,QAAR,CAAiBzD,SAAS,CAAC8S,MAA3B,CAAP;UACD,CAHC;UAIFqvB,eAAe,EAAE,YAAW;YAC1B,OAAOhX,KAAK,CAACngB,UAAN,CAAiB,WAAjB,CAAP;UACD,CANC;UAOFslB,gBAAgB,EAAE,YAAW;YAC3B,OAAOnF,KAAK,CAACngB,UAAN,CAAiB,YAAjB,CAAP;UACD,CATC;UAUFuqB,iBAAiB,EAAE,UAASj0B,KAAT,EAAgB;YACjC,OAAOhK,CAAC,CAACgK,KAAK,CAACie,MAAP,CAAD,CAAgBtc,EAAhB,CAAmB,eAAnB,KAAuChK,OAAO,CAAC2J,OAAR,CAAgB,OAAhB,EAAyBjH,MAAzB,GAAkC,CAAhF;UACD,CAZC;UAaF65B,gBAAgB,EAAE,UAASl0B,KAAT,EAAgB;YAChC,OAAOhK,CAAC,CAACgK,KAAK,CAACie,MAAP,CAAD,CAAgB3c,OAAhB,CAAwBmoB,KAAxB,EAA+BpvB,MAA/B,GAAwC,CAA/C;UACD,CAfC;UAgBFizB,MAAM,EAAE,YAAW;YACjB,OAAO,CAAC,CAACr3B,MAAM,CAACq3B,MAAT,KAAoB,CAAC,CAACr3B,MAAM,CAACq3B,MAAP,CAAcwT,QAAhB,IAA4B,CAAC,CAAC7qC,MAAM,CAACq3B,MAAP,CAAcyT,OAAhE,CAAP;UACD,CAlBC;UAmBFjW,YAAY,EAAE,YAAW;YACvB,OAAQnzB,OAAO,CAACgK,EAAR,CAAW,QAAX,KAAwBhK,OAAO,CAACyJ,MAAR,CAAevD,QAAQ,CAACyE,QAAxB,EAAkCxK,IAAlC,CAAuCL,eAAvC,MAA4DtB,SAApF,IAAiGwB,OAAO,CAAC2b,IAAR,GAAejZ,MAAf,KAA0B,CAAnI;UACD,CArBC;UAsBFiX,SAAS,EAAE,UAASujB,QAAT,EAAmB;YAC5B,OAAQA,QAAD,GACHA,QAAQ,CAACnrB,UAAT,IAAuBmrB,QAAQ,CAACnrB,UAAT,CAAoB,cAApB,CADpB,GAEHmgB,KAAK,CAACngB,UAAN,IAAuBmgB,KAAK,CAACngB,UAAN,CAAiB,cAAjB,CAF3B;UAID,CA3BC;UA4BFw0B,QAAQ,EAAE,UAASrJ,QAAT,EAAmB;YAC3B,IAAImM,aAAa,GAAGnM,QAAQ,IAAIhL,KAAhC;YACA,OAAOmX,aAAa,CAAC7+B,QAAd,CAAuBzD,SAAS,CAACw/B,QAAjC,CAAP;UACD,CA/BC;UAgCF/Q,SAAS,EAAE,YAAW;YACpB,OAAQx1B,OAAO,CAACwK,QAAR,CAAiBzD,SAAS,CAACyuB,SAA3B,KAAyC/1B,QAAQ,CAAC+1B,SAA1D;UACD,CAlCC;UAmCFrzB,QAAQ,EAAE,YAAW;YACnB,OAAOnC,OAAO,CAACwK,QAAR,CAAiBzD,SAAS,CAAC5E,QAA3B,CAAP;UACD,CArCC;UAsCFijB,OAAO,EAAE,YAAW;YAClB,OAAQ7mB,QAAQ,CAACm9B,aAAT,KAA2B17B,OAAO,CAAC,CAAD,CAA1C;UACD,CAxCC;UAyCFs3B,eAAe,EAAE,YAAW;YAC1B,OAAQ/4B,QAAQ,CAACm9B,aAAT,KAA2B/J,OAAO,CAAC,CAAD,CAA1C;UACD,CA3CC;UA4CFsF,WAAW,EAAE,YAAW;YACtB,OAAQ,CAAC72B,MAAM,CAAC4J,EAAP,CAAUqO,QAAV,MAAwBjY,MAAM,CAAC6Q,GAAP,CAAWnC,MAAX,EAAzB,KAAiD,EAAErP,QAAQ,CAAC80B,aAAT,IAA0B,KAA1B,IAAmCn0B,MAAM,CAAC6Q,GAAP,CAAWwnB,cAAX,EAArC,CAAjD,IAAsH,CAACr4B,MAAM,CAAC6Q,GAAP,CAAW1N,OAAX,EAAvH,IAA+InD,MAAM,CAAC6Q,GAAP,CAAW+lB,kBAAX,EAAvJ;UACD,CA9CC;UA+CFnK,MAAM,EAAE,UAASqQ,QAAT,EAAmB;YACzB,OAAO,CAAC98B,MAAM,CAAC4J,EAAP,CAAU2pB,OAAV,CAAkBuJ,QAAlB,CAAR;UACD,CAjDC;UAkDF7Q,WAAW,EAAE,YAAW;YACtB,OAAOA,WAAP;UACD,CApDC;UAqDF2R,QAAQ,EAAE,UAASsL,MAAT,EAAiBllC,MAAjB,EAAyB;YACjC,IACEE,KAAK,GAAG,KADV;YAGAjG,CAAC,CAAC2D,IAAF,CAAOoC,MAAP,EAAe,UAASnC,KAAT,EAAgBsnC,QAAhB,EAA0B;cACvC,IAAGA,QAAQ,IAAID,MAAf,EAAuB;gBACrBhlC,KAAK,GAAG,IAAR;gBACA,OAAO,IAAP;cACD;YACF,CALD;YAMA,OAAOA,KAAP;UACD,CAhEC;UAiEF+T,QAAQ,EAAE,YAAW;YACnB,OAAOrY,OAAO,CAACwK,QAAR,CAAiBzD,SAAS,CAACsR,QAA3B,CAAP;UACD,CAnEC;UAoEFue,MAAM,EAAE,YAAW;YACjB,OAAOn3B,QAAQ,CAAC41B,WAAT,IAAwBj1B,MAAM,CAACgK,GAAP,CAAWwuB,MAAX,EAA/B;UACD,CAtEC;UAuEF/B,UAAU,EAAE,YAAW;YACrB,OAAOp3B,QAAQ,CAAC41B,WAAT,IAAwB,CAAC51B,QAAQ,CAAC41B,WAAT,CAAqBxyB,KAArD;UACD,CAzEC;UA0EFu9B,MAAM,EAAE,YAAW;YACjB,OAAO,CAAChgC,MAAM,CAAC4J,EAAP,CAAUqO,QAAV,EAAR;UACD,CA5EC;UA6EFqkB,cAAc,EAAE,UAASzjB,SAAT,EAAoB;YAClC,IACEuwB,aAAa,GAAG,KADlB;YAGAnrC,CAAC,CAAC2D,IAAF,CAAOiX,SAAP,EAAkB,UAAShX,KAAT,EAAgB+kB,QAAhB,EAA0B;cAC1C,IAAG3oB,CAAC,CAAC2oB,QAAQ,CAACV,MAAV,CAAD,CAAmBtc,EAAnB,CAAsB,QAAtB,KAAmC3L,CAAC,CAAC2oB,QAAQ,CAAC4V,UAAV,CAAD,CAAuB5yB,EAAvB,CAA0B,QAA1B,CAAtC,EAA2E;gBACzEw/B,aAAa,GAAG,IAAhB;gBACA,OAAO,KAAP;cACD;YACF,CALD;YAMA,OAAOA,aAAP;UACD,CAxFC;UAyFF16B,MAAM,EAAE,YAAW;YACjB,OAAO9O,OAAO,CAACwK,QAAR,CAAiBzD,SAAS,CAAC+H,MAA3B,CAAP;UACD,CA3FC;UA4FF8mB,eAAe,EAAE,YAAW;YAC1B,OAASx1B,MAAM,CAAC6Q,GAAP,CAAWnC,MAAX,MAAuB6iB,OAAO,CAACloB,MAAR,CAAevD,QAAQ,CAACyE,QAAxB,EAAkCjI,MAAlC,KAA6C,CAA7E;UACD,CA9FC;UA+FFqzB,SAAS,EAAE,YAAW;YACpB,OAAO/1B,OAAO,CAACwK,QAAR,CAAiBzD,SAAS,CAACgvB,SAA3B,CAAP;UACD,CAjGC;UAkGF0S,SAAS,EAAE,UAASlmC,KAAT,EAAgB;YACzB,OAAQlE,CAAC,CAAC+Z,OAAF,CAAU7V,KAAV,EAAiBnC,MAAM,CAACiH,GAAP,CAAW8sB,UAAX,EAAjB,MAA8C,CAAC,CAAvD;UACD,CApGC;UAqGFsN,MAAM,EAAE,UAASvP,KAAT,EAAgB;YACtB,IAAI1oB,QAAQ,GAAG0oB,KAAK,IAAIlyB,OAAxB;YACA,OAAOwJ,QAAQ,CAACgB,QAAT,CAAkBzD,SAAS,CAAC06B,MAA5B,CAAP;UACD,CAxGC;UAyGF9N,OAAO,EAAE,UAASuJ,QAAT,EAAmB;YAC1B,OAAQA,QAAD,GACHA,QAAQ,CAAC1yB,QAAT,CAAkBzD,SAAS,CAAC4sB,OAA5B,CADG,GAEHzB,KAAK,CAAC1nB,QAAN,CAAezD,SAAS,CAAC4sB,OAAzB,CAFJ;UAID,CA9GC;UA+GF8V,2BAA2B,EAAE,YAAW;YACtC,IACEC,SAAS,GAAIjY,QAAQ,CAACpqB,GAAT,CAAa,CAAb,MAAoB/I,MAArB,GACRmzB,QAAQ,CAACtV,GAAT,CAAa,YAAb,CADQ,GAER,KAHN;YAKA,OAAQutB,SAAS,IAAI,MAAb,IAAuBA,SAAS,IAAI,QAA5C;UACD,CAtHC;UAuHFC,6BAA6B,EAAE,YAAW;YACxC,IACEC,SAAS,GAAInY,QAAQ,CAACpqB,GAAT,CAAa,CAAb,MAAoB/I,MAArB,GACRmzB,QAAQ,CAACtV,GAAT,CAAa,YAAb,CADQ,GAER,KAHN;YAKA,OAAQytB,SAAS,IAAI,MAAb,IAAuBA,SAAS,IAAI,QAA5C;UACD;QA9HC,CA7rGG;QA8zGPx/B,GAAG,EAAE;UACH82B,QAAQ,EAAE,UAAS9O,KAAT,EAAgB;YACxB,IAAG3yB,QAAQ,CAACk5B,SAAZ,EAAuB;cACrB,OAAO,IAAP;YACD;;YACD,IAAG,CAACv4B,MAAM,CAAC6Q,GAAP,CAAW8lB,aAAX,EAAJ,EAAgC;cAC9B,OAAO,IAAP;YACD;;YACD,IAAG32B,MAAM,CAAC6Q,GAAP,CAAW8lB,aAAX,MAA8B3E,KAAK,CAAC5nB,QAAN,CAAezD,SAAS,CAAC8S,MAAzB,CAAjC,EAAmE;cACjE,OAAO,IAAP;YACD;;YACD,OAAO,KAAP;UACD,CAZE;UAaHysB,YAAY,EAAE,UAASpJ,QAAT,EAAmB;YAC/B,IACEuJ,YAAY,GAAMvJ,QAAQ,IAAIhL,KADhC;YAAA,IAEE2X,eAAe,GAAG,IAFpB;YAAA,IAGEC,QAAQ,GAAU,EAHpB;YAAA,IAIEC,YAJF;YAMAtD,YAAY,CACT/0B,QADH,CACY3K,SAAS,CAACu+B,OADtB;YAGAyE,YAAY,GAAG;cACb5lC,OAAO,EAAE;gBACP2hB,MAAM,EAAO2L,QAAQ,CAACpqB,GAAT,CAAa,CAAb,MAAoB/I,MAArB,GACR;kBAAE0nC,GAAG,EAAE,CAAP;kBAAUjgB,IAAI,EAAE;gBAAhB,CADQ,GAER0L,QAAQ,CAAC3L,MAAT,EAHG;gBAIP2e,SAAS,EAAGhT,QAAQ,CAACgT,SAAT,EAJL;gBAKPhU,MAAM,EAAMgB,QAAQ,CAAC8S,WAAT;cALL,CADI;cAQbpS,IAAI,EAAG;gBACLrM,MAAM,EAAE2gB,YAAY,CAAC3gB,MAAb,EADH;gBAEL2K,MAAM,EAAEgW,YAAY,CAAClC,WAAb;cAFH;YARM,CAAf;;YAaA,IAAGnkC,MAAM,CAAC4J,EAAP,CAAUy/B,2BAAV,EAAH,EAA4C;cAC1CM,YAAY,CAAC5X,IAAb,CAAkBrM,MAAlB,CAAyBkgB,GAAzB,IAAgC+D,YAAY,CAAC5lC,OAAb,CAAqBsgC,SAArD;YACD;;YACD,IAAGrkC,MAAM,CAAC6Q,GAAP,CAAW23B,OAAX,CAAmBnC,YAAnB,CAAH,EAAqC;cACnCsD,YAAY,CAAC5X,IAAb,CAAkB1B,MAAlB,IAA4BgW,YAAY,CAAC5+B,IAAb,CAAkB3B,QAAQ,CAACisB,IAA3B,EAAiCze,KAAjC,GAAyC6wB,WAAzC,EAA5B;YACD;;YACDuF,QAAQ,GAAG;cACTE,KAAK,EAAID,YAAY,CAAC5lC,OAAb,CAAqBsgC,SAAtB,IAAoCsF,YAAY,CAAC5X,IAAb,CAAkBrM,MAAlB,CAAyBkgB,GAAzB,GAA+B+D,YAAY,CAAC5lC,OAAb,CAAqB2hB,MAArB,CAA4BkgB,GAA3D,GAAiE+D,YAAY,CAAC5X,IAAb,CAAkB1B,MADtH;cAETwZ,KAAK,EAAIF,YAAY,CAAC5lC,OAAb,CAAqBsgC,SAArB,GAAiCsF,YAAY,CAAC5lC,OAAb,CAAqBssB,MAAvD,IAAkEsZ,YAAY,CAAC5X,IAAb,CAAkBrM,MAAlB,CAAyBkgB,GAAzB,GAA+B+D,YAAY,CAAC5lC,OAAb,CAAqB2hB,MAArB,CAA4BkgB,GAA3D,GAAiE+D,YAAY,CAAC5X,IAAb,CAAkB1B;YAFpJ,CAAX;;YAIA,IAAGqZ,QAAQ,CAACG,KAAZ,EAAmB;cACjB7pC,MAAM,CAACI,OAAP,CAAe,sCAAf,EAAuDspC,QAAvD;cACAD,eAAe,GAAG,IAAlB;YACD,CAHD,MAIK,IAAG,CAACC,QAAQ,CAACG,KAAV,IAAmB,CAACH,QAAQ,CAACE,KAAhC,EAAuC;cAC1C5pC,MAAM,CAACI,OAAP,CAAe,4DAAf,EAA6EspC,QAA7E;cACAD,eAAe,GAAG,IAAlB;YACD,CAHI,MAIA;cACHzpC,MAAM,CAACI,OAAP,CAAe,2CAAf,EAA4DspC,QAA5D;cACAD,eAAe,GAAG,KAAlB;YACD;;YACDpD,YAAY,CAACh8B,WAAb,CAAyB1D,SAAS,CAACu+B,OAAnC;YACA,OAAOuE,eAAP;UACD,CA5DE;UA6DHrD,aAAa,EAAE,UAAStJ,QAAT,EAAmB;YAChC,IACEuJ,YAAY,GAAOvJ,QAAQ,IAAIhL,KADjC;YAAA,IAEEgY,gBAAgB,GAAG,IAFrB;YAAA,IAGEC,gBAAgB,GAAG,KAHrB;YAAA,IAIEJ,YAJF;YAMAtD,YAAY,CACT/0B,QADH,CACY3K,SAAS,CAACu+B,OADtB;YAGAyE,YAAY,GAAG;cACb5lC,OAAO,EAAE;gBACP2hB,MAAM,EAAQ2L,QAAQ,CAACpqB,GAAT,CAAa,CAAb,MAAoB/I,MAArB,GACT;kBAAE0nC,GAAG,EAAE,CAAP;kBAAUjgB,IAAI,EAAE;gBAAhB,CADS,GAET0L,QAAQ,CAAC3L,MAAT,EAHG;gBAIPskB,UAAU,EAAG3Y,QAAQ,CAAC2Y,UAAT,EAJN;gBAKP1kB,KAAK,EAAQ+L,QAAQ,CAAC4Y,UAAT;cALN,CADI;cAQblY,IAAI,EAAE;gBACJrM,MAAM,EAAG2gB,YAAY,CAAC3gB,MAAb,EADL;gBAEJJ,KAAK,EAAI+gB,YAAY,CAAC4D,UAAb;cAFL;YARO,CAAf;;YAaA,IAAGjqC,MAAM,CAAC4J,EAAP,CAAU2/B,6BAAV,EAAH,EAA8C;cAC5CI,YAAY,CAAC5X,IAAb,CAAkBrM,MAAlB,CAAyBC,IAAzB,IAAiCgkB,YAAY,CAAC5lC,OAAb,CAAqBimC,UAAtD;YACD;;YACDD,gBAAgB,GAAIJ,YAAY,CAAC5X,IAAb,CAAkBrM,MAAlB,CAAyBC,IAAzB,GAAgCgkB,YAAY,CAAC5lC,OAAb,CAAqB2hB,MAArB,CAA4BC,IAA5D,GAAmEgkB,YAAY,CAAC5X,IAAb,CAAkBzM,KAArF,IAA8FqkB,YAAY,CAAC5lC,OAAb,CAAqBimC,UAArB,GAAkCL,YAAY,CAAC5lC,OAAb,CAAqBuhB,KAAzK;;YACA,IAAGykB,gBAAH,EAAqB;cACnB/pC,MAAM,CAACI,OAAP,CAAe,0CAAf,EAA2D2pC,gBAA3D;cACAD,gBAAgB,GAAG,KAAnB;YACD;;YACDzD,YAAY,CAACh8B,WAAb,CAAyB1D,SAAS,CAACu+B,OAAnC;YACA,OAAO4E,gBAAP;UACD,CA9FE;UA+FH7wB,KAAK,EAAE,YAAW;YAChB,OAAQkY,QAAQ,IAAI9xB,QAAQ,CAAC2I,EAAT,IAAe,OAAnC;UACD,CAjGE;UAkGH2+B,YAAY,EAAE,YAAW;YACvB,OAAOtnC,QAAQ,CAAC84B,cAAT,IAA2B94B,QAAQ,CAAC41B,WAA3C;UACD,CApGE;UAqGH5I,IAAI,EAAE,YAAW;YACf,OAAO,CAACrsB,MAAM,CAAC4J,EAAP,CAAU7H,QAAV,EAAD,KAA0B/B,MAAM,CAAC6Q,GAAP,CAAW03B,KAAX,MAAsBvoC,MAAM,CAAC6Q,GAAP,CAAW1N,OAAX,EAAhD,CAAP;UACD,CAvGE;UAwGHq1B,MAAM,EAAE,YAAW;YACjB,OAAOv6B,CAAC,CAACQ,EAAF,CAAKu2B,GAAL,KAAa52B,SAApB;UACD;QA1GE,CA9zGE;QA26GPsc,OAAO,EAAE;UACP2R,IAAI,EAAE,UAAShrB,QAAT,EAAmBy7B,QAAnB,EAA6B;YACjC,IACEuJ,YAAY,GAAGvJ,QAAQ,IAAIhL,KAD7B;YAAA,IAEEoY,KAAK,GAAIpN,QAAD,GACJ,YAAW,CAAE,CADT,GAEJ,YAAW;cACX98B,MAAM,CAACq3B,YAAP;cACAr3B,MAAM,CAACm3B,UAAP;cACAn3B,MAAM,CAACoH,GAAP,CAAWqS,MAAX;YACD,CARL;YAAA,IASE9H,UATF;YAWAtQ,QAAQ,GAAGpD,CAAC,CAACI,UAAF,CAAagD,QAAb,IACPA,QADO,GAEP,YAAU,CAAE,CAFhB;YAIArB,MAAM,CAACI,OAAP,CAAe,2BAAf,EAA4CimC,YAA5C;YACArmC,MAAM,CAACoH,GAAP,CAAW48B,SAAX,CAAqBlH,QAArB;YACAnrB,UAAU,GAAGtS,QAAQ,CAACsS,UAAT,CAAoBwe,UAApB,IAAkCnwB,MAAM,CAACiH,GAAP,CAAW0K,UAAX,CAAsBmrB,QAAtB,CAA/C;;YACA,IAAI98B,MAAM,CAAC4J,EAAP,CAAU+rB,SAAV,EAAJ,EAA4B;cAC1B31B,MAAM,CAACoH,GAAP,CAAWo2B,cAAX,CAA0Bx9B,MAAM,CAACiH,GAAP,CAAWutB,YAAX,EAA1B,EAAqD,IAArD;YACD;;YACD,IAAIx0B,MAAM,CAAC4J,EAAP,CAAU6iB,MAAV,CAAiB4Z,YAAjB,KAAkCrmC,MAAM,CAAC4J,EAAP,CAAU2P,SAAV,CAAoB8sB,YAApB,CAAtC,EAA0E;cACxE,IAAG10B,UAAU,KAAK,MAAlB,EAA0B;gBACxBu4B,KAAK;gBACL7D,YAAY,CAAC10B,UAAb,CAAwB;kBACtBue,WAAW,EAAElwB,MAAM,CAACiH,GAAP,CAAWipB,WAAX;gBADS,CAAxB,EAEGve,UAFH,CAEc,MAFd;gBAGAtQ,QAAQ,CAACjC,IAAT,CAAcS,OAAd;cACD,CAND,MAOK,IAAG5B,CAAC,CAACQ,EAAF,CAAKkT,UAAL,KAAoBvT,SAApB,IAAiCwB,OAAO,CAAC+R,UAAR,CAAmB,cAAnB,CAApC,EAAwE;gBAC3E00B,YAAY,CACT10B,UADH,CACc;kBACV0I,SAAS,EAAI1I,UAAU,GAAG,KADhB;kBAEVlR,KAAK,EAAQpB,QAAQ,CAACoB,KAFZ;kBAGVL,OAAO,EAAMf,QAAQ,CAACe,OAHZ;kBAIVwR,QAAQ,EAAKvS,QAAQ,CAACsS,UAAT,CAAoB8e,YAApB,IAAoCpxB,QAAQ,CAACuS,QAJhD;kBAKV0I,KAAK,EAAQ,IALH;kBAMV8V,OAAO,EAAM8Z,KANH;kBAOVha,WAAW,EAAElwB,MAAM,CAACiH,GAAP,CAAWipB,WAAX,EAPH;kBAQVzV,UAAU,EAAG,YAAW;oBACtBpZ,QAAQ,CAACjC,IAAT,CAAcS,OAAd;kBACD;gBAVS,CADd;cAcD,CAfI,MAgBA;gBACHG,MAAM,CAACP,KAAP,CAAaA,KAAK,CAAC0qC,YAAnB,EAAiCx4B,UAAjC;cACD;YACF;UACF,CAnDM;UAoDPya,IAAI,EAAE,UAAS/qB,QAAT,EAAmBy7B,QAAnB,EAA6B;YACjC,IACEuJ,YAAY,GAAGvJ,QAAQ,IAAIhL,KAD7B;YAAA,IAEEoY,KAAK,GAAIpN,QAAD,GACJ,YAAW,CAAE,CADT,GAEJ,YAAW;cACX,IAAI98B,MAAM,CAACgK,GAAP,CAAWiP,KAAX,EAAJ,EAAyB;gBACvBjZ,MAAM,CAACud,MAAP,CAAcuZ,MAAd;cACD;;cACD92B,MAAM,CAACsK,MAAP,CAAcmP,MAAd;YACD,CATL;YAAA,IAUE9H,UAAU,GAAGtS,QAAQ,CAACsS,UAAT,CAAoB4e,UAApB,IAAkCvwB,MAAM,CAACiH,GAAP,CAAW0K,UAAX,CAAsBmrB,QAAtB,CAVjD;YAYAz7B,QAAQ,GAAGpD,CAAC,CAACI,UAAF,CAAagD,QAAb,IACPA,QADO,GAEP,YAAU,CAAE,CAFhB;;YAIA,IAAIrB,MAAM,CAAC4J,EAAP,CAAU2pB,OAAV,CAAkB8S,YAAlB,KAAmCrmC,MAAM,CAAC4J,EAAP,CAAU2P,SAAV,CAAoB8sB,YAApB,CAAvC,EAA2E;cACzErmC,MAAM,CAACI,OAAP,CAAe,2BAAf,EAA4CimC,YAA5C;;cAEA,IAAG10B,UAAU,KAAK,MAAlB,EAA0B;gBACxBu4B,KAAK;gBACL7D,YAAY,CAAC10B,UAAb,CAAwB;kBACtBue,WAAW,EAAElwB,MAAM,CAACiH,GAAP,CAAWipB,WAAX;gBADS,CAAxB,EAEGve,UAFH,CAEc,MAFd;gBAGAtQ,QAAQ,CAACjC,IAAT,CAAcS,OAAd;cACD,CAND,MAOK,IAAG5B,CAAC,CAACQ,EAAF,CAAKkT,UAAL,KAAoBvT,SAApB,IAAiCwB,OAAO,CAAC+R,UAAR,CAAmB,cAAnB,CAApC,EAAwE;gBAC3E00B,YAAY,CACT10B,UADH,CACc;kBACV0I,SAAS,EAAI1I,UAAU,GAAG,MADhB;kBAEVC,QAAQ,EAAKvS,QAAQ,CAACsS,UAAT,CAAoB6e,YAApB,IAAoCnxB,QAAQ,CAACuS,QAFhD;kBAGVnR,KAAK,EAAQpB,QAAQ,CAACoB,KAHZ;kBAIVL,OAAO,EAAMf,QAAQ,CAACe,OAJZ;kBAKVka,KAAK,EAAQ,KALH;kBAMV8V,OAAO,EAAM8Z,KANH;kBAOVha,WAAW,EAAElwB,MAAM,CAACiH,GAAP,CAAWipB,WAAX,EAPH;kBAQVzV,UAAU,EAAG,YAAW;oBACtBpZ,QAAQ,CAACjC,IAAT,CAAcS,OAAd;kBACD;gBAVS,CADd;cAcD,CAfI,MAgBA;gBACHG,MAAM,CAACP,KAAP,CAAaA,KAAK,CAACkS,UAAnB;cACD;YACF;UACF;QAnGM,CA36GF;QAihHPovB,YAAY,EAAE,YAAW;UACvB/gC,MAAM,CAACsK,MAAP,CAAcwtB,UAAd;;UACA,IAAI93B,MAAM,CAAC6Q,GAAP,CAAW8lB,aAAX,EAAJ,EAAiC;YAC/B;UACD;;UACD,IAAG32B,MAAM,CAAC6Q,GAAP,CAAWnC,MAAX,EAAH,EAAwB;YACtB1O,MAAM,CAACosB,IAAP,CAAY,YAAW;cACrBpsB,MAAM,CAACsK,MAAP,CAAc4vB,YAAd;YACD,CAFD;UAGD,CAJD,MAKK;YACHl6B,MAAM,CAACosB,IAAP;UACD;QACF,CA9hHM;QAgiHP3e,KAAK,EAAE;UACL4e,IAAI,EAAE,YAAW;YACfrsB,MAAM,CAACI,OAAP,CAAe,2CAAf;YACAmD,YAAY,CAACvD,MAAM,CAACwD,KAAR,CAAZ;YACAxD,MAAM,CAACwD,KAAP,GAAelC,UAAU,CAACtB,MAAM,CAACqsB,IAAR,EAAchtB,QAAQ,CAACoO,KAAT,CAAe4e,IAA7B,CAAzB;UACD,CALI;UAMLD,IAAI,EAAE,YAAW;YACfpsB,MAAM,CAACI,OAAP,CAAe,2CAAf;YACAmD,YAAY,CAACvD,MAAM,CAACwD,KAAR,CAAZ;YACAxD,MAAM,CAACwD,KAAP,GAAelC,UAAU,CAACtB,MAAM,CAACosB,IAAR,EAAc/sB,QAAQ,CAACoO,KAAT,CAAe2e,IAA7B,CAAzB;UACD;QAVI,CAhiHA;QA6iHPlf,MAAM,EAAE;UACN/K,KAAK,EAAE,UAASA,KAAT,EAAgB;YACrB,IACEioC,cAAc,GAAG1lC,KAAK,CAACC,OAAN,CAAcxC,KAAd,CADnB;YAAA,IAEEqkC,WAAW,GAAO,OAAOrkC,KAAP,KAAiB,QAFrC;YAAA,IAGEkoC,YAAY,GAAM,CAAC7D,WAAD,IAAgB,CAAC4D,cAHrC;YAAA,IAIEE,SAAS,GAAS9D,WAAW,IAAIrkC,KAAK,CAACuM,MAAN,CAAa9H,MAAM,CAAC2jC,KAApB,MAA+B,CAAC,CAJnE;YAAA,IAKEt6B,MAAM,GAAW,EALnB;;YAOA,IAAGo6B,YAAY,IAAI,CAACC,SAApB,EAA+B;cAC7B,OAAOnoC,KAAP;YACD;;YACDnC,MAAM,CAACS,KAAP,CAAa,yCAAb,EAAwD0B,KAAxD;;YACA,IAAGioC,cAAH,EAAmB;cACjBnsC,CAAC,CAAC2D,IAAF,CAAOO,KAAP,EAAc,UAASN,KAAT,EAAgBM,KAAhB,EAAsB;gBAClC8N,MAAM,CAACnO,IAAP,CAAYK,KAAK,CAAC4L,OAAN,CAAcnH,MAAM,CAAC2jC,KAArB,EAA4B,QAA5B,CAAZ;cACD,CAFD;cAGA,OAAOt6B,MAAP;YACD;;YACD,OAAO9N,KAAK,CAAC4L,OAAN,CAAcnH,MAAM,CAAC2jC,KAArB,EAA4B,QAA5B,CAAP;UACD,CApBK;UAqBN76B,MAAM,EAAE,UAAS/B,IAAT,EAAe;YACrBA,IAAI,GAAI/B,MAAM,CAAC+B,IAAD,CAAd;YACA,OAAOA,IAAI,CAACI,OAAL,CAAanH,MAAM,CAACsG,MAApB,EAA4B,MAA5B,CAAP;UACD,CAxBK;UAyBNorB,YAAY,EAAE,UAAS5oB,MAAT,EAAiB;YAC3B,IACI86B,QAAQ,GAAO,UADnB;YAAA,IAEIC,YAAY,GAAG,UAFnB;YAAA,IAGIv9B,MAAM,GAAS;cACX,KAAK,MADM;cAEX,KAAK,MAFM;cAGX,KAAK,QAHM;cAIX,KAAK,QAJM;cAKX,KAAK;YALM,CAHnB;YAAA,IAUIw9B,WAAW,GAAI,UAASC,GAAT,EAAc;cACzB,OAAOz9B,MAAM,CAACy9B,GAAD,CAAb;YACH,CAZL;;YAcA,IAAGF,YAAY,CAACp+B,IAAb,CAAkBqD,MAAlB,CAAH,EAA8B;cAC1BA,MAAM,GAAGA,MAAM,CAAC3B,OAAP,CAAe,sBAAf,EAAuC,OAAvC,CAAT;cACA,OAAO2B,MAAM,CAAC3B,OAAP,CAAey8B,QAAf,EAAyBE,WAAzB,CAAP;YACH;;YACD,OAAOh7B,MAAP;UACH;QA7CK,CA7iHD;QA6lHPxN,OAAO,EAAE,UAASV,IAAT,EAAeW,KAAf,EAAsB;UAC7BnC,MAAM,CAACS,KAAP,CAAa,kBAAb,EAAiCe,IAAjC,EAAuCW,KAAvC;;UACA,IAAIlE,CAAC,CAACqB,aAAF,CAAgBkC,IAAhB,CAAJ,EAA4B;YAC1BvD,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAeF,QAAf,EAAyBmC,IAAzB;UACD,CAFD,MAGK,IAAGW,KAAK,KAAK/D,SAAb,EAAwB;YAC3B,IAAGH,CAAC,CAACqB,aAAF,CAAgBD,QAAQ,CAACmC,IAAD,CAAxB,CAAH,EAAoC;cAClCvD,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAeF,QAAQ,CAACmC,IAAD,CAAvB,EAA+BW,KAA/B;YACD,CAFD,MAGK;cACH9C,QAAQ,CAACmC,IAAD,CAAR,GAAiBW,KAAjB;YACD;UACF,CAPI,MAQA;YACH,OAAO9C,QAAQ,CAACmC,IAAD,CAAf;UACD;QACF,CA7mHM;QA8mHPsB,QAAQ,EAAE,UAAStB,IAAT,EAAeW,KAAf,EAAsB;UAC9B,IAAIlE,CAAC,CAACqB,aAAF,CAAgBkC,IAAhB,CAAJ,EAA4B;YAC1BvD,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAeS,MAAf,EAAuBwB,IAAvB;UACD,CAFD,MAGK,IAAGW,KAAK,KAAK/D,SAAb,EAAwB;YAC3B4B,MAAM,CAACwB,IAAD,CAAN,GAAeW,KAAf;UACD,CAFI,MAGA;YACH,OAAOnC,MAAM,CAACwB,IAAD,CAAb;UACD;QACF,CAxnHM;QAynHPf,KAAK,EAAE,YAAW;UAChB,IAAG,CAACpB,QAAQ,CAACgV,MAAV,IAAoBhV,QAAQ,CAACoB,KAAhC,EAAuC;YACrC,IAAGpB,QAAQ,CAACP,WAAZ,EAAyB;cACvBkB,MAAM,CAAClB,WAAP,CAAmB4B,GAAnB,CAAuB1B,SAAvB;YACD,CAFD,MAGK;cACHgB,MAAM,CAACS,KAAP,GAAesC,QAAQ,CAACC,SAAT,CAAmBC,IAAnB,CAAwB7D,IAAxB,CAA6BmB,OAAO,CAACmC,IAArC,EAA2CnC,OAA3C,EAAoDlB,QAAQ,CAACmC,IAAT,GAAgB,GAApE,CAAf;cACAxB,MAAM,CAACS,KAAP,CAAayC,KAAb,CAAmB3C,OAAnB,EAA4BvB,SAA5B;YACD;UACF;QACF,CAnoHM;QAooHPoB,OAAO,EAAE,YAAW;UAClB,IAAG,CAACf,QAAQ,CAACgV,MAAV,IAAoBhV,QAAQ,CAACe,OAA7B,IAAwCf,QAAQ,CAACoB,KAApD,EAA2D;YACzD,IAAGpB,QAAQ,CAACP,WAAZ,EAAyB;cACvBkB,MAAM,CAAClB,WAAP,CAAmB4B,GAAnB,CAAuB1B,SAAvB;YACD,CAFD,MAGK;cACHgB,MAAM,CAACI,OAAP,GAAiB2C,QAAQ,CAACC,SAAT,CAAmBC,IAAnB,CAAwB7D,IAAxB,CAA6BmB,OAAO,CAACmC,IAArC,EAA2CnC,OAA3C,EAAoDlB,QAAQ,CAACmC,IAAT,GAAgB,GAApE,CAAjB;cACAxB,MAAM,CAACI,OAAP,CAAe8C,KAAf,CAAqB3C,OAArB,EAA8BvB,SAA9B;YACD;UACF;QACF,CA9oHM;QA+oHPS,KAAK,EAAE,YAAW;UAChB,IAAG,CAACJ,QAAQ,CAACgV,MAAb,EAAqB;YACnBrU,MAAM,CAACP,KAAP,GAAesD,QAAQ,CAACC,SAAT,CAAmBC,IAAnB,CAAwB7D,IAAxB,CAA6BmB,OAAO,CAACd,KAArC,EAA4Cc,OAA5C,EAAqDlB,QAAQ,CAACmC,IAAT,GAAgB,GAArE,CAAf;YACAxB,MAAM,CAACP,KAAP,CAAayD,KAAb,CAAmB3C,OAAnB,EAA4BvB,SAA5B;UACD;QACF,CAppHM;QAqpHPF,WAAW,EAAE;UACX4B,GAAG,EAAE,UAASyC,OAAT,EAAkB;YACrB,IACEC,WADF,EAEEC,aAFF,EAGEC,YAHF;;YAKA,IAAGjE,QAAQ,CAACP,WAAZ,EAAyB;cACvBsE,WAAW,GAAK,IAAIxE,IAAJ,GAAWC,OAAX,EAAhB;cACAyE,YAAY,GAAI3E,IAAI,IAAIyE,WAAxB;cACAC,aAAa,GAAGD,WAAW,GAAGE,YAA9B;cACA3E,IAAI,GAAYyE,WAAhB;cACAtE,WAAW,CAACgD,IAAZ,CAAiB;gBACf,QAAmBqB,OAAO,CAAC,CAAD,CADX;gBAEf,aAAmB,GAAGhE,KAAH,CAASC,IAAT,CAAc+D,OAAd,EAAuB,CAAvB,KAA6B,EAFjC;gBAGf,WAAmBtD,OAHJ;gBAIf,kBAAmBwD;cAJJ,CAAjB;YAMD;;YACDE,YAAY,CAACvD,MAAM,CAAClB,WAAP,CAAmB0E,KAApB,CAAZ;YACAxD,MAAM,CAAClB,WAAP,CAAmB0E,KAAnB,GAA2BlC,UAAU,CAACtB,MAAM,CAAClB,WAAP,CAAmB2E,OAApB,EAA6B,GAA7B,CAArC;UACD,CArBU;UAsBXA,OAAO,EAAE,YAAW;YAClB,IACEC,KAAK,GAAGrE,QAAQ,CAACmC,IAAT,GAAgB,GAD1B;YAAA,IAEEmC,SAAS,GAAG,CAFd;YAIAhF,IAAI,GAAG,KAAP;YACA4E,YAAY,CAACvD,MAAM,CAAClB,WAAP,CAAmB0E,KAApB,CAAZ;YACAvF,CAAC,CAAC2D,IAAF,CAAO9C,WAAP,EAAoB,UAAS+C,KAAT,EAAgB9B,IAAhB,EAAsB;cACxC4D,SAAS,IAAI5D,IAAI,CAAC,gBAAD,CAAjB;YACD,CAFD;YAGA2D,KAAK,IAAI,MAAMC,SAAN,GAAkB,IAA3B;;YACA,IAAGkC,cAAH,EAAmB;cACjBnC,KAAK,IAAI,QAAQmC,cAAR,GAAyB,IAAlC;YACD;;YACD,IAAI,CAACtF,OAAO,CAACK,KAAR,KAAkBxC,SAAlB,IAA+BmC,OAAO,CAACqD,KAAR,KAAkBxF,SAAlD,KAAgEU,WAAW,CAACwD,MAAZ,GAAqB,CAAzF,EAA4F;cAC1F/B,OAAO,CAACO,cAAR,CAAuB4C,KAAvB;;cACA,IAAGnD,OAAO,CAACqD,KAAX,EAAkB;gBAChBrD,OAAO,CAACqD,KAAR,CAAc9E,WAAd;cACD,CAFD,MAGK;gBACHb,CAAC,CAAC2D,IAAF,CAAO9C,WAAP,EAAoB,UAAS+C,KAAT,EAAgB9B,IAAhB,EAAsB;kBACxCQ,OAAO,CAACG,GAAR,CAAYX,IAAI,CAAC,MAAD,CAAJ,GAAe,IAAf,GAAsBA,IAAI,CAAC,gBAAD,CAA1B,GAA6C,IAAzD;gBACD,CAFD;cAGD;;cACDQ,OAAO,CAACM,QAAR;YACD;;YACD/B,WAAW,GAAG,EAAd;UACD;QAjDU,CArpHN;QAwsHP+E,MAAM,EAAE,UAAS9E,KAAT,EAAgB+E,eAAhB,EAAiCC,OAAjC,EAA0C;UAChD,IACEC,MAAM,GAAGlE,QADX;UAAA,IAEEmE,QAFF;UAAA,IAGEC,KAHF;UAAA,IAIEC,QAJF;UAMAL,eAAe,GAAGA,eAAe,IAAI5E,cAArC;UACA6E,OAAO,GAAWlE,OAAO,IAAYkE,OAArC;;UACA,IAAG,OAAOhF,KAAP,IAAgB,QAAhB,IAA4BiF,MAAM,KAAK5F,SAA1C,EAAqD;YACnDW,KAAK,GAAMA,KAAK,CAACqF,KAAN,CAAY,OAAZ,CAAX;YACAH,QAAQ,GAAGlF,KAAK,CAACuD,MAAN,GAAe,CAA1B;YACArE,CAAC,CAAC2D,IAAF,CAAO7C,KAAP,EAAc,UAASsF,KAAT,EAAgBlC,KAAhB,EAAuB;cACnC,IAAImC,cAAc,GAAID,KAAK,IAAIJ,QAAV,GACjB9B,KAAK,GAAGpD,KAAK,CAACsF,KAAK,GAAG,CAAT,CAAL,CAAiBE,MAAjB,CAAwB,CAAxB,EAA2BC,WAA3B,EAAR,GAAmDzF,KAAK,CAACsF,KAAK,GAAG,CAAT,CAAL,CAAiBlF,KAAjB,CAAuB,CAAvB,CADlC,GAEjBJ,KAFJ;;cAIA,IAAId,CAAC,CAACqB,aAAF,CAAiB0E,MAAM,CAACM,cAAD,CAAvB,KAA8CD,KAAK,IAAIJ,QAA3D,EAAuE;gBACrED,MAAM,GAAGA,MAAM,CAACM,cAAD,CAAf;cACD,CAFD,MAGK,IAAIN,MAAM,CAACM,cAAD,CAAN,KAA2BlG,SAA/B,EAA2C;gBAC9C8F,KAAK,GAAGF,MAAM,CAACM,cAAD,CAAd;gBACA,OAAO,KAAP;cACD,CAHI,MAIA,IAAIrG,CAAC,CAACqB,aAAF,CAAiB0E,MAAM,CAAC7B,KAAD,CAAvB,KAAqCkC,KAAK,IAAIJ,QAAlD,EAA8D;gBACjED,MAAM,GAAGA,MAAM,CAAC7B,KAAD,CAAf;cACD,CAFI,MAGA,IAAI6B,MAAM,CAAC7B,KAAD,CAAN,KAAkB/D,SAAtB,EAAkC;gBACrC8F,KAAK,GAAGF,MAAM,CAAC7B,KAAD,CAAd;gBACA,OAAO,KAAP;cACD,CAHI,MAIA;gBACHnC,MAAM,CAACP,KAAP,CAAaA,KAAK,CAACgF,MAAnB,EAA2B1F,KAA3B;gBACA,OAAO,KAAP;cACD;YACF,CAvBD;UAwBD;;UACD,IAAKd,CAAC,CAACI,UAAF,CAAc6F,KAAd,CAAL,EAA6B;YAC3BC,QAAQ,GAAGD,KAAK,CAAChB,KAAN,CAAYa,OAAZ,EAAqBD,eAArB,CAAX;UACD,CAFD,MAGK,IAAGI,KAAK,KAAK9F,SAAb,EAAwB;YAC3B+F,QAAQ,GAAGD,KAAX;UACD;;UACD,IAAGQ,KAAK,CAACC,OAAN,CAAc1E,aAAd,CAAH,EAAiC;YAC/BA,aAAa,CAAC6B,IAAd,CAAmBqC,QAAnB;UACD,CAFD,MAGK,IAAGlE,aAAa,KAAK7B,SAArB,EAAgC;YACnC6B,aAAa,GAAG,CAACA,aAAD,EAAgBkE,QAAhB,CAAhB;UACD,CAFI,MAGA,IAAGA,QAAQ,KAAK/F,SAAhB,EAA2B;YAC9B6B,aAAa,GAAGkE,QAAhB;UACD;;UACD,OAAOD,KAAP;QACD;MA7vHM,CAAT;;MAgwHA,IAAGjF,aAAH,EAAkB;QAChB,IAAGa,QAAQ,KAAK1B,SAAhB,EAA2B;UACzB4B,MAAM,CAACE,UAAP;QACD;;QACDF,MAAM,CAAC6D,MAAP,CAAc9E,KAAd;MACD,CALD,MAMK;QACH,IAAGe,QAAQ,KAAK1B,SAAhB,EAA2B;UACzB0B,QAAQ,CAAC+D,MAAT,CAAgB,SAAhB;QACD;;QACD7D,MAAM,CAACE,UAAP;MACD;IACF,CAt0HH;IAw0HA,OAAQD,aAAa,KAAK7B,SAAnB,GACH6B,aADG,GAEH2F,WAFJ;EAID,CAj2HD;;EAm2HA3H,CAAC,CAACQ,EAAF,CAAK8L,QAAL,CAAclL,QAAd,GAAyB;IAEvBgV,MAAM,EAAmB,KAFF;IAGvB5T,KAAK,EAAoB,KAHF;IAIvBL,OAAO,EAAkB,KAJF;IAKvBtB,WAAW,EAAc,IALF;IAOvBkJ,EAAE,EAAuB,OAPF;IAOc;IACrCD,MAAM,EAAmB,UARF;IAQc;IAErCkI,MAAM,EAAmB,KAVF;IAUc;IAErCmlB,SAAS,EAAgB,KAZF;IAYc;IAErCH,WAAW,EAAc,KAdF;IAevB8K,eAAe,EAAU,IAfF;IAec;IACrCzL,aAAa,EAAY,CAhBF;IAgBc;IAErCmE,gBAAgB,EAAS,KAlBF;IAkBc;IACrC+K,cAAc,EAAW,IAnBF;IAmBc;IAErCvK,QAAQ,EAAiB,GArBF;IAqBc;IAErCl1B,OAAO,EAAkB7F,MAvBF;IAuBc;IACrC8lC,SAAS,EAAgB,MAxBF;IAwBc;IACrC4G,YAAY,EAAa,IAzBF;IAyBc;IAErCrlC,KAAK,EAAoB,MA3BF;IA2Bc;IACrCu0B,cAAc,EAAW,KA5BF;IA4Bc;IACrC9G,gBAAgB,EAAS,KA7BF;IA6Bc;IACrCd,YAAY,EAAa,KA9BF;IA8Bc;IAErC+O,WAAW,EAAc,MAhCF;IAgCc;IACrCrL,YAAY,EAAa,IAjCF;IAiCc;IACrC2M,UAAU,EAAe,KAlCF;IAkCc;IAErCzH,cAAc,EAAW,IApCF;IAoCc;IAErC3C,cAAc,EAAW,KAtCF;IAsCc;IACrCkL,UAAU,EAAe,KAvCF;IAuCc;IACrC5J,gBAAgB,EAAS,IAxCF;IAwCc;IACrCtF,aAAa,EAAY,IAzCF;IAyCc;IAErCwC,aAAa,EAAY,KA3CF;IA2Cc;IACrC4B,SAAS,EAAgB,IA5CF;IA4Cc;IACrCK,SAAS,EAAgB,GA7CF;IA6Cc;IAErCyC,WAAW,EAAc,IA/CF;IA+Cc;IACrCqL,gBAAgB,EAAS,KAhDF;IAgDc;IACrCjR,QAAQ,EAAiB,IAjDF;IAiDc;IACrC6H,sBAAsB,EAAG,KAlDF;IAkDc;IAErC5O,UAAU,EAAe,KApDF;IAoDc;IAErC/c,UAAU,EAAe,MAtDF;IAsDc;IACrCC,QAAQ,EAAiB,GAvDF;IAuDc;IACrCse,WAAW,EAAc,KAxDF;IAwDc;IAErC+U,UAAU,EAAe,KA1DF;IA0Dc;IAErC3C,aAAa,EAAY,IA5DF;IA4Dc;IAErC;IACA9wB,KAAK,EAAE;MACLG,UAAU,EAAG,OADR;MAELC,QAAQ,EAAK,GAFR;MAGLmS,SAAS,EAAI;IAHR,CA/DgB;IAqEvB;IACAtW,KAAK,EAAG;MACN2e,IAAI,EAAK,GADH;MAENC,IAAI,EAAK,GAFH;MAGN3d,MAAM,EAAG,EAHH;MAINmpB,KAAK,EAAI;IAJH,CAtEe;;IA6EvB;IACA7c,QAAQ,EAAQ,UAAS7Y,KAAT,EAAgBwL,IAAhB,EAAsBgnB,SAAtB,EAAgC,CAAE,CA9E3B;IA+EvBmT,KAAK,EAAW,UAAS3lC,KAAT,EAAgBwL,IAAhB,EAAsBgnB,SAAtB,EAAgC,CAAE,CA/E3B;IAgFvBwT,QAAQ,EAAQ,UAAShmC,KAAT,EAAgBwL,IAAhB,EAAsBgnB,SAAtB,EAAgC,CAAE,CAhF3B;IAiFvBN,QAAQ,EAAQ,UAASyD,UAAT,EAAoB,CAAE,CAjFf;IAmFvBiE,aAAa,EAAG,UAAS8O,eAAT,EAAyB,CAAE,CAnFpB;IAoFvB1D,aAAa,EAAG,UAAShlC,KAAT,EAAgBwL,IAAhB,EAAsB;MAAE,OAAO1P,CAAC,CAAC,IAAD,CAAR;IAAiB,CApFlC;IAqFvBqqC,aAAa,EAAG,UAASnmC,KAAT,EAAgB;MAAE,OAAO,IAAP;IAAc,CArFzB;IAsFvB+1B,WAAW,EAAK,UAASJ,UAAT,EAAqB;MAAE,OAAO,IAAP;IAAc,CAtF9B;IAuFvB7Z,MAAM,EAAU,YAAU,CAAE,CAvFL;IAwFvBS,MAAM,EAAU,YAAU,CAAE,CAxFL;;IA0FvB;IACAld,IAAI,EAAa,UA3FM;IA4FvBhC,SAAS,EAAQ,UA5FM;IA8FvB2D,OAAO,EAAE;MACP+wB,SAAS,EAAO,mBADT;MAEPkN,KAAK,EAAW,kBAFT;MAGPzK,aAAa,EAAG,2BAHT;MAIPyB,SAAS,EAAO,mBAJT;MAKPe,WAAW,EAAK;IALT,CA9Fc;IAsGvB15B,KAAK,EAAG;MACNsI,MAAM,EAAY,mDADZ;MAENgrB,YAAY,EAAM,wFAFZ;MAGNwQ,MAAM,EAAY,+DAHZ;MAIN1N,eAAe,EAAG,qFAJZ;MAKNpxB,MAAM,EAAY,uCALZ;MAMNq0B,KAAK,EAAa,uDANZ;MAON6K,SAAS,EAAS,6CAPZ;MAQNwG,YAAY,EAAM,qFARZ;MASNlX,WAAW,EAAO;IATZ,CAtGe;IAkHvBrsB,MAAM,EAAG;MACPsG,MAAM,EAAK,6BADJ;MAEPq9B,KAAK,EAAM;IAFJ,CAlHc;IAuHvB7jC,QAAQ,EAAG;MACT0vB,WAAW,EAAO,aADT;MAET1sB,YAAY,EAAM,cAFT;MAGT2sB,eAAe,EAAG,aAHT;MAIT1oB,IAAI,EAAc,MAJT;MAKTxL,KAAK,EAAa;IALT,CAvHY;IA+HvB;IACAiM,MAAM,EAAE;MACNgrB,YAAY,EAAW,SADjB;MAC6B;MACnCnpB,MAAM,EAAiB,QAFjB;MAE6B;MACnClO,QAAQ,EAAe,UAHjB;MAG6B;MACnCP,IAAI,EAAmB,MAJjB;MAI6B;MACnCspC,WAAW,EAAY,aALjB;MAKgC;MACtCC,mBAAmB,EAAI,qBANjB;MAMwC;MAC9C5oC,KAAK,EAAkB,OAPjB;MAO6B;MACnCwL,IAAI,EAAmB,MARjB;MAQ6B;MACnClF,IAAI,EAAmB,MATjB;MAS6B;MACnCuiC,KAAK,EAAkB,OAVjB;MAU6B;MACnCC,UAAU,EAAa,YAXjB;MAW+B;MACrCtZ,IAAI,EAAmB,MAZjB;MAY6B;MACnCuZ,SAAS,EAAc,WAbjB;MAa8B;MACpCjnB,KAAK,EAAkB,OAdjB;MAc6B;MACnCkO,OAAO,EAAgB,SAfjB,CAe6B;;IAf7B,CAhIe;IAkJvB7iB,IAAI,EAAG;MACL4vB,SAAS,EAAI,CADR;MAELtG,SAAS,EAAI,GAFR;MAEa;MAClBqG,SAAS,EAAI,EAHR;MAILhyB,KAAK,EAAQ,EAJR;MAKLC,MAAM,EAAO,EALR;MAMLgzB,MAAM,EAAO,EANR;MAOLE,QAAQ,EAAK,EAPR;MAQLxB,SAAS,EAAI,EARR;MASLkB,OAAO,EAAM,EATR;MAULd,UAAU,EAAG,EAVR;MAWLiB,SAAS,EAAI;IAXR,CAlJgB;IAgKvBn6B,QAAQ,EAAG;MACTkuB,QAAQ,EAAO,WADN;MAET7B,OAAO,EAAQ,mBAFN;MAGT5nB,QAAQ,EAAO,cAHN;MAITkiB,MAAM,EAAS,SAJN;MAKTkF,IAAI,EAAW,kBALN;MAMT7kB,KAAK,EAAU,kCANN;MAOToE,IAAI,EAAW,OAPN;MAQTM,KAAK,EAAU,UARN;MASTlH,MAAM,EAAS,yBATN;MAUTw0B,YAAY,EAAG,QAVN;MAWT/M,IAAI,EAAW,OAXN;MAYT5uB,OAAO,EAAQ,UAZN;MAaTg/B,QAAQ,EAAO,gBAbN;MAcTzzB,MAAM,EAAS,2DAdN;MAeT+iB,KAAK,EAAU,cAfN;MAgBT9jB,IAAI,EAAW,oBAhBN;MAiBT8mB,YAAY,EAAG,sBAjBN;MAkBT7C,SAAS,EAAM;IAlBN,CAhKY;IAqLvBjrB,SAAS,EAAG;MACV8S,MAAM,EAAgB,QADZ;MAEVua,QAAQ,EAAc,UAFZ;MAGVza,SAAS,EAAa,WAHZ;MAIVuxB,WAAW,EAAW,aAJZ;MAKVC,mBAAmB,EAAG,UALZ;MAMVhpC,QAAQ,EAAc,UANZ;MAOV2J,KAAK,EAAiB,OAPZ;MAQVnB,QAAQ,EAAc,aARZ;MASVsuB,QAAQ,EAAc,UATZ;MAUVpM,MAAM,EAAgB,mBAVZ;MAWVkF,IAAI,EAAkB,MAXZ;MAYVqZ,KAAK,EAAiB,OAZZ;MAaV95B,IAAI,EAAkB,MAbZ;MAcVM,KAAK,EAAiB,UAdZ;MAeV0zB,OAAO,EAAe,SAfZ;MAgBVnT,IAAI,EAAkB,MAhBZ;MAiBV5uB,OAAO,EAAe,SAjBZ;MAkBV8U,QAAQ,EAAc,UAlBZ;MAmBVgpB,WAAW,EAAW,SAnBZ;MAoBVxP,KAAK,EAAiB,OApBZ;MAqBV/iB,MAAM,EAAgB,QArBZ;MAsBV4kB,QAAQ,EAAc,UAtBZ;MAuBVqC,SAAS,EAAa,WAvBZ;MAwBVhoB,IAAI,EAAkB,MAxBZ;MAyBV0zB,MAAM,EAAgB,QAzBZ;MA0BV8E,QAAQ,EAAc,MA1BZ;MA2BV5S,OAAO,EAAe,SA3BZ;MA4BV6B,SAAS,EAAa,WA5BZ;MA6BVqO,WAAW,EAAW,aA7BZ;MA8BV0H,MAAM,EAAgB,QA9BZ;MA+BV7oB,MAAM,EAAgB,QA/BZ;MAgCV6P,OAAO,EAAe,SAhCZ;MAiCViZ,SAAS,EAAa,EAjCZ;MAkCVxR,YAAY,EAAU;IAlCZ;EArLW,CAAzB;EA4NA;;EACA37B,CAAC,CAACQ,EAAF,CAAK8L,QAAL,CAAclL,QAAd,CAAuBkS,SAAvB,GAAmC;IACjC6pB,OAAO,EAAE,UAAS1rB,MAAT,EAAiB27B,MAAjB,EAAyB;MAC9B,OAAOz/B,MAAM,CAAC8D,MAAD,CAAN,CAAe3B,OAAf,CAAuB,IAAvB,EAA4Bs9B,MAAM,GAAG,QAAH,GAAc,EAAhD,CAAP;IACH,CAHgC;IAIjCn+B,MAAM,EAAE,UAASwC,MAAT,EAAiBkmB,YAAjB,EAA+B;MACrC,IAAIA,YAAJ,EAAiB;QACf,OAAOlmB,MAAP;MACD;;MACD,IACI86B,QAAQ,GAAO,UADnB;MAAA,IAEIC,YAAY,GAAG,UAFnB;MAAA,IAGIv9B,MAAM,GAAS;QACb,KAAK,MADQ;QAEb,KAAK,MAFQ;QAGb,KAAK,QAHQ;QAIb,KAAK,QAJQ;QAKb,KAAK;MALQ,CAHnB;MAAA,IAUIw9B,WAAW,GAAI,UAASC,GAAT,EAAc;QAC3B,OAAOz9B,MAAM,CAACy9B,GAAD,CAAb;MACD,CAZL;;MAcA,IAAGF,YAAY,CAACp+B,IAAb,CAAkBqD,MAAlB,CAAH,EAA8B;QAC5BA,MAAM,GAAGA,MAAM,CAAC3B,OAAP,CAAe,sBAAf,EAAuC,OAAvC,CAAT;QACA,OAAO2B,MAAM,CAAC3B,OAAP,CAAey8B,QAAf,EAAyBE,WAAzB,CAAP;MACD;;MACD,OAAOh7B,MAAP;IACD,CA3BgC;IA4BjC;IACAnF,QAAQ,EAAE,UAASipB,MAAT,EAAiBplB,MAAjB,EAAyBwnB,YAAzB,EAAuCjvB,SAAvC,EAAkD;MAC1D,IACEs6B,WAAW,GAAGzN,MAAM,CAACyN,WAAP,IAAsB,KADtC;MAAA,IAEEvvB,IAAI,GAAU,EAFhB;MAAA,IAGExE,MAAM,GAAGjP,CAAC,CAACQ,EAAF,CAAK8L,QAAL,CAAclL,QAAd,CAAuBkS,SAAvB,CAAiCrE,MAH5C;MAKAwE,IAAI,IAAK,+BAAT;;MACA,IAAGuvB,WAAH,EAAgB;QACdvvB,IAAI,IAAI,+BAA+BxE,MAAM,CAAC+zB,WAAD,EAAarL,YAAb,CAArC,GAAkE,QAA1E;MACD,CAFD,MAGK;QACHlkB,IAAI,IAAI,0BAAR;MACD;;MACDA,IAAI,IAAI,iBAAe/K,SAAS,CAACorB,IAAzB,GAA8B,IAAtC;MACArgB,IAAI,IAAIzT,CAAC,CAACQ,EAAF,CAAK8L,QAAL,CAAclL,QAAd,CAAuBkS,SAAvB,CAAiCwgB,IAAjC,CAAsCyB,MAAtC,EAA8CplB,MAA9C,EAAsDwnB,YAAtD,EAAmEjvB,SAAnE,CAAR;MACA+K,IAAI,IAAI,QAAR;MACA,OAAOA,IAAP;IACD,CA9CgC;IAgDjC;IACAqgB,IAAI,EAAE,UAAS5tB,QAAT,EAAmBiK,MAAnB,EAA2BwnB,YAA3B,EAAyCjvB,SAAzC,EAAoD;MACxD,IACEsJ,MAAM,GAAG9L,QAAQ,CAACiK,MAAM,CAAC6B,MAAR,CAAR,IAA2B,EADtC;MAAA,IAEEyB,IAAI,GAAK,EAFX;MAAA,IAGExE,MAAM,GAAGjP,CAAC,CAACQ,EAAF,CAAK8L,QAAL,CAAclL,QAAd,CAAuBkS,SAAvB,CAAiCrE,MAH5C;MAAA,IAIEkuB,OAAO,GAAGn9B,CAAC,CAACQ,EAAF,CAAK8L,QAAL,CAAclL,QAAd,CAAuBkS,SAAvB,CAAiC6pB,OAJ7C;MAMAn9B,CAAC,CAAC2D,IAAF,CAAOqO,MAAP,EAAe,UAASpO,KAAT,EAAgBypC,MAAhB,EAAwB;QACrC,IACEC,QAAQ,GAAID,MAAM,CAACl9B,MAAM,CAAC3F,IAAR,CAAP,GACP6iC,MAAM,CAACl9B,MAAM,CAAC3F,IAAR,CADC,GAEP,MAHN;QAAA,IAIE+iC,MAAM,GAAGD,QAAQ,CAACx8B,OAAT,CAAiB,MAAjB,MAA6B,CAAC,CAJzC;;QAOA,IAAIw8B,QAAQ,KAAK,MAAb,IAAuBC,MAA3B,EAAmC;UACjC,IACEC,SAAS,GAAIH,MAAM,CAACl9B,MAAM,CAACT,IAAR,CAAP,GACR,iBAAiBytB,OAAO,CAACkQ,MAAM,CAACl9B,MAAM,CAACT,IAAR,CAAP,EAAqB,IAArB,CAAxB,GAAqD,GAD7C,GAER,EAHN;UAAA,IAIE+9B,aAAa,GAAIJ,MAAM,CAACl9B,MAAM,CAACrM,QAAR,CAAP,GACZ4E,SAAS,CAAC5E,QAAV,GAAmB,GADP,GAEZ,EANN;UAAA,IAOE4pC,wBAAwB,GAAIL,MAAM,CAACl9B,MAAM,CAAC28B,mBAAR,CAAP,GACvBpkC,SAAS,CAACokC,mBAAV,GAA8B,GADP,GAEvB,EATN;UAAA,IAUEa,cAAc,GAAI1+B,MAAM,CAACo+B,MAAM,CAACl9B,MAAM,CAAC08B,WAAR,CAAN,IAA8B,EAA/B,EAAmClV,YAAnC,CAAN,IAA0D,EAV9E;UAYAlkB,IAAI,IAAI,iBAAgBg6B,aAAhB,GAAgCC,wBAAhC,IAA4DL,MAAM,CAACl9B,MAAM,CAAC6V,KAAR,CAAN,GAAuBmX,OAAO,CAACkQ,MAAM,CAACl9B,MAAM,CAAC6V,KAAR,CAAP,CAA9B,GAAuDtd,SAAS,CAACuK,IAA7H,IAAmI,gBAAnI,GAAsJkqB,OAAO,CAACkQ,MAAM,CAACl9B,MAAM,CAACjM,KAAR,CAAP,EAAsB,IAAtB,CAA7J,GAA2L,GAA3L,GAAiMspC,SAAjM,GAA6M,GAArN;;UACA,IAAID,MAAJ,EAAY;YACV95B,IAAI,IAAI,gBAAe65B,QAAQ,CAACx8B,OAAT,CAAiB,MAAjB,MAA6B,CAAC,CAA9B,GAAkC,MAAlC,GAA2C,EAA1D,IAAgE,sBAAxE;UACD;;UACD,IAAGu8B,MAAM,CAACl9B,MAAM,CAAC48B,KAAR,CAAT,EAAyB;YACvBt5B,IAAI,IAAI,kBAAgB45B,MAAM,CAACl9B,MAAM,CAAC68B,UAAR,CAAN,GAA4B7P,OAAO,CAACkQ,MAAM,CAACl9B,MAAM,CAAC68B,UAAR,CAAP,CAAnC,GAAiEtkC,SAAS,CAACqkC,KAA3F,IAAkG,SAAlG,GAA8G5P,OAAO,CAACkQ,MAAM,CAACl9B,MAAM,CAAC48B,KAAR,CAAP,CAArH,GAA8I,IAAtJ;UACD;;UACD,IAAGM,MAAM,CAACl9B,MAAM,CAACujB,IAAR,CAAT,EAAwB;YACtBjgB,IAAI,IAAI,eAAa0pB,OAAO,CAACkQ,MAAM,CAACl9B,MAAM,CAACujB,IAAR,CAAP,CAApB,GAA0C,GAA1C,IAA+C2Z,MAAM,CAACl9B,MAAM,CAAC88B,SAAR,CAAN,GAA2B9P,OAAO,CAACkQ,MAAM,CAACl9B,MAAM,CAAC88B,SAAR,CAAP,CAAlC,GAA+DvkC,SAAS,CAACgrB,IAAxH,IAA8H,QAAtI;UACD;;UACD,IAAGia,cAAH,EAAkB;YAChBl6B,IAAI,IAAI,kBAAiB/K,SAAS,CAACmkC,WAA3B,GAAwC,IAAxC,GAA8C59B,MAAM,CAACo+B,MAAM,CAACl9B,MAAM,CAAC08B,WAAR,CAAN,IAA8B,EAA/B,EAAmClV,YAAnC,CAApD,GAAuG,SAA/G;YACAlkB,IAAI,IAAK,CAAC85B,MAAF,GAAY,kBAAiB7kC,SAAS,CAACgH,IAA3B,GAAkC,IAA9C,GAAqD,EAA7D;UACD;;UACD,IAAI69B,MAAJ,EAAY;YACV95B,IAAI,IAAI,kBAAkB/K,SAAS,CAACgH,IAA5B,GAAmC,IAA3C;UACD;;UACD+D,IAAI,IAAMxE,MAAM,CAACo+B,MAAM,CAACl9B,MAAM,CAAC5M,IAAR,CAAN,IAAuB,EAAxB,EAA4Bo0B,YAA5B,CAAhB;;UACA,IAAI4V,MAAJ,EAAY;YACV95B,IAAI,IAAI,SAAR;YACAA,IAAI,IAAI,iBAAiB65B,QAAjB,GAA4B,IAApC;YACA75B,IAAI,IAAIzT,CAAC,CAACQ,EAAF,CAAK8L,QAAL,CAAclL,QAAd,CAAuBkS,SAAvB,CAAiCwgB,IAAjC,CAAsCuZ,MAAtC,EAA8Cl9B,MAA9C,EAAsDwnB,YAAtD,EAAoEjvB,SAApE,CAAR;YACA+K,IAAI,IAAI,QAAR;UACD,CALD,MAKO,IAAGk6B,cAAH,EAAkB;YACvBl6B,IAAI,IAAI,SAAR;UACD;;UACDA,IAAI,IAAI,QAAR;QACD,CAxCD,MAwCO,IAAI65B,QAAQ,KAAK,QAAjB,EAA2B;UAChC,IAAIM,SAAS,GAAG3+B,MAAM,CAACo+B,MAAM,CAACl9B,MAAM,CAAC5M,IAAR,CAAN,IAAuB,EAAxB,EAA4Bo0B,YAA5B,CAAtB;UAAA,IACIwV,SAAS,GAAGE,MAAM,CAACl9B,MAAM,CAACujB,IAAR,CAAN,GAAsByJ,OAAO,CAACkQ,MAAM,CAACl9B,MAAM,CAACujB,IAAR,CAAP,CAA7B,GAAqDhrB,SAAS,CAACykC,SAD/E;;UAGA,IAAGS,SAAS,KAAK,EAAd,IAAoBT,SAAS,KAAK,EAArC,EAAyC;YACvC15B,IAAI,IAAI,kBAAkB45B,MAAM,CAACl9B,MAAM,CAAC6V,KAAR,CAAN,GAAuBmX,OAAO,CAACkQ,MAAM,CAACl9B,MAAM,CAAC6V,KAAR,CAAP,CAA9B,GAAuDtd,SAAS,CAAC2b,MAAnF,IAA6F,IAArG;;YACA,IAAI8oB,SAAS,KAAK,EAAlB,EAAsB;cACpB15B,IAAI,IAAI,eAAe05B,SAAf,GAA2B,GAA3B,IAAkCE,MAAM,CAACl9B,MAAM,CAAC88B,SAAR,CAAN,GAA2B9P,OAAO,CAACkQ,MAAM,CAACl9B,MAAM,CAAC88B,SAAR,CAAP,CAAlC,GAA+DvkC,SAAS,CAACgrB,IAA3G,IAAmH,QAA3H;YACD;;YACDjgB,IAAI,IAAIm6B,SAAR;YACAn6B,IAAI,IAAI,QAAR;UACD;;UACD,IAAG45B,MAAM,CAACl9B,MAAM,CAAC+jB,OAAR,CAAT,EAA0B;YACxBzgB,IAAI,IAAI,iBAAe/K,SAAS,CAACwrB,OAAzB,GAAiC,UAAzC;UACD;QACF;MACF,CAhED;MAiEA,OAAOzgB,IAAP;IACD,CA1HgC;IA4HjC;IACAF,KAAK,EAAE,UAASrP,KAAT,EAAgBwL,IAAhB,EAAsBioB,YAAtB,EAAoCjvB,SAApC,EAA+C;MACpD,IACIuG,MAAM,GAAGjP,CAAC,CAACQ,EAAF,CAAK8L,QAAL,CAAclL,QAAd,CAAuBkS,SAAvB,CAAiCrE,MAD9C;MAEA,OAAOA,MAAM,CAACS,IAAD,EAAMioB,YAAN,CAAN,GAA4B,YAA5B,GAAyCjvB,SAAS,CAACwkC,MAAnD,GAA0D,aAAjE;IACD,CAjIgC;IAoIjC;IACAhoC,OAAO,EAAE,UAASA,OAAT,EAAkB;MACzB,OAAOA,OAAP;IACD,CAvIgC;IAyIjC;IACA6wB,QAAQ,EAAE,UAAS8X,MAAT,EAAiB;MACzB,OAAOA,MAAP;IACD;EA5IgC,CAAnC;AAgJC,CA/tIA,EA+tIGtmC,MA/tIH,EA+tIWtH,MA/tIX,EA+tImBC,QA/tInB;AAiuID;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA;;AAAC,CAAC,UAAUF,CAAV,EAAaC,MAAb,EAAqBC,QAArB,EAA+BC,SAA/B,EAA0C;EAE5C;;EAEAH,CAAC,CAACI,UAAF,GAAeJ,CAAC,CAACI,UAAF,IAAgB,UAASC,GAAT,EAAc;IAC3C,OAAO,OAAOA,GAAP,KAAe,UAAf,IAA6B,OAAOA,GAAG,CAACC,QAAX,KAAwB,QAA5D;EACD,CAFD;;EAIAL,MAAM,GAAI,OAAOA,MAAP,IAAiB,WAAjB,IAAgCA,MAAM,CAACuH,IAAP,IAAeA,IAAhD,GACLvH,MADK,GAEJ,OAAOwH,IAAP,IAAe,WAAf,IAA8BA,IAAI,CAACD,IAAL,IAAaA,IAA5C,GACEC,IADF,GAEE3C,QAAQ,CAAC,aAAD,CAAR,EAJN;;EAOA9E,CAAC,CAACQ,EAAF,CAAKstC,KAAL,GAAa,UAASrtC,UAAT,EAAqB;IAEhC,IACEkH,WAAW,GAAO3H,CAAC,CAAC,IAAD,CADrB;IAAA,IAGE4H,cAAc,GAAID,WAAW,CAACE,QAAZ,IAAwB,EAH5C;IAAA,IAKEnH,IAAI,GAAc,IAAIC,IAAJ,GAAWC,OAAX,EALpB;IAAA,IAMEC,WAAW,GAAO,EANpB;IAAA,IAQEC,KAAK,GAAaC,SAAS,CAAC,CAAD,CAR7B;IAAA,IASEC,aAAa,GAAM,OAAOF,KAAP,IAAgB,QATrC;IAAA,IAUEG,cAAc,GAAI,GAAGC,KAAH,CAASC,IAAT,CAAcJ,SAAd,EAAyB,CAAzB,CAVpB;IAAA,IAYEiB,aAZF;IAeA2F,WAAW,CACRhE,IADH,CACQ,YAAW;MACf,IACEvC,QAAQ,GAAYpB,CAAC,CAACqB,aAAF,CAAgBZ,UAAhB,CAAF,GACdT,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAe,EAAf,EAAmBtB,CAAC,CAACQ,EAAF,CAAKstC,KAAL,CAAW1sC,QAA9B,EAAwCX,UAAxC,CADc,GAEdT,CAAC,CAACsB,MAAF,CAAS,EAAT,EAAatB,CAAC,CAACQ,EAAF,CAAKstC,KAAL,CAAW1sC,QAAxB,CAHN;MAAA,IAKEyG,QAAQ,GAAUzG,QAAQ,CAACyG,QAL7B;MAAA,IAMEa,SAAS,GAAStH,QAAQ,CAACsH,SAN7B;MAAA,IAOEqlC,OAAO,GAAW3sC,QAAQ,CAAC2sC,OAP7B;MAAA,IAQEvsC,KAAK,GAAaJ,QAAQ,CAACI,KAR7B;MAAA,IASEiH,QAAQ,GAAUrH,QAAQ,CAACqH,QAT7B;MAAA,IAUElH,SAAS,GAASH,QAAQ,CAACG,SAV7B;MAAA,IAWE+R,SAAS,GAASlS,QAAQ,CAACkS,SAX7B;MAAA,IAaE1K,cAAc,GAAI,MAAMrH,SAb1B;MAAA,IAcEE,eAAe,GAAG,YAAYF,SAdhC;MAAA,IAgBEI,OAAO,GAAW3B,CAAC,CAAC,IAAD,CAhBrB;MAAA,IAiBEguC,YAAY,GAAMrsC,OAAO,CAAC6H,IAAR,CAAa3B,QAAQ,CAACm7B,WAAtB,CAjBpB;MAAA,IAkBEvP,KAAK,GAAa9xB,OAAO,CAAC6H,IAAR,CAAa3B,QAAQ,CAAC6rB,IAAtB,CAlBpB;MAAA,IAmBEua,MAAM,GAAYtsC,OAAO,CAAC6H,IAAR,CAAa3B,QAAQ,CAACimC,KAAtB,CAnBpB;MAAA,IAqBElsC,OAAO,GAAW,IArBpB;MAAA,IAsBEC,QAAQ,GAAUF,OAAO,CAACG,IAAR,CAAaL,eAAb,CAtBpB;MAAA,IAuBEM,MAvBF;MA0BAA,MAAM,GAAG;QAEPE,UAAU,EAAE,YAAW;UACrBF,MAAM,CAACS,KAAP,CAAa,oBAAb;UACAT,MAAM,CAACgJ,SAAP,CAAiBmjC,QAAjB;UACAnsC,MAAM,CAACsd,MAAP;UACAtd,MAAM,CAACiD,IAAP,CAAYyV,MAAZ;UACA1Y,MAAM,CAACG,WAAP;QACD,CARM;QAUPA,WAAW,EAAE,YAAW;UACtBH,MAAM,CAACI,OAAP,CAAe,4BAAf,EAA6CJ,MAA7C;UACAF,QAAQ,GAAGE,MAAX;UACAJ,OAAO,CACJG,IADH,CACQL,eADR,EACyBM,MADzB;QAGD,CAhBM;QAkBP4C,OAAO,EAAE,YAAW;UAClB5C,MAAM,CAACI,OAAP,CAAe,uCAAf;UACAJ,MAAM,CAAC6H,KAAP;UACAjI,OAAO,CACJiD,UADH,CACcnD,eADd,EAEGgN,GAFH,CAEO7F,cAFP;QAID,CAzBM;QA2BPK,OAAO,EAAE,YAAW;UAClBlH,MAAM,CAACI,OAAP,CAAe,2BAAf;UACA6rC,YAAY,GAAGrsC,OAAO,CAAC6H,IAAR,CAAa3B,QAAQ,CAACm7B,WAAtB,CAAf;UACAvP,KAAK,GAAU9xB,OAAO,CAAC6H,IAAR,CAAa3B,QAAQ,CAAC6rB,IAAtB,CAAf;UACAua,MAAM,GAAStsC,OAAO,CAAC6H,IAAR,CAAa3B,QAAQ,CAACimC,KAAtB,CAAf;QACD,CAhCM;QAkCP9oC,IAAI,EAAE;UACJyV,MAAM,EAAE,YAAW;YACjB,IAAI1Y,MAAM,CAAC6Q,GAAP,CAAWowB,WAAX,EAAJ,EAA+B;cAC7BjhC,MAAM,CAACS,KAAP,CAAa,2BAAb;cACAb,OAAO,CACJoI,EADH,CACM,UAAUnB,cADhB,EACgCf,QAAQ,CAACm7B,WADzC,EACsDjhC,MAAM,CAACosC,aAD7D,EAEGpkC,EAFH,CAEM,UAAUnB,cAFhB,EAEgCf,QAAQ,CAAC6rB,IAFzC,EAE+C3xB,MAAM,CAACosC,aAFtD;YAID;UACF;QATG,CAlCC;QA8CP9uB,MAAM,EAAE,YAAW;UACjB,IACE2jB,WAAW,GAAGjhC,MAAM,CAACiH,GAAP,CAAWg6B,WAAX,EADhB;;UAGA,IAAGA,WAAH,EAAgB;YACdjhC,MAAM,CAACqsC,iBAAP;UACD,CAFD,MAGK;YACHrsC,MAAM,CAACosC,aAAP;UACD;QACF,CAxDM;QA0DPC,iBAAiB,EAAE,UAASpL,WAAT,EAAsB;UACvC,IACEtP,IAAI,GAAI3xB,MAAM,CAACiH,GAAP,CAAW0qB,IAAX,EADV;UAAA,IAEE/c,GAAG,GAAK5U,MAAM,CAACiH,GAAP,CAAW2N,GAAX,EAFV;UAAA,IAGEm3B,KAAK,GAAG/rC,MAAM,CAACssC,QAAP,CAAgBP,KAAhB,CAAsBn3B,GAAtB,CAHV;UAKAqsB,WAAW,GAAGA,WAAW,IAAIjhC,MAAM,CAACiH,GAAP,CAAWg6B,WAAX,EAA7B;UACArhC,OAAO,CAAC8R,IAAR,CAAcH,SAAS,CAAC0vB,WAAV,CAAsBA,WAAtB,EAAmCtP,IAAnC,CAAd;UACA3xB,MAAM,CAACS,KAAP,CAAa,gCAAb,EAA+CwgC,WAA/C,EAA4DtP,IAA5D;QACD,CAnEM;QAqEP4a,WAAW,EAAE,UAAS33B,GAAT,EAAc;UACzB5U,MAAM,CAACkH,OAAP;UACA0N,GAAG,GAAGA,GAAG,IAAI5U,MAAM,CAACiH,GAAP,CAAW2N,GAAX,EAAb;UACAs3B,MAAM,GAAGjuC,CAAC,CAAC,QAAD,CAAD,CACNqT,QADM,CACG3K,SAAS,CAAColC,KADb,EAENr6B,IAFM,CAEA1R,MAAM,CAACssC,QAAP,CAAgBP,KAAhB,CAAsBn3B,GAAtB,CAFA,EAGNnD,QAHM,CAGG7R,OAHH,CAAT;UAKAP,QAAQ,CAACmtC,QAAT,CAAkBptC,IAAlB,CAAuBS,OAAvB,EAAgC+U,GAAhC;UACA5U,MAAM,CAACS,KAAP,CAAa,uBAAb,EAAsCyrC,MAAtC;QACD,CA/EM;QAiFPO,WAAW,EAAE,UAAS73B,GAAT,EAAc;UACzBs3B,MAAM,CACHx6B,IADH,CACS1R,MAAM,CAACssC,QAAP,CAAgBP,KAAhB,CAAsBn3B,GAAtB,CADT;QAGD,CArFM;QAuFPw3B,aAAa,EAAE,YAAW;UACxBpsC,MAAM,CAACusC,WAAP;UACAvsC,MAAM,CAACqsB,IAAP;QACD,CA1FM;QA4FP;QACApqB,MAAM,EAAE,UAASyqC,MAAT,EAAiB9Z,EAAjB,EAAqBhe,GAArB,EAA0B;UAChC5U,MAAM,CAACS,KAAP,CAAa,oBAAb,EAAmCisC,MAAnC,EAA2C9Z,EAA3C,EAA+Che,GAA/C;UACAhV,OAAO,CACJG,IADH,CACQ2G,QAAQ,CAACgmC,MADjB,EACyBA,MADzB,EAEG3sC,IAFH,CAEQ2G,QAAQ,CAACksB,EAFjB,EAEqBA,EAFrB;;UAIA,IAAGhe,GAAH,EAAQ;YACNhV,OAAO,CAACG,IAAR,CAAa2G,QAAQ,CAACkO,GAAtB,EAA2BA,GAA3B;UACD,CAFD,MAGK;YACHhV,OAAO,CAACiD,UAAR,CAAmB6D,QAAQ,CAACkO,GAA5B;UACD;;UACD,IAAG5U,MAAM,CAAC6Q,GAAP,CAAWk7B,KAAX,EAAH,EAAuB;YACrB/rC,MAAM,CAACysC,WAAP;UACD,CAFD,MAGK;YACHzsC,MAAM,CAACsd,MAAP;UACD;QACF,CA/GM;QAiHP;QACAzV,KAAK,EAAE,YAAW;UAChB7H,MAAM,CAACS,KAAP,CAAa,wCAAb;UACAT,MAAM,CAACsK,MAAP,CAAcvK,IAAd;UACAC,MAAM,CAACsK,MAAP,CAAcmP,MAAd;UACAzZ,MAAM,CAACsK,MAAP,CAAcyhC,KAAd;UACA/rC,MAAM,CAAC2sC,eAAP;UACAttC,QAAQ,CAACutC,OAAT,CAAiBxtC,IAAjB,CAAsBS,OAAtB;QACD,CAzHM;QA2HP;QACAwsB,IAAI,EAAE,YAAW;UACfrsB,MAAM,CAACS,KAAP,CAAa,eAAb;UACAT,MAAM,CAACoH,GAAP,CAAWqS,MAAX;UACApa,QAAQ,CAACwtC,SAAT,CAAmBztC,IAAnB,CAAwBS,OAAxB;QACD,CAhIM;QAkIPusB,IAAI,EAAE,YAAW;UACfpsB,MAAM,CAACS,KAAP,CAAa,cAAb;UACAT,MAAM,CAAC2sC,eAAP;QACD,CArIM;QAuIPA,eAAe,EAAE,YAAW;UAC1B3sC,MAAM,CAACS,KAAP,CAAa,2BAAb;UACAT,MAAM,CAACsK,MAAP,CAAcmP,MAAd;UACApa,QAAQ,CAACytC,oBAAT,CAA8B1tC,IAA9B,CAAmCS,OAAnC;QACD,CA3IM;QA6IPoH,GAAG,EAAE;UACH2rB,EAAE,EAAE,YAAW;YACb,OAAOvzB,QAAQ,CAACuzB,EAAT,IAAehzB,OAAO,CAACG,IAAR,CAAa2G,QAAQ,CAACksB,EAAtB,CAAtB;UACD,CAHE;UAIHqO,WAAW,EAAE,YAAW;YACtB,OAAO5hC,QAAQ,CAAC4hC,WAAT,IAAwBrhC,OAAO,CAACG,IAAR,CAAa2G,QAAQ,CAACu6B,WAAtB,CAA/B;UACD,CANE;UAOHtP,IAAI,EAAE,YAAW;YACf,OAAQtyB,QAAQ,CAACsyB,IAAV,GACHtyB,QAAQ,CAACsyB,IADN,GAEF/xB,OAAO,CAACG,IAAR,CAAa2G,QAAQ,CAACirB,IAAtB,MAAgCvzB,SAAjC,GACEwB,OAAO,CAACG,IAAR,CAAa2G,QAAQ,CAACirB,IAAtB,CADF,GAEE3xB,MAAM,CAACgJ,SAAP,CAAiB2oB,IAAjB,EAJN;UAMD,CAdE;UAeH+a,MAAM,EAAE,UAAS93B,GAAT,EAAc;YACpB,OAAQvV,QAAQ,CAACqtC,MAAV,GACHrtC,QAAQ,CAACqtC,MADN,GAEF9sC,OAAO,CAACG,IAAR,CAAa2G,QAAQ,CAACgmC,MAAtB,MAAkCtuC,SAAnC,GACEwB,OAAO,CAACG,IAAR,CAAa2G,QAAQ,CAACgmC,MAAtB,CADF,GAEE1sC,MAAM,CAACgJ,SAAP,CAAiB0jC,MAAjB,EAJN;UAMD,CAtBE;UAuBHjkC,IAAI,EAAE,YAAW;YACf,IAAIikC,MAAM,GAAG1sC,MAAM,CAACiH,GAAP,CAAWylC,MAAX,EAAb;YACA,OAAQV,OAAO,CAACU,MAAD,CAAP,KAAoBtuC,SAArB,GACH4tC,OAAO,CAACU,MAAD,CAAP,CAAgBjkC,IADb,GAEH,KAFJ;UAID,CA7BE;UA8BHmM,GAAG,EAAE,YAAW;YACd,OAAQvV,QAAQ,CAACuV,GAAV,GACHvV,QAAQ,CAACuV,GADN,GAEFhV,OAAO,CAACG,IAAR,CAAa2G,QAAQ,CAACkO,GAAtB,MAA+BxW,SAAhC,GACEwB,OAAO,CAACG,IAAR,CAAa2G,QAAQ,CAACkO,GAAtB,CADF,GAEE5U,MAAM,CAACgJ,SAAP,CAAiB4L,GAAjB,EAJN;UAMD;QArCE,CA7IE;QAqLP5L,SAAS,EAAE;UACTmjC,QAAQ,EAAE,YAAW;YACnB,IAAGnsC,MAAM,CAAC4sB,MAAP,CAAcuf,QAAd,EAAH,EAA6B;cAC3B9sC,QAAQ,CAAC8sC,QAAT,GAAoB,IAApB;YACD;UACF,CALQ;UAMTO,MAAM,EAAE,UAAS93B,GAAT,EAAc;YACpB,IACEm4B,aAAa,GAAG,KADlB;YAGAn4B,GAAG,GAAGA,GAAG,IAAI5U,MAAM,CAACiH,GAAP,CAAW2N,GAAX,EAAb;;YACA,IAAGA,GAAH,EAAQ;cACN3W,CAAC,CAAC2D,IAAF,CAAOoqC,OAAP,EAAgB,UAASxqC,IAAT,EAAekrC,MAAf,EAAuB;gBACrC,IAAG93B,GAAG,CAAClG,MAAJ,CAAWg+B,MAAM,CAACM,MAAlB,MAA8B,CAAC,CAAlC,EAAqC;kBACnCD,aAAa,GAAGvrC,IAAhB;kBACA,OAAO,KAAP;gBACD;cACF,CALD;YAMD;;YACD,OAAOurC,aAAP;UACD,CApBQ;UAqBTpb,IAAI,EAAE,YAAW;YACf,IACE+a,MAAM,GAAG1sC,MAAM,CAACiH,GAAP,CAAWylC,MAAX,EADX;YAGA,OAAQV,OAAO,CAACU,MAAD,CAAP,KAAoBtuC,SAArB,GACH4tC,OAAO,CAACU,MAAD,CAAP,CAAgB/a,IADb,GAEH,KAFJ;UAID,CA7BQ;UA8BT/c,GAAG,EAAE,YAAW;YACd,IACEge,EAAE,GAAOvzB,QAAQ,CAACuzB,EAAT,IAAmBhzB,OAAO,CAACG,IAAR,CAAa2G,QAAQ,CAACksB,EAAtB,CAD9B;YAAA,IAEE8Z,MAAM,GAAGrtC,QAAQ,CAACqtC,MAAT,IAAmB9sC,OAAO,CAACG,IAAR,CAAa2G,QAAQ,CAACgmC,MAAtB,CAF9B;YAAA,IAGE93B,GAHF;YAKAA,GAAG,GAAIo3B,OAAO,CAACU,MAAD,CAAP,KAAoBtuC,SAArB,GACF4tC,OAAO,CAACU,MAAD,CAAP,CAAgB93B,GAAhB,CAAoB7G,OAApB,CAA4B,MAA5B,EAAoC6kB,EAApC,CADE,GAEF,KAFJ;;YAIA,IAAGhe,GAAH,EAAQ;cACNhV,OAAO,CAACG,IAAR,CAAa2G,QAAQ,CAACkO,GAAtB,EAA2BA,GAA3B;YACD;;YACD,OAAOA,GAAP;UACD;QA5CQ,CArLJ;QAqOPxN,GAAG,EAAE;UACHqS,MAAM,EAAE,YAAW;YACjB7Z,OAAO,CAAC0R,QAAR,CAAiB3K,SAAS,CAAC8S,MAA3B;UACD;QAHE,CArOE;QA2OPnP,MAAM,EAAE;UACNvK,IAAI,EAAE,YAAW;YACfH,OAAO,CACJiD,UADH,CACc6D,QAAQ,CAACksB,EADvB,EAEG/vB,UAFH,CAEc6D,QAAQ,CAACirB,IAFvB,EAGG9uB,UAHH,CAGc6D,QAAQ,CAACu6B,WAHvB,EAIGp+B,UAJH,CAIc6D,QAAQ,CAACgmC,MAJvB,EAKG7pC,UALH,CAKc6D,QAAQ,CAACkO,GALvB;UAOD,CATK;UAUN6E,MAAM,EAAE,YAAW;YACjB7Z,OAAO,CAACyK,WAAR,CAAoB1D,SAAS,CAAC8S,MAA9B;UACD,CAZK;UAaNsyB,KAAK,EAAE,YAAW;YAChBG,MAAM,CAACxgC,KAAP;UACD;QAfK,CA3OD;QA6PP2/B,MAAM,EAAE;UACN3sC,UAAU,EAAE,UAASA,UAAT,EAAqB;YAC/B,IACEuuC,SAAS,GAAG,EADd;YAAA,IAEEprC,KAFF;;YAIA,KAAKA,KAAL,IAAcnD,UAAd,EAA0B;cACxBuuC,SAAS,CAACnrC,IAAV,CAAgBorC,kBAAkB,CAACrrC,KAAD,CAAlB,GAA4B,GAA5B,GAAkCqrC,kBAAkB,CAAExuC,UAAU,CAACmD,KAAD,CAAZ,CAApE;YACD;;YACD,OAAOorC,SAAS,CAACpc,IAAV,CAAe,OAAf,CAAP;UACD;QAVK,CA7PD;QA0QPyb,QAAQ,EAAE;UACRP,KAAK,EAAE,UAASn3B,GAAT,EAAc;YACnB5U,MAAM,CAACS,KAAP,CAAa,uBAAb;YACA,IACEisC,MAAM,GAAG1sC,MAAM,CAACiH,GAAP,CAAWylC,MAAX,EADX;YAAA,IAEEh7B,IAFF;YAAA,IAGEhT,UAHF;YAKAkW,GAAG,GAAG5U,MAAM,CAACiH,GAAP,CAAW2N,GAAX,CAAeA,GAAf,CAAN;;YACA,IAAGA,GAAH,EAAQ;cACNlW,UAAU,GAAGsB,MAAM,CAACssC,QAAP,CAAgB5tC,UAAhB,CAA2BguC,MAA3B,CAAb;cACAh7B,IAAI,GAASH,SAAS,CAAC47B,MAAV,CAAiBv4B,GAAjB,EAAsBlW,UAAtB,CAAb;YACD,CAHD,MAIK;cACHsB,MAAM,CAACP,KAAP,CAAaA,KAAK,CAAC2tC,KAAnB,EAA0BxtC,OAA1B;YACD;;YACD,OAAO8R,IAAP;UACD,CAjBO;UAkBRhT,UAAU,EAAE,UAASguC,MAAT,EAAiBW,eAAjB,EAAkC;YAC5C,IACE3uC,UAAU,GAAIstC,OAAO,CAACU,MAAD,CAAP,IAAmBV,OAAO,CAACU,MAAD,CAAP,CAAgBhuC,UAAhB,KAA+BN,SAAnD,GACT4tC,OAAO,CAACU,MAAD,CAAP,CAAgBhuC,UAAhB,CAA2BW,QAA3B,CADS,GAET,EAHN;YAKAguC,eAAe,GAAGA,eAAe,IAAIhuC,QAAQ,CAACX,UAA9C;;YACA,IAAG2uC,eAAH,EAAoB;cAClB3uC,UAAU,GAAGT,CAAC,CAACsB,MAAF,CAAS,EAAT,EAAab,UAAb,EAAyB2uC,eAAzB,CAAb;YACD;;YACD3uC,UAAU,GAAGW,QAAQ,CAACiuC,OAAT,CAAiB5uC,UAAjB,CAAb;YACA,OAAOsB,MAAM,CAACqrC,MAAP,CAAc3sC,UAAd,CAAyBA,UAAzB,CAAP;UACD;QA9BO,CA1QH;QA2SPmS,GAAG,EAAE;UACHk7B,KAAK,EAAE,YAAW;YAChB,OAAQG,MAAM,CAAC5pC,MAAP,GAAgB,CAAxB;UACD,CAHE;UAIH2+B,WAAW,EAAE,YAAW;YACtB,OAAO5hC,QAAQ,CAAC4hC,WAAT,IAAwBrhC,OAAO,CAACG,IAAR,CAAa2G,QAAQ,CAACu6B,WAAtB,CAA/B;UACD;QANE,CA3SE;QAoTPrU,MAAM,EAAE;UACNuf,QAAQ,EAAE,YAAW;YACnB,OAAQ9sC,QAAQ,CAAC8sC,QAAT,KAAsB,MAAvB,GACF9sC,QAAQ,CAAC4hC,WAAT,IAAwBrhC,OAAO,CAACG,IAAR,CAAa2G,QAAQ,CAACu6B,WAAtB,MAAuC7iC,SAD7D,GAEHiB,QAAQ,CAAC8sC,QAFb;UAID;QANK,CApTD;QA6TPviC,EAAE,EAAE;UACF2jC,KAAK,EAAE,YAAW;YAChB,OAAOvtC,MAAM,CAACiH,GAAP,CAAWwB,IAAX,MAAqB,OAA5B;UACD;QAHC,CA7TG;QAmUPvG,OAAO,EAAE,UAASV,IAAT,EAAeW,KAAf,EAAsB;UAC7BnC,MAAM,CAACS,KAAP,CAAa,kBAAb,EAAiCe,IAAjC,EAAuCW,KAAvC;;UACA,IAAIlE,CAAC,CAACqB,aAAF,CAAgBkC,IAAhB,CAAJ,EAA4B;YAC1BvD,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAeF,QAAf,EAAyBmC,IAAzB;UACD,CAFD,MAGK,IAAGW,KAAK,KAAK/D,SAAb,EAAwB;YAC3B,IAAGH,CAAC,CAACqB,aAAF,CAAgBD,QAAQ,CAACmC,IAAD,CAAxB,CAAH,EAAoC;cAClCvD,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAeF,QAAQ,CAACmC,IAAD,CAAvB,EAA+BW,KAA/B;YACD,CAFD,MAGK;cACH9C,QAAQ,CAACmC,IAAD,CAAR,GAAiBW,KAAjB;YACD;UACF,CAPI,MAQA;YACH,OAAO9C,QAAQ,CAACmC,IAAD,CAAf;UACD;QACF,CAnVM;QAoVPsB,QAAQ,EAAE,UAAStB,IAAT,EAAeW,KAAf,EAAsB;UAC9B,IAAIlE,CAAC,CAACqB,aAAF,CAAgBkC,IAAhB,CAAJ,EAA4B;YAC1BvD,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAeS,MAAf,EAAuBwB,IAAvB;UACD,CAFD,MAGK,IAAGW,KAAK,KAAK/D,SAAb,EAAwB;YAC3B4B,MAAM,CAACwB,IAAD,CAAN,GAAeW,KAAf;UACD,CAFI,MAGA;YACH,OAAOnC,MAAM,CAACwB,IAAD,CAAb;UACD;QACF,CA9VM;QA+VPf,KAAK,EAAE,YAAW;UAChB,IAAG,CAACpB,QAAQ,CAACgV,MAAV,IAAoBhV,QAAQ,CAACoB,KAAhC,EAAuC;YACrC,IAAGpB,QAAQ,CAACP,WAAZ,EAAyB;cACvBkB,MAAM,CAAClB,WAAP,CAAmB4B,GAAnB,CAAuB1B,SAAvB;YACD,CAFD,MAGK;cACHgB,MAAM,CAACS,KAAP,GAAesC,QAAQ,CAACC,SAAT,CAAmBC,IAAnB,CAAwB7D,IAAxB,CAA6BmB,OAAO,CAACmC,IAArC,EAA2CnC,OAA3C,EAAoDlB,QAAQ,CAACmC,IAAT,GAAgB,GAApE,CAAf;cACAxB,MAAM,CAACS,KAAP,CAAayC,KAAb,CAAmB3C,OAAnB,EAA4BvB,SAA5B;YACD;UACF;QACF,CAzWM;QA0WPoB,OAAO,EAAE,YAAW;UAClB,IAAG,CAACf,QAAQ,CAACgV,MAAV,IAAoBhV,QAAQ,CAACe,OAA7B,IAAwCf,QAAQ,CAACoB,KAApD,EAA2D;YACzD,IAAGpB,QAAQ,CAACP,WAAZ,EAAyB;cACvBkB,MAAM,CAAClB,WAAP,CAAmB4B,GAAnB,CAAuB1B,SAAvB;YACD,CAFD,MAGK;cACHgB,MAAM,CAACI,OAAP,GAAiB2C,QAAQ,CAACC,SAAT,CAAmBC,IAAnB,CAAwB7D,IAAxB,CAA6BmB,OAAO,CAACmC,IAArC,EAA2CnC,OAA3C,EAAoDlB,QAAQ,CAACmC,IAAT,GAAgB,GAApE,CAAjB;cACAxB,MAAM,CAACI,OAAP,CAAe8C,KAAf,CAAqB3C,OAArB,EAA8BvB,SAA9B;YACD;UACF;QACF,CApXM;QAqXPS,KAAK,EAAE,YAAW;UAChB,IAAG,CAACJ,QAAQ,CAACgV,MAAb,EAAqB;YACnBrU,MAAM,CAACP,KAAP,GAAesD,QAAQ,CAACC,SAAT,CAAmBC,IAAnB,CAAwB7D,IAAxB,CAA6BmB,OAAO,CAACd,KAArC,EAA4Cc,OAA5C,EAAqDlB,QAAQ,CAACmC,IAAT,GAAgB,GAArE,CAAf;YACAxB,MAAM,CAACP,KAAP,CAAayD,KAAb,CAAmB3C,OAAnB,EAA4BvB,SAA5B;UACD;QACF,CA1XM;QA2XPF,WAAW,EAAE;UACX4B,GAAG,EAAE,UAASyC,OAAT,EAAkB;YACrB,IACEC,WADF,EAEEC,aAFF,EAGEC,YAHF;;YAKA,IAAGjE,QAAQ,CAACP,WAAZ,EAAyB;cACvBsE,WAAW,GAAK,IAAIxE,IAAJ,GAAWC,OAAX,EAAhB;cACAyE,YAAY,GAAI3E,IAAI,IAAIyE,WAAxB;cACAC,aAAa,GAAGD,WAAW,GAAGE,YAA9B;cACA3E,IAAI,GAAYyE,WAAhB;cACAtE,WAAW,CAACgD,IAAZ,CAAiB;gBACf,QAAmBqB,OAAO,CAAC,CAAD,CADX;gBAEf,aAAmB,GAAGhE,KAAH,CAASC,IAAT,CAAc+D,OAAd,EAAuB,CAAvB,KAA6B,EAFjC;gBAGf,WAAmBtD,OAHJ;gBAIf,kBAAmBwD;cAJJ,CAAjB;YAMD;;YACDE,YAAY,CAACvD,MAAM,CAAClB,WAAP,CAAmB0E,KAApB,CAAZ;YACAxD,MAAM,CAAClB,WAAP,CAAmB0E,KAAnB,GAA2BlC,UAAU,CAACtB,MAAM,CAAClB,WAAP,CAAmB2E,OAApB,EAA6B,GAA7B,CAArC;UACD,CArBU;UAsBXA,OAAO,EAAE,YAAW;YAClB,IACEC,KAAK,GAAGrE,QAAQ,CAACmC,IAAT,GAAgB,GAD1B;YAAA,IAEEmC,SAAS,GAAG,CAFd;YAIAhF,IAAI,GAAG,KAAP;YACA4E,YAAY,CAACvD,MAAM,CAAClB,WAAP,CAAmB0E,KAApB,CAAZ;YACAvF,CAAC,CAAC2D,IAAF,CAAO9C,WAAP,EAAoB,UAAS+C,KAAT,EAAgB9B,IAAhB,EAAsB;cACxC4D,SAAS,IAAI5D,IAAI,CAAC,gBAAD,CAAjB;YACD,CAFD;YAGA2D,KAAK,IAAI,MAAMC,SAAN,GAAkB,IAA3B;;YACA,IAAGkC,cAAH,EAAmB;cACjBnC,KAAK,IAAI,QAAQmC,cAAR,GAAyB,IAAlC;YACD;;YACD,IAAGD,WAAW,CAACtD,MAAZ,GAAqB,CAAxB,EAA2B;cACzBoB,KAAK,IAAI,MAAM,GAAN,GAAYkC,WAAW,CAACtD,MAAxB,GAAiC,GAA1C;YACD;;YACD,IAAI,CAAC/B,OAAO,CAACK,KAAR,KAAkBxC,SAAlB,IAA+BmC,OAAO,CAACqD,KAAR,KAAkBxF,SAAlD,KAAgEU,WAAW,CAACwD,MAAZ,GAAqB,CAAzF,EAA4F;cAC1F/B,OAAO,CAACO,cAAR,CAAuB4C,KAAvB;;cACA,IAAGnD,OAAO,CAACqD,KAAX,EAAkB;gBAChBrD,OAAO,CAACqD,KAAR,CAAc9E,WAAd;cACD,CAFD,MAGK;gBACHb,CAAC,CAAC2D,IAAF,CAAO9C,WAAP,EAAoB,UAAS+C,KAAT,EAAgB9B,IAAhB,EAAsB;kBACxCQ,OAAO,CAACG,GAAR,CAAYX,IAAI,CAAC,MAAD,CAAJ,GAAe,IAAf,GAAsBA,IAAI,CAAC,gBAAD,CAA1B,GAA6C,IAAzD;gBACD,CAFD;cAGD;;cACDQ,OAAO,CAACM,QAAR;YACD;;YACD/B,WAAW,GAAG,EAAd;UACD;QApDU,CA3XN;QAibP+E,MAAM,EAAE,UAAS9E,KAAT,EAAgB+E,eAAhB,EAAiCC,OAAjC,EAA0C;UAChD,IACEC,MAAM,GAAGlE,QADX;UAAA,IAEEmE,QAFF;UAAA,IAGEC,KAHF;UAAA,IAIEC,QAJF;UAMAL,eAAe,GAAGA,eAAe,IAAI5E,cAArC;UACA6E,OAAO,GAAWlE,OAAO,IAAYkE,OAArC;;UACA,IAAG,OAAOhF,KAAP,IAAgB,QAAhB,IAA4BiF,MAAM,KAAK5F,SAA1C,EAAqD;YACnDW,KAAK,GAAMA,KAAK,CAACqF,KAAN,CAAY,OAAZ,CAAX;YACAH,QAAQ,GAAGlF,KAAK,CAACuD,MAAN,GAAe,CAA1B;YACArE,CAAC,CAAC2D,IAAF,CAAO7C,KAAP,EAAc,UAASsF,KAAT,EAAgBlC,KAAhB,EAAuB;cACnC,IAAImC,cAAc,GAAID,KAAK,IAAIJ,QAAV,GACjB9B,KAAK,GAAGpD,KAAK,CAACsF,KAAK,GAAG,CAAT,CAAL,CAAiBE,MAAjB,CAAwB,CAAxB,EAA2BC,WAA3B,EAAR,GAAmDzF,KAAK,CAACsF,KAAK,GAAG,CAAT,CAAL,CAAiBlF,KAAjB,CAAuB,CAAvB,CADlC,GAEjBJ,KAFJ;;cAIA,IAAId,CAAC,CAACqB,aAAF,CAAiB0E,MAAM,CAACM,cAAD,CAAvB,KAA8CD,KAAK,IAAIJ,QAA3D,EAAuE;gBACrED,MAAM,GAAGA,MAAM,CAACM,cAAD,CAAf;cACD,CAFD,MAGK,IAAIN,MAAM,CAACM,cAAD,CAAN,KAA2BlG,SAA/B,EAA2C;gBAC9C8F,KAAK,GAAGF,MAAM,CAACM,cAAD,CAAd;gBACA,OAAO,KAAP;cACD,CAHI,MAIA,IAAIrG,CAAC,CAACqB,aAAF,CAAiB0E,MAAM,CAAC7B,KAAD,CAAvB,KAAqCkC,KAAK,IAAIJ,QAAlD,EAA8D;gBACjED,MAAM,GAAGA,MAAM,CAAC7B,KAAD,CAAf;cACD,CAFI,MAGA,IAAI6B,MAAM,CAAC7B,KAAD,CAAN,KAAkB/D,SAAtB,EAAkC;gBACrC8F,KAAK,GAAGF,MAAM,CAAC7B,KAAD,CAAd;gBACA,OAAO,KAAP;cACD,CAHI,MAIA;gBACHnC,MAAM,CAACP,KAAP,CAAaA,KAAK,CAACgF,MAAnB,EAA2B1F,KAA3B;gBACA,OAAO,KAAP;cACD;YACF,CAvBD;UAwBD;;UACD,IAAKd,CAAC,CAACI,UAAF,CAAc6F,KAAd,CAAL,EAA6B;YAC3BC,QAAQ,GAAGD,KAAK,CAAChB,KAAN,CAAYa,OAAZ,EAAqBD,eAArB,CAAX;UACD,CAFD,MAGK,IAAGI,KAAK,KAAK9F,SAAb,EAAwB;YAC3B+F,QAAQ,GAAGD,KAAX;UACD;;UACD,IAAGQ,KAAK,CAACC,OAAN,CAAc1E,aAAd,CAAH,EAAiC;YAC/BA,aAAa,CAAC6B,IAAd,CAAmBqC,QAAnB;UACD,CAFD,MAGK,IAAGlE,aAAa,KAAK7B,SAArB,EAAgC;YACnC6B,aAAa,GAAG,CAACA,aAAD,EAAgBkE,QAAhB,CAAhB;UACD,CAFI,MAGA,IAAGA,QAAQ,KAAK/F,SAAhB,EAA2B;YAC9B6B,aAAa,GAAGkE,QAAhB;UACD;;UACD,OAAOD,KAAP;QACD;MAteM,CAAT;;MAyeA,IAAGjF,aAAH,EAAkB;QAChB,IAAGa,QAAQ,KAAK1B,SAAhB,EAA2B;UACzB4B,MAAM,CAACE,UAAP;QACD;;QACDF,MAAM,CAAC6D,MAAP,CAAc9E,KAAd;MACD,CALD,MAMK;QACH,IAAGe,QAAQ,KAAK1B,SAAhB,EAA2B;UACzB0B,QAAQ,CAAC+D,MAAT,CAAgB,SAAhB;QACD;;QACD7D,MAAM,CAACE,UAAP;MACD;IACF,CAjhBH;IAmhBA,OAAQD,aAAa,KAAK7B,SAAnB,GACH6B,aADG,GAEH,IAFJ;EAID,CAxiBD;;EA0iBAhC,CAAC,CAACQ,EAAF,CAAKstC,KAAL,CAAW1sC,QAAX,GAAsB;IAEpBmC,IAAI,EAAU,OAFM;IAGpBhC,SAAS,EAAK,OAHM;IAKpB6U,MAAM,EAAQ,KALM;IAMpB5T,KAAK,EAAS,KANM;IAOpBL,OAAO,EAAO,KAPM;IAQpBtB,WAAW,EAAG,IARM;IAUpB6yB,IAAI,EAAO,KAVS;IAWpB+a,MAAM,EAAK,KAXS;IAYpB93B,GAAG,EAAQ,KAZS;IAapBge,EAAE,EAAS,KAbS;IAepB;IACAuZ,QAAQ,EAAI,MAhBQ;IAiBpBzb,KAAK,EAAO,SAjBQ;IAkBpB8c,EAAE,EAAU,IAlBQ;IAmBpBC,SAAS,EAAG,KAnBQ;IAqBpB;IACA/uC,UAAU,EAAE,KAtBQ;IAwBpBmuC,SAAS,EAAc,YAAW,CAAE,CAxBhB;IAyBpBC,oBAAoB,EAAG,YAAW,CAAE,CAzBhB;IA0BpBF,OAAO,EAAgB,YAAW,CAAE,CA1BhB;IA2BpBJ,QAAQ,EAAe,UAAS53B,GAAT,EAAc,CAAE,CA3BnB;IA4BpB04B,OAAO,EAAgB,UAAS5uC,UAAT,EAAqB;MAC1C,OAAOA,UAAP;IACD,CA9BmB;IAgCpBgI,QAAQ,EAAM;MACZksB,EAAE,EAAY,IADF;MAEZjB,IAAI,EAAU,MAFF;MAGZsP,WAAW,EAAG,aAHF;MAIZyL,MAAM,EAAQ,QAJF;MAKZ93B,GAAG,EAAW;IALF,CAhCM;IAwCpBnV,KAAK,EAAG;MACN2tC,KAAK,EAAI,kBADH;MAEN3oC,MAAM,EAAG;IAFH,CAxCY;IA6CpBkC,SAAS,EAAG;MACV8S,MAAM,EAAG,QADC;MAEVsyB,KAAK,EAAI;IAFC,CA7CQ;IAkDpBjmC,QAAQ,EAAG;MACTimC,KAAK,EAAS,QADL;MAET9K,WAAW,EAAG,cAFL;MAGTtP,IAAI,EAAU;IAHL,CAlDS;IAwDpBqa,OAAO,EAAE;MACP0B,OAAO,EAAE;QACPlsC,IAAI,EAAK,SADF;QAEPiH,IAAI,EAAK,OAFF;QAGPkpB,IAAI,EAAK,YAHF;QAIPqb,MAAM,EAAG,aAJF;QAKPp4B,GAAG,EAAM,8BALF;QAMPlW,UAAU,EAAE,UAASW,QAAT,EAAmB;UAC7B,OAAO;YACLsuC,QAAQ,EAAS,CAACtuC,QAAQ,CAACouC,SADtB;YAELtB,QAAQ,EAAS9sC,QAAQ,CAAC8sC,QAFrB;YAGLzb,KAAK,EAAYrxB,QAAQ,CAACqxB,KAAT,IAAkBtyB,SAH9B;YAILwvC,EAAE,EAAevuC,QAAQ,CAACmuC,EAJrB;YAKLK,KAAK,EAAYxuC,QAAQ,CAAC21B,GALrB;YAML8Y,cAAc,EAAG,CAACzuC,QAAQ,CAACouC;UANtB,CAAP;QAQD;MAfM,CADF;MAkBPM,KAAK,EAAE;QACLvsC,IAAI,EAAK,OADJ;QAELiH,IAAI,EAAK,OAFJ;QAGLkpB,IAAI,EAAK,YAHJ;QAILqb,MAAM,EAAG,WAJJ;QAKLp4B,GAAG,EAAM,+BALJ;QAMLlW,UAAU,EAAE,UAASW,QAAT,EAAmB;UAC7B,OAAO;YACL21B,GAAG,EAAQ31B,QAAQ,CAAC21B,GADf;YAELmX,QAAQ,EAAG9sC,QAAQ,CAAC8sC,QAFf;YAGL6B,MAAM,EAAK3uC,QAAQ,CAACouC,SAHf;YAIL/c,KAAK,EAAMrxB,QAAQ,CAACqxB,KAAT,IAAkBtyB,SAJxB;YAKL6vC,QAAQ,EAAG5uC,QAAQ,CAACouC,SALf;YAML/pC,KAAK,EAAMrE,QAAQ,CAACouC;UANf,CAAP;QAQD;MAfI;IAlBA,CAxDW;IA6FpBl8B,SAAS,EAAE;MACT47B,MAAM,EAAG,UAASv4B,GAAT,EAAclW,UAAd,EAA0B;QACjC,IAAIwvC,GAAG,GAAGt5B,GAAV;;QACA,IAAIlW,UAAJ,EAAgB;UACZwvC,GAAG,IAAI,MAAMxvC,UAAb;QACH;;QACD,OAAO,KACH,eADG,GACewvC,GADf,GACqB,GADrB,GAEH,6BAFG,GAGH,qEAHJ;MAKD,CAXQ;MAYTjN,WAAW,EAAG,UAAS+J,KAAT,EAAgBrZ,IAAhB,EAAsB;QAClC,IACEjgB,IAAI,GAAG,EADT;;QAGA,IAAGigB,IAAH,EAAS;UACPjgB,IAAI,IAAI,eAAeigB,IAAf,GAAsB,aAA9B;QACD;;QACD,IAAGqZ,KAAH,EAAU;UACRt5B,IAAI,IAAI,mCAAmCs5B,KAAnC,GAA2C,IAAnD;QACD;;QACD,OAAOt5B,IAAP;MACD;IAvBQ,CA7FS;IAuHpB;IACAsjB,GAAG,EAAO,KAxHU;IAyHpBmZ,OAAO,EAAG,YAAW,CAAE,CAzHH;IA0HpBC,MAAM,EAAI,YAAW,CAAE,CA1HH;IA2HpBC,MAAM,EAAI,YAAW,CAAE;EA3HH,CAAtB;AAiIC,CA1rBA,EA0rBG7oC,MA1rBH,EA0rBWtH,MA1rBX,EA0rBmBC,QA1rBnB;AA4rBD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA;;AAAC,CAAC,UAAUF,CAAV,EAAaC,MAAb,EAAqBC,QAArB,EAA+BC,SAA/B,EAA0C;EAE5C;;EAEAH,CAAC,CAACI,UAAF,GAAeJ,CAAC,CAACI,UAAF,IAAgB,UAASC,GAAT,EAAc;IAC3C,OAAO,OAAOA,GAAP,KAAe,UAAf,IAA6B,OAAOA,GAAG,CAACC,QAAX,KAAwB,QAA5D;EACD,CAFD;;EAIAL,MAAM,GAAI,OAAOA,MAAP,IAAiB,WAAjB,IAAgCA,MAAM,CAACuH,IAAP,IAAeA,IAAhD,GACLvH,MADK,GAEJ,OAAOwH,IAAP,IAAe,WAAf,IAA8BA,IAAI,CAACD,IAAL,IAAaA,IAA5C,GACEC,IADF,GAEE3C,QAAQ,CAAC,aAAD,CAAR,EAJN;;EAOA9E,CAAC,CAACQ,EAAF,CAAK6vC,KAAL,GAAa,UAAS5vC,UAAT,EAAqB;IAChC,IACEkH,WAAW,GAAM3H,CAAC,CAAC,IAAD,CADpB;IAAA,IAEEswC,OAAO,GAAUtwC,CAAC,CAACC,MAAD,CAFpB;IAAA,IAGEyB,SAAS,GAAQ1B,CAAC,CAACE,QAAD,CAHpB;IAAA,IAIEqwC,KAAK,GAAYvwC,CAAC,CAAC,MAAD,CAJpB;IAAA,IAME4H,cAAc,GAAGD,WAAW,CAACE,QAAZ,IAAwB,EAN3C;IAAA,IAQEnH,IAAI,GAAa,IAAIC,IAAJ,GAAWC,OAAX,EARnB;IAAA,IASEC,WAAW,GAAM,EATnB;IAAA,IAWEC,KAAK,GAAYC,SAAS,CAAC,CAAD,CAX5B;IAAA,IAYEC,aAAa,GAAK,OAAOF,KAAP,IAAgB,QAZpC;IAAA,IAaEG,cAAc,GAAG,GAAGC,KAAH,CAASC,IAAT,CAAcJ,SAAd,EAAyB,CAAzB,CAbnB;IAAA,IAeEwB,qBAAqB,GAAGtC,MAAM,CAACsC,qBAAP,IACnBtC,MAAM,CAACgD,wBADY,IAEnBhD,MAAM,CAACiD,2BAFY,IAGnBjD,MAAM,CAACkD,uBAHY,IAInB,UAASC,QAAT,EAAmB;MAAEC,UAAU,CAACD,QAAD,EAAW,CAAX,CAAV;IAA0B,CAnBtD;IAAA,IAqBEpB,aArBF;;IAwBA2F,WAAW,CACRhE,IADH,CACQ,YAAW;MACf,IACEvC,QAAQ,GAAQpB,CAAC,CAACqB,aAAF,CAAgBZ,UAAhB,CAAF,GACVT,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAe,EAAf,EAAmBtB,CAAC,CAACQ,EAAF,CAAK6vC,KAAL,CAAWjvC,QAA9B,EAAwCX,UAAxC,CADU,GAEVT,CAAC,CAACsB,MAAF,CAAS,EAAT,EAAatB,CAAC,CAACQ,EAAF,CAAK6vC,KAAL,CAAWjvC,QAAxB,CAHN;MAAA,IAKEyG,QAAQ,GAAUzG,QAAQ,CAACyG,QAL7B;MAAA,IAMEa,SAAS,GAAStH,QAAQ,CAACsH,SAN7B;MAAA,IAOEnH,SAAS,GAASH,QAAQ,CAACG,SAP7B;MAAA,IAQE4O,MAAM,GAAY/O,QAAQ,CAAC+O,MAR7B;MAAA,IASE3O,KAAK,GAAaJ,QAAQ,CAACI,KAT7B;MAAA,IAWEoH,cAAc,GAAI,MAAMrH,SAX1B;MAAA,IAYEE,eAAe,GAAG,YAAYF,SAZhC;MAAA,IAcEI,OAAO,GAAW3B,CAAC,CAAC,IAAD,CAdrB;MAAA,IAeEozB,QAAQ,GAAUpzB,CAAC,CAACoB,QAAQ,CAAC0E,OAAV,CAfrB;MAAA,IAgBE0qC,MAAM,GAAY7uC,OAAO,CAAC6H,IAAR,CAAa3B,QAAQ,CAAC+T,KAAtB,CAhBpB;MAAA,IAkBE60B,UAlBF;MAAA,IAmBEC,YAnBF;MAAA,IAoBEC,eApBF;MAAA,IAqBEtf,SArBF;MAAA,IAsBED,OAtBF;MAAA,IAwBExvB,OAAO,GAAW,IAxBpB;MAAA,IAyBEC,QAAQ,GAAUF,OAAO,CAACwK,QAAR,CAAiB,OAAjB,IAA4BxK,OAAO,CAACG,IAAR,CAAaL,eAAb,CAA5B,GAA4DtB,SAzBhF;MAAA,IA2BEywC,oBAAoB,GAAG,KA3BzB;MAAA,IA6BEC,uBA7BF;MAAA,IA8BEC,2BA9BF;MAAA,IA+BEC,iBAAiB,GAAG,EA/BtB;MAAA,IAgCEC,cAAc,GAAG,EAhCnB;MAAA,IAkCEC,qBAlCF;MAAA,IAmCEtc,EAnCF;MAAA,IAoCEna,QApCF;MAAA,IAqCEzY,MArCF;MAuCAA,MAAM,GAAI;QAERE,UAAU,EAAE,YAAW;UACrB,IAAG,CAACN,OAAO,CAACwK,QAAR,CAAiB,OAAjB,CAAJ,EAA+B;YAC7BpK,MAAM,CAACsd,MAAP,CAAcgxB,KAAd;;YACA,IAAG,CAACrwC,CAAC,CAACI,UAAF,CAAagB,QAAQ,CAAC2e,QAAtB,CAAJ,EAAqC;cACnC3e,QAAQ,CAAC2e,QAAT,GAAoB,YAAY;gBAC9Bhe,MAAM,CAAC4C,OAAP;gBACAhD,OAAO,CAAC0K,MAAR;cACD,CAHD;YAID;UACF;;UACD1K,OAAO,CAAC0R,QAAR,CAAiBjS,QAAQ,CAAC4kB,KAA1B;;UACA,IAAI5kB,QAAQ,CAACqE,KAAT,KAAmB,EAAvB,EAA2B;YACzB9D,OAAO,CAAC6H,IAAR,CAAa3B,QAAQ,CAACpC,KAAtB,EAA6BgO,IAA7B,CAAkC1R,MAAM,CAACmvC,OAAP,CAAejiC,MAAf,CAAsB7N,QAAQ,CAACqE,KAA/B,EAAsCrE,QAAQ,CAACu2B,YAA/C,CAAlC,EAAgGtkB,QAAhG,CAAyGjS,QAAQ,CAAC+vC,UAAlH;UACD;;UACD,IAAI/vC,QAAQ,CAACmZ,OAAT,KAAqB,EAAzB,EAA6B;YAC3B5Y,OAAO,CAAC6H,IAAR,CAAa3B,QAAQ,CAAC0S,OAAtB,EAA+B9G,IAA/B,CAAoC1R,MAAM,CAACmvC,OAAP,CAAejiC,MAAf,CAAsB7N,QAAQ,CAACmZ,OAA/B,EAAwCnZ,QAAQ,CAACu2B,YAAjD,CAApC,EAAoGtkB,QAApG,CAA6GjS,QAAQ,CAACgwC,YAAtH;UACD;;UACD,IAAGrvC,MAAM,CAAC6Q,GAAP,CAAWy+B,aAAX,EAAH,EAA8B;YAC5B,IAAIC,QAAQ,GAAG3vC,OAAO,CAAC6H,IAAR,CAAa3B,QAAQ,CAAC0pC,OAAtB,EAA+Bl+B,QAA/B,CAAwCjS,QAAQ,CAACowC,YAAjD,CAAf;;YACA,IAAIF,QAAQ,CAACjtC,MAAT,KAAoB,CAAxB,EAA2B;cACzBitC,QAAQ,GAAGtxC,CAAC,CAAC,QAAD,EAAW;gBAACgmB,KAAK,EAAEtd,SAAS,CAAC6oC,OAAV,GAAoB,GAApB,IAA2BnwC,QAAQ,CAACowC,YAAT,IAAyB,EAApD;cAAR,CAAX,CAAD,CAA8Eh+B,QAA9E,CAAuF7R,OAAvF,CAAX;YACD,CAFD,MAEO;cACL2vC,QAAQ,CAAC7jC,KAAT;YACD;;YACDrM,QAAQ,CAACmwC,OAAT,CAAiB3oB,OAAjB,CAAyB,UAAUte,EAAV,EAAc;cACrC,IAAIopB,IAAI,GAAGppB,EAAE,CAAC6F,MAAM,CAACujB,IAAR,CAAF,GAAkB,eAAe3xB,MAAM,CAACmvC,OAAP,CAAe/T,OAAf,CAAuB7yB,EAAE,CAAC6F,MAAM,CAACujB,IAAR,CAAzB,CAAf,GAAyD,aAA3E,GAA2F,EAAtG;cAAA,IACIhkB,IAAI,GAAG3N,MAAM,CAACmvC,OAAP,CAAejiC,MAAf,CAAsB3E,EAAE,CAAC6F,MAAM,CAACT,IAAR,CAAF,IAAmB,EAAzC,EAA6CtO,QAAQ,CAACu2B,YAAtD,CADX;cAAA,IAEI8Z,GAAG,GAAG1vC,MAAM,CAACmvC,OAAP,CAAe/T,OAAf,CAAuB7yB,EAAE,CAAC6F,MAAM,CAAC6V,KAAR,CAAF,IAAoB,EAA3C,CAFV;cAAA,IAGIhL,KAAK,GAAG1Q,EAAE,CAAC6F,MAAM,CAAC6K,KAAR,CAAF,IAAoBhb,CAAC,CAACI,UAAF,CAAakK,EAAE,CAAC6F,MAAM,CAAC6K,KAAR,CAAf,CAApB,GAAqD1Q,EAAE,CAAC6F,MAAM,CAAC6K,KAAR,CAAvD,GAAwE,YAAY,CAAE,CAHlG;cAIAs2B,QAAQ,CAAC1xB,MAAT,CAAgB5f,CAAC,CAAC,WAAD,EAAc;gBAC7ByT,IAAI,EAAEigB,IAAI,GAAGhkB,IADgB;gBAE7BsW,KAAK,EAAEtd,SAAS,CAACgpC,MAAV,GAAmB,GAAnB,GAAyBD,GAFH;gBAG7Bz2B,KAAK,EAAE,YAAY;kBACjB,IAAIA,KAAK,CAAC7Z,IAAN,CAAWS,OAAX,EAAoBD,OAApB,MAAiC,KAArC,EAA4C;oBAC1C;kBACD;;kBACDI,MAAM,CAACosB,IAAP;gBACD;cAR4B,CAAd,CAAjB;YAUD,CAfD;UAgBD;;UACDpsB,MAAM,CAACyC,KAAP,GAAe,EAAf;UACAzC,MAAM,CAACI,OAAP,CAAe,qBAAf,EAAsCixB,QAAtC;UAEArxB,MAAM,CAACsd,MAAP,CAAcsV,EAAd;UACA5yB,MAAM,CAACsd,MAAP,CAAc4R,MAAd;;UAEA,IAAK7vB,QAAQ,CAACuwC,aAAd,EAA8B;YAC5B5vC,MAAM,CAACsd,MAAP,CAAcuyB,WAAd;UACD;;UACD,IAAI,CAACxwC,QAAQ,CAACywC,QAAd,EAAuB;YACrBlwC,OAAO,CAAC0R,QAAR,CAAiB,aAAjB;UACD;;UACDtR,MAAM,CAAC+vC,aAAP;UAEA/vC,MAAM,CAACiD,IAAP,CAAYyV,MAAZ;;UACA,IAAGrZ,QAAQ,CAACsZ,cAAZ,EAA4B;YAC1B3Y,MAAM,CAAC2Y,cAAP;UACD;;UACD3Y,MAAM,CAACG,WAAP;;UACA,IAAGd,QAAQ,CAAC2wC,QAAZ,EAAqB;YACnBhwC,MAAM,CAACqsB,IAAP;UACD;QACF,CAjEO;QAmERlsB,WAAW,EAAE,YAAW;UACtBH,MAAM,CAACI,OAAP,CAAe,2BAAf;UACAN,QAAQ,GAAGE,MAAX;UACAJ,OAAO,CACJG,IADH,CACQL,eADR,EACyBI,QADzB;QAGD,CAzEO;QA2ERwd,MAAM,EAAE;UACNgxB,KAAK,EAAE,YAAW;YAChB1uC,OAAO,GAAG3B,CAAC,CAAC,QAAD,EAAW;cAACgmB,KAAK,EAAEtd,SAAS,CAAC2nC;YAAlB,CAAX,CAAX;;YACA,IAAIjvC,QAAQ,CAAC4wC,SAAb,EAAwB;cACtBxB,MAAM,GAAGxwC,CAAC,CAAC,MAAD,EAAS;gBAACgmB,KAAK,EAAEtd,SAAS,CAACkT;cAAlB,CAAT,CAAV;cACAja,OAAO,CAACie,MAAR,CAAe4wB,MAAf;YACD;;YACD,IAAIpvC,QAAQ,CAACqE,KAAT,KAAmB,EAAvB,EAA2B;cACzBzF,CAAC,CAAC,QAAD,EAAW;gBAACgmB,KAAK,EAAEtd,SAAS,CAACjD;cAAlB,CAAX,CAAD,CAAsC+N,QAAtC,CAA+C7R,OAA/C;YACD;;YACD,IAAIP,QAAQ,CAACmZ,OAAT,KAAqB,EAAzB,EAA6B;cAC3Bva,CAAC,CAAC,QAAD,EAAW;gBAACgmB,KAAK,EAAEtd,SAAS,CAAC6R;cAAlB,CAAX,CAAD,CAAwC/G,QAAxC,CAAiD7R,OAAjD;YACD;;YACD,IAAII,MAAM,CAAC6Q,GAAP,CAAWy+B,aAAX,EAAJ,EAAgC;cAC9BrxC,CAAC,CAAC,QAAD,EAAW;gBAACgmB,KAAK,EAAEtd,SAAS,CAAC6oC;cAAlB,CAAX,CAAD,CAAwC/9B,QAAxC,CAAiD7R,OAAjD;YACD;;YACDyxB,QAAQ,CAACxT,MAAT,CAAgBje,OAAhB;UACD,CAjBK;UAkBNsvB,MAAM,EAAE,YAAW;YACjB,IACEghB,eAAe,GAAG;cAChBzvC,KAAK,EAAQpB,QAAQ,CAACoB,KADN;cAEhB+uB,UAAU,EAAG;YAFG,CADpB;YAAA,IAKE2gB,cAAc,GAAGlyC,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAe2wC,eAAf,EAAgC7wC,QAAQ,CAAC8wC,cAAzC,CALnB;;YAOA,IAAGlyC,CAAC,CAACQ,EAAF,CAAKywB,MAAL,KAAgB9wB,SAAnB,EAA8B;cAC5B4B,MAAM,CAACP,KAAP,CAAaA,KAAK,CAACyvB,MAAnB;cACA;YACD;;YACDlvB,MAAM,CAACS,KAAP,CAAa,iBAAb;YACA6uB,SAAS,GAAG+B,QAAQ,CAACnC,MAAT,CAAgBihB,cAAhB,CAAZ;;YACA,IAAG9wC,QAAQ,CAAC+wC,UAAZ,EAAwB;cACtBpwC,MAAM,CAACI,OAAP,CAAe,iDAAf;cACAkvB,SAAS,CAACJ,MAAV,CAAiB,aAAjB,EAAgCtvB,OAAhC;YACD,CAHD,MAIK;cACHI,MAAM,CAACoH,GAAP,CAAWipC,UAAX;YACD;;YACDhhB,OAAO,GAAGC,SAAS,CAACJ,MAAV,CAAiB,YAAjB,CAAV;UACD,CAxCK;UAyCN0D,EAAE,EAAE,YAAW;YACbA,EAAE,GAAG,CAACntB,IAAI,CAACguB,MAAL,GAAcxnB,QAAd,CAAuB,EAAvB,IAA6B,WAA9B,EAA2CynB,MAA3C,CAAkD,CAAlD,EAAqD,CAArD,CAAL;YACAwb,qBAAqB,GAAG,MAAMtc,EAA9B;YACA5yB,MAAM,CAACI,OAAP,CAAe,gCAAf,EAAiDwyB,EAAjD;UACD,CA7CK;UA8CNid,WAAW,EAAE,YAAW;YACtB,IAAKjwC,OAAO,CAAC6H,IAAR,CAAa3B,QAAQ,CAACopB,MAAtB,EAA8B5sB,MAA9B,IAAwC,CAA7C,EAAiD;cAC/C1C,OAAO,CAAC0wC,OAAR,CAAgB,wCAAhB;YACD;UACF;QAlDK,CA3EA;QAgIR1tC,OAAO,EAAE,YAAW;UAClB,IAAI6V,QAAJ,EAAc;YACZA,QAAQ,CAAC+E,UAAT;UACD;;UACDxd,MAAM,CAACI,OAAP,CAAe,2BAAf;UACAR,OAAO,CACJiD,UADH,CACcnD,eADd,EAEGgN,GAFH,CAEO7F,cAFP;UAIA0nC,OAAO,CAAC7hC,GAAR,CAAYwiC,qBAAZ;UACA7f,OAAO,CAAC3iB,GAAR,CAAYwiC,qBAAZ;UACAT,MAAM,CAAC/hC,GAAP,CAAW7F,cAAX;UACAwqB,QAAQ,CAACnC,MAAT,CAAgB,SAAhB;QACD,CA7IO;QA+IRvW,cAAc,EAAE,YAAW;UACzB,IAAG,sBAAsBza,MAAzB,EAAiC;YAC/Bua,QAAQ,GAAG,IAAIG,gBAAJ,CAAqB,UAASC,SAAT,EAAoB;cAClD7Y,MAAM,CAACS,KAAP,CAAa,+BAAb;cACAT,MAAM,CAACkH,OAAP;YACD,CAHU,CAAX;YAIAuR,QAAQ,CAACK,OAAT,CAAiBjZ,OAAjB,EAA0B;cACxBkZ,SAAS,EAAG,IADY;cAExBC,OAAO,EAAK;YAFY,CAA1B;YAIAhZ,MAAM,CAACS,KAAP,CAAa,8BAAb,EAA6CgY,QAA7C;UACD;QACF,CA3JO;QA6JRvR,OAAO,EAAE,YAAW;UAClBlH,MAAM,CAACsK,MAAP,CAAcimC,SAAd;UACAvwC,MAAM,CAACwwC,UAAP;;UACA,IAAG,CAACxwC,MAAM,CAACgK,GAAP,CAAWgmB,OAAX,EAAJ,EAA0B;YACxBhwB,MAAM,CAACoH,GAAP,CAAWqpC,WAAX;UACD;;UACDzwC,MAAM,CAACoH,GAAP,CAAWspC,YAAX;UACA1wC,MAAM,CAACoH,GAAP,CAAWqB,IAAX;QACD,CArKO;QAuKRsnC,aAAa,EAAE,YAAW;UACxBpB,YAAY,GAAG/uC,OAAO,CAACo9B,QAAR,CAAiBl3B,QAAQ,CAACwoC,KAA1B,CAAf;UACAI,UAAU,GAAKC,YAAY,CAAC9+B,GAAb,CAAiBjQ,OAAjB,CAAf;QACD,CA1KO;QA4KRkI,YAAY,EAAE,UAAShC,QAAT,EAAmBmC,KAAnB,EAA0B;UACtC,IACE0oC,OAAO,GAAG1yC,CAAC,CAAC6H,QAAD,CADb;UAGAmC,KAAK,GAAGhK,CAAC,CAACI,UAAF,CAAa2B,MAAM,CAACiI,KAAD,CAAnB,IACJjI,MAAM,CAACiI,KAAD,CADF,GAEJjI,MAAM,CAACkZ,MAFX;;UAIA,IAAGy3B,OAAO,CAACruC,MAAR,GAAiB,CAApB,EAAuB;YACrBtC,MAAM,CAACS,KAAP,CAAa,mCAAb,EAAkDqF,QAAlD,EAA4DmC,KAA5D;YACA0oC,OAAO,CACJjkC,GADH,CACO7F,cADP,EAEGmB,EAFH,CAEM,UAAUnB,cAFhB,EAEgCoB,KAFhC;UAID,CAND,MAOK;YACHjI,MAAM,CAACP,KAAP,CAAaA,KAAK,CAACitB,QAAnB,EAA6B5mB,QAA7B;UACD;QACF,CA9LO;QAgMR7C,IAAI,EAAE;UACJyV,MAAM,EAAE,YAAW;YACjB1Y,MAAM,CAACI,OAAP,CAAe,kBAAf;YACAR,OAAO,CACJoI,EADH,CACM,UAAUnB,cADhB,EACgCf,QAAQ,CAAC+T,KADzC,EACgD7Z,MAAM,CAACiI,KAAP,CAAa4R,KAD7D,EAEG7R,EAFH,CAEM,UAAUnB,cAFhB,EAEgCf,QAAQ,CAAC8qC,OAFzC,EAEkD5wC,MAAM,CAACiI,KAAP,CAAa2oC,OAF/D,EAGG5oC,EAHH,CAGM,UAAUnB,cAHhB,EAGgCf,QAAQ,CAAC+qC,IAHzC,EAG+C7wC,MAAM,CAACiI,KAAP,CAAa4oC,IAH5D;YAKAtC,OAAO,CACJvmC,EADH,CACM,WAAWknC,qBADjB,EACwClvC,MAAM,CAACiI,KAAP,CAAa6oC,MADrD;UAGD,CAXG;UAYJC,UAAU,EAAE,YAAW;YACrB;YACAzhB,SAAS,CAACroB,GAAV,CAAc,CAAd,EAAiB+pC,gBAAjB,CAAkC,WAAlC,EAA+ChxC,MAAM,CAACiI,KAAP,CAAagpC,aAA5D,EAA2E;cAAEC,OAAO,EAAE;YAAX,CAA3E;UACD;QAfG,CAhME;QAkNR3zB,MAAM,EAAE;UACNwzB,UAAU,EAAE,YAAW;YACrBzhB,SAAS,CAACroB,GAAV,CAAc,CAAd,EAAiBkqC,mBAAjB,CAAqC,WAArC,EAAkDnxC,MAAM,CAACiI,KAAP,CAAagpC,aAA/D,EAA8E;cAAEC,OAAO,EAAE;YAAX,CAA9E;UACD;QAHK,CAlNA;QAwNRjqC,GAAG,EAAE;UACH2rB,EAAE,EAAE,YAAW;YACb,OAAO,CAACntB,IAAI,CAACguB,MAAL,GAAcxnB,QAAd,CAAuB,EAAvB,IAA6B,WAA9B,EAA2CynB,MAA3C,CAAkD,CAAlD,EAAqD,CAArD,CAAP;UACD,CAHE;UAIH7zB,OAAO,EAAE,YAAW;YAClB,OAAOD,OAAP;UACD,CANE;UAOHP,QAAQ,EAAE,YAAW;YACnB,OAAOA,QAAP;UACD;QATE,CAxNG;QAoOR4I,KAAK,EAAE;UACL2oC,OAAO,EAAE,YAAW;YAClB,IAAG/B,oBAAoB,IAAIxvC,QAAQ,CAAC+xC,SAAT,CAAmBhyC,IAAnB,CAAwBS,OAAxB,EAAiC5B,CAAC,CAAC,IAAD,CAAlC,MAA8C,KAAzE,EAAgF;cAC9E+B,MAAM,CAACI,OAAP,CAAe,iDAAf;cACA;YACD;;YACDyuC,oBAAoB,GAAG,IAAvB;YACA7uC,MAAM,CAACosB,IAAP,CAAY,YAAW;cACrByiB,oBAAoB,GAAG,KAAvB;YACD,CAFD;UAGD,CAVI;UAWLoC,aAAa,EAAE,UAAShpC,KAAT,EAAgB;YAC7B,IAAGA,KAAK,CAACie,MAAN,CAAavf,SAAb,CAAuBoI,OAAvB,CAA+B,QAA/B,MAA6C,CAAC,CAAjD,EAAoD;cAClD9G,KAAK,CAACC,cAAN;YACD;UACF,CAfI;UAgBL2oC,IAAI,EAAE,YAAW;YACf,IAAGhC,oBAAoB,IAAIxvC,QAAQ,CAACgyC,MAAT,CAAgBjyC,IAAhB,CAAqBS,OAArB,EAA8B5B,CAAC,CAAC,IAAD,CAA/B,MAA2C,KAAtE,EAA6E;cAC3E+B,MAAM,CAACI,OAAP,CAAe,8CAAf;cACA;YACD;;YACDyuC,oBAAoB,GAAG,IAAvB;YACA7uC,MAAM,CAACosB,IAAP,CAAY,YAAW;cACrByiB,oBAAoB,GAAG,KAAvB;YACD,CAFD;UAGD,CAzBI;UA0BLh1B,KAAK,EAAE,YAAW;YAChB7Z,MAAM,CAACosB,IAAP;UACD,CA5BI;UA6BLxG,SAAS,EAAE,UAAS3d,KAAT,EAAgB;YACzB,IACE4kB,OAAO,GAAK5uB,CAAC,CAACgK,KAAK,CAACie,MAAP,CADf;YAAA,IAEEorB,KAAK,GAAGtxC,MAAM,CAAC4J,EAAP,CAAU2nC,GAAV,EAFV;YAGA;YACAzC,uBAAuB,GAAIjiB,OAAO,CAACtjB,OAAR,CAAgBzD,QAAQ,CAACwoC,KAAzB,EAAgChsC,MAAhC,GAAyC,CAApE;;YACA,IAAGwsC,uBAAH,EAA4B;cAC1B9uC,MAAM,CAACI,OAAP,CAAe,8CAAf;YACD;;YACD2uC,2BAA2B,GAAG/uC,MAAM,CAAC4J,EAAP,CAAU2mC,SAAV,OAA2B,CAACe,KAAD,IAAUrzC,CAAC,CAACC,MAAD,CAAD,CAAU+rC,UAAV,KAAyB5qC,QAAQ,CAACmyC,cAAlC,IAAoDvpC,KAAK,CAACwpC,OAArE,IAAkFH,KAAK,IAAIjyC,QAAQ,CAACmyC,cAAT,IAA2BvpC,KAAK,CAACwpC,OAAtJ,CAA9B;;YACA,IAAG1C,2BAAH,EAAgC;cAC9B/uC,MAAM,CAACI,OAAP,CAAe,kDAAf;YACD;UACF,CA1CI;UA2CLylB,OAAO,EAAE,UAAS5d,KAAT,EAAgB;YACvB,IAAG,CAAC5I,QAAQ,CAACof,QAAb,EAAuB;cACrBze,MAAM,CAACI,OAAP,CAAe,iDAAf;cACA;YACD;;YACD,IAAG0uC,uBAAH,EAA4B;cAC1B9uC,MAAM,CAACS,KAAP,CAAa,yEAAb;cACA;YACD;;YACD,IAAGsuC,2BAAH,EAA+B;cAC7B/uC,MAAM,CAACS,KAAP,CAAa,6EAAb;cACA;YACD;;YACD,IACEosB,OAAO,GAAK5uB,CAAC,CAACgK,KAAK,CAACie,MAAP,CADf;YAAA,IAEEwrB,SAAS,GAAI7kB,OAAO,CAACtjB,OAAR,CAAgBzD,QAAQ,CAACwoC,KAAzB,EAAgChsC,MAAhC,GAAyC,CAFxD;YAAA,IAGEqvC,OAAO,GAAK1zC,CAAC,CAAC0Y,QAAF,CAAWxY,QAAQ,CAACixB,eAApB,EAAqCnnB,KAAK,CAACie,MAA3C,CAHd;;YAKA,IAAG,CAACwrB,SAAD,IAAcC,OAAd,IAAyB3xC,MAAM,CAAC4J,EAAP,CAAU6P,MAAV,EAAzB,IAA+C7Z,OAAO,CAACwK,QAAR,CAAiBzD,SAAS,CAACirC,KAA3B,CAAlD,EAAsF;cACpF5xC,MAAM,CAACS,KAAP,CAAa,mCAAb;;cACA,IAAGpB,QAAQ,CAACuwC,aAAZ,EAA2B;gBACzB,IAAG,CAAC5vC,MAAM,CAAC6xC,OAAP,EAAJ,EAAsB;kBACpB;gBACD;cACF,CAJD,MAKK,IAAG,CAAC7xC,MAAM,CAACosB,IAAP,EAAJ,EAAkB;gBACnB;cACH;;cACDpsB,MAAM,CAACsK,MAAP,CAAcwnC,SAAd;YACD;UACF,CAzEI;UA0ELC,QAAQ,EAAE,UAASttC,MAAT,EAAiBgJ,KAAjB,EAAwB;YAChClK,YAAY,CAACvD,MAAM,CAACwD,KAAR,CAAZ;YACAxD,MAAM,CAACwD,KAAP,GAAelC,UAAU,CAACmD,MAAD,EAASgJ,KAAT,CAAzB;UACD,CA7EI;UA8ELukC,QAAQ,EAAE,UAAS/pC,KAAT,EAAgB;YACxB,IACE+E,OAAO,GAAK/E,KAAK,CAAC2E,KADpB;YAAA,IAEEqlC,SAAS,GAAG,EAFd;;YAIA,IAAGjlC,OAAO,IAAIilC,SAAd,EAAyB;cACvB,IAAG5yC,QAAQ,CAACof,QAAZ,EAAsB;gBACpBze,MAAM,CAACS,KAAP,CAAa,iCAAb;;gBACA,IAAKb,OAAO,CAACwK,QAAR,CAAiBzD,SAAS,CAACirC,KAA3B,CAAL,EAAyC;kBACvC5xC,MAAM,CAACosB,IAAP;gBACD;cACF,CALD,MAMK;gBACHpsB,MAAM,CAACS,KAAP,CAAa,kDAAb;cACD;;cACDwH,KAAK,CAACC,cAAN;YACD;UACF,CA/FI;UAgGL4oC,MAAM,EAAE,YAAW;YACjB,IAAIxhB,SAAS,CAACJ,MAAV,CAAiB,WAAjB,MAAmClvB,MAAM,CAAC4J,EAAP,CAAU2P,SAAV,MAAyBvZ,MAAM,CAAC4J,EAAP,CAAU6P,MAAV,EAA5D,CAAJ,EAAuF;cACrFjZ,qBAAqB,CAACR,MAAM,CAACkH,OAAR,CAArB;YACD;UACF;QApGI,CApOC;QA2URgS,MAAM,EAAE,YAAW;UACjB,IAAIlZ,MAAM,CAAC4J,EAAP,CAAU6P,MAAV,MAAsBzZ,MAAM,CAAC4J,EAAP,CAAU2P,SAAV,EAA1B,EAAkD;YAChDvZ,MAAM,CAACosB,IAAP;UACD,CAFD,MAGK;YACHpsB,MAAM,CAACqsB,IAAP;UACD;QACF,CAlVO;QAoVRA,IAAI,EAAE,UAAShrB,QAAT,EAAmB;UACvBA,QAAQ,GAAGpD,CAAC,CAACI,UAAF,CAAagD,QAAb,IACPA,QADO,GAEP,YAAU,CAAE,CAFhB;UAIArB,MAAM,CAAC+vC,aAAP;UACA/vC,MAAM,CAACoH,GAAP,CAAW+oC,cAAX;UACAnwC,MAAM,CAACoH,GAAP,CAAW8qC,YAAX;UAEAlyC,MAAM,CAACmyC,SAAP,CAAiB9wC,QAAjB;QACD,CA9VO;QAgWR+qB,IAAI,EAAE,UAAS/qB,QAAT,EAAmB;UACvBA,QAAQ,GAAGpD,CAAC,CAACI,UAAF,CAAagD,QAAb,IACPA,QADO,GAEP,YAAU,CAAE,CAFhB;UAIArB,MAAM,CAAC+vC,aAAP;UACA,OAAO/vC,MAAM,CAACoyC,SAAP,CAAiB/wC,QAAjB,CAAP;QACD,CAvWO;QAyWR8wC,SAAS,EAAE,UAAS9wC,QAAT,EAAmB;UAC5BA,QAAQ,GAAGpD,CAAC,CAACI,UAAF,CAAagD,QAAb,IACPA,QADO,GAEP,YAAU,CAAE,CAFhB;;UAIA,IAAIrB,MAAM,CAAC4J,EAAP,CAAU2P,SAAV,MAAyB,CAACvZ,MAAM,CAAC4J,EAAP,CAAU6P,MAAV,EAA9B,EAAmD;YACjDzZ,MAAM,CAACqyC,UAAP;YACAryC,MAAM,CAACwwC,UAAP;YACAxwC,MAAM,CAACoH,GAAP,CAAWkrC,UAAX;;YACA,IAAGtyC,MAAM,CAACgK,GAAP,CAAWgmB,OAAX,EAAH,EAAyB;cACvBhwB,MAAM,CAACsK,MAAP,CAAc2lB,MAAd;YACD,CAFD,MAGK;cACHjwB,MAAM,CAACoH,GAAP,CAAW6oB,MAAX;cACAjwB,MAAM,CAACoH,GAAP,CAAWqpC,WAAX;cACAzwC,MAAM,CAACS,KAAP,CAAa,0CAAb;YACD;;YACDT,MAAM,CAACoH,GAAP,CAAWspC,YAAX;YACA1wC,MAAM,CAACoH,GAAP,CAAWqB,IAAX;YACAzI,MAAM,CAACoH,GAAP,CAAW0qC,SAAX;;YAEA,IAAI,CAACzyC,QAAQ,CAACuwC,aAAV,IAA2B5vC,MAAM,CAACuyC,MAAP,CAAc94B,MAAd,EAA/B,EAAwD;cACtDzZ,MAAM,CAACm3B,UAAP,CAAkBn3B,MAAM,CAACmyC,SAAzB;YACD,CAFD,MAGK;cACHtD,oBAAoB,GAAG,KAAvB;;cACA,IAAIxvC,QAAQ,CAACuwC,aAAb,EAA6B;gBAC3B,IAAK5vC,MAAM,CAACuyC,MAAP,CAAc94B,MAAd,EAAL,EAA8B;kBAC5Bk1B,YAAY,CAAC3jC,MAAb,CAAoB,MAAMrE,SAAS,CAAC8S,MAApC,EAA4ChS,IAA5C,CAAiD3B,QAAQ,CAACopB,MAA1D,EAAkE5d,QAAlE,CAA2E,QAA3E;gBACD;;gBAED,IAAKjS,QAAQ,CAAC+wC,UAAd,EAA2B;kBACzBxwC,OAAO,CAACmvB,MAAR,GAAiBtd,QAAjB,CAA0B4d,OAA1B;gBACD;cACF;;cACDhwB,QAAQ,CAAC4e,MAAT,CAAgB7e,IAAhB,CAAqBS,OAArB;;cACA,IAAGR,QAAQ,CAACsS,UAAT,IAAuB1T,CAAC,CAACQ,EAAF,CAAKkT,UAAL,KAAoBvT,SAA3C,IAAwDwB,OAAO,CAAC+R,UAAR,CAAmB,cAAnB,CAA3D,EAA+F;gBAC7F3R,MAAM,CAACS,KAAP,CAAa,mCAAb;gBACAb,OAAO,CACJ+R,UADH,CACc;kBACVlR,KAAK,EAASpB,QAAQ,CAACoB,KADb;kBAEV4Z,SAAS,EAAK,CAAChb,QAAQ,CAACsS,UAAT,CAAoBwe,UAApB,IAAkC9wB,QAAQ,CAACsS,UAA5C,IAA0D,KAF9D;kBAGV2I,KAAK,EAASjb,QAAQ,CAACib,KAHb;kBAIV1I,QAAQ,EAAMvS,QAAQ,CAACsS,UAAT,CAAoB8e,YAApB,IAAoCpxB,QAAQ,CAACuS,QAJjD;kBAKV2I,WAAW,EAAG,IALJ;kBAMVE,UAAU,EAAG,YAAW;oBACtBpb,QAAQ,CAACye,SAAT,CAAmB5a,KAAnB,CAAyBrD,OAAzB;;oBACA,IAAGR,QAAQ,CAACgJ,iBAAZ,EAA+B;sBAC7BrI,MAAM,CAAC6P,GAAP,CAAWxH,iBAAX;oBACD;;oBACDrI,MAAM,CAACozB,IAAP,CAAY7f,KAAZ;oBACAvT,MAAM,CAACoH,GAAP,CAAWqS,MAAX;;oBACA,IAAGpa,QAAQ,CAACmzC,SAAZ,EAAuB;sBACrBxyC,MAAM,CAACoH,GAAP,CAAWorC,SAAX;oBACD;;oBACDnxC,QAAQ;kBACT;gBAjBS,CADd;cAqBD,CAvBD,MAwBK;gBACHrB,MAAM,CAACP,KAAP,CAAaA,KAAK,CAAC0qC,YAAnB;cACD;YACF;UACF,CA3DD,MA4DK;YACHnqC,MAAM,CAACS,KAAP,CAAa,0BAAb;UACD;QACF,CA7aO;QA+aR2xC,SAAS,EAAE,UAAS/wC,QAAT,EAAmBoxC,UAAnB,EAA+BC,aAA/B,EAA8C;UACvD,IACEC,cAAc,GAAGhE,YAAY,CAAC3jC,MAAb,CAAoB,MAAMrE,SAAS,CAAC8S,MAApC,EAA4ColB,IAA5C,EADnB;UAGAx9B,QAAQ,GAAGpD,CAAC,CAACI,UAAF,CAAagD,QAAb,IACPA,QADO,GAEP,YAAU,CAAE,CAFhB;UAIArB,MAAM,CAACS,KAAP,CAAa,cAAb;;UACA,IAAGpB,QAAQ,CAACqf,MAAT,CAAgBtf,IAAhB,CAAqBS,OAArB,EAA8B5B,CAAC,CAAC,IAAD,CAA/B,MAA2C,KAA9C,EAAqD;YACnD+B,MAAM,CAACI,OAAP,CAAe,8CAAf;YACAyuC,oBAAoB,GAAG,KAAvB;YACA,OAAO,KAAP;UACD;;UAED,IAAI7uC,MAAM,CAAC4J,EAAP,CAAU2P,SAAV,MAAyBvZ,MAAM,CAAC4J,EAAP,CAAU6P,MAAV,EAA7B,EAAkD;YAChD,IAAGpa,QAAQ,CAACsS,UAAT,IAAuB1T,CAAC,CAACQ,EAAF,CAAKkT,UAAL,KAAoBvT,SAA3C,IAAwDwB,OAAO,CAAC+R,UAAR,CAAmB,cAAnB,CAA3D,EAA+F;cAC7F3R,MAAM,CAACsK,MAAP,CAAcmP,MAAd;cACA7Z,OAAO,CACJ+R,UADH,CACc;gBACVlR,KAAK,EAASpB,QAAQ,CAACoB,KADb;gBAEV4Z,SAAS,EAAK,CAAChb,QAAQ,CAACsS,UAAT,CAAoB4e,UAApB,IAAkClxB,QAAQ,CAACsS,UAA5C,IAA0D,MAF9D;gBAGV2I,KAAK,EAASjb,QAAQ,CAACib,KAHb;gBAIV1I,QAAQ,EAAMvS,QAAQ,CAACsS,UAAT,CAAoB6e,YAApB,IAAoCnxB,QAAQ,CAACuS,QAJjD;gBAKV2I,WAAW,EAAG,IALJ;gBAMV6V,OAAO,EAAO,YAAW;kBACvB,IAAG,CAACpwB,MAAM,CAACuyC,MAAP,CAAc94B,MAAd,EAAD,IAA2B,CAACzZ,MAAM,CAACuyC,MAAP,CAAch5B,SAAd,EAA5B,IAAyD,CAACk5B,UAA7D,EAAyE;oBACvEzyC,MAAM,CAAC4yC,UAAP;kBACD;;kBACD,IAAIvzC,QAAQ,CAACgJ,iBAAT,IAA8B,CAACrI,MAAM,CAACuyC,MAAP,CAAc94B,MAAd,EAAnC,EAA4D;oBAC1DzZ,MAAM,CAACsK,MAAP,CAAcjC,iBAAd;kBACD;gBACF,CAbS;gBAcVoS,UAAU,EAAG,YAAW;kBACtBza,MAAM,CAACud,MAAP,CAAcwzB,UAAd;;kBACA,IAAK1xC,QAAQ,CAACuwC,aAAd,EAA8B;oBAC5B+C,cAAc,CAACrhC,QAAf,CAAwB3K,SAAS,CAACirC,KAAlC;oBACAhyC,OAAO,CAACyK,WAAR,CAAoB1D,SAAS,CAACirC,KAA9B;;oBAEA,IAAKc,aAAL,EAAqB;sBACnBhE,UAAU,CAACjnC,IAAX,CAAgB3B,QAAQ,CAACopB,MAAzB,EAAiC7kB,WAAjC,CAA6C,QAA7C;oBACD,CAFD,MAGK;sBACHsoC,cAAc,CAAClrC,IAAf,CAAoB3B,QAAQ,CAACopB,MAA7B,EAAqC7kB,WAArC,CAAiD,QAAjD;oBACD;kBACF;;kBACD,IAAGpM,CAAC,CAACI,UAAF,CAAagB,QAAQ,CAAC2e,QAAtB,CAAH,EAAoC;oBAClC3e,QAAQ,CAAC2e,QAAT,CAAkB5e,IAAlB,CAAuBS,OAAvB;kBACD;;kBACDG,MAAM,CAACsK,MAAP,CAAc4nC,YAAd;kBACAlyC,MAAM,CAACqzB,OAAP,CAAe9f,KAAf;kBACAlS,QAAQ;gBACT;cAjCS,CADd;YAqCD,CAvCD,MAwCK;cACHrB,MAAM,CAACP,KAAP,CAAaA,KAAK,CAAC0qC,YAAnB;YACD;UACF;QACF,CA3eO;QA6eRkI,UAAU,EAAE,YAAW;UACrB,IAAG/iB,SAAS,CAACJ,MAAV,CAAiB,cAAjB,KAAoC,CAACI,SAAS,CAACJ,MAAV,CAAiB,WAAjB,CAAxC,EAAwE;YACtElvB,MAAM,CAACozB,IAAP,CAAYkf,UAAZ;YACAtyC,MAAM,CAACS,KAAP,CAAa,gBAAb;YACA6uB,SAAS,CAACJ,MAAV,CAAiB,MAAjB;UACD,CAJD,MAKK;YACHlvB,MAAM,CAACS,KAAP,CAAa,wBAAb;UACD;QACF,CAtfO;QAwfRmyC,UAAU,EAAE,YAAW;UACrB,IAAItjB,SAAS,CAACJ,MAAV,CAAiB,cAAjB,KAAqCI,SAAS,CAACJ,MAAV,CAAiB,WAAjB,CAAzC,EAA0E;YACxElvB,MAAM,CAACud,MAAP,CAAcwzB,UAAd;YACAzhB,SAAS,CAACJ,MAAV,CAAiB,MAAjB,EAAyB,YAAW;cAClClvB,MAAM,CAACqzB,OAAP,CAAeif,UAAf;cACAtyC,MAAM,CAACsK,MAAP,CAAcwnC,SAAd;cACA9xC,MAAM,CAACsK,MAAP,CAAcomC,YAAd;YACD,CAJD;UAKD,CAPD,MAQK;YACH1wC,MAAM,CAACS,KAAP,CAAa,mCAAb;YACA;UACD;QACF,CArgBO;QAugBRoxC,OAAO,EAAE,UAASxwC,QAAT,EAAmB;UAC1B,IACEwxC,cAAc,GAAGnE,UAAU,CAAC1jC,MAAX,CAAkB,MAAMrE,SAAS,CAAC8S,MAAhB,GAAyB,KAAzB,GAAiC9S,SAAS,CAAC4S,SAA7D,CADnB;UAGAlY,QAAQ,GAAGpD,CAAC,CAACI,UAAF,CAAagD,QAAb,IACPA,QADO,GAEP,YAAU,CAAE,CAFhB;;UAIA,IAAIwxC,cAAc,CAACvwC,MAAf,GAAwB,CAA5B,EAAgC;YAC9BtC,MAAM,CAACS,KAAP,CAAa,2BAAb;YACA,IAAIqyC,MAAM,GAAG,IAAb,CAF8B,CAG1C;;YACY70C,CAAC,CAAC40C,cAAc,CAAC5rC,GAAf,GAAqB8rC,OAArB,EAAD,CAAD,CAAkCnxC,IAAlC,CAAuC,UAASC,KAAT,EAAehC,OAAf,EAAuB;cAC1D,IAAGizC,MAAH,EAAU;gBACNA,MAAM,GAAG70C,CAAC,CAAC4B,OAAD,CAAD,CAAWyuC,KAAX,CAAiB,YAAjB,EAA+BjtC,QAA/B,EAAyC,KAAzC,EAAgD,IAAhD,CAAT;cACH;YACJ,CAJD;;YAKA,IAAGyxC,MAAH,EAAW;cACT9yC,MAAM,CAAC4yC,UAAP;YACD;;YACD,OAAOE,MAAP;UACD;QACF,CA7hBO;QA+hBR3b,UAAU,EAAE,UAAS91B,QAAT,EAAmB;UAC7B,IACEwxC,cAAc,GAAGlE,YAAY,CAAC3jC,MAAb,CAAoB,MAAMrE,SAAS,CAAC8S,MAAhB,GAAyB,KAAzB,GAAiC9S,SAAS,CAAC4S,SAA/D,CADnB;UAGAlY,QAAQ,GAAGpD,CAAC,CAACI,UAAF,CAAagD,QAAb,IACPA,QADO,GAEP,YAAU,CAAE,CAFhB;;UAIA,IAAIwxC,cAAc,CAACvwC,MAAf,GAAwB,CAA5B,EAAgC;YAC9BtC,MAAM,CAACS,KAAP,CAAa,qBAAb,EAAoCkuC,YAApC;YACAkE,cAAc,CACXvE,KADH,CACS,YADT,EACuBjtC,QADvB,EACiC,IADjC;UAGD;QACF,CA7iBO;QA+iBRkxC,MAAM,EAAE;UACN94B,MAAM,EAAE,YAAW;YACjB,OAAQk1B,YAAY,CAAC3jC,MAAb,CAAoB,MAAMrE,SAAS,CAAC8S,MAApC,EAA4CnX,MAA5C,GAAqD,CAA7D;UACD,CAHK;UAINiX,SAAS,EAAE,YAAW;YACpB,OAAQo1B,YAAY,CAAC3jC,MAAb,CAAoB,MAAMrE,SAAS,CAAC4S,SAApC,EAA+CjX,MAA/C,GAAwD,CAAhE;UACD;QANK,CA/iBA;QAyjBRuN,GAAG,EAAE;UACHxH,iBAAiB,EAAE,YAAW;YAC5BrI,MAAM,CAACI,OAAP,CAAe,2BAAf;YACAT,SAAS,CACNqI,EADH,CACM,UAAUnB,cADhB,EACgC7G,MAAM,CAACiI,KAAP,CAAa+pC,QAD7C;UAGD;QANE,CAzjBG;QAkkBR5e,IAAI,EAAE;UACJ7f,KAAK,EAAE,YAAW;YAChB,IACEy/B,cAAc,GAAG/0C,CAAC,CAACE,QAAQ,CAACm9B,aAAV,CADpB;YAAA,IAEE2X,cAAc,GAAGD,cAAc,CAACzpC,OAAf,CAAuB3J,OAAvB,EAAgC0C,MAAhC,GAAyC,CAF5D;;YAIA,IAAG,CAAC2wC,cAAJ,EAAoB;cAClBrE,eAAe,GAAG3wC,CAAC,CAACE,QAAQ,CAACm9B,aAAV,CAAD,CAA0BlzB,IAA1B,EAAlB;YACD;UACF,CATG;UAUJkqC,UAAU,EAAE,YAAW;YACrBtD,iBAAiB,GAAGR,KAAK,CAACzyB,GAAN,CAAU,aAAW/b,MAAM,CAACgK,GAAP,CAAWkpC,iBAAX,KAAiC,MAAjC,GAAwC,OAAnD,CAAV,CAApB;YACA,IAAIC,oBAAoB,GAAG/6B,QAAQ,CAAC42B,iBAAiB,CAACjhC,OAAlB,CAA0B,SAA1B,EAAqC,EAArC,CAAD,CAAnC;YAAA,IACIqlC,kBAAkB,GAAGl1C,MAAM,CAACm1C,UAAP,GAAoBl1C,QAAQ,CAACixB,eAAT,CAAyBkkB,WADtE;YAEArE,cAAc,GAAGkE,oBAAoB,GAAGC,kBAAxC;UACD;QAfG,CAlkBE;QAolBR/f,OAAO,EAAE;UACP9f,KAAK,EAAE,YAAW;YAChB,IAAGq7B,eAAe,IAAIA,eAAe,CAACtsC,MAAhB,GAAyB,CAA5C,IAAiDjD,QAAQ,CAACk0C,YAA7D,EAA2E;cACzE3E,eAAe,CAACr7B,KAAhB;YACD;UACF,CALM;UAMP++B,UAAU,EAAE,YAAW;YACrB,IAAIxuB,QAAQ,GAAG9jB,MAAM,CAACgK,GAAP,CAAWkpC,iBAAX,KAAiC,MAAjC,GAAwC,OAAvD;YACA1E,KAAK,CAACzyB,GAAN,CAAU,YAAU+H,QAApB,EAA8BkrB,iBAA9B;YACAR,KAAK,CAAC/mC,IAAN,CAAW3B,QAAQ,CAAC0tC,SAAT,CAAmBzlC,OAAnB,CAA2B,OAA3B,EAAmC+V,QAAnC,CAAX,EAAyDliB,IAAzD,CAA8D,YAAU;cACtE,IAAI2G,EAAE,GAAGtK,CAAC,CAAC,IAAD,CAAV;cAAA,IACIw1C,SAAS,GAAGlrC,EAAE,CAACwT,GAAH,CAAO,UAAP,MAAuB,OAAvB,GAAiC,aAAW+H,QAA5C,GAAuDA,QADvE;cAGAvb,EAAE,CAACwT,GAAH,CAAO03B,SAAP,EAAkB,EAAlB;YACD,CALD;UAMD;QAfM,CAplBD;QAsmBRnpC,MAAM,EAAE;UACNmP,MAAM,EAAE,YAAW;YACjB7Z,OAAO,CAACyK,WAAR,CAAoB1D,SAAS,CAAC8S,MAA9B;UACD,CAHK;UAINwW,MAAM,EAAE,YAAW;YACjBrwB,OAAO,CAACyK,WAAR,CAAoB1D,SAAS,CAACspB,MAA9B;UACD,CANK;UAON6hB,SAAS,EAAE,YAAW;YACpB,IAAI,CAACzyC,QAAQ,CAAC+wC,UAAd,EAA0B;cACxBxwC,OAAO,CACF8M,GADL,CACS,cAAcwiC,qBADvB;YAGD;;YACD7f,OAAO,CACJ3iB,GADH,CACO,cAAcwiC,qBADrB;YAGA7f,OAAO,CACJ3iB,GADH,CACO,YAAYwiC,qBADnB;UAGD,CAnBK;UAoBNgD,YAAY,EAAE,YAAW;YACvB7iB,OAAO,CAAChlB,WAAR,CAAoB1D,SAAS,CAACsW,QAA9B;YACAqS,SAAS,CAACjlB,WAAV,CAAsB1D,SAAS,CAAC+sC,QAAhC;UACD,CAvBK;UAwBNC,SAAS,EAAE,YAAW;YACpB,IAAGnF,KAAK,CAAC37B,IAAN,CAAW,OAAX,MAAwB,EAA3B,EAA+B;cAC7B7S,MAAM,CAACI,OAAP,CAAe,0BAAf;cACAouC,KAAK,CAACh7B,UAAN,CAAiB,OAAjB;YACD;UACF,CA7BK;UA8BNk9B,YAAY,EAAE,YAAW;YACvB1wC,MAAM,CAACS,KAAP,CAAa,sBAAb;YACA+tC,KAAK,CACFzyB,GADH,CACO,QADP,EACiB,EADjB;UAGD,CAnCK;UAoCN1T,iBAAiB,EAAE,YAAW;YAC5BrI,MAAM,CAACI,OAAP,CAAe,6BAAf;YACAT,SAAS,CACN+M,GADH,CACO,UAAU7F,cADjB;UAGD,CAzCK;UA0CN0pC,SAAS,EAAE,YAAW;YACpBjhB,SAAS,CAACjlB,WAAV,CAAsB1D,SAAS,CAAC4pC,SAAhC;YACA3wC,OAAO,CAACyK,WAAR,CAAoB1D,SAAS,CAAC4pC,SAA9B;UACD;QA7CK,CAtmBA;QAspBRC,UAAU,EAAE,YAAW;UACrB5wC,OAAO,CAAC0R,QAAR,CAAiB3K,SAAS,CAACu+B,OAA3B;UACA,IACE0O,YAAY,GAAGh0C,OAAO,CAAC8I,IAAR,CAAa,cAAb,CADjB;UAAA,IAEEmrC,UAAU,GAAKj0C,OAAO,CAACqqC,UAAR,EAFjB;UAAA,IAGE6J,WAAW,GAAIl0C,OAAO,CAACukC,WAAR,EAHjB;;UAKA,IAAGnkC,MAAM,CAACyC,KAAP,CAAasxC,UAAb,KAA4B31C,SAA5B,IAAyC01C,WAAW,KAAK,CAA5D,EAA+D;YAC7D71C,CAAC,CAACsB,MAAF,CAASS,MAAM,CAACyC,KAAhB,EAAuB;cACrBsxC,UAAU,EAAM91C,CAAC,CAACE,QAAD,CAAD,CAAYgmC,WAAZ,EADK;cAErB7e,KAAK,EAAWuuB,UAFK;cAGrBxjB,MAAM,EAAUyjB,WAAW,GAAGz0C,QAAQ,CAACqmB,MAHlB;cAIrBkuB,YAAY,EAAIA,YAAY,GAAGv0C,QAAQ,CAACqmB,MAJnB;cAKrBsuB,aAAa,EAAI30C,QAAQ,CAAC0E,OAAT,IAAoB,MAArB,GACZ9F,CAAC,CAACC,MAAD,CAAD,CAAUmyB,MAAV,EADY,GAEZf,SAAS,CAACe,MAAV;YAPiB,CAAvB;YASArwB,MAAM,CAACyC,KAAP,CAAawxC,SAAb,GAAyB,EAAEj0C,MAAM,CAACyC,KAAP,CAAa4tB,MAAb,GAAsB,CAAxB,CAAzB;UACD;;UACDzwB,OAAO,CAACyK,WAAR,CAAoB1D,SAAS,CAACu+B,OAA9B;UACAllC,MAAM,CAACS,KAAP,CAAa,mCAAb,EAAkDT,MAAM,CAACyC,KAAzD;QACD,CA3qBO;QA4qBR0sC,OAAO,EAAE;UACP/T,OAAO,EAAE,UAAS1rB,MAAT,EAAiB;YACxB,OAAO9D,MAAM,CAAC8D,MAAD,CAAN,CAAe3B,OAAf,CAAuB,IAAvB,EAA4B,EAA5B,CAAP;UACD,CAHM;UAIPb,MAAM,EAAE,UAASwC,MAAT,EAAiBkmB,YAAjB,EAA+B;YACrC,IAAIA,YAAJ,EAAiB;cACf,OAAOlmB,MAAP;YACD;;YACD,IACI86B,QAAQ,GAAO,UADnB;YAAA,IAEIC,YAAY,GAAG,UAFnB;YAAA,IAGIv9B,MAAM,GAAS;cACb,KAAK,MADQ;cAEb,KAAK,MAFQ;cAGb,KAAK,QAHQ;cAIb,KAAK,QAJQ;cAKb,KAAK;YALQ,CAHnB;YAAA,IAUIw9B,WAAW,GAAI,UAASC,GAAT,EAAc;cAC3B,OAAOz9B,MAAM,CAACy9B,GAAD,CAAb;YACD,CAZL;;YAcA,IAAGF,YAAY,CAACp+B,IAAb,CAAkBqD,MAAlB,CAAH,EAA8B;cAC5BA,MAAM,GAAGA,MAAM,CAAC3B,OAAP,CAAe,sBAAf,EAAuC,OAAvC,CAAT;cACA,OAAO2B,MAAM,CAAC3B,OAAP,CAAey8B,QAAf,EAAyBE,WAAzB,CAAP;YACD;;YACD,OAAOh7B,MAAP;UACD;QA3BM,CA5qBD;QAysBR1F,GAAG,EAAE;UACHkpC,iBAAiB,EAAE,YAAU;YAC3B,IAAGlzC,MAAM,CAACyC,KAAP,CAAaywC,iBAAb,KAAmC90C,SAAtC,EAAiD;cAC/C4B,MAAM,CAACyC,KAAP,CAAaywC,iBAAb,GAAiClzC,MAAM,CAAC4J,EAAP,CAAU2nC,GAAV,OAAqBvxC,MAAM,CAAC4J,EAAP,CAAUujC,MAAV,IAAoB,CAACntC,MAAM,CAAC4J,EAAP,CAAUsqC,OAAV,EAAtB,IAA8Cl0C,MAAM,CAAC4J,EAAP,CAAUuqC,MAAV,EAA9C,IAAoEn0C,MAAM,CAAC4J,EAAP,CAAUwqC,IAAV,EAApE,IAAwFp0C,MAAM,CAAC4J,EAAP,CAAUyqC,EAAV,EAA5G,CAAjC;YACD;;YACD,OAAOr0C,MAAM,CAACyC,KAAP,CAAaywC,iBAApB;UACD,CANE;UAOHljB,OAAO,EAAE,YAAW;YAClB,IAAI3wB,QAAQ,CAAC2wB,OAAT,KAAqB,MAAzB,EAAiC;cAC/B,OAAO3wB,QAAQ,CAAC+wC,UAAT,IAAuB,CAACpwC,MAAM,CAAC4J,EAAP,CAAUyqC,EAAV,EAA/B;YACD;;YACD,IAAGh1C,QAAQ,CAAC2wB,OAAT,IAAoBhwB,MAAM,CAAC4J,EAAP,CAAUyqC,EAAV,EAAvB,EAAuC;cACrCr0C,MAAM,CAACS,KAAP,CAAa,qCAAb;YACD,CAFD,MAEO,IAAGpB,QAAQ,CAAC2wB,OAAT,IAAoB,CAAC3wB,QAAQ,CAAC+wC,UAAjC,EAA6C;cAClDpwC,MAAM,CAACS,KAAP,CAAa,oEAAb;YACD;;YACD,OAAOpB,QAAQ,CAAC2wB,OAAhB;UACD,CAjBE;UAkBHskB,GAAG,EAAE,YAAW;YACd,IACEN,aAAa,GAAIh0C,MAAM,CAACyC,KAAP,CAAauxC,aADhC;YAAA,IAEEO,cAAc,GAAGv0C,MAAM,CAACyC,KAAP,CAAauxC,aAAb,GAA6B,CAFhD;YAAA,IAGEC,SAAS,GAAQj0C,MAAM,CAACyC,KAAP,CAAawxC,SAHhC;YAAA,IAIEL,YAAY,GAAK5zC,MAAM,CAACyC,KAAP,CAAamxC,YAJhC;YAAA,IAKEvjB,MAAM,GAAWrwB,MAAM,CAACyC,KAAP,CAAa4tB,MALhC;YAAA,IAMEmkB,aAAa,GAAIn1C,QAAQ,CAACo1C,OAN5B;YAAA,IAOEC,aAAa,GAAKH,cAAc,GAAGN,SAPrC;YASA,OAAQL,YAAY,GAAGvjB,MAAhB,GACFqkB,aAAa,GAAGd,YAAhB,GAA+BY,aAA/B,GAA+CR,aAD7C,GAEF3jB,MAAM,GAAImkB,aAAa,GAAG,CAA1B,GAA+BR,aAFpC;UAID;QAhCE,CAzsBG;QA2uBRnjC,GAAG,EAAE;UACHy+B,aAAa,EAAE,YAAY;YACzB,OAAO5qC,KAAK,CAACC,OAAN,CAActF,QAAQ,CAACmwC,OAAvB,KAAmCnwC,QAAQ,CAACmwC,OAAT,CAAiBltC,MAAjB,GAA0B,CAApE;UACD;QAHE,CA3uBG;QAgvBRsH,EAAE,EAAE;UACF6P,MAAM,EAAE,YAAW;YACjB,OAAO7Z,OAAO,CAACwK,QAAR,CAAiBzD,SAAS,CAAC8S,MAA3B,CAAP;UACD,CAHC;UAIF46B,EAAE,EAAE,YAAW;YACb,IAAGr0C,MAAM,CAACyC,KAAP,CAAakyC,IAAb,KAAsBv2C,SAAzB,EAAoC;cAClC,IACIw2C,MAAM,GAAI,CAAE12C,MAAM,CAAC22C,aAAT,IAA2B,mBAAmB32C,MAD5D;cAAA,IAEIy2C,IAAI,IAAI,mBAAmBz2C,MAAvB,CAFR;cAIA8B,MAAM,CAACyC,KAAP,CAAakyC,IAAb,GAAqBC,MAAM,IAAID,IAA/B;YACD;;YACD,OAAO30C,MAAM,CAACyC,KAAP,CAAakyC,IAApB;UACD,CAbC;UAcFp7B,SAAS,EAAE,YAAW;YACpB,OAAO3Z,OAAO,CAAC+R,UAAR,CAAmB,cAAnB,IACH/R,OAAO,CAAC+R,UAAR,CAAmB,cAAnB,CADG,GAEH/R,OAAO,CAACgK,EAAR,CAAW,UAAX,CAFJ;UAID,CAnBC;UAoBF2mC,SAAS,EAAE,YAAW;YACpB,OAAOjhB,SAAS,CAACllB,QAAV,CAAmBzD,SAAS,CAAC4pC,SAA7B,CAAP;UACD,CAtBC;UAuBFuE,aAAa,EAAE,YAAW;YACxB;YACA,OAAO,EAAE52C,MAAM,CAAC22C,aAAP,IAAwB,mBAAmB32C,MAA7C,CAAP;UACD,CA1BC;UA2BFqzC,GAAG,EAAE,YAAW;YACd,IAAGvxC,MAAM,CAACyC,KAAP,CAAasyC,KAAb,KAAuB32C,SAA1B,EAAqC;cACnC4B,MAAM,CAACyC,KAAP,CAAasyC,KAAb,GAAqBvG,KAAK,CAAC37B,IAAN,CAAW,KAAX,MAAsB,KAAtB,IAA+B27B,KAAK,CAACzyB,GAAN,CAAU,WAAV,MAA2B,KAA/E;YACD;;YACD,OAAO/b,MAAM,CAACyC,KAAP,CAAasyC,KAApB;UACD,CAhCC;UAiCFZ,MAAM,EAAE,YAAW;YACjB,IAAGn0C,MAAM,CAACyC,KAAP,CAAauyC,QAAb,KAA0B52C,SAA7B,EAAwC;cACtC4B,MAAM,CAACyC,KAAP,CAAauyC,QAAb,GAAwB,eAAe3oC,IAAf,CAAoBnO,MAAM,CAAC+2C,WAA3B,KAA2C,CAAC,CAAC/2C,MAAM,CAACg3C,eAA5E;YACD;;YACD,OAAOl1C,MAAM,CAACyC,KAAP,CAAauyC,QAApB;UACD,CAtCC;UAuCFZ,IAAI,EAAE,YAAU;YACd,IAAGp0C,MAAM,CAACyC,KAAP,CAAa0yC,MAAb,KAAwB/2C,SAA3B,EAAsC;cACpC4B,MAAM,CAACyC,KAAP,CAAa0yC,MAAb,GAAsB,CAAC,CAACj3C,MAAM,CAACk3C,YAAT,IAAyB,CAACp1C,MAAM,CAAC4J,EAAP,CAAUyqC,EAAV,EAAhD;YACD;;YACD,OAAOr0C,MAAM,CAACyC,KAAP,CAAa0yC,MAApB;UACD,CA5CC;UA6CFjB,OAAO,EAAE,YAAU;YACjB,IAAGl0C,MAAM,CAACyC,KAAP,CAAa4yC,SAAb,KAA2Bj3C,SAA9B,EAAyC;cACrC4B,MAAM,CAACyC,KAAP,CAAa4yC,SAAb,GAAyB,CAAC,CAACn3C,MAAM,CAACo3C,cAAlC;YACH;;YACD,OAAOt1C,MAAM,CAACyC,KAAP,CAAa4yC,SAApB;UACD,CAlDC;UAmDFlI,MAAM,EAAE,YAAW;YACf,OAAO,EAAEznC,IAAI,KAAKkgC,GAAX,CAAP;UACH;QArDC,CAhvBI;QAwyBRx+B,GAAG,EAAE;UACHorC,SAAS,EAAE,YAAW;YACpB,IACE+C,OAAO,GAAM31C,OAAO,CAAC6H,IAAR,CAAa,oBAAb,EAAmCuD,MAAnC,CAA0C,UAA1C,EAAsDA,MAAtD,CAA6D,YAAW;cACnF,OAAO/M,CAAC,CAAC,IAAD,CAAD,CAAQsL,OAAR,CAAgB,WAAhB,EAA6BjH,MAA7B,KAAwC,CAA/C;YACD,CAFY,CADf;YAAA,IAIEkzC,UAAU,GAAGD,OAAO,CAACvqC,MAAR,CAAe,aAAf,CAJf;YAAA,IAKExC,MAAM,GAAQgtC,UAAU,CAAClzC,MAAX,GAAoB,CAArB,GACTkzC,UAAU,CAACliC,KAAX,EADS,GAETiiC,OAAO,CAACjiC,KAAR,EAPN;;YASA,IAAG9K,MAAM,CAAClG,MAAP,GAAgB,CAAnB,EAAsB;cACpBkG,MAAM,CAAC+K,KAAP;YACD;UACF,CAdE;UAeH++B,UAAU,EAAE,YAAW;YACrB,IAAIxuB,QAAQ,GAAG9jB,MAAM,CAACgK,GAAP,CAAWkpC,iBAAX,KAAiC,MAAjC,GAAwC,OAAvD;;YACA,IAAG7zC,QAAQ,CAAC+wC,UAAT,IAAuBpwC,MAAM,CAACgK,GAAP,CAAWsqC,GAAX,EAA1B,EAA4C;cAC1C9F,KAAK,CAACzyB,GAAN,CAAU,YAAU+H,QAApB,EAA8BmrB,cAAc,GAAG,IAA/C;YACD;;YACDT,KAAK,CAAC/mC,IAAN,CAAW3B,QAAQ,CAAC0tC,SAAT,CAAmBzlC,OAAnB,CAA2B,OAA3B,EAAmC+V,QAAnC,CAAX,EAAyDliB,IAAzD,CAA8D,YAAU;cACtE,IAAI2G,EAAE,GAAGtK,CAAC,CAAC,IAAD,CAAV;cAAA,IACIw1C,SAAS,GAAGlrC,EAAE,CAACwT,GAAH,CAAO,UAAP,MAAuB,OAAvB,GAAiC,aAAW+H,QAA5C,GAAuDA,QADvE;cAGAvb,EAAE,CAACwT,GAAH,CAAO03B,SAAP,EAAkB,UAAUlrC,EAAE,CAACwT,GAAH,CAAO03B,SAAP,CAAV,GAA8B,KAA9B,GAAsCxE,cAAtC,GAAuD,KAAzE;YACD,CALD;UAMD,CA1BE;UA2BH6C,SAAS,EAAE,YAAW;YACpB,IAAI,CAACzyC,QAAQ,CAAC+wC,UAAd,EAA0B;cACxBxwC,OAAO,CACJoI,EADH,CACM,cAAcknC,qBADpB,EAC2ClvC,MAAM,CAACiI,KAAP,CAAa2d,SADxD;YAGD;;YACDyJ,OAAO,CACJrnB,EADH,CACM,cAAcknC,qBADpB,EAC2ClvC,MAAM,CAACiI,KAAP,CAAa2d,SADxD;YAGAyJ,OAAO,CACJrnB,EADH,CACM,YAAYknC,qBADlB,EACyClvC,MAAM,CAACiI,KAAP,CAAa4d,OADtD;UAGD,CAvCE;UAwCHsqB,cAAc,EAAE,YAAW;YACzB,IAAGlyC,CAAC,CAACQ,EAAF,CAAKywB,MAAL,KAAgB9wB,SAAnB,EAA8B;cAC5B4B,MAAM,CAACP,KAAP,CAAaA,KAAK,CAACyvB,MAAnB;cACA;YACD;;YACD,IACEghB,eAAe,GAAG;cAChBzvC,KAAK,EAAQpB,QAAQ,CAACoB,KADN;cAEhB+uB,UAAU,EAAG,QAFG;cAGhB/Q,QAAQ,EAAK,MAHG;cAIhBuR,OAAO,EAAMhwB,MAAM,CAACgK,GAAP,CAAWgmB,OAAX,EAJG;cAKhBpe,QAAQ,EAAK;gBACXya,IAAI,EAAOhtB,QAAQ,CAACsS,UAAT,CAAoB8e,YAApB,IAAoCpxB,QAAQ,CAACuS,QAD7C;gBAEXwa,IAAI,EAAO/sB,QAAQ,CAACsS,UAAT,CAAoB6e,YAApB,IAAoCnxB,QAAQ,CAACuS;cAF7C;YALG,CADpB;YAAA,IAWEu+B,cAAc,GAAGlyC,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAe2wC,eAAf,EAAgC7wC,QAAQ,CAAC8wC,cAAzC,CAXnB;;YAaA,IAAG9wC,QAAQ,CAAC4d,QAAZ,EAAsB;cACpBkzB,cAAc,CAACpsB,SAAf,GAA4BosB,cAAc,CAACpsB,SAAf,KAA6B3lB,SAA9B,GACvB+xC,cAAc,CAACpsB,SAAf,GAA2B,WADJ,GAEvB,UAFJ;YAID;;YACDsN,QAAQ,CAACnC,MAAT,CAAgB,SAAhB,EAA2BihB,cAA3B;UACD,CAjEE;UAkEH+B,YAAY,EAAE,YAAW;YACvB,IAAG7yC,QAAQ,CAAC4d,QAAZ,EAAsB;cACpBoS,OAAO,CAAC/d,QAAR,CAAiB3K,SAAS,CAACsW,QAA3B;YACD,CAFD,MAGK;cACHoS,OAAO,CAAChlB,WAAR,CAAoB1D,SAAS,CAACsW,QAA9B;YACD;;YACD,IAAG5d,QAAQ,CAACq0C,QAAZ,EAAsB;cACpBpkB,SAAS,CAAChe,QAAV,CAAmB3K,SAAS,CAAC+sC,QAA7B;YACD,CAFD,MAGK;cACHpkB,SAAS,CAACjlB,WAAV,CAAsB1D,SAAS,CAAC+sC,QAAhC;YACD;UACF,CA/EE;UAgFHjD,WAAW,EAAE,YAAW;YACtB,IAAI,CAACpxC,QAAQ,CAAC+wC,UAAd,EAA0B;cACxB,IAAIqF,MAAM,GAAGz1C,MAAM,CAACgK,GAAP,CAAWsqC,GAAX,EAAb;cACA10C,OAAO,CACJmc,GADH,CACO;gBACH6pB,GAAG,EAAG,CAAChmC,OAAO,CAACwK,QAAR,CAAiB,SAAjB,CAAD,IAAgCqrC,MAAjC,GACDx3C,CAAC,CAACE,QAAD,CAAD,CAAYkmC,SAAZ,KAA0B,CAACrkC,MAAM,CAACyC,KAAP,CAAauxC,aAAb,GAA6Bh0C,MAAM,CAACyC,KAAP,CAAa4tB,MAA3C,IAAqD,CAD9E,GAED,CAAColB,MAAD,IAAW71C,OAAO,CAACwK,QAAR,CAAiB,KAAjB,CAAX,GACEnM,CAAC,CAACE,QAAD,CAAD,CAAYkmC,SAAZ,KAA0BhlC,QAAQ,CAACo1C,OADrC,GAEEx2C,CAAC,CAACE,QAAD,CAAD,CAAYkmC,SAAZ,MAA2BrkC,MAAM,CAACyC,KAAP,CAAauxC,aAAb,GAA6Bh0C,MAAM,CAACyC,KAAP,CAAa4tB,MAA1C,GAAmDhxB,QAAQ,CAACo1C,OAAvF,CALH;gBAMHiB,UAAU,EAAE,EAAE11C,MAAM,CAACyC,KAAP,CAAa6iB,KAAb,GAAqB,CAAvB;cANT,CADP;YAUD,CAZD,MAYO;cACL1lB,OAAO,CACJmc,GADH,CACO;gBACH45B,SAAS,EAAG,CAAC/1C,OAAO,CAACwK,QAAR,CAAiB,SAAjB,CAAD,IAAgCpK,MAAM,CAACgK,GAAP,CAAWsqC,GAAX,EAAjC,GACP,EAAEt0C,MAAM,CAACyC,KAAP,CAAa4tB,MAAb,GAAsB,CAAxB,CADO,GAEPhxB,QAAQ,CAACo1C,OAAT,GAAmB,CAHpB;gBAIHiB,UAAU,EAAE,EAAE11C,MAAM,CAACyC,KAAP,CAAa6iB,KAAb,GAAqB,CAAvB;cAJT,CADP;YAQD;;YACDtlB,MAAM,CAACI,OAAP,CAAe,sCAAf;UACD,CAxGE;UAyGHswC,YAAY,EAAE,YAAW;YACvB,IAAI1wC,MAAM,CAACgK,GAAP,CAAWsqC,GAAX,EAAJ,EAAuB;cACrB9F,KAAK,CAACzyB,GAAN,CAAU,QAAV,EAAoB,EAApB;YACD,CAFD,MAGK,IAAG,CAACnc,OAAO,CAACwK,QAAR,CAAiB,QAAjB,CAAJ,EAAgC;cACnCpK,MAAM,CAACS,KAAP,CAAa,yDAAb;cACA+tC,KAAK,CACFzyB,GADH,CACO,QADP,EACiB/b,MAAM,CAACyC,KAAP,CAAa4tB,MAAb,GAAuBhxB,QAAQ,CAACo1C,OAAT,GAAmB,CAD3D;YAGD;UACF,CAnHE;UAoHHh7B,MAAM,EAAE,YAAW;YACjB7Z,OAAO,CAAC0R,QAAR,CAAiB3K,SAAS,CAAC8S,MAAV,GAAmB,GAAnB,GAAyB9S,SAAS,CAACirC,KAApD;YACAjD,YAAY,CAAC3jC,MAAb,CAAoB,MAAMrE,SAAS,CAAC8S,MAApC,EAA4CpP,WAA5C,CAAwD1D,SAAS,CAACirC,KAAlE;UACD,CAvHE;UAwHHrB,SAAS,EAAE,YAAW;YACpBjhB,SAAS,CAAChe,QAAV,CAAmB3K,SAAS,CAAC4pC,SAA7B;YACA3wC,OAAO,CAAC0R,QAAR,CAAiB3K,SAAS,CAAC4pC,SAA3B;YACAvwC,MAAM,CAACud,MAAP,CAAcwzB,UAAd;UACD,CA5HE;UA6HH9gB,MAAM,EAAE,YAAW;YACjBrwB,OAAO,CAAC0R,QAAR,CAAiB3K,SAAS,CAACspB,MAA3B;UACD,CA/HE;UAgIHxnB,IAAI,EAAE,YAAW;YACf,IAAGzI,MAAM,CAACgK,GAAP,CAAWsqC,GAAX,EAAH,EAAqB;cACnBt0C,MAAM,CAACI,OAAP,CAAe,sBAAf;;cACA,IAAG,CAACJ,MAAM,CAACuyC,MAAP,CAAc94B,MAAd,EAAD,IAA2B,CAACzZ,MAAM,CAACuyC,MAAP,CAAch5B,SAAd,EAA/B,EAA0D;gBACxDvZ,MAAM,CAACsK,MAAP,CAAcimC,SAAd;gBACAvwC,MAAM,CAACiD,IAAP,CAAY8tC,UAAZ;cACD;YACF,CAND,MAOK,IAAI,CAACnxC,OAAO,CAACwK,QAAR,CAAiB,QAAjB,CAAL,EAAgC;cACnCpK,MAAM,CAACI,OAAP,CAAe,iDAAf;cACAJ,MAAM,CAACoH,GAAP,CAAWmpC,SAAX;YACD,CAHI,MAGE;cACHvwC,MAAM,CAACI,OAAP,CAAe,yEAAf;YACH;UACF,CA9IE;UA+IHiwC,UAAU,EAAE,YAAW;YACrB/gB,SAAS,CAAChe,QAAV,CAAmB3K,SAAS,CAAC0pC,UAA7B;UACD;QAjJE,CAxyBG;QA47BRnuC,OAAO,EAAE,UAASV,IAAT,EAAeW,KAAf,EAAsB;UAC7BnC,MAAM,CAACS,KAAP,CAAa,kBAAb,EAAiCe,IAAjC,EAAuCW,KAAvC;;UACA,IAAIlE,CAAC,CAACqB,aAAF,CAAgBkC,IAAhB,CAAJ,EAA4B;YAC1BvD,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAeF,QAAf,EAAyBmC,IAAzB;UACD,CAFD,MAGK,IAAGW,KAAK,KAAK/D,SAAb,EAAwB;YAC3B,IAAGH,CAAC,CAACqB,aAAF,CAAgBD,QAAQ,CAACmC,IAAD,CAAxB,CAAH,EAAoC;cAClCvD,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAeF,QAAQ,CAACmC,IAAD,CAAvB,EAA+BW,KAA/B;YACD,CAFD,MAGK;cACH9C,QAAQ,CAACmC,IAAD,CAAR,GAAiBW,KAAjB;YACD;UACF,CAPI,MAQA;YACH,OAAO9C,QAAQ,CAACmC,IAAD,CAAf;UACD;QACF,CA58BO;QA68BRsB,QAAQ,EAAE,UAAStB,IAAT,EAAeW,KAAf,EAAsB;UAC9B,IAAIlE,CAAC,CAACqB,aAAF,CAAgBkC,IAAhB,CAAJ,EAA4B;YAC1BvD,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAeS,MAAf,EAAuBwB,IAAvB;UACD,CAFD,MAGK,IAAGW,KAAK,KAAK/D,SAAb,EAAwB;YAC3B4B,MAAM,CAACwB,IAAD,CAAN,GAAeW,KAAf;UACD,CAFI,MAGA;YACH,OAAOnC,MAAM,CAACwB,IAAD,CAAb;UACD;QACF,CAv9BO;QAw9BRf,KAAK,EAAE,YAAW;UAChB,IAAG,CAACpB,QAAQ,CAACgV,MAAV,IAAoBhV,QAAQ,CAACoB,KAAhC,EAAuC;YACrC,IAAGpB,QAAQ,CAACP,WAAZ,EAAyB;cACvBkB,MAAM,CAAClB,WAAP,CAAmB4B,GAAnB,CAAuB1B,SAAvB;YACD,CAFD,MAGK;cACHgB,MAAM,CAACS,KAAP,GAAesC,QAAQ,CAACC,SAAT,CAAmBC,IAAnB,CAAwB7D,IAAxB,CAA6BmB,OAAO,CAACmC,IAArC,EAA2CnC,OAA3C,EAAoDlB,QAAQ,CAACmC,IAAT,GAAgB,GAApE,CAAf;cACAxB,MAAM,CAACS,KAAP,CAAayC,KAAb,CAAmB3C,OAAnB,EAA4BvB,SAA5B;YACD;UACF;QACF,CAl+BO;QAm+BRoB,OAAO,EAAE,YAAW;UAClB,IAAG,CAACf,QAAQ,CAACgV,MAAV,IAAoBhV,QAAQ,CAACe,OAA7B,IAAwCf,QAAQ,CAACoB,KAApD,EAA2D;YACzD,IAAGpB,QAAQ,CAACP,WAAZ,EAAyB;cACvBkB,MAAM,CAAClB,WAAP,CAAmB4B,GAAnB,CAAuB1B,SAAvB;YACD,CAFD,MAGK;cACHgB,MAAM,CAACI,OAAP,GAAiB2C,QAAQ,CAACC,SAAT,CAAmBC,IAAnB,CAAwB7D,IAAxB,CAA6BmB,OAAO,CAACmC,IAArC,EAA2CnC,OAA3C,EAAoDlB,QAAQ,CAACmC,IAAT,GAAgB,GAApE,CAAjB;cACAxB,MAAM,CAACI,OAAP,CAAe8C,KAAf,CAAqB3C,OAArB,EAA8BvB,SAA9B;YACD;UACF;QACF,CA7+BO;QA8+BRS,KAAK,EAAE,YAAW;UAChB,IAAG,CAACJ,QAAQ,CAACgV,MAAb,EAAqB;YACnBrU,MAAM,CAACP,KAAP,GAAesD,QAAQ,CAACC,SAAT,CAAmBC,IAAnB,CAAwB7D,IAAxB,CAA6BmB,OAAO,CAACd,KAArC,EAA4Cc,OAA5C,EAAqDlB,QAAQ,CAACmC,IAAT,GAAgB,GAArE,CAAf;YACAxB,MAAM,CAACP,KAAP,CAAayD,KAAb,CAAmB3C,OAAnB,EAA4BvB,SAA5B;UACD;QACF,CAn/BO;QAo/BRF,WAAW,EAAE;UACX4B,GAAG,EAAE,UAASyC,OAAT,EAAkB;YACrB,IACEC,WADF,EAEEC,aAFF,EAGEC,YAHF;;YAKA,IAAGjE,QAAQ,CAACP,WAAZ,EAAyB;cACvBsE,WAAW,GAAK,IAAIxE,IAAJ,GAAWC,OAAX,EAAhB;cACAyE,YAAY,GAAI3E,IAAI,IAAIyE,WAAxB;cACAC,aAAa,GAAGD,WAAW,GAAGE,YAA9B;cACA3E,IAAI,GAAYyE,WAAhB;cACAtE,WAAW,CAACgD,IAAZ,CAAiB;gBACf,QAAmBqB,OAAO,CAAC,CAAD,CADX;gBAEf,aAAmB,GAAGhE,KAAH,CAASC,IAAT,CAAc+D,OAAd,EAAuB,CAAvB,KAA6B,EAFjC;gBAGf,WAAmBtD,OAHJ;gBAIf,kBAAmBwD;cAJJ,CAAjB;YAMD;;YACDE,YAAY,CAACvD,MAAM,CAAClB,WAAP,CAAmB0E,KAApB,CAAZ;YACAxD,MAAM,CAAClB,WAAP,CAAmB0E,KAAnB,GAA2BlC,UAAU,CAACtB,MAAM,CAAClB,WAAP,CAAmB2E,OAApB,EAA6B,GAA7B,CAArC;UACD,CArBU;UAsBXA,OAAO,EAAE,YAAW;YAClB,IACEC,KAAK,GAAGrE,QAAQ,CAACmC,IAAT,GAAgB,GAD1B;YAAA,IAEEmC,SAAS,GAAG,CAFd;YAIAhF,IAAI,GAAG,KAAP;YACA4E,YAAY,CAACvD,MAAM,CAAClB,WAAP,CAAmB0E,KAApB,CAAZ;YACAvF,CAAC,CAAC2D,IAAF,CAAO9C,WAAP,EAAoB,UAAS+C,KAAT,EAAgB9B,IAAhB,EAAsB;cACxC4D,SAAS,IAAI5D,IAAI,CAAC,gBAAD,CAAjB;YACD,CAFD;YAGA2D,KAAK,IAAI,MAAMC,SAAN,GAAkB,IAA3B;;YACA,IAAGkC,cAAH,EAAmB;cACjBnC,KAAK,IAAI,QAAQmC,cAAR,GAAyB,IAAlC;YACD;;YACD,IAAI,CAACtF,OAAO,CAACK,KAAR,KAAkBxC,SAAlB,IAA+BmC,OAAO,CAACqD,KAAR,KAAkBxF,SAAlD,KAAgEU,WAAW,CAACwD,MAAZ,GAAqB,CAAzF,EAA4F;cAC1F/B,OAAO,CAACO,cAAR,CAAuB4C,KAAvB;;cACA,IAAGnD,OAAO,CAACqD,KAAX,EAAkB;gBAChBrD,OAAO,CAACqD,KAAR,CAAc9E,WAAd;cACD,CAFD,MAGK;gBACHb,CAAC,CAAC2D,IAAF,CAAO9C,WAAP,EAAoB,UAAS+C,KAAT,EAAgB9B,IAAhB,EAAsB;kBACxCQ,OAAO,CAACG,GAAR,CAAYX,IAAI,CAAC,MAAD,CAAJ,GAAe,IAAf,GAAsBA,IAAI,CAAC,gBAAD,CAA1B,GAA6C,IAAzD;gBACD,CAFD;cAGD;;cACDQ,OAAO,CAACM,QAAR;YACD;;YACD/B,WAAW,GAAG,EAAd;UACD;QAjDU,CAp/BL;QAuiCR+E,MAAM,EAAE,UAAS9E,KAAT,EAAgB+E,eAAhB,EAAiCC,OAAjC,EAA0C;UAChD,IACEC,MAAM,GAAGlE,QADX;UAAA,IAEEmE,QAFF;UAAA,IAGEC,KAHF;UAAA,IAIEC,QAJF;UAMAL,eAAe,GAAGA,eAAe,IAAI5E,cAArC;UACA6E,OAAO,GAAWlE,OAAO,IAAYkE,OAArC;;UACA,IAAG,OAAOhF,KAAP,IAAgB,QAAhB,IAA4BiF,MAAM,KAAK5F,SAA1C,EAAqD;YACnDW,KAAK,GAAMA,KAAK,CAACqF,KAAN,CAAY,OAAZ,CAAX;YACAH,QAAQ,GAAGlF,KAAK,CAACuD,MAAN,GAAe,CAA1B;YACArE,CAAC,CAAC2D,IAAF,CAAO7C,KAAP,EAAc,UAASsF,KAAT,EAAgBlC,KAAhB,EAAuB;cACnC,IAAImC,cAAc,GAAID,KAAK,IAAIJ,QAAV,GACjB9B,KAAK,GAAGpD,KAAK,CAACsF,KAAK,GAAG,CAAT,CAAL,CAAiBE,MAAjB,CAAwB,CAAxB,EAA2BC,WAA3B,EAAR,GAAmDzF,KAAK,CAACsF,KAAK,GAAG,CAAT,CAAL,CAAiBlF,KAAjB,CAAuB,CAAvB,CADlC,GAEjBJ,KAFJ;;cAIA,IAAId,CAAC,CAACqB,aAAF,CAAiB0E,MAAM,CAACM,cAAD,CAAvB,KAA8CD,KAAK,IAAIJ,QAA3D,EAAuE;gBACrED,MAAM,GAAGA,MAAM,CAACM,cAAD,CAAf;cACD,CAFD,MAGK,IAAIN,MAAM,CAACM,cAAD,CAAN,KAA2BlG,SAA/B,EAA2C;gBAC9C8F,KAAK,GAAGF,MAAM,CAACM,cAAD,CAAd;gBACA,OAAO,KAAP;cACD,CAHI,MAIA,IAAIrG,CAAC,CAACqB,aAAF,CAAiB0E,MAAM,CAAC7B,KAAD,CAAvB,KAAqCkC,KAAK,IAAIJ,QAAlD,EAA8D;gBACjED,MAAM,GAAGA,MAAM,CAAC7B,KAAD,CAAf;cACD,CAFI,MAGA,IAAI6B,MAAM,CAAC7B,KAAD,CAAN,KAAkB/D,SAAtB,EAAkC;gBACrC8F,KAAK,GAAGF,MAAM,CAAC7B,KAAD,CAAd;gBACA,OAAO,KAAP;cACD,CAHI,MAIA;gBACH,OAAO,KAAP;cACD;YACF,CAtBD;UAuBD;;UACD,IAAKlE,CAAC,CAACI,UAAF,CAAc6F,KAAd,CAAL,EAA6B;YAC3BC,QAAQ,GAAGD,KAAK,CAAChB,KAAN,CAAYa,OAAZ,EAAqBD,eAArB,CAAX;UACD,CAFD,MAGK,IAAGI,KAAK,KAAK9F,SAAb,EAAwB;YAC3B+F,QAAQ,GAAGD,KAAX;UACD;;UACD,IAAGQ,KAAK,CAACC,OAAN,CAAc1E,aAAd,CAAH,EAAiC;YAC/BA,aAAa,CAAC6B,IAAd,CAAmBqC,QAAnB;UACD,CAFD,MAGK,IAAGlE,aAAa,KAAK7B,SAArB,EAAgC;YACnC6B,aAAa,GAAG,CAACA,aAAD,EAAgBkE,QAAhB,CAAhB;UACD,CAFI,MAGA,IAAGA,QAAQ,KAAK/F,SAAhB,EAA2B;YAC9B6B,aAAa,GAAGkE,QAAhB;UACD;;UACD,OAAOD,KAAP;QACD;MA3lCO,CAAV;;MA8lCA,IAAGjF,aAAH,EAAkB;QAChB,IAAGa,QAAQ,KAAK1B,SAAhB,EAA2B;UACzB,IAAIH,CAAC,CAACI,UAAF,CAAagB,QAAQ,CAACkS,SAAT,CAAmBxS,KAAnB,CAAb,CAAJ,EAA6C;YAC3CM,QAAQ,CAAC2wC,QAAT,GAAoB,IAApB;YACA3wC,QAAQ,CAACsH,SAAT,CAAmB2nC,KAAnB,GAA2BjvC,QAAQ,CAACsH,SAAT,CAAmBkpB,QAA9C;YACAxwB,QAAQ,GAAGpB,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAe,EAAf,EAAmBF,QAAnB,EAA6BA,QAAQ,CAACkS,SAAT,CAAmBxS,KAAnB,EAA0BmE,KAA1B,CAAgClD,MAAhC,EAAwCd,cAAxC,CAA7B,CAAX,CAH2C,CAK3C;;YACAyH,SAAS,GAAGtH,QAAQ,CAACsH,SAArB;YACAnH,SAAS,GAAGH,QAAQ,CAACG,SAArB;YACA4O,MAAM,GAAM/O,QAAQ,CAAC+O,MAArB;YACA3O,KAAK,GAAOJ,QAAQ,CAACI,KAArB;UACD;;UACDO,MAAM,CAACE,UAAP;QACD;;QACD,IAAI,CAACjC,CAAC,CAACI,UAAF,CAAagB,QAAQ,CAACkS,SAAT,CAAmBxS,KAAnB,CAAb,CAAL,EAA8C;UAC5CiB,MAAM,CAAC6D,MAAP,CAAc9E,KAAd;QACD;MACF,CAlBD,MAmBK;QACH,IAAGe,QAAQ,KAAK1B,SAAhB,EAA2B;UACzB0B,QAAQ,CAAC+D,MAAT,CAAgB,SAAhB;QACD;;QACD7D,MAAM,CAACE,UAAP;QACAD,aAAa,GAAGL,OAAhB;MACD;IACF,CAjqCH;IAoqCA,OAAQK,aAAa,KAAK7B,SAAnB,GACH6B,aADG,GAEH,IAFJ;EAID,CAjsCD;;EAmsCAhC,CAAC,CAACQ,EAAF,CAAK6vC,KAAL,CAAWjvC,QAAX,GAAsB;IAEpBmC,IAAI,EAAa,OAFG;IAGpBhC,SAAS,EAAQ,OAHG;IAKpBwwB,OAAO,EAAU,MALG;IAMpBtK,MAAM,EAAW,CANG;IAQpBrR,MAAM,EAAW,KARG;IASpB5T,KAAK,EAAY,KATG;IAUpBL,OAAO,EAAU,KAVG;IAWpBtB,WAAW,EAAM,IAXG;IAapB6Z,cAAc,EAAG,KAbG;IAepBi3B,aAAa,EAAI,KAfG;IAgBpBQ,UAAU,EAAO,IAhBG;IAiBpB3xB,QAAQ,EAAS,IAjBG;IAkBpB+zB,SAAS,EAAQ,IAlBG;IAmBpBe,YAAY,EAAK,IAnBG;IAoBpBvD,QAAQ,EAAS,KApBG;IAsBpB/yB,QAAQ,EAAS,KAtBG;IAuBpBy2B,QAAQ,EAAS,KAvBG;IAyBpB5D,QAAQ,EAAS,IAzBG;IA2BpBK,cAAc,EAAG;MACf1xB,QAAQ,EAAG,KADI;MAEfsR,MAAM,EAAK;IAFI,CA3BG;IAgCpB;IACA1nB,iBAAiB,EAAE,IAjCC;IAmCpBtE,OAAO,EAAM,MAnCO;IAqCpBuW,KAAK,EAAQ,KArCO;IAsCpB1I,QAAQ,EAAK,GAtCO;IAuCpBD,UAAU,EAAG,OAvCO;IAyCpB;IACA8iC,OAAO,EAAM,EA1CO;IA2CpBjD,cAAc,EAAE,EA3CI;IA6CpB;IACA9tC,KAAK,EAAU,EA9CK;IA+CpB8U,OAAO,EAAQ,EA/CK;IAgDpByL,KAAK,EAAU,EAhDK;IAiDpBmrB,UAAU,EAAK,EAjDK;IAkDpBC,YAAY,EAAG,EAlDK;IAmDpBI,YAAY,EAAG,EAnDK;IAoDpBQ,SAAS,EAAM,KApDK;IAqDpBT,OAAO,EAAQ,KArDK;IAsDpB5Z,YAAY,EAAG,IAtDK;IAwDpBxnB,MAAM,EAAW;MACf6V,KAAK,EAAU,OADA;MAEftW,IAAI,EAAW,MAFA;MAGfgkB,IAAI,EAAW,MAHA;MAIf1Y,KAAK,EAAU;IAJA,CAxDG;IA+DpB;IACAgF,MAAM,EAAO,YAAU,CAAE,CAhEL;IAkEpB;IACAH,SAAS,EAAI,YAAU,CAAE,CAnEL;IAqEpB;IACAY,MAAM,EAAO,YAAU;MAAE,OAAO,IAAP;IAAc,CAtEnB;IAwEpB;IACAV,QAAQ,EAAK,KAzEO;IA2EpB;IACAozB,SAAS,EAAI,YAAU;MAAE,OAAO,IAAP;IAAc,CA5EnB;IA8EpB;IACAC,MAAM,EAAO,YAAU;MAAE,OAAO,IAAP;IAAc,CA/EnB;IAiFpBvrC,QAAQ,EAAM;MACZpC,KAAK,EAAM,WADC;MAEZ8U,OAAO,EAAI,YAFC;MAGZg3B,OAAO,EAAI,YAHC;MAIZ31B,KAAK,EAAM,UAJC;MAKZ+2B,OAAO,EAAI,qDALC;MAMZC,IAAI,EAAO,sDANC;MAOZvC,KAAK,EAAM,WAPC;MAQZpf,MAAM,EAAK,cARC;MASZskB,SAAS,EAAE,+GATC;MAUZ7rC,MAAM,EAAK;IAVC,CAjFM;IA6FpBlI,KAAK,EAAG;MACNyvB,MAAM,EAAM,8DADN;MAENzqB,MAAM,EAAM,uCAFN;MAGNioB,QAAQ,EAAI;IAHN,CA7FY;IAkGpB/lB,SAAS,EAAG;MACV8S,MAAM,EAAO,QADH;MAEVF,SAAS,EAAI,WAFH;MAGVm6B,QAAQ,EAAK,UAHH;MAIVz2B,QAAQ,EAAK,UAJH;MAKVgT,MAAM,EAAO,QALH;MAMViV,OAAO,EAAM,SANH;MAOVqL,SAAS,EAAI,WAPH;MAQVF,UAAU,EAAG,YARH;MASVuB,KAAK,EAAQ,OATH;MAUV/3B,KAAK,EAAQ,YAVH;MAWV81B,MAAM,EAAO,WAXH;MAYVrB,KAAK,EAAQ,UAZH;MAaV5qC,KAAK,EAAQ,QAbH;MAcV8U,OAAO,EAAM,SAdH;MAeVg3B,OAAO,EAAM,SAfH;MAgBV3f,QAAQ,EAAK,eAhBH;MAiBV+lB,EAAE,EAAW,UAjBH;MAkBVC,MAAM,EAAO,UAlBH;MAmBVluC,MAAM,EAAO;IAnBH,CAlGQ;IAuHpBgG,IAAI,EAAE;MACJioC,EAAE,EAAM,IADJ;MAEJC,MAAM,EAAE;IAFJ;EAvHc,CAAtB;EA6HA53C,CAAC,CAACQ,EAAF,CAAK6vC,KAAL,CAAWjvC,QAAX,CAAoBkS,SAApB,GAAgC;IAC9BukC,YAAY,EAAE,UAASC,IAAT,EAAe;MAC3B,IAAI72C,cAAc,GAAG,GAAGC,KAAH,CAASC,IAAT,CAAc22C,IAAd,CAArB;;MACA,IAAG93C,CAAC,CAACqB,aAAF,CAAgBJ,cAAc,CAAC,CAAD,CAA9B,CAAH,EAAsC;QACpC,OAAOjB,CAAC,CAACsB,MAAF,CAAS;UACdy2C,OAAO,EAAC,YAAU,CAAE,CADN;UAEdx9B,OAAO,EAAC,EAFM;UAGd9U,KAAK,EAAE;QAHO,CAAT,EAIJxE,cAAc,CAAC,CAAD,CAJV,CAAP;MAKD,CAND,MAMO;QACL,IAAG,CAACjB,CAAC,CAACI,UAAF,CAAaa,cAAc,CAACA,cAAc,CAACoD,MAAf,GAAsB,CAAvB,CAA3B,CAAJ,EAA2D;UACzDpD,cAAc,CAAC4C,IAAf,CAAoB,YAAW,CAAE,CAAjC;QACD;;QACD,OAAO;UACLk0C,OAAO,EAAE92C,cAAc,CAAC+2C,GAAf,EADJ;UAELz9B,OAAO,EAAEtZ,cAAc,CAAC+2C,GAAf,MAAwB,EAF5B;UAGLvyC,KAAK,EAAExE,cAAc,CAAC+2C,GAAf,MAAwB;QAH1B,CAAP;MAKD;IACF,CAnB6B;IAoB9BC,KAAK,EAAE,YAAY;MACjB,IAAI72C,QAAQ,GAAG,KAAK4H,GAAL,CAAS5H,QAAT,EAAf;MAAA,IACI02C,IAAI,GAAO12C,QAAQ,CAACkS,SAAT,CAAmBukC,YAAnB,CAAgC92C,SAAhC,CADf;MAGA,OAAO;QACL0E,KAAK,EAAIqyC,IAAI,CAACryC,KADT;QAEL8U,OAAO,EAAEu9B,IAAI,CAACv9B,OAFT;QAGLg3B,OAAO,EAAE,CAAC;UACR7hC,IAAI,EAAGtO,QAAQ,CAACsO,IAAT,CAAcioC,EADb;UAER3xB,KAAK,EAAE5kB,QAAQ,CAACsH,SAAT,CAAmBivC,EAFlB;UAGR38B,KAAK,EAAE88B,IAAI,CAACC;QAHJ,CAAD;MAHJ,CAAP;IASD,CAjC6B;IAkC9BG,OAAO,EAAE,YAAY;MACnB,IAAI92C,QAAQ,GAAG,KAAK4H,GAAL,CAAS5H,QAAT,EAAf;MAAA,IACI02C,IAAI,GAAO12C,QAAQ,CAACkS,SAAT,CAAmBukC,YAAnB,CAAgC92C,SAAhC,CADf;MAGA,OAAO;QACL0E,KAAK,EAAIqyC,IAAI,CAACryC,KADT;QAEL8U,OAAO,EAAEu9B,IAAI,CAACv9B,OAFT;QAGLg3B,OAAO,EAAE,CAAC;UACR7hC,IAAI,EAAGtO,QAAQ,CAACsO,IAAT,CAAcioC,EADb;UAER3xB,KAAK,EAAE5kB,QAAQ,CAACsH,SAAT,CAAmBivC,EAFlB;UAGR38B,KAAK,EAAE,YAAU;YAAC88B,IAAI,CAACC,OAAL,CAAa,IAAb;UAAmB;QAH7B,CAAD,EAIP;UACAroC,IAAI,EAAEtO,QAAQ,CAACsO,IAAT,CAAckoC,MADpB;UAEA5xB,KAAK,EAAE5kB,QAAQ,CAACsH,SAAT,CAAmBkvC,MAF1B;UAGA58B,KAAK,EAAE,YAAU;YAAC88B,IAAI,CAACC,OAAL,CAAa,KAAb;UAAoB;QAHtC,CAJO;MAHJ,CAAP;IAaD,CAnD6B;IAoD9BruC,MAAM,EAAE,YAAY;MAClB,IAAIyuC,KAAK,GAAM,IAAf;MAAA,IACI/2C,QAAQ,GAAG,KAAK4H,GAAL,CAAS5H,QAAT,EADf;MAAA,IAEI02C,IAAI,GAAO12C,QAAQ,CAACkS,SAAT,CAAmBukC,YAAnB,CAAgC92C,SAAhC,CAFf;MAAA,IAGI8N,KAAK,GAAM7O,CAAC,CAACA,CAAC,CAACo4C,SAAF,CAAYN,IAAI,CAACv9B,OAAjB,CAAD,CAAD,CAA6BxN,MAA7B,CAAoC,WAApC,CAHf;;MAKA,IAAI8B,KAAK,CAACxK,MAAN,KAAiB,CAArB,EAAwB;QACtByzC,IAAI,CAACv9B,OAAL,IAAgB,oBAAkBnZ,QAAQ,CAACsH,SAAT,CAAmBgB,MAArC,GAA4C,wBAA5C,GAAqE,KAAKwnC,OAAL,CAAa/T,OAAb,CAAqB2a,IAAI,CAAC9U,WAAL,IAAoB,EAAzC,CAArE,GAAkH,uBAAlH,GAA0I,KAAKkO,OAAL,CAAa/T,OAAb,CAAqB2a,IAAI,CAACrsC,YAAL,IAAqB,EAA1C,CAA1I,GAAwL,cAAxM;MACD;;MACD,OAAO;QACLhG,KAAK,EAAIqyC,IAAI,CAACryC,KADT;QAEL8U,OAAO,EAAEu9B,IAAI,CAACv9B,OAFT;QAGLg3B,OAAO,EAAE,CAAC;UACR7hC,IAAI,EAAEtO,QAAQ,CAACsO,IAAT,CAAcioC,EADZ;UAER3xB,KAAK,EAAE5kB,QAAQ,CAACsH,SAAT,CAAmBivC,EAFlB;UAGR38B,KAAK,EAAE,YAAU;YACf,IAAI5Z,QAAQ,GAAG+2C,KAAK,CAACnvC,GAAN,CAAU5H,QAAV,EAAf;YAAA,IACIi3C,UAAU,GAAGF,KAAK,CAACnvC,GAAN,CAAUpH,OAAV,GAAoB4H,IAApB,CAAyBpI,QAAQ,CAACyG,QAAT,CAAkB6B,MAA3C,EAAmD,CAAnD,CADjB;YAGAouC,IAAI,CAACC,OAAL,CAAa/3C,CAAC,CAACq4C,UAAD,CAAD,CAAc7rC,GAAd,EAAb;UACD;QARO,CAAD,EASP;UACAkD,IAAI,EAAEtO,QAAQ,CAACsO,IAAT,CAAckoC,MADpB;UAEA5xB,KAAK,EAAE5kB,QAAQ,CAACsH,SAAT,CAAmBkvC,MAF1B;UAGA58B,KAAK,EAAE,YAAU;YAAC88B,IAAI,CAACC,OAAL,CAAa,IAAb;UAAmB;QAHrC,CATO;MAHJ,CAAP;IAkBD;EA/E6B,CAAhC;AAkFC,CAj6CA,EAi6CGxwC,MAj6CH,EAi6CWtH,MAj6CX,EAi6CmBC,QAj6CnB;AAm6CD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA;;AAAC,CAAC,UAAUF,CAAV,EAAaC,MAAb,EAAqBC,QAArB,EAA+BC,SAA/B,EAA0C;EAE5C;;EAEAH,CAAC,CAACI,UAAF,GAAeJ,CAAC,CAACI,UAAF,IAAgB,UAASC,GAAT,EAAc;IAC3C,OAAO,OAAOA,GAAP,KAAe,UAAf,IAA6B,OAAOA,GAAG,CAACC,QAAX,KAAwB,QAA5D;EACD,CAFD;;EAIAL,MAAM,GAAI,OAAOA,MAAP,IAAiB,WAAjB,IAAgCA,MAAM,CAACuH,IAAP,IAAeA,IAAhD,GACLvH,MADK,GAEJ,OAAOwH,IAAP,IAAe,WAAf,IAA8BA,IAAI,CAACD,IAAL,IAAaA,IAA5C,GACEC,IADF,GAEE3C,QAAQ,CAAC,aAAD,CAAR,EAJN;;EAOA9E,CAAC,CAACQ,EAAF,CAAK83C,GAAL,GAAW,UAAS73C,UAAT,EAAqB;IAC9B,IACEkH,WAAW,GAAM3H,CAAC,CAAC,IAAD,CADpB;IAAA,IAEE4H,cAAc,GAAGD,WAAW,CAACE,QAAZ,IAAwB,EAF3C;IAAA,IAIEnH,IAAI,GAAa,IAAIC,IAAJ,GAAWC,OAAX,EAJnB;IAAA,IAKEC,WAAW,GAAM,EALnB;IAAA,IAOEC,KAAK,GAAYC,SAAS,CAAC,CAAD,CAP5B;IAAA,IAQEC,aAAa,GAAK,OAAOF,KAAP,IAAgB,QARpC;IAAA,IASEG,cAAc,GAAG,GAAGC,KAAH,CAASC,IAAT,CAAcJ,SAAd,EAAyB,CAAzB,CATnB;IAAA,IAUEiB,aAVF;IAYA2F,WAAW,CACRhE,IADH,CACQ,YAAW;MACf,IACEvC,QAAQ,GAAcpB,CAAC,CAACqB,aAAF,CAAgBZ,UAAhB,CAAF,GAChBT,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAe,EAAf,EAAmBtB,CAAC,CAACQ,EAAF,CAAK83C,GAAL,CAASl3C,QAA5B,EAAsCX,UAAtC,CADgB,GAEhBT,CAAC,CAACsB,MAAF,CAAS,EAAT,EAAatB,CAAC,CAACQ,EAAF,CAAK83C,GAAL,CAASl3C,QAAtB,CAHN;MAAA,IAKEyG,QAAQ,GAAUzG,QAAQ,CAACyG,QAL7B;MAAA,IAMErG,KAAK,GAAaJ,QAAQ,CAACI,KAN7B;MAAA,IAOED,SAAS,GAASH,QAAQ,CAACG,SAP7B;MAAA,IASEqH,cAAc,GAAI,MAAMrH,SAT1B;MAAA,IAUEE,eAAe,GAAGF,SAAS,GAAG,SAVhC;MAAA,IAYEI,OAAO,GAAW3B,CAAC,CAAC,IAAD,CAZrB;MAAA,IAcEozB,QAAQ,GAAWhyB,QAAQ,CAAC0E,OAAV,GACd9F,CAAC,CAACoB,QAAQ,CAAC0E,OAAV,CADa,GAEd9F,CAAC,CAAC,MAAD,CAhBP;MAAA,IAkBE4B,OAAO,GAAW,IAlBpB;MAAA,IAmBEC,QAAQ,GAAUF,OAAO,CAACG,IAAR,CAAaL,eAAb,CAnBpB;MAAA,IAoBE82C,OApBF;MAAA,IAqBEx2C,MArBF;MAuBAA,MAAM,GAAG;QAEPE,UAAU,EAAE,YAAW;UACrBF,MAAM,CAACI,OAAP,CAAe,sBAAf;UACAo2C,OAAO,GAAGx2C,MAAM,CAACiH,GAAP,CAAWuvC,OAAX,EAAV;UACA52C,OAAO,CACJoI,EADH,CACM,UAAUnB,cADhB,EACgCf,QAAQ,CAAC+T,KADzC,EACgD7Z,MAAM,CAACy2C,OADvD,EAEG12C,IAFH,CAEQL,eAFR,EAEyBM,MAFzB;;UAKA,IAAGX,QAAQ,CAAC+wC,UAAT,IAAuBxwC,OAAO,CAACyJ,MAAR,GAAiB,CAAjB,MAAwBgoB,QAAQ,CAAC,CAAD,CAA1D,EAA+D;YAC7DzxB,OAAO,CACJmvB,MADH,GAEG+G,SAFH,CAEazE,QAFb;UAID;;UAED,IAAGhyB,QAAQ,CAACq3C,WAAT,GAAuB,CAA1B,EAA6B;YAC3Bp1C,UAAU,CAACtB,MAAM,CAACosB,IAAR,EAAc/sB,QAAQ,CAACq3C,WAAvB,CAAV;UACD;;UACD12C,MAAM,CAACqsB,IAAP;QACD,CArBM;QAuBPzpB,OAAO,EAAE,YAAW;UAClB5C,MAAM,CAACI,OAAP,CAAe,qBAAf;UACAR,OAAO,CACJiD,UADH,CACcnD,eADd,EAEGgN,GAFH,CAEO7F,cAFP;QAID,CA7BM;QA+BPwlB,IAAI,EAAE,YAAW;UACf,IAAIrsB,MAAM,CAAC4sB,MAAP,CAAcP,IAAd,MAAwB,CAACzsB,OAAO,CAACgK,EAAR,CAAW,UAAX,CAA7B,EAAsD;YACpD,IAAGvK,QAAQ,CAAC4e,MAAT,CAAgB7e,IAAhB,CAAqBS,OAArB,MAAkC,KAArC,EAA4C;cAC1CG,MAAM,CAACS,KAAP,CAAa,0DAAb;cACA,OAAO,KAAP;YACD;;YACDT,MAAM,CAACS,KAAP,CAAa,aAAb,EAA4BpB,QAAQ,CAACgb,SAAT,CAAmBgS,IAA/C;;YACA,IAAGhtB,QAAQ,CAACgb,SAAT,CAAmBgS,IAAnB,KAA4B,MAA/B,EAAuC;cACrCzsB,OAAO,CACJiS,MADH,CACUxS,QAAQ,CAACuS,QADnB,EAC6BvS,QAAQ,CAACyb,MADtC,EAC8Czb,QAAQ,CAACye,SADvD;YAGD,CAJD,MAKK;cACHle,OAAO,CACJib,SADH,CACaxb,QAAQ,CAACuS,QADtB,EACgCvS,QAAQ,CAACyb,MADzC,EACiDzb,QAAQ,CAACye,SAD1D;YAGD;UACF;QACF,CAjDM;QAmDPsO,IAAI,EAAE,YAAW;UACf,IAAG/sB,QAAQ,CAACqf,MAAT,CAAgBtf,IAAhB,CAAqBS,OAArB,MAAkC,KAArC,EAA4C;YAC1CG,MAAM,CAACS,KAAP,CAAa,0DAAb;YACA,OAAO,KAAP;UACD;;UACDT,MAAM,CAACS,KAAP,CAAa,YAAb,EAA2BpB,QAAQ,CAACgb,SAAT,CAAmB+R,IAA9C;;UACA,IAAG/sB,QAAQ,CAACgb,SAAT,CAAmB+R,IAAnB,KAA4B,MAA/B,EAAuC;YACrCxsB,OAAO,CACJoS,OADH,CACW3S,QAAQ,CAACuS,QADpB,EAC8BvS,QAAQ,CAACyb,MADvC,EAC+Czb,QAAQ,CAAC2e,QADxD;UAGD,CAJD,MAKK;YACHpe,OAAO,CACJub,OADH,CACW9b,QAAQ,CAACuS,QADpB,EAC8BvS,QAAQ,CAACyb,MADvC,EAC+Czb,QAAQ,CAAC2e,QADxD;UAGD;QACF,CAnEM;QAqEPy4B,OAAO,EAAE,UAASxuC,KAAT,EAAgB;UACvB,IAAGjI,MAAM,CAACosB,IAAP,OAAkB,KAAlB,IAA2B/sB,QAAQ,CAACs3C,aAAvC,EAAsD;YACpD32C,MAAM,CAACS,KAAP,CAAa,gBAAb,EAA+BpB,QAAQ,CAACs3C,aAAxC,EAAuDt3C,QAAQ,CAACsN,GAAhE,EAAqEtN,QAAQ,CAAC8C,KAA9E,EAAqF9C,QAAQ,CAACu3C,OAA9F;YACA52C,MAAM,CAACw2C,OAAP,CAAepvC,GAAf,CAAmB/H,QAAQ,CAACsN,GAA5B,EAAiCtN,QAAQ,CAAC8C,KAA1C;UACD;;UACD8F,KAAK,CAACiL,wBAAN;UACAjL,KAAK,CAACC,cAAN;QACD,CA5EM;QA8EP0kB,MAAM,EAAE;UACNP,IAAI,EAAE,YAAW;YACf,IAAGhtB,QAAQ,CAACw3C,OAAZ,EAAqB;cACnB72C,MAAM,CAACS,KAAP,CAAa,qCAAb;cACA,OAAO,IAAP;YACD;;YACD,IAAIT,MAAM,CAACw2C,OAAP,CAAevvC,GAAf,CAAmB5H,QAAQ,CAACsN,GAA5B,KAAoCtN,QAAQ,CAAC8C,KAAT,CAAe8J,QAAf,EAAxC,EAAoE;cAClEjM,MAAM,CAACS,KAAP,CAAa,uCAAb,EAAsDT,MAAM,CAACw2C,OAAP,CAAevvC,GAAf,CAAmB5H,QAAQ,CAACsN,GAA5B,CAAtD;cACA,OAAO,IAAP;YACD;;YACD3M,MAAM,CAACS,KAAP,CAAa,sCAAb,EAAqDT,MAAM,CAACw2C,OAAP,CAAevvC,GAAf,CAAmB5H,QAAQ,CAACsN,GAA5B,CAArD;YACA,OAAO,KAAP;UACD;QAZK,CA9ED;QA6FP1F,GAAG,EAAE;UACH6vC,cAAc,EAAE,UAASF,OAAT,EAAkB;YAChC,IAAI,OAAOA,OAAP,KAAmB,QAAvB,EAAiC;cAC/BA,OAAO,GAAG,IAAIh4C,IAAJ,CAASA,IAAI,CAAC6rB,GAAL,KAAamsB,OAAO,GAAG,KAAhC,CAAV;YACD;;YACD,IAAGA,OAAO,YAAYh4C,IAAnB,IAA2Bg4C,OAAO,CAAC/3C,OAAR,EAA9B,EAAiD;cAC/C,OAAO+3C,OAAO,CAACG,WAAR,EAAP;YACD,CAFD,MAEO;cACL/2C,MAAM,CAACP,KAAP,CAAaA,KAAK,CAACu3C,aAAnB;YACD;UACF,CAVE;UAWHR,OAAO,EAAE,YAAU;YACjB,IAAGn3C,QAAQ,CAACs3C,aAAT,KAA2B,cAA3B,IAA6Cz4C,MAAM,CAAC+4C,YAAP,KAAwB74C,SAAxE,EAAmF;cACjF4B,MAAM,CAACS,KAAP,CAAa,qBAAb;cACA,OAAOvC,MAAM,CAAC+4C,YAAd;YACD,CAHD,MAIK,IAAG53C,QAAQ,CAACs3C,aAAT,KAA2B,gBAA3B,IAA+Cz4C,MAAM,CAAC0lC,cAAP,KAA0BxlC,SAA5E,EAAuF;cAC1F4B,MAAM,CAACS,KAAP,CAAa,uBAAb;cACA,OAAOvC,MAAM,CAAC0lC,cAAd;YACD,CAHI,MAIA,IAAG,YAAYzlC,QAAf,EAAyB;cAC5B6B,MAAM,CAACS,KAAP,CAAa,cAAb;cACA,OAAO;gBACLqjC,OAAO,EAAE,UAASn3B,GAAT,EAAcxK,KAAd,EAAqBmc,OAArB,EAA8B;kBACrC;kBACA3R,GAAG,GAAKugC,kBAAkB,CAACvgC,GAAD,CAAlB,CACHoB,OADG,CACK,sBADL,EAC6BmpC,kBAD7B,EAEHnpC,OAFG,CAEK,OAFL,EAEcb,MAFd,CAAR;kBAGA/K,KAAK,GAAG+qC,kBAAkB,CAAC/qC,KAAD,CAAlB,CACH4L,OADG,CACK,0CADL,EACiDmpC,kBADjD,CAAR;kBAGA,IAAIC,aAAa,GAAG,EAApB;;kBACA,KAAK,IAAI7L,MAAT,IAAmBhtB,OAAnB,EAA4B;oBAC1B,IAAIA,OAAO,CAAC84B,cAAR,CAAuB9L,MAAvB,CAAJ,EAAoC;sBAClC6L,aAAa,IAAI,OAAO7L,MAAxB;;sBACA,IAAI,OAAOhtB,OAAO,CAACgtB,MAAD,CAAd,KAA2B,QAA/B,EAAyC;wBACvC6L,aAAa,IAAI,MAAM74B,OAAO,CAACgtB,MAAD,CAAP,CAAgBlnC,KAAhB,CAAsB,GAAtB,EAA2B,CAA3B,CAAvB;sBACD;oBACF;kBACF;;kBACDjG,QAAQ,CAACk5C,MAAT,GAAkB1qC,GAAG,GAAG,GAAN,GAAYxK,KAAZ,GAAoBg1C,aAAtC;gBACD,CAnBI;gBAoBLtT,OAAO,EAAE,UAASl3B,GAAT,EAAc;kBACrB,IAAI2qC,OAAO,GAAGn5C,QAAQ,CAACk5C,MAAT,CAAgBjzC,KAAhB,CAAsB,IAAtB,CAAd;;kBACA,KAAK,IAAIkB,CAAC,GAAG,CAAR,EAAWiyC,EAAE,GAAGD,OAAO,CAACh1C,MAA7B,EAAqCgD,CAAC,GAAGiyC,EAAzC,EAA6CjyC,CAAC,EAA9C,EAAkD;oBAChD,IAAIuJ,KAAK,GAAMyoC,OAAO,CAAChyC,CAAD,CAAP,CAAWlB,KAAX,CAAiB,GAAjB,CAAf;oBAAA,IACIozC,QAAQ,GAAG3oC,KAAK,CAAC,CAAD,CAAL,CAASd,OAAT,CAAiB,kBAAjB,EAAqCmpC,kBAArC,CADf;;oBAEA,IAAIvqC,GAAG,KAAK6qC,QAAZ,EAAsB;sBACpB,OAAO3oC,KAAK,CAAC,CAAD,CAAL,IAAY,EAAnB;oBACD;kBACF;gBACF,CA7BI;gBA8BL4oC,UAAU,EAAE,UAAS9qC,GAAT,EAAc2R,OAAd,EAAuB;kBACjCk4B,OAAO,CAAC1S,OAAR,CAAgBn3B,GAAhB,EAAoB,EAApB,EAAuB2R,OAAvB;gBACD;cAhCI,CAAP;YAkCD,CApCI,MAoCE;cACLte,MAAM,CAACP,KAAP,CAAaA,KAAK,CAACkkC,SAAnB;YACD;UACF,CA3DE;UA4DH+T,cAAc,EAAE,YAAW;YACzB,IACEp5B,OAAO,GAAG,EADZ;;YAGA,IAAGjf,QAAQ,CAACu3C,OAAZ,EAAqB;cACnBt4B,OAAO,CAACs4B,OAAR,GAAkB52C,MAAM,CAACiH,GAAP,CAAW6vC,cAAX,CAA0Bz3C,QAAQ,CAACu3C,OAAnC,CAAlB;YACD;;YACD,IAAGv3C,QAAQ,CAAC2tC,MAAZ,EAAoB;cAClB1uB,OAAO,CAAC0uB,MAAR,GAAiB3tC,QAAQ,CAAC2tC,MAA1B;YACD;;YACD,IAAG3tC,QAAQ,CAACs4C,IAAZ,EAAkB;cAChBr5B,OAAO,CAACq5B,IAAR,GAAet4C,QAAQ,CAACs4C,IAAxB;YACD;;YACD,IAAGt4C,QAAQ,CAACu4C,MAAZ,EAAoB;cAClBt5B,OAAO,CAACs5B,MAAR,GAAiBv4C,QAAQ,CAACu4C,MAA1B;YACD;;YACD,IAAGv4C,QAAQ,CAACw4C,QAAZ,EAAsB;cACpBv5B,OAAO,CAACu5B,QAAR,GAAmBx4C,QAAQ,CAACw4C,QAA5B;YACD;;YACD,OAAOv5B,OAAP;UACD;QAhFE,CA7FE;QAgLPrd,KAAK,EAAE,YAAW;UAChBjB,MAAM,CAACw2C,OAAP,CAAelsC,MAAf,CAAsBjL,QAAQ,CAACsN,GAA/B;QACD,CAlLM;QAoLP6pC,OAAO,EAAE;UACPpvC,GAAG,EAAE,UAASuF,GAAT,EAAcxK,KAAd,EAAqB;YACxB,IACEmc,OAAO,GAAGte,MAAM,CAACiH,GAAP,CAAWywC,cAAX,EADZ;;YAGA,IAAGlB,OAAO,KAAKt4C,MAAM,CAAC+4C,YAAnB,IAAmC34B,OAAO,CAACs4B,OAA9C,EAAuD;cACrD52C,MAAM,CAACS,KAAP,CAAa,0CAAb,EAAyDkM,GAAzD,EAA8D2R,OAAO,CAACs4B,OAAtE;cACAJ,OAAO,CAAC1S,OAAR,CAAgBn3B,GAAG,GAAGtN,QAAQ,CAACy4C,aAA/B,EAA8Cx5B,OAAO,CAACs4B,OAAtD;YACD;;YACD52C,MAAM,CAACS,KAAP,CAAa,cAAb,EAA6BkM,GAA7B,EAAkCxK,KAAlC;;YACA,IAAI;cACFq0C,OAAO,CAAC1S,OAAR,CAAgBn3B,GAAhB,EAAqBxK,KAArB,EAA4Bmc,OAA5B;YACD,CAFD,CAGA,OAAMvV,CAAN,EAAS;cACP/I,MAAM,CAACP,KAAP,CAAaA,KAAK,CAACqkC,OAAnB,EAA4B/6B,CAA5B;YACD;UACF,CAhBM;UAiBP9B,GAAG,EAAE,UAAS0F,GAAT,EAAc;YACjB,IACEorC,WADF;YAGAA,WAAW,GAAGvB,OAAO,CAAC3S,OAAR,CAAgBl3B,GAAhB,CAAd;;YACA,IAAG6pC,OAAO,KAAKt4C,MAAM,CAAC+4C,YAAtB,EAAoC;cAClC,IAAIe,UAAU,GAAGxB,OAAO,CAAC3S,OAAR,CAAgBl3B,GAAG,GAAGtN,QAAQ,CAACy4C,aAA/B,CAAjB;;cACA,IAAGE,UAAU,KAAK,IAAf,IAAuBA,UAAU,KAAK55C,SAAtC,IAAmD,IAAIQ,IAAJ,CAASo5C,UAAT,IAAuB,IAAIp5C,IAAJ,EAA7E,EAAyF;gBACvFoB,MAAM,CAACS,KAAP,CAAa,iDAAb,EAAgEkM,GAAhE;gBACA3M,MAAM,CAACw2C,OAAP,CAAelsC,MAAf,CAAsBqC,GAAtB;gBACAorC,WAAW,GAAG,IAAd;cACD;YACF;;YACD,IAAGA,WAAW,IAAI,WAAf,IAA8BA,WAAW,IAAI,MAA7C,IAAuDA,WAAW,KAAK35C,SAAvE,IAAoF25C,WAAW,KAAK,IAAvG,EAA6G;cAC3GA,WAAW,GAAG35C,SAAd;YACD;;YACD,OAAO25C,WAAP;UACD,CAlCM;UAmCPztC,MAAM,EAAE,UAASqC,GAAT,EAAc;YACpB,IACE2R,OAAO,GAAGte,MAAM,CAACiH,GAAP,CAAWywC,cAAX,EADZ;YAGAp5B,OAAO,CAACs4B,OAAR,GAAkB52C,MAAM,CAACiH,GAAP,CAAW6vC,cAAX,CAA0B,CAAC,CAA3B,CAAlB;;YACA,IAAGN,OAAO,KAAKt4C,MAAM,CAAC+4C,YAAtB,EAAoC;cAClCT,OAAO,CAACiB,UAAR,CAAmB9qC,GAAG,GAAGtN,QAAQ,CAACy4C,aAAlC;YACD;;YACDtB,OAAO,CAACiB,UAAR,CAAmB9qC,GAAnB,EAAwB2R,OAAxB;UACD;QA5CM,CApLF;QAmOPpc,OAAO,EAAE,UAASV,IAAT,EAAeW,KAAf,EAAsB;UAC7BnC,MAAM,CAACS,KAAP,CAAa,kBAAb,EAAiCe,IAAjC,EAAuCW,KAAvC;;UACA,IAAIlE,CAAC,CAACqB,aAAF,CAAgBkC,IAAhB,CAAJ,EAA4B;YAC1BvD,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAeF,QAAf,EAAyBmC,IAAzB;UACD,CAFD,MAGK,IAAGW,KAAK,KAAK/D,SAAb,EAAwB;YAC3B,IAAGH,CAAC,CAACqB,aAAF,CAAgBD,QAAQ,CAACmC,IAAD,CAAxB,CAAH,EAAoC;cAClCvD,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAeF,QAAQ,CAACmC,IAAD,CAAvB,EAA+BW,KAA/B;YACD,CAFD,MAGK;cACH9C,QAAQ,CAACmC,IAAD,CAAR,GAAiBW,KAAjB;YACD;UACF,CAPI,MAQA;YACH,OAAO9C,QAAQ,CAACmC,IAAD,CAAf;UACD;QACF,CAnPM;QAoPPsB,QAAQ,EAAE,UAAStB,IAAT,EAAeW,KAAf,EAAsB;UAC9B,IAAIlE,CAAC,CAACqB,aAAF,CAAgBkC,IAAhB,CAAJ,EAA4B;YAC1BvD,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAeS,MAAf,EAAuBwB,IAAvB;UACD,CAFD,MAGK,IAAGW,KAAK,KAAK/D,SAAb,EAAwB;YAC3B4B,MAAM,CAACwB,IAAD,CAAN,GAAeW,KAAf;UACD,CAFI,MAGA;YACH,OAAOnC,MAAM,CAACwB,IAAD,CAAb;UACD;QACF,CA9PM;QA+PPf,KAAK,EAAE,YAAW;UAChB,IAAG,CAACpB,QAAQ,CAACgV,MAAV,IAAoBhV,QAAQ,CAACoB,KAAhC,EAAuC;YACrC,IAAGpB,QAAQ,CAACP,WAAZ,EAAyB;cACvBkB,MAAM,CAAClB,WAAP,CAAmB4B,GAAnB,CAAuB1B,SAAvB;YACD,CAFD,MAGK;cACHgB,MAAM,CAACS,KAAP,GAAesC,QAAQ,CAACC,SAAT,CAAmBC,IAAnB,CAAwB7D,IAAxB,CAA6BmB,OAAO,CAACmC,IAArC,EAA2CnC,OAA3C,EAAoDlB,QAAQ,CAACmC,IAAT,GAAgB,GAApE,CAAf;cACAxB,MAAM,CAACS,KAAP,CAAayC,KAAb,CAAmB3C,OAAnB,EAA4BvB,SAA5B;YACD;UACF;QACF,CAzQM;QA0QPoB,OAAO,EAAE,YAAW;UAClB,IAAG,CAACf,QAAQ,CAACgV,MAAV,IAAoBhV,QAAQ,CAACe,OAA7B,IAAwCf,QAAQ,CAACoB,KAApD,EAA2D;YACzD,IAAGpB,QAAQ,CAACP,WAAZ,EAAyB;cACvBkB,MAAM,CAAClB,WAAP,CAAmB4B,GAAnB,CAAuB1B,SAAvB;YACD,CAFD,MAGK;cACHgB,MAAM,CAACI,OAAP,GAAiB2C,QAAQ,CAACC,SAAT,CAAmBC,IAAnB,CAAwB7D,IAAxB,CAA6BmB,OAAO,CAACmC,IAArC,EAA2CnC,OAA3C,EAAoDlB,QAAQ,CAACmC,IAAT,GAAgB,GAApE,CAAjB;cACAxB,MAAM,CAACI,OAAP,CAAe8C,KAAf,CAAqB3C,OAArB,EAA8BvB,SAA9B;YACD;UACF;QACF,CApRM;QAqRPS,KAAK,EAAE,YAAW;UAChB,IAAG,CAACJ,QAAQ,CAACgV,MAAb,EAAqB;YACnBrU,MAAM,CAACP,KAAP,GAAesD,QAAQ,CAACC,SAAT,CAAmBC,IAAnB,CAAwB7D,IAAxB,CAA6BmB,OAAO,CAACd,KAArC,EAA4Cc,OAA5C,EAAqDlB,QAAQ,CAACmC,IAAT,GAAgB,GAArE,CAAf;YACAxB,MAAM,CAACP,KAAP,CAAayD,KAAb,CAAmB3C,OAAnB,EAA4BvB,SAA5B;UACD;QACF,CA1RM;QA2RPF,WAAW,EAAE;UACX4B,GAAG,EAAE,UAASyC,OAAT,EAAkB;YACrB,IACEC,WADF,EAEEC,aAFF,EAGEC,YAHF;;YAKA,IAAGjE,QAAQ,CAACP,WAAZ,EAAyB;cACvBsE,WAAW,GAAK,IAAIxE,IAAJ,GAAWC,OAAX,EAAhB;cACAyE,YAAY,GAAI3E,IAAI,IAAIyE,WAAxB;cACAC,aAAa,GAAGD,WAAW,GAAGE,YAA9B;cACA3E,IAAI,GAAYyE,WAAhB;cACAtE,WAAW,CAACgD,IAAZ,CAAiB;gBACf,QAAmBqB,OAAO,CAAC,CAAD,CADX;gBAEf,aAAmB,GAAGhE,KAAH,CAASC,IAAT,CAAc+D,OAAd,EAAuB,CAAvB,KAA6B,EAFjC;gBAGf,WAAmBtD,OAHJ;gBAIf,kBAAmBwD;cAJJ,CAAjB;YAMD;;YACDE,YAAY,CAACvD,MAAM,CAAClB,WAAP,CAAmB0E,KAApB,CAAZ;YACAxD,MAAM,CAAClB,WAAP,CAAmB0E,KAAnB,GAA2BlC,UAAU,CAACtB,MAAM,CAAClB,WAAP,CAAmB2E,OAApB,EAA6B,GAA7B,CAArC;UACD,CArBU;UAsBXA,OAAO,EAAE,YAAW;YAClB,IACEC,KAAK,GAAGrE,QAAQ,CAACmC,IAAT,GAAgB,GAD1B;YAAA,IAEEmC,SAAS,GAAG,CAFd;YAIAhF,IAAI,GAAG,KAAP;YACA4E,YAAY,CAACvD,MAAM,CAAClB,WAAP,CAAmB0E,KAApB,CAAZ;YACAvF,CAAC,CAAC2D,IAAF,CAAO9C,WAAP,EAAoB,UAAS+C,KAAT,EAAgB9B,IAAhB,EAAsB;cACxC4D,SAAS,IAAI5D,IAAI,CAAC,gBAAD,CAAjB;YACD,CAFD;YAGA2D,KAAK,IAAI,MAAMC,SAAN,GAAkB,IAA3B;;YACA,IAAGkC,cAAH,EAAmB;cACjBnC,KAAK,IAAI,QAAQmC,cAAR,GAAyB,IAAlC;YACD;;YACD,IAAI,CAACtF,OAAO,CAACK,KAAR,KAAkBxC,SAAlB,IAA+BmC,OAAO,CAACqD,KAAR,KAAkBxF,SAAlD,KAAgEU,WAAW,CAACwD,MAAZ,GAAqB,CAAzF,EAA4F;cAC1F/B,OAAO,CAACO,cAAR,CAAuB4C,KAAvB;;cACA,IAAGnD,OAAO,CAACqD,KAAX,EAAkB;gBAChBrD,OAAO,CAACqD,KAAR,CAAc9E,WAAd;cACD,CAFD,MAGK;gBACHb,CAAC,CAAC2D,IAAF,CAAO9C,WAAP,EAAoB,UAAS+C,KAAT,EAAgB9B,IAAhB,EAAsB;kBACxCQ,OAAO,CAACG,GAAR,CAAYX,IAAI,CAAC,MAAD,CAAJ,GAAe,IAAf,GAAsBA,IAAI,CAAC,gBAAD,CAA1B,GAA6C,IAAzD;gBACD,CAFD;cAGD;;cACDQ,OAAO,CAACM,QAAR;YACD;;YACD/B,WAAW,GAAG,EAAd;UACD;QAjDU,CA3RN;QA8UP+E,MAAM,EAAE,UAAS9E,KAAT,EAAgB+E,eAAhB,EAAiCC,OAAjC,EAA0C;UAChD,IACEC,MAAM,GAAGlE,QADX;UAAA,IAEEmE,QAFF;UAAA,IAGEC,KAHF;UAAA,IAIEC,QAJF;UAMAL,eAAe,GAAGA,eAAe,IAAI5E,cAArC;UACA6E,OAAO,GAAWlE,OAAO,IAAYkE,OAArC;;UACA,IAAG,OAAOhF,KAAP,IAAgB,QAAhB,IAA4BiF,MAAM,KAAK5F,SAA1C,EAAqD;YACnDW,KAAK,GAAMA,KAAK,CAACqF,KAAN,CAAY,OAAZ,CAAX;YACAH,QAAQ,GAAGlF,KAAK,CAACuD,MAAN,GAAe,CAA1B;YACArE,CAAC,CAAC2D,IAAF,CAAO7C,KAAP,EAAc,UAASsF,KAAT,EAAgBlC,KAAhB,EAAuB;cACnC,IAAImC,cAAc,GAAID,KAAK,IAAIJ,QAAV,GACjB9B,KAAK,GAAGpD,KAAK,CAACsF,KAAK,GAAG,CAAT,CAAL,CAAiBE,MAAjB,CAAwB,CAAxB,EAA2BC,WAA3B,EAAR,GAAmDzF,KAAK,CAACsF,KAAK,GAAG,CAAT,CAAL,CAAiBlF,KAAjB,CAAuB,CAAvB,CADlC,GAEjBJ,KAFJ;;cAIA,IAAId,CAAC,CAACqB,aAAF,CAAiB0E,MAAM,CAACM,cAAD,CAAvB,KAA8CD,KAAK,IAAIJ,QAA3D,EAAuE;gBACrED,MAAM,GAAGA,MAAM,CAACM,cAAD,CAAf;cACD,CAFD,MAGK,IAAIN,MAAM,CAACM,cAAD,CAAN,KAA2BlG,SAA/B,EAA2C;gBAC9C8F,KAAK,GAAGF,MAAM,CAACM,cAAD,CAAd;gBACA,OAAO,KAAP;cACD,CAHI,MAIA,IAAIrG,CAAC,CAACqB,aAAF,CAAiB0E,MAAM,CAAC7B,KAAD,CAAvB,KAAqCkC,KAAK,IAAIJ,QAAlD,EAA8D;gBACjED,MAAM,GAAGA,MAAM,CAAC7B,KAAD,CAAf;cACD,CAFI,MAGA,IAAI6B,MAAM,CAAC7B,KAAD,CAAN,KAAkB/D,SAAtB,EAAkC;gBACrC8F,KAAK,GAAGF,MAAM,CAAC7B,KAAD,CAAd;gBACA,OAAO,KAAP;cACD,CAHI,MAIA;gBACHnC,MAAM,CAACP,KAAP,CAAaA,KAAK,CAACgF,MAAnB,EAA2B1F,KAA3B;gBACA,OAAO,KAAP;cACD;YACF,CAvBD;UAwBD;;UACD,IAAKd,CAAC,CAACI,UAAF,CAAc6F,KAAd,CAAL,EAA6B;YAC3BC,QAAQ,GAAGD,KAAK,CAAChB,KAAN,CAAYa,OAAZ,EAAqBD,eAArB,CAAX;UACD,CAFD,MAGK,IAAGI,KAAK,KAAK9F,SAAb,EAAwB;YAC3B+F,QAAQ,GAAGD,KAAX;UACD;;UACD,IAAGQ,KAAK,CAACC,OAAN,CAAc1E,aAAd,CAAH,EAAiC;YAC/BA,aAAa,CAAC6B,IAAd,CAAmBqC,QAAnB;UACD,CAFD,MAGK,IAAGlE,aAAa,KAAK7B,SAArB,EAAgC;YACnC6B,aAAa,GAAG,CAACA,aAAD,EAAgBkE,QAAhB,CAAhB;UACD,CAFI,MAGA,IAAGA,QAAQ,KAAK/F,SAAhB,EAA2B;YAC9B6B,aAAa,GAAGkE,QAAhB;UACD;;UACD,OAAOD,KAAP;QACD;MAnYM,CAAT;;MAsYA,IAAGjF,aAAH,EAAkB;QAChB,IAAGa,QAAQ,KAAK1B,SAAhB,EAA2B;UACzB4B,MAAM,CAACE,UAAP;QACD;;QACDF,MAAM,CAAC6D,MAAP,CAAc9E,KAAd;MACD,CALD,MAMK;QACH,IAAGe,QAAQ,KAAK1B,SAAhB,EAA2B;UACzB0B,QAAQ,CAAC+D,MAAT,CAAgB,SAAhB;QACD;;QACD7D,MAAM,CAACE,UAAP;MACD;IACF,CA3aH;IA8aA,OAAQD,aAAa,KAAK7B,SAAnB,GACH6B,aADG,GAEH,IAFJ;EAID,CA/bD;;EAicAhC,CAAC,CAACQ,EAAF,CAAK83C,GAAL,CAASl3C,QAAT,GAAoB;IAElBmC,IAAI,EAAU,KAFI;IAIlB6S,MAAM,EAAQ,KAJI;IAKlB5T,KAAK,EAAS,KALI;IAMlBL,OAAO,EAAO,KANI;IAOlBtB,WAAW,EAAG,IAPI;IASlBU,SAAS,EAAK,KATI;IAWlB;IACAq3C,OAAO,EAAO,KAZI;IAclB;IACAH,WAAW,EAAG,CAfI;IAiBlBr8B,SAAS,EAAK;MACZgS,IAAI,EAAG,OADK;MAEZD,IAAI,EAAG;IAFK,CAjBI;IAsBlBroB,OAAO,EAAS,KAtBE;IAuBlBqsC,UAAU,EAAM,KAvBE;IAyBlBwG,OAAO,EAAS,EAzBE;IA2BpB;IACE5J,MAAM,EAAU,KA5BE;IA6BlB2K,IAAI,EAAY,GA7BE;IA8BlBC,MAAM,EAAU,KA9BE;IA+BlBC,QAAQ,EAAQ,KA/BE;IAiClB;IACAlB,aAAa,EAAG,QAlCE;IAoClB;IACAhqC,GAAG,EAAa,KArCE;IAsClBxK,KAAK,EAAW,SAtCE;IAwCpB;IACE21C,aAAa,EAAG,gBAzCE;IA2ClBr4C,KAAK,EAAE;MACLkkC,SAAS,EAAS,4BADb;MAELl/B,MAAM,EAAY,uCAFb;MAGLq/B,OAAO,EAAW,sCAHb;MAILkT,aAAa,EAAK;IAJb,CA3CW;IAkDlBrwC,SAAS,EAAO;MACdsxC,MAAM,EAAG,QADK;MAEdC,KAAK,EAAI;IAFK,CAlDE;IAuDlBpyC,QAAQ,EAAQ;MACd+T,KAAK,EAAG;IADM,CAvDE;IA2DlBjI,QAAQ,EAAQ,GA3DE;IA4DlBkJ,MAAM,EAAU,aA5DE;IA8DlB;IACAmD,MAAM,EAAU,YAAW,CAAE,CA/DX;IAiElB;IACAH,SAAS,EAAO,YAAW,CAAE,CAlEX;IAoElB;IACAY,MAAM,EAAU,YAAW,CAAE,CArEX;IAuElB;IACAV,QAAQ,EAAQ,YAAW,CAAE;EAxEX,CAApB,CAhd4C,CA4hB5C;;EACA/f,CAAC,CAACsB,MAAF,CAAUtB,CAAC,CAAC6c,MAAZ,EAAoB;IAClBkB,WAAW,EAAE,UAAUC,CAAV,EAAatM,CAAb,EAAgBuM,CAAhB,EAAmBC,CAAnB,EAAsBC,CAAtB,EAAyB;MACpC,OAAO,CAACD,CAAD,IAAKxM,CAAC,IAAEyM,CAAR,KAAYzM,CAAC,GAAC,CAAd,IAAmBuM,CAA1B;IACD;EAHiB,CAApB;AAMC,CAniBA,EAmiBG1W,MAniBH,EAmiBWtH,MAniBX,EAmiBmBC,QAniBnB;AAqiBD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA;;AAAC,CAAC,UAAUF,CAAV,EAAaC,MAAb,EAAqBC,QAArB,EAA+BC,SAA/B,EAA0C;EAE5C;;EAEAH,CAAC,CAACI,UAAF,GAAeJ,CAAC,CAACI,UAAF,IAAgB,UAASC,GAAT,EAAc;IAC3C,OAAO,OAAOA,GAAP,KAAe,UAAf,IAA6B,OAAOA,GAAG,CAACC,QAAX,KAAwB,QAA5D;EACD,CAFD;;EAIAL,MAAM,GAAI,OAAOA,MAAP,IAAiB,WAAjB,IAAgCA,MAAM,CAACuH,IAAP,IAAeA,IAAhD,GACLvH,MADK,GAEJ,OAAOwH,IAAP,IAAe,WAAf,IAA8BA,IAAI,CAACD,IAAL,IAAaA,IAA5C,GACEC,IADF,GAEE3C,QAAQ,CAAC,aAAD,CAAR,EAJN;;EAOA9E,CAAC,CAACQ,EAAF,CAAKke,KAAL,GAAa,UAASje,UAAT,EAAqB;IAChC,IACEkH,WAAW,GAAM3H,CAAC,CAAC,IAAD,CADpB;IAAA,IAEE0B,SAAS,GAAQ1B,CAAC,CAACE,QAAD,CAFpB;IAAA,IAGEowC,OAAO,GAAUtwC,CAAC,CAACC,MAAD,CAHpB;IAAA,IAIEswC,KAAK,GAAYvwC,CAAC,CAAC,MAAD,CAJpB;IAAA,IAME4H,cAAc,GAAGD,WAAW,CAACE,QAAZ,IAAwB,EAN3C;IAAA,IAQEqpB,UAAU,GAAS,kBAAkBhxB,QAAQ,CAACixB,eAA5B,GACZ,YADY,GAEZ,OAVR;IAAA,IAYEzwB,IAAI,GAAa,IAAIC,IAAJ,GAAWC,OAAX,EAZnB;IAAA,IAaEC,WAAW,GAAM,EAbnB;IAAA,IAeEC,KAAK,GAAYC,SAAS,CAAC,CAAD,CAf5B;IAAA,IAgBEC,aAAa,GAAK,OAAOF,KAAP,IAAgB,QAhBpC;IAAA,IAiBEG,cAAc,GAAG,GAAGC,KAAH,CAASC,IAAT,CAAcJ,SAAd,EAAyB,CAAzB,CAjBnB;IAAA,IAmBEiB,aAnBF;IAqBA2F,WAAW,CACRhE,IADH,CACQ,YAAW;MACf,IACEvC,QAAQ,GAAYpB,CAAC,CAACqB,aAAF,CAAgBZ,UAAhB,CAAF,GACdT,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAe,EAAf,EAAmBtB,CAAC,CAACQ,EAAF,CAAKke,KAAL,CAAWtd,QAA9B,EAAwCX,UAAxC,CADc,GAEdT,CAAC,CAACsB,MAAF,CAAS,EAAT,EAAatB,CAAC,CAACQ,EAAF,CAAKke,KAAL,CAAWtd,QAAxB,CAHN;MAAA,IAKEyG,QAAQ,GAAazG,QAAQ,CAACyG,QALhC;MAAA,IAMEa,SAAS,GAAYtH,QAAQ,CAACsH,SANhC;MAAA,IAOElH,KAAK,GAAgBJ,QAAQ,CAACI,KAPhC;MAAA,IAQEiH,QAAQ,GAAarH,QAAQ,CAACqH,QARhC;MAAA,IASElH,SAAS,GAAYH,QAAQ,CAACG,SAThC;MAAA,IAWEqH,cAAc,GAAO,MAAMxH,QAAQ,CAACG,SAXtC;MAAA,IAYEE,eAAe,GAAM,YAAYF,SAZnC;MAAA,IAcEI,OAAO,GAAc3B,CAAC,CAAC,IAAD,CAdxB;MAAA,IAeEozB,QAAQ,GAAapzB,CAAC,CAACoB,QAAQ,CAAC0E,OAAV,CAfxB;MAAA,IAgBEo0C,cAAc,GAAOl6C,CAAC,CAACoB,QAAQ,CAAC+4C,aAAV,CAhBxB;MAAA,IAiBEC,SAAS,GAAYp6C,CAAC,CAACoB,QAAQ,CAACi5C,QAAV,CAjBxB;MAAA,IAkBEzrB,OAAO,GAAextB,QAAQ,CAAC6mB,MAAV,GACjBjoB,CAAC,CAACoB,QAAQ,CAAC6mB,MAAV,CADgB,GAEjBtmB,OApBN;MAAA,IAsBE24C,MAtBF;MAAA,IAuBEC,aAvBF;MAAA,IAyBEC,WAAW,GAAU,CAzBvB;MAAA,IA0BEC,cAAc,GAAO,KA1BvB;MAAA,IA2BEC,eAAe,GAAM,KA3BvB;MAAA,IA6BE94C,OAAO,GAAc,IA7BvB;MAAA,IA8BEC,QAAQ,GAAaF,OAAO,CAACG,IAAR,CAAaL,eAAb,CA9BvB;MAAA,IAgCEk5C,gBAhCF;MAAA,IAiCEjmB,gBAjCF;MAAA,IAkCEC,EAlCF;MAAA,IAmCE5yB,MAnCF;MAsCAA,MAAM,GAAG;QAEP;QACAE,UAAU,EAAE,YAAW;UACrBF,MAAM,CAACS,KAAP,CAAa,cAAb,EAA6Bb,OAA7B;UACAI,MAAM,CAAC64C,QAAP;UACA74C,MAAM,CAACiD,IAAP,CAAYyV,MAAZ;;UACA,IAAG,CAAC1Y,MAAM,CAAC84C,MAAP,EAAD,IAAoBz5C,QAAQ,CAAC05C,QAAhC,EAA0C;YACxC/4C,MAAM,CAACsd,MAAP;UACD;;UACD,IAAGje,QAAQ,CAACsZ,cAAZ,EAA4B;YAC1B3Y,MAAM,CAAC2Y,cAAP;UACD;;UACD3Y,MAAM,CAACG,WAAP;QACD,CAdM;QAgBPA,WAAW,EAAE,YAAW;UACtBH,MAAM,CAACI,OAAP,CAAe,kBAAf,EAAmCJ,MAAnC;UACAF,QAAQ,GAAGE,MAAX;UACAJ,OAAO,CACJG,IADH,CACQL,eADR,EACyBI,QADzB;QAGD,CAtBM;QAwBP6Y,cAAc,EAAE,YAAW;UACzB,IAAG,sBAAsBza,MAAzB,EAAiC;YAC/B06C,gBAAgB,GAAG,IAAIhgC,gBAAJ,CAAqB5Y,MAAM,CAACiI,KAAP,CAAa+wC,eAAlC,CAAnB;YACAJ,gBAAgB,CAAC9/B,OAAjB,CAAyB3a,QAAzB,EAAmC;cACjC4a,SAAS,EAAG,IADqB;cAEjCC,OAAO,EAAK;YAFqB,CAAnC;YAIAhZ,MAAM,CAACS,KAAP,CAAa,8BAAb,EAA6Cm4C,gBAA7C;UACD;QACF,CAjCM;QAmCP1xC,OAAO,EAAE,YAAW;UAClB,IAAG7H,QAAQ,CAACsd,KAAZ,EAAmB;YACjB47B,MAAM,GAAGt6C,CAAC,CAACoB,QAAQ,CAACsd,KAAV,CAAD,CAAkBvN,EAAlB,CAAqB,CAArB,CAAT;UACD,CAFD,MAGK;YACH,IAAG/P,QAAQ,CAACmO,MAAZ,EAAoB;cAClB+qC,MAAM,GAAG1rB,OAAO,CAACgI,OAAR,CAAgB/uB,QAAQ,CAAC6W,KAAzB,EAAgCvN,EAAhC,CAAmC,CAAnC,CAAT;cACA/P,QAAQ,CAACsd,KAAT,GAAiB47B,MAAjB;YACD;UACF;;UACD,IAAGl5C,QAAQ,CAACsd,KAAZ,EAAmB;YACjB47B,MAAM,CAACjnC,QAAP,CAAgB3K,SAAS,CAACu+B,OAA1B;YACAsT,aAAa,GAAGx4C,MAAM,CAACiH,GAAP,CAAWgyC,YAAX,EAAhB;YACAV,MAAM,CAACluC,WAAP,CAAmB1D,SAAS,CAACu+B,OAA7B;;YACA,IAAG7lC,QAAQ,CAAC65C,SAAT,IAAsBl5C,MAAM,CAAC6Q,GAAP,CAAW8L,KAAX,EAAtB,IAA4C3c,MAAM,CAACiH,GAAP,CAAWgyC,YAAX,CAAwBV,MAAxB,EAAgC,CAAhC,MAAuCC,aAAa,CAAC,CAAD,CAAnG,EAAwG;cACtGx4C,MAAM,CAACS,KAAP,CAAa,kDAAb;cACA83C,MAAM,CACHxpB,MADH,GAEGtd,QAFH,CAEY+mC,aAFZ;YAID;UACF,CAXD,MAYK;YACHA,aAAa,GAAIn5C,QAAQ,CAACmO,MAAV,GACZxN,MAAM,CAACiH,GAAP,CAAWgyC,YAAX,CAAwBpsB,OAAxB,CADY,GAEZ7sB,MAAM,CAAC6Q,GAAP,CAAW8L,KAAX,KACE3c,MAAM,CAACiH,GAAP,CAAWgyC,YAAX,CAAwBV,MAAxB,CADF,GAEE/J,KAJN;UAMD;;UACD,IAAIgK,aAAa,CAAC5uC,EAAd,CAAiB,MAAjB,KAA4B4uC,aAAa,CAAC,CAAD,CAAb,KAAqBhK,KAAK,CAAC,CAAD,CAA1D,EAAgE;YAC9DxuC,MAAM,CAACS,KAAP,CAAa,+BAAb;YACA+3C,aAAa,GAAGhK,KAAhB;UACD;;UACD,IAAIxuC,MAAM,CAACiH,GAAP,CAAW8c,SAAX,EAAJ,EAA6B;YAC3B/jB,MAAM,CAACoH,GAAP,CAAW2c,SAAX;UACD;QACF,CAxEM;QA0EPo1B,UAAU,EAAE,YAAW;UACrBn5C,MAAM,CAACkH,OAAP;UACAlH,MAAM,CAACoH,GAAP,CAAW0c,QAAX;QACD,CA7EM;QA+EPlhB,OAAO,EAAE,YAAW;UAClB5C,MAAM,CAACS,KAAP,CAAa,4BAAb;;UACA,IAAGm4C,gBAAH,EAAqB;YACnBA,gBAAgB,CAACp7B,UAAjB;UACD,CAJiB,CAKlB;;;UACA,IAAG+6B,MAAM,IAAI,CAACl5C,QAAQ,CAAC05C,QAAvB,EAAiC;YAC/B/4C,MAAM,CAACo5C,WAAP;UACD,CARiB,CASlB;;;UACA71C,YAAY,CAACvD,MAAM,CAACq5C,SAAR,CAAZ;UACA91C,YAAY,CAACvD,MAAM,CAACs5C,SAAR,CAAZ,CAXkB,CAYlB;;UACAt5C,MAAM,CAACud,MAAP,CAAc1D,KAAd;UACA7Z,MAAM,CAACud,MAAP,CAAc7E,MAAd;UACA9Y,OAAO,CACJiD,UADH,CACcnD,eADd;QAGD,CAjGM;QAmGPuI,KAAK,EAAE;UACLiiC,KAAK,EAAG,UAASjiC,KAAT,EAAgB;YACtB,IACEwF,KAAK,GAAIxP,CAAC,CAACqB,aAAF,CAAgBD,QAAQ,CAACoO,KAAzB,CAAD,GACJpO,QAAQ,CAACoO,KAAT,CAAe4e,IADX,GAEJhtB,QAAQ,CAACoO,KAHf;YAKAlK,YAAY,CAACvD,MAAM,CAACq5C,SAAR,CAAZ;;YACA,IAAG,CAACV,eAAD,IAAqBA,eAAe,IAAIt5C,QAAQ,CAACk6C,cAApD,EAAsE;cACpEv5C,MAAM,CAACs5C,SAAP,GAAmBh4C,UAAU,CAACtB,MAAM,CAACqsB,IAAR,EAAc5e,KAAd,CAA7B;YACD;UACF,CAXI;UAYLsxB,GAAG,EAAG,YAAW;YACf,IACEtxB,KAAK,GAAIxP,CAAC,CAACqB,aAAF,CAAgBD,QAAQ,CAACoO,KAAzB,CAAD,GACJpO,QAAQ,CAACoO,KAAT,CAAe2e,IADX,GAEJ/sB,QAAQ,CAACoO,KAHf;YAKAlK,YAAY,CAACvD,MAAM,CAACs5C,SAAR,CAAZ;YACAt5C,MAAM,CAACq5C,SAAP,GAAmB/3C,UAAU,CAACtB,MAAM,CAACosB,IAAR,EAAc3e,KAAd,CAA7B;UACD,CApBI;UAqBL+rC,UAAU,EAAE,UAASvxC,KAAT,EAAgB;YAC1B0wC,eAAe,GAAG,IAAlB;;YACA,IAAGt5C,QAAQ,CAACk6C,cAAZ,EAA4B;cAC1Bv5C,MAAM,CAACqsB,IAAP;YACD;UACF,CA1BI;UA2BLykB,MAAM,EAAE,YAAW;YACjB,IAAI9wC,MAAM,CAAC4J,EAAP,CAAU2pB,OAAV,EAAJ,EAA0B;cACxBvzB,MAAM,CAACoH,GAAP,CAAW0c,QAAX;YACD;UACF,CA/BI;UAgCLk1B,eAAe,EAAE,UAASngC,SAAT,EAAoB;YACnC,GAAGgO,OAAH,CAAWznB,IAAX,CAAgByZ,SAAhB,EAA2B,UAAS+N,QAAT,EAAmB;cAC5C,IAAGA,QAAQ,CAAC8V,YAAZ,EAA0B;gBACxB,GAAG7V,OAAH,CAAWznB,IAAX,CAAgBwnB,QAAQ,CAAC8V,YAAzB,EAAuC,UAAS+c,IAAT,EAAe;kBACpD,IAAGA,IAAI,IAAI55C,OAAR,IAAmB5B,CAAC,CAACw7C,IAAD,CAAD,CAAQhyC,IAAR,CAAa5H,OAAb,EAAsByC,MAAtB,GAA+B,CAArD,EAAwD;oBACtDtC,MAAM,CAACS,KAAP,CAAa,+CAAb;oBACAT,MAAM,CAAC4C,OAAP;kBACD;gBACF,CALD;cAMD;YACF,CATD;UAUD,CA3CI;UA4CL82C,cAAc,EAAE,UAASzxC,KAAT,EAAgB;YAC9B,IACE4kB,OAAO,GAAG5uB,CAAC,CAACgK,KAAK,CAACie,MAAP,CADb;YAAA,IAEEyrB,OAAO,GAAG1zC,CAAC,CAAC0Y,QAAF,CAAWxY,QAAQ,CAACixB,eAApB,EAAqCnnB,KAAK,CAACie,MAA3C,CAFZ;YAAA,IAGEyzB,OAAO,GAAI9sB,OAAO,CAACtjB,OAAR,CAAgBzD,QAAQ,CAAC6W,KAAzB,EAAgCra,MAAhC,GAAyC,CAHtD,CAD8B,CAM9B;;YACA,IAAG2F,KAAK,IAAI,CAAC0xC,OAAV,IAAqBhI,OAAxB,EAAiC;cAC/B3xC,MAAM,CAACS,KAAP,CAAa,2CAAb;cACAT,MAAM,CAACosB,IAAP;YACD,CAHD,MAIK;cACHpsB,MAAM,CAACS,KAAP,CAAa,4CAAb;YACD;UACF;QA1DI,CAnGA;QAgKP;QACA6c,MAAM,EAAE,YAAW;UACjB,IACE5L,IAAI,GAAQ1R,MAAM,CAACiH,GAAP,CAAWyK,IAAX,EADd;UAAA,IAEEhO,KAAK,GAAO1D,MAAM,CAACiH,GAAP,CAAWvD,KAAX,EAFd;UAAA,IAGE8U,OAAO,GAAKxY,MAAM,CAACiH,GAAP,CAAWuR,OAAX,EAHd;;UAMA,IAAG9G,IAAI,IAAI8G,OAAR,IAAmB9U,KAAtB,EAA6B;YAC3B1D,MAAM,CAACS,KAAP,CAAa,sBAAb;;YACA,IAAG,CAACiR,IAAJ,EAAU;cACRA,IAAI,GAAGrS,QAAQ,CAACkS,SAAT,CAAmBoL,KAAnB,CAAyB;gBAC9BjZ,KAAK,EAAKA,KADoB;gBAE9B8U,OAAO,EAAGA;cAFoB,CAAzB,CAAP;YAID;;YACD+/B,MAAM,GAAGt6C,CAAC,CAAC,QAAD,CAAD,CACNqT,QADM,CACG3K,SAAS,CAACgW,KADb,EAEN5c,IAFM,CAED2G,QAAQ,CAACmW,SAFR,EAEmBjd,OAFnB,EAGN8R,IAHM,CAGDA,IAHC,CAAT;;YAKA,IAAGrS,QAAQ,CAACmO,MAAZ,EAAoB;cAClBxN,MAAM,CAACI,OAAP,CAAe,gCAAf,EAAiDm4C,MAAjD;cACAA,MAAM,CACHvpB,WADH,CACepvB,OADf;YAGD,CALD,MAMK;cACHI,MAAM,CAACI,OAAP,CAAe,iCAAf,EAAkDm4C,MAAlD;cACAA,MAAM,CACH9mC,QADH,CACa4f,QADb;YAGD;;YACDrxB,MAAM,CAACkH,OAAP;YACAlH,MAAM,CAACoH,GAAP,CAAW2c,SAAX;;YAEA,IAAG1kB,QAAQ,CAACmf,SAAZ,EAAuB;cACrBxe,MAAM,CAACiD,IAAP,CAAY0Z,KAAZ;YACD;;YACDtd,QAAQ,CAACmtC,QAAT,CAAkBptC,IAAlB,CAAuBm5C,MAAvB,EAA+B14C,OAA/B;UACD,CAhCD,MAiCK,IAAGR,QAAQ,CAACsd,KAAZ,EAAmB;YACtB1e,CAAC,CAACoB,QAAQ,CAACsd,KAAV,CAAD,CAAkB5c,IAAlB,CAAuB2G,QAAQ,CAACmW,SAAhC,EAA2Cjd,OAA3C;YACAI,MAAM,CAACI,OAAP,CAAe,kCAAf;YACAJ,MAAM,CAACkH,OAAP;;YACA,IAAG7H,QAAQ,CAACmf,SAAZ,EAAuB;cACrBxe,MAAM,CAACiD,IAAP,CAAY0Z,KAAZ;YACD;UACF,CAPI,MAQA,IAAGkQ,OAAO,CAACxT,IAAR,CAAavT,QAAQ,CAAC6W,KAAtB,EAA6Bra,MAA7B,KAAwC,CAA3C,EAA8C;YACjDtC,MAAM,CAACI,OAAP,CAAe,0BAAf;YACAf,QAAQ,CAACmO,MAAT,GAAkB,IAAlB;YACAnO,QAAQ,CAACsd,KAAT,GAAkBkQ,OAAO,CAACxT,IAAR,CAAavT,QAAQ,CAAC6W,KAAtB,EAA6B5c,IAA7B,CAAkC2G,QAAQ,CAACmW,SAA3C,EAAsDjd,OAAtD,CAAlB;YACAI,MAAM,CAACkH,OAAP;;YACA,IAAG7H,QAAQ,CAACmf,SAAZ,EAAuB;cACrBxe,MAAM,CAACiD,IAAP,CAAY0Z,KAAZ;YACD;UACF,CARI,MASA;YACH3c,MAAM,CAACS,KAAP,CAAa,uCAAb,EAAsDZ,OAAtD;UACD;QACF,CA7NM;QA+NPg5C,QAAQ,EAAE,YAAW;UACnBjmB,EAAE,GAAG,CAACntB,IAAI,CAACguB,MAAL,GAAcxnB,QAAd,CAAuB,EAAvB,IAA6B,WAA9B,EAA2CynB,MAA3C,CAAkD,CAAlD,EAAqD,CAArD,CAAL;UACAf,gBAAgB,GAAG,MAAMC,EAAzB;UACA5yB,MAAM,CAACI,OAAP,CAAe,gCAAf,EAAiDwyB,EAAjD;QACD,CAnOM;QAqOP;QACA1Z,MAAM,EAAE,YAAW;UACjBlZ,MAAM,CAACS,KAAP,CAAa,iBAAb;;UACA,IAAIT,MAAM,CAAC4J,EAAP,CAAU6iB,MAAV,EAAJ,EAAyB;YACvBzsB,MAAM,CAACS,KAAP,CAAa,iCAAb;YACAT,MAAM,CAACud,MAAP,CAAc1D,KAAd;YACA7Z,MAAM,CAACqsB,IAAP;UACD,CAJD,MAKK;YACHrsB,MAAM,CAACS,KAAP,CAAa,iCAAb;YACAT,MAAM,CAACosB,IAAP;UACD;QACF,CAjPM;QAmPPC,IAAI,EAAE,UAAShrB,QAAT,EAAmB;UACvBA,QAAQ,GAAGA,QAAQ,IAAI,YAAU,CAAE,CAAnC;;UACArB,MAAM,CAACS,KAAP,CAAa,gBAAb,EAA+BpB,QAAQ,CAACsS,UAAxC;;UACA,IAAG3R,MAAM,CAAC4J,EAAP,CAAU6iB,MAAV,MAAsB,EAAGzsB,MAAM,CAAC4J,EAAP,CAAU6P,MAAV,MAAsBzZ,MAAM,CAAC4J,EAAP,CAAUW,QAAV,EAAzB,CAAzB,EAA0E;YACxE,IAAI,CAACvK,MAAM,CAAC84C,MAAP,EAAL,EAAuB;cACrB94C,MAAM,CAACsd,MAAP;YACD;;YACD,IAAGje,QAAQ,CAAC4e,MAAT,CAAgB7e,IAAhB,CAAqBm5C,MAArB,EAA6B14C,OAA7B,MAA0C,KAA7C,EAAoD;cAClDG,MAAM,CAACS,KAAP,CAAa,4DAAb;cACA;YACD,CAHD,MAIK,IAAG,CAACpB,QAAQ,CAAC05C,QAAV,IAAsB,CAAC15C,QAAQ,CAACsd,KAAnC,EAA0C;cAC7C3c,MAAM,CAACkH,OAAP;YACD;;YACD,IAAIqxC,MAAM,IAAIv4C,MAAM,CAACoH,GAAP,CAAW0c,QAAX,EAAd,EAAsC;cACpC9jB,MAAM,CAACozB,IAAP,CAAYwmB,UAAZ;;cACA,IAAGv6C,QAAQ,CAAC4a,SAAZ,EAAuB;gBACrBja,MAAM,CAAC6xC,OAAP;cACD;;cACD7xC,MAAM,CAAC0a,OAAP,CAAe2R,IAAf,CAAoBhrB,QAApB;YACD;UACF;QACF,CAzQM;QA4QP+qB,IAAI,EAAE,UAAS/qB,QAAT,EAAmB;UACvBA,QAAQ,GAAGA,QAAQ,IAAI,YAAU,CAAE,CAAnC;;UACA,IAAIrB,MAAM,CAAC4J,EAAP,CAAU2pB,OAAV,MAAuBvzB,MAAM,CAAC4J,EAAP,CAAU2P,SAAV,EAA3B,EAAmD;YACjD,IAAGla,QAAQ,CAACqf,MAAT,CAAgBtf,IAAhB,CAAqBm5C,MAArB,EAA6B14C,OAA7B,MAA0C,KAA7C,EAAoD;cAClDG,MAAM,CAACS,KAAP,CAAa,4DAAb;cACA;YACD;;YACDT,MAAM,CAACsK,MAAP,CAAcipB,OAAd;YACAvzB,MAAM,CAACud,MAAP,CAAc1D,KAAd;YACA7Z,MAAM,CAACqzB,OAAP,CAAeumB,UAAf;YACA55C,MAAM,CAAC0a,OAAP,CAAe0R,IAAf,CAAoB/qB,QAApB;UACD;QACF,CAxRM;QA0RPwwC,OAAO,EAAE,YAAW;UAClB5zC,CAAC,CAAC6H,QAAQ,CAAC6W,KAAV,CAAD,CACG3R,MADH,CACU,MAAMrE,SAAS,CAACkzC,YAD1B,EAEGj4C,IAFH,CAEQ,YAAW;YACf3D,CAAC,CAAC,IAAD,CAAD,CACG8B,IADH,CACQ2G,QAAQ,CAACmW,SADjB,EAEKF,KAFL,CAEW,MAFX;UAID,CAPH;QASD,CApSM;QAqSPm8B,MAAM,EAAE,YAAW;UACjB,IAAG,CAACP,MAAJ,EAAY;YACV,OAAO,KAAP;UACD;;UACD,IAAGl5C,QAAQ,CAACmO,MAAT,IAAmBnO,QAAQ,CAACsd,KAA/B,EAAsC;YACpC,OAAS3c,MAAM,CAAC6Q,GAAP,CAAW8L,KAAX,EAAT;UACD,CAFD,MAGK;YACH,OAAS47B,MAAM,CAAChvC,OAAP,CAAe8nB,QAAf,EAAyB/uB,MAAzB,IAAmC,CAArC,GACH,IADG,GAEH,KAFJ;UAID;QACF,CAlTM;QAoTP82C,WAAW,EAAE,YAAW;UACtB,IAAIp5C,MAAM,CAAC6Q,GAAP,CAAW8L,KAAX,MAAsB,CAACtd,QAAQ,CAACsd,KAApC,EAA2C;YACzC3c,MAAM,CAACS,KAAP,CAAa,gBAAb,EAA+B83C,MAA/B;YACAA,MAAM,CAACjuC,MAAP;YACAiuC,MAAM,GAAGn6C,SAAT;YACAiB,QAAQ,CAAC8oC,QAAT,CAAkB/oC,IAAlB,CAAuBm5C,MAAvB,EAA+B14C,OAA/B;UACD;QACF,CA3TM;QA6TPuzB,IAAI,EAAE;UACJwmB,UAAU,EAAE,YAAW;YACrB55C,MAAM,CAACyC,KAAP,GAAe;cACbiB,KAAK,EAAE9D,OAAO,CAACiT,IAAR,CAAa,OAAb;YADM,CAAf;;YAGA,IAAI7S,MAAM,CAACyC,KAAP,CAAaiB,KAAjB,EAAwB;cACtB9D,OAAO,CAAC4T,UAAR,CAAmB,OAAnB;YACD;;YACDxT,MAAM,CAACI,OAAP,CAAe,4BAAf,EAA6CJ,MAAM,CAACyC,KAAP,CAAaiB,KAA1D;UACD;QATG,CA7TC;QAwUP2vB,OAAO,EAAE;UACPumB,UAAU,EAAE,YAAW;YACrB,IAAG55C,MAAM,CAACyC,KAAP,IAAgBzC,MAAM,CAACyC,KAAP,CAAaiB,KAAhC,EAAuC;cACrC9D,OAAO,CAACiT,IAAR,CAAa,OAAb,EAAsB7S,MAAM,CAACyC,KAAP,CAAaiB,KAAnC;cACA1D,MAAM,CAACI,OAAP,CAAe,+BAAf,EAAgDJ,MAAM,CAACyC,KAAP,CAAaiB,KAA7D;YACD;;YACD,OAAO,IAAP;UACD;QAPM,CAxUF;QAiVPo2C,QAAQ,EAAE;UACRC,GAAG,EAAE,YAAW;YACd,OAAQ,OAAOC,kBAAP,KAA8B,WAAtC;UACD;QAHO,CAjVH;QAsVPt/B,OAAO,EAAE;UACP2R,IAAI,EAAE,UAAShrB,QAAT,EAAmB;YACvBA,QAAQ,GAAGpD,CAAC,CAACI,UAAF,CAAagD,QAAb,IAAyBA,QAAzB,GAAoC,YAAU,CAAE,CAA3D;;YACA,IAAGhC,QAAQ,CAACsS,UAAT,IAAuB1T,CAAC,CAACQ,EAAF,CAAKkT,UAAL,KAAoBvT,SAA3C,IAAwDwB,OAAO,CAAC+R,UAAR,CAAmB,cAAnB,CAA3D,EAA+F;cAC7F3R,MAAM,CAACoH,GAAP,CAAWmsB,OAAX;cACAglB,MAAM,CACH5mC,UADH,CACc;gBACV0I,SAAS,EAAI,CAAChb,QAAQ,CAACsS,UAAT,CAAoBwe,UAApB,IAAkC9wB,QAAQ,CAACsS,UAA5C,IAA0D,KAD7D;gBAEV2I,KAAK,EAAQ,KAFH;gBAGV7Z,KAAK,EAAQpB,QAAQ,CAACoB,KAHZ;gBAIVL,OAAO,EAAMf,QAAQ,CAACe,OAJZ;gBAKVwR,QAAQ,EAAKvS,QAAQ,CAACsS,UAAT,CAAoB8e,YAApB,IAAoCpxB,QAAQ,CAACuS,QALhD;gBAMV6I,UAAU,EAAG,YAAW;kBACtBza,MAAM,CAACiD,IAAP,CAAY4W,KAAZ;kBACAxY,QAAQ,CAACjC,IAAT,CAAcm5C,MAAd,EAAsB14C,OAAtB;kBACAR,QAAQ,CAACye,SAAT,CAAmB1e,IAAnB,CAAwBm5C,MAAxB,EAAgC14C,OAAhC;gBACD;cAVS,CADd;YAcD,CAhBD,MAiBK;cACHG,MAAM,CAACP,KAAP,CAAaA,KAAK,CAAC0qC,YAAnB;YACD;UACF,CAvBM;UAwBP/d,IAAI,EAAE,UAAS/qB,QAAT,EAAmB;YACvBA,QAAQ,GAAGpD,CAAC,CAACI,UAAF,CAAagD,QAAb,IAAyBA,QAAzB,GAAoC,YAAU,CAAE,CAA3D;YACArB,MAAM,CAACS,KAAP,CAAa,eAAb;;YACA,IAAGpB,QAAQ,CAACsS,UAAT,IAAuB1T,CAAC,CAACQ,EAAF,CAAKkT,UAAL,KAAoBvT,SAA3C,IAAwDwB,OAAO,CAAC+R,UAAR,CAAmB,cAAnB,CAA3D,EAA+F;cAC7F4mC,MAAM,CACH5mC,UADH,CACc;gBACV0I,SAAS,EAAI,CAAChb,QAAQ,CAACsS,UAAT,CAAoB4e,UAApB,IAAkClxB,QAAQ,CAACsS,UAA5C,IAA0D,MAD7D;gBAEV2I,KAAK,EAAQ,KAFH;gBAGV1I,QAAQ,EAAKvS,QAAQ,CAACsS,UAAT,CAAoB6e,YAApB,IAAoCnxB,QAAQ,CAACuS,QAHhD;gBAIVnR,KAAK,EAAQpB,QAAQ,CAACoB,KAJZ;gBAKVL,OAAO,EAAMf,QAAQ,CAACe,OALZ;gBAMVqa,UAAU,EAAG,YAAW;kBACtBza,MAAM,CAAC6H,KAAP;kBACAxG,QAAQ,CAACjC,IAAT,CAAcm5C,MAAd,EAAsB14C,OAAtB;kBACAR,QAAQ,CAAC2e,QAAT,CAAkB5e,IAAlB,CAAuBm5C,MAAvB,EAA+B14C,OAA/B;gBACD;cAVS,CADd;YAcD,CAfD,MAgBK;cACHG,MAAM,CAACP,KAAP,CAAaA,KAAK,CAAC0qC,YAAnB;YACD;UACF;QA9CM,CAtVF;QAuYPloC,MAAM,EAAE;UACNuW,OAAO,EAAE,UAAS9G,IAAT,EAAe;YACtB6mC,MAAM,CAAC7mC,IAAP,CAAYA,IAAZ;UACD;QAHK,CAvYD;QA6YPzK,GAAG,EAAE;UACHyK,IAAI,EAAE,YAAW;YACf9R,OAAO,CAACiD,UAAR,CAAmB6D,QAAQ,CAACgL,IAA5B;YACA,OAAO9R,OAAO,CAACG,IAAR,CAAa2G,QAAQ,CAACgL,IAAtB,KAA+BrS,QAAQ,CAACqS,IAA/C;UACD,CAJE;UAKHhO,KAAK,EAAE,YAAW;YAChB9D,OAAO,CAACiD,UAAR,CAAmB6D,QAAQ,CAAChD,KAA5B;YACA,OAAO9D,OAAO,CAACG,IAAR,CAAa2G,QAAQ,CAAChD,KAAtB,KAAgCrE,QAAQ,CAACqE,KAAhD;UACD,CARE;UASH8U,OAAO,EAAE,YAAW;YAClB5Y,OAAO,CAACiD,UAAR,CAAmB6D,QAAQ,CAAC8R,OAA5B;YACA,OAAO5Y,OAAO,CAACG,IAAR,CAAa2G,QAAQ,CAAC8R,OAAtB,KAAkCnZ,QAAQ,CAACmZ,OAA3C,IAAsD5Y,OAAO,CAACiT,IAAR,CAAa,OAAb,CAA7D;UACD,CAZE;UAaHkR,SAAS,EAAE,YAAW;YACpBnkB,OAAO,CAACiD,UAAR,CAAmB6D,QAAQ,CAACqd,SAA5B;YACA,OAAOnkB,OAAO,CAACG,IAAR,CAAa2G,QAAQ,CAACqd,SAAtB,KAAoC1kB,QAAQ,CAAC0kB,SAApD;UACD,CAhBE;UAiBHpH,KAAK,EAAE,YAAW;YAChB,OAAO47B,MAAP;UACD,CAnBE;UAoBH0B,WAAW,EAAE,YAAW;YACtB,OAAO1B,MAAM,CAAC7yB,MAAP,EAAP;UACD,CAtBE;UAuBHikB,YAAY,EAAE,YAAW;YACvB,IACEuQ,kBAAkB,GAAGl6C,MAAM,CAACiH,GAAP,CAAWgyC,YAAX,CAAwBV,MAAxB,CADvB;YAAA,IAEE4B,aAAa,GAAQttB,OAAO,CAAC,CAAD,CAF9B;YAAA,IAGEutB,QAAQ,GAAc/B,SAAS,CAAC,CAAD,CAAT,IAAgBn6C,MAHxC;YAAA,IAIEm8C,YAAY,GAASxtB,OAAO,CAACnH,MAAR,EAJvB;YAAA,IAKE40B,YAAY,GAASj7C,QAAQ,CAACmO,MAAT,IAAoBnO,QAAQ,CAACsd,KAAT,IAAkBtd,QAAQ,CAAC65C,SAA/C,GACjBrsB,OAAO,CAACosB,YAAR,GAAuBvzB,MAAvB,EADiB,GAEjB;cAAEkgB,GAAG,EAAE,CAAP;cAAUjgB,IAAI,EAAE;YAAhB,CAPN;YAAA,IAQE40B,cAAc,GAAIH,QAAD,GACb;cAAExU,GAAG,EAAE,CAAP;cAAUjgB,IAAI,EAAE;YAAhB,CADa,GAEb0yB,SAAS,CAAC3yB,MAAV,EAVN;YAAA,IAWEikB,YAAY,GAAK,EAXnB;YAAA,IAYE6Q,MAAM,GAAIJ,QAAD,GACL;cAAExU,GAAG,EAAE2I,OAAO,CAAClK,SAAR,EAAP;cAA4B1e,IAAI,EAAE4oB,OAAO,CAACvE,UAAR;YAAlC,CADK,GAEL;cAAEpE,GAAG,EAAE,CAAP;cAAUjgB,IAAI,EAAE;YAAhB,CAdN;YAAA,IAeE80B,MAfF;YAiBA9Q,YAAY,GAAG;cACb;cACAzjB,MAAM,EAAG;gBACPrmB,OAAO,EAAGgtB,OAAO,CAAC,CAAD,CADV;gBAEPvH,KAAK,EAAKuH,OAAO,CAACod,UAAR,EAFH;gBAGP5Z,MAAM,EAAIxD,OAAO,CAACsX,WAAR,EAHH;gBAIPyB,GAAG,EAAOyU,YAAY,CAACzU,GAAb,GAAmB0U,YAAY,CAAC1U,GAJnC;gBAKPjgB,IAAI,EAAM00B,YAAY,CAAC10B,IAAb,GAAoB20B,YAAY,CAAC30B,IALpC;gBAMP+0B,MAAM,EAAI;cANH,CAFI;cAUb;cACA/9B,KAAK,EAAG;gBACN2I,KAAK,EAAIizB,MAAM,CAACtO,UAAP,EADH;gBAEN5Z,MAAM,EAAGkoB,MAAM,CAACpU,WAAP;cAFH,CAXK;cAeb;cACA96B,MAAM,EAAG;gBACPic,KAAK,EAAIkzB,aAAa,CAACvO,UAAd,EADF;gBAEP5Z,MAAM,EAAGmoB,aAAa,CAACrU,WAAd;cAFF,CAhBI;cAoBb;cACAsW,MAAM,EAAG;gBACP7U,GAAG,EAAI2U,cAAc,CAAC3U,GADf;gBAEPjgB,IAAI,EAAG40B,cAAc,CAAC50B,IAFf;gBAGP60B,MAAM,EAAE;kBACN5U,GAAG,EAAI4U,MAAM,CAAC5U,GADR;kBAENjgB,IAAI,EAAG60B,MAAM,CAAC70B;gBAFR,CAHD;gBAOPL,KAAK,EAAI+yB,SAAS,CAAC/yB,KAAV,EAPF;gBAQP+K,MAAM,EAAGgoB,SAAS,CAAChoB,MAAV;cARF;YArBI,CAAf,CAlBuB,CAmDvB;;YACA,IAAG6pB,kBAAkB,CAACjzC,GAAnB,CAAuB,CAAvB,MAA8BuxC,aAAa,CAACvxC,GAAd,CAAkB,CAAlB,CAAjC,EAAuD;cACrD,IACEgzC,WAAW,GAAUC,kBAAkB,CAACx0B,MAAnB,EADvB;cAGAikB,YAAY,CAACzjB,MAAb,CAAoB0f,GAApB,IAA2BqU,WAAW,CAACrU,GAAvC;cACA+D,YAAY,CAACzjB,MAAb,CAAoBP,IAApB,IAA4Bs0B,WAAW,CAACt0B,IAAxC;cACAgkB,YAAY,CAACtgC,MAAb,CAAoBic,KAApB,GAA4B40B,kBAAkB,CAACjQ,UAAnB,EAA5B;cACAN,YAAY,CAACtgC,MAAb,CAAoBgnB,MAApB,GAA6B6pB,kBAAkB,CAAC/V,WAAnB,EAA7B;YACD,CA5DsB,CA8DvB;;;YACA,IAAI9kC,QAAQ,CAACs7C,aAAT,IAA0B36C,MAAM,CAAC4J,EAAP,CAAUgxC,KAAV,EAA9B,EAAkD;cAChDjR,YAAY,CAAC9oB,SAAb,GAAyB;gBACvByE,KAAK,EAAEizB,MAAM,CAAClvC,MAAP,GAAgB4gC,UAAhB;cADgB,CAAzB;cAGAN,YAAY,CAAChtB,KAAb,CAAmB2I,KAAnB,GAA2BqkB,YAAY,CAAC9oB,SAAb,CAAuByE,KAAlD;YACD,CApEsB,CAsEvB;;;YACAqkB,YAAY,CAACzjB,MAAb,CAAoBw0B,MAApB,CAA2B9U,GAA3B,GAAkCvmC,QAAQ,CAACmO,MAAV,GAC7B4K,QAAQ,CAAEla,MAAM,CAACsnB,gBAAP,CAAwB20B,aAAxB,EAAuCU,gBAAvC,CAAwD,YAAxD,CAAF,EAAyE,EAAzE,CADqB,GAE7B,CAFJ;YAIAlR,YAAY,CAACzjB,MAAb,CAAoBw0B,MAApB,CAA2B/0B,IAA3B,GAAmCtmB,QAAQ,CAACmO,MAAV,GAC9BxN,MAAM,CAAC4J,EAAP,CAAU2nC,GAAV,KACEn5B,QAAQ,CAAEla,MAAM,CAACsnB,gBAAP,CAAwB20B,aAAxB,EAAuCU,gBAAvC,CAAwD,cAAxD,CAAF,EAA2E,EAA3E,CADV,GAEEziC,QAAQ,CAAEla,MAAM,CAACsnB,gBAAP,CAAwB20B,aAAxB,EAAuCU,gBAAvC,CAAwD,aAAxD,CAAF,EAA0E,EAA1E,CAHoB,GAI9B,CAJJ,CA3EuB,CAiFvB;;YACAJ,MAAM,GAAG9Q,YAAY,CAAC8Q,MAAtB;YACA9Q,YAAY,CAAC2O,QAAb,GAAwB;cACtB1S,GAAG,EAAM6U,MAAM,CAAC7U,GAAP,GAAa6U,MAAM,CAACD,MAAP,CAAc5U,GADd;cAEtBqS,MAAM,EAAGwC,MAAM,CAAC7U,GAAP,GAAa6U,MAAM,CAACD,MAAP,CAAc5U,GAA3B,GAAiC6U,MAAM,CAACpqB,MAF3B;cAGtB1K,IAAI,EAAK80B,MAAM,CAAC90B,IAAP,GAAc80B,MAAM,CAACD,MAAP,CAAc70B,IAHf;cAItBqH,KAAK,EAAIytB,MAAM,CAAC90B,IAAP,GAAc80B,MAAM,CAACD,MAAP,CAAc70B,IAA5B,GAAmC80B,MAAM,CAACn1B;YAJ7B,CAAxB;YAMA,OAAOqkB,YAAP;UACD,CAjHE;UAkHH/W,EAAE,EAAE,YAAW;YACb,OAAOA,EAAP;UACD,CApHE;UAqHHkoB,UAAU,EAAE,YAAW;YACrB,IAAGz7C,QAAQ,CAAC2I,EAAT,IAAe,OAAlB,EAA2B;cACzB,OAAO,YAAP;YACD,CAFD,MAGK,IAAG3I,QAAQ,CAAC2I,EAAT,IAAe,OAAlB,EAA2B;cAC9B,OAAO,OAAP;YACD;;YACD,OAAO,KAAP;UACD,CA7HE;UA8HH+yC,WAAW,EAAE,YAAW;YACtB,OAAO,QAAP;UACD,CAhIE;UAiIHC,QAAQ,EAAE,YAAW;YACnB,IAAG37C,QAAQ,CAAC2I,EAAT,IAAe,OAAlB,EAA2B;cACzB,OAAO,YAAP;YACD,CAFD,MAGK,IAAG3I,QAAQ,CAAC2I,EAAT,IAAe,OAAlB,EAA2B;cAC9B,OAAO,MAAP;YACD;;YACD,OAAO,KAAP;UACD,CAzIE;UA0IHizC,oBAAoB,EAAE,UAASv1B,MAAT,EAAiBikB,YAAjB,EAA+B;YACnD,IACEsR,oBAAoB,GAAG,EADzB;YAAA,IAEEt+B,KAFF;YAAA,IAGE27B,QAHF;YAKA3O,YAAY,GAAGA,YAAY,IAAI3pC,MAAM,CAACiH,GAAP,CAAW0iC,YAAX,EAA/B,CANmD,CAQnD;;YACAhtB,KAAK,GAAUgtB,YAAY,CAAChtB,KAA5B;YACA27B,QAAQ,GAAO3O,YAAY,CAAC2O,QAA5B;;YAEA,IAAG5yB,MAAH,EAAW;cACTu1B,oBAAoB,GAAG;gBACrBrV,GAAG,EAAOlgB,MAAM,CAACkgB,GAAP,GAAa0S,QAAQ,CAAC1S,GADX;gBAErBjgB,IAAI,EAAMD,MAAM,CAACC,IAAP,GAAc2yB,QAAQ,CAAC3yB,IAFZ;gBAGrBqH,KAAK,EAAKsrB,QAAQ,CAACtrB,KAAT,IAAkBtH,MAAM,CAACC,IAAP,GAAchJ,KAAK,CAAC2I,KAAtC,CAHW;gBAIrB2yB,MAAM,EAAIK,QAAQ,CAACL,MAAT,IAAmBvyB,MAAM,CAACkgB,GAAP,GAAajpB,KAAK,CAAC0T,MAAtC;cAJW,CAAvB;cAMArwB,MAAM,CAACI,OAAP,CAAe,qCAAf,EAAsDslB,MAAtD,EAA8Du1B,oBAA9D;YACD;;YACD,OAAOA,oBAAP;UACD,CAhKE;UAiKHhC,YAAY,EAAE,UAAS7vC,QAAT,EAAmB;YAC/B,IACEvJ,OAAO,GAAIuJ,QAAQ,KAAKhL,SAAd,GACNgL,QAAQ,CAAC,CAAD,CADF,GAENyjB,OAAO,CAAC,CAAD,CAHb;YAAA,IAIEquB,UAAU,GAAGr7C,OAAO,CAACq7C,UAJvB;YAAA,IAKEC,KAAK,GAAMl9C,CAAC,CAACi9C,UAAD,CALd;;YAOA,IAAGA,UAAH,EAAe;cACb,IACEE,IAAI,GAAQD,KAAK,CAACp/B,GAAN,CAAU,WAAV,MAA2B,MADzC;cAAA,IAEEs/B,QAAQ,GAAIF,KAAK,CAACp/B,GAAN,CAAU,UAAV,MAA0B,QAFxC;cAAA,IAGEu/B,MAAM,GAAKH,KAAK,CAACvxC,EAAN,CAAS,MAAT,CAHb;;cAKA,OAAMsxC,UAAU,IAAI,CAACI,MAAf,IAAyBD,QAAzB,IAAqCD,IAA3C,EAAiD;gBAC/CF,UAAU,GAAGA,UAAU,CAACA,UAAxB;gBACAC,KAAK,GAAMl9C,CAAC,CAACi9C,UAAD,CAAZ;gBACAE,IAAI,GAAQD,KAAK,CAACp/B,GAAN,CAAU,WAAV,MAA2B,MAAvC;gBACAs/B,QAAQ,GAAIF,KAAK,CAACp/B,GAAN,CAAU,UAAV,MAA0B,QAAtC;gBACAu/B,MAAM,GAAKH,KAAK,CAACvxC,EAAN,CAAS,MAAT,CAAX;cACD;YACF;;YACD,OAAQuxC,KAAK,IAAIA,KAAK,CAAC74C,MAAN,GAAe,CAAzB,GACH64C,KADG,GAEHl9C,CAAC,EAFL;UAID,CA3LE;UA4LHs9C,SAAS,EAAE,YAAW;YACpB,OAAO;cACL,YAAkB,KADb;cAEL,cAAkB,KAFb;cAGL,aAAkB,KAHb;cAIL,eAAkB,KAJb;cAKL,iBAAkB,KALb;cAML,gBAAkB,KANb;cAOL,eAAkB,KAPb;cAQL,gBAAkB;YARb,CAAP;UAUD,CAvME;UAwMHC,YAAY,EAAE,UAAS13B,QAAT,EAAmB;YAC/B,IACEy3B,SAAS,GAAYz3B,QAAQ,CAAC1f,KAAT,CAAe,GAAf,CADvB;YAAA,IAEEq3C,gBAAgB,GAAKF,SAAS,CAAC,CAAD,CAFhC;YAAA,IAGEG,kBAAkB,GAAGH,SAAS,CAAC,CAAD,CAHhC;YAAA,IAIEI,QAAQ,GAAG;cACT/V,GAAG,EAAM,QADA;cAETqS,MAAM,EAAG,KAFA;cAGTtyB,IAAI,EAAK,OAHA;cAITqH,KAAK,EAAI;YAJA,CAJb;YAAA,IAUEzJ,QAAQ,GAAG;cACToC,IAAI,EAAK,QADA;cAETi2B,MAAM,EAAG,OAFA;cAGT5uB,KAAK,EAAI;YAHA,CAVb;YAAA,IAeE6uB,MAAM,GAAG;cACP,YAAkB,YADX;cAEP,cAAkB,WAFX;cAGP,aAAkB,cAHX;cAIP,gBAAkB,cAJX;cAKP,gBAAkB,eALX;cAMP,iBAAkB,aANX;cAOP,eAAkB,aAPX;cAQP,eAAkB;YARX,CAfX;YAAA,IAyBEC,kBAAkB,GAAIL,gBAAgB,IAAI,KAApB,IAA6BA,gBAAgB,IAAI,QAzBzE;YAAA,IA0BEM,aAAa,GAAG,KA1BlB;YAAA,IA2BEC,aAAa,GAAG,KA3BlB;YAAA,IA4BER,YAAY,GAAI,KA5BlB;;YA8BA,IAAG,CAAC9C,cAAJ,EAAoB;cAClB14C,MAAM,CAACI,OAAP,CAAe,mCAAf;cACAs4C,cAAc,GAAG14C,MAAM,CAACiH,GAAP,CAAWs0C,SAAX,EAAjB;YACD;;YAEDv7C,MAAM,CAACS,KAAP,CAAa,+BAAb,EAA8CqjB,QAA9C;YACA40B,cAAc,CAAC50B,QAAD,CAAd,GAA2B,IAA3B;;YAEA,IAAGzkB,QAAQ,CAACgrB,MAAT,KAAoB,UAAvB,EAAmC;cACjCmxB,YAAY,GAAI,CAACG,QAAQ,CAACF,gBAAD,CAAT,EAA6BC,kBAA7B,CAAhB;cACAF,YAAY,GAAIA,YAAY,CAAC3qB,IAAb,CAAkB,GAAlB,CAAhB;cACAkrB,aAAa,GAAIrD,cAAc,CAAC8C,YAAD,CAAd,KAAiC,IAAlD;cACAx7C,MAAM,CAACS,KAAP,CAAa,0BAAb,EAAyC+6C,YAAzC;YACD;;YACD,IAAIn8C,QAAQ,CAACgrB,MAAT,KAAoB,UAArB,IAAoCyxB,kBAAvC,EAA4D;cAC1DN,YAAY,GAAI,CAACC,gBAAD,EAAmBl4B,QAAQ,CAACm4B,kBAAD,CAA3B,CAAhB;cACAF,YAAY,GAAIA,YAAY,CAAC3qB,IAAb,CAAkB,GAAlB,CAAhB;cACAmrB,aAAa,GAAItD,cAAc,CAAC8C,YAAD,CAAd,KAAiC,IAAlD;cACAx7C,MAAM,CAACS,KAAP,CAAa,0BAAb,EAAyC+6C,YAAzC;YACD;;YACD,IAAGQ,aAAa,IAAID,aAApB,EAAmC;cACjC/7C,MAAM,CAACS,KAAP,CAAa,uBAAb,EAAsC+6C,YAAtC;cACAA,YAAY,GAAGK,MAAM,CAAC/3B,QAAD,CAArB;YACD;;YACD,OAAO03B,YAAP;UACD;QAhQE,CA7YE;QAgpBPp0C,GAAG,EAAE;UACH0c,QAAQ,EAAE,UAASA,QAAT,EAAmB6lB,YAAnB,EAAiC;YAEzC;YACA,IAAG9c,OAAO,CAACvqB,MAAR,KAAmB,CAAnB,IAAwBi2C,MAAM,CAACj2C,MAAP,KAAkB,CAA7C,EAAgD;cAC9CtC,MAAM,CAACP,KAAP,CAAaA,KAAK,CAACitB,QAAnB;cACA;YACD;;YACD,IACEhH,MADF,EAEEu2B,YAFF,EAGE/1B,MAHF,EAIEvJ,KAJF,EAKEtT,MALF,EAME6yC,WANF,EAOEjC,WAPF,EAQEgB,oBARF;YAWAtR,YAAY,GAAGA,YAAY,IAAI3pC,MAAM,CAACiH,GAAP,CAAW0iC,YAAX,EAA/B;YACA7lB,QAAQ,GAAOA,QAAQ,IAAQlkB,OAAO,CAACG,IAAR,CAAa2G,QAAQ,CAACod,QAAtB,CAAhB,IAAmDzkB,QAAQ,CAACykB,QAA3E;YAEA4B,MAAM,GAAS9lB,OAAO,CAACG,IAAR,CAAa2G,QAAQ,CAACgf,MAAtB,KAAiCrmB,QAAQ,CAACqmB,MAAzD;YACAu2B,YAAY,GAAG58C,QAAQ,CAAC48C,YAAxB,CAtByC,CAwBzC;;YACA/1B,MAAM,GAAGyjB,YAAY,CAACzjB,MAAtB;YACAvJ,KAAK,GAAIgtB,YAAY,CAAChtB,KAAtB;YACAtT,MAAM,GAAGsgC,YAAY,CAACtgC,MAAtB;;YAEA,IAAGrJ,MAAM,CAAC4sB,MAAP,CAAcuvB,WAAd,CAA0BxS,YAA1B,CAAH,EAA4C;cAC1C3pC,MAAM,CAACI,OAAP,CAAe,0DAAf;;cACA,IAAG0jB,QAAQ,IAAI,UAAZ,IAA0BA,QAAQ,IAAI,aAAzC,EAAwD;gBACtD4B,MAAM,IAAKQ,MAAM,CAACZ,KAAP,GAAe,CAA1B;gBACAI,MAAM,IAAIrmB,QAAQ,CAAC+8C,mBAAnB;cACD;;cACD,IAAGt4B,QAAQ,IAAI,WAAZ,IAA2BA,QAAQ,IAAI,cAA1C,EAA0D;gBACxD4B,MAAM,IAAKQ,MAAM,CAACZ,KAAP,GAAe,CAA1B;gBACAI,MAAM,IAAIrmB,QAAQ,CAAC+8C,mBAAnB;cACD;YACF;;YAED,IAAGl2B,MAAM,CAACZ,KAAP,KAAiB,CAAjB,IAAsBY,MAAM,CAACmK,MAAP,KAAkB,CAAxC,IAA6C,CAACrwB,MAAM,CAAC4J,EAAP,CAAUmwC,GAAV,CAAc7zB,MAAM,CAACrmB,OAArB,CAAjD,EAAgF;cAC9EG,MAAM,CAACS,KAAP,CAAa,yCAAb;cACA,OAAO,KAAP;YACD;;YAED,IAAGpB,QAAQ,CAACmO,MAAZ,EAAoB;cAClBxN,MAAM,CAACS,KAAP,CAAa,8BAAb,EAA6CylB,MAAM,CAACw0B,MAApD;;cACA,IAAG52B,QAAQ,IAAI,aAAZ,IAA6BA,QAAQ,IAAI,cAA5C,EAA4D;gBAC1D4B,MAAM,IAAWQ,MAAM,CAACw0B,MAAP,CAAc9U,GAA/B;gBACAqW,YAAY,IAAI,CAAC/1B,MAAM,CAACw0B,MAAP,CAAc/0B,IAA/B;cACD,CAHD,MAIK,IAAI7B,QAAQ,IAAI,UAAZ,IAA0BA,QAAQ,IAAI,YAAtC,IAAsDA,QAAQ,IAAI,WAAtE,EAAmF;gBACtF4B,MAAM,IAAUQ,MAAM,CAACw0B,MAAP,CAAc/0B,IAA9B;gBACAs2B,YAAY,IAAI/1B,MAAM,CAACw0B,MAAP,CAAc9U,GAA9B;cACD,CAHI,MAIA;gBACHlgB,MAAM,IAAUQ,MAAM,CAACw0B,MAAP,CAAc/0B,IAA9B;gBACAs2B,YAAY,IAAI/1B,MAAM,CAACw0B,MAAP,CAAc9U,GAA9B;cACD;YACF;;YAED5lC,MAAM,CAACS,KAAP,CAAa,8CAAb,EAA6DqjB,QAA7D,EAAuE6lB,YAAvE;;YAEA,IAAI3pC,MAAM,CAAC4J,EAAP,CAAU2nC,GAAV,EAAJ,EAAqB;cACnBztB,QAAQ,GAAGA,QAAQ,CAAC/V,OAAT,CAAiB,aAAjB,EAAgC,UAAUxI,KAAV,EAAiB;gBAC1D,OAAQA,KAAK,IAAI,MAAV,GACH,OADG,GAEH,MAFJ;cAID,CALU,CAAX;cAMAvF,MAAM,CAACS,KAAP,CAAa,6BAAb,EAA4CqjB,QAA5C;YACD,CAxEwC,CA0EzC;;;YACA,IAAG20B,WAAW,IAAIp5C,QAAQ,CAACg9C,cAAxB,IAA0C,OAAOh9C,QAAQ,CAAC+qB,UAAhB,KAA+B,QAA5E,EAAsF;cACpFtG,QAAQ,GAAGzkB,QAAQ,CAAC+qB,UAApB;YACD;;YAED,QAAQtG,QAAR;cACE,KAAK,UAAL;gBACEo4B,WAAW,GAAG;kBACZtW,GAAG,EAAM,MADG;kBAEZqS,MAAM,EAAG5uC,MAAM,CAACgnB,MAAP,GAAgBnK,MAAM,CAAC0f,GAAvB,GAA6BqW,YAF1B;kBAGZt2B,IAAI,EAAKO,MAAM,CAACP,IAAP,GAAcD,MAHX;kBAIZsH,KAAK,EAAI;gBAJG,CAAd;gBAMF;;cACA,KAAK,YAAL;gBACEkvB,WAAW,GAAG;kBACZjE,MAAM,EAAG5uC,MAAM,CAACgnB,MAAP,GAAgBnK,MAAM,CAAC0f,GAAvB,GAA6BqW,YAD1B;kBAEZt2B,IAAI,EAAKO,MAAM,CAACP,IAAP,GAAeO,MAAM,CAACZ,KAAP,GAAe,CAA9B,GAAoC3I,KAAK,CAAC2I,KAAN,GAAc,CAAlD,GAAuDI,MAFpD;kBAGZkgB,GAAG,EAAM,MAHG;kBAIZ5Y,KAAK,EAAI;gBAJG,CAAd;gBAMF;;cACA,KAAK,WAAL;gBACEkvB,WAAW,GAAG;kBACZjE,MAAM,EAAI5uC,MAAM,CAACgnB,MAAP,GAAgBnK,MAAM,CAAC0f,GAAvB,GAA6BqW,YAD3B;kBAEZjvB,KAAK,EAAK3jB,MAAM,CAACic,KAAP,GAAeY,MAAM,CAACP,IAAtB,GAA6BO,MAAM,CAACZ,KAApC,GAA4CI,MAF1C;kBAGZkgB,GAAG,EAAM,MAHG;kBAIZjgB,IAAI,EAAK;gBAJG,CAAd;gBAMF;;cACA,KAAK,aAAL;gBACEu2B,WAAW,GAAG;kBACZtW,GAAG,EAAM1f,MAAM,CAAC0f,GAAP,GAAc1f,MAAM,CAACmK,MAAP,GAAgB,CAA9B,GAAoC1T,KAAK,CAAC0T,MAAN,GAAe,CAAnD,GAAwD3K,MADrD;kBAEZsH,KAAK,EAAI3jB,MAAM,CAACic,KAAP,GAAeY,MAAM,CAACP,IAAtB,GAA6Bs2B,YAF1B;kBAGZt2B,IAAI,EAAK,MAHG;kBAIZsyB,MAAM,EAAG;gBAJG,CAAd;gBAMF;;cACA,KAAK,cAAL;gBACEiE,WAAW,GAAG;kBACZtW,GAAG,EAAM1f,MAAM,CAAC0f,GAAP,GAAc1f,MAAM,CAACmK,MAAP,GAAgB,CAA9B,GAAoC1T,KAAK,CAAC0T,MAAN,GAAe,CAAnD,GAAwD3K,MADrD;kBAEZC,IAAI,EAAKO,MAAM,CAACP,IAAP,GAAcO,MAAM,CAACZ,KAArB,GAA6B22B,YAF1B;kBAGZhE,MAAM,EAAG,MAHG;kBAIZjrB,KAAK,EAAI;gBAJG,CAAd;gBAMF;;cACA,KAAK,aAAL;gBACEkvB,WAAW,GAAG;kBACZtW,GAAG,EAAM1f,MAAM,CAAC0f,GAAP,GAAa1f,MAAM,CAACmK,MAApB,GAA6B4rB,YAD1B;kBAEZt2B,IAAI,EAAKO,MAAM,CAACP,IAAP,GAAcD,MAFX;kBAGZuyB,MAAM,EAAG,MAHG;kBAIZjrB,KAAK,EAAI;gBAJG,CAAd;gBAMF;;cACA,KAAK,eAAL;gBACEkvB,WAAW,GAAG;kBACZtW,GAAG,EAAM1f,MAAM,CAAC0f,GAAP,GAAa1f,MAAM,CAACmK,MAApB,GAA6B4rB,YAD1B;kBAEZt2B,IAAI,EAAKO,MAAM,CAACP,IAAP,GAAeO,MAAM,CAACZ,KAAP,GAAe,CAA9B,GAAoC3I,KAAK,CAAC2I,KAAN,GAAc,CAAlD,GAAuDI,MAFpD;kBAGZuyB,MAAM,EAAG,MAHG;kBAIZjrB,KAAK,EAAI;gBAJG,CAAd;gBAMF;;cACA,KAAK,cAAL;gBACEkvB,WAAW,GAAG;kBACZtW,GAAG,EAAM1f,MAAM,CAAC0f,GAAP,GAAa1f,MAAM,CAACmK,MAApB,GAA6B4rB,YAD1B;kBAEZjvB,KAAK,EAAI3jB,MAAM,CAACic,KAAP,GAAeY,MAAM,CAACP,IAAtB,GAA8BO,MAAM,CAACZ,KAArC,GAA6CI,MAF1C;kBAGZC,IAAI,EAAK,MAHG;kBAIZsyB,MAAM,EAAG;gBAJG,CAAd;gBAMF;YAhEF;;YAkEA,IAAGiE,WAAW,KAAK99C,SAAnB,EAA8B;cAC5B4B,MAAM,CAACP,KAAP,CAAaA,KAAK,CAAC68C,eAAnB,EAAoCx4B,QAApC;YACD;;YAED9jB,MAAM,CAACS,KAAP,CAAa,qCAAb,EAAoDy7C,WAApD,EArJyC,CAuJzC;;YACA3D,MAAM,CACHx8B,GADH,CACOmgC,WADP,EAEG7xC,WAFH,CAEe1D,SAAS,CAACmd,QAFzB,EAGGxS,QAHH,CAGYwS,QAHZ,EAIGxS,QAJH,CAIY3K,SAAS,CAACu+B,OAJtB;YAOA+U,WAAW,GAAGj6C,MAAM,CAACiH,GAAP,CAAWgzC,WAAX,EAAd,CA/JyC,CAiKzC;;YACAgB,oBAAoB,GAAGj7C,MAAM,CAACiH,GAAP,CAAWg0C,oBAAX,CAAgChB,WAAhC,EAA6CtQ,YAA7C,CAAvB;;YAEA,IAAG,CAACtqC,QAAQ,CAACk9C,aAAV,IAA2Bv8C,MAAM,CAAC4J,EAAP,CAAU4yC,QAAV,CAAmBvB,oBAAnB,EAAyCn3B,QAAzC,CAA9B,EAAmF;cACjF9jB,MAAM,CAACS,KAAP,CAAa,8BAAb,EAA6CqjB,QAA7C;;cACA,IAAG20B,WAAW,GAAGp5C,QAAQ,CAACg9C,cAA1B,EAA0C;gBACxC5D,WAAW;gBACX30B,QAAQ,GAAG9jB,MAAM,CAACiH,GAAP,CAAWu0C,YAAX,CAAwB13B,QAAxB,CAAX;gBACA9jB,MAAM,CAACS,KAAP,CAAa,qBAAb,EAAoCqjB,QAApC;gBACA,OAAQy0B,MAAD,GACHv4C,MAAM,CAACoH,GAAP,CAAW0c,QAAX,CAAoBA,QAApB,EAA8B6lB,YAA9B,CADG,GAEH,KAFJ;cAID,CARD,MASK;gBACH,IAAGtqC,QAAQ,CAAC+qB,UAAZ,EAAwB;kBACtBpqB,MAAM,CAACS,KAAP,CAAa,+CAAb;gBACD,CAFD,MAGK;kBACHT,MAAM,CAACS,KAAP,CAAa,4CAAb,EAA2D83C,MAA3D;kBACAv4C,MAAM,CAACP,KAAP,CAAaA,KAAK,CAACg9C,WAAnB,EAAgC58C,OAAhC;kBACAG,MAAM,CAACsK,MAAP,CAAcoyC,QAAd;kBACA18C,MAAM,CAACsK,MAAP,CAAc46B,OAAd;kBACAllC,MAAM,CAAC6H,KAAP;kBACAxI,QAAQ,CAACs9C,aAAT,CAAuBv9C,IAAvB,CAA4Bm5C,MAA5B,EAAoC14C,OAApC;kBACA,OAAO,KAAP;gBACD;cACF;YACF;;YACDG,MAAM,CAACS,KAAP,CAAa,sBAAb,EAAqCqjB,QAArC;YACA9jB,MAAM,CAACsK,MAAP,CAAcoyC,QAAd;YACA18C,MAAM,CAACsK,MAAP,CAAc46B,OAAd;;YACA,IAAI7lC,QAAQ,CAACs7C,aAAT,IAA0B36C,MAAM,CAAC4J,EAAP,CAAUgxC,KAAV,EAA9B,EAAkD;cAChD56C,MAAM,CAACoH,GAAP,CAAWw1C,UAAX,CAAsBjT,YAAtB;YACD;;YACD,OAAO,IAAP;UACD,CAtME;UAwMHiT,UAAU,EAAE,UAASjT,YAAT,EAAuB;YACjCA,YAAY,GAAGA,YAAY,IAAI3pC,MAAM,CAACiH,GAAP,CAAW0iC,YAAX,EAA/B;YACA3pC,MAAM,CAACS,KAAP,CAAa,qDAAb,EAAoEkpC,YAAY,CAACtgC,MAAb,CAAoBic,KAAxF;YACAizB,MAAM,CAACx8B,GAAP,CAAW,OAAX,EAAoB4tB,YAAY,CAAC9oB,SAAb,CAAuByE,KAA3C;UACD,CA5ME;UA8MHvB,SAAS,EAAE,UAASA,SAAT,EAAoB;YAC7BA,SAAS,GAAGA,SAAS,IAAI/jB,MAAM,CAACiH,GAAP,CAAW8c,SAAX,EAAzB;;YACA,IAAGA,SAAS,IAAI/jB,MAAM,CAAC6Q,GAAP,CAAW8L,KAAX,EAAhB,EAAqC;cACnC3c,MAAM,CAACI,OAAP,CAAe,2BAAf,EAA4C2jB,SAA5C;cACAw0B,MAAM,CAACjnC,QAAP,CAAgByS,SAAhB;YACD;UACF,CApNE;UAsNHwP,OAAO,EAAE,YAAW;YAClB3zB,OAAO,CAAC0R,QAAR,CAAiB3K,SAAS,CAAC4sB,OAA3B;UACD;QAxNE,CAhpBE;QA22BPjpB,MAAM,EAAE;UACN46B,OAAO,EAAE,YAAW;YAClBqT,MAAM,CAACluC,WAAP,CAAmB1D,SAAS,CAACu+B,OAA7B;UACD,CAHK;UAINnhB,SAAS,EAAE,UAASA,SAAT,EAAoB;YAC7BA,SAAS,GAAGA,SAAS,IAAI/jB,MAAM,CAACiH,GAAP,CAAW8c,SAAX,EAAzB;;YACA,IAAGA,SAAH,EAAc;cACZ/jB,MAAM,CAACI,OAAP,CAAe,oBAAf,EAAqC2jB,SAArC;cACAw0B,MAAM,CAACluC,WAAP,CAAmB0Z,SAAnB;YACD;UACF,CAVK;UAWNwP,OAAO,EAAE,YAAW;YAClB3zB,OAAO,CAACyK,WAAR,CAAoB1D,SAAS,CAAC4sB,OAA9B;UACD,CAbK;UAcNmpB,QAAQ,EAAE,YAAW;YACnB18C,MAAM,CAACI,OAAP,CAAe,kCAAf;YACAq4C,WAAW,GAAM,CAAjB;YACAC,cAAc,GAAG,KAAjB;UACD;QAlBK,CA32BD;QAg4BPz1C,IAAI,EAAE;UACJyV,MAAM,EAAE,YAAW;YACjB1Y,MAAM,CAACS,KAAP,CAAa,gCAAb;;YACA,IAAGpB,QAAQ,CAAC2I,EAAT,IAAe,OAAlB,EAA2B;cACzBpI,OAAO,CACJoI,EADH,CACMmnB,UAAU,GAAGtoB,cADnB,EACmC7G,MAAM,CAACkZ,MAD1C;YAGD;;YACD,IAAG7Z,QAAQ,CAAC2I,EAAT,IAAe,OAAlB,EAA2B;cACzBpI,OAAO,CACJoI,EADH,CACM,eAAenB,cADrB,EACqC7G,MAAM,CAACiI,KAAP,CAAauxC,UADlD;YAGD;;YACD,IAAIx5C,MAAM,CAACiH,GAAP,CAAW6zC,UAAX,EAAJ,EAA8B;cAC5Bl7C,OAAO,CACJoI,EADH,CACMhI,MAAM,CAACiH,GAAP,CAAW6zC,UAAX,KAA0Bj0C,cADhC,EACgD7G,MAAM,CAACiI,KAAP,CAAaiiC,KAD7D,EAEGliC,EAFH,CAEMhI,MAAM,CAACiH,GAAP,CAAW+zC,QAAX,KAAwBn0C,cAF9B,EAE8C7G,MAAM,CAACiI,KAAP,CAAa82B,GAF3D;YAID;;YACD,IAAG1/B,QAAQ,CAAC6mB,MAAZ,EAAoB;cAClBlmB,MAAM,CAACS,KAAP,CAAa,uBAAb,EAAsCosB,OAAtC;YACD;;YACD0hB,OAAO,CAACvmC,EAAR,CAAW,WAAW2qB,gBAAtB,EAAwC3yB,MAAM,CAACiI,KAAP,CAAa6oC,MAArD;UACD,CAvBG;UAwBJn0B,KAAK,EAAE,YAAW;YAChB3c,MAAM,CAACI,OAAP,CAAe,mDAAf;;YACA,IAAIm4C,MAAM,IAAIv4C,MAAM,CAAC6Q,GAAP,CAAW8L,KAAX,EAAd,EAAmC;cACjC47B,MAAM,CACHvwC,EADH,CACM,eAAenB,cADrB,EACqC7G,MAAM,CAACiI,KAAP,CAAaiiC,KADlD,EAEGliC,EAFH,CAEM,eAAenB,cAFrB,EAEqC7G,MAAM,CAACiI,KAAP,CAAa82B,GAFlD;YAID;UACF,CAhCG;UAiCJllB,KAAK,EAAE,YAAW;YAChB,IAAGxa,QAAQ,CAACirB,YAAT,KAA0B,IAA1B,IAAmCjrB,QAAQ,CAACirB,YAAT,IAAyB,MAAzB,IAAmCjrB,QAAQ,CAAC2I,EAAT,IAAe,OAAxF,EAAkG;cAChGhI,MAAM,CAACiD,IAAP,CAAY45C,aAAZ;YACD;;YACD,IAAG78C,MAAM,CAAC4J,EAAP,CAAU6U,QAAV,EAAH,EAAyB;cACvBze,MAAM,CAACiD,IAAP,CAAY6uC,SAAZ;YACD,CAFD,MAGK,IAAGzyC,QAAQ,CAAC2I,EAAT,IAAe,OAAf,IAA0B2wC,eAA7B,EAA8C;cACjD34C,MAAM,CAACiD,IAAP,CAAY65C,UAAZ;YACD;UACF,CA3CG;UA4CJD,aAAa,EAAE,YAAW;YACxB78C,MAAM,CAACI,OAAP,CAAe,wCAAf;YACA+3C,cAAc,CACX/qC,GADH,CACOpN,MAAM,CAACiH,GAAP,CAAW8zC,WAAX,KAA2BpoB,gBADlC,EACoD3yB,MAAM,CAACiI,KAAP,CAAayxC,cADjE;UAGD,CAjDG;UAkDJoD,UAAU,EAAE,YAAW;YACrB98C,MAAM,CAACI,OAAP,CAAe,4CAAf;YACAT,SAAS,CACNqI,EADH,CACM,eAAe2qB,gBADrB,EACuC,UAAS1qB,KAAT,EAAgB;cACnDjI,MAAM,CAACI,OAAP,CAAe,yBAAf;cACAJ,MAAM,CAACiI,KAAP,CAAayxC,cAAb,CAA4Bt6C,IAA5B,CAAiCS,OAAjC,EAA0CoI,KAA1C;YACD,CAJH;UAMD,CA1DG;UA2DJ6pC,SAAS,EAAE,YAAW;YACpB9xC,MAAM,CAACI,OAAP,CAAe,uCAAf;YACAT,SAAS,CACNqI,EADH,CACMmnB,UAAU,GAAGwD,gBADnB,EACqC,UAAS1qB,KAAT,EAAgB;cACjDjI,MAAM,CAACI,OAAP,CAAe,yBAAf;cACAJ,MAAM,CAACiI,KAAP,CAAayxC,cAAb,CAA4Bt6C,IAA5B,CAAiCS,OAAjC,EAA0CoI,KAA1C;YACD,CAJH;UAMD;QAnEG,CAh4BC;QAs8BPsV,MAAM,EAAE;UACN7E,MAAM,EAAE,YAAW;YACjB61B,OAAO,CACJ7hC,GADH,CACOimB,gBADP;YAGA/yB,OAAO,CACJ8M,GADH,CACO7F,cADP;UAGD,CARK;UASNgT,KAAK,EAAE,YAAW;YAChBla,SAAS,CACN+M,GADH,CACOimB,gBADP;YAGAwlB,cAAc,CACXzrC,GADH,CACOimB,gBADP;UAGD;QAhBK,CAt8BD;QAy9BP9hB,GAAG,EAAE;UACH8L,KAAK,EAAE,YAAW;YAChB,OAAQ47B,MAAM,IAAIA,MAAM,CAACj2C,MAAP,GAAgB,CAAlC;UACD;QAHE,CAz9BE;QA+9BPsqB,MAAM,EAAE;UACNuvB,WAAW,EAAE,UAASxS,YAAT,EAAuB;YAClC,OAAO,CAAC3pC,MAAM,CAAC4J,EAAP,CAAUmzC,KAAV,EAAD,IAAsBpT,YAAY,CAACzjB,MAAb,CAAoBZ,KAApB,IAA8BjmB,QAAQ,CAAC+8C,mBAAT,GAA+B,CAA1F;UACD;QAHK,CA/9BD;QAq+BPxyC,EAAE,EAAE;UACF6U,QAAQ,EAAE,YAAW;YACnB,IAAGpf,QAAQ,CAACof,QAAT,IAAqB,MAAxB,EAAgC;cAC9B,IAAGpf,QAAQ,CAAC2I,EAAT,IAAe,OAAlB,EAA2B;gBACzB,OAAO,KAAP;cACD;;cACD,OAAO,IAAP;YACD;;YACD,OAAO3I,QAAQ,CAACof,QAAhB;UACD,CATC;UAUF+9B,QAAQ,EAAE,UAASvB,oBAAT,EAA+Bn3B,QAA/B,EAAyC;YACjD,IACE04B,QAAQ,GAAG,EADb,CADiD,CAIjD;;YACAv+C,CAAC,CAAC2D,IAAF,CAAOq5C,oBAAP,EAA6B,UAASjX,SAAT,EAAoBgZ,QAApB,EAA8B;cACzD,IAAGA,QAAQ,GAAG,CAAC39C,QAAQ,CAAC49C,MAAxB,EAAgC;gBAC9Bj9C,MAAM,CAACS,KAAP,CAAa,+CAAb,EAA8DujC,SAA9D,EAAyEgZ,QAAzE,EAAmFl5B,QAAnF;gBACA04B,QAAQ,CAAC16C,IAAT,CAAckiC,SAAd;cACD;YACF,CALD;;YAMA,IAAGwY,QAAQ,CAACl6C,MAAT,GAAkB,CAArB,EAAwB;cACtB,OAAO,IAAP;YACD,CAFD,MAGK;cACH,OAAO,KAAP;YACD;UACF,CA3BC;UA4BFy3C,GAAG,EAAE,UAASl6C,OAAT,EAAkB;YACrB,OAAOG,MAAM,CAAC85C,QAAP,CAAgBC,GAAhB,MAA0Bl6C,OAAO,YAAYm6C,kBAApD;UACD,CA9BC;UA+BF+C,KAAK,EAAE,YAAW;YAChB,OAAOn9C,OAAO,CAACwK,QAAR,CAAiBzD,SAAS,CAACo2C,KAA3B,CAAP;UACD,CAjCC;UAkCFtjC,MAAM,EAAE,YAAW;YACjB,OAAO7Z,OAAO,CAACwK,QAAR,CAAiBzD,SAAS,CAAC8S,MAA3B,CAAP;UACD,CApCC;UAqCFF,SAAS,EAAE,YAAW;YACpB,OAAQg/B,MAAM,KAAKn6C,SAAX,IAAwBm6C,MAAM,CAACnuC,QAAP,CAAgBzD,SAAS,CAAC4S,SAA1B,CAAhC;UACD,CAvCC;UAwCFqhC,KAAK,EAAE,YAAW;YAChB,OAAQrC,MAAM,KAAKn6C,SAAX,IAAwBm6C,MAAM,CAACnuC,QAAP,CAAgBzD,SAAS,CAACi0C,KAA1B,CAAhC;UACD,CA1CC;UA2CFrnB,OAAO,EAAE,YAAW;YAClB,OAAQglB,MAAM,KAAKn6C,SAAX,IAAwBm6C,MAAM,CAACnuC,QAAP,CAAgBzD,SAAS,CAACkzC,YAA1B,CAAhC;UACD,CA7CC;UA8CFtvC,QAAQ,EAAE,YAAW;YACnB,OAAO3K,OAAO,CAACwK,QAAR,CAAiBzD,SAAS,CAAC4D,QAA3B,CAAP;UACD,CAhDC;UAiDFkiB,MAAM,EAAE,YAAW;YACjB,OAAO,CAACzsB,MAAM,CAAC4J,EAAP,CAAU2pB,OAAV,EAAR;UACD,CAnDC;UAoDFge,GAAG,EAAE,YAAY;YACf,OAAO3xC,OAAO,CAACiT,IAAR,CAAa,KAAb,MAAwB,KAAxB,IAAiCjT,OAAO,CAACmc,GAAR,CAAY,WAAZ,MAA6B,KAArE;UACD;QAtDC,CAr+BG;QA8hCPlU,KAAK,EAAE,YAAW;UAChB7H,MAAM,CAACsK,MAAP,CAAcipB,OAAd;;UACA,IAAGl0B,QAAQ,CAAC05C,QAAZ,EAAsB;YACpB,IAAG96C,CAAC,CAACQ,EAAF,CAAKkT,UAAL,KAAoBvT,SAAvB,EAAkC;cAChCm6C,MAAM,CACH5mC,UADH,CACc,mBADd;YAGD;UACF,CAND,MAOK;YACH3R,MAAM,CAACo5C,WAAP;UACD;QACF,CA1iCM;QA4iCPl3C,OAAO,EAAE,UAASV,IAAT,EAAeW,KAAf,EAAsB;UAC7B,IAAIlE,CAAC,CAACqB,aAAF,CAAgBkC,IAAhB,CAAJ,EAA4B;YAC1BvD,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAeF,QAAf,EAAyBmC,IAAzB;UACD,CAFD,MAGK,IAAGW,KAAK,KAAK/D,SAAb,EAAwB;YAC3BiB,QAAQ,CAACmC,IAAD,CAAR,GAAiBW,KAAjB;UACD,CAFI,MAGA;YACH,OAAO9C,QAAQ,CAACmC,IAAD,CAAf;UACD;QACF,CAtjCM;QAujCPsB,QAAQ,EAAE,UAAStB,IAAT,EAAeW,KAAf,EAAsB;UAC9B,IAAIlE,CAAC,CAACqB,aAAF,CAAgBkC,IAAhB,CAAJ,EAA4B;YAC1BvD,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAeS,MAAf,EAAuBwB,IAAvB;UACD,CAFD,MAGK,IAAGW,KAAK,KAAK/D,SAAb,EAAwB;YAC3B4B,MAAM,CAACwB,IAAD,CAAN,GAAeW,KAAf;UACD,CAFI,MAGA;YACH,OAAOnC,MAAM,CAACwB,IAAD,CAAb;UACD;QACF,CAjkCM;QAkkCPf,KAAK,EAAE,YAAW;UAChB,IAAG,CAACpB,QAAQ,CAACgV,MAAV,IAAoBhV,QAAQ,CAACoB,KAAhC,EAAuC;YACrC,IAAGpB,QAAQ,CAACP,WAAZ,EAAyB;cACvBkB,MAAM,CAAClB,WAAP,CAAmB4B,GAAnB,CAAuB1B,SAAvB;YACD,CAFD,MAGK;cACHgB,MAAM,CAACS,KAAP,GAAesC,QAAQ,CAACC,SAAT,CAAmBC,IAAnB,CAAwB7D,IAAxB,CAA6BmB,OAAO,CAACmC,IAArC,EAA2CnC,OAA3C,EAAoDlB,QAAQ,CAACmC,IAAT,GAAgB,GAApE,CAAf;cACAxB,MAAM,CAACS,KAAP,CAAayC,KAAb,CAAmB3C,OAAnB,EAA4BvB,SAA5B;YACD;UACF;QACF,CA5kCM;QA6kCPoB,OAAO,EAAE,YAAW;UAClB,IAAG,CAACf,QAAQ,CAACgV,MAAV,IAAoBhV,QAAQ,CAACe,OAA7B,IAAwCf,QAAQ,CAACoB,KAApD,EAA2D;YACzD,IAAGpB,QAAQ,CAACP,WAAZ,EAAyB;cACvBkB,MAAM,CAAClB,WAAP,CAAmB4B,GAAnB,CAAuB1B,SAAvB;YACD,CAFD,MAGK;cACHgB,MAAM,CAACI,OAAP,GAAiB2C,QAAQ,CAACC,SAAT,CAAmBC,IAAnB,CAAwB7D,IAAxB,CAA6BmB,OAAO,CAACmC,IAArC,EAA2CnC,OAA3C,EAAoDlB,QAAQ,CAACmC,IAAT,GAAgB,GAApE,CAAjB;cACAxB,MAAM,CAACI,OAAP,CAAe8C,KAAf,CAAqB3C,OAArB,EAA8BvB,SAA9B;YACD;UACF;QACF,CAvlCM;QAwlCPS,KAAK,EAAE,YAAW;UAChB,IAAG,CAACJ,QAAQ,CAACgV,MAAb,EAAqB;YACnBrU,MAAM,CAACP,KAAP,GAAesD,QAAQ,CAACC,SAAT,CAAmBC,IAAnB,CAAwB7D,IAAxB,CAA6BmB,OAAO,CAACd,KAArC,EAA4Cc,OAA5C,EAAqDlB,QAAQ,CAACmC,IAAT,GAAgB,GAArE,CAAf;YACAxB,MAAM,CAACP,KAAP,CAAayD,KAAb,CAAmB3C,OAAnB,EAA4BvB,SAA5B;UACD;QACF,CA7lCM;QA8lCPF,WAAW,EAAE;UACX4B,GAAG,EAAE,UAASyC,OAAT,EAAkB;YACrB,IACEC,WADF,EAEEC,aAFF,EAGEC,YAHF;;YAKA,IAAGjE,QAAQ,CAACP,WAAZ,EAAyB;cACvBsE,WAAW,GAAK,IAAIxE,IAAJ,GAAWC,OAAX,EAAhB;cACAyE,YAAY,GAAI3E,IAAI,IAAIyE,WAAxB;cACAC,aAAa,GAAGD,WAAW,GAAGE,YAA9B;cACA3E,IAAI,GAAYyE,WAAhB;cACAtE,WAAW,CAACgD,IAAZ,CAAiB;gBACf,QAAmBqB,OAAO,CAAC,CAAD,CADX;gBAEf,aAAmB,GAAGhE,KAAH,CAASC,IAAT,CAAc+D,OAAd,EAAuB,CAAvB,KAA6B,EAFjC;gBAGf,WAAmBtD,OAHJ;gBAIf,kBAAmBwD;cAJJ,CAAjB;YAMD;;YACDE,YAAY,CAACvD,MAAM,CAAClB,WAAP,CAAmB0E,KAApB,CAAZ;YACAxD,MAAM,CAAClB,WAAP,CAAmB0E,KAAnB,GAA2BlC,UAAU,CAACtB,MAAM,CAAClB,WAAP,CAAmB2E,OAApB,EAA6B,GAA7B,CAArC;UACD,CArBU;UAsBXA,OAAO,EAAE,YAAW;YAClB,IACEC,KAAK,GAAGrE,QAAQ,CAACmC,IAAT,GAAgB,GAD1B;YAAA,IAEEmC,SAAS,GAAG,CAFd;YAIAhF,IAAI,GAAG,KAAP;YACA4E,YAAY,CAACvD,MAAM,CAAClB,WAAP,CAAmB0E,KAApB,CAAZ;YACAvF,CAAC,CAAC2D,IAAF,CAAO9C,WAAP,EAAoB,UAAS+C,KAAT,EAAgB9B,IAAhB,EAAsB;cACxC4D,SAAS,IAAI5D,IAAI,CAAC,gBAAD,CAAjB;YACD,CAFD;YAGA2D,KAAK,IAAI,MAAMC,SAAN,GAAkB,IAA3B;;YACA,IAAGkC,cAAH,EAAmB;cACjBnC,KAAK,IAAI,QAAQmC,cAAR,GAAyB,IAAlC;YACD;;YACD,IAAI,CAACtF,OAAO,CAACK,KAAR,KAAkBxC,SAAlB,IAA+BmC,OAAO,CAACqD,KAAR,KAAkBxF,SAAlD,KAAgEU,WAAW,CAACwD,MAAZ,GAAqB,CAAzF,EAA4F;cAC1F/B,OAAO,CAACO,cAAR,CAAuB4C,KAAvB;;cACA,IAAGnD,OAAO,CAACqD,KAAX,EAAkB;gBAChBrD,OAAO,CAACqD,KAAR,CAAc9E,WAAd;cACD,CAFD,MAGK;gBACHb,CAAC,CAAC2D,IAAF,CAAO9C,WAAP,EAAoB,UAAS+C,KAAT,EAAgB9B,IAAhB,EAAsB;kBACxCQ,OAAO,CAACG,GAAR,CAAYX,IAAI,CAAC,MAAD,CAAJ,GAAe,IAAf,GAAsBA,IAAI,CAAC,gBAAD,CAA1B,GAA6C,IAAzD;gBACD,CAFD;cAGD;;cACDQ,OAAO,CAACM,QAAR;YACD;;YACD/B,WAAW,GAAG,EAAd;UACD;QAjDU,CA9lCN;QAipCP+E,MAAM,EAAE,UAAS9E,KAAT,EAAgB+E,eAAhB,EAAiCC,OAAjC,EAA0C;UAChD,IACEC,MAAM,GAAGlE,QADX;UAAA,IAEEmE,QAFF;UAAA,IAGEC,KAHF;UAAA,IAIEC,QAJF;UAMAL,eAAe,GAAGA,eAAe,IAAI5E,cAArC;UACA6E,OAAO,GAAWlE,OAAO,IAAYkE,OAArC;;UACA,IAAG,OAAOhF,KAAP,IAAgB,QAAhB,IAA4BiF,MAAM,KAAK5F,SAA1C,EAAqD;YACnDW,KAAK,GAAMA,KAAK,CAACqF,KAAN,CAAY,OAAZ,CAAX;YACAH,QAAQ,GAAGlF,KAAK,CAACuD,MAAN,GAAe,CAA1B;YACArE,CAAC,CAAC2D,IAAF,CAAO7C,KAAP,EAAc,UAASsF,KAAT,EAAgBlC,KAAhB,EAAuB;cACnC,IAAImC,cAAc,GAAID,KAAK,IAAIJ,QAAV,GACjB9B,KAAK,GAAGpD,KAAK,CAACsF,KAAK,GAAG,CAAT,CAAL,CAAiBE,MAAjB,CAAwB,CAAxB,EAA2BC,WAA3B,EAAR,GAAmDzF,KAAK,CAACsF,KAAK,GAAG,CAAT,CAAL,CAAiBlF,KAAjB,CAAuB,CAAvB,CADlC,GAEjBJ,KAFJ;;cAIA,IAAId,CAAC,CAACqB,aAAF,CAAiB0E,MAAM,CAACM,cAAD,CAAvB,KAA8CD,KAAK,IAAIJ,QAA3D,EAAuE;gBACrED,MAAM,GAAGA,MAAM,CAACM,cAAD,CAAf;cACD,CAFD,MAGK,IAAIN,MAAM,CAACM,cAAD,CAAN,KAA2BlG,SAA/B,EAA2C;gBAC9C8F,KAAK,GAAGF,MAAM,CAACM,cAAD,CAAd;gBACA,OAAO,KAAP;cACD,CAHI,MAIA,IAAIrG,CAAC,CAACqB,aAAF,CAAiB0E,MAAM,CAAC7B,KAAD,CAAvB,KAAqCkC,KAAK,IAAIJ,QAAlD,EAA8D;gBACjED,MAAM,GAAGA,MAAM,CAAC7B,KAAD,CAAf;cACD,CAFI,MAGA,IAAI6B,MAAM,CAAC7B,KAAD,CAAN,KAAkB/D,SAAtB,EAAkC;gBACrC8F,KAAK,GAAGF,MAAM,CAAC7B,KAAD,CAAd;gBACA,OAAO,KAAP;cACD,CAHI,MAIA;gBACH,OAAO,KAAP;cACD;YACF,CAtBD;UAuBD;;UACD,IAAKlE,CAAC,CAACI,UAAF,CAAc6F,KAAd,CAAL,EAA6B;YAC3BC,QAAQ,GAAGD,KAAK,CAAChB,KAAN,CAAYa,OAAZ,EAAqBD,eAArB,CAAX;UACD,CAFD,MAGK,IAAGI,KAAK,KAAK9F,SAAb,EAAwB;YAC3B+F,QAAQ,GAAGD,KAAX;UACD;;UACD,IAAGQ,KAAK,CAACC,OAAN,CAAc1E,aAAd,CAAH,EAAiC;YAC/BA,aAAa,CAAC6B,IAAd,CAAmBqC,QAAnB;UACD,CAFD,MAGK,IAAGlE,aAAa,KAAK7B,SAArB,EAAgC;YACnC6B,aAAa,GAAG,CAACA,aAAD,EAAgBkE,QAAhB,CAAhB;UACD,CAFI,MAGA,IAAGA,QAAQ,KAAK/F,SAAhB,EAA2B;YAC9B6B,aAAa,GAAGkE,QAAhB;UACD;;UACD,OAAOD,KAAP;QACD;MArsCM,CAAT;;MAwsCA,IAAGjF,aAAH,EAAkB;QAChB,IAAGa,QAAQ,KAAK1B,SAAhB,EAA2B;UACzB4B,MAAM,CAACE,UAAP;QACD;;QACDF,MAAM,CAAC6D,MAAP,CAAc9E,KAAd;MACD,CALD,MAMK;QACH,IAAGe,QAAQ,KAAK1B,SAAhB,EAA2B;UACzB0B,QAAQ,CAAC+D,MAAT,CAAgB,SAAhB;QACD;;QACD7D,MAAM,CAACE,UAAP;MACD;IACF,CA5vCH;IA+vCA,OAAQD,aAAa,KAAK7B,SAAnB,GACH6B,aADG,GAEH,IAFJ;EAID,CAzxCD;;EA2xCAhC,CAAC,CAACQ,EAAF,CAAKke,KAAL,CAAWtd,QAAX,GAAsB;IAEpBmC,IAAI,EAAa,OAFG;IAIpB;IACA6S,MAAM,EAAW,KALG;IAMpB5T,KAAK,EAAY,KANG;IAOpBL,OAAO,EAAU,KAPG;IAQpBtB,WAAW,EAAM,IARG;IASpBU,SAAS,EAAQ,OATG;IAWpB;IACAmZ,cAAc,EAAG,IAZG;IAcpB;IACA6zB,QAAQ,EAAS,YAAU,CAAE,CAfT;IAiBpB;IACArE,QAAQ,EAAS,YAAU,CAAE,CAlBT;IAoBpB;IACAlqB,MAAM,EAAW,YAAU,CAAE,CArBT;IAuBpB;IACAH,SAAS,EAAQ,YAAU,CAAE,CAxBT;IA0BpB;IACAY,MAAM,EAAW,YAAU,CAAE,CA3BT;IA6BpB;IACAi+B,aAAa,EAAI,YAAU,CAAE,CA9BT;IAgCpB;IACA3+B,QAAQ,EAAS,YAAU,CAAE,CAjCT;IAmCpB;IACAhW,EAAE,EAAe,OApCG;IAsCpB;IACAswC,QAAQ,EAASp6C,MAvCG;IAyCpB;IACAq7C,cAAc,EAAG,IA1CG;IA4CpB;IACAz1B,QAAQ,EAAS,UA7CG;IA+CpB;IACAy4B,aAAa,EAAI,KAhDG;IAkDpB;IACAx4B,SAAS,EAAQ,EAnDG;IAqDpB;IACAm1B,SAAS,EAAQ,IAtDG;IAwDpB;IACAhzB,MAAM,EAAW,KAzDG;IA2DpB;IACAvJ,KAAK,EAAY,KA5DG;IA8DpB;IACAnP,MAAM,EAAW,KA/DG;IAiEpB;IACAurC,QAAQ,EAAS,KAlEG;IAoEpB;IACAv6B,SAAS,EAAQ,KArEG;IAuEpB;IACAhG,OAAO,EAAU,KAxEG;IA0EpB;IACA9G,IAAI,EAAa,KA3EG;IA6EpB;IACAhO,KAAK,EAAY,KA9EG;IAgFpB;IACA+a,QAAQ,EAAS,IAjFG;IAmFpB;IACA6L,YAAY,EAAK,MApFG;IAsFpB;IACArQ,SAAS,EAAQ,KAvFG;IAyFpB;IACAlW,OAAO,EAAU,MA1FG;IA4FpB;IACAq0C,aAAa,EAAIl6C,MA7FG;IA+FpB;IACAmsB,MAAM,EAAW,UAhGG;IAkGpB;IACAD,UAAU,EAAO,KAnGG;IAqGpB;IACAgyB,mBAAmB,EAAE,EAtGD;IAwGpB;IACA3uC,KAAK,EAAG;MACN4e,IAAI,EAAG,EADD;MAEND,IAAI,EAAG;IAFD,CAzGY;IA8GpB;IACAuuB,aAAa,EAAI,IA/GG;IAiHpB;IACA/oC,QAAQ,EAAS,GAlHG;IAmHpBD,UAAU,EAAO,OAnHG;IAqHpB;IACAsqC,YAAY,EAAK,CAtHG;IAwHpB;IACAgB,MAAM,EAAW,CAzHG;IA2HpB;IACAv3B,MAAM,EAAW,CA5HG;IA8HpB;IACA22B,cAAc,EAAG,EA/HG;IAiIpB58C,KAAK,EAAE;MACL68C,eAAe,EAAG,oDADb;MAELG,WAAW,EAAO,0DAFb;MAGLh4C,MAAM,EAAY,uCAHb;MAIL0lC,YAAY,EAAM,qFAJb;MAKLzd,QAAQ,EAAU;IALb,CAjIa;IAyIpBhmB,QAAQ,EAAE;MACRmW,SAAS,EAAG,WADJ;MAERrE,OAAO,EAAK,SAFJ;MAGR9G,IAAI,EAAQ,MAHJ;MAIRgU,MAAM,EAAM,QAJJ;MAKR5B,QAAQ,EAAI,UALJ;MAMRpgB,KAAK,EAAO,OANJ;MAORqgB,SAAS,EAAG;IAPJ,CAzIU;IAmJpBpd,SAAS,EAAK;MACZ8S,MAAM,EAAS,QADH;MAEZsjC,KAAK,EAAU,OAFH;MAGZxjC,SAAS,EAAM,WAHH;MAIZhP,QAAQ,EAAO,UAJH;MAKZqwC,KAAK,EAAU,OALH;MAMZ1V,OAAO,EAAQ,SANH;MAOZvoB,KAAK,EAAU,UAPH;MAQZmH,QAAQ,EAAO,8BARH;MASZyP,OAAO,EAAQ,SATH;MAUZsmB,YAAY,EAAG;IAVH,CAnJM;IAgKpB/zC,QAAQ,EAAM;MACZ6W,KAAK,EAAM;IADC,CAhKM;IAoKpBpL,SAAS,EAAE;MACTrE,MAAM,EAAE,UAASwC,MAAT,EAAiB;QACvB,IACE86B,QAAQ,GAAO,UADjB;QAAA,IAEEC,YAAY,GAAG,UAFjB;QAAA,IAGEv9B,MAAM,GAAS;UACb,KAAK,MADQ;UAEb,KAAK,MAFQ;UAGb,KAAK,QAHQ;UAIb,KAAK,QAJQ;UAKb,KAAK;QALQ,CAHjB;QAAA,IAUEw9B,WAAW,GAAI,UAASC,GAAT,EAAc;UAC3B,OAAOz9B,MAAM,CAACy9B,GAAD,CAAb;QACD,CAZH;;QAcA,IAAGF,YAAY,CAACp+B,IAAb,CAAkBqD,MAAlB,CAAH,EAA8B;UAC5BA,MAAM,GAAGA,MAAM,CAAC3B,OAAP,CAAe,sBAAf,EAAuC,OAAvC,CAAT;UACA,OAAO2B,MAAM,CAAC3B,OAAP,CAAey8B,QAAf,EAAyBE,WAAzB,CAAP;QACD;;QACD,OAAOh7B,MAAP;MACD,CArBQ;MAsBTiN,KAAK,EAAE,UAAShP,IAAT,EAAe;QACpB,IACE+D,IAAI,GAAK,EADX;QAAA,IAEExE,MAAM,GAAGjP,CAAC,CAACQ,EAAF,CAAKke,KAAL,CAAWtd,QAAX,CAAoBkS,SAApB,CAA8BrE,MAFzC;;QAIA,IAAG,OAAOS,IAAP,KAAgBvP,SAAnB,EAA8B;UAC5B,IAAG,OAAOuP,IAAI,CAACjK,KAAZ,KAAsBtF,SAAtB,IAAmCuP,IAAI,CAACjK,KAA3C,EAAkD;YAChDiK,IAAI,CAACjK,KAAL,GAAawJ,MAAM,CAACS,IAAI,CAACjK,KAAN,CAAnB;YACAgO,IAAI,IAAI,yBAAyB/D,IAAI,CAACjK,KAA9B,GAAsC,QAA9C;UACD;;UACD,IAAG,OAAOiK,IAAI,CAAC6K,OAAZ,KAAwBpa,SAAxB,IAAqCuP,IAAI,CAAC6K,OAA7C,EAAsD;YACpD7K,IAAI,CAAC6K,OAAL,GAAetL,MAAM,CAACS,IAAI,CAAC6K,OAAN,CAArB;YACA9G,IAAI,IAAI,0BAA0B/D,IAAI,CAAC6K,OAA/B,GAAyC,QAAjD;UACD;QACF;;QACD,OAAO9G,IAAP;MACD;IAtCQ;EApKS,CAAtB;AAgNC,CA1/CA,EA0/CGlM,MA1/CH,EA0/CWtH,MA1/CX,EA0/CmBC,QA1/CnB;AA4/CD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA;;AAAC,CAAC,UAAUF,CAAV,EAAaC,MAAb,EAAqBC,QAArB,EAA+BC,SAA/B,EAA0C;EAE5C;;EAEAH,CAAC,CAACI,UAAF,GAAeJ,CAAC,CAACI,UAAF,IAAgB,UAASC,GAAT,EAAc;IAC3C,OAAO,OAAOA,GAAP,KAAe,UAAf,IAA6B,OAAOA,GAAG,CAACC,QAAX,KAAwB,QAA5D;EACD,CAFD;;EAIAL,MAAM,GAAI,OAAOA,MAAP,IAAiB,WAAjB,IAAgCA,MAAM,CAACuH,IAAP,IAAeA,IAAhD,GACLvH,MADK,GAEJ,OAAOwH,IAAP,IAAe,WAAf,IAA8BA,IAAI,CAACD,IAAL,IAAaA,IAA5C,GACEC,IADF,GAEE3C,QAAQ,CAAC,aAAD,CAAR,EAJN;;EAOA9E,CAAC,CAACQ,EAAF,CAAKy+C,QAAL,GAAgB,UAASx+C,UAAT,EAAqB;IACnC,IACEkH,WAAW,GAAM3H,CAAC,CAAC,IAAD,CADpB;IAAA,IAGE4H,cAAc,GAAGD,WAAW,CAACE,QAAZ,IAAwB,EAH3C;IAAA,IAKEnH,IAAI,GAAa,IAAIC,IAAJ,GAAWC,OAAX,EALnB;IAAA,IAMEC,WAAW,GAAM,EANnB;IAAA,IAQEC,KAAK,GAAYC,SAAS,CAAC,CAAD,CAR5B;IAAA,IASEC,aAAa,GAAK,OAAOF,KAAP,IAAgB,QATpC;IAAA,IAUEG,cAAc,GAAG,GAAGC,KAAH,CAASC,IAAT,CAAcJ,SAAd,EAAyB,CAAzB,CAVnB;IAAA,IAYEiB,aAZF;IAeA2F,WAAW,CACRhE,IADH,CACQ,YAAW;MACf,IACEvC,QAAQ,GAAcpB,CAAC,CAACqB,aAAF,CAAgBZ,UAAhB,CAAF,GAChBT,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAe,EAAf,EAAmBtB,CAAC,CAACQ,EAAF,CAAKy+C,QAAL,CAAc79C,QAAjC,EAA2CX,UAA3C,CADgB,GAEhBT,CAAC,CAACsB,MAAF,CAAS,EAAT,EAAatB,CAAC,CAACQ,EAAF,CAAKy+C,QAAL,CAAc79C,QAA3B,CAHN;MAAA,IAKEsH,SAAS,GAAStH,QAAQ,CAACsH,SAL7B;MAAA,IAMED,QAAQ,GAAUrH,QAAQ,CAACqH,QAN7B;MAAA,IAOElH,SAAS,GAASH,QAAQ,CAACG,SAP7B;MAAA,IAQEsG,QAAQ,GAAUzG,QAAQ,CAACyG,QAR7B;MAAA,IASErG,KAAK,GAAaJ,QAAQ,CAACI,KAT7B;MAAA,IAWEoH,cAAc,GAAI,MAAMrH,SAX1B;MAAA,IAYEE,eAAe,GAAG,YAAYF,SAZhC;MAAA,IAcEI,OAAO,GAAW3B,CAAC,CAAC,IAAD,CAdrB;MAAA,IAeEk/C,KAAK,GAAal/C,CAAC,CAAC,IAAD,CAAD,CAAQwJ,IAAR,CAAa3B,QAAQ,CAACs3C,GAAtB,CAfpB;MAAA,IAgBEC,WAAW,GAAOp/C,CAAC,CAAC,IAAD,CAAD,CAAQwJ,IAAR,CAAa3B,QAAQ,CAACo3C,QAAtB,CAhBpB;MAAA,IAiBEtuC,MAAM,GAAY3Q,CAAC,CAAC,IAAD,CAAD,CAAQwJ,IAAR,CAAa3B,QAAQ,CAAC0L,KAAtB,CAjBpB;MAAA,IAmBE3R,OAAO,GAAW,IAnBpB;MAAA,IAoBEC,QAAQ,GAAUF,OAAO,CAACG,IAAR,CAAaL,eAAb,CApBpB;MAAA,IAsBE6Z,SAAS,GAAG,KAtBd;MAAA,IAuBE+jC,aAvBF;MAAA,IAwBEt9C,MAxBF;MA0BAA,MAAM,GAAG;QACPyf,MAAM,EAAE;UACNtH,GAAG,EAAE,UAAUolC,IAAV,EAAgB;YACnB,OAAO74C,KAAK,CAACC,OAAN,CAAc44C,IAAd,IAAsBA,IAAI,CAACC,MAAL,CAAY,UAAU73B,IAAV,EAAgBqH,KAAhB,EAAuB;cAC9D,OAAOrH,IAAI,GAAG83B,MAAM,CAACzwB,KAAD,CAApB;YACD,CAF4B,EAE1B,CAF0B,CAAtB,GAEC,CAFR;UAGD,CALK;;UAMN;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UACU0wB,eAAe,EAAE,UAASnnC,GAAT,EAAconC,KAAd,EAAqB;YACpC,IAAIC,cAAc,GAAG,CAArB;YACA,IAAIC,SAAS,GAAG,CAAhB;YACA,IAAIC,KAAK,GAAGvnC,GAAG,GAAGonC,KAAlB;;YACA,OAAOC,cAAc,GAAG,EAAxB,EAA4B;cAC1BE,KAAK,GAAGA,KAAK,GAAGD,SAAhB;;cACA,IAAIC,KAAK,GAAG,CAAZ,EAAe;gBACb;cACD;;cACDD,SAAS,GAAGp4C,IAAI,CAACs4C,GAAL,CAAS,EAAT,EAAaH,cAAc,EAA3B,CAAZ;YACD;;YACD,OAAOC,SAAP;UACD,CAvCK;UAwCNG,UAAU,EAAE,UAAUn+C,OAAV,EAAmB;YAC7B,OAAO6E,KAAK,CAACC,OAAN,CAAc9E,OAAd,IACHA,OADG,GAEH,CAAC6pB,KAAK,CAAC7pB,OAAD,CAAN,GACE,CAACA,OAAD,CADF,GAEE,OAAOA,OAAP,IAAkB,QAAlB,GACEA,OAAO,CAACuE,KAAR,CAAc,GAAd,CADF,GAEE,EANR;UAQD;QAjDK,CADD;QAqDPlE,UAAU,EAAE,YAAW;UACrBF,MAAM,CAACoH,GAAP,CAAWwK,QAAX;UACA5R,MAAM,CAACoH,GAAP,CAAW62C,eAAX;UACAj+C,MAAM,CAACS,KAAP,CAAaZ,OAAb;UAEAG,MAAM,CAACgiC,IAAP,CAAYt7B,QAAZ;UACA1G,MAAM,CAACgiC,IAAP,CAAY3iC,QAAZ;UAEAW,MAAM,CAACG,WAAP;QACD,CA9DM;QAgEPA,WAAW,EAAE,YAAW;UACtBH,MAAM,CAACI,OAAP,CAAe,8BAAf,EAA+CJ,MAA/C;UACAF,QAAQ,GAAGE,MAAX;UACAJ,OAAO,CACJG,IADH,CACQL,eADR,EACyBM,MADzB;QAGD,CAtEM;QAuEP4C,OAAO,EAAE,YAAW;UAClB5C,MAAM,CAACI,OAAP,CAAe,kCAAf,EAAmDR,OAAnD;UACAs+C,aAAa,CAACp+C,QAAQ,CAACq+C,QAAV,CAAb;UACAn+C,MAAM,CAACsK,MAAP,CAAc8zC,KAAd;UACAx+C,OAAO,CAACiD,UAAR,CAAmBnD,eAAnB;UACAI,QAAQ,GAAG1B,SAAX;QACD,CA7EM;QA+EPyJ,KAAK,EAAE,YAAW;UAChB7H,MAAM,CAACsK,MAAP,CAAc+zC,SAAd;UACAr+C,MAAM,CAAC2kB,MAAP,CAAcu4B,QAAd,CAAuB,CAAvB;QACD,CAlFM;QAoFPl0B,QAAQ,EAAE,UAASs1B,SAAT,EAAoB;UAC5B,IAAGt+C,MAAM,CAACu+C,OAAP,KAAmBngD,SAAnB,IAAgC4B,MAAM,CAACu+C,OAAP,GAAiB,GAApD,EAAyD;YACvDv+C,MAAM,CAACsK,MAAP,CAAck0C,YAAd;;YACA,IAAGF,SAAS,KAAK,IAAjB,EAAsB;cAClBt+C,MAAM,CAACoH,GAAP,CAAWm3C,OAAX,CAAmB,GAAnB;YACH;UACF;QACF,CA3FM;QA6FPvc,IAAI,EAAE;UACJt7B,QAAQ,EAAE,YAAW;YACnB,IACE3G,IAAI,GAAG;cACLw+C,OAAO,EAAGv+C,MAAM,CAACyf,MAAP,CAAcu+B,UAAd,CAAyBp+C,OAAO,CAACG,IAAR,CAAa2G,QAAQ,CAAC63C,OAAtB,CAAzB,CADL;cAELZ,KAAK,EAAK/9C,OAAO,CAACG,IAAR,CAAa2G,QAAQ,CAACi3C,KAAtB,CAFL;cAGLx7C,KAAK,EAAKnC,MAAM,CAACyf,MAAP,CAAcu+B,UAAd,CAAyBp+C,OAAO,CAACG,IAAR,CAAa2G,QAAQ,CAACvE,KAAtB,CAAzB;YAHL,CADT;;YAOA,IAAGpC,IAAI,CAAC49C,KAAL,KAAev/C,SAAlB,EAA6B;cAC3B4B,MAAM,CAACS,KAAP,CAAa,+BAAb,EAA8CV,IAAI,CAAC49C,KAAnD;cACA39C,MAAM,CAACoH,GAAP,CAAWu2C,KAAX,CAAiB59C,IAAI,CAAC49C,KAAtB;YACD;;YACD,IAAG59C,IAAI,CAACoC,KAAL,CAAWG,MAAX,GAAoB,CAAvB,EAA0B;cACxBtC,MAAM,CAACS,KAAP,CAAa,iCAAb,EAAgDV,IAAI,CAACoC,KAArD;cACAnC,MAAM,CAACoH,GAAP,CAAWjF,KAAX,CAAiBpC,IAAI,CAACoC,KAAtB;cACAnC,MAAM,CAACoH,GAAP,CAAW81C,QAAX,CAAoBn9C,IAAI,CAACoC,KAAzB;YACD;;YACD,IAAGpC,IAAI,CAACw+C,OAAL,CAAaj8C,MAAb,GAAsB,CAAzB,EAA4B;cAC1BtC,MAAM,CAACS,KAAP,CAAa,yCAAb,EAAwDV,IAAI,CAACw+C,OAA7D;cACAv+C,MAAM,CAACoH,GAAP,CAAWm3C,OAAX,CAAmBx+C,IAAI,CAACw+C,OAAxB;YACD;UACF,CAtBG;UAuBJl/C,QAAQ,EAAE,YAAW;YACnB,IAAGA,QAAQ,CAACs+C,KAAT,KAAmB,KAAtB,EAA6B;cAC3B39C,MAAM,CAACS,KAAP,CAAa,+BAAb,EAA8CpB,QAAQ,CAACs+C,KAAvD;cACA39C,MAAM,CAACoH,GAAP,CAAWu2C,KAAX,CAAiBt+C,QAAQ,CAACs+C,KAA1B;YACD;;YACD,IAAGt+C,QAAQ,CAAC8C,KAAT,KAAmB,KAAtB,EAA6B;cAC3BnC,MAAM,CAACS,KAAP,CAAa,+BAAb,EAA8CpB,QAAQ,CAAC8C,KAAvD;cACAnC,MAAM,CAACoH,GAAP,CAAWjF,KAAX,CAAiB9C,QAAQ,CAAC8C,KAA1B;cACAnC,MAAM,CAACoH,GAAP,CAAW81C,QAAX,CAAoBl9C,MAAM,CAACmC,KAA3B;YACD;;YACD,IAAG9C,QAAQ,CAACk/C,OAAT,KAAqB,KAAxB,EAA+B;cAC7Bv+C,MAAM,CAACS,KAAP,CAAa,iCAAb,EAAgDpB,QAAQ,CAACk/C,OAAzD;cACAv+C,MAAM,CAACoH,GAAP,CAAWm3C,OAAX,CAAmBl/C,QAAQ,CAACk/C,OAA5B;YACD;UACF;QArCG,CA7FC;QAqIPt7C,IAAI,EAAE;UACJq6C,aAAa,EAAE,UAASj8C,QAAT,EAAmB;YAChC,IACEi8C,aAAa,GAAGt9C,MAAM,CAACiH,GAAP,CAAWq2C,aAAX,EADlB;YAGAH,KAAK,CACF/vC,GADH,CACOkwC,aAAa,GAAGz2C,cADvB,EACuC,UAASoB,KAAT,EAAgB;cACnD1E,YAAY,CAACvD,MAAM,CAACy+C,aAAR,CAAZ;cACAp9C,QAAQ,CAACjC,IAAT,CAAc,IAAd,EAAoB6I,KAApB;YACD,CAJH;YAMAjI,MAAM,CAACy+C,aAAP,GAAuBn9C,UAAU,CAAC,YAAW;cAC3C67C,KAAK,CAACuB,cAAN,CAAqBpB,aAArB;YACD,CAFgC,EAE9Bj+C,QAAQ,CAACuS,QAAT,GAAoBvS,QAAQ,CAACs/C,aAFC,CAAjC;YAGA3+C,MAAM,CAACI,OAAP,CAAe,wBAAf,EAAyCJ,MAAM,CAACwD,KAAhD;UACD;QAfG,CArIC;QAuJPijB,SAAS,EAAE,UAASm4B,cAAT,EAAyB;UAClC,IACEC,UADF,EAEEpY,QAFF;;UAIA,IAAIzmC,MAAM,CAAC6Q,GAAP,CAAW8sC,KAAX,EAAJ,EAAyB;YACvBkB,UAAU,GAAO7+C,MAAM,CAACiH,GAAP,CAAW9E,KAAX,EAAjB;YACAy8C,cAAc,GAAGA,cAAc,IAAI,CAAnC;UACD,CAHD,MAIK;YACHC,UAAU,GAAO7+C,MAAM,CAACiH,GAAP,CAAWs3C,OAAX,EAAjB;YACAK,cAAc,GAAGA,cAAc,IAAI5+C,MAAM,CAACiH,GAAP,CAAW63C,WAAX,EAAnC;UACD;;UACDrY,QAAQ,GAAGoY,UAAU,GAAGD,cAAxB;UACA5+C,MAAM,CAACS,KAAP,CAAa,4BAAb,EAA2Co+C,UAA3C,EAAuDpY,QAAvD,EAAiEmY,cAAjE;UACAnY,QAAQ,GAAGzmC,MAAM,CAACiH,GAAP,CAAW83C,eAAX,CAA2BtY,QAA3B,CAAX;UACAzmC,MAAM,CAACoH,GAAP,CAAW81C,QAAX,CAAoBzW,QAApB;QACD,CAxKM;QAyKPuY,SAAS,EAAE,UAASC,cAAT,EAAyB;UAClC,IACEtB,KAAK,GAAO39C,MAAM,CAACiH,GAAP,CAAW02C,KAAX,EADd;UAAA,IAEEkB,UAFF;UAAA,IAGEpY,QAHF;;UAKA,IAAGkX,KAAH,EAAU;YACRkB,UAAU,GAAQ7+C,MAAM,CAACiH,GAAP,CAAW9E,KAAX,EAAlB;YACA88C,cAAc,GAAIA,cAAc,IAAI,CAApC;YACAxY,QAAQ,GAAUoY,UAAU,GAAGI,cAA/B;YACAj/C,MAAM,CAACS,KAAP,CAAa,uBAAb,EAAsCw+C,cAAtC,EAAsDJ,UAAtD;UACD,CALD,MAMK;YACHA,UAAU,GAAQ7+C,MAAM,CAACiH,GAAP,CAAWs3C,OAAX,EAAlB;YACAU,cAAc,GAAIA,cAAc,IAAIj/C,MAAM,CAACiH,GAAP,CAAW63C,WAAX,EAApC;YACArY,QAAQ,GAAUoY,UAAU,GAAGI,cAA/B;YACAj/C,MAAM,CAACS,KAAP,CAAa,4BAAb,EAA2Cw+C,cAA3C,EAA2DJ,UAA3D;UACD;;UACDpY,QAAQ,GAAGzmC,MAAM,CAACiH,GAAP,CAAW83C,eAAX,CAA2BtY,QAA3B,CAAX;UACAzmC,MAAM,CAACoH,GAAP,CAAW81C,QAAX,CAAoBzW,QAApB;QACD,CA7LM;QA+LP51B,GAAG,EAAE;UACH2tC,YAAY,EAAE,YAAW;YACvB,OAAOx+C,MAAM,CAACw+C,YAAd;UACD,CAHE;UAIHb,KAAK,EAAE,YAAW;YAChB,OAAQ39C,MAAM,CAACiH,GAAP,CAAW02C,KAAX,OAAuB,KAA/B;UACD;QANE,CA/LE;QAwMP12C,GAAG,EAAE;UACH0G,IAAI,EAAE,UAASuxC,YAAT,EAAuBr9C,KAAvB,EAA8B;YAClC,IACEs9C,MAAM,GAAIt9C,KAAK,IAAI,CADrB;YAAA,IAEEM,KAAK,GAAKnC,MAAM,CAACiH,GAAP,CAAW9E,KAAX,CAAiBg9C,MAAjB,CAFZ;YAAA,IAGExB,KAAK,GAAK39C,MAAM,CAACiH,GAAP,CAAW02C,KAAX,EAHZ;YAAA,IAIEY,OAAO,GAAIhlC,SAAD,GACNvZ,MAAM,CAACiH,GAAP,CAAWm4C,cAAX,CAA0BD,MAA1B,CADM,GAENn/C,MAAM,CAACiH,GAAP,CAAWs3C,OAAX,CAAmBY,MAAnB,CANN;YAAA,IAOEx5B,IAAI,GAAIg4B,KAAK,KAAK,KAAX,GACHl4C,IAAI,CAAC+Q,GAAL,CAAS,CAAT,EAAWmnC,KAAK,GAAGx7C,KAAnB,CADG,GAEF,MAAMo8C,OATb;YAWAW,YAAY,GAAGA,YAAY,IAAI,EAA/B;YACAA,YAAY,GAAGA,YAAY,CACxBnxC,OADY,CACJ,SADI,EACO5L,KADP,EAEZ4L,OAFY,CAEJ,SAFI,EAEO4vC,KAAK,IAAI,CAFhB,EAGZ5vC,OAHY,CAGJ,QAHI,EAGM4X,IAHN,EAIZ5X,OAJY,CAIJ,WAJI,EAISwwC,OAJT,EAKZxwC,OALY,CAKJ,OALI,EAKK1O,QAAQ,CAACsO,IAAT,CAAc0xC,IAAd,CAAmBF,MAAnB,KAA8B,EALnC,CAAf;YAOAn/C,MAAM,CAACI,OAAP,CAAe,uCAAf,EAAwD8+C,YAAxD;YACA,OAAOA,YAAP;UACD,CAvBE;UAyBHH,eAAe,EAAE,UAAS58C,KAAT,EAAgB;YAC/B,IAAGA,KAAK,GAAG,CAAX,EAAc;cACZnC,MAAM,CAACS,KAAP,CAAa,gCAAb;cACA,OAAO,CAAP;YACD;;YACD,IAAGT,MAAM,CAAC6Q,GAAP,CAAW8sC,KAAX,EAAH,EAAuB;cACrB,IAAGx7C,KAAK,GAAGnC,MAAM,CAAC29C,KAAlB,EAAyB;gBACvB39C,MAAM,CAACS,KAAP,CAAa,oCAAb,EAAmDT,MAAM,CAAC29C,KAA1D;gBACA,OAAO39C,MAAM,CAAC29C,KAAd;cACD;YACF,CALD,MAMK,IAAGx7C,KAAK,GAAG,GAAX,EAAiB;cACpBnC,MAAM,CAACS,KAAP,CAAa,0CAAb;cACA,OAAO,GAAP;YACD;;YACD,OAAO0B,KAAP;UACD,CAzCE;UA2CHm9C,cAAc,EAAE,YAAW;YACzB,IAAGjgD,QAAQ,CAACigD,cAAT,IAA2B,MAA9B,EAAsC;cACpC,OAAOjgD,QAAQ,CAACuS,QAAhB;YACD;;YACD,OAAOvS,QAAQ,CAACigD,cAAhB;UACD,CAhDE;UAkDHR,WAAW,EAAE,YAAW;YACtB9+C,MAAM,CAACS,KAAP,CAAa,wCAAb;YACA,OAAOgF,IAAI,CAAC+hB,KAAL,CAAY/hB,IAAI,CAACguB,MAAL,KAAgBp0B,QAAQ,CAACo0B,MAAT,CAAgBjd,GAAjC,GAAwCnX,QAAQ,CAACo0B,MAAT,CAAgBld,GAAnE,CAAP;UACD,CArDE;UAuDHgpC,YAAY,EAAE,UAASp9C,KAAT,EAAgB;YAC5B,OAAQ,OAAOA,KAAP,KAAiB,QAAlB,GACFA,KAAK,CAAC4L,OAAN,CAAc,SAAd,EAAyB,EAAzB,MAAiC,EAAlC,GACE,CAAE5L,KAAK,CAAC4L,OAAN,CAAc,SAAd,EAAyB,EAAzB,CADJ,GAEE,KAHC,GAIH5L,KAJJ;UAMD,CA9DE;UAgEHm7C,aAAa,EAAE,YAAW;YACxB,IACEz9C,OAAO,GAAO1B,QAAQ,CAAC6P,aAAT,CAAuB,SAAvB,CADhB;YAAA,IAEEwxC,WAAW,GAAG;cACZ,cAAoB,eADR;cAEZ,eAAoB,gBAFR;cAGZ,iBAAoB,eAHR;cAIZ,oBAAoB;YAJR,CAFhB;YAAA,IAQE7tC,UARF;;YAUA,KAAIA,UAAJ,IAAkB6tC,WAAlB,EAA8B;cAC5B,IAAI3/C,OAAO,CAAC4/C,KAAR,CAAc9tC,UAAd,MAA8BvT,SAAlC,EAA6C;gBAC3C,OAAOohD,WAAW,CAAC7tC,UAAD,CAAlB;cACD;YACF;UACF,CAhFE;UAkFH;UACAytC,cAAc,EAAE,UAASv9C,KAAT,EAAgB;YAC9B,IACE69C,IAAI,GAAazhD,CAAC,CAACk/C,KAAK,CAACt7C,KAAD,CAAN,CADpB;YAAA,IAEE89C,QAAQ,GAASD,IAAI,CAACp6B,KAAL,EAFnB;YAAA,IAGEs6B,UAAU,GAAOhgD,OAAO,CAAC0lB,KAAR,EAHnB;YAAA,IAIEu6B,UAAU,GAAOznC,QAAQ,CAACsnC,IAAI,CAAC3jC,GAAL,CAAS,WAAT,CAAD,EAAwB,EAAxB,CAJ3B;YAAA,IAKEqjC,cAAc,GAAIO,QAAQ,GAAGE,UAAZ,GACZF,QAAQ,GAAGC,UAAX,GAAwB,GADZ,GAEb5/C,MAAM,CAACu+C,OAPb;YASA,OAAQl/C,QAAQ,CAACw+C,SAAT,GAAqB,CAAtB,GACHp4C,IAAI,CAACq6C,KAAL,CAAWV,cAAc,IAAI,KAAK//C,QAAQ,CAACw+C,SAAlB,CAAzB,KAA0D,KAAKx+C,QAAQ,CAACw+C,SAAxE,CADG,GAEHp4C,IAAI,CAACq6C,KAAL,CAAWV,cAAX,CAFJ;UAID,CAjGE;UAmGHb,OAAO,EAAE,UAAS18C,KAAT,EAAgB;YACvB,OAAO7B,MAAM,CAACu+C,OAAP,IAAkBv+C,MAAM,CAACu+C,OAAP,CAAe18C,KAAK,IAAI,CAAxB,CAAlB,IAAgD,CAAvD;UACD,CArGE;UAsGHM,KAAK,EAAE,UAASN,KAAT,EAAgB;YACrB,OAAO7B,MAAM,CAACq+C,SAAP,IAAoBr+C,MAAM,CAACmC,KAAP,IAAgBnC,MAAM,CAACmC,KAAP,CAAaN,KAAK,IAAI,CAAtB,CAApC,IAAgE,CAAvE;UACD,CAxGE;UAyGH87C,KAAK,EAAE,YAAW;YAChB,OAAO39C,MAAM,CAAC29C,KAAP,KAAiBv/C,SAAjB,GAA6B4B,MAAM,CAAC29C,KAApC,GAA4C,KAAnD;UACD;QA3GE,CAxME;QAsTPrgC,MAAM,EAAE;UACNkhC,YAAY,EAAE,YAAW;YACvBx+C,MAAM,CAACw+C,YAAP,GAAsBl9C,UAAU,CAAC,YAAW;cAC1CtB,MAAM,CAAC2kB,MAAP,CAAco7B,WAAd;cACA//C,MAAM,CAACsK,MAAP,CAAck0C,YAAd;YACD,CAH+B,EAG7Bx+C,MAAM,CAACiH,GAAP,CAAWq4C,cAAX,EAH6B,CAAhC;UAID;QANK,CAtTD;QA+TP11C,EAAE,EAAE;UACFof,QAAQ,EAAE,YAAW;YACnB,OAAOhpB,MAAM,CAAC4J,EAAP,CAAUkI,OAAV,MAAuB9R,MAAM,CAAC4J,EAAP,CAAUo2C,OAAV,EAAvB,IAA8ChgD,MAAM,CAAC4J,EAAP,CAAUnK,KAAV,EAArD;UACD,CAHC;UAIFqS,OAAO,EAAE,YAAW;YAClB,OAAOlS,OAAO,CAACwK,QAAR,CAAiBzD,SAAS,CAACmL,OAA3B,CAAP;UACD,CANC;UAOFkuC,OAAO,EAAE,YAAW;YAClB,OAAOpgD,OAAO,CAACwK,QAAR,CAAiBzD,SAAS,CAACq5C,OAA3B,CAAP;UACD,CATC;UAUFvgD,KAAK,EAAE,YAAW;YAChB,OAAOG,OAAO,CAACwK,QAAR,CAAiBzD,SAAS,CAAClH,KAA3B,CAAP;UACD,CAZC;UAaFga,MAAM,EAAE,YAAW;YACjB,OAAO7Z,OAAO,CAACwK,QAAR,CAAiBzD,SAAS,CAAC8S,MAA3B,CAAP;UACD,CAfC;UAgBF8Z,OAAO,EAAE,YAAW;YAClB,OAAO3zB,OAAO,CAACgK,EAAR,CAAW,UAAX,CAAP;UACD;QAlBC,CA/TG;QAoVPU,MAAM,EAAE;UACNk0C,YAAY,EAAE,YAAW;YACvBx+C,MAAM,CAACI,OAAP,CAAe,8BAAf;;YACA,IAAGJ,MAAM,CAACw+C,YAAV,EAAwB;cACtBj7C,YAAY,CAACvD,MAAM,CAACw+C,YAAR,CAAZ;cACA,OAAOx+C,MAAM,CAACw+C,YAAd;YACD;UACF,CAPK;UAQNH,SAAS,EAAE,YAAW;YACpBr+C,MAAM,CAACI,OAAP,CAAe,gDAAf;YACA,OAAOJ,MAAM,CAACq+C,SAAd;UACD,CAXK;UAYND,KAAK,EAAE,YAAW;YAChBp+C,MAAM,CAACI,OAAP,CAAe,uBAAf;YACA,OAAOJ,MAAM,CAAC29C,KAAd;YACA,OAAO39C,MAAM,CAACu+C,OAAd;YACA,OAAOv+C,MAAM,CAACmC,KAAd;UACD,CAjBK;UAkBNsX,MAAM,EAAE,YAAW;YACjBzZ,MAAM,CAACI,OAAP,CAAe,uBAAf;YACAR,OAAO,CAACyK,WAAR,CAAoB1D,SAAS,CAAC8S,MAA9B;UACD,CArBK;UAsBN3H,OAAO,EAAE,YAAW;YAClB9R,MAAM,CAACI,OAAP,CAAe,wBAAf;YACAR,OAAO,CAACyK,WAAR,CAAoB1D,SAAS,CAACmL,OAA9B;UACD,CAzBK;UA0BNkuC,OAAO,EAAE,YAAW;YAClBhgD,MAAM,CAACI,OAAP,CAAe,wBAAf;YACAR,OAAO,CAACyK,WAAR,CAAoB1D,SAAS,CAACq5C,OAA9B;UACD,CA7BK;UA8BNvgD,KAAK,EAAE,YAAW;YAChBO,MAAM,CAACI,OAAP,CAAe,sBAAf;YACAR,OAAO,CAACyK,WAAR,CAAoB1D,SAAS,CAAClH,KAA9B;UACD;QAjCK,CApVD;QAwXP2H,GAAG,EAAE;UACHu4C,QAAQ,EAAE,UAAS1vC,MAAT,EAAiB;YACzBjQ,MAAM,CAACS,KAAP,CAAa,qBAAb,EAAoCwP,MAApC;YACAA,MAAM,GAAGjQ,MAAM,CAACyf,MAAP,CAAcu+B,UAAd,CAAyB/tC,MAAzB,CAAT;YACA,IAAIgwC,iBAAiB,GAAG,CAAC,CAAzB;YACA,IAAIC,gBAAgB,GAAG,CAAC,CAAxB;YACA,IAAIC,SAAS,GAAGngD,MAAM,CAACyf,MAAP,CAActH,GAAd,CAAkBlI,MAAlB,CAAhB;YACA,IAAImwC,SAAS,GAAGjD,KAAK,CAAC76C,MAAtB;YACA,IAAI8N,UAAU,GAAGgwC,SAAS,GAAG,CAA7B;YACA,IAAIC,QAAQ,GAAGpwC,MAAM,CAACkzB,GAAP,CAAW,UAAShhC,KAAT,EAAgBN,KAAhB,EAAuB;cAC/C,IAAIy+C,OAAO,GAAIz+C,KAAK,KAAKu+C,SAAS,GAAG,CAAtB,IAA2BD,SAAS,KAAK,CAAxD;cACA,IAAIT,IAAI,GAAGzhD,CAAC,CAACk/C,KAAK,CAACt7C,KAAD,CAAN,CAAZ;;cACA,IAAIM,KAAK,KAAK,CAAV,IAAeiO,UAAf,IAA6B,CAACkwC,OAAlC,EAA2C;gBACzCZ,IAAI,CAAC3jC,GAAL,CAAS,SAAT,EAAoB,MAApB;cACD,CAFD,MAEO;gBACL,IAAI3L,UAAU,IAAIkwC,OAAlB,EAA2B;kBACzBZ,IAAI,CAAC3jC,GAAL,CAAS,YAAT,EAAuB,aAAvB;gBACD;;gBACD,IAAIkkC,iBAAiB,IAAI,CAAC,CAA1B,EAA6B;kBAC3BA,iBAAiB,GAAGp+C,KAApB;gBACD;;gBACDq+C,gBAAgB,GAAGr+C,KAAnB;gBACA69C,IAAI,CAAC3jC,GAAL,CAAS;kBACPtY,OAAO,EAAE,OADF;kBAEP6hB,KAAK,EAAEnjB,KAAK,GAAG;gBAFR,CAAT;cAID;;cACD,OAAOo+C,UAAU,CAACp+C,KAAD,CAAjB;YACD,CAnBc,CAAf;YAoBA8N,MAAM,CAAC4W,OAAP,CAAe,UAAS25B,CAAT,EAAY3+C,KAAZ,EAAmB;cAChC,IAAI69C,IAAI,GAAGzhD,CAAC,CAACk/C,KAAK,CAACt7C,KAAD,CAAN,CAAZ;cACA69C,IAAI,CAAC3jC,GAAL,CAAS;gBACP0kC,mBAAmB,EAAE5+C,KAAK,IAAIo+C,iBAAT,GAA6B,EAA7B,GAAkC,CADhD;gBAEPS,sBAAsB,EAAE7+C,KAAK,IAAIo+C,iBAAT,GAA6B,EAA7B,GAAkC,CAFnD;gBAGPU,oBAAoB,EAAE9+C,KAAK,IAAIq+C,gBAAT,GAA4B,EAA5B,GAAiC,CAHhD;gBAIPU,uBAAuB,EAAE/+C,KAAK,IAAIq+C,gBAAT,GAA4B,EAA5B,GAAiC;cAJnD,CAAT;YAMD,CARD;YASAtgD,OAAO,CACJiT,IADH,CACQ,cADR,EACwBwtC,QADxB;UAGD,CAzCE;UA0CHzuC,QAAQ,EAAE,UAASA,QAAT,EAAmB;YAC3BA,QAAQ,GAAGA,QAAQ,IAAIvS,QAAQ,CAACuS,QAAhC;YACAA,QAAQ,GAAI,OAAOA,QAAP,IAAmB,QAApB,GACPA,QAAQ,GAAG,IADJ,GAEPA,QAFJ;YAIA5R,MAAM,CAACI,OAAP,CAAe,0CAAf,EAA2DwR,QAA3D;YACAurC,KAAK,CACFphC,GADH,CACO;cACH,uBAAwBnK;YADrB,CADP;UAKD,CAtDE;UAuDH2sC,OAAO,EAAE,UAAS8B,QAAT,EAAmB;YAC1BA,QAAQ,GAAGrgD,MAAM,CAACyf,MAAP,CAAcu+B,UAAd,CAAyBqC,QAAzB,EAAmCld,GAAnC,CAAuC,UAASob,OAAT,EAAkB;cAClEA,OAAO,GAAI,OAAOA,OAAP,IAAkB,QAAnB,GACN,CAAEA,OAAO,CAACxwC,OAAR,CAAgB,GAAhB,EAAqB,EAArB,CADI,GAENwwC,OAFJ;cAIA,OAAQl/C,QAAQ,CAACwhD,WAAV,GACDp7C,IAAI,CAAC+Q,GAAL,CAAS,CAAT,EAAY/Q,IAAI,CAAC8Q,GAAL,CAAS,GAAT,EAAcgoC,OAAd,CAAZ,CADC,GAEDA,OAFN;YAID,CATU,CAAX;YAUA,IAAIuC,QAAQ,GAAG9gD,MAAM,CAAC6Q,GAAP,CAAW8sC,KAAX,EAAf;YACA,IAAIoD,YAAY,GAAG/gD,MAAM,CAACyf,MAAP,CAActH,GAAd,CAAkBkoC,QAAlB,CAAnB;YACA,IAAIW,gBAAgB,GAAGX,QAAQ,CAAC/9C,MAAT,GAAkB,CAAlB,IAAuBw+C,QAA9C;YACA,IAAIG,QAAQ,GAAGjhD,MAAM,CAACyf,MAAP,CAActH,GAAd,CAAkBnY,MAAM,CAACyf,MAAP,CAAcu+B,UAAd,CAAyBh+C,MAAM,CAACmC,KAAhC,CAAlB,CAAf;;YACA,IAAI6+C,gBAAgB,IAAIC,QAAQ,GAAGjhD,MAAM,CAAC29C,KAA1C,EAAiD;cAC/C;cACA39C,MAAM,CAACP,KAAP,CAAaA,KAAK,CAACyhD,eAAnB,EAAoCD,QAApC,EAA8CjhD,MAAM,CAAC29C,KAArD;YACD,CAHD,MAGO,IAAI,CAACqD,gBAAD,IAAqBD,YAAY,GAAG,GAAxC,EAA6C;cAClD;cACA/gD,MAAM,CAACP,KAAP,CAAaA,KAAK,CAAC0hD,OAAnB,EAA4BJ,YAA5B;YACD,CAHM,MAGA,IAAIA,YAAY,GAAG,CAAnB,EAAsB;cAC3B/gD,MAAM,CAACP,KAAP,CAAaA,KAAK,CAAC2hD,MAAnB,EAA2BL,YAA3B;YACD,CAFM,MAEA;cACL,IAAIM,aAAa,GAAGhiD,QAAQ,CAACw+C,SAAT,GAAqB,CAArB,GAChBx+C,QAAQ,CAACw+C,SADO,GAEhBmD,gBAAgB,GACdhhD,MAAM,CAACyf,MAAP,CAAci+B,eAAd,CAA8Bj4C,IAAI,CAAC8Q,GAAL,CAASrT,KAAT,CAAe,IAAf,EAAqBlD,MAAM,CAACmC,KAA5B,CAA9B,EAAkEnC,MAAM,CAAC29C,KAAzE,CADc,GAEd,CAJN,CADK,CAOL;;cACA,IAAI2D,eAAe,GAAGjB,QAAQ,CAACld,GAAT,CAAa,UAAUob,OAAV,EAAmB;gBACpD,OAAQ8C,aAAa,GAAG,CAAjB,GACH57C,IAAI,CAACq6C,KAAL,CAAWvB,OAAO,IAAI,KAAK8C,aAAT,CAAlB,KAA8C,KAAKA,aAAnD,CADG,GAEH57C,IAAI,CAACq6C,KAAL,CAAWvB,OAAX,CAFJ;cAID,CALqB,CAAtB;cAMAv+C,MAAM,CAACu+C,OAAP,GAAiB+C,eAAjB;;cACA,IAAIR,QAAJ,EAAc;gBACZ9gD,MAAM,CAACmC,KAAP,GAAek+C,QAAQ,CAACld,GAAT,CAAa,UAAUob,OAAV,EAAmB;kBAC7C,OAAQ8C,aAAa,GAAG,CAAjB,GACH57C,IAAI,CAACq6C,KAAL,CAAYvB,OAAO,GAAG,GAAX,GAAkBv+C,MAAM,CAAC29C,KAAzB,IAAkC,KAAK0D,aAAvC,CAAX,KAAqE,KAAKA,aAA1E,CADG,GAEH57C,IAAI,CAACq6C,KAAL,CAAYvB,OAAO,GAAG,GAAX,GAAkBv+C,MAAM,CAAC29C,KAAzB,GAAiC,EAA5C,IAAkD,EAFtD;gBAID,CALc,CAAf;cAMD;;cACD39C,MAAM,CAACoH,GAAP,CAAWu4C,QAAX,CAAoBU,QAApB;cACArgD,MAAM,CAACoH,GAAP,CAAWm6C,aAAX;YACD;;YACDliD,QAAQ,CAAC2b,QAAT,CAAkB5b,IAAlB,CAAuBS,OAAvB,EAAgCwgD,QAAhC,EAA0CrgD,MAAM,CAACmC,KAAjD,EAAwDnC,MAAM,CAAC29C,KAA/D;UACD,CAzGE;UA0GH4D,aAAa,EAAE,YAAW;YACxB,IACEC,iBAAiB,GAAG,YAAW;cAC7BxhD,MAAM,CAACI,OAAP,CAAe,2DAAf;cACA89C,aAAa,CAACl+C,MAAM,CAACm+C,QAAR,CAAb;cACA5kC,SAAS,GAAG,KAAZ;cACAvZ,MAAM,CAACoH,GAAP,CAAWm8B,MAAX;YACD,CANH;;YAQA2a,aAAa,CAACl+C,MAAM,CAACm+C,QAAR,CAAb;YACAn+C,MAAM,CAACiD,IAAP,CAAYq6C,aAAZ,CAA0BkE,iBAA1B;YACAjoC,SAAS,GAAG,IAAZ;YACAvZ,MAAM,CAACm+C,QAAP,GAAkBsD,WAAW,CAAC,YAAW;cACvC,IACE9P,OAAO,GAAG1zC,CAAC,CAAC0Y,QAAF,CAAWxY,QAAQ,CAACixB,eAApB,EAAqCvvB,OAArC,CADZ;;cAGA,IAAG,CAAC8xC,OAAJ,EAAa;gBACXuM,aAAa,CAACl+C,MAAM,CAACm+C,QAAR,CAAb;gBACA5kC,SAAS,GAAG,KAAZ;cACD;;cACDvZ,MAAM,CAACoH,GAAP,CAAWm8B,MAAX;YACD,CAT4B,EAS1BlkC,QAAQ,CAACqiD,SATiB,CAA7B;UAUD,CAhIE;UAiIHne,MAAM,EAAE,YAAW;YACjBvjC,MAAM,CAACI,OAAP,CAAe,gDAAf;YACAJ,MAAM,CAACoH,GAAP,CAAWu6C,QAAX;YACA3hD,MAAM,CAACoH,GAAP,CAAWg3C,KAAX;UACD,CArIE;UAsIH5sC,KAAK,EAAE,UAAS7D,IAAT,EAAe;YACpBA,IAAI,GAAGA,IAAI,IAAI,EAAf;;YACA,IAAGA,IAAH,EAAS;cACPA,IAAI,GAAG3N,MAAM,CAACiH,GAAP,CAAW0G,IAAX,CAAgBA,IAAhB,CAAP;cACA3N,MAAM,CAACI,OAAP,CAAe,uBAAf,EAAwCuN,IAAxC;cACAiB,MAAM,CAACjB,IAAP,CAAYA,IAAZ;YACD;UACF,CA7IE;UA8IHywC,KAAK,EAAE,UAASG,OAAT,EAAkB;YACvBA,OAAO,GAAIA,OAAO,KAAKngD,SAAb,GACNmgD,OADM,GAENv+C,MAAM,CAACyf,MAAP,CAActH,GAAd,CAAkBnY,MAAM,CAACu+C,OAAzB,CAFJ;;YAIA,IAAGA,OAAO,KAAK,GAAf,EAAoB;cAClB,IAAGl/C,QAAQ,CAACuiD,WAAT,IAAwBzE,KAAK,CAAC76C,MAAN,KAAiB,CAAzC,IAA8C,EAAEtC,MAAM,CAAC4J,EAAP,CAAUo2C,OAAV,MAAuBhgD,MAAM,CAAC4J,EAAP,CAAUnK,KAAV,EAAvB,IAA4CO,MAAM,CAAC4J,EAAP,CAAUkI,OAAV,EAA9C,CAAjD,EAAqH;gBACnH9R,MAAM,CAACoH,GAAP,CAAW0K,OAAX;gBACA9R,MAAM,CAACS,KAAP,CAAa,0CAAb;cACD,CAHD,MAIK;gBACHT,MAAM,CAACI,OAAP,CAAe,oCAAf;gBACAJ,MAAM,CAACsK,MAAP,CAAcmP,MAAd;gBACAzZ,MAAM,CAACsK,MAAP,CAAck0C,YAAd;cACD;YACF,CAVD,MAWK,IAAGD,OAAO,GAAG,CAAb,EAAgB;cACnBv+C,MAAM,CAACI,OAAP,CAAe,qCAAf,EAAsDm+C,OAAtD;cACAv+C,MAAM,CAACoH,GAAP,CAAWqS,MAAX;YACD,CAHI,MAIA;cACHzZ,MAAM,CAACsK,MAAP,CAAcmP,MAAd;cACAzZ,MAAM,CAACoH,GAAP,CAAWoK,KAAX,CAAiBnS,QAAQ,CAACsO,IAAT,CAAc8L,MAA/B;YACD;UACF,CAtKE;UAuKHkoC,QAAQ,EAAE,UAASh0C,IAAT,EAAe;YACvB0vC,WAAW,CAACla,GAAZ,CAAgB,UAASthC,KAAT,EAAgBhC,OAAhB,EAAwB;cACtC,IAAIgiD,SAAS,GAAG5jD,CAAC,CAAC4B,OAAD,CAAjB;;cACA,IAAI8N,IAAI,KAAKvP,SAAb,EAAwB;gBACtByjD,SAAS,CAACl0C,IAAV,CAAgB3N,MAAM,CAACiH,GAAP,CAAW0G,IAAX,CAAgBA,IAAhB,EAAsB9L,KAAtB,CAAhB;cACD,CAFD,MAGK,IAAIxC,QAAQ,CAACmS,KAAT,IAAkB,OAAlB,IAA6BxR,MAAM,CAAC6Q,GAAP,CAAW8sC,KAAX,EAAjC,EAAqD;gBACxD39C,MAAM,CAACI,OAAP,CAAe,2BAAf;gBACAyhD,SAAS,CAACl0C,IAAV,CAAgB3N,MAAM,CAACiH,GAAP,CAAW0G,IAAX,CAAgBtO,QAAQ,CAACsO,IAAT,CAAcmwC,KAA9B,EAAqCj8C,KAArC,CAAhB;cACD,CAHI,MAIA,IAAIxC,QAAQ,CAACmS,KAAT,IAAkB,SAAtB,EAAiC;gBACpCxR,MAAM,CAACI,OAAP,CAAe,gCAAf;gBACAyhD,SAAS,CAACl0C,IAAV,CAAgB3N,MAAM,CAACiH,GAAP,CAAW0G,IAAX,CAAgBtO,QAAQ,CAACsO,IAAT,CAAc4wC,OAA9B,EAAuC18C,KAAvC,CAAhB;cACD;YACF,CAbD;UAcD,CAtLE;UAuLH4X,MAAM,EAAE,UAAS9L,IAAT,EAAe;YACrBA,IAAI,GAAGA,IAAI,IAAItO,QAAQ,CAACsO,IAAT,CAAc8L,MAA7B;YACAzZ,MAAM,CAACS,KAAP,CAAa,sBAAb;;YACA,IAAGpB,QAAQ,CAACyiD,YAAT,IAAyB,CAAC9hD,MAAM,CAAC4J,EAAP,CAAU6P,MAAV,EAA7B,EAAkD;cAChD7Z,OAAO,CAAC0R,QAAR,CAAiB3K,SAAS,CAAC8S,MAA3B;YACD;;YACDzZ,MAAM,CAACsK,MAAP,CAAc01C,OAAd;YACAhgD,MAAM,CAACsK,MAAP,CAAc7K,KAAd;YACAO,MAAM,CAACsK,MAAP,CAAcwH,OAAd;YACAnE,IAAI,GAAGtO,QAAQ,CAAC0iD,aAAT,CAAuB,QAAvB,EAAiCp0C,IAAjC,EAAuC3N,MAAM,CAACmC,KAA9C,EAAqDnC,MAAM,CAAC29C,KAA5D,CAAP;;YACA,IAAGhwC,IAAH,EAAS;cACP3N,MAAM,CAACoH,GAAP,CAAWoK,KAAX,CAAiB7D,IAAjB;YACD;;YACD3N,MAAM,CAACiD,IAAP,CAAYq6C,aAAZ,CAA0B,YAAW;cACnCj+C,QAAQ,CAAC2iD,QAAT,CAAkB5iD,IAAlB,CAAuBS,OAAvB,EAAgCG,MAAM,CAACmC,KAAvC,EAA8CnC,MAAM,CAAC29C,KAArD;YACD,CAFD;UAGD,CAvME;UAwMH7rC,OAAO,EAAG,UAASnE,IAAT,EAAe2wC,SAAf,EAA0B;YAClC3wC,IAAI,GAAGA,IAAI,IAAItO,QAAQ,CAACsO,IAAT,CAAcmE,OAAtB,IAAiCzS,QAAQ,CAACsO,IAAT,CAAc8L,MAAtD;YACAzZ,MAAM,CAACS,KAAP,CAAa,uBAAb;YACAb,OAAO,CAAC0R,QAAR,CAAiB3K,SAAS,CAACmL,OAA3B;YACA9R,MAAM,CAACsK,MAAP,CAAcmP,MAAd;YACAzZ,MAAM,CAACsK,MAAP,CAAc01C,OAAd;YACAhgD,MAAM,CAACsK,MAAP,CAAc7K,KAAd;YACAO,MAAM,CAACgpB,QAAP,CAAgBs1B,SAAhB;;YACA,IAAGj/C,QAAQ,CAACsO,IAAT,CAAcmE,OAAjB,EAA0B;cACxBnE,IAAI,GAAGtO,QAAQ,CAAC0iD,aAAT,CAAuB,SAAvB,EAAkCp0C,IAAlC,EAAwC3N,MAAM,CAACmC,KAA/C,EAAsDnC,MAAM,CAAC29C,KAA7D,CAAP;cACA39C,MAAM,CAACoH,GAAP,CAAWoK,KAAX,CAAiB7D,IAAjB;YACD,CAHD,MAIK;cACHA,IAAI,GAAGtO,QAAQ,CAAC0iD,aAAT,CAAuB,QAAvB,EAAiCp0C,IAAjC,EAAuC3N,MAAM,CAACmC,KAA9C,EAAqDnC,MAAM,CAAC29C,KAA5D,CAAP;cACA39C,MAAM,CAACoH,GAAP,CAAWoK,KAAX,CAAiB7D,IAAjB;YACD;;YACD3N,MAAM,CAACiD,IAAP,CAAYq6C,aAAZ,CAA0B,YAAW;cACnCj+C,QAAQ,CAAC4T,SAAT,CAAmB7T,IAAnB,CAAwBS,OAAxB,EAAiCG,MAAM,CAAC29C,KAAxC;YACD,CAFD;UAGD,CA3NE;UA4NHqC,OAAO,EAAG,UAASryC,IAAT,EAAe2wC,SAAf,EAA0B;YAClC3wC,IAAI,GAAGA,IAAI,IAAItO,QAAQ,CAACsO,IAAT,CAAcqyC,OAA7B;YACAhgD,MAAM,CAACS,KAAP,CAAa,uBAAb;YACAb,OAAO,CAAC0R,QAAR,CAAiB3K,SAAS,CAACq5C,OAA3B;YACAhgD,MAAM,CAACsK,MAAP,CAAcmP,MAAd;YACAzZ,MAAM,CAACsK,MAAP,CAAcwH,OAAd;YACA9R,MAAM,CAACsK,MAAP,CAAc7K,KAAd;YACAO,MAAM,CAACgpB,QAAP,CAAgBs1B,SAAhB;YACA3wC,IAAI,GAAGtO,QAAQ,CAAC0iD,aAAT,CAAuB,SAAvB,EAAkCp0C,IAAlC,EAAwC3N,MAAM,CAACmC,KAA/C,EAAsDnC,MAAM,CAAC29C,KAA7D,CAAP;;YACA,IAAGhwC,IAAH,EAAS;cACP3N,MAAM,CAACoH,GAAP,CAAWoK,KAAX,CAAiB7D,IAAjB;YACD;;YACD3N,MAAM,CAACiD,IAAP,CAAYq6C,aAAZ,CAA0B,YAAW;cACnCj+C,QAAQ,CAAC4iD,SAAT,CAAmB7iD,IAAnB,CAAwBS,OAAxB,EAAiCG,MAAM,CAACmC,KAAxC,EAA+CnC,MAAM,CAAC29C,KAAtD;YACD,CAFD;UAGD,CA3OE;UA4OHl+C,KAAK,EAAG,UAASkO,IAAT,EAAe2wC,SAAf,EAA0B;YAChC3wC,IAAI,GAAGA,IAAI,IAAItO,QAAQ,CAACsO,IAAT,CAAclO,KAA7B;YACAO,MAAM,CAACS,KAAP,CAAa,qBAAb;YACAb,OAAO,CAAC0R,QAAR,CAAiB3K,SAAS,CAAClH,KAA3B;YACAO,MAAM,CAACsK,MAAP,CAAcmP,MAAd;YACAzZ,MAAM,CAACsK,MAAP,CAAcwH,OAAd;YACA9R,MAAM,CAACsK,MAAP,CAAc01C,OAAd;YACAhgD,MAAM,CAACgpB,QAAP,CAAgBs1B,SAAhB;YACA3wC,IAAI,GAAGtO,QAAQ,CAAC0iD,aAAT,CAAuB,OAAvB,EAAgCp0C,IAAhC,EAAsC3N,MAAM,CAACmC,KAA7C,EAAoDnC,MAAM,CAAC29C,KAA3D,CAAP;;YACA,IAAGhwC,IAAH,EAAS;cACP3N,MAAM,CAACoH,GAAP,CAAWoK,KAAX,CAAiB7D,IAAjB;YACD;;YACD3N,MAAM,CAACiD,IAAP,CAAYq6C,aAAZ,CAA0B,YAAW;cACnCj+C,QAAQ,CAAC65B,OAAT,CAAiB95B,IAAjB,CAAsBS,OAAtB,EAA+BG,MAAM,CAACmC,KAAtC,EAA6CnC,MAAM,CAAC29C,KAApD;YACD,CAFD;UAGD,CA3PE;UA4PHM,eAAe,EAAE,YAAW;YAC1BX,aAAa,GAAGt9C,MAAM,CAACiH,GAAP,CAAWq2C,aAAX,EAAhB;UACD,CA9PE;UA+PHK,KAAK,EAAE,UAASuE,UAAT,EAAqB;YAC1BliD,MAAM,CAAC29C,KAAP,GAAeuE,UAAf;UACD,CAjQE;UAkQH//C,KAAK,EAAE,UAASA,KAAT,EAAgB;YACrBnC,MAAM,CAACmC,KAAP,GAAenC,MAAM,CAACyf,MAAP,CAAcu+B,UAAd,CAAyB77C,KAAzB,CAAf;UACD,CApQE;UAqQH+6C,QAAQ,EAAE,UAAS/6C,KAAT,EAAgB;YACxB,IAAG,CAACnC,MAAM,CAAC6Q,GAAP,CAAW2tC,YAAX,EAAJ,EAA+B;cAC7Bx+C,MAAM,CAACS,KAAP,CAAa,gEAAb,EAA+E0B,KAA/E;cACAnC,MAAM,CAAC2kB,MAAP,CAAcu4B,QAAd,CAAuB/6C,KAAvB;cACAnC,MAAM,CAACsd,MAAP,CAAckhC,YAAd;YACD,CAJD,MAKK;cACHx+C,MAAM,CAACS,KAAP,CAAa,+DAAb,EAA8E0B,KAA9E;cACAnC,MAAM,CAACoH,GAAP,CAAWi3C,SAAX,CAAqBl8C,KAArB;YACD;UACF,CA/QE;UAgRHk8C,SAAS,EAAE,UAASl8C,KAAT,EAAgB;YACzBnC,MAAM,CAACq+C,SAAP,GAAmBl8C,KAAnB;UACD;QAlRE,CAxXE;QA6oBPwiB,MAAM,EAAE;UACNo7B,WAAW,EAAE,YAAW;YACtB,IACE1B,SAAS,GAAGr+C,MAAM,CAACq+C,SADrB;;YAGA,IAAGA,SAAH,EAAc;cACZr+C,MAAM,CAACS,KAAP,CAAa,mDAAb,EAAkE49C,SAAlE;cACAr+C,MAAM,CAAC2kB,MAAP,CAAcu4B,QAAd,CAAuBmB,SAAvB;cACAr+C,MAAM,CAACsK,MAAP,CAAc+zC,SAAd;YACD;UACF,CAVK;UAWNnB,QAAQ,EAAE,UAASjtC,MAAT,EAAiB;YACzB,IAAI6wC,QAAQ,GAAG9gD,MAAM,CAAC6Q,GAAP,CAAW8sC,KAAX,EAAf;;YACA,IAAImD,QAAJ,EAAc;cACZ9gD,MAAM,CAACoH,GAAP,CAAWjF,KAAX,CAAiB8N,MAAjB;YACD;;YACD,IAAIkyC,gBAAgB,GAAGniD,MAAM,CAACyf,MAAP,CAAcu+B,UAAd,CAAyB/tC,MAAzB,EAAiCkzB,GAAjC,CAAqC,UAAShhC,KAAT,EAAgB;cAC1E,IACEigD,eADF;cAGAjgD,KAAK,GAAGnC,MAAM,CAACiH,GAAP,CAAWs4C,YAAX,CAAwBp9C,KAAxB,CAAR;;cACA,IAAIA,KAAK,KAAK,KAAd,EAAqB;gBACnBnC,MAAM,CAACP,KAAP,CAAaA,KAAK,CAAC4iD,UAAnB,EAA+BlgD,KAA/B;cACD;;cACDA,KAAK,GAAGnC,MAAM,CAACiH,GAAP,CAAW83C,eAAX,CAA2B58C,KAA3B,CAAR;;cACA,IAAI2+C,QAAJ,EAAc;gBACZsB,eAAe,GAAGpiD,MAAM,CAAC29C,KAAP,GAAe,CAAf,GAAoBx7C,KAAK,GAAGnC,MAAM,CAAC29C,KAAhB,GAAyB,GAA5C,GAAkD,GAApE;gBACA39C,MAAM,CAACS,KAAP,CAAa,yCAAb,EAAwD2hD,eAAxD;cACD,CAHD,MAIK;gBACHA,eAAe,GAAGjgD,KAAlB;gBACAnC,MAAM,CAACS,KAAP,CAAa,yCAAb,EAAwD2hD,eAAxD;cACD;;cACD,OAAOA,eAAP;YACD,CAlBsB,CAAvB;YAmBApiD,MAAM,CAACoH,GAAP,CAAWm3C,OAAX,CAAoB4D,gBAApB;UACD;QApCK,CA7oBD;QAorBPjgD,OAAO,EAAE,UAASV,IAAT,EAAeW,KAAf,EAAsB;UAC7BnC,MAAM,CAACS,KAAP,CAAa,kBAAb,EAAiCe,IAAjC,EAAuCW,KAAvC;;UACA,IAAIlE,CAAC,CAACqB,aAAF,CAAgBkC,IAAhB,CAAJ,EAA4B;YAC1BvD,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAeF,QAAf,EAAyBmC,IAAzB;UACD,CAFD,MAGK,IAAGW,KAAK,KAAK/D,SAAb,EAAwB;YAC3B,IAAGH,CAAC,CAACqB,aAAF,CAAgBD,QAAQ,CAACmC,IAAD,CAAxB,CAAH,EAAoC;cAClCvD,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAeF,QAAQ,CAACmC,IAAD,CAAvB,EAA+BW,KAA/B;YACD,CAFD,MAGK;cACH9C,QAAQ,CAACmC,IAAD,CAAR,GAAiBW,KAAjB;YACD;UACF,CAPI,MAQA;YACH,OAAO9C,QAAQ,CAACmC,IAAD,CAAf;UACD;QACF,CApsBM;QAqsBPsB,QAAQ,EAAE,UAAStB,IAAT,EAAeW,KAAf,EAAsB;UAC9B,IAAIlE,CAAC,CAACqB,aAAF,CAAgBkC,IAAhB,CAAJ,EAA4B;YAC1BvD,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAeS,MAAf,EAAuBwB,IAAvB;UACD,CAFD,MAGK,IAAGW,KAAK,KAAK/D,SAAb,EAAwB;YAC3B4B,MAAM,CAACwB,IAAD,CAAN,GAAeW,KAAf;UACD,CAFI,MAGA;YACH,OAAOnC,MAAM,CAACwB,IAAD,CAAb;UACD;QACF,CA/sBM;QAgtBPf,KAAK,EAAE,YAAW;UAChB,IAAG,CAACpB,QAAQ,CAACgV,MAAV,IAAoBhV,QAAQ,CAACoB,KAAhC,EAAuC;YACrC,IAAGpB,QAAQ,CAACP,WAAZ,EAAyB;cACvBkB,MAAM,CAAClB,WAAP,CAAmB4B,GAAnB,CAAuB1B,SAAvB;YACD,CAFD,MAGK;cACHgB,MAAM,CAACS,KAAP,GAAesC,QAAQ,CAACC,SAAT,CAAmBC,IAAnB,CAAwB7D,IAAxB,CAA6BmB,OAAO,CAACmC,IAArC,EAA2CnC,OAA3C,EAAoDlB,QAAQ,CAACmC,IAAT,GAAgB,GAApE,CAAf;cACAxB,MAAM,CAACS,KAAP,CAAayC,KAAb,CAAmB3C,OAAnB,EAA4BvB,SAA5B;YACD;UACF;QACF,CA1tBM;QA2tBPoB,OAAO,EAAE,YAAW;UAClB,IAAG,CAACf,QAAQ,CAACgV,MAAV,IAAoBhV,QAAQ,CAACe,OAA7B,IAAwCf,QAAQ,CAACoB,KAApD,EAA2D;YACzD,IAAGpB,QAAQ,CAACP,WAAZ,EAAyB;cACvBkB,MAAM,CAAClB,WAAP,CAAmB4B,GAAnB,CAAuB1B,SAAvB;YACD,CAFD,MAGK;cACHgB,MAAM,CAACI,OAAP,GAAiB2C,QAAQ,CAACC,SAAT,CAAmBC,IAAnB,CAAwB7D,IAAxB,CAA6BmB,OAAO,CAACmC,IAArC,EAA2CnC,OAA3C,EAAoDlB,QAAQ,CAACmC,IAAT,GAAgB,GAApE,CAAjB;cACAxB,MAAM,CAACI,OAAP,CAAe8C,KAAf,CAAqB3C,OAArB,EAA8BvB,SAA9B;YACD;UACF;QACF,CAruBM;QAsuBPS,KAAK,EAAE,YAAW;UAChB,IAAG,CAACJ,QAAQ,CAACgV,MAAb,EAAqB;YACnBrU,MAAM,CAACP,KAAP,GAAesD,QAAQ,CAACC,SAAT,CAAmBC,IAAnB,CAAwB7D,IAAxB,CAA6BmB,OAAO,CAACd,KAArC,EAA4Cc,OAA5C,EAAqDlB,QAAQ,CAACmC,IAAT,GAAgB,GAArE,CAAf;YACAxB,MAAM,CAACP,KAAP,CAAayD,KAAb,CAAmB3C,OAAnB,EAA4BvB,SAA5B;UACD;QACF,CA3uBM;QA4uBPF,WAAW,EAAE;UACX4B,GAAG,EAAE,UAASyC,OAAT,EAAkB;YACrB,IACEC,WADF,EAEEC,aAFF,EAGEC,YAHF;;YAKA,IAAGjE,QAAQ,CAACP,WAAZ,EAAyB;cACvBsE,WAAW,GAAK,IAAIxE,IAAJ,GAAWC,OAAX,EAAhB;cACAyE,YAAY,GAAI3E,IAAI,IAAIyE,WAAxB;cACAC,aAAa,GAAGD,WAAW,GAAGE,YAA9B;cACA3E,IAAI,GAAYyE,WAAhB;cACAtE,WAAW,CAACgD,IAAZ,CAAiB;gBACf,QAAmBqB,OAAO,CAAC,CAAD,CADX;gBAEf,aAAmB,GAAGhE,KAAH,CAASC,IAAT,CAAc+D,OAAd,EAAuB,CAAvB,KAA6B,EAFjC;gBAGf,WAAmBtD,OAHJ;gBAIf,kBAAmBwD;cAJJ,CAAjB;YAMD;;YACDE,YAAY,CAACvD,MAAM,CAAClB,WAAP,CAAmB0E,KAApB,CAAZ;YACAxD,MAAM,CAAClB,WAAP,CAAmB0E,KAAnB,GAA2BlC,UAAU,CAACtB,MAAM,CAAClB,WAAP,CAAmB2E,OAApB,EAA6B,GAA7B,CAArC;UACD,CArBU;UAsBXA,OAAO,EAAE,YAAW;YAClB,IACEC,KAAK,GAAGrE,QAAQ,CAACmC,IAAT,GAAgB,GAD1B;YAAA,IAEEmC,SAAS,GAAG,CAFd;YAIAhF,IAAI,GAAG,KAAP;YACA4E,YAAY,CAACvD,MAAM,CAAClB,WAAP,CAAmB0E,KAApB,CAAZ;YACAvF,CAAC,CAAC2D,IAAF,CAAO9C,WAAP,EAAoB,UAAS+C,KAAT,EAAgB9B,IAAhB,EAAsB;cACxC4D,SAAS,IAAI5D,IAAI,CAAC,gBAAD,CAAjB;YACD,CAFD;YAGA2D,KAAK,IAAI,MAAMC,SAAN,GAAkB,IAA3B;;YACA,IAAGkC,cAAH,EAAmB;cACjBnC,KAAK,IAAI,QAAQmC,cAAR,GAAyB,IAAlC;YACD;;YACD,IAAI,CAACtF,OAAO,CAACK,KAAR,KAAkBxC,SAAlB,IAA+BmC,OAAO,CAACqD,KAAR,KAAkBxF,SAAlD,KAAgEU,WAAW,CAACwD,MAAZ,GAAqB,CAAzF,EAA4F;cAC1F/B,OAAO,CAACO,cAAR,CAAuB4C,KAAvB;;cACA,IAAGnD,OAAO,CAACqD,KAAX,EAAkB;gBAChBrD,OAAO,CAACqD,KAAR,CAAc9E,WAAd;cACD,CAFD,MAGK;gBACHb,CAAC,CAAC2D,IAAF,CAAO9C,WAAP,EAAoB,UAAS+C,KAAT,EAAgB9B,IAAhB,EAAsB;kBACxCQ,OAAO,CAACG,GAAR,CAAYX,IAAI,CAAC,MAAD,CAAJ,GAAe,IAAf,GAAsBA,IAAI,CAAC,gBAAD,CAA1B,GAA6C,IAAzD;gBACD,CAFD;cAGD;;cACDQ,OAAO,CAACM,QAAR;YACD;;YACD/B,WAAW,GAAG,EAAd;UACD;QAjDU,CA5uBN;QA+xBP+E,MAAM,EAAE,UAAS9E,KAAT,EAAgB+E,eAAhB,EAAiCC,OAAjC,EAA0C;UAChD,IACEC,MAAM,GAAGlE,QADX;UAAA,IAEEmE,QAFF;UAAA,IAGEC,KAHF;UAAA,IAIEC,QAJF;UAMAL,eAAe,GAAGA,eAAe,IAAI5E,cAArC;UACA6E,OAAO,GAAWlE,OAAO,IAAYkE,OAArC;;UACA,IAAG,OAAOhF,KAAP,IAAgB,QAAhB,IAA4BiF,MAAM,KAAK5F,SAA1C,EAAqD;YACnDW,KAAK,GAAMA,KAAK,CAACqF,KAAN,CAAY,OAAZ,CAAX;YACAH,QAAQ,GAAGlF,KAAK,CAACuD,MAAN,GAAe,CAA1B;YACArE,CAAC,CAAC2D,IAAF,CAAO7C,KAAP,EAAc,UAASsF,KAAT,EAAgBlC,KAAhB,EAAuB;cACnC,IAAImC,cAAc,GAAID,KAAK,IAAIJ,QAAV,GACjB9B,KAAK,GAAGpD,KAAK,CAACsF,KAAK,GAAG,CAAT,CAAL,CAAiBE,MAAjB,CAAwB,CAAxB,EAA2BC,WAA3B,EAAR,GAAmDzF,KAAK,CAACsF,KAAK,GAAG,CAAT,CAAL,CAAiBlF,KAAjB,CAAuB,CAAvB,CADlC,GAEjBJ,KAFJ;;cAIA,IAAId,CAAC,CAACqB,aAAF,CAAiB0E,MAAM,CAACM,cAAD,CAAvB,KAA8CD,KAAK,IAAIJ,QAA3D,EAAuE;gBACrED,MAAM,GAAGA,MAAM,CAACM,cAAD,CAAf;cACD,CAFD,MAGK,IAAIN,MAAM,CAACM,cAAD,CAAN,KAA2BlG,SAA/B,EAA2C;gBAC9C8F,KAAK,GAAGF,MAAM,CAACM,cAAD,CAAd;gBACA,OAAO,KAAP;cACD,CAHI,MAIA,IAAIrG,CAAC,CAACqB,aAAF,CAAiB0E,MAAM,CAAC7B,KAAD,CAAvB,KAAqCkC,KAAK,IAAIJ,QAAlD,EAA8D;gBACjED,MAAM,GAAGA,MAAM,CAAC7B,KAAD,CAAf;cACD,CAFI,MAGA,IAAI6B,MAAM,CAAC7B,KAAD,CAAN,KAAkB/D,SAAtB,EAAkC;gBACrC8F,KAAK,GAAGF,MAAM,CAAC7B,KAAD,CAAd;gBACA,OAAO,KAAP;cACD,CAHI,MAIA;gBACHnC,MAAM,CAACP,KAAP,CAAaA,KAAK,CAACgF,MAAnB,EAA2B1F,KAA3B;gBACA,OAAO,KAAP;cACD;YACF,CAvBD;UAwBD;;UACD,IAAKd,CAAC,CAACI,UAAF,CAAc6F,KAAd,CAAL,EAA6B;YAC3BC,QAAQ,GAAGD,KAAK,CAAChB,KAAN,CAAYa,OAAZ,EAAqBD,eAArB,CAAX;UACD,CAFD,MAGK,IAAGI,KAAK,KAAK9F,SAAb,EAAwB;YAC3B+F,QAAQ,GAAGD,KAAX;UACD;;UACD,IAAGQ,KAAK,CAACC,OAAN,CAAc1E,aAAd,CAAH,EAAiC;YAC/BA,aAAa,CAAC6B,IAAd,CAAmBqC,QAAnB;UACD,CAFD,MAGK,IAAGlE,aAAa,KAAK7B,SAArB,EAAgC;YACnC6B,aAAa,GAAG,CAACA,aAAD,EAAgBkE,QAAhB,CAAhB;UACD,CAFI,MAGA,IAAGA,QAAQ,KAAK/F,SAAhB,EAA2B;YAC9B6B,aAAa,GAAGkE,QAAhB;UACD;;UACD,OAAOD,KAAP;QACD;MAp1BM,CAAT;;MAu1BA,IAAGjF,aAAH,EAAkB;QAChB,IAAGa,QAAQ,KAAK1B,SAAhB,EAA2B;UACzB4B,MAAM,CAACE,UAAP;QACD;;QACDF,MAAM,CAAC6D,MAAP,CAAc9E,KAAd;MACD,CALD,MAMK;QACH,IAAGe,QAAQ,KAAK1B,SAAhB,EAA2B;UACzB0B,QAAQ,CAAC+D,MAAT,CAAgB,SAAhB;QACD;;QACD7D,MAAM,CAACE,UAAP;MACD;IACF,CA/3BH;IAk4BA,OAAQD,aAAa,KAAK7B,SAAnB,GACH6B,aADG,GAEH,IAFJ;EAID,CAt5BD;;EAw5BAhC,CAAC,CAACQ,EAAF,CAAKy+C,QAAL,CAAc79C,QAAd,GAAyB;IAEvBmC,IAAI,EAAW,UAFQ;IAGvBhC,SAAS,EAAM,UAHQ;IAKvB6U,MAAM,EAAS,KALQ;IAMvB5T,KAAK,EAAU,KANQ;IAOvBL,OAAO,EAAQ,KAPQ;IAQvBtB,WAAW,EAAI,IARQ;IAUvB20B,MAAM,EAAS;MACbld,GAAG,EAAG,CADO;MAEbC,GAAG,EAAG;IAFO,CAVQ;IAevB5E,QAAQ,EAAS,GAfM;IAiBvB0tC,cAAc,EAAG,MAjBM;IAmBvBsC,WAAW,EAAM,IAnBM;IAoBvBE,YAAY,EAAK,IApBM;IAqBvBjB,WAAW,EAAM,IArBM;IAuBvBrvC,KAAK,EAAY,SAvBM;IAwBvBqsC,SAAS,EAAQ,CAxBM;IAyBvB6D,SAAS,EAAS,OAAO,EAzBF;IAyBO;IAE9BnD,OAAO,EAAU,KA3BM;IA4BvBZ,KAAK,EAAY,KA5BM;IA6BvBx7C,KAAK,EAAY,KA7BM;IA+BvB;IACAw8C,aAAa,EAAG,GAhCO;IAkCvBoD,aAAa,EAAG,UAAS3D,KAAT,EAAgBzwC,IAAhB,EAAsBxL,KAAtB,EAA6Bw7C,KAA7B,EAAmC;MACjD,OAAOhwC,IAAP;IACD,CApCsB;IAqCvBqN,QAAQ,EAAQ,UAASujC,OAAT,EAAkBp8C,KAAlB,EAAyBw7C,KAAzB,EAA+B,CAAE,CArC1B;IAsCvB1qC,SAAS,EAAO,UAAS0qC,KAAT,EAAe,CAAE,CAtCV;IAuCvBqE,QAAQ,EAAQ,UAAS7/C,KAAT,EAAgBw7C,KAAhB,EAAsB,CAAE,CAvCjB;IAwCvBzkB,OAAO,EAAS,UAAS/2B,KAAT,EAAgBw7C,KAAhB,EAAsB,CAAE,CAxCjB;IAyCvBsE,SAAS,EAAO,UAAS9/C,KAAT,EAAgBw7C,KAAhB,EAAsB,CAAE,CAzCjB;IA2CvBl+C,KAAK,EAAM;MACTgF,MAAM,EAAY,uCADT;MAET49C,UAAU,EAAQ,+BAFT;MAGTlB,OAAO,EAAW,+BAHT;MAITC,MAAM,EAAY,6BAJT;MAKTF,eAAe,EAAG;IALT,CA3CY;IAmDvBt6C,MAAM,EAAE;MACN07C,QAAQ,EAAE;IADJ,CAnDe;IAuDvB57C,QAAQ,EAAE;MACR63C,OAAO,EAAG,SADF;MAERZ,KAAK,EAAK,OAFF;MAGRx7C,KAAK,EAAK;IAHF,CAvDa;IA6DvB2D,QAAQ,EAAG;MACTs3C,GAAG,EAAQ,QADF;MAET5rC,KAAK,EAAM,UAFF;MAGT0rC,QAAQ,EAAG;IAHF,CA7DY;IAmEvBvvC,IAAI,EAAG;MACL8L,MAAM,EAAI,KADL;MAELha,KAAK,EAAK,KAFL;MAGLqS,OAAO,EAAG,KAHL;MAILkuC,OAAO,EAAG,KAJL;MAKLzB,OAAO,EAAG,YALL;MAMLT,KAAK,EAAK,oBANL;MAOLuB,IAAI,EAAM,CAAC,EAAD;IAPL,CAnEgB;IA6EvB14C,SAAS,EAAG;MACV8S,MAAM,EAAI,QADA;MAEVha,KAAK,EAAK,OAFA;MAGVqS,OAAO,EAAG,SAHA;MAIVkuC,OAAO,EAAG;IAJA;EA7EW,CAAzB;AAuFC,CA9/BA,EA8/BGx6C,MA9/BH,EA8/BWtH,MA9/BX,EA8/BmBC,QA9/BnB;AAggCD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA;;AAAC,CAAC,UAAWF,CAAX,EAAcC,MAAd,EAAsBC,QAAtB,EAAgCC,SAAhC,EAA4C;EAE9C;;EAEAF,MAAM,GAAI,OAAOA,MAAP,IAAiB,WAAjB,IAAgCA,MAAM,CAACuH,IAAP,IAAeA,IAAhD,GACLvH,MADK,GAEJ,OAAOwH,IAAP,IAAe,WAAf,IAA8BA,IAAI,CAACD,IAAL,IAAaA,IAA5C,GACEC,IADF,GAEE3C,QAAQ,CAAC,aAAD,CAAR,EAJN;;EAOA9E,CAAC,CAACQ,EAAF,CAAK8jD,MAAL,GAAc,UAAS7jD,UAAT,EAAqB;IAEjC,IACEkH,WAAW,GAAM3H,CAAC,CAAC,IAAD,CADpB;IAAA,IAEEswC,OAAO,GAAUtwC,CAAC,CAACC,MAAD,CAFpB;IAAA,IAIE2H,cAAc,GAAGD,WAAW,CAACE,QAAZ,IAAwB,EAJ3C;IAAA,IAMEnH,IAAI,GAAa,IAAIC,IAAJ,GAAWC,OAAX,EANnB;IAAA,IAOEC,WAAW,GAAM,EAPnB;IAAA,IASEC,KAAK,GAAYC,SAAS,CAAC,CAAD,CAT5B;IAAA,IAUEC,aAAa,GAAK,OAAOF,KAAP,IAAgB,QAVpC;IAAA,IAWEG,cAAc,GAAG,GAAGC,KAAH,CAASC,IAAT,CAAcJ,SAAd,EAAyB,CAAzB,CAXnB;IAAA,IAaEwjD,QAAQ,GAAS,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,GAAhB,EAAqB,GAArB,EAA0B,GAA1B,EAA+B,GAA/B,EAAoC,GAApC,EAAyC,GAAzC,EAA8C,GAA9C,EAAmD,GAAnD,EAAwD,GAAxD,EAA6D,GAA7D,EAAkE,GAAlE,EAAuE,GAAvE,EAA4E,GAA5E,EAAiF,GAAjF,EAAsF,GAAtF,EAA2F,GAA3F,EAAgG,GAAhG,EAAqG,GAArG,EAA0G,GAA1G,EAA+G,GAA/G,EAAoH,GAApH,EAAyH,GAAzH,EAA8H,GAA9H,CAbnB;IAAA,IAeEC,WAAW,GAAO,CAfpB;IAAA,IAgBEC,QAAQ,GAAU,CAhBpB;IAAA,IAiBEC,OAAO,GAAW,CAjBpB;IAAA,IAkBEC,eAAe,GAAG,CAAC,CAlBrB;IAAA,IAmBEC,YAAY,GAAM,CAAC,CAnBrB;IAAA,IAqBE;IACA;IACAC,YAAY,GAAM,CAvBpB;IAAA,IAyBE7iD,aAzBF;IA4BA2F,WAAW,CACRhE,IADH,CACQ,YAAW;MAEf,IACEvC,QAAQ,GAAYpB,CAAC,CAACqB,aAAF,CAAgBZ,UAAhB,CAAF,GACdT,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAe,EAAf,EAAmBtB,CAAC,CAACQ,EAAF,CAAK8jD,MAAL,CAAYljD,QAA/B,EAAyCX,UAAzC,CADc,GAEdT,CAAC,CAACsB,MAAF,CAAS,EAAT,EAAatB,CAAC,CAACQ,EAAF,CAAK8jD,MAAL,CAAYljD,QAAzB,CAHN;MAAA,IAKEsH,SAAS,GAAStH,QAAQ,CAACsH,SAL7B;MAAA,IAMED,QAAQ,GAAUrH,QAAQ,CAACqH,QAN7B;MAAA,IAOElH,SAAS,GAASH,QAAQ,CAACG,SAP7B;MAAA,IAQEC,KAAK,GAAaJ,QAAQ,CAACI,KAR7B;MAAA,IASE6P,IAAI,GAAcjQ,QAAQ,CAACiQ,IAT7B;MAAA,IAUEyzC,cAAc,GAAI1jD,QAAQ,CAAC0jD,cAV7B;MAAA,IAYEC,OAAO,GAAW,KAZpB;MAAA,IAaEn8C,cAAc,GAAI,MAAMrH,SAb1B;MAAA,IAcEE,eAAe,GAAG,YAAYF,SAdhC;MAAA,IAgBEI,OAAO,GAAW3B,CAAC,CAAC,IAAD,CAhBrB;MAAA,IAiBEglD,UAjBF;MAAA,IAkBEC,MAlBF;MAAA,IAmBEC,YAnBF;MAAA,IAoBEC,MApBF;MAAA,IAqBEC,UArBF;MAAA,IAsBE7nB,OAtBF;MAAA,IAwBE37B,OAAO,GAAW,IAxBpB;MAAA,IAyBEC,QAAQ,GAAUF,OAAO,CAACG,IAAR,CAAaL,eAAb,CAzBpB;MAAA,IA2BE4jD,eA3BF;MAAA,IA6BEnhD,KA7BF;MAAA,IA8BE2hB,QA9BF;MAAA,IA+BEy/B,SA/BF;MAAA,IAgCE79B,MAhCF;MAAA,IAiCEm4B,SAjCF;MAAA,IAkCE/gC,OAlCF;MAAA,IAmCE0mC,QAAQ,GAAG,CAnCb;MAAA,IAoCEC,aApCF;MAAA,IAsCEC,eAtCF;MAAA,IAuCEz3B,WAvCF;MAAA,IAwCEjsB,MAxCF;MA2CAA,MAAM,GAAG;QAEPE,UAAU,EAAE,YAAW;UACrBF,MAAM,CAACS,KAAP,CAAa,qBAAb,EAAoCpB,QAApC;UACA4sB,WAAW,GAAG,IAAd;UAEA62B,YAAY,IAAI,CAAhB;UACAQ,eAAe,GAAGR,YAAlB;UAEAhmC,OAAO,GAAG9c,MAAM,CAACqd,KAAP,CAAasmC,YAAb,EAAV;UACA3jD,MAAM,CAACqd,KAAP,CAAa6V,MAAb;UACAlzB,MAAM,CAACqd,KAAP,CAAakmB,MAAb;;UAEA,IAAG,CAACvjC,MAAM,CAAC4J,EAAP,CAAU7H,QAAV,EAAJ,EAA0B;YACxB/B,MAAM,CAACiD,IAAP,CAAYyV,MAAZ;UACD;;UAED1Y,MAAM,CAACgiC,IAAP,CAAYt7B,QAAZ;UACA1G,MAAM,CAACgiC,IAAP,CAAY3iC,QAAZ;UAEA4sB,WAAW,GAAG,KAAd;UACAjsB,MAAM,CAACG,WAAP;QACD,CAtBM;QAwBPA,WAAW,EAAE,YAAW;UACtBH,MAAM,CAACI,OAAP,CAAe,4BAAf,EAA6CJ,MAA7C;UACAF,QAAQ,GAAGE,MAAX;UACAJ,OAAO,CACJG,IADH,CACQL,eADR,EACyBM,MADzB;QAGD,CA9BM;QAgCP4C,OAAO,EAAE,YAAW;UAClB5C,MAAM,CAACI,OAAP,CAAe,gCAAf,EAAiDR,OAAjD;UACAs+C,aAAa,CAACp+C,QAAQ,CAACq+C,QAAV,CAAb;UACAn+C,MAAM,CAACud,MAAP,CAAc7E,MAAd;UACA1Y,MAAM,CAACud,MAAP,CAAcqmC,aAAd;UACAhkD,OAAO,CAACiD,UAAR,CAAmBnD,eAAnB;UACAI,QAAQ,GAAG1B,SAAX;QACD,CAvCM;QAyCPif,KAAK,EAAE;UACL6V,MAAM,EAAE,YAAW;YACjB,IAAItzB,OAAO,CAACiT,IAAR,CAAa,UAAb,MAA6BzU,SAAjC,EAA4C;cAC1CwB,OAAO,CAACiT,IAAR,CAAa,UAAb,EAAyB,CAAzB;YACD;;YACD,IAAGjT,OAAO,CAAC6H,IAAR,CAAa,QAAb,EAAuBnF,MAAvB,IAAiC,CAApC,EAAuC;cACrC1C,OAAO,CAACie,MAAR,CAAe,wBACE,2BADF,GAEE,gCAFF,GAGE,2BAHF,GAIE,QAJjB;YAKD;;YACDggC,SAAS,GAAG79C,MAAM,CAACiH,GAAP,CAAW42C,SAAX,EAAZ;YACAqF,MAAM,GAAGtjD,OAAO,CAAC6H,IAAR,CAAa,qBAAb,CAAT;YACAw7C,UAAU,GAAGC,MAAb;;YACA,IAAGljD,MAAM,CAAC4J,EAAP,CAAUsF,KAAV,EAAH,EAAsB;cACpB,IAAGtP,OAAO,CAAC6H,IAAR,CAAa,eAAb,EAA8BnF,MAA9B,IAAwC,CAA3C,EAA8C;gBAC5C1C,OAAO,CAAC6H,IAAR,CAAa,QAAb,EAAuBoW,MAAvB,CAA8B,kCAA9B;cACD;;cACDslC,YAAY,GAAGvjD,OAAO,CAAC6H,IAAR,CAAa,eAAb,CAAf;YACD;;YACD27C,MAAM,GAAGxjD,OAAO,CAAC6H,IAAR,CAAa,QAAb,CAAT;YACA47C,UAAU,GAAGzjD,OAAO,CAAC6H,IAAR,CAAa,aAAb,CAAb;YACAie,MAAM,GAAGw9B,MAAM,CAAC59B,KAAP,KAAiB,CAA1B;UACD,CAxBI;UAyBLie,MAAM,EAAE,YAAW;YACjB,IAAGvjC,MAAM,CAAC4J,EAAP,CAAUi6C,OAAV,EAAH,EAAwB;cACtBroB,OAAO,GAAG57B,OAAO,CAAC6H,IAAR,CAAa,oBAAb,CAAV;;cACA,IAAG+zB,OAAO,CAACl5B,MAAR,IAAkB,CAArB,EAAwB;gBACtBtC,MAAM,CAACqd,KAAP,CAAaymC,WAAb;cACD,CAFD,MAEO;gBACL9jD,MAAM,CAACqd,KAAP,CAAa0mC,SAAb;cACD;;cAED,IAAI1kD,QAAQ,CAAC2kD,cAAb,EAA6B;gBAC3BpkD,OAAO,CAAC0R,QAAR,CAAiB3K,SAAS,CAACs9C,MAA3B;cACD;YACF;UACF,CAtCI;UAuCLN,YAAY,EAAE,YAAW;YACvB,IAAI;cACHxlD,QAAQ,CAAC6gB,WAAT,CAAqB,YAArB;cACA,OAAO,IAAP;YACA,CAHD,CAGE,OAAOjW,CAAP,EAAU;cACX,OAAO,KAAP;YACA;UACF,CA9CI;UA+CL+6C,WAAW,EAAE,YAAW;YACtB,IACEI,SAAS,GAAK1oB,OAAO,CAAC/zB,IAAR,CAAa,QAAb,CADhB;YAAA,IAEE08C,WAAW,GAAGD,SAAS,CAAC5hD,MAF1B;YAAA,IAGEiU,GAAG,GAAWvW,MAAM,CAACiH,GAAP,CAAWsP,GAAX,EAHhB;YAAA,IAIEC,GAAG,GAAWxW,MAAM,CAACiH,GAAP,CAAWuP,GAAX,EAJhB;YAAA,IAKEsnC,KALF;YAOAoG,SAAS,CAACtiD,IAAV,CAAe,UAASC,KAAT,EAAgB;cAC7B,IACEuiD,MAAM,GAAGnmD,CAAC,CAAC,IAAD,CADZ;cAAA,IAEEomD,SAAS,GAAGD,MAAM,CAACvxC,IAAP,CAAY,YAAZ,CAFd;;cAIA,IAAGwxC,SAAH,EAAc;gBACZA,SAAS,GAAGA,SAAS,GAAG7tC,GAAZ,GAAkBA,GAAlB,GAAwB6tC,SAAS,GAAG9tC,GAAZ,GAAkBA,GAAlB,GAAwB8tC,SAA5D;gBACAvG,KAAK,GAAG,CAACuG,SAAS,GAAG9tC,GAAb,KAAqBC,GAAG,GAAGD,GAA3B,CAAR;cACD,CAHD,MAGO;gBACLunC,KAAK,GAAG,CAACj8C,KAAK,GAAG,CAAT,KAAesiD,WAAW,GAAG,CAA7B,CAAR;cACD;;cACDnkD,MAAM,CAAC2kB,MAAP,CAAc2/B,aAAd,CAA4BxG,KAA5B,EAAmC7/C,CAAC,CAAC,IAAD,CAApC;YACD,CAZD;UAaD,CApEI;UAqEL8lD,SAAS,EAAE,YAAW;YACpBvoB,OAAO,GAAG57B,OAAO,CAAC6H,IAAR,CAAa,SAAb,CAAV;;YACA,IAAG+zB,OAAO,CAACl5B,MAAR,IAAkB,CAArB,EAAwB;cACtBk5B,OAAO,CAAC9vB,KAAR;YACD,CAFD,MAGK;cACH8vB,OAAO,GAAG57B,OAAO,CAACie,MAAR,CAAe,+BAAf,EAAgDpW,IAAhD,CAAqD,SAArD,CAAV;YACD;;YACD,KAAI,IAAInC,CAAC,GAAG,CAAR,EAAWi/C,GAAG,GAAGvkD,MAAM,CAACiH,GAAP,CAAWu9C,SAAX,EAArB,EAA6Cl/C,CAAC,IAAIi/C,GAAlD,EAAuDj/C,CAAC,EAAxD,EAA4D;cAC1D,IACEm/C,SAAS,GAAGzkD,MAAM,CAACiH,GAAP,CAAWuK,KAAX,CAAiBlM,CAAjB,CADd;cAAA,IAEEsJ,MAAM,GAAI61C,SAAS,KAAK,EAAf,GACL,EAAEn/C,CAAC,GAAGtF,MAAM,CAACiH,GAAP,CAAWu8C,QAAX,EAAN,IACEvlD,CAAC,CAAC,uBAAuBwmD,SAAvB,GAAmC,OAApC,CADH,GAEExmD,CAAC,CAAC,kCAAD,CAHE,GAIL,IANN;cAAA,IAOE6/C,KAAK,GAAIx4C,CAAC,GAAGi/C,GAPf;;cASA,IAAG31C,MAAH,EAAW;gBACT5O,MAAM,CAAC2kB,MAAP,CAAc2/B,aAAd,CAA4BxG,KAA5B,EAAmClvC,MAAnC;gBACA4sB,OAAO,CAAC3d,MAAR,CAAejP,MAAf;cACD;YACF;UACF;QA5FI,CAzCA;QAwIP3L,IAAI,EAAE;UACJyV,MAAM,EAAE,YAAW;YACjB1Y,MAAM,CAACiD,IAAP,CAAYyhD,oBAAZ;YACA1kD,MAAM,CAACiD,IAAP,CAAYs0B,cAAZ;YACAv3B,MAAM,CAACiD,IAAP,CAAYw0B,WAAZ;;YACA,IAAGz3B,MAAM,CAAC4J,EAAP,CAAUiuB,KAAV,EAAH,EAAsB;cACpB73B,MAAM,CAACiD,IAAP,CAAY0hD,WAAZ;YACD;;YACD,IAAItlD,QAAQ,CAACulD,gBAAb,EAA+B;cAC7B5kD,MAAM,CAACiD,IAAP,CAAY4hD,YAAZ;YACD;UACF,CAXG;UAYJttB,cAAc,EAAE,YAAW;YACzBv3B,MAAM,CAACI,OAAP,CAAe,yBAAf;YACAR,OAAO,CAACoI,EAAR,CAAW,YAAYnB,cAAvB,EAAuC7G,MAAM,CAACiI,KAAP,CAAaK,OAApD;UACD,CAfG;UAgBJo8C,oBAAoB,EAAE,YAAW;YAC/BzmD,CAAC,CAACE,QAAD,CAAD,CAAY6J,EAAZ,CAAe,YAAYnB,cAAZ,GAA6By8C,eAA5C,EAA6DtjD,MAAM,CAACiI,KAAP,CAAa68C,aAA1E;UACD,CAlBG;UAmBJrtB,WAAW,EAAE,YAAW;YACtBz3B,MAAM,CAACI,OAAP,CAAe,sBAAf;YACAR,OAAO,CAAC6H,IAAR,CAAa,wBAAb,EAAuCO,EAAvC,CAA0C,cAAcnB,cAAxD,EAAwE,UAASoB,KAAT,EAAgB;cACtFA,KAAK,CAACiL,wBAAN;cACAjL,KAAK,CAACC,cAAN;cACAlI,MAAM,CAACiI,KAAP,CAAaglB,IAAb,CAAkBhlB,KAAlB;YACD,CAJD;YAKArI,OAAO,CAACoI,EAAR,CAAW,cAAcnB,cAAzB,EAAyC7G,MAAM,CAACiI,KAAP,CAAaglB,IAAtD;YACArtB,OAAO,CAACoI,EAAR,CAAW,eAAenB,cAA1B,EAA0C,UAASoB,KAAT,EAAgB;cACxD+6C,OAAO,GAAG,IAAV;YACD,CAFD;YAGApjD,OAAO,CAACoI,EAAR,CAAW,eAAenB,cAA1B,EAA0C,UAASoB,KAAT,EAAgB;cACxD+6C,OAAO,GAAG,KAAV;YACD,CAFD;UAGD,CAjCG;UAkCJ2B,WAAW,EAAE,YAAW;YACtB3kD,MAAM,CAACI,OAAP,CAAe,sBAAf;YACAR,OAAO,CAAC6H,IAAR,CAAa,wBAAb,EAAuCO,EAAvC,CAA0C,eAAenB,cAAzD,EAAyE,UAASoB,KAAT,EAAgB;cACvFA,KAAK,CAACiL,wBAAN;cACAjL,KAAK,CAACC,cAAN;cACAlI,MAAM,CAACiI,KAAP,CAAaglB,IAAb,CAAkBhlB,KAAlB;YACD,CAJD;YAKArI,OAAO,CAACoI,EAAR,CAAW,eAAenB,cAA1B,EAA0C7G,MAAM,CAACiI,KAAP,CAAaglB,IAAvD;UACD,CA1CG;UA2CJ22B,aAAa,EAAE,YAAW;YACxB;YACA5jD,MAAM,CAACI,OAAP,CAAe,uDAAf;;YACA,IAAGJ,MAAM,CAAC4J,EAAP,CAAUiuB,KAAV,EAAH,EAAsB;cACpB55B,CAAC,CAACE,QAAD,CAAD,CAAY6J,EAAZ,CAAe,cAAcnB,cAA7B,EAA6C7G,MAAM,CAACiI,KAAP,CAAa88C,IAA1D;cACA9mD,CAAC,CAACE,QAAD,CAAD,CAAY6J,EAAZ,CAAe,aAAanB,cAA5B,EAA4C7G,MAAM,CAACiI,KAAP,CAAa8kB,EAAzD;YACD,CAHD,MAIK;cACH9uB,CAAC,CAACE,QAAD,CAAD,CAAY6J,EAAZ,CAAe,cAAcnB,cAA7B,EAA6C7G,MAAM,CAACiI,KAAP,CAAa88C,IAA1D;cACA9mD,CAAC,CAACE,QAAD,CAAD,CAAY6J,EAAZ,CAAe,YAAYnB,cAA3B,EAA2C7G,MAAM,CAACiI,KAAP,CAAa8kB,EAAxD;YACD;UACF,CAtDG;UAuDJ83B,YAAY,EAAE,YAAW;YACvBtW,OAAO,CAACvmC,EAAR,CAAW,WAAWnB,cAAtB,EAAsC7G,MAAM,CAACiI,KAAP,CAAa6oC,MAAnD;UACD;QAzDG,CAxIC;QAoMPvzB,MAAM,EAAE;UACN7E,MAAM,EAAE,YAAW;YACjB9Y,OAAO,CAAC6H,IAAR,CAAa,wBAAb,EAAuCiF,GAAvC,CAA2C,cAAc7F,cAAzD;YACAjH,OAAO,CAAC6H,IAAR,CAAa,wBAAb,EAAuCiF,GAAvC,CAA2C,eAAe7F,cAA1D;YACAjH,OAAO,CAAC8M,GAAR,CAAY,cAAc7F,cAA1B;YACAjH,OAAO,CAAC8M,GAAR,CAAY,eAAe7F,cAA3B;YACAjH,OAAO,CAAC8M,GAAR,CAAY,eAAe7F,cAA3B;YACAjH,OAAO,CAAC8M,GAAR,CAAY,eAAe7F,cAA3B;YACAjH,OAAO,CAAC8M,GAAR,CAAY,YAAY7F,cAAxB;YACAjH,OAAO,CAAC8M,GAAR,CAAY,aAAa7F,cAAzB;YACA5I,CAAC,CAACE,QAAD,CAAD,CAAYuO,GAAZ,CAAgB,YAAY7F,cAAZ,GAA6By8C,eAA7C,EAA8DtjD,MAAM,CAACiI,KAAP,CAAa68C,aAA3E;YACAvW,OAAO,CAAC7hC,GAAR,CAAY,WAAW7F,cAAvB;UACD,CAZK;UAaN+8C,aAAa,EAAE,YAAW;YACxB,IAAG5jD,MAAM,CAAC4J,EAAP,CAAUiuB,KAAV,EAAH,EAAsB;cACpB55B,CAAC,CAACE,QAAD,CAAD,CAAYuO,GAAZ,CAAgB,cAAc7F,cAA9B;cACA5I,CAAC,CAACE,QAAD,CAAD,CAAYuO,GAAZ,CAAgB,aAAa7F,cAA7B;YACD,CAHD,MAGO;cACL5I,CAAC,CAACE,QAAD,CAAD,CAAYuO,GAAZ,CAAgB,cAAc7F,cAA9B;cACA5I,CAAC,CAACE,QAAD,CAAD,CAAYuO,GAAZ,CAAgB,YAAY7F,cAA5B;YACD;UACF;QArBK,CApMD;QA4NPoB,KAAK,EAAE;UACLglB,IAAI,EAAE,UAAShlB,KAAT,EAAgB;YACpBA,KAAK,CAACC,cAAN;;YACA,IAAGlI,MAAM,CAAC4J,EAAP,CAAUsF,KAAV,EAAH,EAAsB;cACpB,IACE81C,QAAQ,GAAGhlD,MAAM,CAACgJ,SAAP,CAAiBg8C,QAAjB,CAA0B/8C,KAA1B,CADb;cAAA,IAEEg9C,MAAM,GAAGjlD,MAAM,CAACgJ,SAAP,CAAiBk8C,GAAjB,CAAqBF,QAArB,CAFX,CADoB,CAKpB;;cACA,IAAG3lD,QAAQ,CAAC8lD,gBAAT,IAA6BnlD,MAAM,CAAC4J,EAAP,CAAUsF,KAAV,EAA7B,IAAkDlP,MAAM,CAAColD,QAAP,KAAoBplD,MAAM,CAACqlD,cAAhF,EAAgG;gBAC9F3B,eAAe,GAAGuB,MAAlB;gBACAhC,UAAU,GAAG7kD,SAAb;cACD,CAHD,MAGO;gBACL6kD,UAAU,GAAGjjD,MAAM,CAACgJ,SAAP,CAAiBs8C,YAAjB,CAA8BL,MAA9B,CAAb;cACD;;cACD,IAAIxB,aAAa,KAAKrlD,SAAtB,EAAiC;gBAC/BqlD,aAAa,GAAGzjD,MAAM,CAACiH,GAAP,CAAWs+C,iBAAX,EAAhB;cACD;YACF,CAfD,MAeO,IAAI9B,aAAa,KAAKrlD,SAAtB,EAAiC;cACpCqlD,aAAa,GAAGzjD,MAAM,CAACiH,GAAP,CAAW9E,KAAX,EAAhB;YACH;;YAED,IAAG,CAACnC,MAAM,CAAC4J,EAAP,CAAU7H,QAAV,EAAJ,EAA0B;cACxB/B,MAAM,CAACiD,IAAP,CAAY2gD,aAAZ;YACD;UACF,CAzBI;UA0BLmB,IAAI,EAAE,UAAS98C,KAAT,EAAgB;YACpBA,KAAK,CAACC,cAAN;YACA,IAAI/F,KAAK,GAAGnC,MAAM,CAACgJ,SAAP,CAAiBw8C,cAAjB,CAAgCv9C,KAAhC,CAAZ;;YACA,IAAGg7C,UAAU,KAAK7kD,SAAlB,EAA6B;cAC3B,IACE4mD,QAAQ,GAAGhlD,MAAM,CAACgJ,SAAP,CAAiBg8C,QAAjB,CAA0B/8C,KAA1B,CADb;cAAA,IAEEg9C,MAAM,GAAGjlD,MAAM,CAACgJ,SAAP,CAAiBk8C,GAAjB,CAAqBF,QAArB,CAFX;cAIA/B,UAAU,GAAGS,eAAe,GAAGuB,MAAlB,GAA2B/B,MAA3B,GAAoCC,YAAjD;YACD;;YACD,IAAGnjD,MAAM,CAACiH,GAAP,CAAWw+C,IAAX,MAAqB,CAArB,IAA0BzlD,MAAM,CAAC4J,EAAP,CAAU87C,MAAV,EAA7B,EAAiD;cAC/C,IACEN,QAAQ,GAAGplD,MAAM,CAAColD,QADpB;cAAA,IAEEC,cAAc,GAAGrlD,MAAM,CAACqlD,cAF1B;cAAA,IAGEM,cAAc,GAAG3lD,MAAM,CAACgJ,SAAP,CAAiB48C,oBAAjB,CAAsC39C,KAAtC,CAHnB;;cAKA,IAAG,CAACg7C,UAAU,CAAC74C,QAAX,CAAoB,QAApB,CAAJ,EAAmC;gBACjC,IAAG/K,QAAQ,CAAC8lD,gBAAT,IAA6BnlD,MAAM,CAAC4J,EAAP,CAAUsF,KAAV,EAAhC,EAAmD;kBACjD/M,KAAK,GAAGsD,IAAI,CAAC8Q,GAAL,CAAS8uC,cAAT,EAAyBljD,KAAzB,CAAR;kBACAwjD,cAAc,GAAGlgD,IAAI,CAAC8Q,GAAL,CAAS8uC,cAAT,EAAyBM,cAAzB,CAAjB;gBACD;;gBACDP,QAAQ,GAAGjjD,KAAX;cACD,CAND,MAMO;gBACL,IAAG9C,QAAQ,CAAC8lD,gBAAT,IAA6BnlD,MAAM,CAAC4J,EAAP,CAAUsF,KAAV,EAAhC,EAAmD;kBACjD/M,KAAK,GAAGsD,IAAI,CAAC+Q,GAAL,CAAS4uC,QAAT,EAAmBjjD,KAAnB,CAAR;kBACAwjD,cAAc,GAAGlgD,IAAI,CAAC+Q,GAAL,CAAS4uC,QAAT,EAAmBO,cAAnB,CAAjB;gBACD;;gBACDN,cAAc,GAAGljD,KAAjB;cACD;;cACDA,KAAK,GAAGsD,IAAI,CAACogD,GAAL,CAAST,QAAQ,IAAIC,cAAc,IAAI,CAAtB,CAAjB,CAAR;cACArlD,MAAM,CAAC2kB,MAAP,CAAcb,QAAd,CAAuB6hC,cAAvB;cACAtmD,QAAQ,CAACymD,MAAT,CAAgB1mD,IAAhB,CAAqBS,OAArB,EAA8BsC,KAA9B,EAAqCijD,QAArC,EAA+CC,cAA/C;YACD,CAtBD,MAsBO;cACLrlD,MAAM,CAAC2kB,MAAP,CAAcxiB,KAAd,CAAoBA,KAApB,EAA2B,UAASA,KAAT,EAAgBijD,QAAhB,EAA0BC,cAA1B,EAA0C;gBACnEhmD,QAAQ,CAACymD,MAAT,CAAgB1mD,IAAhB,CAAqBS,OAArB,EAA8BsC,KAA9B,EAAqCijD,QAArC,EAA+CC,cAA/C;cACD,CAFD;YAGD;UACF,CA/DI;UAgELt4B,EAAE,EAAE,UAAS9kB,KAAT,EAAgB;YAClBA,KAAK,CAACC,cAAN;YACA,IAAI/F,KAAK,GAAGnC,MAAM,CAACgJ,SAAP,CAAiBw8C,cAAjB,CAAgCv9C,KAAhC,CAAZ;YACAjI,MAAM,CAACoH,GAAP,CAAWjF,KAAX,CAAiBA,KAAjB;YACAnC,MAAM,CAACud,MAAP,CAAcqmC,aAAd;;YACA,IAAIH,aAAa,KAAKrlD,SAAtB,EAAiC;cAC/BqlD,aAAa,GAAGrlD,SAAhB;YACD;UACF,CAxEI;UAyELkK,OAAO,EAAE,UAASL,KAAT,EAAgBqL,KAAhB,EAAuB;YAC9B,IAAGjU,QAAQ,CAAC8lD,gBAAT,IAA6BnlD,MAAM,CAAC4J,EAAP,CAAUsF,KAAV,EAA7B,IAAkDlP,MAAM,CAAColD,QAAP,KAAoBplD,MAAM,CAACqlD,cAAhF,EAAgG;cAC9FpC,UAAU,GAAG7kD,SAAb;YACD;;YACD,IAAG4B,MAAM,CAAC4J,EAAP,CAAUob,OAAV,EAAH,EAAwB;cACtB/mB,CAAC,CAACE,QAAD,CAAD,CAAYkU,OAAZ,CAAoBpK,KAApB;YACD;;YACD,IAAGqL,KAAK,IAAItT,MAAM,CAAC4J,EAAP,CAAUob,OAAV,EAAZ,EAAiC;cAC/B,IAAIygC,IAAI,GAAGzlD,MAAM,CAACgJ,SAAP,CAAiB+8C,WAAjB,CAA6B99C,KAA7B,CAAX;;cACA,IAAGw9C,IAAI,IAAI9C,OAAX,EAAoB;gBAClB16C,KAAK,CAACC,cAAN;;gBACA,QAAOu9C,IAAP;kBACE,KAAKhD,WAAL;oBACEziD,MAAM,CAACgmD,QAAP;oBACA;;kBACF,KAAKtD,QAAL;oBACE1iD,MAAM,CAACgmD,QAAP,CAAgBhmD,MAAM,CAACiH,GAAP,CAAWg/C,UAAX,EAAhB;oBACA;;kBACF,KAAKrD,eAAL;oBACE5iD,MAAM,CAACkmD,QAAP;oBACA;;kBACF,KAAKrD,YAAL;oBACE7iD,MAAM,CAACkmD,QAAP,CAAgBlmD,MAAM,CAACiH,GAAP,CAAWg/C,UAAX,EAAhB;oBACA;gBAZJ;cAcD;YACF;UACF,CApGI;UAqGLnB,aAAa,EAAE,UAAS78C,KAAT,EAAgB;YAC7B,IAAG,CAACjI,MAAM,CAAC4J,EAAP,CAAUob,OAAV,EAAD,IAAwBhlB,MAAM,CAAC4J,EAAP,CAAUu8C,KAAV,EAAxB,IAA6CnmD,MAAM,CAACgJ,SAAP,CAAiB+8C,WAAjB,CAA6B99C,KAA7B,KAAuC06C,OAAvF,EAAgG;cAC9F16C,KAAK,CAACC,cAAN;cACAlI,MAAM,CAACiI,KAAP,CAAaK,OAAb,CAAqBL,KAArB,EAA4B,IAA5B;cACArI,OAAO,CAAC2T,KAAR;YACD;UACF,CA3GI;UA4GLu9B,MAAM,EAAE,UAASsV,MAAT,EAAiB;YACvB;YACA,IAAI5C,QAAQ,IAAIxjD,MAAM,CAACiH,GAAP,CAAWu8C,QAAX,EAAhB,EAAuC;cACrCxjD,MAAM,CAACqd,KAAP,CAAakmB,MAAb;cACAigB,QAAQ,GAAGxjD,MAAM,CAACiH,GAAP,CAAWu8C,QAAX,EAAX;YACD;UACF;QAlHI,CA5NA;QAiVP6C,MAAM,EAAE,YAAW;UACjBrmD,MAAM,CAACI,OAAP,CAAe,yCAAf;;UACA,IAAGJ,MAAM,CAAC4J,EAAP,CAAUsF,KAAV,EAAH,EAAsB;YACpBlP,MAAM,CAAC2kB,MAAP,CAAcb,QAAd,CAAuB9jB,MAAM,CAACqlD,cAA9B,EAA8ClC,YAA9C;UACD;;UACDnjD,MAAM,CAAC2kB,MAAP,CAAcb,QAAd,CAAuB9jB,MAAM,CAAColD,QAA9B,EAAwClC,MAAxC;UACAljD,MAAM,CAACqd,KAAP,CAAakmB,MAAb;QACD,CAxVM;QAyVPyiB,QAAQ,EAAE,UAASC,UAAT,EAAqB;UAC7B,IACEA,UAAU,GAAGA,UAAU,IAAI7nD,SAAd,GAA0B6nD,UAA1B,GAAuC,CADtD;UAAA,IAEER,IAAI,GAAGzlD,MAAM,CAACiH,GAAP,CAAWw+C,IAAX,EAFT;UAAA,IAGEa,SAAS,GAAGtmD,MAAM,CAACiH,GAAP,CAAWs+C,iBAAX,EAHd;UAKAvlD,MAAM,CAACI,OAAP,CAAe,eAAf;;UACA,IAAGqlD,IAAI,GAAG,CAAV,EAAa;YACXzlD,MAAM,CAACoH,GAAP,CAAWjF,KAAX,CAAiBmkD,SAAS,GAAGb,IAAI,GAAGQ,UAApC;UACD,CAFD,MAEO,IAAIR,IAAI,IAAI,CAAZ,EAAc;YACnB,IACE5H,SAAS,GAAG79C,MAAM,CAACiH,GAAP,CAAW42C,SAAX,EADd;YAAA,IAEEpX,QAAQ,GAAG6f,SAAS,GAAIL,UAAU,GAACpI,SAFrC;YAIA79C,MAAM,CAACoH,GAAP,CAAWjF,KAAX,CAAiBsD,IAAI,CAACq6C,KAAL,CAAWrZ,QAAQ,GAAGoX,SAAtB,IAAmCA,SAApD;UACD;QACF,CAzWM;QA2WPqI,QAAQ,EAAE,UAASD,UAAT,EAAqB;UAC7B,IACEA,UAAU,GAAGA,UAAU,IAAI7nD,SAAd,GAA0B6nD,UAA1B,GAAuC,CADtD;UAAA,IAEER,IAAI,GAAGzlD,MAAM,CAACiH,GAAP,CAAWw+C,IAAX,EAFT;UAAA,IAGEa,SAAS,GAAGtmD,MAAM,CAACiH,GAAP,CAAWs+C,iBAAX,EAHd;UAKAvlD,MAAM,CAACI,OAAP,CAAe,mBAAf;;UACA,IAAGqlD,IAAI,GAAG,CAAV,EAAa;YACXzlD,MAAM,CAACoH,GAAP,CAAWjF,KAAX,CAAiBmkD,SAAS,GAAGb,IAAI,GAAGQ,UAApC;UACD,CAFD,MAEO,IAAIR,IAAI,IAAI,CAAZ,EAAe;YACpB,IACE5H,SAAS,GAAG79C,MAAM,CAACiH,GAAP,CAAW42C,SAAX,EADd;YAAA,IAEEpX,QAAQ,GAAG6f,SAAS,GAAIL,UAAU,GAACpI,SAFrC;YAIA79C,MAAM,CAACoH,GAAP,CAAWjF,KAAX,CAAiBsD,IAAI,CAACq6C,KAAL,CAAWrZ,QAAQ,GAAGoX,SAAtB,IAAmCA,SAApD;UACD;QACF,CA3XM;QA6XPj0C,EAAE,EAAE;UACFsF,KAAK,EAAE,YAAW;YAChB,OAAOtP,OAAO,CAACwK,QAAR,CAAiB/K,QAAQ,CAACsH,SAAT,CAAmBuI,KAApC,CAAP;UACD,CAHC;UAIFi3C,KAAK,EAAE,YAAW;YAChB,OAAOnD,OAAP;UACD,CANC;UAOFh+B,OAAO,EAAE,YAAW;YAClB,OAAOplB,OAAO,CAACgK,EAAR,CAAW,QAAX,CAAP;UACD,CATC;UAUF7H,QAAQ,EAAE,YAAW;YACnB,OAAOnC,OAAO,CAACwK,QAAR,CAAiB/K,QAAQ,CAACsH,SAAT,CAAmB5E,QAApC,CAAP;UACD,CAZC;UAaF8hD,OAAO,EAAE,YAAW;YAClB,OAAOjkD,OAAO,CAACwK,QAAR,CAAiB/K,QAAQ,CAACsH,SAAT,CAAmBk9C,OAApC,CAAP;UACD,CAfC;UAgBF0C,QAAQ,EAAE,YAAW;YACnB,OAAO3mD,OAAO,CAACwK,QAAR,CAAiB/K,QAAQ,CAACsH,SAAT,CAAmB4/C,QAApC,CAAP;UACD,CAlBC;UAmBFC,QAAQ,EAAE,YAAW;YACnB,OAAO5mD,OAAO,CAACwK,QAAR,CAAiB/K,QAAQ,CAACsH,SAAT,CAAmB6/C,QAApC,CAAP;UACD,CArBC;UAsBFd,MAAM,EAAE,YAAW;YACjB,OAAOrmD,QAAQ,CAACqmD,MAAT,IAAmB9lD,OAAO,CAACwK,QAAR,CAAiB/K,QAAQ,CAACsH,SAAT,CAAmB++C,MAApC,CAA1B;UACD,CAxBC;UAyBF7tB,KAAK,EAAE,YAAW;YAChB,OAAO/a,OAAP;UACD;QA3BC,CA7XG;QA2ZP7V,GAAG,EAAE;UACHw/C,WAAW,EAAE,YAAW;YACtB,IAAIzmD,MAAM,CAAC4J,EAAP,CAAU48C,QAAV,EAAJ,EAA0B;cACxB,OAAOpD,MAAM,CAAC19B,MAAP,GAAgBkgB,GAAvB;YACD,CAFD,MAEO;cACL,OAAOwd,MAAM,CAAC19B,MAAP,GAAgBC,IAAvB;YACD;UACF,CAPE;UAQH+gC,WAAW,EAAE,YAAW;YACtB,IAAI1mD,MAAM,CAAC4J,EAAP,CAAU48C,QAAV,EAAJ,EAA0B;cACxB,OAAOpD,MAAM,CAAC/yB,MAAP,EAAP;YACD,CAFD,MAEO;cACL,OAAO+yB,MAAM,CAAC99B,KAAP,EAAP;YACD;UACF,CAdE;UAeHqhC,SAAS,EAAE,YAAW;YACpB,IAAI3mD,MAAM,CAAC4J,EAAP,CAAU48C,QAAV,EAAJ,EAA0B;cACxB,OAAOpD,MAAM,CAACt/B,QAAP,GAAkB8hB,GAAzB;YACD,CAFD,MAEO;cACL,OAAOwd,MAAM,CAACt/B,QAAP,GAAkB6B,IAAzB;YACD;UACF,CArBE;UAsBHihC,aAAa,EAAE,YAAW;YACxB,OAAO5mD,MAAM,CAAC4J,EAAP,CAAU28C,QAAV,KAAuBvmD,MAAM,CAACiH,GAAP,CAAW0/C,SAAX,KAAyB3mD,MAAM,CAACiH,GAAP,CAAWy/C,WAAX,EAAhD,GAA2E1mD,MAAM,CAACiH,GAAP,CAAW0/C,SAAX,EAAlF;UACD,CAxBE;UAyBHE,WAAW,EAAE,YAAW;YACtB,OAAO7mD,MAAM,CAAC4J,EAAP,CAAU28C,QAAV,KAAuBvmD,MAAM,CAACiH,GAAP,CAAW0/C,SAAX,EAAvB,GAAgD3mD,MAAM,CAACiH,GAAP,CAAW0/C,SAAX,KAAyB3mD,MAAM,CAACiH,GAAP,CAAWy/C,WAAX,EAAhF;UACD,CA3BE;UA4BHI,gBAAgB,EAAE,YAAY;YAC5B,IAAIpM,MAAJ;;YACA,IAAI16C,MAAM,CAAC4J,EAAP,CAAU48C,QAAV,EAAJ,EAA0B;cACxB9L,MAAM,GAAG16C,MAAM,CAAC4J,EAAP,CAAU28C,QAAV,KAAuB3mD,OAAO,CAACmc,GAAR,CAAY,gBAAZ,CAAvB,GAAuDnc,OAAO,CAACmc,GAAR,CAAY,aAAZ,CAAhE;YACD,CAFD,MAEO;cACL2+B,MAAM,GAAG16C,MAAM,CAAC4J,EAAP,CAAU28C,QAAV,KAAuB3mD,OAAO,CAACmc,GAAR,CAAY,eAAZ,CAAvB,GAAsDnc,OAAO,CAACmc,GAAR,CAAY,cAAZ,CAA/D;YACD;;YACD,OAAO2+B,MAAM,IAAI,KAAjB;UACD,CApCE;UAqCHqM,cAAc,EAAE,YAAY;YAC1B,IAAIrM,MAAJ;;YACA,IAAI16C,MAAM,CAAC4J,EAAP,CAAU48C,QAAV,EAAJ,EAA0B;cACxB9L,MAAM,GAAG16C,MAAM,CAAC4J,EAAP,CAAU28C,QAAV,KAAuB3mD,OAAO,CAACmc,GAAR,CAAY,aAAZ,CAAvB,GAAoDnc,OAAO,CAACmc,GAAR,CAAY,gBAAZ,CAA7D;YACD,CAFD,MAEO;cACL2+B,MAAM,GAAG16C,MAAM,CAAC4J,EAAP,CAAU28C,QAAV,KAAuB3mD,OAAO,CAACmc,GAAR,CAAY,cAAZ,CAAvB,GAAqDnc,OAAO,CAACmc,GAAR,CAAY,eAAZ,CAA9D;YACD;;YACD,OAAO2+B,MAAM,IAAI,KAAjB;UACD,CA7CE;UA8CHmD,SAAS,EAAE,YAAW;YACpB,IACEmJ,aADF;YAAA,IAEEvB,IAAI,GAAGzlD,MAAM,CAACiH,GAAP,CAAWw+C,IAAX,EAFT;;YAIA,IAAGA,IAAI,IAAI,CAAX,EAAc;cACZ,IAAIrhD,KAAK,GAAGwH,MAAM,CAAC65C,IAAD,CAAN,CAAarhD,KAAb,CAAmB,GAAnB,CAAZ;;cACA,IAAGA,KAAK,CAAC9B,MAAN,IAAgB,CAAnB,EAAsB;gBACpB0kD,aAAa,GAAG5iD,KAAK,CAAC,CAAD,CAAL,CAAS9B,MAAzB;cACD,CAFD,MAEO;gBACL0kD,aAAa,GAAG,CAAhB;cACD;YACF,CAPD,MAOO;cACLA,aAAa,GAAG3nD,QAAQ,CAAC2nD,aAAzB;YACD;;YACD,IAAInJ,SAAS,GAAGp4C,IAAI,CAACs4C,GAAL,CAAS,EAAT,EAAaiJ,aAAb,CAAhB;YACAhnD,MAAM,CAACS,KAAP,CAAa,sBAAb,EAAqCo9C,SAArC;YACA,OAAOA,SAAP;UACD,CAhEE;UAiEHtnC,GAAG,EAAE,YAAW;YACd,OAAOlX,QAAQ,CAACkX,GAAhB;UACD,CAnEE;UAoEHC,GAAG,EAAE,YAAW;YACd,IAAIivC,IAAI,GAAGzlD,MAAM,CAACiH,GAAP,CAAWw+C,IAAX,EAAX;YAAA,IACIlvC,GAAG,GAAGvW,MAAM,CAACiH,GAAP,CAAWsP,GAAX,EADV;YAAA,IAEI0wC,QAAQ,GAAGxB,IAAI,KAAK,CAAT,GAAa,CAAb,GAAiBhgD,IAAI,CAAC+hB,KAAL,CAAW,CAACnoB,QAAQ,CAACmX,GAAT,GAAeD,GAAhB,IAAuBkvC,IAAlC,CAFhC;YAAA,IAGIyB,SAAS,GAAGzB,IAAI,KAAK,CAAT,GAAa,CAAb,GAAiB,CAACpmD,QAAQ,CAACmX,GAAT,GAAeD,GAAhB,IAAuBkvC,IAHxD;YAIA,OAAOyB,SAAS,KAAK,CAAd,GAAkB7nD,QAAQ,CAACmX,GAA3B,GAAiCD,GAAG,GAAG0wC,QAAQ,GAAGxB,IAAzD;UACD,CA1EE;UA2EHA,IAAI,EAAE,YAAW;YACf,OAAOpmD,QAAQ,CAAComD,IAAhB;UACD,CA7EE;UA8EHjB,SAAS,EAAE,YAAW;YACpB,IAAIriD,KAAK,GAAGsD,IAAI,CAACq6C,KAAL,CAAW,CAAC9/C,MAAM,CAACiH,GAAP,CAAWuP,GAAX,KAAmBxW,MAAM,CAACiH,GAAP,CAAWsP,GAAX,EAApB,KAAyCvW,MAAM,CAACiH,GAAP,CAAWw+C,IAAX,OAAsB,CAAtB,GAA0B,CAA1B,GAA8BzlD,MAAM,CAACiH,GAAP,CAAWw+C,IAAX,EAAvE,CAAX,CAAZ;YACAzlD,MAAM,CAACS,KAAP,CAAa,qCAAqC0B,KAArC,GAA6C,SAA1D;YACA,OAAOA,KAAP;UACD,CAlFE;UAmFHglD,SAAS,EAAE,YAAW;YACpB,OAAO9nD,QAAQ,CAAC8nD,SAAhB;UACD,CArFE;UAsFH31C,KAAK,EAAE,UAASrP,KAAT,EAAgB;YACrB,IAAG4gD,cAAH,EAAmB;cACjB,OAAOA,cAAc,CAAC5gD,KAAD,CAArB;YACD;;YAED,QAAQ9C,QAAQ,CAAC8nD,SAAjB;cACE,KAAK9nD,QAAQ,CAAC+nD,UAAT,CAAoBzyC,MAAzB;gBACE,OAAOlP,IAAI,CAACq6C,KAAL,CAAW,CAAE39C,KAAK,IAAInC,MAAM,CAACiH,GAAP,CAAWw+C,IAAX,OAAsB,CAAtB,GAA0B,CAA1B,GAA8BzlD,MAAM,CAACiH,GAAP,CAAWw+C,IAAX,EAAlC,CAAN,GAA8DzlD,MAAM,CAACiH,GAAP,CAAWsP,GAAX,EAA/D,IAAmFsnC,SAA9F,IAA4GA,SAAnH;;cACF,KAAKx+C,QAAQ,CAAC+nD,UAAT,CAAoBthB,MAAzB;gBACE,OAAO0c,QAAQ,CAAErgD,KAAD,GAAU,EAAX,CAAf;;cACF;gBACE,OAAOA,KAAP;YANJ;UAQD,CAnGE;UAoGHA,KAAK,EAAE,YAAW;YAChB,OAAOA,KAAP;UACD,CAtGE;UAuGHojD,iBAAiB,EAAE,YAAW;YAC5B,OAAOtC,UAAU,KAAK7kD,SAAf,IAA4B6kD,UAAU,CAAC74C,QAAX,CAAoB,QAApB,CAA5B,GAA4DpK,MAAM,CAACqlD,cAAnE,GAAoFrlD,MAAM,CAAColD,QAAlG;UACD,CAzGE;UA0GHiC,UAAU,EAAE,UAASz6C,KAAT,EAAgB;YAC1B,QAAOA,KAAP;cACE,KAAK,QAAL;gBACE,IAAG5M,MAAM,CAAC4J,EAAP,CAAUsF,KAAV,EAAH,EAAsB;kBACpB,OAAOlP,MAAM,CAACqlD,cAAd;gBACD,CAFD,MAGK;kBACHrlD,MAAM,CAACP,KAAP,CAAaA,KAAK,CAAC6nD,QAAnB;kBACA;gBACD;;cACH,KAAK,OAAL;cACA;gBACE,OAAOtnD,MAAM,CAAColD,QAAd;YAXJ;UAaD,CAxHE;UAyHHa,UAAU,EAAE,YAAW;YACrB,OAAO5mD,QAAQ,CAACkoD,cAAhB;UACD,CA3HE;UA4HHC,aAAa,EAAE,UAAS56C,KAAT,EAAgB;YAC7B,QAAOA,KAAP;cACE,KAAK,QAAL;gBACE,IAAG5M,MAAM,CAAC4J,EAAP,CAAUsF,KAAV,EAAH,EAAsB;kBACpB,OAAOq0C,SAAP;gBACD,CAFD,MAGK;kBACHvjD,MAAM,CAACP,KAAP,CAAaA,KAAK,CAAC6nD,QAAnB;kBACA;gBACD;;cACH,KAAK,OAAL;cACA;gBACE,OAAOxjC,QAAP;YAXJ;UAaD,CA1IE;UA2IH0/B,QAAQ,EAAE,YAAW;YACnB,IAAIA,QAAQ,GAAG,CAAf;;YAEA,IAAInkD,QAAQ,CAACulD,gBAAb,EAAgC;cAC9B,IACEJ,SAAS,GAAGxkD,MAAM,CAACiH,GAAP,CAAWu9C,SAAX,EADd;cAAA,IAEEkC,WAAW,GAAG1mD,MAAM,CAACiH,GAAP,CAAWy/C,WAAX,EAFhB;cAAA,IAGEe,UAAU,GAAG,CAHf,CAD8B,CAO9B;cACA;cACA;;cACA,IAAGf,WAAW,GAAC,CAAf,EAAiB;gBACf,OAAQA,WAAW,GAAGlC,SAAf,GAA4BiD,UAA5B,GAAyCpoD,QAAQ,CAACqoD,aAAzD,EAAwE;kBACtE,IAAI,EAAElD,SAAS,GAAGiD,UAAd,CAAJ,EAAgC;oBAC9BjE,QAAQ,GAAGiE,UAAX;kBACD;;kBACDA,UAAU,IAAI,CAAd;gBACD;cACF;YACF;;YACD,OAAOjE,QAAP;UACD;QAlKE,CA3ZE;QAgkBPx6C,SAAS,EAAE;UACTk8C,GAAG,EAAE,UAASyC,OAAT,EAAkB;YACrB,OAAO3nD,MAAM,CAAC4J,EAAP,CAAU28C,QAAV,KAELvmD,MAAM,CAACiH,GAAP,CAAW2/C,aAAX,KAA6Be,OAA7B,GAAuC3nD,MAAM,CAACiH,GAAP,CAAWw/C,WAAX,EAFlC,GAILkB,OAAO,GAAG3nD,MAAM,CAACiH,GAAP,CAAWw/C,WAAX,EAAV,GAAqCzmD,MAAM,CAACiH,GAAP,CAAW2/C,aAAX,EAJvC;UAMD,CARQ;UASTtB,YAAY,EAAE,UAASN,QAAT,EAAmB;YAC/B,IACE4C,QAAQ,GAAGrH,UAAU,CAACvgD,MAAM,CAACgJ,SAAP,CAAiB4+C,QAAjB,CAA0B1E,MAA1B,CAAD,CADvB;YAAA,IAEE2E,UAAU,GAAGpiD,IAAI,CAACogD,GAAL,CAASb,QAAQ,GAAG4C,QAApB,CAFf;YAAA,IAGEE,cAAc,GAAGvH,UAAU,CAACvgD,MAAM,CAACgJ,SAAP,CAAiB4+C,QAAjB,CAA0BzE,YAA1B,CAAD,CAH7B;YAAA,IAIE4E,gBAAgB,GAAGtiD,IAAI,CAACogD,GAAL,CAASb,QAAQ,GAAG8C,cAApB,CAJrB;;YAMA,IAAGD,UAAU,KAAKE,gBAAf,IAAmC/nD,MAAM,CAACiH,GAAP,CAAWogD,UAAX,OAA4BrnD,MAAM,CAACiH,GAAP,CAAWsP,GAAX,EAAlE,EAAoF;cAClF,OAAO4sC,YAAP;YACD;;YACD,OAAO0E,UAAU,IAAIE,gBAAd,GAAiC7E,MAAjC,GAA0CC,YAAjD;UACD,CApBQ;UAqBT6E,eAAe,EAAE,UAAShD,QAAT,EAAmB;YAClC,IACE4C,QAAQ,GAAGrH,UAAU,CAACvgD,MAAM,CAACgJ,SAAP,CAAiB4+C,QAAjB,CAA0B1E,MAA1B,CAAD,CADvB;YAAA,IAEE2E,UAAU,GAAGpiD,IAAI,CAACogD,GAAL,CAASb,QAAQ,GAAG4C,QAApB,CAFf;YAAA,IAGEE,cAAc,GAAGvH,UAAU,CAACvgD,MAAM,CAACgJ,SAAP,CAAiB4+C,QAAjB,CAA0BzE,YAA1B,CAAD,CAH7B;YAAA,IAIE4E,gBAAgB,GAAGtiD,IAAI,CAACogD,GAAL,CAASb,QAAQ,GAAG8C,cAApB,CAJrB;YAMA,OAAOD,UAAU,IAAIE,gBAAd,GAAiCH,QAAjC,GAA4CE,cAAnD;UACD,CA7BQ;UA8BTF,QAAQ,EAAE,UAASx+C,QAAT,EAAmB;YAC3B,IAAI87C,GAAG,GACLllD,MAAM,CAAC4J,EAAP,CAAU48C,QAAV,KAEAxmD,MAAM,CAAC4J,EAAP,CAAU28C,QAAV,KAAuBn9C,QAAQ,CAAC2S,GAAT,CAAa,QAAb,CAAvB,GAAgD3S,QAAQ,CAAC2S,GAAT,CAAa,KAAb,CAFhD,GAIA/b,MAAM,CAAC4J,EAAP,CAAU28C,QAAV,KAAuBn9C,QAAQ,CAAC2S,GAAT,CAAa,OAAb,CAAvB,GAA+C3S,QAAQ,CAAC2S,GAAT,CAAa,MAAb,CALjD;YAOA,OAAOmpC,GAAP;UACD,CAvCQ;UAwCT+C,iBAAiB,EAAE,UAAS9lD,KAAT,EAAgB;YACjC,IACEoU,GAAG,GAAGvW,MAAM,CAACiH,GAAP,CAAWsP,GAAX,EADR;YAAA,IAEEC,GAAG,GAAGxW,MAAM,CAACiH,GAAP,CAAWuP,GAAX,EAFR;YAAA,IAGErU,KAAK,GAAGA,KAAK,GAAGqU,GAAR,GAAcA,GAAd,GAAoBrU,KAAK,GAAGoU,GAAR,GAAcA,GAAd,GAAoBpU,KAHlD;YAAA,IAIEukD,WAAW,GAAG1mD,MAAM,CAACiH,GAAP,CAAWy/C,WAAX,EAJhB;YAAA,IAKE5I,KAAK,GAAG,CAAC37C,KAAK,GAAGoU,GAAT,KAAiBC,GAAG,GAAGD,GAAvB,CALV;YAAA,IAMEuN,QAAQ,GAAGre,IAAI,CAACq6C,KAAL,CAAWhC,KAAK,GAAG4I,WAAnB,CANb;YAQA1mD,MAAM,CAACI,OAAP,CAAe,0BAA0B0jB,QAA1B,GAAqC,eAArC,GAAuD3hB,KAAtE;YACA,OAAO2hB,QAAP;UACD,CAnDQ;UAoDTokC,iBAAiB,EAAE,UAASpK,KAAT,EAAgB;YACjC,IACE4I,WAAW,GAAG1mD,MAAM,CAACiH,GAAP,CAAWy/C,WAAX,EADhB;YAAA,IAEEjB,IAAI,GAAGzlD,MAAM,CAACiH,GAAP,CAAWw+C,IAAX,EAFT;YAAA,IAGE3hC,QAAQ,GAAGre,IAAI,CAACq6C,KAAL,CAAWhC,KAAK,GAAG4I,WAAnB,CAHb;YAAA,IAIEyB,WAAW,GAAI1C,IAAI,IAAI,CAAT,GAAc3hC,QAAd,GAAyBre,IAAI,CAACq6C,KAAL,CAAWh8B,QAAQ,GAAG2hC,IAAtB,IAA8BA,IAJvE;YAMA,OAAO0C,WAAP;UACD,CA5DQ;UA6DT3C,cAAc,EAAE,UAASv9C,KAAT,EAAgB;YAC9B,IACE+8C,QAAQ,GAAGhlD,MAAM,CAACgJ,SAAP,CAAiBg8C,QAAjB,CAA0B/8C,KAA1B,CADb;YAAA,IAEEg9C,MAAM,GAAGjlD,MAAM,CAACgJ,SAAP,CAAiBk8C,GAAjB,CAAqBF,QAArB,CAFX;YAAA,IAGE7iD,KAHF;;YAKA,IAAG6iD,QAAQ,GAAGhlD,MAAM,CAACiH,GAAP,CAAWw/C,WAAX,EAAd,EAAwC;cACtCtkD,KAAK,GAAGnC,MAAM,CAAC4J,EAAP,CAAU28C,QAAV,KAAuBvmD,MAAM,CAACiH,GAAP,CAAWuP,GAAX,EAAvB,GAA0CxW,MAAM,CAACiH,GAAP,CAAWsP,GAAX,EAAlD;YACD,CAFD,MAEO,IAAGyuC,QAAQ,GAAGhlD,MAAM,CAACiH,GAAP,CAAWw/C,WAAX,KAA2BzmD,MAAM,CAACiH,GAAP,CAAWy/C,WAAX,EAAzC,EAAmE;cACxEvkD,KAAK,GAAGnC,MAAM,CAAC4J,EAAP,CAAU28C,QAAV,KAAuBvmD,MAAM,CAACiH,GAAP,CAAWsP,GAAX,EAAvB,GAA0CvW,MAAM,CAACiH,GAAP,CAAWuP,GAAX,EAAlD;YACD,CAFM,MAEA;cACLrU,KAAK,GAAGnC,MAAM,CAACgJ,SAAP,CAAiB7G,KAAjB,CAAuB8iD,MAAvB,CAAR;YACD;;YACD,OAAO9iD,KAAP;UACD,CA3EQ;UA4ETyjD,oBAAoB,EAAE,UAAS39C,KAAT,EAAgB;YACpC,IACEsO,GAAG,GAAGvW,MAAM,CAACiH,GAAP,CAAWsP,GAAX,EADR;YAAA,IAEEC,GAAG,GAAGxW,MAAM,CAACiH,GAAP,CAAWuP,GAAX,EAFR;YAAA,IAGEkwC,WAAW,GAAG1mD,MAAM,CAACiH,GAAP,CAAWy/C,WAAX,EAHhB;YAAA,IAIE1B,QAAQ,GAAGhlD,MAAM,CAACgJ,SAAP,CAAiBg8C,QAAjB,CAA0B/8C,KAA1B,CAJb;YAAA,IAKEg9C,MAAM,GAAGD,QAAQ,GAAGhlD,MAAM,CAACiH,GAAP,CAAWw/C,WAAX,EALtB;YAAA,IAME3I,KANF;YAAA,IAOE37C,KAPF;YASA8iD,MAAM,GAAGA,MAAM,GAAG,CAAT,GAAa,CAAb,GAAiBA,MAAM,GAAGyB,WAAT,GAAuBA,WAAvB,GAAqCzB,MAA/D;YACAnH,KAAK,GAAGmH,MAAM,GAAGyB,WAAjB;;YACA,IAAI1mD,MAAM,CAAC4J,EAAP,CAAU28C,QAAV,EAAJ,EAA0B;cACxBzI,KAAK,GAAG,IAAIA,KAAZ;YACD;;YACD37C,KAAK,GAAG27C,KAAK,IAAItnC,GAAG,GAAGD,GAAV,CAAL,GAAsBA,GAA9B;YACA,OAAOpU,KAAP;UACD,CA7FQ;UA8FT6iD,QAAQ,EAAE,UAAS/8C,KAAT,EAAgB;YACxB,IAAGjI,MAAM,CAAC4J,EAAP,CAAUiuB,KAAV,EAAH,EAAsB;cACpB,IACEuwB,UAAU,GAAGngD,KAAK,CAACogD,cAAN,GAAuBpgD,KAAvB,GAA+BA,KAAK,CAACqgD,aADpD;cAAA,IAEEC,OAAO,GAAGH,UAAU,CAACC,cAAX,CAA0B,CAA1B,IAA+BD,UAAU,CAACC,cAA1C,GAA2DD,UAAU,CAACG,OAFlF;cAAA,IAGEC,MAAM,GAAGD,OAAO,CAAC,CAAD,CAAP,CAAWE,KAHtB;cAAA,IAIEC,MAAM,GAAGH,OAAO,CAAC,CAAD,CAAP,CAAWI,KAJtB;cAMA,OAAO3oD,MAAM,CAAC4J,EAAP,CAAU48C,QAAV,KAAuBgC,MAAvB,GAAgCE,MAAvC;YACD;;YACD,IACEE,MAAM,GAAG3gD,KAAK,CAACwgD,KAAN,IAAexgD,KAAK,CAACqgD,aAAN,CAAoBG,KAD9C;YAAA,IAEEI,MAAM,GAAG5gD,KAAK,CAAC0gD,KAAN,IAAe1gD,KAAK,CAACqgD,aAAN,CAAoBK,KAF9C;YAIA,OAAO3oD,MAAM,CAAC4J,EAAP,CAAU48C,QAAV,KAAuBoC,MAAvB,GAAgCC,MAAvC;UACD,CA7GQ;UA8GT1mD,KAAK,EAAE,UAAS2hB,QAAT,EAAmB;YACxB,IACEglC,QAAQ,GAAG9oD,MAAM,CAAC4J,EAAP,CAAU28C,QAAV,KAAuBvmD,MAAM,CAACiH,GAAP,CAAW4/C,WAAX,EAAvB,GAAkD7mD,MAAM,CAACiH,GAAP,CAAW2/C,aAAX,EAD/D;YAAA,IAEEmC,MAAM,GAAG/oD,MAAM,CAAC4J,EAAP,CAAU28C,QAAV,KAAuBvmD,MAAM,CAACiH,GAAP,CAAW2/C,aAAX,EAAvB,GAAoD5mD,MAAM,CAACiH,GAAP,CAAW4/C,WAAX,EAF/D;YAAA,IAGE/I,KAAK,GAAG,CAACh6B,QAAQ,GAAGglC,QAAZ,KAAyBC,MAAM,GAAGD,QAAlC,CAHV;YAAA,IAIE55C,KAAK,GAAGlP,MAAM,CAACiH,GAAP,CAAWuP,GAAX,KAAmBxW,MAAM,CAACiH,GAAP,CAAWsP,GAAX,EAJ7B;YAAA,IAKEkvC,IAAI,GAAGzlD,MAAM,CAACiH,GAAP,CAAWw+C,IAAX,EALT;YAAA,IAMEtjD,KAAK,GAAI27C,KAAK,GAAG5uC,KANnB;YAAA,IAOE85C,UAAU,GAAIvD,IAAI,IAAI,CAAT,GAActjD,KAAd,GAAsBsD,IAAI,CAACq6C,KAAL,CAAW39C,KAAK,GAAGsjD,IAAnB,IAA2BA,IAPhE;YASAzlD,MAAM,CAACI,OAAP,CAAe,2CAA2C0jB,QAA3C,GAAsD,OAAtD,GAAgE3hB,KAA/E;;YACA,IAAGA,KAAK,IAAI6mD,UAAZ,EAAwB;cACtBhpD,MAAM,CAACI,OAAP,CAAe,qCAAqC4oD,UAApD;YACD,CAbuB,CAcxB;YACA;;;YACAhpD,MAAM,CAACI,OAAP,CAAe,uCAAf;YACA,OAAOqF,IAAI,CAACq6C,KAAL,CAAW,CAACkJ,UAAU,GAAGhpD,MAAM,CAACiH,GAAP,CAAWsP,GAAX,EAAd,IAAkCsnC,SAA7C,IAA0DA,SAAjE;UACD,CAhIQ;UAiITkI,WAAW,EAAE,UAAS99C,KAAT,EAAgB;YAC3B,IACE0E,GAAG,GAAG1E,KAAK,CAAC2E,KADd;YAAA,IAEEqzB,SAAS,GACPjgC,MAAM,CAAC4J,EAAP,CAAU48C,QAAV,KAEAxmD,MAAM,CAAC4J,EAAP,CAAU28C,QAAV,KAAuBj3C,IAAI,CAAC2wB,SAA5B,GAAwC3wB,IAAI,CAACwwB,OAF7C,GAIAxwB,IAAI,CAAC2wB,SAPT;YAAA,IASEH,OAAO,GACL9/B,MAAM,CAAC4J,EAAP,CAAU48C,QAAV,KAEAxmD,MAAM,CAAC4J,EAAP,CAAU28C,QAAV,KAAuBj3C,IAAI,CAACwwB,OAA5B,GAAsCxwB,IAAI,CAAC2wB,SAF3C,GAIA3wB,IAAI,CAACwwB,OAdT;YAAA,IAgBElB,SAAS,GACP,CAAC5+B,MAAM,CAAC4J,EAAP,CAAU48C,QAAV,EAAD,GAEAxmD,MAAM,CAAC4J,EAAP,CAAU28C,QAAV,KAAuBj3C,IAAI,CAAC0vB,UAA5B,GAAyC1vB,IAAI,CAACsvB,SAF9C,GAIAtvB,IAAI,CAACsvB,SArBT;YAAA,IAuBEI,UAAU,GACR,CAACh/B,MAAM,CAAC4J,EAAP,CAAU48C,QAAV,EAAD,GAEAxmD,MAAM,CAAC4J,EAAP,CAAU28C,QAAV,KAAuBj3C,IAAI,CAACsvB,SAA5B,GAAwCtvB,IAAI,CAAC0vB,UAF7C,GAIA1vB,IAAI,CAAC0vB,UA5BT;;YA8BA,IAAGryB,GAAG,IAAIszB,SAAP,IAAoBtzB,GAAG,IAAIiyB,SAA9B,EAAyC;cACvC,OAAOgkB,eAAP;YACD,CAFD,MAEO,IAAGj2C,GAAG,IAAImzB,OAAP,IAAkBnzB,GAAG,IAAIqyB,UAA5B,EAAwC;cAC7C,OAAOyjB,WAAP;YACD,CAFM,MAEA,IAAI91C,GAAG,IAAI2C,IAAI,CAAC8wB,QAAhB,EAA0B;cAC/B,OAAOyiB,YAAP;YACD,CAFM,MAEA,IAAIl2C,GAAG,IAAI2C,IAAI,CAAC4wB,MAAhB,EAAwB;cAC7B,OAAOwiB,QAAP;YACD,CAFM,MAEA;cACL,OAAOC,OAAP;YACD;UACF;QA3KQ,CAhkBJ;QA8uBPsG,sBAAsB,EAAE,UAASx+C,GAAT,EAAc;UACpC,IACE8L,GAAG,GAAGvW,MAAM,CAACiH,GAAP,CAAWsP,GAAX,EADR;UAAA,IAEEC,GAAG,GAAGxW,MAAM,CAACiH,GAAP,CAAWuP,GAAX,EAFR;UAAA,IAGEyuC,MAHF;;UAKA,IAAIx6C,GAAG,IAAI8L,GAAX,EAAgB;YACd9L,GAAG,GAAG8L,GAAN;UACD,CAFD,MAEO,IAAI9L,GAAG,IAAI+L,GAAX,EAAgB;YACrB/L,GAAG,GAAG+L,GAAN;UACD;;UACDyuC,MAAM,GAAGjlD,MAAM,CAACgJ,SAAP,CAAiBi/C,iBAAjB,CAAmCx9C,GAAnC,CAAT;UACA,OAAOw6C,MAAP;QACD,CA3vBM;QA6vBP79C,GAAG,EAAE;UACHjF,KAAK,EAAE,UAASskC,QAAT,EAAmBpe,UAAnB,EAA+B;YACpCA,UAAU,GAAGA,UAAU,KAAK,KAA5B;YACA,IAAI6gC,OAAO,GAAGzF,aAAa,KAAKrlD,SAAhC;YACAqlD,aAAa,GAAGA,aAAa,KAAKrlD,SAAlB,GAA8B4B,MAAM,CAACiH,GAAP,CAAW9E,KAAX,EAA9B,GAAmDshD,aAAnE;YACAzjD,MAAM,CAAC2kB,MAAP,CAAcxiB,KAAd,CAAoBskC,QAApB,EAA8B,UAAStkC,KAAT,EAAgBijD,QAAhB,EAA0BC,cAA1B,EAA0C;cACtE,IAAI,CAAC,CAACp5B,WAAD,IAAgB5sB,QAAQ,CAACqvB,UAA1B,KAAyCrG,UAA7C,EAAwD;gBACtD,IAAIoe,QAAQ,KAAKgd,aAAjB,EAAgC;kBAC9BpkD,QAAQ,CAAC2b,QAAT,CAAkB5b,IAAlB,CAAuBS,OAAvB,EAAgCsC,KAAhC,EAAuCijD,QAAvC,EAAiDC,cAAjD;gBACD;;gBACDhmD,QAAQ,CAACymD,MAAT,CAAgB1mD,IAAhB,CAAqBS,OAArB,EAA8BsC,KAA9B,EAAqCijD,QAArC,EAA+CC,cAA/C;cACD;;cACD,IAAI6D,OAAJ,EAAa;gBACXzF,aAAa,GAAGrlD,SAAhB;cACD;YACF,CAVD;UAWD,CAhBE;UAiBH+qD,UAAU,EAAE,UAAS71C,KAAT,EAAgB+C,MAAhB,EAAwBgS,UAAxB,EAAoC;YAC9CA,UAAU,GAAGA,UAAU,KAAK,KAA5B;;YACA,IAAGroB,MAAM,CAAC4J,EAAP,CAAUsF,KAAV,EAAH,EAAsB;cACpB,IACEqH,GAAG,GAAGvW,MAAM,CAACiH,GAAP,CAAWsP,GAAX,EADR;cAAA,IAEEC,GAAG,GAAGxW,MAAM,CAACiH,GAAP,CAAWuP,GAAX,EAFR;cAAA,IAGE0yC,OAAO,GAAGzF,aAAa,KAAKrlD,SAH9B;cAKAqlD,aAAa,GAAGA,aAAa,KAAKrlD,SAAlB,GAA8B4B,MAAM,CAACiH,GAAP,CAAW9E,KAAX,EAA9B,GAAmDshD,aAAnE;;cACA,IAAInwC,KAAK,IAAIiD,GAAb,EAAkB;gBAChBjD,KAAK,GAAGiD,GAAR;cACD,CAFD,MAEO,IAAGjD,KAAK,IAAIkD,GAAZ,EAAgB;gBACrBlD,KAAK,GAAGkD,GAAR;cACD;;cACD,IAAIH,MAAM,IAAIE,GAAd,EAAmB;gBACjBF,MAAM,GAAGE,GAAT;cACD,CAFD,MAEO,IAAGF,MAAM,IAAIG,GAAb,EAAiB;gBACtBH,MAAM,GAAGG,GAAT;cACD;;cACDxW,MAAM,CAAColD,QAAP,GAAkB9xC,KAAlB;cACAtT,MAAM,CAACqlD,cAAP,GAAwBhvC,MAAxB;cACAlU,KAAK,GAAGsD,IAAI,CAACogD,GAAL,CAAS7lD,MAAM,CAAColD,QAAP,GAAkBplD,MAAM,CAACqlD,cAAlC,CAAR;cACArlD,MAAM,CAAC2kB,MAAP,CAAcb,QAAd,CAAuB9jB,MAAM,CAAColD,QAA9B,EAAwClC,MAAxC;cACAljD,MAAM,CAAC2kB,MAAP,CAAcb,QAAd,CAAuB9jB,MAAM,CAACqlD,cAA9B,EAA8ClC,YAA9C;;cACA,IAAI,CAAC,CAACl3B,WAAD,IAAgB5sB,QAAQ,CAACqvB,UAA1B,KAAyCrG,UAA7C,EAAyD;gBACvD,IAAIlmB,KAAK,KAAKshD,aAAd,EAA6B;kBAC3BpkD,QAAQ,CAAC2b,QAAT,CAAkB5b,IAAlB,CAAuBS,OAAvB,EAAgCsC,KAAhC,EAAuCnC,MAAM,CAAColD,QAA9C,EAAwDplD,MAAM,CAACqlD,cAA/D;gBACD;;gBACDhmD,QAAQ,CAACymD,MAAT,CAAgB1mD,IAAhB,CAAqBS,OAArB,EAA8BsC,KAA9B,EAAqCnC,MAAM,CAAColD,QAA5C,EAAsDplD,MAAM,CAACqlD,cAA7D;cACD;;cACD,IAAI6D,OAAJ,EAAa;gBACXzF,aAAa,GAAGrlD,SAAhB;cACD;YACF,CA/BD,MA+BO;cACL4B,MAAM,CAACP,KAAP,CAAaA,KAAK,CAAC6nD,QAAnB;YACD;UACF,CArDE;UAsDHxjC,QAAQ,EAAE,UAASA,QAAT,EAAmBlX,KAAnB,EAA0B;YAClC,IAAIw4C,QAAQ,GAAGplD,MAAM,CAACgJ,SAAP,CAAiB7G,KAAjB,CAAuB2hB,QAAvB,CAAf;;YACA,QAAQlX,KAAR;cACE,KAAK,QAAL;gBACE5M,MAAM,CAACqlD,cAAP,GAAwBD,QAAxB;gBACAplD,MAAM,CAAC2kB,MAAP,CAAcb,QAAd,CAAuBshC,QAAvB,EAAiCjC,YAAjC;gBACA;;cACF;gBACEnjD,MAAM,CAAColD,QAAP,GAAkBA,QAAlB;gBACAplD,MAAM,CAAC2kB,MAAP,CAAcb,QAAd,CAAuBshC,QAAvB,EAAiClC,MAAjC;YAPJ;;YASA/gD,KAAK,GAAGsD,IAAI,CAACogD,GAAL,CAAS7lD,MAAM,CAAColD,QAAP,IAAmBplD,MAAM,CAACqlD,cAAP,IAAyB,CAA5C,CAAT,CAAR;YACArlD,MAAM,CAACoH,GAAP,CAAWjF,KAAX,CAAiBA,KAAjB;UACD;QAnEE,CA7vBE;QAm0BPwiB,MAAM,EAAE;UACNxiB,KAAK,EAAE,UAASskC,QAAT,EAAmBplC,QAAnB,EAA6B;YAClC,IACEkV,GAAG,GAAGvW,MAAM,CAACiH,GAAP,CAAWsP,GAAX,EADR;YAAA,IAEEC,GAAG,GAAGxW,MAAM,CAACiH,GAAP,CAAWuP,GAAX,EAFR;;YAIA,IAAIiwB,QAAQ,IAAIlwB,GAAhB,EAAqB;cACnBkwB,QAAQ,GAAGlwB,GAAX;YACD,CAFD,MAEO,IAAGkwB,QAAQ,IAAIjwB,GAAf,EAAmB;cACxBiwB,QAAQ,GAAGjwB,GAAX;YACD;;YACD,IAAG,CAACxW,MAAM,CAAC4J,EAAP,CAAUsF,KAAV,EAAJ,EAAuB;cACrB/M,KAAK,GAAGskC,QAAR;cACAzmC,MAAM,CAAColD,QAAP,GAAkBjjD,KAAlB;YACD,CAHD,MAGO;cACL,IAAG8gD,UAAU,KAAK7kD,SAAlB,EAA6B;gBAC3B6kD,UAAU,GAAGxc,QAAQ,IAAIzmC,MAAM,CAACiH,GAAP,CAAWs+C,iBAAX,EAAZ,GAA6CrC,MAA7C,GAAsDC,YAAnE;cACD;;cACD,IAAG,CAACF,UAAU,CAAC74C,QAAX,CAAoB,QAApB,CAAJ,EAAmC;gBACjC,IAAG/K,QAAQ,CAAC8lD,gBAAT,IAA6BnlD,MAAM,CAAC4J,EAAP,CAAUsF,KAAV,EAAhC,EAAmD;kBACjDu3B,QAAQ,GAAGhhC,IAAI,CAAC8Q,GAAL,CAASvW,MAAM,CAACqlD,cAAhB,EAAgC5e,QAAhC,CAAX;gBACD;;gBACDzmC,MAAM,CAAColD,QAAP,GAAkB3e,QAAlB;cACD,CALD,MAKO;gBACL,IAAGpnC,QAAQ,CAAC8lD,gBAAT,IAA6BnlD,MAAM,CAAC4J,EAAP,CAAUsF,KAAV,EAAhC,EAAmD;kBACjDu3B,QAAQ,GAAGhhC,IAAI,CAAC+Q,GAAL,CAASxW,MAAM,CAAColD,QAAhB,EAA0B3e,QAA1B,CAAX;gBACD;;gBACDzmC,MAAM,CAACqlD,cAAP,GAAwB5e,QAAxB;cACD;;cACDtkC,KAAK,GAAGsD,IAAI,CAACogD,GAAL,CAAS7lD,MAAM,CAAColD,QAAP,GAAkBplD,MAAM,CAACqlD,cAAlC,CAAR;YACD;;YACDrlD,MAAM,CAAC2kB,MAAP,CAAcb,QAAd,CAAuB2iB,QAAvB;YACAzmC,MAAM,CAACS,KAAP,CAAa,6BAA6B0B,KAA1C;;YACA,IAAG,OAAOd,QAAP,KAAoB,UAAvB,EAAmC;cACjCA,QAAQ,CAACc,KAAD,EAAQnC,MAAM,CAAColD,QAAf,EAAyBplD,MAAM,CAACqlD,cAAhC,CAAR;YACD;UACF,CApCK;UAqCNvhC,QAAQ,EAAE,UAAS2iB,QAAT,EAAmBr9B,QAAnB,EAA6B;YACrC,IACE67C,MAAM,GAAGjlD,MAAM,CAACipD,sBAAP,CAA8BxiB,QAA9B,CADX;YAAA,IAEE2iB,YAAY,GAAGhgD,QAAQ,IAAIhL,SAAZ,GAAwBgL,QAAxB,GAAmC65C,UAFpD;YAAA,IAGEmC,QAAQ,GAAGplD,MAAM,CAAColD,QAAP,IAAmBplD,MAAM,CAACiH,GAAP,CAAWsP,GAAX,EAHhC;YAAA,IAIE8uC,cAAc,GAAGrlD,MAAM,CAACqlD,cAAP,IAAyBrlD,MAAM,CAACiH,GAAP,CAAWsP,GAAX,EAJ5C;;YAMA,IAAGvW,MAAM,CAAC4J,EAAP,CAAUsF,KAAV,EAAH,EAAsB;cACpB,IAAG,CAACk6C,YAAY,CAACh/C,QAAb,CAAsB,QAAtB,CAAJ,EAAqC;gBACnC0Z,QAAQ,GAAGmhC,MAAX;gBACAG,QAAQ,GAAG3e,QAAX;cACD,CAHD,MAGO;gBACL8c,SAAS,GAAG0B,MAAZ;gBACAI,cAAc,GAAG5e,QAAjB;cACD;YACF,CARD,MAQO;cACL3iB,QAAQ,GAAGmhC,MAAX;cACAG,QAAQ,GAAG3e,QAAX;YACD;;YACD,IACE4iB,aADF;YAAA,IAEEC,aAFF;YAAA,IAGE/yC,GAAG,GAAGvW,MAAM,CAACiH,GAAP,CAAWsP,GAAX,EAHR;YAAA,IAIEC,GAAG,GAAGxW,MAAM,CAACiH,GAAP,CAAWuP,GAAX,EAJR;YAAA,IAKE+yC,eAAe,GAAG,OAAO9iB,QAAQ,GAAGlwB,GAAlB,KAA0BC,GAAG,GAAGD,GAAhC,CALpB;YAAA,IAMEizC,oBAAoB,GAAG,OAAO/jD,IAAI,CAAC8Q,GAAL,CAAS6uC,QAAT,EAAmBC,cAAnB,IAAqC9uC,GAA5C,KAAoDC,GAAG,GAAGD,GAA1D,CANzB;YAAA,IAOEkzC,kBAAkB,GAAG,OAAO,IAAI,CAAChkD,IAAI,CAAC+Q,GAAL,CAAS4uC,QAAT,EAAmBC,cAAnB,IAAqC9uC,GAAtC,KAA8CC,GAAG,GAAGD,GAApD,CAAX,CAPvB;;YASA,IAAIvW,MAAM,CAAC4J,EAAP,CAAU48C,QAAV,EAAJ,EAA0B;cACxB,IAAIxmD,MAAM,CAAC4J,EAAP,CAAU28C,QAAV,EAAJ,EAA0B;gBACxB+C,aAAa,GAAG;kBAACrR,MAAM,EAAE,UAAUsR,eAAV,GAA4B,MAA5B,GAAqC7jC,MAArC,GAA8C,KAAvD;kBAA8DkgB,GAAG,EAAE;gBAAnE,CAAhB;gBACAyjB,aAAa,GAAG;kBAACpR,MAAM,EAAEuR,oBAAoB,GAAG,GAAhC;kBAAqC5jB,GAAG,EAAE6jB,kBAAkB,GAAG;gBAA/D,CAAhB;cACD,CAHD,MAIK;gBACHH,aAAa,GAAG;kBAAC1jB,GAAG,EAAE,UAAU2jB,eAAV,GAA4B,MAA5B,GAAqC7jC,MAArC,GAA8C,KAApD;kBAA2DuyB,MAAM,EAAE;gBAAnE,CAAhB;gBACAoR,aAAa,GAAG;kBAACzjB,GAAG,EAAE4jB,oBAAoB,GAAG,GAA7B;kBAAkCvR,MAAM,EAAEwR,kBAAkB,GAAG;gBAA/D,CAAhB;cACD;YACF,CATD,MASO;cACL,IAAIzpD,MAAM,CAAC4J,EAAP,CAAU28C,QAAV,EAAJ,EAA0B;gBACxB+C,aAAa,GAAG;kBAACt8B,KAAK,EAAE,UAAUu8B,eAAV,GAA4B,MAA5B,GAAqC7jC,MAArC,GAA8C,KAAtD;kBAA6DC,IAAI,EAAE;gBAAnE,CAAhB;gBACA0jC,aAAa,GAAG;kBAACr8B,KAAK,EAAEw8B,oBAAoB,GAAG,GAA/B;kBAAoC7jC,IAAI,EAAE8jC,kBAAkB,GAAG;gBAA/D,CAAhB;cACD,CAHD,MAIK;gBACHH,aAAa,GAAG;kBAAC3jC,IAAI,EAAE,UAAU4jC,eAAV,GAA4B,MAA5B,GAAqC7jC,MAArC,GAA8C,KAArD;kBAA4DsH,KAAK,EAAE;gBAAnE,CAAhB;gBACAq8B,aAAa,GAAG;kBAAC1jC,IAAI,EAAE6jC,oBAAoB,GAAG,GAA9B;kBAAmCx8B,KAAK,EAAEy8B,kBAAkB,GAAG;gBAA/D,CAAhB;cACD;YACF;;YACDL,YAAY,CAACrtC,GAAb,CAAiButC,aAAjB;YACAjG,UAAU,CAACtnC,GAAX,CAAestC,aAAf;YACArpD,MAAM,CAACS,KAAP,CAAa,gCAAgCwkD,MAA7C;UACD,CAvFK;UAwFNX,aAAa,EAAE,UAAUxG,KAAV,EAAiBlvC,MAAjB,EAAyB;YACtC,IACE86C,WAAW,GAAG1pD,MAAM,CAACiH,GAAP,CAAW6/C,gBAAX,EADhB;YAAA,IAEE6C,SAAS,GAAK3pD,MAAM,CAACiH,GAAP,CAAW8/C,cAAX,EAFhB;YAAA,IAGE6C,MAAM,GACJ5pD,MAAM,CAAC4J,EAAP,CAAU48C,QAAV,KAEAxmD,MAAM,CAAC4J,EAAP,CAAU28C,QAAV,KAAuB,QAAvB,GAAkC,KAFlC,GAIEvmD,MAAM,CAAC4J,EAAP,CAAU28C,QAAV,KAAuB,OAAvB,GAAiC,MARvC;YAAA,IASEsD,cAAc,GAAG7pD,MAAM,CAAC4J,EAAP,CAAU28C,QAAV,MAAwB,CAACvmD,MAAM,CAAC4J,EAAP,CAAU48C,QAAV,EAAzB,GAAgD,KAAhD,GAAwD,KAT3E;YAWA,IAAI1iC,QAAQ,GAAG,aAAa4lC,WAAb,GAA2B,KAA3B,GAAmCC,SAAnC,GAA+C,MAA/C,GAAwD7L,KAAvE;YACAlvC,MAAM,CAACmN,GAAP,CAAW6tC,MAAX,EAAmB,UAAU9lC,QAAV,GAAqB+lC,cAArB,GAAsCH,WAAtC,GAAoD,GAAvE;UACD;QAtGK,CAn0BD;QA46BPI,IAAI,EAAE;UACJtzC,GAAG,EAAE,YAAW;YACdxW,MAAM,CAACoH,GAAP,CAAWjF,KAAX,CAAiBnC,MAAM,CAACiH,GAAP,CAAWuP,GAAX,EAAjB;UACD,CAHG;UAIJD,GAAG,EAAE,YAAW;YACdvW,MAAM,CAACoH,GAAP,CAAWjF,KAAX,CAAiBnC,MAAM,CAACiH,GAAP,CAAWsP,GAAX,EAAjB;UACD;QANG,CA56BC;QAq7BPyrB,IAAI,EAAE;UACJt7B,QAAQ,EAAE,YAAW;YACnB,IACE3G,IAAI,GAAG;cACLqlD,QAAQ,EAAUxlD,OAAO,CAACG,IAAR,CAAa2G,QAAQ,CAAC0+C,QAAtB,CADb;cAELC,cAAc,EAAIzlD,OAAO,CAACG,IAAR,CAAa2G,QAAQ,CAAC2+C,cAAtB;YAFb,CADT;;YAMA,IAAGtlD,IAAI,CAACqlD,QAAR,EAAkB;cAChB,IAAGplD,MAAM,CAAC4J,EAAP,CAAUsF,KAAV,MAAqBnP,IAAI,CAACslD,cAA7B,EAA6C;gBAC3CrlD,MAAM,CAACS,KAAP,CAAa,iCAAb,EAAgDV,IAAI,CAACqlD,QAArD,EAA+DrlD,IAAI,CAACslD,cAApE;gBACArlD,MAAM,CAACoH,GAAP,CAAW+hD,UAAX,CAAsBppD,IAAI,CAACqlD,QAA3B,EAAqCrlD,IAAI,CAACslD,cAA1C;cACD,CAHD,MAGO;gBACLrlD,MAAM,CAACS,KAAP,CAAa,iCAAb,EAAgDV,IAAI,CAACqlD,QAArD;gBACAplD,MAAM,CAACoH,GAAP,CAAWjF,KAAX,CAAiBpC,IAAI,CAACqlD,QAAtB;cACD;YACF;UACF,CAjBG;UAkBJ/lD,QAAQ,EAAE,YAAW;YACnB,IAAGA,QAAQ,CAAC6qC,KAAT,KAAmB,KAAtB,EAA6B;cAC3B,IAAGlqC,MAAM,CAAC4J,EAAP,CAAUsF,KAAV,EAAH,EAAsB;gBACpBlP,MAAM,CAACS,KAAP,CAAa,kCAAb,EAAiDpB,QAAQ,CAAC6qC,KAA1D,EAAiE7qC,QAAQ,CAAC0/B,GAA1E;gBACA/+B,MAAM,CAACoH,GAAP,CAAW+hD,UAAX,CAAsB9pD,QAAQ,CAAC6qC,KAA/B,EAAsC7qC,QAAQ,CAAC0/B,GAA/C;cACD,CAHD,MAGO;gBACL/+B,MAAM,CAACS,KAAP,CAAa,kCAAb,EAAiDpB,QAAQ,CAAC6qC,KAA1D;gBACAlqC,MAAM,CAACoH,GAAP,CAAWjF,KAAX,CAAiB9C,QAAQ,CAAC6qC,KAA1B;cACD;YACF;UACF;QA5BG,CAr7BC;QAo9BPhoC,OAAO,EAAE,UAASV,IAAT,EAAeW,KAAf,EAAsB;UAC7BnC,MAAM,CAACS,KAAP,CAAa,kBAAb,EAAiCe,IAAjC,EAAuCW,KAAvC;;UACA,IAAIlE,CAAC,CAACqB,aAAF,CAAgBkC,IAAhB,CAAJ,EAA4B;YAC1BvD,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAeF,QAAf,EAAyBmC,IAAzB;UACD,CAFD,MAGK,IAAGW,KAAK,KAAK/D,SAAb,EAAwB;YAC3B,IAAGH,CAAC,CAACqB,aAAF,CAAgBD,QAAQ,CAACmC,IAAD,CAAxB,CAAH,EAAoC;cAClCvD,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAeF,QAAQ,CAACmC,IAAD,CAAvB,EAA+BW,KAA/B;YACD,CAFD,MAGK;cACH9C,QAAQ,CAACmC,IAAD,CAAR,GAAiBW,KAAjB;YACD;UACF,CAPI,MAQA;YACH,OAAO9C,QAAQ,CAACmC,IAAD,CAAf;UACD;QACF,CAp+BM;QAq+BPsB,QAAQ,EAAE,UAAStB,IAAT,EAAeW,KAAf,EAAsB;UAC9B,IAAIlE,CAAC,CAACqB,aAAF,CAAgBkC,IAAhB,CAAJ,EAA4B;YAC1BvD,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAeS,MAAf,EAAuBwB,IAAvB;UACD,CAFD,MAGK,IAAGW,KAAK,KAAK/D,SAAb,EAAwB;YAC3B4B,MAAM,CAACwB,IAAD,CAAN,GAAeW,KAAf;UACD,CAFI,MAGA;YACH,OAAOnC,MAAM,CAACwB,IAAD,CAAb;UACD;QACF,CA/+BM;QAg/BPf,KAAK,EAAE,YAAW;UAChB,IAAG,CAACpB,QAAQ,CAACgV,MAAV,IAAoBhV,QAAQ,CAACoB,KAAhC,EAAuC;YACrC,IAAGpB,QAAQ,CAACP,WAAZ,EAAyB;cACvBkB,MAAM,CAAClB,WAAP,CAAmB4B,GAAnB,CAAuB1B,SAAvB;YACD,CAFD,MAGK;cACHgB,MAAM,CAACS,KAAP,GAAesC,QAAQ,CAACC,SAAT,CAAmBC,IAAnB,CAAwB7D,IAAxB,CAA6BmB,OAAO,CAACmC,IAArC,EAA2CnC,OAA3C,EAAoDlB,QAAQ,CAACmC,IAAT,GAAgB,GAApE,CAAf;cACAxB,MAAM,CAACS,KAAP,CAAayC,KAAb,CAAmB3C,OAAnB,EAA4BvB,SAA5B;YACD;UACF;QACF,CA1/BM;QA2/BPoB,OAAO,EAAE,YAAW;UAClB,IAAG,CAACf,QAAQ,CAACgV,MAAV,IAAoBhV,QAAQ,CAACe,OAA7B,IAAwCf,QAAQ,CAACoB,KAApD,EAA2D;YACzD,IAAGpB,QAAQ,CAACP,WAAZ,EAAyB;cACvBkB,MAAM,CAAClB,WAAP,CAAmB4B,GAAnB,CAAuB1B,SAAvB;YACD,CAFD,MAGK;cACHgB,MAAM,CAACI,OAAP,GAAiB2C,QAAQ,CAACC,SAAT,CAAmBC,IAAnB,CAAwB7D,IAAxB,CAA6BmB,OAAO,CAACmC,IAArC,EAA2CnC,OAA3C,EAAoDlB,QAAQ,CAACmC,IAAT,GAAgB,GAApE,CAAjB;cACAxB,MAAM,CAACI,OAAP,CAAe8C,KAAf,CAAqB3C,OAArB,EAA8BvB,SAA9B;YACD;UACF;QACF,CArgCM;QAsgCPS,KAAK,EAAE,YAAW;UAChB,IAAG,CAACJ,QAAQ,CAACgV,MAAb,EAAqB;YACnBrU,MAAM,CAACP,KAAP,GAAesD,QAAQ,CAACC,SAAT,CAAmBC,IAAnB,CAAwB7D,IAAxB,CAA6BmB,OAAO,CAACd,KAArC,EAA4Cc,OAA5C,EAAqDlB,QAAQ,CAACmC,IAAT,GAAgB,GAArE,CAAf;YACAxB,MAAM,CAACP,KAAP,CAAayD,KAAb,CAAmB3C,OAAnB,EAA4BvB,SAA5B;UACD;QACF,CA3gCM;QA6gCPF,WAAW,EAAE;UACX4B,GAAG,EAAE,UAASyC,OAAT,EAAkB;YACrB,IACEC,WADF,EAEEC,aAFF,EAGEC,YAHF;;YAKA,IAAGjE,QAAQ,CAACP,WAAZ,EAAyB;cACvBsE,WAAW,GAAK,IAAIxE,IAAJ,GAAWC,OAAX,EAAhB;cACAyE,YAAY,GAAI3E,IAAI,IAAIyE,WAAxB;cACAC,aAAa,GAAGD,WAAW,GAAGE,YAA9B;cACA3E,IAAI,GAAYyE,WAAhB;cACAtE,WAAW,CAACgD,IAAZ,CAAiB;gBACf,QAAmBqB,OAAO,CAAC,CAAD,CADX;gBAEf,aAAmB,GAAGhE,KAAH,CAASC,IAAT,CAAc+D,OAAd,EAAuB,CAAvB,KAA6B,EAFjC;gBAGf,WAAmBtD,OAHJ;gBAIf,kBAAmBwD;cAJJ,CAAjB;YAMD;;YACDE,YAAY,CAACvD,MAAM,CAAClB,WAAP,CAAmB0E,KAApB,CAAZ;YACAxD,MAAM,CAAClB,WAAP,CAAmB0E,KAAnB,GAA2BlC,UAAU,CAACtB,MAAM,CAAClB,WAAP,CAAmB2E,OAApB,EAA6B,GAA7B,CAArC;UACD,CArBU;UAsBXA,OAAO,EAAE,YAAW;YAClB,IACEC,KAAK,GAAGrE,QAAQ,CAACmC,IAAT,GAAgB,GAD1B;YAAA,IAEEmC,SAAS,GAAG,CAFd;YAIAhF,IAAI,GAAG,KAAP;YACA4E,YAAY,CAACvD,MAAM,CAAClB,WAAP,CAAmB0E,KAApB,CAAZ;YACAvF,CAAC,CAAC2D,IAAF,CAAO9C,WAAP,EAAoB,UAAS+C,KAAT,EAAgB9B,IAAhB,EAAsB;cACxC4D,SAAS,IAAI5D,IAAI,CAAC,gBAAD,CAAjB;YACD,CAFD;YAGA2D,KAAK,IAAI,MAAMC,SAAN,GAAkB,IAA3B;;YACA,IAAGkC,cAAH,EAAmB;cACjBnC,KAAK,IAAI,QAAQmC,cAAR,GAAyB,IAAlC;YACD;;YACD,IAAI,CAACtF,OAAO,CAACK,KAAR,KAAkBxC,SAAlB,IAA+BmC,OAAO,CAACqD,KAAR,KAAkBxF,SAAlD,KAAgEU,WAAW,CAACwD,MAAZ,GAAqB,CAAzF,EAA4F;cAC1F/B,OAAO,CAACO,cAAR,CAAuB4C,KAAvB;;cACA,IAAGnD,OAAO,CAACqD,KAAX,EAAkB;gBAChBrD,OAAO,CAACqD,KAAR,CAAc9E,WAAd;cACD,CAFD,MAGK;gBACHb,CAAC,CAAC2D,IAAF,CAAO9C,WAAP,EAAoB,UAAS+C,KAAT,EAAgB9B,IAAhB,EAAsB;kBACxCQ,OAAO,CAACG,GAAR,CAAYX,IAAI,CAAC,MAAD,CAAJ,GAAe,IAAf,GAAsBA,IAAI,CAAC,gBAAD,CAA1B,GAA6C,IAAzD;gBACD,CAFD;cAGD;;cACDQ,OAAO,CAACM,QAAR;YACD;;YACD/B,WAAW,GAAG,EAAd;UACD;QAjDU,CA7gCN;QAikCP+E,MAAM,EAAE,UAAS9E,KAAT,EAAgB+E,eAAhB,EAAiCC,OAAjC,EAA0C;UAChD,IACEC,MAAM,GAAGlE,QADX;UAAA,IAEEmE,QAFF;UAAA,IAGEC,KAHF;UAAA,IAIEC,QAJF;UAMAL,eAAe,GAAGA,eAAe,IAAI5E,cAArC;UACA6E,OAAO,GAAWlE,OAAO,IAAYkE,OAArC;;UACA,IAAG,OAAOhF,KAAP,IAAgB,QAAhB,IAA4BiF,MAAM,KAAK5F,SAA1C,EAAqD;YACnDW,KAAK,GAAMA,KAAK,CAACqF,KAAN,CAAY,OAAZ,CAAX;YACAH,QAAQ,GAAGlF,KAAK,CAACuD,MAAN,GAAe,CAA1B;YACArE,CAAC,CAAC2D,IAAF,CAAO7C,KAAP,EAAc,UAASsF,KAAT,EAAgBlC,KAAhB,EAAuB;cACnC,IAAImC,cAAc,GAAID,KAAK,IAAIJ,QAAV,GACjB9B,KAAK,GAAGpD,KAAK,CAACsF,KAAK,GAAG,CAAT,CAAL,CAAiBE,MAAjB,CAAwB,CAAxB,EAA2BC,WAA3B,EAAR,GAAmDzF,KAAK,CAACsF,KAAK,GAAG,CAAT,CAAL,CAAiBlF,KAAjB,CAAuB,CAAvB,CADlC,GAEjBJ,KAFJ;;cAIA,IAAId,CAAC,CAACqB,aAAF,CAAiB0E,MAAM,CAACM,cAAD,CAAvB,KAA8CD,KAAK,IAAIJ,QAA3D,EAAuE;gBACrED,MAAM,GAAGA,MAAM,CAACM,cAAD,CAAf;cACD,CAFD,MAGK,IAAIN,MAAM,CAACM,cAAD,CAAN,KAA2BlG,SAA/B,EAA2C;gBAC9C8F,KAAK,GAAGF,MAAM,CAACM,cAAD,CAAd;gBACA,OAAO,KAAP;cACD,CAHI,MAIA,IAAIrG,CAAC,CAACqB,aAAF,CAAiB0E,MAAM,CAAC7B,KAAD,CAAvB,KAAqCkC,KAAK,IAAIJ,QAAlD,EAA8D;gBACjED,MAAM,GAAGA,MAAM,CAAC7B,KAAD,CAAf;cACD,CAFI,MAGA,IAAI6B,MAAM,CAAC7B,KAAD,CAAN,KAAkB/D,SAAtB,EAAkC;gBACrC8F,KAAK,GAAGF,MAAM,CAAC7B,KAAD,CAAd;gBACA,OAAO,KAAP;cACD,CAHI,MAIA;gBACHnC,MAAM,CAACP,KAAP,CAAaA,KAAK,CAACgF,MAAnB,EAA2B1F,KAA3B;gBACA,OAAO,KAAP;cACD;YACF,CAvBD;UAwBD;;UACD,IAAKd,CAAC,CAACI,UAAF,CAAc6F,KAAd,CAAL,EAA6B;YAC3BC,QAAQ,GAAGD,KAAK,CAAChB,KAAN,CAAYa,OAAZ,EAAqBD,eAArB,CAAX;UACD,CAFD,MAGK,IAAGI,KAAK,KAAK9F,SAAb,EAAwB;YAC3B+F,QAAQ,GAAGD,KAAX;UACD;;UACD,IAAGjG,CAAC,CAAC0G,OAAF,CAAU1E,aAAV,CAAH,EAA6B;YAC3BA,aAAa,CAAC6B,IAAd,CAAmBqC,QAAnB;UACD,CAFD,MAGK,IAAGlE,aAAa,KAAK7B,SAArB,EAAgC;YACnC6B,aAAa,GAAG,CAACA,aAAD,EAAgBkE,QAAhB,CAAhB;UACD,CAFI,MAGA,IAAGA,QAAQ,KAAK/F,SAAhB,EAA2B;YAC9B6B,aAAa,GAAGkE,QAAhB;UACD;;UACD,OAAOD,KAAP;QACD;MAtnCM,CAAT;;MAynCA,IAAGjF,aAAH,EAAkB;QAChB,IAAGa,QAAQ,KAAK1B,SAAhB,EAA2B;UACzB4B,MAAM,CAACE,UAAP;QACD;;QACDF,MAAM,CAAC6D,MAAP,CAAc9E,KAAd;MACD,CALD,MAMK;QACH,IAAGe,QAAQ,KAAK1B,SAAhB,EAA2B;UACzB0B,QAAQ,CAAC+D,MAAT,CAAgB,SAAhB;QACD;;QACD7D,MAAM,CAACE,UAAP;MACD;IACF,CAnrCH;IAsrCA,OAAQD,aAAa,KAAK7B,SAAnB,GACH6B,aADG,GAEH,IAFJ;EAKD,CAztCD;;EA2tCAhC,CAAC,CAACQ,EAAF,CAAK8jD,MAAL,CAAYljD,QAAZ,GAAuB;IAErBgV,MAAM,EAAS,KAFM;IAGrB5T,KAAK,EAAU,KAHM;IAIrBL,OAAO,EAAQ,KAJM;IAKrBtB,WAAW,EAAI,IALM;IAOrB0C,IAAI,EAAW,QAPM;IAQrBhC,SAAS,EAAM,QARM;IAUrBC,KAAK,EAAM;MACTgF,MAAM,EAAM,uCADH;MAET6iD,QAAQ,EAAG;IAFF,CAVU;IAerB5gD,QAAQ,EAAE;MACR0+C,QAAQ,EAAU,UADV;MAERC,cAAc,EAAI;IAFV,CAfW;IAoBrB9uC,GAAG,EAAgB,CApBE;IAqBrBC,GAAG,EAAgB,EArBE;IAsBrBivC,IAAI,EAAe,CAtBE;IAuBrBvb,KAAK,EAAc,CAvBE;IAwBrBnL,GAAG,EAAgB,EAxBE;IAyBrBooB,SAAS,EAAU,QAzBE;IA0BrBnD,cAAc,EAAK,KA1BE;IA2BrB0B,MAAM,EAAa,KA3BE;IA4BrBd,gBAAgB,EAAG,IA5BE;IA6BrB8C,aAAa,EAAM,GA7BE;IA8BrBvC,gBAAgB,EAAG,IA9BE;IA+BrBz2B,UAAU,EAAS,KA/BE;IAgCrBq0B,cAAc,EAAK,KAhCE;IAkCrB;IACAiE,aAAa,EAAI,CAnCI;IAqCrB;IACAO,cAAc,EAAG,CAtCI;IAwCrBzhD,QAAQ,EAAE,EAxCW;IA4CrBa,SAAS,EAAO;MACd4/C,QAAQ,EAAG,UADG;MAEdxkD,QAAQ,EAAG,UAFG;MAGd8hD,OAAO,EAAI,SAHG;MAIdI,MAAM,EAAK,QAJG;MAKduC,QAAQ,EAAG,UALG;MAMdt3C,KAAK,EAAM,OANG;MAOdw2C,MAAM,EAAK;IAPG,CA5CK;IAsDrBp2C,IAAI,EAAG;MACL4wB,MAAM,EAAO,EADR;MAELE,QAAQ,EAAK,EAFR;MAGLxB,SAAS,EAAI,EAHR;MAILkB,OAAO,EAAM,EAJR;MAKLd,UAAU,EAAG,EALR;MAMLiB,SAAS,EAAI;IANR,CAtDc;IA+DrBmnB,UAAU,EAAM;MACdzyC,MAAM,EAAI,QADI;MAEdmxB,MAAM,EAAI;IAFI,CA/DK;IAoErB9qB,QAAQ,EAAG,UAAS7Y,KAAT,EAAgBijD,QAAhB,EAA0BC,cAA1B,EAAyC,CAAE,CApEjC;IAqErBS,MAAM,EAAK,UAAS3jD,KAAT,EAAgBijD,QAAhB,EAA0BC,cAA1B,EAAyC,CAAE;EArEjC,CAAvB;AAyEC,CA/yCA,EA+yCG7/C,MA/yCH,EA+yCWtH,MA/yCX,EA+yCmBC,QA/yCnB;AAizCD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA;;AAAC,CAAC,UAAUF,CAAV,EAAaC,MAAb,EAAqBC,QAArB,EAA+BC,SAA/B,EAA0C;EAE5C;;EAEAH,CAAC,CAACI,UAAF,GAAeJ,CAAC,CAACI,UAAF,IAAgB,UAASC,GAAT,EAAc;IAC3C,OAAO,OAAOA,GAAP,KAAe,UAAf,IAA6B,OAAOA,GAAG,CAACC,QAAX,KAAwB,QAA5D;EACD,CAFD;;EAIAL,MAAM,GAAI,OAAOA,MAAP,IAAiB,WAAjB,IAAgCA,MAAM,CAACuH,IAAP,IAAeA,IAAhD,GACLvH,MADK,GAEJ,OAAOwH,IAAP,IAAe,WAAf,IAA8BA,IAAI,CAACD,IAAL,IAAaA,IAA5C,GACEC,IADF,GAEE3C,QAAQ,CAAC,aAAD,CAAR,EAJN;;EAOA9E,CAAC,CAACQ,EAAF,CAAKsrD,MAAL,GAAc,UAASrrD,UAAT,EAAqB;IACjC,IACEkH,WAAW,GAAO3H,CAAC,CAAC,IAAD,CADrB;IAAA,IAEE4H,cAAc,GAAID,WAAW,CAACE,QAAZ,IAAwB,EAF5C;IAAA,IAIEnH,IAAI,GAAc,IAAIC,IAAJ,GAAWC,OAAX,EAJpB;IAAA,IAKEC,WAAW,GAAO,EALpB;IAAA,IAOEC,KAAK,GAAaC,SAAS,CAAC,CAAD,CAP7B;IAAA,IAQEC,aAAa,GAAM,OAAOF,KAAP,IAAgB,QARrC;IAAA,IASEG,cAAc,GAAI,GAAGC,KAAH,CAASC,IAAT,CAAcJ,SAAd,EAAyB,CAAzB,CATpB;IAAA,IAUEiB,aAVF;IAYA2F,WAAW,CACRhE,IADH,CACQ,YAAW;MACf,IACEvC,QAAQ,GAAYpB,CAAC,CAACqB,aAAF,CAAgBZ,UAAhB,CAAF,GACdT,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAe,EAAf,EAAmBtB,CAAC,CAACQ,EAAF,CAAKsrD,MAAL,CAAY1qD,QAA/B,EAAyCX,UAAzC,CADc,GAEdT,CAAC,CAACsB,MAAF,CAAS,EAAT,EAAatB,CAAC,CAACQ,EAAF,CAAKsrD,MAAL,CAAY1qD,QAAzB,CAHN;MAAA,IAKEG,SAAS,GAASH,QAAQ,CAACG,SAL7B;MAAA,IAMEmH,SAAS,GAAStH,QAAQ,CAACsH,SAN7B;MAAA,IAOED,QAAQ,GAAUrH,QAAQ,CAACqH,QAP7B;MAAA,IAQEZ,QAAQ,GAAUzG,QAAQ,CAACyG,QAR7B;MAAA,IASEkkD,OAAO,GAAW3qD,QAAQ,CAAC2qD,OAT7B;MAAA,IAWEnjD,cAAc,GAAI,MAAMrH,SAX1B;MAAA,IAYEE,eAAe,GAAG,YAAYF,SAZhC;MAAA,IAcEK,OAAO,GAAW,IAdpB;MAAA,IAeEC,QAAQ,GAAU7B,CAAC,CAAC,IAAD,CAAD,CAAQ8B,IAAR,CAAaL,eAAb,CAfpB;MAAA,IAiBEE,OAAO,GAAW3B,CAAC,CAAC,IAAD,CAjBrB;MAAA,IAkBEyzB,KAAK,GAAa9xB,OAAO,CAAC6H,IAAR,CAAa3B,QAAQ,CAAC6rB,IAAtB,CAlBpB;MAAA,IAoBE1F,WApBF;MAAA,IAqBEjsB,MArBF;MAwBAA,MAAM,GAAG;QAEPE,UAAU,EAAE,YAAW;UACrBF,MAAM,CAACI,OAAP,CAAe,4BAAf,EAA6Cf,QAA7C;;UAEA,IAAGqyB,KAAK,CAACpvB,MAAN,KAAiB,CAApB,EAAuB;YACrBtC,MAAM,CAACqd,KAAP,CAAa6V,MAAb;UACD;;UAED,IAAG7zB,QAAQ,CAAC4qD,WAAT,IAAwB,CAACjqD,MAAM,CAAC4J,EAAP,CAAU7H,QAAV,EAA5B,EAAkD;YAChD/B,MAAM,CAACwC,MAAP;UACD,CAFD,MAGK;YACHxC,MAAM,CAACW,OAAP;UACD;;UACDX,MAAM,CAACoH,GAAP,CAAW6kB,WAAX;UACAjsB,MAAM,CAACoH,GAAP,CAAW2iD,MAAX,CAAmB/pD,MAAM,CAACiH,GAAP,CAAWijD,aAAX,EAAnB;UACAlqD,MAAM,CAACsK,MAAP,CAAc2hB,WAAd;UACAjsB,MAAM,CAACG,WAAP;QACD,CAnBM;QAqBPA,WAAW,EAAE,YAAW;UACtBH,MAAM,CAACI,OAAP,CAAe,sBAAf,EAAuCf,QAAvC;UACAS,QAAQ,GAAGE,MAAX;UACAJ,OAAO,CACJG,IADH,CACQL,eADR,EACyBM,MADzB;QAGD,CA3BM;QA6BP4C,OAAO,EAAE,YAAW;UAClB5C,MAAM,CAACI,OAAP,CAAe,8BAAf,EAA+CN,QAA/C;UACAE,MAAM,CAACsK,MAAP,CAAcoO,MAAd;UACA9Y,OAAO,CACJiD,UADH,CACcnD,eADd;QAGD,CAnCM;QAqCPwH,OAAO,EAAE,YAAW;UAClBwqB,KAAK,GAAK9xB,OAAO,CAAC6H,IAAR,CAAa3B,QAAQ,CAAC6rB,IAAtB,CAAV;QACD,CAvCM;QAyCPtU,KAAK,EAAE;UACL6V,MAAM,EAAE,YAAW;YACjB,IACEi3B,SAAS,GAAGnqD,MAAM,CAACiH,GAAP,CAAWkjD,SAAX,EADd;YAAA,IAEEx4B,IAAI,GAAQ3xB,MAAM,CAACiH,GAAP,CAAW0qB,IAAX,EAFd;YAAA,IAGEjgB,IAAI,GAAQzT,CAAC,CAACQ,EAAF,CAAKsrD,MAAL,CAAY1qD,QAAZ,CAAqBkS,SAArB,CAA+BogB,IAA/B,CAAoCw4B,SAApC,EAA+Cx4B,IAA/C,CAHd;YAKA3xB,MAAM,CAACS,KAAP,CAAa,kCAAb;YACAb,OAAO,CACJ8R,IADH,CACQA,IADR;YAGA1R,MAAM,CAACkH,OAAP;UACD;QAZI,CAzCA;QAwDPe,KAAK,EAAE;UACL0vB,UAAU,EAAE,YAAW;YACrB,IACEyyB,WAAW,GAAGnsD,CAAC,CAAC,IAAD,CADjB;YAGAmsD,WAAW,CACRv1B,OADH,GAEKxqB,WAFL,CAEiB1D,SAAS,CAAC2sB,QAF3B;YAIA1zB,OAAO,CACJ0R,QADH,CACY3K,SAAS,CAAC2sB,QADtB;YAGA82B,WAAW,CACR94C,QADH,CACY3K,SAAS,CAAC2sB,QADtB,EAEKxE,OAFL,GAGKxd,QAHL,CAGc3K,SAAS,CAAC2sB,QAHxB;UAKD,CAjBI;UAkBLsE,UAAU,EAAE,YAAW;YACrBh4B,OAAO,CACJyK,WADH,CACe1D,SAAS,CAAC2sB,QADzB;YAGA5B,KAAK,CACFrnB,WADH,CACe1D,SAAS,CAAC2sB,QADzB;UAGD,CAzBI;UA0BLra,KAAK,EAAE,YAAW;YAChB,IACEmxC,WAAW,GAAKnsD,CAAC,CAAC,IAAD,CADnB;YAAA,IAEEosD,aAAa,GAAGrqD,MAAM,CAACiH,GAAP,CAAW8iD,MAAX,EAFlB;YAAA,IAGEA,MAAM,GAAUr4B,KAAK,CAAC7vB,KAAN,CAAYuoD,WAAZ,IAA2B,CAH7C;YAAA,IAIEE,QAAQ,GAASjrD,QAAQ,CAAC+1B,SAAT,IAAsB,MAAvB,GACZ1D,KAAK,CAACpvB,MAAN,KAAiB,CADL,GAEbjD,QAAQ,CAAC+1B,SANd;;YAQA,IAAGk1B,QAAQ,IAAID,aAAa,IAAIN,MAAhC,EAAwC;cACtC/pD,MAAM,CAACuqD,WAAP;YACD,CAFD,MAGK;cACHvqD,MAAM,CAACoH,GAAP,CAAW2iD,MAAX,CAAmBA,MAAnB;YACD;UACF;QAzCI,CAxDA;QAoGPQ,WAAW,EAAE,YAAW;UACtBvqD,MAAM,CAACS,KAAP,CAAa,yBAAb;UACAT,MAAM,CAACoH,GAAP,CAAW2iD,MAAX,CAAkB,CAAlB;QACD,CAvGM;QAyGP9mD,IAAI,EAAE;UACJyV,MAAM,EAAE,YAAW;YACjB1Y,MAAM,CAACI,OAAP,CAAe,gBAAf;YACAR,OAAO,CACJoI,EADH,CACM,eAAenB,cADrB,EACqCf,QAAQ,CAAC6rB,IAD9C,EACoD3xB,MAAM,CAACiI,KAAP,CAAa0vB,UADjE,EAEG3vB,EAFH,CAEM,eAAenB,cAFrB,EAEqCf,QAAQ,CAAC6rB,IAF9C,EAEoD3xB,MAAM,CAACiI,KAAP,CAAa2vB,UAFjE,EAGG5vB,EAHH,CAGM,UAAenB,cAHrB,EAGqCf,QAAQ,CAAC6rB,IAH9C,EAGoD3xB,MAAM,CAACiI,KAAP,CAAagR,KAHjE;UAKD;QARG,CAzGC;QAoHP3O,MAAM,EAAE;UACNoO,MAAM,EAAE,YAAW;YACjB1Y,MAAM,CAACI,OAAP,CAAe,iBAAf;YACAR,OAAO,CACJ8M,GADH,CACO7F,cADP;UAGD,CANK;UAONolB,WAAW,EAAE,YAAW;YACtBA,WAAW,GAAG,KAAd;UACD;QATK,CApHD;QAgIPzpB,MAAM,EAAE,YAAW;UACjBxC,MAAM,CAACS,KAAP,CAAa,oCAAb;UACAT,MAAM,CAACiD,IAAP,CAAYyV,MAAZ;UACA9Y,OAAO,CACJyK,WADH,CACe1D,SAAS,CAAC5E,QADzB;QAGD,CAtIM;QAwIPpB,OAAO,EAAE,YAAW;UAClBX,MAAM,CAACS,KAAP,CAAa,kCAAb;UACAT,MAAM,CAACsK,MAAP,CAAcoO,MAAd;UACA9Y,OAAO,CACJ0R,QADH,CACY3K,SAAS,CAAC5E,QADtB;QAGD,CA9IM;QAgJP6H,EAAE,EAAE;UACFqiB,WAAW,EAAE,YAAW;YACtB,OAAOA,WAAP;UACD,CAHC;UAIFlqB,QAAQ,EAAE,YAAW;YACnB,OAAOnC,OAAO,CAACwK,QAAR,CAAiBzD,SAAS,CAAC5E,QAA3B,CAAP;UACD;QANC,CAhJG;QAyJPkF,GAAG,EAAE;UACH0qB,IAAI,EAAE,YAAU;YACd,IAAIA,IAAI,GAAG/xB,OAAO,CAACG,IAAR,CAAa2G,QAAQ,CAACirB,IAAtB,CAAX;;YACA,IAAIA,IAAJ,EAAU;cACR/xB,OAAO,CAACiD,UAAR,CAAmB6D,QAAQ,CAACirB,IAA5B;YACD;;YACD,OAAOA,IAAI,IAAItyB,QAAQ,CAACsyB,IAAxB;UACD,CAPE;UAQHu4B,aAAa,EAAE,YAAW;YACxB,IAAGtqD,OAAO,CAACG,IAAR,CAAa2G,QAAQ,CAACqjD,MAAtB,MAAkC3rD,SAArC,EAAgD;cAC9CwB,OAAO,CAACiD,UAAR,CAAmB6D,QAAQ,CAACqjD,MAA5B;cACA,OAAOnqD,OAAO,CAACG,IAAR,CAAa2G,QAAQ,CAACqjD,MAAtB,CAAP;YACD;;YACD,OAAO1qD,QAAQ,CAAC6qD,aAAhB;UACD,CAdE;UAeHC,SAAS,EAAE,YAAW;YACpB,IAAGvqD,OAAO,CAACG,IAAR,CAAa2G,QAAQ,CAACyjD,SAAtB,MAAqC/rD,SAAxC,EAAmD;cACjDwB,OAAO,CAACiD,UAAR,CAAmB6D,QAAQ,CAACyjD,SAA5B;cACA,OAAOvqD,OAAO,CAACG,IAAR,CAAa2G,QAAQ,CAACyjD,SAAtB,CAAP;YACD;;YACD,OAAO9qD,QAAQ,CAAC8qD,SAAhB;UACD,CArBE;UAsBHJ,MAAM,EAAE,YAAW;YACjB,IACEM,aAAa,GAAG34B,KAAK,CAAC1mB,MAAN,CAAa,MAAMrE,SAAS,CAAC8S,MAA7B,EAAqCnX,MADvD;YAGAtC,MAAM,CAACI,OAAP,CAAe,0BAAf,EAA2CiqD,aAA3C;YACA,OAAOA,aAAP;UACD;QA5BE,CAzJE;QAwLPjjD,GAAG,EAAE;UACH2iD,MAAM,EAAE,UAASA,MAAT,EAAiB;YACvB,IACES,WAAW,GAAG/kD,IAAI,CAAC+hB,KAAL,CACXuiC,MAAM,GAAG,CAAT,IAAc,CAAf,GACKA,MAAM,GAAG,CADd,GAEI,CAHQ,CADhB;YAAA,IAMEK,WAAW,GAAG14B,KAAK,CAACtiB,EAAN,CAASo7C,WAAT,CANhB;YAAA,IAOEC,kBAAkB,GAAGV,MAAM,IAAI,CAAV,GACjBK,WADiB,GAEjBA,WAAW,CAAC/wC,IAAZ,EATN;YAAA,IAWEqxC,gBAAgB,GAAIX,MAAM,GAAG,CAAV,GAAe,GAXpC;YAaAnqD,OAAO,CACJyK,WADH,CACe1D,SAAS,CAAC2sB,QADzB;YAGA5B,KAAK,CACFrnB,WADH,CACe1D,SAAS,CAAC2sB,QADzB,EAEGjpB,WAFH,CAEe1D,SAAS,CAAC8S,MAFzB,EAGGpP,WAHH,CAGe1D,SAAS,CAACgkD,eAHzB;;YAKA,IAAGZ,MAAM,GAAG,CAAZ,EAAe;cACb/pD,MAAM,CAACI,OAAP,CAAe,2BAAf,EAA4C2pD,MAA5C;cACAK,WAAW,CACRt7B,OADH,GAEGsQ,OAFH,GAGG9tB,QAHH,CAGY3K,SAAS,CAAC8S,MAHtB;;cAKA,IAAG2wC,WAAW,CAAC/wC,IAAZ,MAAsB0wC,MAAM,GAAG,CAAT,KAAe,CAAxC,EAA2C;gBACzCU,kBAAkB,CACfn5C,QADH,CACY3K,SAAS,CAACgkD,eADtB,EAEGr5C,QAFH,CAEY3K,SAAS,CAAC8S,MAFtB;gBAIAgxC,kBAAkB,CACf1uC,GADH,CACOiuC,OAAO,CAACY,oBADf,EACqCF,gBAAgB,GAAG,GADxD;;gBAGA,IAAGD,kBAAkB,CAAC1uC,GAAnB,CAAuB,iBAAvB,MAA8C,aAAjD,EAAgE;kBAC9D0uC,kBAAkB,CACfpgD,WADH,CACe1D,SAAS,CAACgkD,eADzB,EAEGtgD,WAFH,CAEe1D,SAAS,CAAC8S,MAFzB;gBAID;cACF;YACF;;YACD,IAAG,CAACzZ,MAAM,CAAC4J,EAAP,CAAUqiB,WAAV,EAAJ,EAA6B;cAC3B5sB,QAAQ,CAACwrD,MAAT,CAAgBzrD,IAAhB,CAAqBS,OAArB,EAA8BkqD,MAA9B;YACD;UACF,CAjDE;UAkDH99B,WAAW,EAAE,YAAW;YACtBA,WAAW,GAAG,IAAd;UACD;QApDE,CAxLE;QA+OP/pB,OAAO,EAAE,UAASV,IAAT,EAAeW,KAAf,EAAsB;UAC7BnC,MAAM,CAACS,KAAP,CAAa,kBAAb,EAAiCe,IAAjC,EAAuCW,KAAvC;;UACA,IAAIlE,CAAC,CAACqB,aAAF,CAAgBkC,IAAhB,CAAJ,EAA4B;YAC1BvD,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAeF,QAAf,EAAyBmC,IAAzB;UACD,CAFD,MAGK,IAAGW,KAAK,KAAK/D,SAAb,EAAwB;YAC3B,IAAGH,CAAC,CAACqB,aAAF,CAAgBD,QAAQ,CAACmC,IAAD,CAAxB,CAAH,EAAoC;cAClCvD,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAeF,QAAQ,CAACmC,IAAD,CAAvB,EAA+BW,KAA/B;YACD,CAFD,MAGK;cACH9C,QAAQ,CAACmC,IAAD,CAAR,GAAiBW,KAAjB;YACD;UACF,CAPI,MAQA;YACH,OAAO9C,QAAQ,CAACmC,IAAD,CAAf;UACD;QACF,CA/PM;QAgQPsB,QAAQ,EAAE,UAAStB,IAAT,EAAeW,KAAf,EAAsB;UAC9B,IAAIlE,CAAC,CAACqB,aAAF,CAAgBkC,IAAhB,CAAJ,EAA4B;YAC1BvD,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAeS,MAAf,EAAuBwB,IAAvB;UACD,CAFD,MAGK,IAAGW,KAAK,KAAK/D,SAAb,EAAwB;YAC3B4B,MAAM,CAACwB,IAAD,CAAN,GAAeW,KAAf;UACD,CAFI,MAGA;YACH,OAAOnC,MAAM,CAACwB,IAAD,CAAb;UACD;QACF,CA1QM;QA2QPf,KAAK,EAAE,YAAW;UAChB,IAAG,CAACpB,QAAQ,CAACgV,MAAV,IAAoBhV,QAAQ,CAACoB,KAAhC,EAAuC;YACrC,IAAGpB,QAAQ,CAACP,WAAZ,EAAyB;cACvBkB,MAAM,CAAClB,WAAP,CAAmB4B,GAAnB,CAAuB1B,SAAvB;YACD,CAFD,MAGK;cACHgB,MAAM,CAACS,KAAP,GAAesC,QAAQ,CAACC,SAAT,CAAmBC,IAAnB,CAAwB7D,IAAxB,CAA6BmB,OAAO,CAACmC,IAArC,EAA2CnC,OAA3C,EAAoDlB,QAAQ,CAACmC,IAAT,GAAgB,GAApE,CAAf;cACAxB,MAAM,CAACS,KAAP,CAAayC,KAAb,CAAmB3C,OAAnB,EAA4BvB,SAA5B;YACD;UACF;QACF,CArRM;QAsRPoB,OAAO,EAAE,YAAW;UAClB,IAAG,CAACf,QAAQ,CAACgV,MAAV,IAAoBhV,QAAQ,CAACe,OAA7B,IAAwCf,QAAQ,CAACoB,KAApD,EAA2D;YACzD,IAAGpB,QAAQ,CAACP,WAAZ,EAAyB;cACvBkB,MAAM,CAAClB,WAAP,CAAmB4B,GAAnB,CAAuB1B,SAAvB;YACD,CAFD,MAGK;cACHgB,MAAM,CAACI,OAAP,GAAiB2C,QAAQ,CAACC,SAAT,CAAmBC,IAAnB,CAAwB7D,IAAxB,CAA6BmB,OAAO,CAACmC,IAArC,EAA2CnC,OAA3C,EAAoDlB,QAAQ,CAACmC,IAAT,GAAgB,GAApE,CAAjB;cACAxB,MAAM,CAACI,OAAP,CAAe8C,KAAf,CAAqB3C,OAArB,EAA8BvB,SAA9B;YACD;UACF;QACF,CAhSM;QAiSPS,KAAK,EAAE,YAAW;UAChB,IAAG,CAACJ,QAAQ,CAACgV,MAAb,EAAqB;YACnBrU,MAAM,CAACP,KAAP,GAAesD,QAAQ,CAACC,SAAT,CAAmBC,IAAnB,CAAwB7D,IAAxB,CAA6BmB,OAAO,CAACd,KAArC,EAA4Cc,OAA5C,EAAqDlB,QAAQ,CAACmC,IAAT,GAAgB,GAArE,CAAf;YACAxB,MAAM,CAACP,KAAP,CAAayD,KAAb,CAAmB3C,OAAnB,EAA4BvB,SAA5B;UACD;QACF,CAtSM;QAuSPF,WAAW,EAAE;UACX4B,GAAG,EAAE,UAASyC,OAAT,EAAkB;YACrB,IACEC,WADF,EAEEC,aAFF,EAGEC,YAHF;;YAKA,IAAGjE,QAAQ,CAACP,WAAZ,EAAyB;cACvBsE,WAAW,GAAK,IAAIxE,IAAJ,GAAWC,OAAX,EAAhB;cACAyE,YAAY,GAAI3E,IAAI,IAAIyE,WAAxB;cACAC,aAAa,GAAGD,WAAW,GAAGE,YAA9B;cACA3E,IAAI,GAAYyE,WAAhB;cACAtE,WAAW,CAACgD,IAAZ,CAAiB;gBACf,QAAmBqB,OAAO,CAAC,CAAD,CADX;gBAEf,aAAmB,GAAGhE,KAAH,CAASC,IAAT,CAAc+D,OAAd,EAAuB,CAAvB,KAA6B,EAFjC;gBAGf,WAAmBtD,OAHJ;gBAIf,kBAAmBwD;cAJJ,CAAjB;YAMD;;YACDE,YAAY,CAACvD,MAAM,CAAClB,WAAP,CAAmB0E,KAApB,CAAZ;YACAxD,MAAM,CAAClB,WAAP,CAAmB0E,KAAnB,GAA2BlC,UAAU,CAACtB,MAAM,CAAClB,WAAP,CAAmB2E,OAApB,EAA6B,GAA7B,CAArC;UACD,CArBU;UAsBXA,OAAO,EAAE,YAAW;YAClB,IACEC,KAAK,GAAGrE,QAAQ,CAACmC,IAAT,GAAgB,GAD1B;YAAA,IAEEmC,SAAS,GAAG,CAFd;YAIAhF,IAAI,GAAG,KAAP;YACA4E,YAAY,CAACvD,MAAM,CAAClB,WAAP,CAAmB0E,KAApB,CAAZ;YACAvF,CAAC,CAAC2D,IAAF,CAAO9C,WAAP,EAAoB,UAAS+C,KAAT,EAAgB9B,IAAhB,EAAsB;cACxC4D,SAAS,IAAI5D,IAAI,CAAC,gBAAD,CAAjB;YACD,CAFD;YAGA2D,KAAK,IAAI,MAAMC,SAAN,GAAkB,IAA3B;;YACA,IAAGkC,cAAH,EAAmB;cACjBnC,KAAK,IAAI,QAAQmC,cAAR,GAAyB,IAAlC;YACD;;YACD,IAAGD,WAAW,CAACtD,MAAZ,GAAqB,CAAxB,EAA2B;cACzBoB,KAAK,IAAI,MAAM,GAAN,GAAYkC,WAAW,CAACtD,MAAxB,GAAiC,GAA1C;YACD;;YACD,IAAI,CAAC/B,OAAO,CAACK,KAAR,KAAkBxC,SAAlB,IAA+BmC,OAAO,CAACqD,KAAR,KAAkBxF,SAAlD,KAAgEU,WAAW,CAACwD,MAAZ,GAAqB,CAAzF,EAA4F;cAC1F/B,OAAO,CAACO,cAAR,CAAuB4C,KAAvB;;cACA,IAAGnD,OAAO,CAACqD,KAAX,EAAkB;gBAChBrD,OAAO,CAACqD,KAAR,CAAc9E,WAAd;cACD,CAFD,MAGK;gBACHb,CAAC,CAAC2D,IAAF,CAAO9C,WAAP,EAAoB,UAAS+C,KAAT,EAAgB9B,IAAhB,EAAsB;kBACxCQ,OAAO,CAACG,GAAR,CAAYX,IAAI,CAAC,MAAD,CAAJ,GAAe,IAAf,GAAsBA,IAAI,CAAC,gBAAD,CAA1B,GAA6C,IAAzD;gBACD,CAFD;cAGD;;cACDQ,OAAO,CAACM,QAAR;YACD;;YACD/B,WAAW,GAAG,EAAd;UACD;QApDU,CAvSN;QA6VP+E,MAAM,EAAE,UAAS9E,KAAT,EAAgB+E,eAAhB,EAAiCC,OAAjC,EAA0C;UAChD,IACEC,MAAM,GAAGlE,QADX;UAAA,IAEEmE,QAFF;UAAA,IAGEC,KAHF;UAAA,IAIEC,QAJF;UAMAL,eAAe,GAAGA,eAAe,IAAI5E,cAArC;UACA6E,OAAO,GAAWlE,OAAO,IAAYkE,OAArC;;UACA,IAAG,OAAOhF,KAAP,IAAgB,QAAhB,IAA4BiF,MAAM,KAAK5F,SAA1C,EAAqD;YACnDW,KAAK,GAAMA,KAAK,CAACqF,KAAN,CAAY,OAAZ,CAAX;YACAH,QAAQ,GAAGlF,KAAK,CAACuD,MAAN,GAAe,CAA1B;YACArE,CAAC,CAAC2D,IAAF,CAAO7C,KAAP,EAAc,UAASsF,KAAT,EAAgBlC,KAAhB,EAAuB;cACnC,IAAImC,cAAc,GAAID,KAAK,IAAIJ,QAAV,GACjB9B,KAAK,GAAGpD,KAAK,CAACsF,KAAK,GAAG,CAAT,CAAL,CAAiBE,MAAjB,CAAwB,CAAxB,EAA2BC,WAA3B,EAAR,GAAmDzF,KAAK,CAACsF,KAAK,GAAG,CAAT,CAAL,CAAiBlF,KAAjB,CAAuB,CAAvB,CADlC,GAEjBJ,KAFJ;;cAIA,IAAId,CAAC,CAACqB,aAAF,CAAiB0E,MAAM,CAACM,cAAD,CAAvB,KAA8CD,KAAK,IAAIJ,QAA3D,EAAuE;gBACrED,MAAM,GAAGA,MAAM,CAACM,cAAD,CAAf;cACD,CAFD,MAGK,IAAIN,MAAM,CAACM,cAAD,CAAN,KAA2BlG,SAA/B,EAA2C;gBAC9C8F,KAAK,GAAGF,MAAM,CAACM,cAAD,CAAd;gBACA,OAAO,KAAP;cACD,CAHI,MAIA,IAAIrG,CAAC,CAACqB,aAAF,CAAiB0E,MAAM,CAAC7B,KAAD,CAAvB,KAAqCkC,KAAK,IAAIJ,QAAlD,EAA8D;gBACjED,MAAM,GAAGA,MAAM,CAAC7B,KAAD,CAAf;cACD,CAFI,MAGA,IAAI6B,MAAM,CAAC7B,KAAD,CAAN,KAAkB/D,SAAtB,EAAkC;gBACrC8F,KAAK,GAAGF,MAAM,CAAC7B,KAAD,CAAd;gBACA,OAAO,KAAP;cACD,CAHI,MAIA;gBACH,OAAO,KAAP;cACD;YACF,CAtBD;UAuBD;;UACD,IAAKlE,CAAC,CAACI,UAAF,CAAc6F,KAAd,CAAL,EAA6B;YAC3BC,QAAQ,GAAGD,KAAK,CAAChB,KAAN,CAAYa,OAAZ,EAAqBD,eAArB,CAAX;UACD,CAFD,MAGK,IAAGI,KAAK,KAAK9F,SAAb,EAAwB;YAC3B+F,QAAQ,GAAGD,KAAX;UACD;;UACD,IAAGQ,KAAK,CAACC,OAAN,CAAc1E,aAAd,CAAH,EAAiC;YAC/BA,aAAa,CAAC6B,IAAd,CAAmBqC,QAAnB;UACD,CAFD,MAGK,IAAGlE,aAAa,KAAK7B,SAArB,EAAgC;YACnC6B,aAAa,GAAG,CAACA,aAAD,EAAgBkE,QAAhB,CAAhB;UACD,CAFI,MAGA,IAAGA,QAAQ,KAAK/F,SAAhB,EAA2B;YAC9B6B,aAAa,GAAGkE,QAAhB;UACD;;UACD,OAAOD,KAAP;QACD;MAjZM,CAAT;;MAmZA,IAAGjF,aAAH,EAAkB;QAChB,IAAGa,QAAQ,KAAK1B,SAAhB,EAA2B;UACzB4B,MAAM,CAACE,UAAP;QACD;;QACDF,MAAM,CAAC6D,MAAP,CAAc9E,KAAd;MACD,CALD,MAMK;QACH,IAAGe,QAAQ,KAAK1B,SAAhB,EAA2B;UACzB0B,QAAQ,CAAC+D,MAAT,CAAgB,SAAhB;QACD;;QACD7D,MAAM,CAACE,UAAP;MACD;IACF,CAzbH;IA4bA,OAAQD,aAAa,KAAK7B,SAAnB,GACH6B,aADG,GAEH,IAFJ;EAID,CA7cD;;EA+cAhC,CAAC,CAACQ,EAAF,CAAKsrD,MAAL,CAAY1qD,QAAZ,GAAuB;IAErBmC,IAAI,EAAY,QAFK;IAGrBhC,SAAS,EAAO,QAHK;IAKrBmyB,IAAI,EAAY,MALK;IAOrBtd,MAAM,EAAU,KAPK;IAQrB5T,KAAK,EAAW,KARK;IASrBL,OAAO,EAAS,KATK;IAUrBtB,WAAW,EAAK,IAVK;IAYrBorD,aAAa,EAAG,CAZK;IAarBD,WAAW,EAAK,IAbK;IAcrBE,SAAS,EAAO,CAdK;IAerB/0B,SAAS,EAAO,MAfK;IAiBrB1G,UAAU,EAAM,KAjBK;IAmBrBm8B,MAAM,EAAU,UAASd,MAAT,EAAgB,CAAE,CAnBb;IAqBrBtqD,KAAK,EAAW;MACdgF,MAAM,EAAM,sCADE;MAEdqmD,SAAS,EAAG;IAFE,CArBK;IA2BrBpkD,QAAQ,EAAE;MACRqjD,MAAM,EAAM,QADJ;MAERI,SAAS,EAAG,WAFJ;MAGRx4B,IAAI,EAAQ;IAHJ,CA3BW;IAiCrBhrB,SAAS,EAAG;MACV8S,MAAM,EAAK,QADD;MAEV1X,QAAQ,EAAG,UAFD;MAGVuxB,QAAQ,EAAG,UAHD;MAIV4R,OAAO,EAAI,SAJD;MAKVylB,eAAe,EAAG;IALR,CAjCS;IAyCrBX,OAAO,EAAG;MACRY,oBAAoB,EAAG;IADf,CAzCW;IA6CrB9kD,QAAQ,EAAI;MACV6rB,IAAI,EAAG;IADG,CA7CS;IAiDrBpgB,SAAS,EAAE;MACTogB,IAAI,EAAE,UAASw4B,SAAT,EAAoBjf,SAApB,EAA+B;QACnC,IACEvZ,IAAI,GAAG,CADT;QAAA,IAEEjgB,IAAI,GAAG,EAFT;;QAIA,OAAMigB,IAAI,IAAIw4B,SAAd,EAAyB;UACvBz4C,IAAI,IAAI,eAAaw5B,SAAb,GAAuB,aAA/B;UACAvZ,IAAI;QACL;;QACD,OAAOjgB,IAAP;MACD;IAXQ;EAjDU,CAAvB;AAiEC,CA/hBA,EA+hBGlM,MA/hBH,EA+hBWtH,MA/hBX,EA+hBmBC,QA/hBnB;AAiiBD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA;;AAAC,CAAC,UAAUF,CAAV,EAAaC,MAAb,EAAqBC,QAArB,EAA+BC,SAA/B,EAA0C;EAE5C;;EAEAH,CAAC,CAACI,UAAF,GAAeJ,CAAC,CAACI,UAAF,IAAgB,UAASC,GAAT,EAAc;IAC3C,OAAO,OAAOA,GAAP,KAAe,UAAf,IAA6B,OAAOA,GAAG,CAACC,QAAX,KAAwB,QAA5D;EACD,CAFD;;EAIAL,MAAM,GAAI,OAAOA,MAAP,IAAiB,WAAjB,IAAgCA,MAAM,CAACuH,IAAP,IAAeA,IAAhD,GACLvH,MADK,GAEJ,OAAOwH,IAAP,IAAe,WAAf,IAA8BA,IAAI,CAACD,IAAL,IAAaA,IAA5C,GACEC,IADF,GAEE3C,QAAQ,CAAC,aAAD,CAAR,EAJN;;EAOA9E,CAAC,CAACQ,EAAF,CAAKiQ,MAAL,GAAc,UAAShQ,UAAT,EAAqB;IACjC,IACEkH,WAAW,GAAO3H,CAAC,CAAC,IAAD,CADrB;IAAA,IAEE4H,cAAc,GAAID,WAAW,CAACE,QAAZ,IAAwB,EAF5C;IAAA,IAIEnH,IAAI,GAAc,IAAIC,IAAJ,GAAWC,OAAX,EAJpB;IAAA,IAKEC,WAAW,GAAO,EALpB;IAAA,IAOEC,KAAK,GAAaC,SAAS,CAAC,CAAD,CAP7B;IAAA,IAQEC,aAAa,GAAM,OAAOF,KAAP,IAAgB,QARrC;IAAA,IASEG,cAAc,GAAI,GAAGC,KAAH,CAASC,IAAT,CAAcJ,SAAd,EAAyB,CAAzB,CATpB;IAAA,IAUEiB,aAVF;IAYAhC,CAAC,CAAC,IAAD,CAAD,CACG2D,IADH,CACQ,YAAW;MACf,IACEvC,QAAQ,GAAcpB,CAAC,CAACqB,aAAF,CAAgBZ,UAAhB,CAAF,GAChBT,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAe,EAAf,EAAmBtB,CAAC,CAACQ,EAAF,CAAKiQ,MAAL,CAAYrP,QAA/B,EAAyCX,UAAzC,CADgB,GAEhBT,CAAC,CAACsB,MAAF,CAAS,EAAT,EAAatB,CAAC,CAACQ,EAAF,CAAKiQ,MAAL,CAAYrP,QAAzB,CAHN;MAAA,IAKEsH,SAAS,GAAUtH,QAAQ,CAACsH,SAL9B;MAAA,IAMED,QAAQ,GAAWrH,QAAQ,CAACqH,QAN9B;MAAA,IAOEE,MAAM,GAAavH,QAAQ,CAACuH,MAP9B;MAAA,IAQEwH,MAAM,GAAa/O,QAAQ,CAAC+O,MAR9B;MAAA,IASEtI,QAAQ,GAAWzG,QAAQ,CAACyG,QAT9B;MAAA,IAUErG,KAAK,GAAcJ,QAAQ,CAACI,KAV9B;MAAA,IAWED,SAAS,GAAUH,QAAQ,CAACG,SAX9B;MAAA,IAaEqH,cAAc,GAAK,MAAMrH,SAb3B;MAAA,IAcEE,eAAe,GAAIF,SAAS,GAAG,SAdjC;MAAA,IAgBEI,OAAO,GAAY3B,CAAC,CAAC,IAAD,CAhBtB;MAAA,IAiBEoI,OAAO,GAAYzG,OAAO,CAAC6H,IAAR,CAAa3B,QAAQ,CAAC6B,MAAtB,CAjBrB;MAAA,IAkBEojD,aAAa,GAAMnrD,OAAO,CAAC6H,IAAR,CAAa3B,QAAQ,CAACklD,YAAtB,CAlBrB;MAAA,IAmBEC,QAAQ,GAAWrrD,OAAO,CAAC6H,IAAR,CAAa3B,QAAQ,CAACkK,OAAtB,CAnBrB;MAAA,IAoBEk7C,OAAO,GAAYtrD,OAAO,CAAC6H,IAAR,CAAa3B,QAAQ,CAACqlD,MAAtB,CApBrB;MAAA,IAqBEC,SAAS,GAAUxrD,OAAO,CAAC6H,IAAR,CAAa3B,QAAQ,CAACulD,QAAtB,CArBrB;MAAA,IAuBExrD,OAAO,GAAY,IAvBrB;MAAA,IAwBEC,QAAQ,GAAWF,OAAO,CAACG,IAAR,CAAaL,eAAb,CAxBrB;MAAA,IA0BE4rD,eAAe,GAAI,KA1BrB;MAAA,IA2BEC,gBAAgB,GAAG,KA3BrB;MAAA,IA6BEvrD,MA7BF;MAgCAA,MAAM,GAAG;QAEPE,UAAU,EAAE,YAAW;UACrBF,MAAM,CAACI,OAAP,CAAe,qBAAf;UACAJ,MAAM,CAACiH,GAAP,CAAW5H,QAAX;UACAW,MAAM,CAACgJ,SAAP,CAAiBwiD,YAAjB;UACAxrD,MAAM,CAACiD,IAAP,CAAYyV,MAAZ;UACA1Y,MAAM,CAACoH,GAAP,CAAWqB,IAAX;UACAzI,MAAM,CAACsd,MAAP,CAActN,OAAd;UACAhQ,MAAM,CAACG,WAAP;QACD,CAVM;QAWPA,WAAW,EAAE,YAAW;UACtBH,MAAM,CAACI,OAAP,CAAe,4BAAf,EAA6CJ,MAA7C;UACAF,QAAQ,GAAGE,MAAX;UACAJ,OAAO,CACJG,IADH,CACQL,eADR,EACyBM,MADzB;QAGD,CAjBM;QAkBP4C,OAAO,EAAE,YAAW;UAClB5C,MAAM,CAACI,OAAP,CAAe,qBAAf;UACAR,OAAO,CACJ8M,GADH,CACO7F,cADP,EAEGhE,UAFH,CAEcnD,eAFd;QAID,CAxBM;QA0BPwH,OAAO,EAAE,YAAW;UAClBlH,MAAM,CAACS,KAAP,CAAa,2BAAb;UACA4F,OAAO,GAAWzG,OAAO,CAAC6H,IAAR,CAAa3B,QAAQ,CAAC6B,MAAtB,CAAlB;UACAojD,aAAa,GAAKnrD,OAAO,CAAC6H,IAAR,CAAa3B,QAAQ,CAACklD,YAAtB,CAAlB;UACAI,SAAS,GAASxrD,OAAO,CAAC6H,IAAR,CAAa3B,QAAQ,CAACulD,QAAtB,CAAlB;UACAJ,QAAQ,GAAUrrD,OAAO,CAAC6H,IAAR,CAAa3B,QAAQ,CAACkK,OAAtB,CAAlB;UACAk7C,OAAO,GAAWtrD,OAAO,CAAC6H,IAAR,CAAa3B,QAAQ,CAACqlD,MAAtB,CAAlB;QACD,CAjCM;QAmCPM,cAAc,EAAE,YAAW;UACzBR,QAAQ,GAAGrrD,OAAO,CAAC6H,IAAR,CAAa3B,QAAQ,CAACkK,OAAtB,CAAX;UACAk7C,OAAO,GAAItrD,OAAO,CAAC6H,IAAR,CAAa3B,QAAQ,CAACqlD,MAAtB,CAAX;QACD,CAtCM;QAwCPloD,IAAI,EAAE;UACJyV,MAAM,EAAE,YAAW;YACjB1Y,MAAM,CAACI,OAAP,CAAe,0BAAf;;YACA,IAAGf,QAAQ,CAACqsD,SAAZ,EAAuB;cACrB9rD,OAAO,CACJoI,EADH,CACMhI,MAAM,CAACiH,GAAP,CAAW0B,UAAX,KAA0B9B,cADhC,EACgDf,QAAQ,CAAC6B,MADzD,EACiE3H,MAAM,CAACiI,KAAP,CAAa6E,KAD9E;cAGAzG,OAAO,CACJwM,IADH,CACQ,cADR,EACwB7S,MAAM,CAAC4J,EAAP,CAAU2rB,MAAV,KAAqB,iBAArB,GAAyC,KADjE;YAGD;;YACD31B,OAAO,CACL;YADK,CAEJoI,EAFH,CAEM,UAAcnB,cAFpB,EAEoCf,QAAQ,CAAC6B,MAF7C,EAEqD3H,MAAM,CAACiI,KAAP,CAAasL,KAFlE,EAGGvL,EAHH,CAGM,SAAcnB,cAHpB,EAGoCf,QAAQ,CAAC6B,MAH7C,EAGqD3H,MAAM,CAACiI,KAAP,CAAaG,IAHlE,EAIGJ,EAJH,CAIM,YAAcnB,cAJpB,EAIoCf,QAAQ,CAAC6B,MAJ7C,EAIqD3H,MAAM,CAAC2rD,cAJ5D,EAKE;YALF,CAMG3jD,EANH,CAMM,UAAcnB,cANpB,EAMoCf,QAAQ,CAACklD,YAN7C,EAM2DhrD,MAAM,CAACjB,KANlE,EAOE;YAPF,CAQGiJ,EARH,CAQM,cAAcnB,cARpB,EAQoCf,QAAQ,CAACkK,OAR7C,EAQsDhQ,MAAM,CAACiI,KAAP,CAAakjD,MAAb,CAAoBvlC,SAR1E,EASG5d,EATH,CASM,YAAcnB,cATpB,EASoCf,QAAQ,CAACkK,OAT7C,EASsDhQ,MAAM,CAACiI,KAAP,CAAakjD,MAAb,CAAoBtlC,OAT1E,EAUG7d,EAVH,CAUM,UAAcnB,cAVpB,EAUoCf,QAAQ,CAACqlD,MAV7C,EAUsDnrD,MAAM,CAACiI,KAAP,CAAakjD,MAAb,CAAoBlyC,KAV1E;UAYD;QAvBG,CAxCC;QAkEPjQ,SAAS,EAAE;UACTwiD,YAAY,EAAE,YAAW;YACvB;YACA;YACA,IAAG9sD,UAAU,IAAIA,UAAU,CAAC8sD,YAAX,KAA4BptD,SAA7C,EAAwD;cACtDiB,QAAQ,CAACmsD,YAAT,GAAwB9sD,UAAU,CAAC8sD,YAAnC;YACD;UACF;QAPQ,CAlEJ;QA4EPvjD,KAAK,EAAE;UACL6E,KAAK,EAAE,YAAW;YAChB,IAAGzN,QAAQ,CAACusD,WAAZ,EAAyB;cACvBroD,YAAY,CAACvD,MAAM,CAACwD,KAAR,CAAZ;cACAxD,MAAM,CAACwD,KAAP,GAAelC,UAAU,CAAC,YAAW;gBACnC,IAAGtB,MAAM,CAAC4J,EAAP,CAAUob,OAAV,EAAH,EAAwB;kBACtBhlB,MAAM,CAACjB,KAAP;gBACD;cACF,CAJwB,EAItBM,QAAQ,CAACusD,WAJa,CAAzB;YAKD,CAPD,MAQK;cACH5rD,MAAM,CAACjB,KAAP;YACD;UACF,CAbI;UAcLwU,KAAK,EAAE,YAAW;YAChBvT,MAAM,CAACoH,GAAP,CAAWmM,KAAX;;YACA,IAAGlU,QAAQ,CAACwsD,aAAT,IAA0B7rD,MAAM,CAAC6Q,GAAP,CAAWi7C,iBAAX,EAA7B,EAA8D;cAC5D9rD,MAAM,CAACjB,KAAP,CAAa,YAAW;gBACtB,IAAGiB,MAAM,CAACgK,GAAP,CAAWqiB,IAAX,EAAH,EAAuB;kBACrBrsB,MAAM,CAAC+rD,WAAP;gBACD;cACF,CAJD;YAKD;UACF,CAvBI;UAwBL3jD,IAAI,EAAE,UAASH,KAAT,EAAgB;YACpB,IACEwqB,aAAa,GAAIt0B,QAAQ,CAACm9B,aAAT,KAA2B,IAD9C;YAAA,IAEEj6B,QAAQ,GAAQ,YAAW;cACzBrB,MAAM,CAAC61C,MAAP,CAAc92C,KAAd;cACAiB,MAAM,CAACsK,MAAP,CAAciJ,KAAd;cACAvT,MAAM,CAACwD,KAAP,GAAelC,UAAU,CAACtB,MAAM,CAACgsD,WAAR,EAAqB3sD,QAAQ,CAAC4sD,SAA9B,CAAzB;YACD,CANH;;YAQA,IAAGx5B,aAAH,EAAkB;cAChB;YACD;;YACD84B,gBAAgB,GAAG,KAAnB;;YACA,IAAGvrD,MAAM,CAACksD,cAAV,EAA0B;cACxBlsD,MAAM,CAACS,KAAP,CAAa,mDAAb;cACAb,OAAO,CACJwN,GADH,CACO,gBAAgBvG,cADvB,EACuCf,QAAQ,CAACkK,OADhD,EACyD,UAAS/H,KAAT,EAAgB;gBACrE,IAAGjI,MAAM,CAAC4J,EAAP,CAAUuiD,SAAV,CAAoBlkD,KAApB,KAA8BqjD,eAAjC,EAAkD;kBAChDjlD,OAAO,CAACkN,KAAR;kBACA;gBACD;;gBACD+3C,eAAe,GAAG,KAAlB;;gBACA,IAAI,CAACtrD,MAAM,CAAC4J,EAAP,CAAU2P,SAAV,EAAD,IAA0B,CAACvZ,MAAM,CAAC4J,EAAP,CAAU6iB,MAAV,EAA/B,EAAmD;kBACjDprB,QAAQ;gBACT;cACF,CAVH;YAYD,CAdD,MAeK;cACHrB,MAAM,CAACS,KAAP,CAAa,oDAAb;cACAY,QAAQ;YACT;UACF,CAxDI;UAyDL8pD,MAAM,EAAE;YACNvlC,SAAS,EAAE,YAAW;cACpB5lB,MAAM,CAACksD,cAAP,GAAwB,IAAxB;YACD,CAHK;YAINrmC,OAAO,EAAE,YAAW;cAClB7lB,MAAM,CAACksD,cAAP,GAAwB,KAAxB;YACD,CANK;YAONjzC,KAAK,EAAE,UAAShR,KAAT,EAAgB;cACrBjI,MAAM,CAACS,KAAP,CAAa,wBAAb;cACA,IACEyqD,OAAO,GAAGjtD,CAAC,CAAC,IAAD,CADb;cAAA,IAEEqa,MAAM,GAAI4yC,OAAO,CAACzjD,IAAR,CAAa3B,QAAQ,CAACpC,KAAtB,EAA6B0L,EAA7B,CAAgC,CAAhC,CAFZ;cAAA,IAGEg9C,KAAK,GAAKlB,OAAO,CAACthD,EAAR,CAAW,SAAX,IACNshD,OADM,GAENA,OAAO,CAACzjD,IAAR,CAAa,SAAb,EAAwB2H,EAAxB,CAA2B,CAA3B,CALN;cAAA,IAMEi9C,IAAI,GAAMD,KAAK,CAACv5C,IAAN,CAAW,MAAX,KAAwB,KANpC;cAAA,IAOEqT,MAAM,GAAIkmC,KAAK,CAACv5C,IAAN,CAAW,QAAX,KAAwB,KAPpC;cAAA,IAQE;cACA1Q,KAAK,GAAMmW,MAAM,CAAChW,MAAP,GAAgB,CAAjB,GACNgW,MAAM,CAAC3K,IAAP,EADM,GAEN,KAXN;cAAA,IAYEqC,OAAO,GAAGhQ,MAAM,CAACiH,GAAP,CAAW+I,OAAX,EAZZ;cAAA,IAaEm7C,MAAM,GAAID,OAAO,CAACnrD,IAAR,CAAa2G,QAAQ,CAACykD,MAAtB,KAAiCnrD,MAAM,CAACiH,GAAP,CAAWkkD,MAAX,CAAkBhpD,KAAlB,EAAyB6N,OAAzB,CAb7C;cAeA,IAAI8Y,QAAQ,GAAG9oB,MAAM,CAACiH,GAAP,CAAW9E,KAAX,EAAf;;cACA,IAAIlE,CAAC,CAACI,UAAF,CAAagB,QAAQ,CAACgnB,QAAtB,CAAJ,EAAsC;gBACpC,IAAGhnB,QAAQ,CAACgnB,QAAT,CAAkBjnB,IAAlB,CAAuBS,OAAvB,EAAgCsrD,MAAhC,EAAwCn7C,OAAxC,MAAqD,KAAxD,EAA+D;kBAC7DhQ,MAAM,CAACS,KAAP,CAAa,0DAAb;kBACA6qD,eAAe,GAAG,IAAlB;kBACA;gBACD;cACF;;cACDtrD,MAAM,CAACgsD,WAAP;;cACA,IAAG7pD,KAAK,IAAInC,MAAM,CAACiH,GAAP,CAAW9E,KAAX,OAAuB2mB,QAAnC,EAA6C;gBAC3C9oB,MAAM,CAACoH,GAAP,CAAWjF,KAAX,CAAiBA,KAAjB;cACD;;cACD,IAAGkqD,IAAH,EAAS;gBACPpkD,KAAK,CAACC,cAAN;gBACAlI,MAAM,CAACI,OAAP,CAAe,qCAAf,EAAsDgsD,KAAtD;;gBACA,IAAGlmC,MAAM,IAAI,QAAV,IAAsBje,KAAK,CAACkF,OAA/B,EAAwC;kBACtCjP,MAAM,CAAC4b,IAAP,CAAYuyC,IAAZ;gBACD,CAFD,MAGK;kBACHnuD,MAAM,CAACouD,QAAP,CAAgBD,IAAhB,GAAwBA,IAAxB;gBACD;cACF;YACF;UA9CK;QAzDH,CA5EA;QAsLPE,aAAa,EAAE,UAASxhD,GAAT,EAAc;UAC3B,IAAIyhD,KAAJ,EAAWC,QAAX,EAAqBC,gBAArB,EAAuCC,aAAvC;;UACA,IAAG5hD,GAAG,CAACzI,MAAJ,KAAe,CAAlB,EAAqB;YACnB;UACD;;UACDkqD,KAAK,GAAGzhD,GAAG,CAAC+Y,QAAJ,GAAe8hB,GAAvB;UACA6mB,QAAQ,GAAGD,KAAK,GAAGzhD,GAAG,CAACo5B,WAAJ,CAAgB,IAAhB,CAAnB;UAEAuoB,gBAAgB,GAAGzB,QAAQ,CAAC5mB,SAAT,EAAnB;UACAsoB,aAAa,GAAG1B,QAAQ,CAAC56B,MAAT,EAAhB;;UAEA,IAAIm8B,KAAK,GAAG,CAAZ,EAAe;YACbvB,QAAQ,CAAC5mB,SAAT,CAAmBqoB,gBAAgB,GAAGF,KAAtC;UACD,CAFD,MAIK,IAAIG,aAAa,GAAGF,QAApB,EAA8B;YACjCxB,QAAQ,CAAC5mB,SAAT,CAAmBqoB,gBAAgB,IAAID,QAAQ,GAAGE,aAAf,CAAnC;UACD;QACF,CAxMM;QAyMPhB,cAAc,EAAE,UAAS1jD,KAAT,EAAgB;UAC9B,IACE;UACAijD,OAAO,GAAWtrD,OAAO,CAAC6H,IAAR,CAAa3B,QAAQ,CAACqlD,MAAtB,CAFpB;UAAA,IAGEC,SAAS,GAASxrD,OAAO,CAAC6H,IAAR,CAAa3B,QAAQ,CAACulD,QAAtB,CAHpB;UAAA,IAIEuB,aAAa,GAAK1B,OAAO,CAAClgD,MAAR,CAAe,MAAMrE,SAAS,CAAC8S,MAA/B,CAJpB;UAAA,IAKEozC,YAAY,GAAM3B,OAAO,CAACrpD,KAAR,CAAe+qD,aAAf,CALpB;UAAA,IAMEE,UAAU,GAAQ5B,OAAO,CAAC5oD,MAN5B;UAAA,IAOEyqD,eAAe,GAAGH,aAAa,CAACtqD,MAAd,GAAuB,CAP3C;UAAA,IASE0K,OAAO,GAAW/E,KAAK,CAAC2E,KAT1B;UAAA,IAUE0C,IAAI,GAAc;YAChB4vB,SAAS,EAAG,CADI;YAEhBjyB,KAAK,EAAO,EAFI;YAGhBC,MAAM,EAAM,EAHI;YAIhB4yB,OAAO,EAAK,EAJI;YAKhBG,SAAS,EAAG;UALI,CAVpB;UAAA,IAiBEJ,QAjBF,CAD8B,CAoB9B;;UACA,IAAG7yB,OAAO,IAAIsC,IAAI,CAACpC,MAAnB,EAA2B;YACzBlN,MAAM,CAACI,OAAP,CAAe,2CAAf;YACAJ,MAAM,CAACgsD,WAAP;YACAT,gBAAgB,GAAG,IAAnB;UACD;;UACD,IAAIvrD,MAAM,CAAC4J,EAAP,CAAU2pB,OAAV,EAAJ,EAA0B;YACxB,IAAGvmB,OAAO,IAAIsC,IAAI,CAACrC,KAAnB,EAA0B;cACxBjN,MAAM,CAACI,OAAP,CAAe,4CAAf;;cACA,IAAI8qD,OAAO,CAAClgD,MAAR,CAAe,MAAMrE,SAAS,CAAC8S,MAA/B,EAAuCnX,MAAvC,GAAgD,CAApD,EAAwD;gBACtDtC,MAAM,CAACiI,KAAP,CAAakjD,MAAb,CAAoBlyC,KAApB,CAA0B7Z,IAA1B,CAA+B8rD,OAAO,CAAClgD,MAAR,CAAe,MAAMrE,SAAS,CAAC8S,MAA/B,CAA/B,EAAuExR,KAAvE;gBACAA,KAAK,CAACC,cAAN;gBACA,OAAO,KAAP;cACD;YACF,CAPD,MAQK,IAAG8E,OAAO,IAAIsC,IAAI,CAACwwB,OAAhB,IAA2BitB,eAA9B,EAA+C;cAClD/sD,MAAM,CAACI,OAAP,CAAe,wCAAf;cACAy/B,QAAQ,GAAIgtB,YAAY,GAAG,CAAf,GAAmB,CAApB,GACPA,YADO,GAEPA,YAAY,GAAG,CAFnB;cAIAzB,SAAS,CACN/gD,WADH,CACe1D,SAAS,CAAC8S,MADzB;cAGAyxC,OAAO,CACJ7gD,WADH,CACe1D,SAAS,CAAC8S,MADzB,EAEGrK,EAFH,CAEMywB,QAFN,EAGKvuB,QAHL,CAGc3K,SAAS,CAAC8S,MAHxB,EAIKlQ,OAJL,CAIa6hD,SAJb,EAKO95C,QALP,CAKgB3K,SAAS,CAAC8S,MAL1B;cAOAzZ,MAAM,CAACusD,aAAP,CAAqBrB,OAAO,CAAC97C,EAAR,CAAWywB,QAAX,CAArB;cACA53B,KAAK,CAACC,cAAN;YACD,CAlBI,MAmBA,IAAG8E,OAAO,IAAIsC,IAAI,CAAC2wB,SAAnB,EAA8B;cACjCjgC,MAAM,CAACI,OAAP,CAAe,0CAAf;cACAy/B,QAAQ,GAAIgtB,YAAY,GAAG,CAAf,IAAoBC,UAArB,GACPD,YADO,GAEPA,YAAY,GAAG,CAFnB;cAIAzB,SAAS,CACN/gD,WADH,CACe1D,SAAS,CAAC8S,MADzB;cAGAyxC,OAAO,CACJ7gD,WADH,CACe1D,SAAS,CAAC8S,MADzB,EAEGrK,EAFH,CAEMywB,QAFN,EAGKvuB,QAHL,CAGc3K,SAAS,CAAC8S,MAHxB,EAIKlQ,OAJL,CAIa6hD,SAJb,EAKO95C,QALP,CAKgB3K,SAAS,CAAC8S,MAL1B;cAOAzZ,MAAM,CAACusD,aAAP,CAAqBrB,OAAO,CAAC97C,EAAR,CAAWywB,QAAX,CAArB;cACA53B,KAAK,CAACC,cAAN;YACD;UACF,CA/CD,MAgDK;YACH;YACA,IAAG8E,OAAO,IAAIsC,IAAI,CAACrC,KAAnB,EAA0B;cACxBjN,MAAM,CAACI,OAAP,CAAe,oCAAf;cACAJ,MAAM,CAACjB,KAAP;cACAiB,MAAM,CAACoH,GAAP,CAAW4lD,aAAX;cACA3mD,OAAO,CAAC+G,GAAR,CAAY,OAAZ,EAAqBpN,MAAM,CAACsK,MAAP,CAAc2iD,WAAnC;YACD;UACF;QACF,CA5RM;QA8RP5vC,KAAK,EAAE;UACL2X,GAAG,EAAE,UAAS8C,UAAT,EAAqBz2B,QAArB,EAA+B;YAClC,IACE4zB,WAAW,GAAG;cACZx0B,KAAK,EAAepB,QAAQ,CAACoB,KADjB;cAEZuH,EAAE,EAAkB,KAFR;cAGZvF,KAAK,EAAepD,QAAQ,CAACoD,KAHjB;cAIZsF,MAAM,EAAc,QAJR;cAKZmtB,OAAO,EAAa;gBAClBn2B,KAAK,EAAG+4B;cADU,CALR;cAQZ7kB,SAAS,EAAW,UAAS9O,QAAT,EAAmB;gBACrCnE,MAAM,CAACktD,KAAP,CAAa/oD,QAAb,CAAsB/E,IAAtB,CAA2BS,OAA3B,EAAoCsE,QAApC,EAA8C2zB,UAA9C;gBACAz2B,QAAQ;cACT,CAXW;cAYZoS,SAAS,EAAW,YAAW;gBAC7BzT,MAAM,CAACmtD,cAAP,CAAsB1tD,KAAK,CAAC05B,WAA5B;gBACA93B,QAAQ;cACT,CAfW;cAgBZ+rD,OAAO,EAAG,UAASjpD,QAAT,EAAmB,CAC5B,CAjBW;cAkBZ+0B,OAAO,EAAal5B,MAAM,CAACP;YAlBf,CADhB;YAsBAxB,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAe01B,WAAf,EAA4B51B,QAAQ,CAAC41B,WAArC;YACAj1B,MAAM,CAACI,OAAP,CAAe,wBAAf,EAAyC60B,WAAzC;YACAr1B,OAAO,CAACo1B,GAAR,CAAYC,WAAZ;UACD;QA3BI,CA9RA;QA4TPjrB,GAAG,EAAE;UACHwuB,MAAM,EAAE,YAAW;YACjB,OAAOv6B,CAAC,CAACQ,EAAF,CAAKu2B,GAAL,KAAa52B,SAApB;UACD,CAHE;UAIHiuB,IAAI,EAAE,YAAW;YACf,OAAOrsB,MAAM,CAAC4J,EAAP,CAAUob,OAAV,MAAuB,CAAChlB,MAAM,CAAC4J,EAAP,CAAU2pB,OAAV,EAAxB,IAA+C,CAACvzB,MAAM,CAAC4J,EAAP,CAAU8B,KAAV,EAAvD;UACD,CANE;UAOHiG,UAAU,EAAE,YAAW;YACrB,OAAOtS,QAAQ,CAACsS,UAAT,IAAuB1T,CAAC,CAACQ,EAAF,CAAKkT,UAAL,KAAoBvT,SAA3C,IAAwDwB,OAAO,CAAC+R,UAAR,CAAmB,cAAnB,CAA/D;UACD;QATE,CA5TE;QAwUP/H,EAAE,EAAE;UACF2P,SAAS,EAAE,YAAW;YACpB,OAAO0xC,QAAQ,CAAC7gD,QAAT,CAAkBzD,SAAS,CAAC4S,SAA5B,CAAP;UACD,CAHC;UAIFgc,MAAM,EAAE,YAAW;YACjB,OAAO,CAAC,CAACr3B,MAAM,CAACq3B,MAAT,KAAoB,CAAC,CAACr3B,MAAM,CAACq3B,MAAP,CAAcwT,QAAhB,IAA4B,CAAC,CAAC7qC,MAAM,CAACq3B,MAAP,CAAcyT,OAAhE,CAAP;UACD,CANC;UAOFvc,MAAM,EAAE,YAAW;YACjB,OAAOw+B,QAAQ,CAAC7gD,QAAT,CAAkBzD,SAAS,CAAC8lB,MAA5B,CAAP;UACD,CATC;UAUF0/B,SAAS,EAAE,UAASlkD,KAAT,EAAgB;YACzB,IAAG,CAACA,KAAK,CAACie,MAAV,EAAkB;cAChB;YACD;;YACD,IACE2G,OAAO,GAAG5uB,CAAC,CAACgK,KAAK,CAACie,MAAP,CADb;YAAA,IAEEyrB,OAAO,GAAG1zC,CAAC,CAAC0Y,QAAF,CAAWxY,QAAQ,CAACixB,eAApB,EAAqCnnB,KAAK,CAACie,MAA3C,CAFZ;YAIA,OAAQyrB,OAAO,IAAI9kB,OAAO,CAACtjB,OAAR,CAAgBzD,QAAQ,CAAC3C,OAAzB,EAAkCb,MAAlC,GAA2C,CAA9D;UACD,CAnBC;UAoBFoJ,KAAK,EAAE,YAAW;YAChB,OAAQu/C,QAAQ,CAACv5C,IAAT,OAAoB,EAA5B;UACD,CAtBC;UAuBF6hB,OAAO,EAAE,YAAW;YAClB,OAAQ03B,QAAQ,CAACjgD,MAAT,CAAgB,UAAhB,EAA4B1I,MAA5B,GAAqC,CAA7C;UACD,CAzBC;UA0BF0iB,OAAO,EAAE,YAAW;YAClB,OAAQ3e,OAAO,CAAC2E,MAAR,CAAe,QAAf,EAAyB1I,MAAzB,GAAkC,CAA1C;UACD;QA5BC,CAxUG;QAuWP2E,GAAG,EAAE;UACH5H,QAAQ,EAAE,YAAW;YACnB,IAAGpB,CAAC,CAACqB,aAAF,CAAgBZ,UAAhB,KAA+BA,UAAU,CAAC2uD,cAA7C,EAA6D;cAC3DhuD,QAAQ,CAACy6B,cAAT,GAA0Bp7B,UAAU,CAAC2uD,cAArC;cACArtD,MAAM,CAACP,KAAP,CAAaJ,QAAQ,CAACI,KAAT,CAAe6tD,eAA5B,EAA6CztD,OAA7C;YACD;;YACD,IAAIR,QAAQ,CAAC2zB,gBAAT,IAA6B,CAACpnB,MAAM,CAAC5I,SAAP,CAAiB3C,SAAnD,EAA8D;cAC5DhB,QAAQ,CAAC2zB,gBAAT,GAA4B,KAA5B;cACAhzB,MAAM,CAACP,KAAP,CAAaA,KAAK,CAACwzB,WAAnB,EAAgCpzB,OAAhC;YACD;UACF,CAVE;UAWH8I,UAAU,EAAE,YAAW;YACrB,IACEhB,MAAM,GAAGtB,OAAO,CAAC,CAAD,CADlB;YAAA,IAEEsC,UAAU,GAAMhB,MAAM,KAAKvJ,SAAX,IAAwBuJ,MAAM,CAACsG,OAAP,KAAmB7P,SAA5C,GACX,OADW,GAEVuJ,MAAM,KAAKvJ,SAAX,IAAwBuJ,MAAM,CAACuG,gBAAP,KAA4B9P,SAArD,GACE,gBADF,GAEE,OANR;YAQA,OAAOuK,UAAP;UACD,CArBE;UAsBHxG,KAAK,EAAE,YAAW;YAChB,OAAOkE,OAAO,CAACoE,GAAR,EAAP;UACD,CAxBE;UAyBHuF,OAAO,EAAE,YAAW;YAClB,IACEA,OAAO,GAAGpQ,OAAO,CAACG,IAAR,CAAa2G,QAAQ,CAACsJ,OAAtB,CADZ;YAGA,OAAOA,OAAP;UACD,CA9BE;UA+BHm7C,MAAM,EAAE,UAAShpD,KAAT,EAAgB6N,OAAhB,EAAyB;YAC/B,IACEm7C,MAAM,GAAS,KADjB;YAGAhpD,KAAK,GAAIA,KAAK,KAAK/D,SAAX,GACJ+D,KADI,GAEJnC,MAAM,CAACiH,GAAP,CAAW9E,KAAX,EAFJ;YAIA6N,OAAO,GAAIA,OAAO,KAAK5R,SAAb,GACN4R,OADM,GAENhQ,MAAM,CAACiH,GAAP,CAAW+I,OAAX,EAFJ;;YAIA,IAAG3Q,QAAQ,CAACoJ,IAAT,KAAkB,UAArB,EAAiC;cAC/BzI,MAAM,CAACS,KAAP,CAAa,6BAAb,EAA4C0B,KAA5C;cACAlE,CAAC,CAAC2D,IAAF,CAAOoO,OAAP,EAAgB,UAASnO,KAAT,EAAgBwpD,QAAhB,EAA0B;gBACxC,IAAG3mD,KAAK,CAACC,OAAN,CAAc0mD,QAAQ,CAACr7C,OAAvB,CAAH,EAAoC;kBAClCm7C,MAAM,GAAGnrD,MAAM,CAAC0O,MAAP,CAAc1K,MAAd,CAAqB7B,KAArB,EAA4BkpD,QAAQ,CAACr7C,OAArC,EAA8C,CAA9C,CAAT,CADkC,CAElC;;kBACA,IAAGm7C,MAAH,EAAW;oBACT,OAAO,KAAP;kBACD;gBACF;cACF,CARD;YASD,CAXD,MAYK;cACHnrD,MAAM,CAACS,KAAP,CAAa,kCAAb,EAAiD0B,KAAjD;cACAgpD,MAAM,GAAGnrD,MAAM,CAAC0O,MAAP,CAAc1K,MAAd,CAAqB7B,KAArB,EAA4B6N,OAA5B,EAAqC,CAArC,CAAT;YACD;;YACD,OAAOm7C,MAAM,IAAI,KAAjB;UACD;QA5DE,CAvWE;QAsaP33B,MAAM,EAAE;UACN+5B,WAAW,EAAE,YAAW;YACtBvtD,MAAM,CAACI,OAAP,CAAe,wBAAf;YACA8qD,OAAO,CAAC53C,KAAR,GAAgBhC,QAAhB,CAAyB3K,SAAS,CAAC8S,MAAnC;UACD;QAJK,CAtaD;QA6aPrS,GAAG,EAAE;UACHmM,KAAK,EAAE,YAAW;YAChB3T,OAAO,CAAC0R,QAAR,CAAiB3K,SAAS,CAAC4M,KAA3B;UACD,CAHE;UAIH2xB,OAAO,EAAE,YAAW;YAClBtlC,OAAO,CAAC0R,QAAR,CAAiB3K,SAAS,CAACu+B,OAA3B;UACD,CANE;UAOH/iC,KAAK,EAAE,UAASA,KAAT,EAAgB;YACrBnC,MAAM,CAACI,OAAP,CAAe,4BAAf,EAA6C+B,KAA7C;YACAkE,OAAO,CACJoE,GADH,CACOtI,KADP;UAGD,CAZE;UAaHsG,IAAI,EAAE,UAASA,IAAT,EAAe;YACnBA,IAAI,GAAGA,IAAI,IAAIpJ,QAAQ,CAACoJ,IAAxB;;YACA,IAAGpJ,QAAQ,CAACoJ,IAAT,IAAiB,UAApB,EAAgC;cAC9B7I,OAAO,CAAC0R,QAAR,CAAiBjS,QAAQ,CAACoJ,IAA1B;YACD;UACF,CAlBE;UAmBHukD,aAAa,EAAE,YAAW;YACxBjC,aAAa,CAACz5C,QAAd,CAAuB3K,SAAS,CAACkP,OAAjC;UACD;QArBE,CA7aE;QAqcPvL,MAAM,EAAE;UACN46B,OAAO,EAAE,YAAW;YAClBtlC,OAAO,CAACyK,WAAR,CAAoB1D,SAAS,CAACu+B,OAA9B;UACD,CAHK;UAIN3xB,KAAK,EAAE,YAAW;YAChB3T,OAAO,CAACyK,WAAR,CAAoB1D,SAAS,CAAC4M,KAA9B;UACD,CANK;UAONy5C,aAAa,EAAE,YAAW;YACxBjC,aAAa,CAAC1gD,WAAd,CAA0B1D,SAAS,CAACkP,OAApC;UACD,CATK;UAUNyjB,UAAU,EAAE,UAAS3rB,IAAT,EAAe;YACzB,OAAOtO,QAAQ,CAAC2zB,gBAAT,GAA6BrlB,IAAI,CAACtN,SAAL,CAAe,KAAf,EAAsB0N,OAAtB,CAA8B,kBAA9B,EAAkD,EAAlD,CAA7B,GAAqFJ,IAA5F;UACD;QAZK,CArcD;QAodP5O,KAAK,EAAE,UAASsC,QAAT,EAAmB;UACxBA,QAAQ,GAAGpD,CAAC,CAACI,UAAF,CAAagD,QAAb,IACPA,QADO,GAEP,YAAU,CAAE,CAFhB;UAIA,IACEy2B,UAAU,GAAG93B,MAAM,CAACiH,GAAP,CAAW9E,KAAX,EADf;UAAA,IAEEM,KAAK,GAAGzC,MAAM,CAACgiC,IAAP,CAAYv/B,KAAZ,CAAkBq1B,UAAlB,CAFV;;UAIAz2B,QAAQ,GAAGA,QAAQ,IAAI,YAAW,CAAE,CAApC;;UACA,IAAIrB,MAAM,CAAC6Q,GAAP,CAAWi7C,iBAAX,EAAJ,EAAsC;YACpC,IAAGrpD,KAAH,EAAU;cACRzC,MAAM,CAACS,KAAP,CAAa,2BAAb,EAA0Cq3B,UAA1C;cACA93B,MAAM,CAACozB,IAAP,CAAYpjB,OAAZ,CAAoBvN,KAAK,CAACuN,OAA1B;cACAhQ,MAAM,CAACwtD,UAAP,CAAkB/qD,KAAK,CAACiP,IAAxB;cACA1R,MAAM,CAACytD,MAAP,CAAc76B,EAAd,CAAiBnwB,KAAK,CAACuN,OAAvB;cACA3O,QAAQ;YACT,CAND,MAOK;cACHrB,MAAM,CAACS,KAAP,CAAa,cAAb,EAA6Bq3B,UAA7B;;cACA,IAAG75B,CAAC,CAACqB,aAAF,CAAgBD,QAAQ,CAACqtC,MAAzB,KAAoChoC,KAAK,CAACC,OAAN,CAActF,QAAQ,CAACqtC,MAAvB,CAAvC,EAAuE;gBACrE1sC,MAAM,CAAC0O,MAAP,CAAcg/C,KAAd,CAAoB51B,UAApB;gBACAz2B,QAAQ;cACT,CAHD,MAIK,IAAIrB,MAAM,CAACgK,GAAP,CAAWwuB,MAAX,EAAJ,EAA0B;gBAC7Bx4B,MAAM,CAAC0O,MAAP,CAAc8nB,MAAd,CAAqBsB,UAArB,EAAiCz2B,QAAjC;cACD,CAFI,MAGA;gBACHrB,MAAM,CAACP,KAAP,CAAaA,KAAK,CAACitC,MAAnB;gBACArrC,QAAQ;cACT;YACF;;YACDhC,QAAQ,CAACsuD,aAAT,CAAuBvuD,IAAvB,CAA4BS,OAA5B,EAAqCi4B,UAArC;UACD,CAvBD,MAwBK;YACH93B,MAAM,CAACgsD,WAAP;UACD;QACF,CAzfM;QA2fPt9C,MAAM,EAAE;UACNg/C,KAAK,EAAE,UAAS51B,UAAT,EAAqB;YAC1B,IACE9nB,OAAO,GAAGhQ,MAAM,CAAC0O,MAAP,CAAc1K,MAAd,CAAqB8zB,UAArB,EAAiCz4B,QAAQ,CAACqtC,MAA1C,CADZ;YAAA,IAEEkhB,UAFF;YAIA5tD,MAAM,CAACoH,GAAP,CAAW89B,OAAX;YACAllC,MAAM,CAACozB,IAAP,CAAYpjB,OAAZ,CAAoBA,OAApB;YACAhQ,MAAM,CAACS,KAAP,CAAa,oCAAb,EAAmDuP,OAAnD;;YACA,IAAG3Q,QAAQ,CAACwuD,UAAT,GAAsB,CAAzB,EAA4B;cAC1B7tD,MAAM,CAACS,KAAP,CAAa,6BAAb,EAA4CuP,OAA5C;cACAA,OAAO,GAAGA,OAAO,CAAC7Q,KAAR,CAAc,CAAd,EAAiBE,QAAQ,CAACwuD,UAA1B,CAAV;YACD;;YACD,IAAGxuD,QAAQ,CAACoJ,IAAT,IAAiB,UAApB,EAAgC;cAC9BuH,OAAO,GAAGhQ,MAAM,CAACsd,MAAP,CAAcwwC,eAAd,CAA8B99C,OAA9B,CAAV;YACD;;YACD49C,UAAU,GAAG5tD,MAAM,CAAC+tD,eAAP,CAAuB;cAClC/9C,OAAO,EAAEA;YADyB,CAAvB,CAAb;YAGAhQ,MAAM,CAACsK,MAAP,CAAc46B,OAAd;YACAllC,MAAM,CAACwtD,UAAP,CAAkBI,UAAlB;YACA5tD,MAAM,CAACytD,MAAP,CAAc76B,EAAd,CAAiB5iB,OAAjB;YACAhQ,MAAM,CAACguD,KAAP,CAAavrD,KAAb,CAAmBq1B,UAAnB,EAA+B;cAC7BpmB,IAAI,EAAMk8C,UADmB;cAE7B59C,OAAO,EAAGA;YAFmB,CAA/B;UAID,CA1BK;UA2BNwmB,MAAM,EAAE,UAASsB,UAAT,EAAqBz2B,QAArB,EAA+B;YACrCA,QAAQ,GAAGpD,CAAC,CAACI,UAAF,CAAagD,QAAb,IACPA,QADO,GAEP,YAAU,CAAE,CAFhB;;YAIA,IAAGzB,OAAO,CAACo1B,GAAR,CAAY,YAAZ,CAAH,EAA8B;cAC5Bp1B,OAAO,CAACo1B,GAAR,CAAY,OAAZ;YACD;;YACDh1B,MAAM,CAACqd,KAAP,CAAa2X,GAAb,CAAiB8C,UAAjB,EAA6Bz2B,QAA7B;YACAzB,OAAO,CACJo1B,GADH,CACO,OADP;UAGD,CAvCK;UAwCNhxB,MAAM,EAAE,UAAS8zB,UAAT,EAAqB4U,MAArB,EAA6B8e,YAA7B,EAA2C;YACjD1zB,UAAU,GAAG93B,MAAM,CAACsK,MAAP,CAAcgvB,UAAd,CAAyB1tB,MAAM,CAACksB,UAAD,CAA/B,CAAb;;YACA,IACE9nB,OAAO,GAAQ,EADjB;YAAA,IAEEi+C,YAAY,GAAG,EAFjB;YAAA,IAGEC,YAAY,GAAG,EAHjB;YAAA,IAIEC,SAAS,GAAMr2B,UAAU,CAAC/pB,OAAX,CAAmBnH,MAAM,CAACsG,MAA1B,EAAkC,MAAlC,CAJjB;YAAA,IAKEkhD,WAAW,GAAI,IAAI7hD,MAAJ,CAAW3F,MAAM,CAACynD,UAAP,GAAoBF,SAA/B,EAA0C,GAA1C,CALjB;YAAA,IAOE;YACAj6B,SAAS,GAAG,UAASqN,KAAT,EAAgB4pB,MAAhB,EAAwB;cAClC,IACEmD,SAAS,GAASrwD,CAAC,CAAC+Z,OAAF,CAAUmzC,MAAV,EAAkBn7C,OAAlB,KAA8B,CAAC,CADnD;cAAA,IAEEu+C,cAAc,GAAItwD,CAAC,CAAC+Z,OAAF,CAAUmzC,MAAV,EAAkB+C,YAAlB,KAAmC,CAAC,CAFxD;cAAA,IAGEM,eAAe,GAAIvwD,CAAC,CAAC+Z,OAAF,CAAUmzC,MAAV,EAAkB8C,YAAlB,KAAmC,CAAC,CAHzD;;cAKA,IAAGK,SAAS,IAAIC,cAAb,IAA+BC,eAAlC,EAAmD;gBACjDjtB,KAAK,CAACz/B,IAAN,CAAWqpD,MAAX;cACD;YACF,CAjBH;;YAmBAze,MAAM,GAAGA,MAAM,IAAIrtC,QAAQ,CAACqtC,MAA5B;YACA8e,YAAY,GAAIA,YAAY,KAAKptD,SAAlB,GACXotD,YADW,GAEXnsD,QAAQ,CAACmsD,YAFb,CAtBiD,CA2BjD;;YACA,IAAG,CAAC9mD,KAAK,CAACC,OAAN,CAAc6mD,YAAd,CAAJ,EAAiC;cAC/BA,YAAY,GAAG,CAACA,YAAD,CAAf;YACD,CA9BgD,CAgCjD;;;YACA,IAAG9e,MAAM,KAAKtuC,SAAX,IAAwBsuC,MAAM,KAAK,KAAtC,EAA6C;cAC3C1sC,MAAM,CAACP,KAAP,CAAaA,KAAK,CAACitC,MAAnB;cACA,OAAO,EAAP;YACD,CApCgD,CAqCjD;;;YACAzuC,CAAC,CAAC2D,IAAF,CAAO4pD,YAAP,EAAqB,UAAS3pD,KAAT,EAAgB6F,KAAhB,EAAuB;cAC1CzJ,CAAC,CAAC2D,IAAF,CAAO8qC,MAAP,EAAe,UAASl7B,KAAT,EAAgBgH,OAAhB,EAAyB;gBACtC,IACErG,WAAW,GAAI,OAAOqG,OAAO,CAAC9Q,KAAD,CAAd,IAAyB,QAA1B,IAAwC,OAAO8Q,OAAO,CAAC9Q,KAAD,CAAd,IAAyB,QADjF;;gBAGA,IAAGyK,WAAH,EAAgB;kBACd,IAAIxE,IAAJ;;kBACA,IAAI,OAAO6K,OAAO,CAAC9Q,KAAD,CAAd,KAA0B,QAA9B,EAAuC;oBACnCiG,IAAI,GAAG3N,MAAM,CAACsK,MAAP,CAAcgvB,UAAd,CAAyB9gB,OAAO,CAAC9Q,KAAD,CAAhC,CAAP;kBACH,CAFD,MAEO;oBACHiG,IAAI,GAAG6K,OAAO,CAAC9Q,KAAD,CAAP,CAAeuE,QAAf,EAAP;kBACH;;kBACD,IAAI0B,IAAI,CAACe,MAAL,CAAY0/C,WAAZ,MAA6B,CAAC,CAAlC,EAAqC;oBACnC;oBACAl6B,SAAS,CAAClkB,OAAD,EAAUwI,OAAV,CAAT;kBACD,CAHD,MAIK,IAAGnZ,QAAQ,CAACy6B,cAAT,KAA4B,OAA5B,IAAuC95B,MAAM,CAAC+5B,WAAP,CAAmBjC,UAAnB,EAA+BnqB,IAA/B,CAA1C,EAAiF;oBACpF;oBACAumB,SAAS,CAAC+5B,YAAD,EAAez1C,OAAf,CAAT;kBACD,CAHI,MAIA,IAAGnZ,QAAQ,CAACy6B,cAAT,IAA2B,IAA3B,IAAmC95B,MAAM,CAACg6B,WAAP,CAAmBlC,UAAnB,EAA+BnqB,IAA/B,CAAtC,EAA6E;oBAChF;oBACAumB,SAAS,CAACg6B,YAAD,EAAe11C,OAAf,CAAT;kBACD;gBACF;cACF,CAxBD;YAyBD,CA1BD;YA2BAva,CAAC,CAACwwD,KAAF,CAAQR,YAAR,EAAsBC,YAAtB;YACAjwD,CAAC,CAACwwD,KAAF,CAAQz+C,OAAR,EAAiBi+C,YAAjB;YACA,OAAOj+C,OAAP;UACD;QA5GK,CA3fD;QAymBP+pB,WAAW,EAAE,UAAUh7B,KAAV,EAAiBs7B,IAAjB,EAAuB;UAClCt7B,KAAK,GAAGA,KAAK,CAAC0X,WAAN,EAAR;UACA4jB,IAAI,GAAIA,IAAI,CAAC5jB,WAAL,EAAR;UACA,OAAO4jB,IAAI,CAACtrB,OAAL,CAAahQ,KAAb,IAAsB,CAAC,CAA9B;QACD,CA7mBM;QA8mBPi7B,WAAW,EAAE,UAASj7B,KAAT,EAAgBs7B,IAAhB,EAAsB;UACjC,IACEC,UAAU,GAAID,IAAI,CAAC/3B,MADrB;UAAA,IAEEi4B,WAAW,GAAGx7B,KAAK,CAACuD,MAFtB;;UAIA,IAAG,OAAOvD,KAAP,KAAiB,QAApB,EAA8B;YAC5B,OAAO,KAAP;UACD;;UACDA,KAAK,GAAGA,KAAK,CAAC0X,WAAN,EAAR;UACA4jB,IAAI,GAAIA,IAAI,CAAC5jB,WAAL,EAAR;;UACA,IAAG8jB,WAAW,GAAGD,UAAjB,EAA6B;YAC3B,OAAO,KAAP;UACD;;UACD,IAAGC,WAAW,KAAKD,UAAnB,EAA+B;YAC7B,OAAQv7B,KAAK,KAAKs7B,IAAlB;UACD;;UACD3rB,MAAM,EAAE,KAAK,IAAI8rB,cAAc,GAAG,CAArB,EAAwBC,kBAAkB,GAAG,CAAlD,EAAqDD,cAAc,GAAGD,WAAtE,EAAmFC,cAAc,EAAjG,EAAqG;YAC3G,IACEE,cAAc,GAAG37B,KAAK,CAAC47B,UAAN,CAAiBH,cAAjB,CADnB;;YAGA,OAAMC,kBAAkB,GAAGH,UAA3B,EAAuC;cACrC,IAAGD,IAAI,CAACM,UAAL,CAAgBF,kBAAkB,EAAlC,MAA0CC,cAA7C,EAA6D;gBAC3D,SAAShsB,MAAT;cACD;YACF;;YACD,OAAO,KAAP;UACD;;UACD,OAAO,IAAP;QACD,CA1oBM;QA4oBPw+C,KAAK,EAAE;UACL/oD,QAAQ,EAAE,UAASA,QAAT,EAAmB2zB,UAAnB,EAA+B;YACvC,IAAGpzB,KAAK,CAACC,OAAN,CAAcR,QAAd,CAAH,EAA2B;cACvB,IAAIuqD,CAAC,GAAC,EAAN;cACAA,CAAC,CAACtgD,MAAM,CAAC4B,OAAR,CAAD,GAAkB7L,QAAlB;cACAA,QAAQ,GAAGuqD,CAAX;YACH;;YACD,IACEd,UAAU,GAAG5tD,MAAM,CAAC+tD,eAAP,CAAuB5pD,QAAvB,CADf;YAGAnE,MAAM,CAACI,OAAP,CAAe,yBAAf,EAA0C+D,QAA1C;;YACA,IAAGA,QAAQ,KAAK/F,SAAhB,EAA2B;cACzB,IAAG05B,UAAU,KAAK15B,SAAf,IAA4B+F,QAAQ,CAACiK,MAAM,CAAC4B,OAAR,CAAR,KAA6B5R,SAA5D,EAAuE;gBACrE4B,MAAM,CAACwtD,UAAP,CAAkBI,UAAlB;gBACA5tD,MAAM,CAACytD,MAAP,CAAc76B,EAAd,CAAiBzuB,QAAQ,CAACiK,MAAM,CAAC4B,OAAR,CAAzB;gBACAhQ,MAAM,CAACguD,KAAP,CAAavrD,KAAb,CAAmBq1B,UAAnB,EAA+B;kBAC7BpmB,IAAI,EAAMk8C,UADmB;kBAE7B59C,OAAO,EAAG7L,QAAQ,CAACiK,MAAM,CAAC4B,OAAR;gBAFW,CAA/B;gBAIAhQ,MAAM,CAACozB,IAAP,CAAYpjB,OAAZ,CAAoB7L,QAAQ,CAACiK,MAAM,CAAC4B,OAAR,CAA5B;cACD;YACF;UACF;QAtBI,CA5oBA;QAqqBP6lC,MAAM,EAAE;UACN92C,KAAK,EAAE,YAAW;YAChB,IAAIiB,MAAM,CAACgK,GAAP,CAAWwuB,MAAX,EAAJ,EAA0B;cACxB54B,OAAO,CAACo1B,GAAR,CAAY,OAAZ;YACD;UACF;QALK,CArqBD;QA6qBPnkB,GAAG,EAAE;UACHi7C,iBAAiB,EAAE,YAAW;YAC5B,IACEh0B,UAAU,GAAM93B,MAAM,CAACiH,GAAP,CAAW9E,KAAX,EADlB;YAAA,IAEEwsD,aAAa,GAAG72B,UAAU,CAACx1B,MAF7B;YAIA,OAAQqsD,aAAa,IAAItvD,QAAQ,CAACi1B,aAAlC;UACD,CAPE;UAQHtkB,OAAO,EAAE,YAAW;YAClB,IAAGi7C,QAAQ,CAAC3oD,MAAT,KAAoB,CAAvB,EAA0B;cACxB,OAAO,KAAP;YACD;;YACD,IACEoP,IAAI,GAAGu5C,QAAQ,CAACv5C,IAAT,EADT;YAGA,OAAOA,IAAI,IAAI,EAAf;UACD;QAhBE,CA7qBE;QAgsBPzQ,KAAK,EAAE;UACLwB,KAAK,EAAE,UAASN,KAAT,EAAgB;YACrB,IACEM,KAAK,GAAG7C,OAAO,CAACG,IAAR,CAAa2G,QAAQ,CAACjE,KAAtB,CADV;;YAGA,IAAG,CAACN,KAAJ,EAAW;cACTnC,MAAM,CAACS,KAAP,CAAa,gBAAb,EAA+B0B,KAA/B;cACAvC,OAAO,CAACiD,UAAR,CAAmB6D,QAAQ,CAACjE,KAA5B;YACD,CAHD,MAIK,IAAGN,KAAK,IAAIM,KAAT,IAAkBA,KAAK,CAACN,KAAD,CAA1B,EAAmC;cACtCnC,MAAM,CAACS,KAAP,CAAa,2BAAb,EAA0C0B,KAA1C;cACA,OAAOM,KAAK,CAACN,KAAD,CAAZ;cACAvC,OAAO,CAACG,IAAR,CAAa2G,QAAQ,CAACjE,KAAtB,EAA6BA,KAA7B;YACD;UACF;QAdI,CAhsBA;QAitBPu/B,IAAI,EAAE;UACJv/B,KAAK,EAAE,UAASjB,IAAT,EAAe;YACpB,IACEiB,KAAK,GAAG7C,OAAO,CAACG,IAAR,CAAa2G,QAAQ,CAACjE,KAAtB,CADV;;YAGA,IAAGpD,QAAQ,CAACoD,KAAZ,EAAmB;cACjBzC,MAAM,CAACI,OAAP,CAAe,6CAAf,EAA8DoB,IAA9D;cACA,OAAQ,OAAOiB,KAAP,IAAgB,QAAjB,IAA+BA,KAAK,CAACjB,IAAD,CAAL,KAAgBpD,SAA/C,GACHqE,KAAK,CAACjB,IAAD,CADF,GAEH,KAFJ;YAID;;YACD,OAAO,KAAP;UACD;QAbG,CAjtBC;QAiuBP8b,MAAM,EAAE;UACNwwC,eAAe,EAAE,UAAS99C,OAAT,EAAkB;YACjC,IACE89C,eAAe,GAAG,EADpB;YAGA7vD,CAAC,CAAC2D,IAAF,CAAOoO,OAAP,EAAgB,UAASnO,KAAT,EAAgBspD,MAAhB,EAAwB;cACtC,IAAG,CAACA,MAAM,CAACE,QAAX,EAAqB;gBACnB;cACD;;cACD,IAAGyC,eAAe,CAAC3C,MAAM,CAACE,QAAR,CAAf,KAAqCjtD,SAAxC,EAAmD;gBACjD4B,MAAM,CAACI,OAAP,CAAe,kCAAf,EAAmD+qD,MAAM,CAACE,QAA1D;gBACAyC,eAAe,CAAC3C,MAAM,CAACE,QAAR,CAAf,GAAmC;kBACjC7pD,IAAI,EAAM2pD,MAAM,CAACE,QADgB;kBAEjCr7C,OAAO,EAAG,CAACm7C,MAAD;gBAFuB,CAAnC;cAID,CAND,MAOK;gBACH2C,eAAe,CAAC3C,MAAM,CAACE,QAAR,CAAf,CAAiCr7C,OAAjC,CAAyClO,IAAzC,CAA8CqpD,MAA9C;cACD;YACF,CAdD;YAeA,OAAO2C,eAAP;UACD,CArBK;UAsBNl7B,EAAE,EAAE,UAASg8B,WAAT,EAAsBC,aAAtB,EAAqC;YACvC,IACEC,QAAQ,GAASF,WAAW,GAAG,CADjC;YAAA,IACqC;YACnCG,QAFF;YAAA,IAGEn8B,EAHF;;YAKA,IAAGi8B,aAAa,KAAKzwD,SAArB,EAAgC;cAC9B;cACA2wD,QAAQ,GAAGnjD,MAAM,CAAC00B,YAAP,CAAoB,KAAKuuB,aAAzB,CAAX;cACAj8B,EAAE,GAAYm8B,QAAQ,GAAGD,QAAzB;cACA9uD,MAAM,CAACI,OAAP,CAAe,6BAAf,EAA8CwyB,EAA9C;YACD,CALD,MAMK;cACHA,EAAE,GAAGk8B,QAAL;cACA9uD,MAAM,CAACI,OAAP,CAAe,oBAAf,EAAqCwyB,EAArC;YACD;;YACD,OAAOA,EAAP;UACD,CAvCK;UAwCN5iB,OAAO,EAAE,YAAW;YAClB,IAAGi7C,QAAQ,CAAC3oD,MAAT,KAAoB,CAAvB,EAA0B;cACxB2oD,QAAQ,GAAGhtD,CAAC,CAAC,SAAD,CAAD,CACRqT,QADQ,CACC3K,SAAS,CAACqJ,OADX,EAERyB,QAFQ,CAEC7R,OAFD,CAAX;YAID;UACF;QA/CK,CAjuBD;QAmxBP6tD,MAAM,EAAE;UACNtC,MAAM,EAAE,UAASA,MAAT,EAAiByD,WAAjB,EAA8BC,aAA9B,EAA6C;YACnD7uD,MAAM,CAACI,OAAP,CAAe,+BAAf;YACA,IACE4uD,eAAe,GAAIH,aAAa,KAAKzwD,SAAnB,GACd6sD,QAAQ,CACL75C,QADH,GACchC,EADd,CACiBy/C,aADjB,EAEKz9C,QAFL,CAEctL,QAAQ,CAACkK,OAFvB,EAGOsD,KAHP,GAIOlC,QAJP,CAIgBtL,QAAQ,CAACqlD,MAJzB,EAKS/7C,EALT,CAKYw/C,WALZ,CADc,GAOd3D,QAAQ,CACL75C,QADH,CACYtL,QAAQ,CAACqlD,MADrB,EAC6B/7C,EAD7B,CACgCw/C,WADhC,CARN;YAWA5uD,MAAM,CAACI,OAAP,CAAe,4BAAf,EAA6C4uD,eAA7C;YACAA,eAAe,CACZjvD,IADH,CACQ2G,QAAQ,CAACykD,MADjB,EACyBA,MADzB;UAGD,CAlBK;UAmBNv4B,EAAE,EAAE,UAAS5iB,OAAT,EAAkB;YACpBhQ,MAAM,CAACS,KAAP,CAAa,mCAAb;YACA,IACE;YACAouD,aAAa,GAAG,CAFlB;YAAA,IAGED,WAAW,GAAK,CAHlB;;YAKA,IAAGvvD,QAAQ,CAACoJ,IAAT,KAAkB,UAArB,EAAiC;cAC/B;cACAxK,CAAC,CAAC2D,IAAF,CAAOoO,OAAP,EAAgB,UAASnO,KAAT,EAAgBwpD,QAAhB,EAA0B;gBACxC,IAAGA,QAAQ,CAACr7C,OAAT,CAAiB1N,MAAjB,GAA0B,CAA7B,EAA+B;kBAC7BssD,WAAW,GAAG,CAAd;kBACA3wD,CAAC,CAAC2D,IAAF,CAAOypD,QAAQ,CAACr7C,OAAhB,EAAyB,UAASnO,KAAT,EAAgBspD,MAAhB,EAAwB;oBAC/C,IAAGA,MAAM,CAACv4B,EAAP,KAAcx0B,SAAjB,EAA4B;sBAC1B+sD,MAAM,CAACv4B,EAAP,GAAY5yB,MAAM,CAACsd,MAAP,CAAcsV,EAAd,CAAiBg8B,WAAjB,EAA8BC,aAA9B,CAAZ;oBACD;;oBACD7uD,MAAM,CAACytD,MAAP,CAActC,MAAd,CAAqBA,MAArB,EAA6ByD,WAA7B,EAA0CC,aAA1C;oBACAD,WAAW;kBACZ,CAND;kBAOAC,aAAa;gBACd;cACF,CAZD;YAaD,CAfD,MAgBK;cACH;cACA5wD,CAAC,CAAC2D,IAAF,CAAOoO,OAAP,EAAgB,UAASnO,KAAT,EAAgBspD,MAAhB,EAAwB;gBACtC,IAAGA,MAAM,CAACv4B,EAAP,KAAcx0B,SAAjB,EAA4B;kBAC1B+sD,MAAM,CAACv4B,EAAP,GAAY5yB,MAAM,CAACsd,MAAP,CAAcsV,EAAd,CAAiBg8B,WAAjB,CAAZ;gBACD;;gBACD5uD,MAAM,CAACytD,MAAP,CAActC,MAAd,CAAqBA,MAArB,EAA6ByD,WAA7B;gBACAA,WAAW;cACZ,CAND;YAOD;;YACD,OAAO5+C,OAAP;UACD;QArDK,CAnxBD;QA20BPojB,IAAI,EAAE;UACJpjB,OAAO,EAAE,UAASA,OAAT,EAAkB;YACzBhQ,MAAM,CAACI,OAAP,CAAe,2CAAf,EAA4D4P,OAA5D;YACApQ,OAAO,CAACG,IAAR,CAAa2G,QAAQ,CAACsJ,OAAtB,EAA+BA,OAA/B;UACD;QAJG,CA30BC;QAk1BPg+C,KAAK,EAAE;UACLvrD,KAAK,EAAE,UAASjB,IAAT,EAAeW,KAAf,EAAsB;YAC3B,IACEM,KAAK,GAAI7C,OAAO,CAACG,IAAR,CAAa2G,QAAQ,CAACjE,KAAtB,MAAiCrE,SAAlC,GACJwB,OAAO,CAACG,IAAR,CAAa2G,QAAQ,CAACjE,KAAtB,CADI,GAEJ,EAHN;;YAKA,IAAGpD,QAAQ,CAACoD,KAAZ,EAAmB;cACjBzC,MAAM,CAACI,OAAP,CAAe,iCAAf,EAAkDoB,IAAlD,EAAwDW,KAAxD;cACAM,KAAK,CAACjB,IAAD,CAAL,GAAcW,KAAd;cACAvC,OAAO,CACJG,IADH,CACQ2G,QAAQ,CAACjE,KADjB,EACwBA,KADxB;YAGD;UACF;QAdI,CAl1BA;QAm2BP+qD,UAAU,EAAE,UAAS97C,IAAT,EAAe;UACzB,IAAIzT,CAAC,CAACI,UAAF,CAAagB,QAAQ,CAAC4vD,YAAtB,CAAJ,EAA0C;YACxC,IAAI5vD,QAAQ,CAAC4vD,YAAT,CAAsB7vD,IAAtB,CAA2B6rD,QAA3B,EAAqCv5C,IAArC,MAA+C,KAAnD,EAA2D;cACzD1R,MAAM,CAACS,KAAP,CAAa,gDAAb;cACA,OAAO,KAAP;YACD;UACF;;UACD,IAAGiR,IAAH,EAAS;YACPu5C,QAAQ,CACLv5C,IADH,CACQA,IADR;YAGA1R,MAAM,CAACyrD,cAAP;;YACA,IAAGpsD,QAAQ,CAAC6vD,iBAAZ,EAA+B;cAC7BlvD,MAAM,CAACwzB,MAAP,CAAc+5B,WAAd;YACD;;YACDvtD,MAAM,CAAC+rD,WAAP;UACD,CATD,MAUK;YACH/rD,MAAM,CAACgsD,WAAP,CAAmB,YAAW;cAC5Bf,QAAQ,CAACv/C,KAAT;YACD,CAFD;UAGD;QACF,CAz3BM;QA23BPqgD,WAAW,EAAE,UAAS1qD,QAAT,EAAmB;UAC9BA,QAAQ,GAAGpD,CAAC,CAACI,UAAF,CAAagD,QAAb,IACPA,QADO,GAEP,YAAU,CAAE,CAFhB;;UAIA,IAAGkqD,gBAAH,EAAqB;YACnB;UACD;;UACD,IAAG,CAACvrD,MAAM,CAAC4J,EAAP,CAAU2pB,OAAV,EAAD,IAAwBvzB,MAAM,CAAC6Q,GAAP,CAAWb,OAAX,EAA3B,EAAiD;YAC/C,IAAIhQ,MAAM,CAACgK,GAAP,CAAW2H,UAAX,EAAJ,EAA8B;cAC5B3R,MAAM,CAACS,KAAP,CAAa,qCAAb;cACAwqD,QAAQ,CACLt5C,UADH,CACc;gBACV0I,SAAS,EAAIhb,QAAQ,CAACsS,UAAT,GAAsB,KADzB;gBAEVlR,KAAK,EAAQpB,QAAQ,CAACoB,KAFZ;gBAGVL,OAAO,EAAMf,QAAQ,CAACe,OAHZ;gBAIVwR,QAAQ,EAAKvS,QAAQ,CAACuS,QAJZ;gBAKVqM,MAAM,EAAO,YAAW;kBACtB,IAAIkxC,YAAY,GAAGvvD,OAAO,CAAC6H,IAAR,CAAa3B,QAAQ,CAACqlD,MAAtB,EAA8B/7C,EAA9B,CAAiC,CAAjC,CAAnB;kBACApP,MAAM,CAACusD,aAAP,CAAqB4C,YAArB;gBACD,CARS;gBASV10C,UAAU,EAAG,YAAW;kBACtBpZ,QAAQ;gBACT,CAXS;gBAYViZ,KAAK,EAAQ;cAZH,CADd;YAgBD,CAlBD,MAmBK;cACHta,MAAM,CAACS,KAAP,CAAa,iCAAb;cACAwqD,QAAQ,CACL9wC,IADH,GAEGtI,MAFH,CAEUxS,QAAQ,CAACuS,QAFnB,EAE6BvS,QAAQ,CAACyb,MAFtC;YAID;;YACDzb,QAAQ,CAAC+vD,aAAT,CAAuBhwD,IAAvB,CAA4B6rD,QAA5B;UACD;QACF,CAh6BM;QAi6BPe,WAAW,EAAE,UAAS3qD,QAAT,EAAmB;UAC9BA,QAAQ,GAAGpD,CAAC,CAACI,UAAF,CAAagD,QAAb,IACPA,QADO,GAEP,YAAU,CAAE,CAFhB;;UAIA,IAAIrB,MAAM,CAAC4J,EAAP,CAAU2pB,OAAV,EAAJ,EAA0B;YACxB,IAAIvzB,MAAM,CAACgK,GAAP,CAAW2H,UAAX,EAAJ,EAA8B;cAC5B3R,MAAM,CAACS,KAAP,CAAa,oCAAb;cACAwqD,QAAQ,CACLt5C,UADH,CACc;gBACV0I,SAAS,EAAIhb,QAAQ,CAACsS,UAAT,GAAsB,MADzB;gBAEVlR,KAAK,EAAQpB,QAAQ,CAACoB,KAFZ;gBAGVL,OAAO,EAAMf,QAAQ,CAACe,OAHZ;gBAIVwR,QAAQ,EAAKvS,QAAQ,CAACuS,QAJZ;gBAKV6I,UAAU,EAAG,YAAW;kBACtBpZ,QAAQ;gBACT,CAPS;gBAQViZ,KAAK,EAAQ;cARH,CADd;YAYD,CAdD,MAeK;cACHta,MAAM,CAACS,KAAP,CAAa,gCAAb;cACAwqD,QAAQ,CACL9wC,IADH,GAEGnI,OAFH,CAEW3S,QAAQ,CAACuS,QAFpB,EAE8BvS,QAAQ,CAACyb,MAFvC;YAID;;YACDzb,QAAQ,CAACgwD,cAAT,CAAwBjwD,IAAxB,CAA6B6rD,QAA7B;UACD;QACF,CA/7BM;QAi8BP8C,eAAe,EAAE,UAAS5pD,QAAT,EAAmB;UAClCnE,MAAM,CAACS,KAAP,CAAa,+BAAb,EAA8C0D,QAA9C;UACA,IACE0rB,QAAQ,GAASxwB,QAAQ,CAACkS,SAAT,CAAmBlS,QAAQ,CAACoJ,IAA5B,CADnB;UAAA,IAEE6mD,cAAc,GAAIrxD,CAAC,CAACqB,aAAF,CAAgB6E,QAAQ,CAACiK,MAAM,CAAC4B,OAAR,CAAxB,KAA6C,CAAC/R,CAAC,CAACiU,aAAF,CAAgB/N,QAAQ,CAACiK,MAAM,CAAC4B,OAAR,CAAxB,CAFlE;UAAA,IAGEu/C,aAAa,GAAK7qD,KAAK,CAACC,OAAN,CAAcR,QAAQ,CAACiK,MAAM,CAAC4B,OAAR,CAAtB,KAA2C7L,QAAQ,CAACiK,MAAM,CAAC4B,OAAR,CAAR,CAAyB1N,MAAzB,GAAkC,CAHjG;UAAA,IAIEoP,IAAI,GAAa,EAJnB;;UAMA,IAAG49C,cAAc,IAAIC,aAArB,EAAqC;YACnC,IAAGlwD,QAAQ,CAACwuD,UAAT,GAAsB,CAAzB,EAA4B;cAC1B,IAAGyB,cAAH,EAAmB;gBACjB,IAAGjwD,QAAQ,CAACoJ,IAAT,IAAiB,UAApB,EAAgC;kBAC9BzI,MAAM,CAACP,KAAP,CAAaA,KAAK,CAACouD,UAAnB;gBACD;cACF,CAJD,MAKK;gBACH1pD,QAAQ,CAACiK,MAAM,CAAC4B,OAAR,CAAR,GAA2B7L,QAAQ,CAACiK,MAAM,CAAC4B,OAAR,CAAR,CAAyB7Q,KAAzB,CAA+B,CAA/B,EAAkCE,QAAQ,CAACwuD,UAA3C,CAA3B;cACD;YACF;;YACD,IAAG5vD,CAAC,CAACI,UAAF,CAAawxB,QAAb,CAAH,EAA2B;cACzBne,IAAI,GAAGme,QAAQ,CAAC1rB,QAAD,EAAWiK,MAAX,EAAmB/O,QAAQ,CAACu2B,YAA5B,CAAf;YACD,CAFD,MAGK;cACH51B,MAAM,CAACP,KAAP,CAAaA,KAAK,CAAC+vD,UAAnB,EAA+B,KAA/B;YACD;UACF,CAjBD,MAkBK,IAAGnwD,QAAQ,CAACowD,aAAZ,EAA2B;YAC9B/9C,IAAI,GAAG1R,MAAM,CAACmtD,cAAP,CAAsB1tD,KAAK,CAAC24B,SAA5B,EAAuC,OAAvC,EAAgD34B,KAAK,CAACiwD,eAAtD,CAAP;UACD;;UACDrwD,QAAQ,CAACswD,SAAT,CAAmBvwD,IAAnB,CAAwBS,OAAxB,EAAiCsE,QAAjC;UACA,OAAOuN,IAAP;QACD,CAh+BM;QAk+BPy7C,cAAc,EAAE,UAASx/C,IAAT,EAAelF,IAAf,EAAqB6Z,MAArB,EAA6B;UAC3C7Z,IAAI,GAAGA,IAAI,IAAI,UAAf;UACAzI,MAAM,CAACS,KAAP,CAAa,oBAAb,EAAmCkN,IAAnC,EAAyClF,IAAzC,EAA+C6Z,MAA/C;UACAtiB,MAAM,CAACwtD,UAAP,CAAmBnuD,QAAQ,CAACkS,SAAT,CAAmBpO,OAAnB,CAA2BwK,IAA3B,EAAiClF,IAAjC,EAAuC6Z,MAAvC,CAAnB;UACA,OAAOjjB,QAAQ,CAACkS,SAAT,CAAmBpO,OAAnB,CAA2BwK,IAA3B,EAAiClF,IAAjC,EAAuC6Z,MAAvC,CAAP;QACD,CAv+BM;QAy+BPpgB,OAAO,EAAE,UAASV,IAAT,EAAeW,KAAf,EAAsB;UAC7B,IAAIlE,CAAC,CAACqB,aAAF,CAAgBkC,IAAhB,CAAJ,EAA4B;YAC1BvD,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAeF,QAAf,EAAyBmC,IAAzB;UACD,CAFD,MAGK,IAAGW,KAAK,KAAK/D,SAAb,EAAwB;YAC3BiB,QAAQ,CAACmC,IAAD,CAAR,GAAiBW,KAAjB;UACD,CAFI,MAGA;YACH,OAAO9C,QAAQ,CAACmC,IAAD,CAAf;UACD;QACF,CAn/BM;QAo/BPsB,QAAQ,EAAE,UAAStB,IAAT,EAAeW,KAAf,EAAsB;UAC9B,IAAIlE,CAAC,CAACqB,aAAF,CAAgBkC,IAAhB,CAAJ,EAA4B;YAC1BvD,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAeS,MAAf,EAAuBwB,IAAvB;UACD,CAFD,MAGK,IAAGW,KAAK,KAAK/D,SAAb,EAAwB;YAC3B4B,MAAM,CAACwB,IAAD,CAAN,GAAeW,KAAf;UACD,CAFI,MAGA;YACH,OAAOnC,MAAM,CAACwB,IAAD,CAAb;UACD;QACF,CA9/BM;QA+/BPf,KAAK,EAAE,YAAW;UAChB,IAAG,CAACpB,QAAQ,CAACgV,MAAV,IAAoBhV,QAAQ,CAACoB,KAAhC,EAAuC;YACrC,IAAGpB,QAAQ,CAACP,WAAZ,EAAyB;cACvBkB,MAAM,CAAClB,WAAP,CAAmB4B,GAAnB,CAAuB1B,SAAvB;YACD,CAFD,MAGK;cACHgB,MAAM,CAACS,KAAP,GAAesC,QAAQ,CAACC,SAAT,CAAmBC,IAAnB,CAAwB7D,IAAxB,CAA6BmB,OAAO,CAACmC,IAArC,EAA2CnC,OAA3C,EAAoDlB,QAAQ,CAACmC,IAAT,GAAgB,GAApE,CAAf;cACAxB,MAAM,CAACS,KAAP,CAAayC,KAAb,CAAmB3C,OAAnB,EAA4BvB,SAA5B;YACD;UACF;QACF,CAzgCM;QA0gCPoB,OAAO,EAAE,YAAW;UAClB,IAAG,CAACf,QAAQ,CAACgV,MAAV,IAAoBhV,QAAQ,CAACe,OAA7B,IAAwCf,QAAQ,CAACoB,KAApD,EAA2D;YACzD,IAAGpB,QAAQ,CAACP,WAAZ,EAAyB;cACvBkB,MAAM,CAAClB,WAAP,CAAmB4B,GAAnB,CAAuB1B,SAAvB;YACD,CAFD,MAGK;cACHgB,MAAM,CAACI,OAAP,GAAiB2C,QAAQ,CAACC,SAAT,CAAmBC,IAAnB,CAAwB7D,IAAxB,CAA6BmB,OAAO,CAACmC,IAArC,EAA2CnC,OAA3C,EAAoDlB,QAAQ,CAACmC,IAAT,GAAgB,GAApE,CAAjB;cACAxB,MAAM,CAACI,OAAP,CAAe8C,KAAf,CAAqB3C,OAArB,EAA8BvB,SAA9B;YACD;UACF;QACF,CAphCM;QAqhCPS,KAAK,EAAE,YAAW;UAChB,IAAG,CAACJ,QAAQ,CAACgV,MAAb,EAAqB;YACnBrU,MAAM,CAACP,KAAP,GAAesD,QAAQ,CAACC,SAAT,CAAmBC,IAAnB,CAAwB7D,IAAxB,CAA6BmB,OAAO,CAACd,KAArC,EAA4Cc,OAA5C,EAAqDlB,QAAQ,CAACmC,IAAT,GAAgB,GAArE,CAAf;YACAxB,MAAM,CAACP,KAAP,CAAayD,KAAb,CAAmB3C,OAAnB,EAA4BvB,SAA5B;UACD;QACF,CA1hCM;QA2hCPF,WAAW,EAAE;UACX4B,GAAG,EAAE,UAASyC,OAAT,EAAkB;YACrB,IACEC,WADF,EAEEC,aAFF,EAGEC,YAHF;;YAKA,IAAGjE,QAAQ,CAACP,WAAZ,EAAyB;cACvBsE,WAAW,GAAK,IAAIxE,IAAJ,GAAWC,OAAX,EAAhB;cACAyE,YAAY,GAAI3E,IAAI,IAAIyE,WAAxB;cACAC,aAAa,GAAGD,WAAW,GAAGE,YAA9B;cACA3E,IAAI,GAAYyE,WAAhB;cACAtE,WAAW,CAACgD,IAAZ,CAAiB;gBACf,QAAmBqB,OAAO,CAAC,CAAD,CADX;gBAEf,aAAmB,GAAGhE,KAAH,CAASC,IAAT,CAAc+D,OAAd,EAAuB,CAAvB,KAA6B,EAFjC;gBAGf,WAAmBtD,OAHJ;gBAIf,kBAAmBwD;cAJJ,CAAjB;YAMD;;YACDE,YAAY,CAACvD,MAAM,CAAClB,WAAP,CAAmB0E,KAApB,CAAZ;YACAxD,MAAM,CAAClB,WAAP,CAAmB0E,KAAnB,GAA2BlC,UAAU,CAACtB,MAAM,CAAClB,WAAP,CAAmB2E,OAApB,EAA6B,GAA7B,CAArC;UACD,CArBU;UAsBXA,OAAO,EAAE,YAAW;YAClB,IACEC,KAAK,GAAGrE,QAAQ,CAACmC,IAAT,GAAgB,GAD1B;YAAA,IAEEmC,SAAS,GAAG,CAFd;YAIAhF,IAAI,GAAG,KAAP;YACA4E,YAAY,CAACvD,MAAM,CAAClB,WAAP,CAAmB0E,KAApB,CAAZ;YACAvF,CAAC,CAAC2D,IAAF,CAAO9C,WAAP,EAAoB,UAAS+C,KAAT,EAAgB9B,IAAhB,EAAsB;cACxC4D,SAAS,IAAI5D,IAAI,CAAC,gBAAD,CAAjB;YACD,CAFD;YAGA2D,KAAK,IAAI,MAAMC,SAAN,GAAkB,IAA3B;;YACA,IAAGkC,cAAH,EAAmB;cACjBnC,KAAK,IAAI,QAAQmC,cAAR,GAAyB,IAAlC;YACD;;YACD,IAAGD,WAAW,CAACtD,MAAZ,GAAqB,CAAxB,EAA2B;cACzBoB,KAAK,IAAI,MAAM,GAAN,GAAYkC,WAAW,CAACtD,MAAxB,GAAiC,GAA1C;YACD;;YACD,IAAI,CAAC/B,OAAO,CAACK,KAAR,KAAkBxC,SAAlB,IAA+BmC,OAAO,CAACqD,KAAR,KAAkBxF,SAAlD,KAAgEU,WAAW,CAACwD,MAAZ,GAAqB,CAAzF,EAA4F;cAC1F/B,OAAO,CAACO,cAAR,CAAuB4C,KAAvB;;cACA,IAAGnD,OAAO,CAACqD,KAAX,EAAkB;gBAChBrD,OAAO,CAACqD,KAAR,CAAc9E,WAAd;cACD,CAFD,MAGK;gBACHb,CAAC,CAAC2D,IAAF,CAAO9C,WAAP,EAAoB,UAAS+C,KAAT,EAAgB9B,IAAhB,EAAsB;kBACxCQ,OAAO,CAACG,GAAR,CAAYX,IAAI,CAAC,MAAD,CAAJ,GAAe,IAAf,GAAsBA,IAAI,CAAC,gBAAD,CAA1B,GAA6C,IAAzD;gBACD,CAFD;cAGD;;cACDQ,OAAO,CAACM,QAAR;YACD;;YACD/B,WAAW,GAAG,EAAd;UACD;QApDU,CA3hCN;QAilCP+E,MAAM,EAAE,UAAS9E,KAAT,EAAgB+E,eAAhB,EAAiCC,OAAjC,EAA0C;UAChD,IACEC,MAAM,GAAGlE,QADX;UAAA,IAEEmE,QAFF;UAAA,IAGEC,KAHF;UAAA,IAIEC,QAJF;UAMAL,eAAe,GAAGA,eAAe,IAAI5E,cAArC;UACA6E,OAAO,GAAWlE,OAAO,IAAYkE,OAArC;;UACA,IAAG,OAAOhF,KAAP,IAAgB,QAAhB,IAA4BiF,MAAM,KAAK5F,SAA1C,EAAqD;YACnDW,KAAK,GAAMA,KAAK,CAACqF,KAAN,CAAY,OAAZ,CAAX;YACAH,QAAQ,GAAGlF,KAAK,CAACuD,MAAN,GAAe,CAA1B;YACArE,CAAC,CAAC2D,IAAF,CAAO7C,KAAP,EAAc,UAASsF,KAAT,EAAgBlC,KAAhB,EAAuB;cACnC,IAAImC,cAAc,GAAID,KAAK,IAAIJ,QAAV,GACjB9B,KAAK,GAAGpD,KAAK,CAACsF,KAAK,GAAG,CAAT,CAAL,CAAiBE,MAAjB,CAAwB,CAAxB,EAA2BC,WAA3B,EAAR,GAAmDzF,KAAK,CAACsF,KAAK,GAAG,CAAT,CAAL,CAAiBlF,KAAjB,CAAuB,CAAvB,CADlC,GAEjBJ,KAFJ;;cAIA,IAAId,CAAC,CAACqB,aAAF,CAAiB0E,MAAM,CAACM,cAAD,CAAvB,KAA8CD,KAAK,IAAIJ,QAA3D,EAAuE;gBACrED,MAAM,GAAGA,MAAM,CAACM,cAAD,CAAf;cACD,CAFD,MAGK,IAAIN,MAAM,CAACM,cAAD,CAAN,KAA2BlG,SAA/B,EAA2C;gBAC9C8F,KAAK,GAAGF,MAAM,CAACM,cAAD,CAAd;gBACA,OAAO,KAAP;cACD,CAHI,MAIA,IAAIrG,CAAC,CAACqB,aAAF,CAAiB0E,MAAM,CAAC7B,KAAD,CAAvB,KAAqCkC,KAAK,IAAIJ,QAAlD,EAA8D;gBACjED,MAAM,GAAGA,MAAM,CAAC7B,KAAD,CAAf;cACD,CAFI,MAGA,IAAI6B,MAAM,CAAC7B,KAAD,CAAN,KAAkB/D,SAAtB,EAAkC;gBACrC8F,KAAK,GAAGF,MAAM,CAAC7B,KAAD,CAAd;gBACA,OAAO,KAAP;cACD,CAHI,MAIA;gBACH,OAAO,KAAP;cACD;YACF,CAtBD;UAuBD;;UACD,IAAIlE,CAAC,CAACI,UAAF,CAAc6F,KAAd,CAAJ,EAA4B;YAC1BC,QAAQ,GAAGD,KAAK,CAAChB,KAAN,CAAYa,OAAZ,EAAqBD,eAArB,CAAX;UACD,CAFD,MAGK,IAAGI,KAAK,KAAK9F,SAAb,EAAwB;YAC3B+F,QAAQ,GAAGD,KAAX;UACD;;UACD,IAAGQ,KAAK,CAACC,OAAN,CAAc1E,aAAd,CAAH,EAAiC;YAC/BA,aAAa,CAAC6B,IAAd,CAAmBqC,QAAnB;UACD,CAFD,MAGK,IAAGlE,aAAa,KAAK7B,SAArB,EAAgC;YACnC6B,aAAa,GAAG,CAACA,aAAD,EAAgBkE,QAAhB,CAAhB;UACD,CAFI,MAGA,IAAGA,QAAQ,KAAK/F,SAAhB,EAA2B;YAC9B6B,aAAa,GAAGkE,QAAhB;UACD;;UACD,OAAOD,KAAP;QACD;MAroCM,CAAT;;MAuoCA,IAAGjF,aAAH,EAAkB;QAChB,IAAGa,QAAQ,KAAK1B,SAAhB,EAA2B;UACzB4B,MAAM,CAACE,UAAP;QACD;;QACDF,MAAM,CAAC6D,MAAP,CAAc9E,KAAd;MACD,CALD,MAMK;QACH,IAAGe,QAAQ,KAAK1B,SAAhB,EAA2B;UACzB0B,QAAQ,CAAC+D,MAAT,CAAgB,SAAhB;QACD;;QACD7D,MAAM,CAACE,UAAP;MACD;IAEF,CAtrCH;IAyrCA,OAAQD,aAAa,KAAK7B,SAAnB,GACH6B,aADG,GAEH,IAFJ;EAID,CA1sCD;;EA4sCAhC,CAAC,CAACQ,EAAF,CAAKiQ,MAAL,CAAYrP,QAAZ,GAAuB;IAErBmC,IAAI,EAAgB,QAFC;IAGrBhC,SAAS,EAAW,QAHC;IAKrB6U,MAAM,EAAc,KALC;IAMrB5T,KAAK,EAAe,KANC;IAOrBL,OAAO,EAAa,KAPC;IAQrBtB,WAAW,EAAS,IARC;IAUrB;IACA2J,IAAI,EAAgB,UAXC;IAarB;IACA6rB,aAAa,EAAO,CAdC;IAgBrB;IACA46B,iBAAiB,EAAG,KAjBC;IAmBrB;IACAj6B,WAAW,EAAS,KApBC;IAsBrB;IACAyX,MAAM,EAAc,KAvBC;IAyBrB;IACAmf,aAAa,EAAO,IA1BC;IA4BrB;IACAL,YAAY,EAAK,CACf,IADe,EAEf,OAFe,EAGf,aAHe,CA7BI;IAmCrB;IACAoE,YAAY,EAAK,EApCI;IAsCrB;IACA91B,cAAc,EAAG,OAvCI;IAyCrB;IACA9G,gBAAgB,EAAG,KA1CE;IA4CrB;IACA04B,SAAS,EAAQ,IA7CI;IA+CrB;IACAO,SAAS,EAAQ,CAhDI;IAkDrB;IACAL,WAAW,EAAM,GAnDI;IAqDrB;IACAiC,UAAU,EAAO,CAtDI;IAwDrB;IACAprD,KAAK,EAAY,IAzDI;IA2DrB;IACAgtD,aAAa,EAAI,IA5DI;IA8DrB;IACA75B,YAAY,EAAK,IA/DI;IAiErB;IACAjkB,UAAU,EAAO,OAlEI;IAmErBC,QAAQ,EAAS,GAnEI;IAoErBkJ,MAAM,EAAW,aApEI;IAsErB;IACAuL,QAAQ,EAAS,KAvEI;IAwErB4oC,YAAY,EAAK,KAxEI;IA0ErBtB,aAAa,EAAI,UAAS5uD,KAAT,EAAe,CAAE,CA1Eb;IA2ErB4wD,SAAS,EAAQ,UAASxrD,QAAT,EAAkB,CAAE,CA3EhB;IA6ErBirD,aAAa,EAAI,YAAU,CAAE,CA7ER;IA8ErBC,cAAc,EAAG,YAAU,CAAE,CA9ER;IAgFrB1oD,SAAS,EAAE;MACT4S,SAAS,EAAG,WADH;MAETE,MAAM,EAAM,QAFH;MAGT/N,KAAK,EAAO,OAHH;MAIT6H,KAAK,EAAO,OAJH;MAKTkZ,MAAM,EAAM,QALH;MAMTyY,OAAO,EAAK,SANH;MAOTl1B,OAAO,EAAK,SAPH;MAQT6F,OAAO,EAAK;IARH,CAhFU;IA2FrBpW,KAAK,EAAG;MACNitC,MAAM,EAAY,yEADZ;MAENgjB,eAAe,EAAG,YAFZ;MAGNt3B,SAAS,EAAS,iCAHZ;MAINy3B,OAAO,EAAW,kCAJZ;MAKNC,UAAU,EAAQ,kCALZ;MAMNN,UAAU,EAAQ,0CANZ;MAONlC,eAAe,EAAG,sGAPZ;MAQNn0B,WAAW,EAAO,yCARZ;MASN00B,UAAU,EAAQ,oDATZ;MAUNppD,MAAM,EAAY,uCAVZ;MAWNwuB,WAAW,EAAO;IAXZ,CA3Fa;IAyGrBvsB,QAAQ,EAAE;MACRjE,KAAK,EAAK,OADF;MAERuN,OAAO,EAAG,SAFF;MAGRm7C,MAAM,EAAI;IAHF,CAzGW;IA+GrBvkD,MAAM,EAAE;MACNsG,MAAM,EAAO,qCADP;MAENmhD,UAAU,EAAG;IAFP,CA/Ga;IAoHrB;IACAjgD,MAAM,EAAE;MACN2hD,UAAU,EAAQ,SADZ;MAC2B;MACjCC,YAAY,EAAM,MAFZ;MAE2B;MACjClC,eAAe,EAAG,SAHZ;MAG2B;MACjChjB,WAAW,EAAO,aAJZ;MAI2B;MACjCE,KAAK,EAAa,OALZ;MAK2B;MACjCilB,KAAK,EAAa,OANZ;MAM2B;MACjCjgD,OAAO,EAAW,SAPZ;MAO2B;MACjCtM,KAAK,EAAa,OARZ;MAQ2B;MACjCkR,GAAG,EAAe,KATZ;MAS2B;MACjC7M,MAAM,EAAY,QAVZ;MAU2B;MACjCmoD,UAAU,EAAQ,MAXZ;MAW2B;MACjCC,SAAS,EAAS,KAZZ,CAY2B;;IAZ3B,CArHa;IAoIrBrqD,QAAQ,EAAG;MACT6B,MAAM,EAAS,SADN;MAETqjD,YAAY,EAAG,gBAFN;MAGTh7C,OAAO,EAAQ,UAHN;MAIT7M,OAAO,EAAQ,qBAJN;MAKTkoD,QAAQ,EAAO,WALN;MAMTF,MAAM,EAAS,SANN;MAOTznD,KAAK,EAAU;IAPN,CApIU;IA8IrB6N,SAAS,EAAE;MACTrE,MAAM,EAAE,UAASwC,MAAT,EAAiBkmB,YAAjB,EAA+B;QACrC,IAAIA,YAAJ,EAAiB;UACf,OAAOlmB,MAAP;QACD;;QACD,IACE86B,QAAQ,GAAO,UADjB;QAAA,IAEEC,YAAY,GAAG,UAFjB;QAAA,IAGEv9B,MAAM,GAAS;UACb,KAAK,MADQ;UAEb,KAAK,MAFQ;UAGb,KAAK,QAHQ;UAIb,KAAK,QAJQ;UAKb,KAAK;QALQ,CAHjB;QAAA,IAUEw9B,WAAW,GAAI,UAASC,GAAT,EAAc;UAC3B,OAAOz9B,MAAM,CAACy9B,GAAD,CAAb;QACD,CAZH;;QAcA,IAAGF,YAAY,CAACp+B,IAAb,CAAkBqD,MAAlB,CAAH,EAA8B;UAC5BA,MAAM,GAAGA,MAAM,CAAC3B,OAAP,CAAe,sBAAf,EAAuC,OAAvC,CAAT;UACA,OAAO2B,MAAM,CAAC3B,OAAP,CAAey8B,QAAf,EAAyBE,WAAzB,CAAP;QACD;;QACD,OAAOh7B,MAAP;MACD,CAxBQ;MAyBTvM,OAAO,EAAE,UAASA,OAAT,EAAkBsF,IAAlB,EAAwB6Z,MAAxB,EAAgC;QACvC,IACE5Q,IAAI,GAAG,EADT;;QAGA,IAAGvO,OAAO,KAAK/E,SAAZ,IAAyBqK,IAAI,KAAKrK,SAArC,EAAgD;UAC9CsT,IAAI,IAAK,KACL,sBADK,GACoBjJ,IADpB,GAC2B,IADpC;;UAGA,IAAG6Z,MAAH,EAAW;YACT5Q,IAAI,IAAI,KACN,sBADM,GACmB4Q,MADnB,GAC4B,QADpC;UAGD;;UACD5Q,IAAI,IAAI,+BAA+BvO,OAA/B,GAAyC,QAAjD;UACAuO,IAAI,IAAI,QAAR;QACD;;QACD,OAAOA,IAAP;MACD,CA1CQ;MA2CT25C,QAAQ,EAAE,UAASlnD,QAAT,EAAmBiK,MAAnB,EAA2BwnB,YAA3B,EAAyC;QACjD,IACElkB,IAAI,GAAG,EADT;QAAA,IAEExE,MAAM,GAAGjP,CAAC,CAACQ,EAAF,CAAKiQ,MAAL,CAAYrP,QAAZ,CAAqBkS,SAArB,CAA+BrE,MAF1C;;QAIA,IAAG/I,QAAQ,CAACiK,MAAM,CAAC0/C,eAAR,CAAR,KAAqC1vD,SAAxC,EAAmD;UAEjD;UACAH,CAAC,CAAC2D,IAAF,CAAOuC,QAAQ,CAACiK,MAAM,CAAC0/C,eAAR,CAAf,EAAyC,UAASjsD,KAAT,EAAgBwpD,QAAhB,EAA0B;YACjE,IAAGA,QAAQ,CAACj9C,MAAM,CAAC4B,OAAR,CAAR,KAA6B5R,SAA7B,IAA0CitD,QAAQ,CAACr7C,OAAT,CAAiB1N,MAAjB,GAA0B,CAAvE,EAA0E;cAExEoP,IAAI,IAAK,wBAAT;;cAEA,IAAG25C,QAAQ,CAACj9C,MAAM,CAAC4hD,YAAR,CAAR,KAAkC5xD,SAArC,EAAgD;gBAC9CsT,IAAI,IAAI,uBAAuBxE,MAAM,CAACm+C,QAAQ,CAACj9C,MAAM,CAAC4hD,YAAR,CAAT,EAAgCp6B,YAAhC,CAA7B,GAA6E,QAArF;cACD,CANuE,CAQxE;;;cACAlkB,IAAI,IAAI,uBAAR;cACAzT,CAAC,CAAC2D,IAAF,CAAOypD,QAAQ,CAACr7C,OAAhB,EAAyB,UAASnO,KAAT,EAAgBspD,MAAhB,EAAwB;gBAC/C,IAAGA,MAAM,CAAC/8C,MAAM,CAACwG,GAAR,CAAT,EAAuB;kBACrBlD,IAAI,IAAK,6BAA6By5C,MAAM,CAAC/8C,MAAM,CAACwG,GAAR,CAAN,CAAmB7G,OAAnB,CAA2B,IAA3B,EAAgC,EAAhC,CAA7B,GAAmE,IAA5E;gBACD,CAFD,MAGK;kBACH2D,IAAI,IAAK,oBAAT;gBACD;;gBACD,IAAGy5C,MAAM,CAAC/8C,MAAM,CAAC48B,KAAR,CAAN,KAAyB5sC,SAA5B,EAAuC;kBACrCsT,IAAI,IAAI,KACJ,qBADI,GAEJ,aAFI,GAEYy5C,MAAM,CAAC/8C,MAAM,CAAC48B,KAAR,CAAN,CAAqBj9B,OAArB,CAA6B,IAA7B,EAAkC,EAAlC,CAFZ,GAEoD,IAFpD,GAGJ,QAHJ;gBAKD;;gBACD2D,IAAI,IAAI,uBAAR;;gBACA,IAAGy5C,MAAM,CAAC/8C,MAAM,CAAC6hD,KAAR,CAAN,KAAyB7xD,SAA5B,EAAuC;kBACrCsT,IAAI,IAAI,wBAAwBxE,MAAM,CAACi+C,MAAM,CAAC/8C,MAAM,CAAC6hD,KAAR,CAAP,EAAuBr6B,YAAvB,CAA9B,GAAqE,QAA7E;gBACD;;gBACD,IAAGu1B,MAAM,CAAC/8C,MAAM,CAAC1K,KAAR,CAAN,KAAyBtF,SAA5B,EAAuC;kBACrCsT,IAAI,IAAI,wBAAwBxE,MAAM,CAACi+C,MAAM,CAAC/8C,MAAM,CAAC1K,KAAR,CAAP,EAAuBkyB,YAAvB,CAA9B,GAAqE,QAA7E;gBACD;;gBACD,IAAGu1B,MAAM,CAAC/8C,MAAM,CAAC08B,WAAR,CAAN,KAA+B1sC,SAAlC,EAA6C;kBAC3CsT,IAAI,IAAI,8BAA8BxE,MAAM,CAACi+C,MAAM,CAAC/8C,MAAM,CAAC08B,WAAR,CAAP,EAA6BlV,YAA7B,CAApC,GAAiF,QAAzF;gBACD;;gBACDlkB,IAAI,IAAK,KACL,QADJ;gBAGAA,IAAI,IAAI,MAAR;cACD,CA5BD;cA6BAA,IAAI,IAAI,QAAR;cACAA,IAAI,IAAK,KACL,QADJ;YAGD;UACF,CA7CD;;UA8CA,IAAGvN,QAAQ,CAACiK,MAAM,CAACrG,MAAR,CAAX,EAA4B;YAC1B,IAAGqG,MAAM,CAAC+hD,SAAP,KAAqB,KAAxB,EAA+B;cAC7Bz+C,IAAI,IAAI,KACN,sBADM,GAEJxE,MAAM,CAAC/I,QAAQ,CAACiK,MAAM,CAACrG,MAAR,CAAR,CAAwBqG,MAAM,CAAC8hD,UAA/B,CAAD,EAA6Ct6B,YAA7C,CAFF,GAGN,QAHF;YAID,CALD,MAKO;cACLlkB,IAAI,IAAI,KACN,WADM,GACQvN,QAAQ,CAACiK,MAAM,CAACrG,MAAR,CAAR,CAAwBqG,MAAM,CAAC+hD,SAA/B,EAA0CpiD,OAA1C,CAAkD,IAAlD,EAAuD,EAAvD,CADR,GACqE,mBADrE,GAEJb,MAAM,CAAC/I,QAAQ,CAACiK,MAAM,CAACrG,MAAR,CAAR,CAAwBqG,MAAM,CAAC8hD,UAA/B,CAAD,EAA6Ct6B,YAA7C,CAFF,GAGN,MAHF;YAID;UACF;;UACD,OAAOlkB,IAAP;QACD;;QACD,OAAO,KAAP;MACD,CAjHQ;MAkHT0+C,QAAQ,EAAE,UAASjsD,QAAT,EAAmBiK,MAAnB,EAA2BwnB,YAA3B,EAAyC;QACjD,IACElkB,IAAI,GAAG,EADT;QAAA,IAEExE,MAAM,GAAGjP,CAAC,CAACQ,EAAF,CAAKiQ,MAAL,CAAYrP,QAAZ,CAAqBkS,SAArB,CAA+BrE,MAF1C;;QAIA,IAAG/I,QAAQ,CAACiK,MAAM,CAAC4B,OAAR,CAAR,KAA6B5R,SAAhC,EAA2C;UAEzC;UACAH,CAAC,CAAC2D,IAAF,CAAOuC,QAAQ,CAACiK,MAAM,CAAC4B,OAAR,CAAf,EAAiC,UAASnO,KAAT,EAAgBspD,MAAhB,EAAwB;YACvD,IAAGA,MAAM,CAAC/8C,MAAM,CAACwG,GAAR,CAAT,EAAuB;cACrBlD,IAAI,IAAK,6BAA6By5C,MAAM,CAAC/8C,MAAM,CAACwG,GAAR,CAAN,CAAmB7G,OAAnB,CAA2B,IAA3B,EAAgC,EAAhC,CAA7B,GAAmE,IAA5E;YACD,CAFD,MAGK;cACH2D,IAAI,IAAK,oBAAT;YACD;;YACD,IAAGy5C,MAAM,CAAC/8C,MAAM,CAAC48B,KAAR,CAAN,KAAyB5sC,SAA5B,EAAuC;cACrCsT,IAAI,IAAI,KACJ,qBADI,GAEJ,aAFI,GAEYy5C,MAAM,CAAC/8C,MAAM,CAAC48B,KAAR,CAAN,CAAqBj9B,OAArB,CAA6B,IAA7B,EAAkC,EAAlC,CAFZ,GAEoD,IAFpD,GAGJ,QAHJ;YAKD;;YACD2D,IAAI,IAAI,uBAAR;;YACA,IAAGy5C,MAAM,CAAC/8C,MAAM,CAAC6hD,KAAR,CAAN,KAAyB7xD,SAA5B,EAAuC;cACrCsT,IAAI,IAAI,wBAAwBxE,MAAM,CAACi+C,MAAM,CAAC/8C,MAAM,CAAC6hD,KAAR,CAAP,EAAuBr6B,YAAvB,CAA9B,GAAqE,QAA7E;YACD;;YACD,IAAGu1B,MAAM,CAAC/8C,MAAM,CAAC1K,KAAR,CAAN,KAAyBtF,SAA5B,EAAuC;cACrCsT,IAAI,IAAI,wBAAwBxE,MAAM,CAACi+C,MAAM,CAAC/8C,MAAM,CAAC1K,KAAR,CAAP,EAAuBkyB,YAAvB,CAA9B,GAAqE,QAA7E;YACD;;YACD,IAAGu1B,MAAM,CAAC/8C,MAAM,CAAC08B,WAAR,CAAN,KAA+B1sC,SAAlC,EAA6C;cAC3CsT,IAAI,IAAI,8BAA8BxE,MAAM,CAACi+C,MAAM,CAAC/8C,MAAM,CAAC08B,WAAR,CAAP,EAA6BlV,YAA7B,CAApC,GAAiF,QAAzF;YACD;;YACDlkB,IAAI,IAAK,KACL,QADJ;YAGAA,IAAI,IAAI,MAAR;UACD,CA5BD;;UA6BA,IAAGvN,QAAQ,CAACiK,MAAM,CAACrG,MAAR,CAAX,EAA4B;YAC1B,IAAGqG,MAAM,CAAC+hD,SAAP,KAAqB,KAAxB,EAA+B;cAC7Bz+C,IAAI,IAAI,KACN,sBADM,GAEJxE,MAAM,CAAC/I,QAAQ,CAACiK,MAAM,CAACrG,MAAR,CAAR,CAAwBqG,MAAM,CAAC8hD,UAA/B,CAAD,EAA6Ct6B,YAA7C,CAFF,GAGN,QAHF;YAID,CALD,MAKO;cACLlkB,IAAI,IAAI,KACN,WADM,GACQvN,QAAQ,CAACiK,MAAM,CAACrG,MAAR,CAAR,CAAwBqG,MAAM,CAAC+hD,SAA/B,EAA0CpiD,OAA1C,CAAkD,IAAlD,EAAuD,EAAvD,CADR,GACqE,mBADrE,GAEJb,MAAM,CAAC/I,QAAQ,CAACiK,MAAM,CAACrG,MAAR,CAAR,CAAwBqG,MAAM,CAAC8hD,UAA/B,CAAD,EAA6Ct6B,YAA7C,CAFF,GAGN,MAHF;YAID;UACF;;UACD,OAAOlkB,IAAP;QACD;;QACD,OAAO,KAAP;MACD;IAvKQ;EA9IU,CAAvB;AAyTC,CAphDA,EAohDGlM,MAphDH,EAohDWtH,MAphDX,EAohDmBC,QAphDnB;AAshDD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA;;AAAC,CAAC,UAAUF,CAAV,EAAaC,MAAb,EAAqBC,QAArB,EAA+BC,SAA/B,EAA0C;EAE5C;;EAEAH,CAAC,CAACI,UAAF,GAAeJ,CAAC,CAACI,UAAF,IAAgB,UAASC,GAAT,EAAc;IAC3C,OAAO,OAAOA,GAAP,KAAe,UAAf,IAA6B,OAAOA,GAAG,CAACC,QAAX,KAAwB,QAA5D;EACD,CAFD;;EAIAL,MAAM,GAAI,OAAOA,MAAP,IAAiB,WAAjB,IAAgCA,MAAM,CAACuH,IAAP,IAAeA,IAAhD,GACLvH,MADK,GAEJ,OAAOwH,IAAP,IAAe,WAAf,IAA8BA,IAAI,CAACD,IAAL,IAAaA,IAA5C,GACEC,IADF,GAEE3C,QAAQ,CAAC,aAAD,CAAR,EAJN;;EAOA9E,CAAC,CAACQ,EAAF,CAAK4xD,KAAL,GAAa,UAAS3xD,UAAT,EAAqB;IAChC,IACEkH,WAAW,GAAO3H,CAAC,CAAC,IAAD,CADrB;IAAA,IAGEU,IAAI,GAAc,IAAIC,IAAJ,GAAWC,OAAX,EAHpB;IAAA,IAIEC,WAAW,GAAO,EAJpB;IAAA,IAMEC,KAAK,GAAaC,SAAS,CAAC,CAAD,CAN7B;IAAA,IAOEC,aAAa,GAAM,OAAOF,KAAP,IAAgB,QAPrC;IAAA,IAQEG,cAAc,GAAI,GAAGC,KAAH,CAASC,IAAT,CAAcJ,SAAd,EAAyB,CAAzB,CARpB;IAAA,IAUEwB,qBAAqB,GAAGtC,MAAM,CAACsC,qBAAP,IACnBtC,MAAM,CAACgD,wBADY,IAEnBhD,MAAM,CAACiD,2BAFY,IAGnBjD,MAAM,CAACkD,uBAHY,IAInB,UAASC,QAAT,EAAmB;MAAEC,UAAU,CAACD,QAAD,EAAW,CAAX,CAAV;IAA0B,CAdtD;IAAA,IAgBEpB,aAhBF;;IAmBA2F,WAAW,CACRhE,IADH,CACQ,YAAW;MACf,IACEiE,cAAc,GAAGD,WAAW,CAACE,QAAZ,IAAwB,EAD3C;MAAA,IAEEzG,QAAQ,GAAWpB,CAAC,CAACqB,aAAF,CAAgBZ,UAAhB,CAAF,GACbT,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAe,EAAf,EAAmBtB,CAAC,CAACQ,EAAF,CAAK4xD,KAAL,CAAWhxD,QAA9B,EAAwCX,UAAxC,CADa,GAEbT,CAAC,CAACsB,MAAF,CAAS,EAAT,EAAatB,CAAC,CAACQ,EAAF,CAAK4xD,KAAL,CAAWhxD,QAAxB,CAJN;MAAA,IAME;MACAG,SAAS,GAAOH,QAAQ,CAACG,SAP3B;MAAA,IAQEsG,QAAQ,GAAQzG,QAAQ,CAACyG,QAR3B;MAAA,IASErG,KAAK,GAAWJ,QAAQ,CAACI,KAT3B;MAAA,IAUEkH,SAAS,GAAOtH,QAAQ,CAACsH,SAV3B;MAAA,IAYE;MACAE,cAAc,GAAI,MAAMrH,SAb1B;MAAA,IAcEE,eAAe,GAAG,YAAYF,SAdhC;MAAA,IAgBE;MACAI,OAAO,GAAS3B,CAAC,CAAC,IAAD,CAjBnB;MAAA,IAkBEqyD,MAAM,GAAU1wD,OAAO,CAAC6H,IAAR,CAAa,MAAM3B,QAAQ,CAACyqD,KAA5B,CAlBlB;MAAA,IAmBEC,KAAK,GAAWF,MAAM,CAAC7oD,IAAP,CAAY,MAAM3B,QAAQ,CAAC2qD,IAA3B,CAnBlB;MAAA,IAqBE;MACAC,SAAS,GAAG,KAtBd;MAAA,IAuBEC,WAvBF;MAAA,IAwBEC,SAxBF;MAAA,IA0BE;MACA/wD,OAAO,GAAS,IA3BlB;MAAA,IA4BEC,QAAQ,GAAQF,OAAO,CAACG,IAAR,CAAaL,eAAb,CA5BlB;MAAA,IA6BEM,MA7BF;MAgCAA,MAAM,GAAG;QAEPE,UAAU,EAAE,YAAW;UACrBF,MAAM,CAACI,OAAP,CAAe,yBAAf,EAA0CP,OAA1C;UACAG,MAAM,CAACoH,GAAP,CAAWypD,WAAX;UACA7wD,MAAM,CAACG,WAAP;QACD,CANM;QAQPA,WAAW,EAAE,YAAW;UACtBH,MAAM,CAACI,OAAP,CAAe,4BAAf,EAA6CJ,MAA7C;UACAF,QAAQ,GAAGE,MAAX;UACAJ,OAAO,CACJG,IADH,CACQL,eADR,EACyBI,QADzB;QAGD,CAdM;QAgBP8C,OAAO,EAAE,YAAW;UAClB5C,MAAM,CAACI,OAAP,CAAe,gCAAf,EAAiDP,OAAjD;UACAD,OAAO,CACJiD,UADH,CACcnD,eADd,EAEGgN,GAFH,CAEO7F,cAFP;QAID,CAtBM;QAwBPK,OAAO,EAAE,YAAW;UAClBlH,MAAM,CAACI,OAAP,CAAe,+BAAf,EAAgDP,OAAhD;UACAD,OAAO,GAAG3B,CAAC,CAAC4B,OAAD,CAAX;UACAywD,MAAM,GAAIryD,CAAC,CAAC,IAAD,CAAD,CAAQwJ,IAAR,CAAa3B,QAAQ,CAACyqD,KAAtB,CAAV;UACAC,KAAK,GAAKvyD,CAAC,CAAC,IAAD,CAAD,CAAQwJ,IAAR,CAAa3B,QAAQ,CAAC2qD,IAAtB,CAAV;QACD,CA7BM;QA+BPK,OAAO,EAAE,YAAW;UAClB9wD,MAAM,CAACI,OAAP,CAAe,uBAAf;UACA,IACEiwD,KAAK,GAAYC,MAAM,CAAC,CAAD,CAAN,IAAanyD,QAAQ,CAAC6P,aAAT,CAAuB,KAAvB,CADhC;UAAA,IAEE+iD,cAAc,GAAGV,KAAK,CAACW,WAFzB;QAID,CArCM;QAuCPt2C,OAAO,EAAE,UAASu2C,cAAT,EAAyB5vD,QAAzB,EAAmC;UAC1CrB,MAAM,CAACI,OAAP,CAAe,+BAAf,EAAgD6wD,cAAhD;;UACA5vD,QAAQ,GAAGA,QAAQ,IAAI,UAAS4G,KAAT,EAAgB;YACrCjI,MAAM,CAACI,OAAP,CAAe,8BAAf;;YACA,IAAG6H,KAAK,KAAK7J,SAAb,EAAwB;cACtB6J,KAAK,CAACme,eAAN;YACD;;YACDpmB,MAAM,CAAC6H,KAAP;YACA7H,MAAM,CAACoH,GAAP,CAAWqS,MAAX;UACD,CAPD;;UAQApa,QAAQ,CAAC6xD,YAAT,CAAsB9xD,IAAtB,CAA2BwxD,SAAS,CAAC,CAAD,CAApC;;UACA,IAAG5wD,MAAM,CAACiH,GAAP,CAAWg3C,eAAX,EAAH,EAAiC;YAC/Bj+C,MAAM,CAACI,OAAP,CAAe,wBAAf;YACAR,OAAO,CACJ0R,QADH,CACY3K,SAAS,CAAC4S,SADtB;YAGA+2C,MAAM,CACHv0C,GADH,CACOk1C,cADP,EAEG7jD,GAFH,CAEOpN,MAAM,CAACiH,GAAP,CAAWg3C,eAAX,EAFP,EAEqC58C,QAFrC;YAIArB,MAAM,CAACoH,GAAP,CAAWwK,QAAX,CAAoBvS,QAAQ,CAACuS,QAA7B;YACApR,qBAAqB,CAAC,YAAW;cAC/BZ,OAAO,CACJ0R,QADH,CACY3K,SAAS,CAAC4S,SADtB;cAGAo3C,WAAW,CACRr/C,QADH,CACY3K,SAAS,CAAC8lB,MADtB;YAGD,CAPoB,CAArB;UAQD,CAlBD,MAmBK;YACHprB,QAAQ;UACT;QACF,CAxEM;QA0EPiZ,KAAK,EAAE,UAAS7V,MAAT,EAAiB;UACtBzE,MAAM,CAACS,KAAP,CAAa,uBAAb,EAAsCgE,MAAtC;UACA6rD,MAAM,CACHljD,GADH,CACOpN,MAAM,CAACiH,GAAP,CAAWg3C,eAAX,EADP,EACqC,YAAW;YAC5Cj+C,MAAM,CAACS,KAAP,CAAa,4BAAb;YACAa,UAAU,CAAC,YAAU;cACnB1B,OAAO,CAACywD,KAAR,CAAc5rD,MAAd;YACD,CAFS,EAEP,CAFO,CAAV;UAGD,CANH;QAQD,CApFM;QAsFPoD,KAAK,EAAE,YAAW;UAChB7H,MAAM,CAACI,OAAP,CAAe,wBAAf;UACAR,OAAO,CACJyK,WADH,CACe1D,SAAS,CAAC4S,SADzB,EAEG1G,IAFH,CAEQ,OAFR,EAEiB,EAFjB,EAGGW,UAHH,CAGc,OAHd,EAFgB,CAOhB;;UACA88C,MAAM,CACHz9C,IADH,CACQ,OADR,EACiB,EADjB,EAEGW,UAFH,CAEc,OAFd;UAIAg9C,KAAK,CACF39C,IADH,CACQ,OADR,EACiB,EADjB,EAEGW,UAFH,CAEc,OAFd,EAGGnJ,WAHH,CAGe1D,SAAS,CAAC8lB,MAHzB;UAKAmkC,SAAS,CACNvmD,WADH,CACe1D,SAAS,CAAC4S,SADzB,EAEG1G,IAFH,CAEQ,OAFR,EAEiB,EAFjB,EAGGW,UAHH,CAGc,OAHd;QAKD,CA5GM;QA8GP5J,EAAE,EAAE;UACFof,QAAQ,EAAE,YAAW;YACnB,OAAQwnC,KAAK,CAACxlD,MAAN,CAAa,MAAMrE,SAAS,CAAC8S,MAA7B,EAAqC,CAArC,KAA2Cm3C,SAAS,CAAC,CAAD,CAA5D;UACD,CAHC;UAIFr3C,SAAS,EAAE,YAAW;YACpB,OAAO3Z,OAAO,CAACwK,QAAR,CAAiBzD,SAAS,CAAC4S,SAA3B,CAAP;UACD,CANC;UAOFkT,MAAM,EAAE,YAAW;YACjB,OAAO7sB,OAAO,CAAC2J,OAAR,CAAgB,SAAhB,EAA2BjH,MAA3B,GAAoC,CAA3C;UACD;QATC,CA9GG;QA0HP8E,GAAG,EAAE;UAEHypD,WAAW,EAAE,YAAW;YACtBF,WAAW,GAAGH,KAAK,CAACxlD,MAAN,CAAa,MAAM3L,QAAQ,CAACsH,SAAT,CAAmB8S,MAAtC,CAAd;YACAm3C,SAAS,GAAOD,WAAW,CAACt3C,IAAZ,CAAiBvT,QAAQ,CAAC2qD,IAA1B,EAAgCnuD,MAAhC,GAAyC,CAA3C,GACVquD,WAAW,CAACt3C,IAAZ,CAAiBvT,QAAQ,CAAC2qD,IAA1B,CADU,GAEVD,KAAK,CAACl9C,KAAN,EAFJ;YAIAo9C,SAAS,GAAG,KAAZ;YACA1wD,MAAM,CAACI,OAAP,CAAe,oBAAf,EAAqCuwD,WAArC;YACA3wD,MAAM,CAACI,OAAP,CAAe,kBAAf,EAAmCwwD,SAAnC;UACD,CAXE;UAaHh/C,QAAQ,EAAE,UAASA,QAAT,EAAmB;YAC3BA,QAAQ,GAAGA,QAAQ,IAAIvS,QAAQ,CAACuS,QAAhC;YACAA,QAAQ,GAAI,OAAOA,QAAP,IAAmB,QAApB,GACPA,QAAQ,GAAG,IADJ,GAEPA,QAFJ;YAIA5R,MAAM,CAACI,OAAP,CAAe,4BAAf,EAA6CwR,QAA7C;;YACA,IAAGvS,QAAQ,CAACuS,QAAT,IAAqBvS,QAAQ,CAACuS,QAAT,KAAsB,CAA9C,EAAiD;cAC/C0+C,MAAM,CAACzgD,GAAP,CAAW2gD,KAAX,EACGz0C,GADH,CACO;gBACH,+BAA+BnK,QAD5B;gBAEH,4BAA4BA,QAFzB;gBAGH,2BAA2BA,QAHxB;gBAIH,0BAA0BA,QAJvB;gBAKH,uBAAuBA;cALpB,CADP;YASD;UACF,CA/BE;UAiCHu/C,gBAAgB,EAAE,YAAW;YAC3B,IACER,WAAW,GAAGH,KAAK,CAACxlD,MAAN,CAAa,MAAM3L,QAAQ,CAACsH,SAAT,CAAmB8S,MAAtC,CADhB;YAAA,IAEE6L,KAAK,GAASqrC,WAAW,CAAC1mB,UAAZ,CAAuB,IAAvB,CAFhB;YAAA,IAGE5Z,MAAM,GAAQsgC,WAAW,CAACxsB,WAAZ,CAAwB,IAAxB,CAHhB;YAKAvkC,OAAO,CACJmc,GADH,CACO;cACHuJ,KAAK,EAAEA,KADJ;cAEH+K,MAAM,EAAEA;YAFL,CADP;UAMD,CA7CE;UA+CH+gC,SAAS,EAAE,YAAW;YACpB,IACEC,MAAM,GAAQzxD,OAAO,CAACsiC,KAAR,GAAgB5wB,QAAhB,CAAyB3K,SAAS,CAACu+B,OAAnC,CADhB;YAAA,IAEEsrB,KAAK,GAASa,MAAM,CAAC5pD,IAAP,CAAY,MAAM3B,QAAQ,CAACyqD,KAAf,GAAuB,GAAvB,GAA6BzqD,QAAQ,CAAC2qD,IAAlD,CAFhB;YAAA,IAGEE,WAAW,GAAGH,KAAK,CAACxlD,MAAN,CAAa,MAAM3L,QAAQ,CAACsH,SAAT,CAAmB8S,MAAtC,CAHhB;YAAA,IAIEm3C,SAAS,GAAMF,SAAD,GACVF,KAAK,CAACphD,EAAN,CAASshD,SAAT,CADU,GAERC,WAAW,CAACt3C,IAAZ,CAAiBvT,QAAQ,CAAC2qD,IAA1B,EAAgCnuD,MAAhC,GAAyC,CAA3C,GACEquD,WAAW,CAACt3C,IAAZ,CAAiBvT,QAAQ,CAAC2qD,IAA1B,CADF,GAEED,KAAK,CAACl9C,KAAN,EARR;YAAA,IASEg+C,QAAQ,GAAOjyD,QAAQ,CAACimB,KAAT,KAAmB,MAApB,GACVsrC,SAAS,CAAC3mB,UAAV,CAAqB,IAArB,CADU,GAET5qC,QAAQ,CAACimB,KAAT,KAAmB,SAApB,GACE1lB,OAAO,CAAC0lB,KAAR,EADF,GAEEjmB,QAAQ,CAACimB,KAbjB;YAAA,IAcEisC,SAAS,GAAOlyD,QAAQ,CAACgxB,MAAT,KAAoB,MAArB,GACXugC,SAAS,CAACzsB,WAAV,CAAsB,IAAtB,CADW,GAEV9kC,QAAQ,CAACgxB,MAAT,KAAoB,SAArB,GACEzwB,OAAO,CAACywB,MAAR,EADF,GAEEhxB,QAAQ,CAACgxB,MAlBjB;YAoBAsgC,WAAW,CAACtmD,WAAZ,CAAwB1D,SAAS,CAAC8S,MAAlC;YACAm3C,SAAS,CAACt/C,QAAV,CAAmB3K,SAAS,CAAC8S,MAA7B;YACA43C,MAAM,CAACriC,WAAP,CAAmBpvB,OAAnB;YACAyxD,MAAM,CAAC/mD,MAAP;;YACA,IAAGjL,QAAQ,CAACimB,KAAT,KAAmB,MAAtB,EAA8B;cAC5B1lB,OAAO,CAACmc,GAAR,CAAY,OAAZ,EAAqBu1C,QAAQ,GAAGjyD,QAAQ,CAAC49C,MAAzC;cACAj9C,MAAM,CAACI,OAAP,CAAe,mCAAf,EAAoDkxD,QAApD;YACD;;YACD,IAAGjyD,QAAQ,CAACgxB,MAAT,KAAoB,MAAvB,EAA+B;cAC7BzwB,OAAO,CAACmc,GAAR,CAAY,QAAZ,EAAsBw1C,SAAS,GAAGlyD,QAAQ,CAAC49C,MAA3C;cACAj9C,MAAM,CAACI,OAAP,CAAe,oCAAf,EAAqDmxD,SAArD;YACD;UACF,CAhFE;UAkFHC,QAAQ,EAAE,UAAS1rD,QAAT,EAAmB;YAC3B4qD,SAAS,GAAG5qD,QAAZ;YACA8qD,SAAS,GAAGJ,KAAK,CAACxlD,MAAN,CAAalF,QAAb,CAAZ;YACA4qD,SAAS,GAAGF,KAAK,CAAC3uD,KAAN,CAAY+uD,SAAZ,CAAZ;;YACA,IAAGA,SAAS,CAACtuD,MAAV,KAAqB,CAAxB,EAA2B;cACzBtC,MAAM,CAACoH,GAAP,CAAWypD,WAAX;cACA7wD,MAAM,CAACP,KAAP,CAAaA,KAAK,CAACgxD,IAAnB;YACD;;YACDzwD,MAAM,CAACI,OAAP,CAAe,2BAAf,EAA4CwwD,SAA5C;UACD,CA3FE;UA6FHn3C,MAAM,EAAE,YAAW;YACjBzZ,MAAM,CAACI,OAAP,CAAe,4BAAf,EAA6CwwD,SAA7C;YACAJ,KAAK,CACFnmD,WADH,CACe1D,SAAS,CAAC8S,MADzB;YAGAm3C,SAAS,CACNt/C,QADH,CACY3K,SAAS,CAAC8S,MADtB;YAGApa,QAAQ,CAAC2b,QAAT,CAAkB5b,IAAlB,CAAuBwxD,SAAS,CAAC,CAAD,CAAhC;YACA5wD,MAAM,CAACoH,GAAP,CAAWypD,WAAX;UACD;QAvGE,CA1HE;QAoOPY,IAAI,EAAE;UACJC,EAAE,EAAE,UAASjpD,IAAT,EAAckpD,KAAd,EAAoB;YACtB,IAAG3xD,MAAM,CAAC4J,EAAP,CAAU6iB,MAAV,EAAH,EAAuB;cACrBzsB,MAAM,CAACS,KAAP,CAAa,oBAAb,EAAmCmwD,SAAnC;cACA;YACD;;YACD,IAAG5wD,MAAM,CAAC4J,EAAP,CAAUof,QAAV,MAAwB,CAAChpB,MAAM,CAAC4J,EAAP,CAAU2P,SAAV,EAAzB,IAAkD,CAACla,QAAQ,CAACuyD,YAA/D,EAA6E;cAC3E5xD,MAAM,CAACS,KAAP,CAAa,sBAAb,EAAqCmwD,SAArC;cACA;YACD;;YACD,IACEiB,SAAS,GAAG7xD,MAAM,CAACiH,GAAP,CAAW4qD,SAAX,CAAqBppD,IAArB,GADd;;YAGA,IAAI,CAACzI,MAAM,CAAC4J,EAAP,CAAU2P,SAAV,EAAL,EAA4B;cAC1BvZ,MAAM,CAACS,KAAP,CAAa,cAAYgI,IAAzB,EAA+BmoD,SAA/B;cACA5wD,MAAM,CAACoH,GAAP,CAAWgqD,SAAX;cACApxD,MAAM,CAAC2xD,KAAP,CAAaA,KAAb;cACA3xD,MAAM,CAAC0a,OAAP,CAAem3C,SAAf;YACD,CALD,MAMK;cACH7xD,MAAM,CAACsa,KAAP,CAAa,UAAQ7R,IAArB;YACD;UACF,CAtBG;UAwBJskB,EAAE,EAAE,YAAW;YACb/sB,MAAM,CAACyxD,IAAP,CAAYC,EAAZ,CAAe,IAAf,EAAoB,OAApB;UACD,CA1BG;UA4BJzkC,IAAI,EAAE,YAAW;YACfjtB,MAAM,CAACyxD,IAAP,CAAYC,EAAZ,CAAe,MAAf,EAAsB,OAAtB;UACD,CA9BG;UAgCJ/rC,IAAI,EAAE,YAAW;YACf3lB,MAAM,CAACyxD,IAAP,CAAYC,EAAZ,CAAe,MAAf,EAAsB,MAAtB;UACD,CAlCG;UAoCJ1kC,KAAK,EAAE,YAAW;YAChBhtB,MAAM,CAACyxD,IAAP,CAAYC,EAAZ,CAAe,OAAf,EAAuB,OAAvB;UACD,CAtCG;UAwCJI,IAAI,EAAE,YAAW;YACf9xD,MAAM,CAACyxD,IAAP,CAAYC,EAAZ,CAAe,MAAf,EAAsB,QAAtB;UACD,CA1CG;UA4CJK,IAAI,EAAE,YAAW;YACf/xD,MAAM,CAACyxD,IAAP,CAAYC,EAAZ,CAAe,MAAf,EAAsB,QAAtB;UACD;QA9CG,CApOC;QAsRPzqD,GAAG,EAAE;UAEH4qD,SAAS,EAAE;YACT9kC,EAAE,EAAE,YAAW;cACb,IACMilC,UAAU,GAAGrB,WAAW,CAACxsB,WAAZ,CAAwB,IAAxB,IAAgC,CADnD;cAAA,IAEE8tB,UAAU,GAAGrB,SAAS,CAACzsB,WAAV,CAAsB,IAAtB,IAA8B6tB,UAF7C;cAIA,OAAO;gBACLH,SAAS,EAAE,gBAAgBI,UAAhB,GAA6B,kBAA7B,GAAiDD,UAAjD,GAA8D;cADpE,CAAP;YAGD,CATQ;YAWT/kC,IAAI,EAAE,YAAW;cACf,IACEilC,SAAS,GAAG;gBACVC,CAAC,EAAExB,WAAW,CAACxsB,WAAZ,CAAwB,IAAxB,IAAgC;cADzB,CADd;cAKA,OAAO;gBACL0tB,SAAS,EAAE,iBAAiBK,SAAS,CAACC,CAA3B,GAA+B,kBAA/B,GAAmDD,SAAS,CAACC,CAA7D,GAAiE;cADvE,CAAP;YAGD,CApBQ;YAsBTxsC,IAAI,EAAE,YAAW;cACf,IACIqsC,UAAU,GAAGrB,WAAW,CAAC1mB,UAAZ,CAAuB,IAAvB,IAA+B,CADhD;cAAA,IAEImoB,UAAU,GAAGxB,SAAS,CAAC3mB,UAAV,CAAqB,IAArB,IAA6B+nB,UAF9C;cAIA,OAAO;gBACLH,SAAS,EAAE,gBAAgBO,UAAhB,GAA6B,kBAA7B,GAAkDJ,UAAlD,GAA+D;cADrE,CAAP;YAGD,CA9BQ;YAgCThlC,KAAK,EAAE,YAAW;cAChB,IACEklC,SAAS,GAAG;gBACVC,CAAC,EAAGxB,WAAW,CAAC1mB,UAAZ,CAAuB,IAAvB,IAA+B;cADzB,CADd;cAKA,OAAO;gBACL4nB,SAAS,EAAE,iBAAiBK,SAAS,CAACC,CAA3B,GAA+B,kBAA/B,GAAoDD,SAAS,CAACC,CAA9D,GAAkE;cADxE,CAAP;YAGD,CAzCQ;YA2CTL,IAAI,EAAE,YAAW;cACf,IACEI,SAAS,GAAG;gBACVj2C,CAAC,EAAG,EAAE,CAAC00C,WAAW,CAAC1mB,UAAZ,CAAuB,IAAvB,IAA+B2mB,SAAS,CAAC3mB,UAAV,CAAqB,IAArB,CAAhC,IAA8D,CAAhE;cADM,CADd;cAKA,OAAO;gBACL4nB,SAAS,EAAE,gBAAgBK,SAAS,CAACj2C,CAA1B,GAA8B;cADpC,CAAP;YAGD,CApDQ;YAsDT81C,IAAI,EAAE,YAAW;cACf,IACEG,SAAS,GAAG;gBACVj2C,CAAC,EAAG,EAAE,CAAC00C,WAAW,CAAC1mB,UAAZ,CAAuB,IAAvB,IAA+B2mB,SAAS,CAAC3mB,UAAV,CAAqB,IAArB,CAAhC,IAA8D,CAAhE;cADM,CADd;cAKA,OAAO;gBACL4nB,SAAS,EAAE,gBAAgBK,SAAS,CAACj2C,CAA1B,GAA8B;cADpC,CAAP;YAGD;UA/DQ,CAFR;UAoEHgiC,eAAe,EAAE,YAAW;YAC1B,IACEp+C,OAAO,GAAO1B,QAAQ,CAAC6P,aAAT,CAAuB,SAAvB,CADhB;YAAA,IAEEwxC,WAAW,GAAG;cACZ,cAAoB,eADR;cAEZ,eAAoB,gBAFR;cAGZ,iBAAoB,eAHR;cAIZ,oBAAoB;YAJR,CAFhB;YAAA,IAQE7tC,UARF;;YAUA,KAAIA,UAAJ,IAAkB6tC,WAAlB,EAA8B;cAC5B,IAAI3/C,OAAO,CAAC4/C,KAAR,CAAc9tC,UAAd,MAA8BvT,SAAlC,EAA6C;gBAC3C,OAAOohD,WAAW,CAAC7tC,UAAD,CAAlB;cACD;YACF;UACF,CApFE;UAsFH6/C,QAAQ,EAAE,YAAW;YACnB,OAASb,WAAW,CAACt3C,IAAZ,CAAiBvT,QAAQ,CAAC2qD,IAA1B,EAAgCnuD,MAAhC,GAAyC,CAA3C,GACHquD,WAAW,CAACt3C,IAAZ,CAAiBvT,QAAQ,CAAC2qD,IAA1B,CADG,GAEHD,KAAK,CAACl9C,KAAN,EAFJ;UAID;QA3FE,CAtRE;QAqXPq+C,KAAK,EAAE;UAEL/nB,KAAK,EAAE,YAAW;YAChB,IACEyoB,GAAG,GAAG;cACJC,MAAM,EAAI,CAAC3B,WAAW,CAACxsB,WAAZ,CAAwB,IAAxB,IAAgCysB,SAAS,CAACzsB,WAAV,CAAsB,IAAtB,CAAjC,IAAgE,CADtE;cAEJ9/B,KAAK,EAAI;gBACPoV,MAAM,EAAIm3C,SAAS,CAACzsB,WAAV,CAAsB,IAAtB,IAA8B,CADjC;gBAEP9qB,IAAI,EAAMs3C,WAAW,CAACxsB,WAAZ,CAAwB,IAAxB,IAAgC;cAFnC;YAFL,CADR;YASAnkC,MAAM,CAACI,OAAP,CAAe,iDAAf,EAAkEwwD,SAAlE,EAA6EyB,GAA7E;YACA1B,WAAW,CACR50C,GADH,CACO;cACH,aAAc;YADX,CADP;YAKA60C,SAAS,CACNt/C,QADH,CACY3K,SAAS,CAAC4S,SADtB,EAEGwC,GAFH,CAEO;cACH,OAAcs2C,GAAG,CAACC,MAAJ,GAAa,IADxB;cAEH,aAAc,+BAA+BD,GAAG,CAAChuD,KAAJ,CAAUgV,IAAzC,GAAgD,kBAAhD,GAAqEg5C,GAAG,CAAChuD,KAAJ,CAAUoV,MAA/E,GAAwF;YAFnG,CAFP;UAOD,CAzBI;UA2BLowB,KAAK,EAAE,YAAW;YAChB,IACEwoB,GAAG,GAAG;cACJC,MAAM,EAAI,CAAC3B,WAAW,CAACxsB,WAAZ,CAAwB,IAAxB,IAAgCysB,SAAS,CAACzsB,WAAV,CAAsB,IAAtB,CAAjC,IAAgE,CADtE;cAEJ9/B,KAAK,EAAI;gBACPoV,MAAM,EAAIm3C,SAAS,CAACzsB,WAAV,CAAsB,IAAtB,IAA8B,CADjC;gBAEP9qB,IAAI,EAAMs3C,WAAW,CAACxsB,WAAZ,CAAwB,IAAxB,IAAgC;cAFnC;YAFL,CADR;YASAnkC,MAAM,CAACI,OAAP,CAAe,iDAAf,EAAkEwwD,SAAlE,EAA6EyB,GAA7E;YACA1B,WAAW,CACR50C,GADH,CACO;cACH,aAAc;YADX,CADP;YAKA60C,SAAS,CACNt/C,QADH,CACY3K,SAAS,CAAC4S,SADtB,EAEGwC,GAFH,CAEO;cACH,OAAcs2C,GAAG,CAACC,MAAJ,GAAa,IADxB;cAEH,aAAc,gCAAgCD,GAAG,CAAChuD,KAAJ,CAAUgV,IAA1C,GAAiD,iBAAjD,GAAqEg5C,GAAG,CAAChuD,KAAJ,CAAUoV,MAA/E,GAAwF;YAFnG,CAFP;UAOD,CAlDI;UAoDLkM,IAAI,EAAE,YAAW;YACf,IACE0K,MAAM,GAAG;cACP5W,MAAM,EAAGk3C,WAAW,CAAC1mB,UAAZ,CAAuB,IAAvB,CADF;cAEP5wB,IAAI,EAAKu3C,SAAS,CAAC3mB,UAAV,CAAqB,IAArB;YAFF,CADX;YAAA,IAKEooB,GAAG,GAAG;cACJC,MAAM,EAAK,CAAEjiC,MAAM,CAAC5W,MAAP,GAAgB4W,MAAM,CAAChX,IAAzB,IAAkC,CADzC;cAEJhV,KAAK,EAAI;gBACPoV,MAAM,EAAI4W,MAAM,CAAChX,IAAP,GAAc,CADjB;gBAEPA,IAAI,EAAMgX,MAAM,CAAC5W,MAAP,GAAgB;cAFnB;YAFL,CALR;YAaAzZ,MAAM,CAACI,OAAP,CAAe,gDAAf,EAAiEwwD,SAAjE,EAA4EyB,GAA5E;YACA1B,WAAW,CACR50C,GADH,CACO;cACH,aAAc;YADX,CADP;YAKA60C,SAAS,CACNt/C,QADH,CACY3K,SAAS,CAAC4S,SADtB,EAEGwC,GAFH,CAEO;cACH,QAAcs2C,GAAG,CAACC,MAAJ,GAAa,IADxB;cAEH,aAAc,gCAAgCD,GAAG,CAAChuD,KAAJ,CAAUgV,IAA1C,GAAiD,kBAAjD,GAAsEg5C,GAAG,CAAChuD,KAAJ,CAAUoV,MAAhF,GAAyF;YAFpG,CAFP;UAOD,CA/EI;UAiFLuT,KAAK,EAAE,YAAW;YAChB,IACEqD,MAAM,GAAG;cACP5W,MAAM,EAAGk3C,WAAW,CAAC1mB,UAAZ,CAAuB,IAAvB,CADF;cAEP5wB,IAAI,EAAKu3C,SAAS,CAAC3mB,UAAV,CAAqB,IAArB;YAFF,CADX;YAAA,IAKEooB,GAAG,GAAG;cACJC,MAAM,EAAK,CAAEjiC,MAAM,CAAC5W,MAAP,GAAgB4W,MAAM,CAAChX,IAAzB,IAAkC,CADzC;cAEJhV,KAAK,EAAI;gBACPoV,MAAM,EAAI4W,MAAM,CAAChX,IAAP,GAAc,CADjB;gBAEPA,IAAI,EAAMgX,MAAM,CAAC5W,MAAP,GAAgB;cAFnB;YAFL,CALR;YAaAzZ,MAAM,CAACI,OAAP,CAAe,iDAAf,EAAkEwwD,SAAlE,EAA6EyB,GAA7E;YACA1B,WAAW,CACR50C,GADH,CACO;cACH,aAAc;YADX,CADP;YAKA60C,SAAS,CACNt/C,QADH,CACY3K,SAAS,CAAC4S,SADtB,EAEGwC,GAFH,CAEO;cACH,QAAcs2C,GAAG,CAACC,MAAJ,GAAa,IADxB;cAEH,aAAc,+BAA+BD,GAAG,CAAChuD,KAAJ,CAAUgV,IAAzC,GAAgD,iBAAhD,GAAoEg5C,GAAG,CAAChuD,KAAJ,CAAUoV,MAA9E,GAAuF;YAFlG,CAFP;UAOD,CA5GI;UA8GL84C,MAAM,EAAE,YAAW;YACjB,IACEliC,MAAM,GAAG;cACP5W,MAAM,EAAGk3C,WAAW,CAAC1mB,UAAZ,CAAuB,IAAvB,CADF;cAEP5wB,IAAI,EAAKu3C,SAAS,CAAC3mB,UAAV,CAAqB,IAArB;YAFF,CADX;YAAA,IAKEooB,GAAG,GAAG;cACJC,MAAM,EAAK,CAAEjiC,MAAM,CAAC5W,MAAP,GAAgB4W,MAAM,CAAChX,IAAzB,IAAkC,CADzC;cAEJhV,KAAK,EAAI;gBACPoV,MAAM,EAAI4W,MAAM,CAAChX,IAAP,GAAc,CADjB;gBAEPA,IAAI,EAAMgX,MAAM,CAAC5W,MAAP,GAAgB;cAFnB;YAFL,CALR;YAaAzZ,MAAM,CAACI,OAAP,CAAe,kDAAf,EAAmEwwD,SAAnE,EAA8EyB,GAA9E;YACA1B,WAAW,CACR50C,GADH,CACO;cACH,aAAc;YADX,CADP;YAKA60C,SAAS,CACNt/C,QADH,CACY3K,SAAS,CAAC4S,SADtB,EAEGwC,GAFH,CAEO;cACH,QAAcs2C,GAAG,CAACC,MAAJ,GAAa,IADxB;cAEH,aAAc;YAFX,CAFP;UAOD;QAzII,CArXA;QAggBPpwD,OAAO,EAAE,UAASV,IAAT,EAAeW,KAAf,EAAsB;UAC7BnC,MAAM,CAACS,KAAP,CAAa,kBAAb,EAAiCe,IAAjC,EAAuCW,KAAvC;;UACA,IAAIlE,CAAC,CAACqB,aAAF,CAAgBkC,IAAhB,CAAJ,EAA4B;YAC1BvD,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAeF,QAAf,EAAyBmC,IAAzB;UACD,CAFD,MAGK,IAAGW,KAAK,KAAK/D,SAAb,EAAwB;YAC3B,IAAGH,CAAC,CAACqB,aAAF,CAAgBD,QAAQ,CAACmC,IAAD,CAAxB,CAAH,EAAoC;cAClCvD,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAeF,QAAQ,CAACmC,IAAD,CAAvB,EAA+BW,KAA/B;YACD,CAFD,MAGK;cACH9C,QAAQ,CAACmC,IAAD,CAAR,GAAiBW,KAAjB;YACD;UACF,CAPI,MAQA;YACH,OAAO9C,QAAQ,CAACmC,IAAD,CAAf;UACD;QACF,CAhhBM;QAihBPsB,QAAQ,EAAE,UAAStB,IAAT,EAAeW,KAAf,EAAsB;UAC9B,IAAIlE,CAAC,CAACqB,aAAF,CAAgBkC,IAAhB,CAAJ,EAA4B;YAC1BvD,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAeS,MAAf,EAAuBwB,IAAvB;UACD,CAFD,MAGK,IAAGW,KAAK,KAAK/D,SAAb,EAAwB;YAC3B4B,MAAM,CAACwB,IAAD,CAAN,GAAeW,KAAf;UACD,CAFI,MAGA;YACH,OAAOnC,MAAM,CAACwB,IAAD,CAAb;UACD;QACF,CA3hBM;QA4hBPf,KAAK,EAAE,YAAW;UAChB,IAAG,CAACpB,QAAQ,CAACgV,MAAV,IAAoBhV,QAAQ,CAACoB,KAAhC,EAAuC;YACrC,IAAGpB,QAAQ,CAACP,WAAZ,EAAyB;cACvBkB,MAAM,CAAClB,WAAP,CAAmB4B,GAAnB,CAAuB1B,SAAvB;YACD,CAFD,MAGK;cACHgB,MAAM,CAACS,KAAP,GAAesC,QAAQ,CAACC,SAAT,CAAmBC,IAAnB,CAAwB7D,IAAxB,CAA6BmB,OAAO,CAACmC,IAArC,EAA2CnC,OAA3C,EAAoDlB,QAAQ,CAACmC,IAAT,GAAgB,GAApE,CAAf;cACAxB,MAAM,CAACS,KAAP,CAAayC,KAAb,CAAmB3C,OAAnB,EAA4BvB,SAA5B;YACD;UACF;QACF,CAtiBM;QAuiBPoB,OAAO,EAAE,YAAW;UAClB,IAAG,CAACf,QAAQ,CAACgV,MAAV,IAAoBhV,QAAQ,CAACe,OAA7B,IAAwCf,QAAQ,CAACoB,KAApD,EAA2D;YACzD,IAAGpB,QAAQ,CAACP,WAAZ,EAAyB;cACvBkB,MAAM,CAAClB,WAAP,CAAmB4B,GAAnB,CAAuB1B,SAAvB;YACD,CAFD,MAGK;cACHgB,MAAM,CAACI,OAAP,GAAiB2C,QAAQ,CAACC,SAAT,CAAmBC,IAAnB,CAAwB7D,IAAxB,CAA6BmB,OAAO,CAACmC,IAArC,EAA2CnC,OAA3C,EAAoDlB,QAAQ,CAACmC,IAAT,GAAgB,GAApE,CAAjB;cACAxB,MAAM,CAACI,OAAP,CAAe8C,KAAf,CAAqB3C,OAArB,EAA8BvB,SAA9B;YACD;UACF;QACF,CAjjBM;QAkjBPS,KAAK,EAAE,YAAW;UAChB,IAAG,CAACJ,QAAQ,CAACgV,MAAb,EAAqB;YACnBrU,MAAM,CAACP,KAAP,GAAesD,QAAQ,CAACC,SAAT,CAAmBC,IAAnB,CAAwB7D,IAAxB,CAA6BmB,OAAO,CAACd,KAArC,EAA4Cc,OAA5C,EAAqDlB,QAAQ,CAACmC,IAAT,GAAgB,GAArE,CAAf;YACAxB,MAAM,CAACP,KAAP,CAAayD,KAAb,CAAmB3C,OAAnB,EAA4BvB,SAA5B;UACD;QACF,CAvjBM;QAwjBPF,WAAW,EAAE;UACX4B,GAAG,EAAE,UAASyC,OAAT,EAAkB;YACrB,IACEC,WADF,EAEEC,aAFF,EAGEC,YAHF;;YAKA,IAAGjE,QAAQ,CAACP,WAAZ,EAAyB;cACvBsE,WAAW,GAAK,IAAIxE,IAAJ,GAAWC,OAAX,EAAhB;cACAyE,YAAY,GAAI3E,IAAI,IAAIyE,WAAxB;cACAC,aAAa,GAAGD,WAAW,GAAGE,YAA9B;cACA3E,IAAI,GAAYyE,WAAhB;cACAtE,WAAW,CAACgD,IAAZ,CAAiB;gBACf,QAAmBqB,OAAO,CAAC,CAAD,CADX;gBAEf,aAAmB,GAAGhE,KAAH,CAASC,IAAT,CAAc+D,OAAd,EAAuB,CAAvB,KAA6B,EAFjC;gBAGf,WAAmBtD,OAHJ;gBAIf,kBAAmBwD;cAJJ,CAAjB;YAMD;;YACDE,YAAY,CAACvD,MAAM,CAAClB,WAAP,CAAmB0E,KAApB,CAAZ;YACAxD,MAAM,CAAClB,WAAP,CAAmB0E,KAAnB,GAA2BlC,UAAU,CAACtB,MAAM,CAAClB,WAAP,CAAmB2E,OAApB,EAA6B,GAA7B,CAArC;UACD,CArBU;UAsBXA,OAAO,EAAE,YAAW;YAClB,IACEC,KAAK,GAAGrE,QAAQ,CAACmC,IAAT,GAAgB,GAD1B;YAAA,IAEEmC,SAAS,GAAG,CAFd;YAIAhF,IAAI,GAAG,KAAP;YACA4E,YAAY,CAACvD,MAAM,CAAClB,WAAP,CAAmB0E,KAApB,CAAZ;YACAvF,CAAC,CAAC2D,IAAF,CAAO9C,WAAP,EAAoB,UAAS+C,KAAT,EAAgB9B,IAAhB,EAAsB;cACxC4D,SAAS,IAAI5D,IAAI,CAAC,gBAAD,CAAjB;YACD,CAFD;YAGA2D,KAAK,IAAI,MAAMC,SAAN,GAAkB,IAA3B;;YACA,IAAGkC,cAAH,EAAmB;cACjBnC,KAAK,IAAI,QAAQmC,cAAR,GAAyB,IAAlC;YACD;;YACD,IAAGD,WAAW,CAACtD,MAAZ,GAAqB,CAAxB,EAA2B;cACzBoB,KAAK,IAAI,MAAM,GAAN,GAAYkC,WAAW,CAACtD,MAAxB,GAAiC,GAA1C;YACD;;YACD,IAAI,CAAC/B,OAAO,CAACK,KAAR,KAAkBxC,SAAlB,IAA+BmC,OAAO,CAACqD,KAAR,KAAkBxF,SAAlD,KAAgEU,WAAW,CAACwD,MAAZ,GAAqB,CAAzF,EAA4F;cAC1F/B,OAAO,CAACO,cAAR,CAAuB4C,KAAvB;;cACA,IAAGnD,OAAO,CAACqD,KAAX,EAAkB;gBAChBrD,OAAO,CAACqD,KAAR,CAAc9E,WAAd;cACD,CAFD,MAGK;gBACHb,CAAC,CAAC2D,IAAF,CAAO9C,WAAP,EAAoB,UAAS+C,KAAT,EAAgB9B,IAAhB,EAAsB;kBACxCQ,OAAO,CAACG,GAAR,CAAYX,IAAI,CAAC,MAAD,CAAJ,GAAe,IAAf,GAAsBA,IAAI,CAAC,gBAAD,CAA1B,GAA6C,IAAzD;gBACD,CAFD;cAGD;;cACDQ,OAAO,CAACM,QAAR;YACD;;YACD/B,WAAW,GAAG,EAAd;UACD;QApDU,CAxjBN;QA8mBP+E,MAAM,EAAE,UAAS9E,KAAT,EAAgB+E,eAAhB,EAAiCC,OAAjC,EAA0C;UAChD,IACEC,MAAM,GAAGlE,QADX;UAAA,IAEEmE,QAFF;UAAA,IAGEC,KAHF;UAAA,IAIEC,QAJF;UAMAL,eAAe,GAAGA,eAAe,IAAI5E,cAArC;UACA6E,OAAO,GAAWlE,OAAO,IAAYkE,OAArC;;UACA,IAAG,OAAOhF,KAAP,IAAgB,QAAhB,IAA4BiF,MAAM,KAAK5F,SAA1C,EAAqD;YACnDW,KAAK,GAAMA,KAAK,CAACqF,KAAN,CAAY,OAAZ,CAAX;YACAH,QAAQ,GAAGlF,KAAK,CAACuD,MAAN,GAAe,CAA1B;YACArE,CAAC,CAAC2D,IAAF,CAAO7C,KAAP,EAAc,UAASsF,KAAT,EAAgBlC,KAAhB,EAAuB;cACnC,IAAImC,cAAc,GAAID,KAAK,IAAIJ,QAAV,GACjB9B,KAAK,GAAGpD,KAAK,CAACsF,KAAK,GAAG,CAAT,CAAL,CAAiBE,MAAjB,CAAwB,CAAxB,EAA2BC,WAA3B,EAAR,GAAmDzF,KAAK,CAACsF,KAAK,GAAG,CAAT,CAAL,CAAiBlF,KAAjB,CAAuB,CAAvB,CADlC,GAEjBJ,KAFJ;;cAIA,IAAId,CAAC,CAACqB,aAAF,CAAiB0E,MAAM,CAACM,cAAD,CAAvB,KAA8CD,KAAK,IAAIJ,QAA3D,EAAuE;gBACrED,MAAM,GAAGA,MAAM,CAACM,cAAD,CAAf;cACD,CAFD,MAGK,IAAIN,MAAM,CAACM,cAAD,CAAN,KAA2BlG,SAA/B,EAA2C;gBAC9C8F,KAAK,GAAGF,MAAM,CAACM,cAAD,CAAd;gBACA,OAAO,KAAP;cACD,CAHI,MAIA,IAAIrG,CAAC,CAACqB,aAAF,CAAiB0E,MAAM,CAAC7B,KAAD,CAAvB,KAAqCkC,KAAK,IAAIJ,QAAlD,EAA8D;gBACjED,MAAM,GAAGA,MAAM,CAAC7B,KAAD,CAAf;cACD,CAFI,MAGA,IAAI6B,MAAM,CAAC7B,KAAD,CAAN,KAAkB/D,SAAtB,EAAkC;gBACrC8F,KAAK,GAAGF,MAAM,CAAC7B,KAAD,CAAd;gBACA,OAAO,KAAP;cACD,CAHI,MAIA;gBACH,OAAO,KAAP;cACD;YACF,CAtBD;UAuBD;;UACD,IAAKlE,CAAC,CAACI,UAAF,CAAc6F,KAAd,CAAL,EAA6B;YAC3BC,QAAQ,GAAGD,KAAK,CAAChB,KAAN,CAAYa,OAAZ,EAAqBD,eAArB,CAAX;UACD,CAFD,MAGK,IAAGI,KAAK,KAAK9F,SAAb,EAAwB;YAC3B+F,QAAQ,GAAGD,KAAX;UACD;;UACD,IAAGQ,KAAK,CAACC,OAAN,CAAc1E,aAAd,CAAH,EAAiC;YAC/BA,aAAa,CAAC6B,IAAd,CAAmBqC,QAAnB;UACD,CAFD,MAGK,IAAGlE,aAAa,KAAK7B,SAArB,EAAgC;YACnC6B,aAAa,GAAG,CAACA,aAAD,EAAgBkE,QAAhB,CAAhB;UACD,CAFI,MAGA,IAAGA,QAAQ,KAAK/F,SAAhB,EAA2B;YAC9B6B,aAAa,GAAGkE,QAAhB;UACD;;UACD,OAAOD,KAAP;QACD;MAlqBM,CAAT;;MAqqBA,IAAGjF,aAAH,EAAkB;QAChB,IAAGa,QAAQ,KAAK1B,SAAhB,EAA2B;UACzB4B,MAAM,CAACE,UAAP;QACD;;QACD,IAAIq1C,OAAO,GAAG31C,OAAO,CAAC6H,IAAR,CAAa,OAAb,CAAd;;QACA,IAAI8tC,OAAO,CAACjzC,MAAR,GAAiB,CAArB,EAAwB;UACtBizC,OAAO,CAACntC,IAAR;UACA9G,UAAU,CAAC,YAAU;YACnBtB,MAAM,CAAC6D,MAAP,CAAc9E,KAAd;UACD,CAFS,EAEP,GAFO,CAAV;QAGD,CALD,MAKO;UACLiB,MAAM,CAAC6D,MAAP,CAAc9E,KAAd;QACD;MACF,CAbD,MAcK;QACH,IAAGe,QAAQ,KAAK1B,SAAhB,EAA2B;UACzB0B,QAAQ,CAAC+D,MAAT,CAAgB,SAAhB;QACD;;QACD7D,MAAM,CAACE,UAAP;MACD;IACF,CA3tBH;IA8tBA,OAAQD,aAAa,KAAK7B,SAAnB,GACH6B,aADG,GAEH,IAFJ;EAID,CAtvBD;;EAwvBAhC,CAAC,CAACQ,EAAF,CAAK4xD,KAAL,CAAWhxD,QAAX,GAAsB;IAEpB;IACAmC,IAAI,EAAG,OAHa;IAKpB;IACA6S,MAAM,EAAO,KANO;IAQpB;IACA5T,KAAK,EAAQ,KATO;IAWpB;IACAL,OAAO,EAAM,KAZO;IAcpB;IACA68C,MAAM,EAAO,CAfO;IAiBpB;IACAn+C,WAAW,EAAE,IAlBO;IAoBpB;IACAU,SAAS,EAAI,OArBO;IAuBpB;IACA8lB,KAAK,EAAE,SAxBa;IA0BpB;IACA+K,MAAM,EAAE,SA3BY;IA6BpB;IACA6gC,YAAY,EAAG,YAAW,CAAE,CA9BR;IA+BpBl2C,QAAQ,EAAO,YAAW,CAAE,CA/BR;IAiCpB;IACA42C,YAAY,EAAE,KAlCM;IAoCpB;IACAhgD,QAAQ,EAAK,KArCO;IAuCpB;IACAnS,KAAK,EAAE;MACLgxD,IAAI,EAAK,oDADJ;MAELhsD,MAAM,EAAG;IAFJ,CAxCa;IA6CpB;IACAkC,SAAS,EAAK;MACZ4S,SAAS,EAAG,WADA;MAEZkT,MAAM,EAAM,QAFA;MAGZyY,OAAO,EAAK,SAHA;MAIZzrB,MAAM,EAAM;IAJA,CA9CM;IAqDpB;IACA3T,QAAQ,EAAM;MACZyqD,KAAK,EAAG,QADI;MAEZE,IAAI,EAAI;IAFI;EAtDM,CAAtB;AA8DC,CAr0BA,EAq0BGjrD,MAr0BH,EAq0BWtH,MAr0BX,EAq0BmBC,QAr0BnB;AAu0BD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA;;AAAC,CAAC,UAAUF,CAAV,EAAaC,MAAb,EAAqBC,QAArB,EAA+BC,SAA/B,EAA0C;EAE5C;;EAEAH,CAAC,CAACI,UAAF,GAAeJ,CAAC,CAACI,UAAF,IAAgB,UAASC,GAAT,EAAc;IAC3C,OAAO,OAAOA,GAAP,KAAe,UAAf,IAA6B,OAAOA,GAAG,CAACC,QAAX,KAAwB,QAA5D;EACD,CAFD;;EAIAL,MAAM,GAAI,OAAOA,MAAP,IAAiB,WAAjB,IAAgCA,MAAM,CAACuH,IAAP,IAAeA,IAAhD,GACLvH,MADK,GAEJ,OAAOwH,IAAP,IAAe,WAAf,IAA8BA,IAAI,CAACD,IAAL,IAAaA,IAA5C,GACEC,IADF,GAEE3C,QAAQ,CAAC,aAAD,CAAR,EAJN;;EAOA9E,CAAC,CAACQ,EAAF,CAAK+zD,OAAL,GAAe,UAAS9zD,UAAT,EAAqB;IAClC,IACEkH,WAAW,GAAO3H,CAAC,CAAC,IAAD,CADrB;IAAA,IAEEswC,OAAO,GAAWtwC,CAAC,CAACC,MAAD,CAFrB;IAAA,IAGEyB,SAAS,GAAS1B,CAAC,CAACE,QAAD,CAHrB;IAAA,IAIEs0D,KAAK,GAAax0D,CAAC,CAAC,MAAD,CAJrB;IAAA,IAKEy0D,KAAK,GAAaz0D,CAAC,CAAC,MAAD,CALrB;IAAA,IAOE4H,cAAc,GAAID,WAAW,CAACE,QAAZ,IAAwB,EAP5C;IAAA,IASEnH,IAAI,GAAc,IAAIC,IAAJ,GAAWC,OAAX,EATpB;IAAA,IAUEC,WAAW,GAAO,EAVpB;IAAA,IAYEC,KAAK,GAAaC,SAAS,CAAC,CAAD,CAZ7B;IAAA,IAaEC,aAAa,GAAM,OAAOF,KAAP,IAAgB,QAbrC;IAAA,IAcEG,cAAc,GAAI,GAAGC,KAAH,CAASC,IAAT,CAAcJ,SAAd,EAAyB,CAAzB,CAdpB;IAAA,IAgBEwB,qBAAqB,GAAGtC,MAAM,CAACsC,qBAAP,IACnBtC,MAAM,CAACgD,wBADY,IAEnBhD,MAAM,CAACiD,2BAFY,IAGnBjD,MAAM,CAACkD,uBAHY,IAInB,UAASC,QAAT,EAAmB;MAAEC,UAAU,CAACD,QAAD,EAAW,CAAX,CAAV;IAA0B,CApBtD;IAAA,IAsBEpB,aAtBF;;IAyBA2F,WAAW,CACRhE,IADH,CACQ,YAAW;MACf,IACEvC,QAAQ,GAAYpB,CAAC,CAACqB,aAAF,CAAgBZ,UAAhB,CAAF,GACdT,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAe,EAAf,EAAmBtB,CAAC,CAACQ,EAAF,CAAK+zD,OAAL,CAAanzD,QAAhC,EAA0CX,UAA1C,CADc,GAEdT,CAAC,CAACsB,MAAF,CAAS,EAAT,EAAatB,CAAC,CAACQ,EAAF,CAAK+zD,OAAL,CAAanzD,QAA1B,CAHN;MAAA,IAKEyG,QAAQ,GAAUzG,QAAQ,CAACyG,QAL7B;MAAA,IAMEa,SAAS,GAAStH,QAAQ,CAACsH,SAN7B;MAAA,IAOEnH,SAAS,GAASH,QAAQ,CAACG,SAP7B;MAAA,IAQEoH,MAAM,GAAYvH,QAAQ,CAACuH,MAR7B;MAAA,IASEnH,KAAK,GAAaJ,QAAQ,CAACI,KAT7B;MAAA,IAWEoH,cAAc,GAAI,MAAMrH,SAX1B;MAAA,IAYEE,eAAe,GAAG,YAAYF,SAZhC;MAAA,IAcEI,OAAO,GAAW3B,CAAC,CAAC,IAAD,CAdrB;MAAA,IAeEozB,QAAQ,GAAUpzB,CAAC,CAACoB,QAAQ,CAAC0E,OAAV,CAfrB;MAAA,IAiBE4uD,SAAS,GAAS/yD,OAAO,CAACwR,QAAR,CAAiBtL,QAAQ,CAAC0sD,OAA1B,CAjBpB;MAAA,IAkBEI,MAAM,GAAYvhC,QAAQ,CAACjgB,QAAT,CAAkBtL,QAAQ,CAACoyC,KAA3B,CAlBpB;MAAA,IAmBE2a,OAAO,GAAWxhC,QAAQ,CAACjgB,QAAT,CAAkBtL,QAAQ,CAACgtD,MAA3B,CAnBpB;MAAA,IAoBEC,MApBF;MAAA,IAsBElzD,OAAO,GAAW,IAtBpB;MAAA,IAuBEC,QAAQ,GAAUF,OAAO,CAACG,IAAR,CAAaL,eAAb,CAvBpB;MAAA,IAyBEizB,gBAzBF;MAAA,IA0BEC,EA1BF;MAAA,IA2BEwR,aA3BF;MAAA,IA4BE6Z,eA5BF;MAAA,IA8BEj+C,MA9BF;MAiCAA,MAAM,GAAQ;QAEZE,UAAU,EAAE,YAAW;UACrBF,MAAM,CAACS,KAAP,CAAa,sBAAb,EAAqC/B,UAArC;UAEAsB,MAAM,CAACsd,MAAP,CAAcsV,EAAd;UAEAqrB,eAAe,GAAGj+C,MAAM,CAACiH,GAAP,CAAWg3C,eAAX,EAAlB,CALqB,CAOrB;;UACA,IAAG5+C,QAAQ,CAAC2zD,UAAZ,EAAwB;YACtBxyD,qBAAqB,CAACR,MAAM,CAACqd,KAAP,CAAa6V,MAAd,CAArB;UACD,CAFD,MAGK;YACHlzB,MAAM,CAACqd,KAAP,CAAa6V,MAAb;UACD;;UAED1yB,qBAAqB,CAAC,YAAW;YAC/BR,MAAM,CAACqd,KAAP,CAAa5a,KAAb;UACD,CAFoB,CAArB;UAIAzC,MAAM,CAACG,WAAP;QACD,CAtBW;QAwBZA,WAAW,EAAE,YAAW;UACtBH,MAAM,CAACI,OAAP,CAAe,4BAAf,EAA6CJ,MAA7C;UACAF,QAAQ,GAAGE,MAAX;UACAJ,OAAO,CACJG,IADH,CACQL,eADR,EACyBM,MADzB;QAGD,CA9BW;QAgCZsd,MAAM,EAAE;UACNsV,EAAE,EAAE,YAAW;YACbA,EAAE,GAAG,CAACntB,IAAI,CAACguB,MAAL,GAAcxnB,QAAd,CAAuB,EAAvB,IAA6B,WAA9B,EAA2CynB,MAA3C,CAAkD,CAAlD,EAAoD,CAApD,CAAL;YACAf,gBAAgB,GAAG,MAAMC,EAAzB;YACA5yB,MAAM,CAACI,OAAP,CAAe,gCAAf,EAAiDwyB,EAAjD;UACD;QALK,CAhCI;QAwCZhwB,OAAO,EAAE,YAAW;UAClB5C,MAAM,CAACI,OAAP,CAAe,gCAAf,EAAiDR,OAAjD;UACAA,OAAO,CACJ8M,GADH,CACO7F,cADP,EAEGhE,UAFH,CAEcnD,eAFd;;UAIA,IAAGM,MAAM,CAAC4J,EAAP,CAAUqpD,GAAV,EAAH,EAAoB;YAClBjzD,MAAM,CAACsK,MAAP,CAAc2oD,GAAd;UACD,CARiB,CASlB;;;UACA5hC,QAAQ,CAAC3kB,GAAT,CAAaimB,gBAAb;UACA4b,OAAO,CAAC7hC,GAAR,CAAYimB,gBAAZ;UACAhzB,SAAS,CAAC+M,GAAV,CAAcimB,gBAAd;QACD,CArDW;QAuDZ1qB,KAAK,EAAE;UACL6pC,SAAS,EAAE,UAAS7pC,KAAT,EAAgB;YACzB,IAAG5I,QAAQ,CAACof,QAAZ,EAAqB;cACnB,IACEy0C,eAAe,GAAIL,OAAO,CAACprD,IAAR,CAAaQ,KAAK,CAACie,MAAnB,EAA2B5jB,MAA3B,GAAoC,CAApC,IAAyCuwD,OAAO,CAACjpD,EAAR,CAAW3B,KAAK,CAACie,MAAjB,CAD9D;cAAA,IAEEitC,cAAc,GAAK9hC,QAAQ,CAACznB,EAAT,CAAY3B,KAAK,CAACie,MAAlB,CAFrB;;cAIA,IAAGgtC,eAAH,EAAoB;gBAClBlzD,MAAM,CAACI,OAAP,CAAe,6BAAf;gBACAJ,MAAM,CAACosB,IAAP;cACD;;cACD,IAAG+mC,cAAH,EAAmB;gBACjBnzD,MAAM,CAACI,OAAP,CAAe,oDAAf;gBACAJ,MAAM,CAACosB,IAAP;cACD;YACF;UACF,CAhBI;UAiBLyL,KAAK,EAAE,UAAS5vB,KAAT,EAAgB,CACrB;UACD,CAnBI;UAoBLmrD,aAAa,EAAE,UAASnrD,KAAT,EAAgB;YAC7B,IAAGpI,OAAO,CAACwkC,SAAR,IAAqB,CAAxB,EAA4B;cAC1BxkC,OAAO,CAACwkC,SAAR,GAAoB,CAApB;YACD;;YACD,IAAIxkC,OAAO,CAACwkC,SAAR,GAAoBxkC,OAAO,CAACwzD,YAA7B,IAA8CxzD,OAAO,CAAC+zC,YAAzD,EAAuE;cACrE/zC,OAAO,CAACwkC,SAAR,GAAoBxkC,OAAO,CAAC+zC,YAAR,GAAuB/zC,OAAO,CAACwzD,YAA/B,GAA8C,CAAlE;YACD;UACF,CA3BI;UA4BL7Y,MAAM,EAAE,UAASvyC,KAAT,EAAgB;YACtB,IAAIhK,CAAC,CAACgK,KAAK,CAACie,MAAP,CAAD,CAAgB3c,OAAhB,CAAwBzD,QAAQ,CAAC0sD,OAAjC,EAA0ClwD,MAA1C,KAAqD,CAAzD,EAA6D;cAC3D2F,KAAK,CAACC,cAAN;YACD;UACF;QAhCI,CAvDK;QA0FZjF,IAAI,EAAE;UACJ6uC,SAAS,EAAE,YAAW;YACpB9xC,MAAM,CAACI,OAAP,CAAe,oCAAf,EAAqDixB,QAArD;YACAA,QAAQ,CACLrpB,EADH,CACM,UAAa2qB,gBADnB,EACqC3yB,MAAM,CAACiI,KAAP,CAAa6pC,SADlD,EAEG9pC,EAFH,CAEM,aAAa2qB,gBAFnB,EAEqC3yB,MAAM,CAACiI,KAAP,CAAa6pC,SAFlD;UAID,CAPG;UAQJf,UAAU,EAAE,YAAW;YACrB,IAAG1xC,QAAQ,CAAC0xC,UAAZ,EAAwB;cACtB/wC,MAAM,CAACS,KAAP,CAAa,uBAAb;cACA8tC,OAAO,CACJvmC,EADH,CACM,mBAAmB2qB,gBADzB,EAC2C3yB,MAAM,CAACiI,KAAP,CAAauyC,MADxD;YAGD;;YACDx6C,MAAM,CAACI,OAAP,CAAe,yCAAf;YACAT,SAAS,CACNqI,EADH,CACM,cAAc2qB,gBADpB,EACsC3yB,MAAM,CAACiI,KAAP,CAAa4vB,KADnD;YAGAj4B,OAAO,CACJoI,EADH,CACM,WAAWnB,cADjB,EACiC7G,MAAM,CAACiI,KAAP,CAAamrD,aAD9C;UAGD;QAtBG,CA1FM;QAkHZ71C,MAAM,EAAE;UACNu0B,SAAS,EAAE,YAAW;YACpB9xC,MAAM,CAACI,OAAP,CAAe,wCAAf,EAAyDixB,QAAzD;YACAA,QAAQ,CAAC3kB,GAAT,CAAaimB,gBAAb;UACD,CAJK;UAKNoe,UAAU,EAAE,YAAW;YACrB/wC,MAAM,CAACI,OAAP,CAAe,gCAAf;YACAT,SAAS,CAAC+M,GAAV,CAAcimB,gBAAd;YACA4b,OAAO,CAAC7hC,GAAR,CAAYimB,gBAAZ;YACA/yB,OAAO,CAAC8M,GAAR,CAAY,WAAW7F,cAAvB;UACD;QAVK,CAlHI;QA+HZgJ,GAAG,EAAE;UACHyjD,SAAS,EAAE,YAAW;YACpB,IACEhuC,KAAK,GAAOtlB,MAAM,CAACyC,KAAP,CAAa6iB,KAAb,IAAuB1lB,OAAO,CAACqqC,UAAR,EADrC;YAAA,IAEE5Z,MAAM,GAAMrwB,MAAM,CAACyC,KAAP,CAAa4tB,MAAb,IAAuBzwB,OAAO,CAACukC,WAAR,EAFrC;YAAA,IAGE4Q,KAAK,GAAO/0C,MAAM,CAAC4J,EAAP,CAAU2nC,GAAV,EAHd;YAAA,IAIEvN,SAAS,GAAGhkC,MAAM,CAACiH,GAAP,CAAW+8B,SAAX,EAJd;YAAA,IAKEgZ,QAAQ,GAAI;cACVr3B,IAAI,EAAKL,KADC;cAEV0H,KAAK,EAAI,CAAC1H,KAFA;cAGVsgB,GAAG,EAAMvV,MAHC;cAIV4nB,MAAM,EAAG,CAAC5nB;YAJA,CALd;YAAA,IAWEovB,KAXF;;YAcA,IAAG1K,KAAH,EAAS;cACP/0C,MAAM,CAACI,OAAP,CAAe,+BAAf;cACA48C,QAAQ,CAACr3B,IAAT,GAAgB,CAACL,KAAjB;cACA03B,QAAQ,CAAChwB,KAAT,GAAiB1H,KAAjB;YACD;;YAEDm6B,KAAK,GAAI,SAAT;;YAEA,IAAGzb,SAAS,KAAK,MAAd,IAAwBA,SAAS,KAAK,OAAzC,EAAkD;cAChDhkC,MAAM,CAACS,KAAP,CAAa,yCAAb,EAAwD6kB,KAAxD;cACAm6B,KAAK,IAAK,KACN,eADM,GACYzb,SADZ,GACwB,oBADxB,GAEN,eAFM,GAEYA,SAFZ,GAEwB,sBAFxB,GAGN,oCAHM,GAGgCgZ,QAAQ,CAAChZ,SAAD,CAHxC,GAGsD,YAHtD,GAIN,oCAJM,GAIgCgZ,QAAQ,CAAChZ,SAAD,CAJxC,GAIsD,YAJtD,GAKN,IALJ;YAOD,CATD,MAUK,IAAGA,SAAS,KAAK,KAAd,IAAuBA,SAAS,IAAI,QAAvC,EAAiD;cACpDyb,KAAK,IAAK,KACN,eADM,GACYzb,SADZ,GACwB,oBADxB,GAEN,eAFM,GAEYA,SAFZ,GAEwB,sBAFxB,GAGN,uCAHM,GAGoCgZ,QAAQ,CAAChZ,SAAD,CAH5C,GAG0D,SAH1D,GAIN,uCAJM,GAIoCgZ,QAAQ,CAAChZ,SAAD,CAJ5C,GAI0D,SAJ1D,GAKN,IALJ;YAOD;YAED;;YACA;;;YACA,IAAIhkC,MAAM,CAAC4J,EAAP,CAAUyqC,EAAV,EAAJ,EAAqB;cACnB,IAAGrQ,SAAS,KAAK,MAAd,IAAwBA,SAAS,KAAK,OAAzC,EAAkD;gBAChDhkC,MAAM,CAACS,KAAP,CAAa,yCAAb,EAAwD6kB,KAAxD;gBACAm6B,KAAK,IAAK,KACN,+BADM,GAC4Bzb,SAD5B,GACwC,4BADxC,GAEN,oCAFM,GAEgCgZ,QAAQ,CAAChZ,SAAD,CAFxC,GAEsD,YAFtD,GAGN,oCAHM,GAGgCgZ,QAAQ,CAAChZ,SAAD,CAHxC,GAGsD,YAHtD,GAIN,IAJJ;cAMD,CARD,MASK,IAAGA,SAAS,KAAK,KAAd,IAAuBA,SAAS,IAAI,QAAvC,EAAiD;gBACpDyb,KAAK,IAAK,KACN,+BADM,GAC4Bzb,SAD5B,GACwC,4BADxC,GAEN,uCAFM,GAEoCgZ,QAAQ,CAAChZ,SAAD,CAF5C,GAE0D,SAF1D,GAGN,uCAHM,GAGoCgZ,QAAQ,CAAChZ,SAAD,CAH5C,GAG0D,SAH1D,GAIN,IAJJ;cAMD;cACD;;;cACAyb,KAAK,IAAI,KACL,wFADK,GAEL,yFAFK,GAGL,6CAHK,GAIL,6CAJK,GAKL,IALJ;YAOD;;YACDA,KAAK,IAAI,UAAT;YACAsT,MAAM,GAAG90D,CAAC,CAACwhD,KAAD,CAAD,CACNhuC,QADM,CACGihD,KADH,CAAT;YAGA1yD,MAAM,CAACS,KAAP,CAAa,2BAAb,EAA0CsyD,MAA1C;UACD;QA9EE,CA/HO;QAgNZ7rD,OAAO,EAAE,YAAW;UAClBlH,MAAM,CAACI,OAAP,CAAe,2BAAf;UACAixB,QAAQ,GAAIpzB,CAAC,CAACoB,QAAQ,CAAC0E,OAAV,CAAb;UACA4uD,SAAS,GAAGthC,QAAQ,CAACjgB,QAAT,CAAkBtL,QAAQ,CAAC0sD,OAA3B,CAAZ;UACAK,OAAO,GAAKxhC,QAAQ,CAACjgB,QAAT,CAAkBtL,QAAQ,CAACgtD,MAA3B,CAAZ;UACAF,MAAM,GAAMvhC,QAAQ,CAACjgB,QAAT,CAAkBtL,QAAQ,CAACoyC,KAA3B,CAAZ;UACAl4C,MAAM,CAACiB,KAAP,CAAawB,KAAb;QACD,CAvNW;QAyNZ8wD,eAAe,EAAE,YAAW;UAC1BvzD,MAAM,CAACI,OAAP,CAAe,2BAAf;UACAuyD,SAAS,GAAGthC,QAAQ,CAACjgB,QAAT,CAAkBtL,QAAQ,CAAC0sD,OAA3B,CAAZ;QACD,CA5NW;QA8NZ1B,OAAO,EAAE,YAAW;UAClB9wD,MAAM,CAACI,OAAP,CAAe,uBAAf;UACAP,OAAO,CAAC4/C,KAAR,CAAch8C,OAAd,GAAwB,MAAxB;UACA,IAAI+vD,OAAO,GAAG3zD,OAAO,CAACwzD,YAAtB;UACAxzD,OAAO,CAACwkC,SAAR,GAAoBxkC,OAAO,CAACwkC,SAA5B;UACAxkC,OAAO,CAAC4/C,KAAR,CAAch8C,OAAd,GAAwB,EAAxB;QACD,CApOW;QAsOZ4Z,KAAK,EAAE;UACL5a,KAAK,EAAE,YAAW;YAChBzC,MAAM,CAACyC,KAAP,GAAe;cACb6iB,KAAK,EAAI1lB,OAAO,CAACqqC,UAAR,EADI;cAEb5Z,MAAM,EAAGzwB,OAAO,CAACukC,WAAR;YAFI,CAAf;UAID,CANI;UAOLjR,MAAM,EAAE,YAAW;YACjB,IAAI7B,QAAQ,CAACjgB,QAAT,CAAkBtL,QAAQ,CAACgtD,MAA3B,EAAmCxwD,MAAnC,KAA8C,CAAlD,EAAsD;cACpDtC,MAAM,CAACS,KAAP,CAAa,oCAAb;cACAT,MAAM,CAACP,KAAP,CAAaA,KAAK,CAACqzD,MAAnB;cACAD,OAAO,GAAG50D,CAAC,CAAC,wBAAD,CAAX;cACAozB,QAAQ,CACLjgB,QADH,GAEK2D,GAFL,CAESjP,QAAQ,CAAC2tD,OAFlB,EAGK1+C,GAHL,CAGS49C,SAHT,EAIKe,OAJL,CAIab,OAJb;cAMA7yD,MAAM,CAACkH,OAAP;YACD;;YACD,IAAGtH,OAAO,CAACi1B,OAAR,CAAgB/uB,QAAQ,CAACgtD,MAAzB,EAAiCxwD,MAAjC,KAA4C,CAA5C,IAAiD1C,OAAO,CAACi1B,OAAR,CAAgB/uB,QAAQ,CAACgtD,MAAzB,EAAiC,CAAjC,MAAwCD,OAAO,CAAC,CAAD,CAAnG,EAAwG;cACtG7yD,MAAM,CAACS,KAAP,CAAa,yCAAb;cACAT,MAAM,CAACP,KAAP,CAAaA,KAAK,CAACk0D,YAAnB,EAAiC9zD,OAAjC;cACAD,OAAO,CAACmvB,MAAR,GAAiB+G,SAAjB,CAA2BzE,QAA3B;cACArxB,MAAM,CAACkH,OAAP;YACD;;YACDlH,MAAM,CAACiB,KAAP,CAAawB,KAAb;YACAzC,MAAM,CAACoH,GAAP,CAAWwsD,QAAX;YACA5zD,MAAM,CAACoH,GAAP,CAAW48B,SAAX;UACD;QA7BI,CAtOK;QAsQZl8B,YAAY,EAAE,UAAShC,QAAT,EAAmBmC,KAAnB,EAA0B;UACtC,IACE0oC,OAAO,GAAG1yC,CAAC,CAAC6H,QAAD,CADb;UAGAmC,KAAK,GAAGhK,CAAC,CAACI,UAAF,CAAa2B,MAAM,CAACiI,KAAD,CAAnB,IACJjI,MAAM,CAACiI,KAAD,CADF,GAEJjI,MAAM,CAACkZ,MAFX;;UAIA,IAAGy3B,OAAO,CAACruC,MAAR,GAAiB,CAApB,EAAuB;YACrBtC,MAAM,CAACS,KAAP,CAAa,qCAAb,EAAoDqF,QAApD,EAA8DmC,KAA9D;YACA0oC,OAAO,CACJ3oC,EADH,CACM,UAAUnB,cADhB,EACgCoB,KADhC;UAGD,CALD,MAMK;YACHjI,MAAM,CAACP,KAAP,CAAaA,KAAK,CAACitB,QAAnB,EAA6B5mB,QAA7B;UACD;QACF,CAvRW;QAyRZumB,IAAI,EAAE,UAAShrB,QAAT,EAAmB;UACvBA,QAAQ,GAAGpD,CAAC,CAACI,UAAF,CAAagD,QAAb,IACPA,QADO,GAEP,YAAU,CAAE,CAFhB;;UAIA,IAAGrB,MAAM,CAAC4J,EAAP,CAAU6iB,MAAV,EAAH,EAAuB;YACrBzsB,MAAM,CAACuzD,eAAP;;YACA,IAAGl0D,QAAQ,CAACw0D,OAAZ,EAAsB;cACpB7zD,MAAM,CAACP,KAAP,CAAaA,KAAK,CAACo0D,OAAnB;cACAx0D,QAAQ,CAACsS,UAAT,GAAsB,SAAtB;YACD;;YACD3R,MAAM,CAACkH,OAAP;;YACA,IAAGlH,MAAM,CAAC8zD,YAAP,EAAH,EAA0B;cACxB9zD,MAAM,CAACS,KAAP,CAAa,kCAAb;;cACA,IAAGpB,QAAQ,CAAC4a,SAAZ,EAAuB;gBACrB;gBACA,IAAG5a,QAAQ,CAACsS,UAAT,IAAuB,SAA1B,EAAqC;kBACnC3R,MAAM,CAACm3B,UAAP,CAAkBn3B,MAAM,CAACqsB,IAAzB;kBACA;gBACD,CAHD,MAIK;kBACHrsB,MAAM,CAACm3B,UAAP;gBACD;cACF,CATD,MAUK;gBACH93B,QAAQ,CAACsS,UAAT,GAAsB,SAAtB;cACD;YACF;;YACD3R,MAAM,CAAC+zD,QAAP,CAAgB,YAAW;cACzB1yD,QAAQ,CAACjC,IAAT,CAAcS,OAAd;cACAR,QAAQ,CAAC4e,MAAT,CAAgB7e,IAAhB,CAAqBS,OAArB;YACD,CAHD;YAIAR,QAAQ,CAAC2b,QAAT,CAAkB5b,IAAlB,CAAuBS,OAAvB;YACAR,QAAQ,CAACye,SAAT,CAAmB1e,IAAnB,CAAwBS,OAAxB;UACD,CA7BD,MA8BK;YACHG,MAAM,CAACS,KAAP,CAAa,4BAAb;UACD;QACF,CA/TW;QAiUZ2rB,IAAI,EAAE,UAAS/qB,QAAT,EAAmB;UACvBA,QAAQ,GAAGpD,CAAC,CAACI,UAAF,CAAagD,QAAb,IACPA,QADO,GAEP,YAAU,CAAE,CAFhB;;UAIA,IAAGrB,MAAM,CAAC4J,EAAP,CAAU2pB,OAAV,MAAuBvzB,MAAM,CAAC4J,EAAP,CAAU2P,SAAV,EAA1B,EAAiD;YAC/CvZ,MAAM,CAACS,KAAP,CAAa,gBAAb,EAA+BY,QAA/B;YACArB,MAAM,CAACuzD,eAAP;YACAvzD,MAAM,CAACg0D,QAAP,CAAgB,YAAW;cACzB3yD,QAAQ,CAACjC,IAAT,CAAcS,OAAd;cACAR,QAAQ,CAAC2e,QAAT,CAAkB5e,IAAlB,CAAuBS,OAAvB;YACD,CAHD;YAIAR,QAAQ,CAAC2b,QAAT,CAAkB5b,IAAlB,CAAuBS,OAAvB;YACAR,QAAQ,CAACqf,MAAT,CAAgBtf,IAAhB,CAAqBS,OAArB;UACD;QACF,CAhVW;QAkVZo0D,eAAe,EAAE,YAAW;UAC1B,OAAQtB,SAAS,CAAC59C,GAAV,CAAcnV,OAAd,EAAuBoL,MAAvB,CAA8B,MAAMrE,SAAS,CAAC4S,SAA9C,EAAyDjX,MAAzD,GAAkE,CAA1E;QACD,CApVW;QAqVZ4xD,aAAa,EAAE,YAAW;UACxB,OAAQvB,SAAS,CAAC59C,GAAV,CAAcnV,OAAd,EAAuBoL,MAAvB,CAA8B,MAAMrE,SAAS,CAAC4sB,OAA9C,EAAuDjxB,MAAvD,GAAgE,CAAxE;QACD,CAvVW;QAwVZwxD,YAAY,EAAE,YAAW;UACvB,OAAO9zD,MAAM,CAACk0D,aAAP,MAA0Bl0D,MAAM,CAACi0D,eAAP,EAAjC;QACD,CA1VW;QA4VZ98B,UAAU,EAAE,UAAS91B,QAAT,EAAmB;UAC7B,IACE8yD,cAAc,GAAGxB,SAAS,CAAC59C,GAAV,CAAcnV,OAAd,EAAuBoL,MAAvB,CAA8B,MAAMrE,SAAS,CAAC4sB,OAA9C,CADnB;UAAA,IAEE6gC,YAAY,GAAKD,cAAc,CAAC7xD,MAFlC;UAAA,IAGE+xD,aAAa,GAAI,CAHnB;;UAKAhzD,QAAQ,GAAGA,QAAQ,IAAI,YAAU,CAAE,CAAnC;;UACA8yD,cAAc,CACX3B,OADH,CACW,MADX,EACmB,YAAW;YAC1B6B,aAAa;;YACb,IAAGA,aAAa,IAAID,YAApB,EAAkC;cAChC/yD,QAAQ;YACT;UACF,CANH;QAQD,CA3WW;QA6WZ6X,MAAM,EAAE,YAAW;UACjBlZ,MAAM,CAACI,OAAP,CAAe,+BAAf;;UACA,IAAGJ,MAAM,CAAC4J,EAAP,CAAU6iB,MAAV,EAAH,EAAuB;YACrBzsB,MAAM,CAACqsB,IAAP;UACD,CAFD,MAGK;YACHrsB,MAAM,CAACosB,IAAP;UACD;QACF,CArXW;QAuXZ2nC,QAAQ,EAAE,UAAS1yD,QAAT,EAAmB;UAC3B,IACEsQ,UAAU,GAAG3R,MAAM,CAACiH,GAAP,CAAW0K,UAAX,EADf;UAAA,IAEE2iD,WAAW,GAAI3iD,UAAU,KAAK,SAAf,IAA4B3R,MAAM,CAAC8zD,YAAP,EAA7B,GACVl0D,OADU,GAEVizD,OAJN;UAAA,IAKEn4C,OALF;UAAA,IAME65C,GANF;UAAA,IAOEjX,aAPF;UASAj8C,QAAQ,GAAGpD,CAAC,CAACI,UAAF,CAAagD,QAAb,IACPA,QADO,GAEP,YAAU,CAAE,CAFhB;;UAIA,IAAGhC,QAAQ,CAACsS,UAAT,IAAuB,YAA1B,EAAwC;YACtC3R,MAAM,CAACw0D,WAAP;UACD;;UACDx0D,MAAM,CAACoH,GAAP,CAAWuK,UAAX,CAAsBA,UAAtB;UACA3R,MAAM,CAAC8wD,OAAP;;UACAp2C,OAAO,GAAG,YAAW;YACnB1a,MAAM,CAACiD,IAAP,CAAY6uC,SAAZ;YACA9xC,MAAM,CAAC6P,GAAP,CAAWyjD,SAAX;YACAtzD,MAAM,CAACoH,GAAP,CAAWmS,SAAX;YACAvZ,MAAM,CAACoH,GAAP,CAAWmsB,OAAX;UACD,CALD;;UAMAghC,GAAG,GAAG,YAAW;YACfv0D,MAAM,CAACoH,GAAP,CAAW0oB,MAAX;UACD,CAFD;;UAGAwtB,aAAa,GAAG,UAASr1C,KAAT,EAAgB;YAC9B,IAAIA,KAAK,CAACie,MAAN,IAAgBouC,WAAW,CAAC,CAAD,CAA/B,EAAqC;cACnCA,WAAW,CAAC5nD,GAAZ,CAAgBuxC,eAAe,GAAGtrB,gBAAlC,EAAoD2qB,aAApD;cACAt9C,MAAM,CAACsK,MAAP,CAAciP,SAAd;cACAvZ,MAAM,CAACiD,IAAP,CAAY8tC,UAAZ;cACA1vC,QAAQ,CAACjC,IAAT,CAAcS,OAAd;YACD;UACF,CAPD;;UAQAy0D,WAAW,CAAC5nD,GAAZ,CAAgBuxC,eAAe,GAAGtrB,gBAAlC;UACA2hC,WAAW,CAACtsD,EAAZ,CAAei2C,eAAe,GAAGtrB,gBAAjC,EAAmD2qB,aAAnD;UACA98C,qBAAqB,CAACka,OAAD,CAArB;;UACA,IAAGrb,QAAQ,CAACo1D,OAAT,IAAoB,CAACz0D,MAAM,CAACk0D,aAAP,EAAxB,EAAgD;YAC9C1zD,qBAAqB,CAAC+zD,GAAD,CAArB;UACD;QACF,CAjaW;QAmaZP,QAAQ,EAAE,UAAS3yD,QAAT,EAAmB;UAC3B,IACEsQ,UAAU,GAAG3R,MAAM,CAACiH,GAAP,CAAW0K,UAAX,EADf;UAAA,IAEE2iD,WAAW,GAAI3iD,UAAU,IAAI,SAAd,IAA2B3R,MAAM,CAAC8zD,YAAP,EAA5B,GACVl0D,OADU,GAEVizD,OAJN;UAAA,IAKEn4C,OALF;UAAA,IAME4iC,aANF;UAQAj8C,QAAQ,GAAGpD,CAAC,CAACI,UAAF,CAAagD,QAAb,IACPA,QADO,GAEP,YAAU,CAAE,CAFhB;UAIArB,MAAM,CAACI,OAAP,CAAe,6BAAf,EAA8CJ,MAAM,CAACiH,GAAP,CAAW+8B,SAAX,EAA9C;UAEAhkC,MAAM,CAACud,MAAP,CAAcu0B,SAAd;UACA9xC,MAAM,CAACud,MAAP,CAAcwzB,UAAd;;UAEAr2B,OAAO,GAAG,YAAW;YACnB1a,MAAM,CAACoH,GAAP,CAAWuK,UAAX,CAAsBA,UAAtB;YACA3R,MAAM,CAACoH,GAAP,CAAWmS,SAAX;YACAvZ,MAAM,CAACsK,MAAP,CAAcipB,OAAd;;YACA,IAAGl0B,QAAQ,CAACo1D,OAAT,IAAoB,CAACz0D,MAAM,CAACk0D,aAAP,EAAxB,EAAgD;cAC9CrB,OAAO,CAACxoD,WAAR,CAAoB1D,SAAS,CAACmpB,MAA9B;YACD;UACF,CAPD;;UAQAwtB,aAAa,GAAG,UAASr1C,KAAT,EAAgB;YAC9B,IAAIA,KAAK,CAACie,MAAN,IAAgBouC,WAAW,CAAC,CAAD,CAA/B,EAAqC;cACnCA,WAAW,CAAC5nD,GAAZ,CAAgBuxC,eAAe,GAAGtrB,gBAAlC,EAAoD2qB,aAApD;cACAt9C,MAAM,CAACsK,MAAP,CAAciP,SAAd;cACAvZ,MAAM,CAACsK,MAAP,CAAcqH,UAAd;cACA3R,MAAM,CAACsK,MAAP,CAAcgpD,SAAd;;cACA,IAAG3hD,UAAU,IAAI,YAAd,IAA+BtS,QAAQ,CAACq1D,YAAT,IAAyB10D,MAAM,CAAC4J,EAAP,CAAU+qD,MAAV,EAA3D,EAAiF;gBAC/E30D,MAAM,CAAC40D,UAAP;cACD;;cACDvzD,QAAQ,CAACjC,IAAT,CAAcS,OAAd;YACD;UACF,CAXD;;UAYAy0D,WAAW,CAAC5nD,GAAZ,CAAgBuxC,eAAe,GAAGtrB,gBAAlC;UACA2hC,WAAW,CAACtsD,EAAZ,CAAei2C,eAAe,GAAGtrB,gBAAjC,EAAmD2qB,aAAnD;UACA98C,qBAAqB,CAACka,OAAD,CAArB;QACD,CA5cW;QA8cZ85C,WAAW,EAAE,YAAW;UACtBx0D,MAAM,CAACI,OAAP,CAAe,oDAAf;UACAgkC,aAAa,GAAGnmC,CAAC,CAACC,MAAD,CAAD,CAAUmmC,SAAV,EAAhB;UACAzkC,OAAO,CAACykC,SAAR,CAAkB,CAAlB;UACAnmC,MAAM,CAAC22D,QAAP,CAAgB,CAAhB,EAAmB,CAAnB;QACD,CAndW;QAqdZD,UAAU,EAAE,YAAW;UACrB50D,MAAM,CAACI,OAAP,CAAe,0CAAf;UACAlC,MAAM,CAAC22D,QAAP,CAAgB,CAAhB,EAAmBzwB,aAAnB;QACD,CAxdW;QA0dZnjC,KAAK,EAAE;UACLwB,KAAK,EAAE,YAAW;YAChBzC,MAAM,CAACI,OAAP,CAAe,4BAAf;YACAJ,MAAM,CAACyC,KAAP,GAAe,EAAf;UACD;QAJI,CA1dK;QAieZ2E,GAAG,EAAE;UAEH;UACA;UACA6rD,GAAG,EAAE,YAAW;YACdR,KAAK,CAACnhD,QAAN,CAAe3K,SAAS,CAACssD,GAAzB;UACD,CANE;UAQH;UACA6B,MAAM,EAAE,YAAW;YACjBzjC,QAAQ,CAAC/f,QAAT,CAAkB3K,SAAS,CAACmuD,MAA5B;UACD,CAXE;UAYHlB,QAAQ,EAAE,YAAW;YACnBviC,QAAQ,CAAC/f,QAAT,CAAkB3K,SAAS,CAACitD,QAA5B;UACD,CAdE;UAgBH;UACA9jC,MAAM,EAAE,YAAW;YACjB+iC,OAAO,CAACvhD,QAAR,CAAiB3K,SAAS,CAACmpB,MAA3B;UACD,CAnBE;UAqBH;UACArW,MAAM,EAAE,YAAW;YACjB7Z,OAAO,CAAC0R,QAAR,CAAiB3K,SAAS,CAAC8S,MAA3B;UACD,CAxBE;UAyBHF,SAAS,EAAE,YAAW;YACpB3Z,OAAO,CAAC0R,QAAR,CAAiB3K,SAAS,CAAC4S,SAA3B;UACD,CA3BE;UA4BH5H,UAAU,EAAE,UAASA,UAAT,EAAqB;YAC/BA,UAAU,GAAGA,UAAU,IAAI3R,MAAM,CAACiH,GAAP,CAAW0K,UAAX,EAA3B;YACA/R,OAAO,CAAC0R,QAAR,CAAiBK,UAAjB;UACD,CA/BE;UAgCHqyB,SAAS,EAAE,UAASA,SAAT,EAAoB;YAC7BA,SAAS,GAAGA,SAAS,IAAIhkC,MAAM,CAACiH,GAAP,CAAW+8B,SAAX,EAAzB;YACApkC,OAAO,CAAC0R,QAAR,CAAiB3K,SAAS,CAACq9B,SAAD,CAA1B;UACD,CAnCE;UAoCHzQ,OAAO,EAAE,YAAW;YAClB3zB,OAAO,CAAC0R,QAAR,CAAiB3K,SAAS,CAAC4sB,OAA3B;UACD,CAtCE;UAuCHsgC,OAAO,EAAE,YAAW;YAClBj0D,OAAO,CAAC0R,QAAR,CAAiB3K,SAAS,CAACktD,OAA3B;UACD;QAzCE,CAjeO;QA4gBZvpD,MAAM,EAAE;UAENgpD,SAAS,EAAE,YAAW;YACpBtzD,MAAM,CAACS,KAAP,CAAa,4BAAb,EAA2CsyD,MAA3C;;YACA,IAAGA,MAAM,IAAIA,MAAM,CAACzwD,MAAP,GAAgB,CAA7B,EAAgC;cAC9BywD,MAAM,CAACzoD,MAAP;YACD;UACF,CAPK;UASN;UACA2oD,GAAG,EAAE,YAAW;YACdR,KAAK,CAACpoD,WAAN,CAAkB1D,SAAS,CAACssD,GAA5B;UACD,CAZK;UAcN;UACA6B,MAAM,EAAE,YAAW;YACjBzjC,QAAQ,CAAChnB,WAAT,CAAqB1D,SAAS,CAACmuD,MAA/B;UACD,CAjBK;UAkBNlB,QAAQ,EAAE,YAAW;YACnBviC,QAAQ,CAAChnB,WAAT,CAAqB1D,SAAS,CAACitD,QAA/B;UACD,CApBK;UAsBN;UACAn6C,MAAM,EAAE,YAAW;YACjB7Z,OAAO,CAACyK,WAAR,CAAoB1D,SAAS,CAAC8S,MAA9B;UACD,CAzBK;UA0BNF,SAAS,EAAE,YAAW;YACpB3Z,OAAO,CAACyK,WAAR,CAAoB1D,SAAS,CAAC4S,SAA9B;UACD,CA5BK;UA6BN5H,UAAU,EAAE,UAASA,UAAT,EAAqB;YAC/BA,UAAU,GAAGA,UAAU,IAAI3R,MAAM,CAACiH,GAAP,CAAW0K,UAAX,EAA3B;YACA/R,OAAO,CAACyK,WAAR,CAAoBsH,UAApB;UACD,CAhCK;UAiCNqyB,SAAS,EAAE,UAASA,SAAT,EAAoB;YAC7BA,SAAS,GAAGA,SAAS,IAAIhkC,MAAM,CAACiH,GAAP,CAAW+8B,SAAX,EAAzB;YACApkC,OAAO,CAACyK,WAAR,CAAoB1D,SAAS,CAACq9B,SAAD,CAA7B;UACD,CApCK;UAqCNzQ,OAAO,EAAE,YAAW;YAClB3zB,OAAO,CAACyK,WAAR,CAAoB1D,SAAS,CAAC4sB,OAA9B;UACD,CAvCK;UAwCNsgC,OAAO,EAAE,YAAW;YAClBj0D,OAAO,CAACyK,WAAR,CAAoB1D,SAAS,CAACktD,OAA9B;UACD;QA1CK,CA5gBI;QAyjBZ5sD,GAAG,EAAE;UACH+8B,SAAS,EAAE,YAAW;YACpB,IAAGpkC,OAAO,CAACwK,QAAR,CAAiBzD,SAAS,CAACi/B,GAA3B,CAAH,EAAoC;cAClC,OAAOj/B,SAAS,CAACi/B,GAAjB;YACD,CAFD,MAGK,IAAGhmC,OAAO,CAACwK,QAAR,CAAiBzD,SAAS,CAACqmB,KAA3B,CAAH,EAAsC;cACzC,OAAOrmB,SAAS,CAACqmB,KAAjB;YACD,CAFI,MAGA,IAAGptB,OAAO,CAACwK,QAAR,CAAiBzD,SAAS,CAACsxC,MAA3B,CAAH,EAAuC;cAC1C,OAAOtxC,SAAS,CAACsxC,MAAjB;YACD;;YACD,OAAOtxC,SAAS,CAACgf,IAAjB;UACD,CAZE;UAaHhU,UAAU,EAAE,YAAW;YACrB,IACEqyB,SAAS,GAAGhkC,MAAM,CAACiH,GAAP,CAAW+8B,SAAX,EADd;YAAA,IAEEryB,UAFF;YAIAA,UAAU,GAAK3R,MAAM,CAAC4J,EAAP,CAAU+qD,MAAV,EAAF,GACRt1D,QAAQ,CAAC01D,gBAAT,IAA6B,MAA9B,GACE11D,QAAQ,CAAC21D,iBAAT,CAA2BL,MAA3B,CAAkC3wB,SAAlC,CADF,GAEE3kC,QAAQ,CAAC01D,gBAHF,GAIR11D,QAAQ,CAACsS,UAAT,IAAuB,MAAxB,GACEtS,QAAQ,CAAC21D,iBAAT,CAA2BC,QAA3B,CAAoCjxB,SAApC,CADF,GAEE3kC,QAAQ,CAACsS,UANf;YAQA3R,MAAM,CAACI,OAAP,CAAe,uBAAf,EAAwCuR,UAAxC;YACA,OAAOA,UAAP;UACD,CA5BE;UA6BHssC,eAAe,EAAE,YAAW;YAC1B,IACEp+C,OAAO,GAAO1B,QAAQ,CAAC6P,aAAT,CAAuB,SAAvB,CADhB;YAAA,IAEEwxC,WAAW,GAAG;cACZ,cAAoB,eADR;cAEZ,eAAoB,gBAFR;cAGZ,iBAAoB,eAHR;cAIZ,oBAAoB;YAJR,CAFhB;YAAA,IAQE7tC,UARF;;YAUA,KAAIA,UAAJ,IAAkB6tC,WAAlB,EAA8B;cAC5B,IAAI3/C,OAAO,CAAC4/C,KAAR,CAAc9tC,UAAd,MAA8BvT,SAAlC,EAA6C;gBAC3C,OAAOohD,WAAW,CAAC7tC,UAAD,CAAlB;cACD;YACF;UACF;QA7CE,CAzjBO;QAymBZ/H,EAAE,EAAE;UAEFyqC,EAAE,EAAE,YAAW;YACb,IACEO,MAAM,GAAI,CAAE12C,MAAM,CAAC22C,aAAT,IAA2B,mBAAmB32C,MAD1D;YAAA,IAEEy2C,IAAI,IAAM,mBAAmBz2C,MAAzB,CAFN;YAIA,OAAQ02C,MAAM,IAAID,IAAlB;UACD,CARC;UAUFse,GAAG,EAAE,YAAW;YACd,IACEiC,SAAS,GAAQC,SAAS,CAACD,SAD7B;YAAA,IAEEE,KAAK,GAAYF,SAAS,CAAC3vD,KAAV,CAAgBqB,MAAM,CAACqsD,GAAvB,CAFnB;YAAA,IAGEoC,cAAc,GAAGH,SAAS,CAAC3vD,KAAV,CAAgBqB,MAAM,CAAC0uD,YAAvB,CAHnB;;YAKA,IAAGF,KAAK,IAAI,CAACC,cAAb,EAA6B;cAC3Br1D,MAAM,CAACI,OAAP,CAAe,6BAAf,EAA8C80D,SAA9C;cACA,OAAO,IAAP;YACD,CAHD,MAIK;cACH,OAAO,KAAP;YACD;UACF,CAvBC;UAwBFP,MAAM,EAAE,YAAW;YACjB,IACEO,SAAS,GAAMC,SAAS,CAACD,SAD3B;YAAA,IAEEK,QAAQ,GAAOL,SAAS,CAAC3vD,KAAV,CAAgBqB,MAAM,CAAC+tD,MAAvB,CAFjB;;YAIA,IAAGY,QAAH,EAAa;cACXv1D,MAAM,CAACI,OAAP,CAAe,gCAAf,EAAiD80D,SAAjD;cACA,OAAO,IAAP;YACD,CAHD,MAIK;cACHl1D,MAAM,CAACI,OAAP,CAAe,iDAAf,EAAkE80D,SAAlE;cACA,OAAO,KAAP;YACD;UACF,CArCC;UAsCFzoC,MAAM,EAAE,YAAW;YACjB,OAAO,CAACzsB,MAAM,CAAC4J,EAAP,CAAU2pB,OAAV,EAAR;UACD,CAxCC;UAyCFA,OAAO,EAAE,YAAW;YAClB,OAAO3zB,OAAO,CAACwK,QAAR,CAAiBzD,SAAS,CAAC4sB,OAA3B,CAAP;UACD,CA3CC;UA4CF;UACAzZ,IAAI,EAAE,YAAW;YACf,OAAO9Z,MAAM,CAAC4J,EAAP,CAAU2pB,OAAV,EAAP;UACD,CA/CC;UAgDFiiC,MAAM,EAAE,YAAW;YACjB,OAAOx1D,MAAM,CAAC4J,EAAP,CAAU6iB,MAAV,EAAP;UACD,CAlDC;UAmDF+5B,QAAQ,EAAE,YAAW;YACnB,OAAO5mD,OAAO,CAACwK,QAAR,CAAiBzD,SAAS,CAACi/B,GAA3B,CAAP;UACD,CArDC;UAsDFrsB,SAAS,EAAE,YAAW;YACpB,OAAO8X,QAAQ,CAACjnB,QAAT,CAAkBzD,SAAS,CAAC4S,SAA5B,CAAP;UACD,CAxDC;UAyDFg4B,GAAG,EAAE,YAAY;YACf,IAAGvxC,MAAM,CAACyC,KAAP,CAAa8uC,GAAb,KAAqBnzC,SAAxB,EAAmC;cACjC4B,MAAM,CAACyC,KAAP,CAAa8uC,GAAb,GAAmB3xC,OAAO,CAACiT,IAAR,CAAa,KAAb,MAAwB,KAAxB,IAAiCjT,OAAO,CAACmc,GAAR,CAAY,WAAZ,MAA6B,KAAjF;YACD;;YACD,OAAO/b,MAAM,CAACyC,KAAP,CAAa8uC,GAApB;UACD;QA9DC,CAzmBQ;QA0qBZrvC,OAAO,EAAE,UAASV,IAAT,EAAeW,KAAf,EAAsB;UAC7BnC,MAAM,CAACS,KAAP,CAAa,kBAAb,EAAiCe,IAAjC,EAAuCW,KAAvC;;UACA,IAAIlE,CAAC,CAACqB,aAAF,CAAgBkC,IAAhB,CAAJ,EAA4B;YAC1BvD,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAeF,QAAf,EAAyBmC,IAAzB;UACD,CAFD,MAGK,IAAGW,KAAK,KAAK/D,SAAb,EAAwB;YAC3B,IAAGH,CAAC,CAACqB,aAAF,CAAgBD,QAAQ,CAACmC,IAAD,CAAxB,CAAH,EAAoC;cAClCvD,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAeF,QAAQ,CAACmC,IAAD,CAAvB,EAA+BW,KAA/B;YACD,CAFD,MAGK;cACH9C,QAAQ,CAACmC,IAAD,CAAR,GAAiBW,KAAjB;YACD;UACF,CAPI,MAQA;YACH,OAAO9C,QAAQ,CAACmC,IAAD,CAAf;UACD;QACF,CA1rBW;QA2rBZsB,QAAQ,EAAE,UAAStB,IAAT,EAAeW,KAAf,EAAsB;UAC9B,IAAIlE,CAAC,CAACqB,aAAF,CAAgBkC,IAAhB,CAAJ,EAA4B;YAC1BvD,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAeS,MAAf,EAAuBwB,IAAvB;UACD,CAFD,MAGK,IAAGW,KAAK,KAAK/D,SAAb,EAAwB;YAC3B4B,MAAM,CAACwB,IAAD,CAAN,GAAeW,KAAf;UACD,CAFI,MAGA;YACH,OAAOnC,MAAM,CAACwB,IAAD,CAAb;UACD;QACF,CArsBW;QAssBZf,KAAK,EAAE,YAAW;UAChB,IAAG,CAACpB,QAAQ,CAACgV,MAAV,IAAoBhV,QAAQ,CAACoB,KAAhC,EAAuC;YACrC,IAAGpB,QAAQ,CAACP,WAAZ,EAAyB;cACvBkB,MAAM,CAAClB,WAAP,CAAmB4B,GAAnB,CAAuB1B,SAAvB;YACD,CAFD,MAGK;cACHgB,MAAM,CAACS,KAAP,GAAesC,QAAQ,CAACC,SAAT,CAAmBC,IAAnB,CAAwB7D,IAAxB,CAA6BmB,OAAO,CAACmC,IAArC,EAA2CnC,OAA3C,EAAoDlB,QAAQ,CAACmC,IAAT,GAAgB,GAApE,CAAf;cACAxB,MAAM,CAACS,KAAP,CAAayC,KAAb,CAAmB3C,OAAnB,EAA4BvB,SAA5B;YACD;UACF;QACF,CAhtBW;QAitBZoB,OAAO,EAAE,YAAW;UAClB,IAAG,CAACf,QAAQ,CAACgV,MAAV,IAAoBhV,QAAQ,CAACe,OAA7B,IAAwCf,QAAQ,CAACoB,KAApD,EAA2D;YACzD,IAAGpB,QAAQ,CAACP,WAAZ,EAAyB;cACvBkB,MAAM,CAAClB,WAAP,CAAmB4B,GAAnB,CAAuB1B,SAAvB;YACD,CAFD,MAGK;cACHgB,MAAM,CAACI,OAAP,GAAiB2C,QAAQ,CAACC,SAAT,CAAmBC,IAAnB,CAAwB7D,IAAxB,CAA6BmB,OAAO,CAACmC,IAArC,EAA2CnC,OAA3C,EAAoDlB,QAAQ,CAACmC,IAAT,GAAgB,GAApE,CAAjB;cACAxB,MAAM,CAACI,OAAP,CAAe8C,KAAf,CAAqB3C,OAArB,EAA8BvB,SAA9B;YACD;UACF;QACF,CA3tBW;QA4tBZS,KAAK,EAAE,YAAW;UAChB,IAAG,CAACJ,QAAQ,CAACgV,MAAb,EAAqB;YACnBrU,MAAM,CAACP,KAAP,GAAesD,QAAQ,CAACC,SAAT,CAAmBC,IAAnB,CAAwB7D,IAAxB,CAA6BmB,OAAO,CAACd,KAArC,EAA4Cc,OAA5C,EAAqDlB,QAAQ,CAACmC,IAAT,GAAgB,GAArE,CAAf;YACAxB,MAAM,CAACP,KAAP,CAAayD,KAAb,CAAmB3C,OAAnB,EAA4BvB,SAA5B;UACD;QACF,CAjuBW;QAkuBZF,WAAW,EAAE;UACX4B,GAAG,EAAE,UAASyC,OAAT,EAAkB;YACrB,IACEC,WADF,EAEEC,aAFF,EAGEC,YAHF;;YAKA,IAAGjE,QAAQ,CAACP,WAAZ,EAAyB;cACvBsE,WAAW,GAAK,IAAIxE,IAAJ,GAAWC,OAAX,EAAhB;cACAyE,YAAY,GAAI3E,IAAI,IAAIyE,WAAxB;cACAC,aAAa,GAAGD,WAAW,GAAGE,YAA9B;cACA3E,IAAI,GAAYyE,WAAhB;cACAtE,WAAW,CAACgD,IAAZ,CAAiB;gBACf,QAAmBqB,OAAO,CAAC,CAAD,CADX;gBAEf,aAAmB,GAAGhE,KAAH,CAASC,IAAT,CAAc+D,OAAd,EAAuB,CAAvB,KAA6B,EAFjC;gBAGf,WAAmBtD,OAHJ;gBAIf,kBAAmBwD;cAJJ,CAAjB;YAMD;;YACDE,YAAY,CAACvD,MAAM,CAAClB,WAAP,CAAmB0E,KAApB,CAAZ;YACAxD,MAAM,CAAClB,WAAP,CAAmB0E,KAAnB,GAA2BlC,UAAU,CAACtB,MAAM,CAAClB,WAAP,CAAmB2E,OAApB,EAA6B,GAA7B,CAArC;UACD,CArBU;UAsBXA,OAAO,EAAE,YAAW;YAClB,IACEC,KAAK,GAAGrE,QAAQ,CAACmC,IAAT,GAAgB,GAD1B;YAAA,IAEEmC,SAAS,GAAG,CAFd;YAIAhF,IAAI,GAAG,KAAP;YACA4E,YAAY,CAACvD,MAAM,CAAClB,WAAP,CAAmB0E,KAApB,CAAZ;YACAvF,CAAC,CAAC2D,IAAF,CAAO9C,WAAP,EAAoB,UAAS+C,KAAT,EAAgB9B,IAAhB,EAAsB;cACxC4D,SAAS,IAAI5D,IAAI,CAAC,gBAAD,CAAjB;YACD,CAFD;YAGA2D,KAAK,IAAI,MAAMC,SAAN,GAAkB,IAA3B;;YACA,IAAGkC,cAAH,EAAmB;cACjBnC,KAAK,IAAI,QAAQmC,cAAR,GAAyB,IAAlC;YACD;;YACD,IAAI,CAACtF,OAAO,CAACK,KAAR,KAAkBxC,SAAlB,IAA+BmC,OAAO,CAACqD,KAAR,KAAkBxF,SAAlD,KAAgEU,WAAW,CAACwD,MAAZ,GAAqB,CAAzF,EAA4F;cAC1F/B,OAAO,CAACO,cAAR,CAAuB4C,KAAvB;;cACA,IAAGnD,OAAO,CAACqD,KAAX,EAAkB;gBAChBrD,OAAO,CAACqD,KAAR,CAAc9E,WAAd;cACD,CAFD,MAGK;gBACHb,CAAC,CAAC2D,IAAF,CAAO9C,WAAP,EAAoB,UAAS+C,KAAT,EAAgB9B,IAAhB,EAAsB;kBACxCQ,OAAO,CAACG,GAAR,CAAYX,IAAI,CAAC,MAAD,CAAJ,GAAe,IAAf,GAAsBA,IAAI,CAAC,gBAAD,CAA1B,GAA6C,IAAzD;gBACD,CAFD;cAGD;;cACDQ,OAAO,CAACM,QAAR;YACD;;YACD/B,WAAW,GAAG,EAAd;UACD;QAjDU,CAluBD;QAqxBZ+E,MAAM,EAAE,UAAS9E,KAAT,EAAgB+E,eAAhB,EAAiCC,OAAjC,EAA0C;UAChD,IACEC,MAAM,GAAGlE,QADX;UAAA,IAEEmE,QAFF;UAAA,IAGEC,KAHF;UAAA,IAIEC,QAJF;UAMAL,eAAe,GAAGA,eAAe,IAAI5E,cAArC;UACA6E,OAAO,GAAWlE,OAAO,IAAYkE,OAArC;;UACA,IAAG,OAAOhF,KAAP,IAAgB,QAAhB,IAA4BiF,MAAM,KAAK5F,SAA1C,EAAqD;YACnDW,KAAK,GAAMA,KAAK,CAACqF,KAAN,CAAY,OAAZ,CAAX;YACAH,QAAQ,GAAGlF,KAAK,CAACuD,MAAN,GAAe,CAA1B;YACArE,CAAC,CAAC2D,IAAF,CAAO7C,KAAP,EAAc,UAASsF,KAAT,EAAgBlC,KAAhB,EAAuB;cACnC,IAAImC,cAAc,GAAID,KAAK,IAAIJ,QAAV,GACjB9B,KAAK,GAAGpD,KAAK,CAACsF,KAAK,GAAG,CAAT,CAAL,CAAiBE,MAAjB,CAAwB,CAAxB,EAA2BC,WAA3B,EAAR,GAAmDzF,KAAK,CAACsF,KAAK,GAAG,CAAT,CAAL,CAAiBlF,KAAjB,CAAuB,CAAvB,CADlC,GAEjBJ,KAFJ;;cAIA,IAAId,CAAC,CAACqB,aAAF,CAAiB0E,MAAM,CAACM,cAAD,CAAvB,KAA8CD,KAAK,IAAIJ,QAA3D,EAAuE;gBACrED,MAAM,GAAGA,MAAM,CAACM,cAAD,CAAf;cACD,CAFD,MAGK,IAAIN,MAAM,CAACM,cAAD,CAAN,KAA2BlG,SAA/B,EAA2C;gBAC9C8F,KAAK,GAAGF,MAAM,CAACM,cAAD,CAAd;gBACA,OAAO,KAAP;cACD,CAHI,MAIA,IAAIrG,CAAC,CAACqB,aAAF,CAAiB0E,MAAM,CAAC7B,KAAD,CAAvB,KAAqCkC,KAAK,IAAIJ,QAAlD,EAA8D;gBACjED,MAAM,GAAGA,MAAM,CAAC7B,KAAD,CAAf;cACD,CAFI,MAGA,IAAI6B,MAAM,CAAC7B,KAAD,CAAN,KAAkB/D,SAAtB,EAAkC;gBACrC8F,KAAK,GAAGF,MAAM,CAAC7B,KAAD,CAAd;gBACA,OAAO,KAAP;cACD,CAHI,MAIA;gBACHnC,MAAM,CAACP,KAAP,CAAaA,KAAK,CAACgF,MAAnB,EAA2B1F,KAA3B;gBACA,OAAO,KAAP;cACD;YACF,CAvBD;UAwBD;;UACD,IAAKd,CAAC,CAACI,UAAF,CAAc6F,KAAd,CAAL,EAA6B;YAC3BC,QAAQ,GAAGD,KAAK,CAAChB,KAAN,CAAYa,OAAZ,EAAqBD,eAArB,CAAX;UACD,CAFD,MAGK,IAAGI,KAAK,KAAK9F,SAAb,EAAwB;YAC3B+F,QAAQ,GAAGD,KAAX;UACD;;UACD,IAAGQ,KAAK,CAACC,OAAN,CAAc1E,aAAd,CAAH,EAAiC;YAC/BA,aAAa,CAAC6B,IAAd,CAAmBqC,QAAnB;UACD,CAFD,MAGK,IAAGlE,aAAa,KAAK7B,SAArB,EAAgC;YACnC6B,aAAa,GAAG,CAACA,aAAD,EAAgBkE,QAAhB,CAAhB;UACD,CAFI,MAGA,IAAGA,QAAQ,KAAK/F,SAAhB,EAA2B;YAC9B6B,aAAa,GAAGkE,QAAhB;UACD;;UACD,OAAOD,KAAP;QACD;MA10BW,CAAd;;MA80BF,IAAGjF,aAAH,EAAkB;QAChB,IAAGa,QAAQ,KAAK1B,SAAhB,EAA2B;UACzB4B,MAAM,CAACE,UAAP;QACD;;QACDF,MAAM,CAAC6D,MAAP,CAAc9E,KAAd;MACD,CALD,MAMK;QACH,IAAGe,QAAQ,KAAK1B,SAAhB,EAA2B;UACzB4B,MAAM,CAAC6D,MAAP,CAAc,SAAd;QACD;;QACD7D,MAAM,CAACE,UAAP;MACD;IACF,CA73BD;IA+3BA,OAAQD,aAAa,KAAK7B,SAAnB,GACH6B,aADG,GAEH,IAFJ;EAID,CA75BD;;EA+5BAhC,CAAC,CAACQ,EAAF,CAAK+zD,OAAL,CAAanzD,QAAb,GAAwB;IAEtBmC,IAAI,EAAgB,SAFE;IAGtBhC,SAAS,EAAW,SAHE;IAKtB6U,MAAM,EAAc,KALE;IAMtB5T,KAAK,EAAe,KANE;IAOtBL,OAAO,EAAa,KAPE;IAQtBtB,WAAW,EAAS,IARE;IAUtB6S,UAAU,EAAU,MAVE;IAWtBojD,gBAAgB,EAAI,MAXE;IAatBC,iBAAiB,EAAG;MAClBC,QAAQ,EAAE;QACRtvC,IAAI,EAAK,SADD;QAERqH,KAAK,EAAI,SAFD;QAGR4Y,GAAG,EAAM,SAHD;QAIRqS,MAAM,EAAG;MAJD,CADQ;MAOlB0c,MAAM,EAAE;QACNhvC,IAAI,EAAK,SADH;QAENqH,KAAK,EAAI,SAFH;QAGN4Y,GAAG,EAAM,SAHH;QAINqS,MAAM,EAAG;MAJH;IAPU,CAbE;IA4BtBl0C,OAAO,EAAa,MA5BE;IA6BtBkW,SAAS,EAAW,KA7BE;IA8BtBwE,QAAQ,EAAY,IA9BE;IA+BtBg2C,OAAO,EAAa,IA/BE;IAgCtB1jB,UAAU,EAAU,KAhCE;IAiCtB2jB,YAAY,EAAQ,KAjCE;IAkCtB1B,UAAU,EAAU,KAlCE;IAoCtBphD,QAAQ,EAAY,GApCE;IAsCtBoJ,QAAQ,EAAY,YAAU,CAAE,CAtCV;IAuCtBiD,MAAM,EAAc,YAAU,CAAE,CAvCV;IAwCtBS,MAAM,EAAc,YAAU,CAAE,CAxCV;IA0CtBV,QAAQ,EAAY,YAAU,CAAE,CA1CV;IA2CtBF,SAAS,EAAW,YAAU,CAAE,CA3CV;IA6CtBnX,SAAS,EAAW;MAClB8S,MAAM,EAAM,QADM;MAElBF,SAAS,EAAG,WAFM;MAGlBuW,MAAM,EAAM,QAHM;MAIlBmjC,GAAG,EAAS,KAJM;MAKlBW,QAAQ,EAAI,UALM;MAMlBkB,MAAM,EAAM,QANM;MAOlB9nC,KAAK,EAAO,OAPM;MAQlB4Y,GAAG,EAAS,KARM;MASlBjgB,IAAI,EAAQ,MATM;MAUlBsyB,MAAM,EAAM,QAVM;MAWlB1kB,OAAO,EAAK;IAXM,CA7CE;IA2DtBztB,QAAQ,EAAE;MACRoyC,KAAK,EAAK,QADF;MAERub,OAAO,EAAG,gEAFF;MAGRX,MAAM,EAAI,SAHF;MAIRN,OAAO,EAAG;IAJF,CA3DY;IAkEtB5rD,MAAM,EAAE;MACNqsD,GAAG,EAAY,qBADT;MAENqC,YAAY,EAAG,UAFT;MAGNX,MAAM,EAAS;IAHT,CAlEc;IAwEtBl1D,KAAK,EAAK;MACRgF,MAAM,EAAS,uCADP;MAERquD,MAAM,EAAS,sGAFP;MAGRa,YAAY,EAAG,gHAHP;MAIRE,OAAO,EAAQ,oEAJP;MAKRnnC,QAAQ,EAAO;IALP;EAxEY,CAAxB;AAmFC,CAjgCA,EAigCGlnB,MAjgCH,EAigCWtH,MAjgCX,EAigCmBC,QAjgCnB;AAmgCD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA;;AAAC,CAAC,UAAUF,CAAV,EAAaC,MAAb,EAAqBC,QAArB,EAA+BC,SAA/B,EAA0C;EAE5C;;EAEAH,CAAC,CAACI,UAAF,GAAeJ,CAAC,CAACI,UAAF,IAAgB,UAASC,GAAT,EAAc;IAC3C,OAAO,OAAOA,GAAP,KAAe,UAAf,IAA6B,OAAOA,GAAG,CAACC,QAAX,KAAwB,QAA5D;EACD,CAFD;;EAIAL,MAAM,GAAI,OAAOA,MAAP,IAAiB,WAAjB,IAAgCA,MAAM,CAACuH,IAAP,IAAeA,IAAhD,GACLvH,MADK,GAEJ,OAAOwH,IAAP,IAAe,WAAf,IAA8BA,IAAI,CAACD,IAAL,IAAaA,IAA5C,GACEC,IADF,GAEE3C,QAAQ,CAAC,aAAD,CAAR,EAJN;;EAOA9E,CAAC,CAACQ,EAAF,CAAKg3D,MAAL,GAAc,UAAS/2D,UAAT,EAAqB;IACjC,IACEkH,WAAW,GAAM3H,CAAC,CAAC,IAAD,CADpB;IAAA,IAEE4H,cAAc,GAAGD,WAAW,CAACE,QAAZ,IAAwB,EAF3C;IAAA,IAIEnH,IAAI,GAAa,IAAIC,IAAJ,GAAWC,OAAX,EAJnB;IAAA,IAKEC,WAAW,GAAM,EALnB;IAAA,IAOEC,KAAK,GAAYC,SAAS,CAAC,CAAD,CAP5B;IAAA,IAQEC,aAAa,GAAK,OAAOF,KAAP,IAAgB,QARpC;IAAA,IASEG,cAAc,GAAG,GAAGC,KAAH,CAASC,IAAT,CAAcJ,SAAd,EAAyB,CAAzB,CATnB;IAAA,IAUEiB,aAVF;IAaA2F,WAAW,CACRhE,IADH,CACQ,YAAW;MACf,IACEvC,QAAQ,GAAkBpB,CAAC,CAACqB,aAAF,CAAgBZ,UAAhB,CAAF,GACpBT,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAe,EAAf,EAAmBtB,CAAC,CAACQ,EAAF,CAAKg3D,MAAL,CAAYp2D,QAA/B,EAAyCX,UAAzC,CADoB,GAEpBT,CAAC,CAACsB,MAAF,CAAS,EAAT,EAAatB,CAAC,CAACQ,EAAF,CAAKg3D,MAAL,CAAYp2D,QAAzB,CAHN;MAAA,IAKEsH,SAAS,GAAetH,QAAQ,CAACsH,SALnC;MAAA,IAMEnH,SAAS,GAAeH,QAAQ,CAACG,SANnC;MAAA,IAOEC,KAAK,GAAmBJ,QAAQ,CAACI,KAPnC;MAAA,IASEoH,cAAc,GAAU,MAAMrH,SAThC;MAAA,IAUEE,eAAe,GAAS,YAAYF,SAVtC;MAAA,IAYEI,OAAO,GAAiB3B,CAAC,CAAC,IAAD,CAZ3B;MAAA,IAaEswC,OAAO,GAAiBtwC,CAAC,CAACC,MAAD,CAb3B;MAAA,IAcEw3D,OAAO,GAAiBz3D,CAAC,CAACoB,QAAQ,CAAC+4C,aAAV,CAd3B;MAAA,IAeE17B,UAfF;MAAA,IAgBE2U,QAhBF;MAAA,IAkBEvxB,QAAQ,GAAgBF,OAAO,CAACG,IAAR,CAAaL,eAAb,CAlB1B;MAAA,IAoBEc,qBAAqB,GAAGtC,MAAM,CAACsC,qBAAP,IACnBtC,MAAM,CAACgD,wBADY,IAEnBhD,MAAM,CAACiD,2BAFY,IAGnBjD,MAAM,CAACkD,uBAHY,IAInB,UAASC,QAAT,EAAmB;QAAEC,UAAU,CAACD,QAAD,EAAW,CAAX,CAAV;MAA0B,CAxBtD;MAAA,IA0BExB,OAAO,GAAW,IA1BpB;MAAA,IA4BE+4C,gBA5BF;MAAA,IA6BEngC,QA7BF;MAAA,IA8BEzY,MA9BF;;MAiCAA,MAAM,GAAQ;QAEZE,UAAU,EAAE,YAAW;UAErBF,MAAM,CAAC21D,kBAAP;UACA31D,MAAM,CAAC41D,gBAAP;UACA51D,MAAM,CAACI,OAAP,CAAe,qBAAf,EAAsCf,QAAtC,EAAgDqd,UAAhD;UAEA1c,MAAM,CAACozB,IAAP,CAAYmoB,SAAZ;UACAv7C,MAAM,CAAC61D,WAAP;UACA71D,MAAM,CAACiD,IAAP,CAAYyV,MAAZ;;UAEA,IAAGrZ,QAAQ,CAACsZ,cAAZ,EAA4B;YAC1B3Y,MAAM,CAAC2Y,cAAP;UACD;;UACD3Y,MAAM,CAACG,WAAP;QACD,CAhBW;QAkBZA,WAAW,EAAE,YAAW;UACtBH,MAAM,CAACI,OAAP,CAAe,4BAAf,EAA6CJ,MAA7C;UACAF,QAAQ,GAAGE,MAAX;UACAJ,OAAO,CACJG,IADH,CACQL,eADR,EACyBM,MADzB;QAGD,CAxBW;QA0BZ4C,OAAO,EAAE,YAAW;UAClB5C,MAAM,CAACI,OAAP,CAAe,8BAAf;UACAJ,MAAM,CAAC6H,KAAP;;UACA,IAAG+wC,gBAAH,EAAqB;YACnBA,gBAAgB,CAACp7B,UAAjB;UACD;;UACD,IAAG/E,QAAH,EAAa;YACXA,QAAQ,CAAC+E,UAAT;UACD;;UACD+wB,OAAO,CACJ7hC,GADH,CACO,SAAS7F,cADhB,EACgC7G,MAAM,CAACiI,KAAP,CAAa6tD,IAD7C,EAEGppD,GAFH,CAEO,WAAW7F,cAFlB,EAEkC7G,MAAM,CAACiI,KAAP,CAAa6oC,MAF/C;UAIA4kB,OAAO,CACJhpD,GADH,CACO,iBAAiB7F,cADxB,EACwC7G,MAAM,CAACiI,KAAP,CAAa8tD,YADrD;UAGAn2D,OAAO,CAACiD,UAAR,CAAmBnD,eAAnB;QACD,CA3CW;QA6CZiZ,cAAc,EAAE,YAAW;UACzB,IAAG,sBAAsBza,MAAzB,EAAiC;YAC/B06C,gBAAgB,GAAG,IAAIhgC,gBAAJ,CAAqB5Y,MAAM,CAACiI,KAAP,CAAa+wC,eAAlC,CAAnB;YACAvgC,QAAQ,GAAW,IAAIG,gBAAJ,CAAqB5Y,MAAM,CAACiI,KAAP,CAAa4gB,OAAlC,CAAnB;YACA+vB,gBAAgB,CAAC9/B,OAAjB,CAAyB3a,QAAzB,EAAmC;cACjC4a,SAAS,EAAG,IADqB;cAEjCC,OAAO,EAAK;YAFqB,CAAnC;YAIAP,QAAQ,CAACK,OAAT,CAAiBjZ,OAAjB,EAA0B;cACxBkZ,SAAS,EAAG,IADY;cAExBC,OAAO,EAAK;YAFY,CAA1B;YAIAP,QAAQ,CAACK,OAAT,CAAiBuY,QAAQ,CAAC,CAAD,CAAzB,EAA8B;cAC5BtY,SAAS,EAAG,IADgB;cAE5BC,OAAO,EAAK;YAFgB,CAA9B;YAIAhZ,MAAM,CAACS,KAAP,CAAa,8BAAb,EAA6CgY,QAA7C;UACD;QACF,CA/DW;QAiEZk9C,kBAAkB,EAAE,YAAW;UAC7B,IAAGt2D,QAAQ,CAACwhB,SAAZ,EAAuB;YACrBnE,UAAU,GAAGze,CAAC,CAACoB,QAAQ,CAACwhB,SAAV,CAAd;UACD,CAFD,MAGK;YACHnE,UAAU,GAAG9c,OAAO,CAACq5C,YAAR,EAAb;UACD;QACF,CAxEW;QA0EZ2c,gBAAgB,EAAE,YAAW;UAC3B,IAAGv2D,QAAQ,CAAC0E,OAAZ,EAAqB;YACnBstB,QAAQ,GAAGpzB,CAAC,CAACoB,QAAQ,CAAC0E,OAAV,CAAZ;UACD,CAFD,MAGK;YACHstB,QAAQ,GAAG3U,UAAX;UACD;;UACD,IAAG2U,QAAQ,CAAC/uB,MAAT,KAAoB,CAAvB,EAA0B;YACxBtC,MAAM,CAACP,KAAP,CAAaA,KAAK,CAACu2D,cAAnB,EAAmC32D,QAAQ,CAAC0E,OAA5C,EAAqDnE,OAArD;YACA;UACD;QACF,CArFW;QAuFZi2D,WAAW,EAAE,YAAW;UACtB,IAAI71D,MAAM,CAAC4J,EAAP,CAAU6iB,MAAV,EAAJ,EAAyB;YACvBzsB,MAAM,CAACP,KAAP,CAAaA,KAAK,CAAC8zB,OAAnB,EAA4B3zB,OAA5B;UACD;;UACD,IAAGI,MAAM,CAACyC,KAAP,CAAa5C,OAAb,CAAqBwwB,MAArB,GAA8BrwB,MAAM,CAACyC,KAAP,CAAasB,OAAb,CAAqBssB,MAAtD,EAA8D;YAC5DrwB,MAAM,CAAC6H,KAAP;YACA7H,MAAM,CAACP,KAAP,CAAaA,KAAK,CAACw2D,WAAnB,EAAgCr2D,OAAhC;YACA;UACD;QACF,CAhGW;QAkGZqD,IAAI,EAAE;UACJyV,MAAM,EAAE,YAAW;YACjB61B,OAAO,CACJvmC,EADH,CACM,SAASnB,cADf,EAC+B7G,MAAM,CAACiI,KAAP,CAAa6tD,IAD5C,EAEG9tD,EAFH,CAEM,WAAWnB,cAFjB,EAEiC7G,MAAM,CAACiI,KAAP,CAAa6oC,MAF9C,EADiB,CAKjB;;YACA4kB,OAAO,CACJhpD,GADH,CACO,WAAW7F,cADlB,EAEGmB,EAFH,CAEM,WAAWnB,cAFjB,EAEiC7G,MAAM,CAACiI,KAAP,CAAauyC,MAF9C,EAGGxyC,EAHH,CAGM,iBAAiBnB,cAHvB,EAGuC7G,MAAM,CAACiI,KAAP,CAAa8tD,YAHpD;UAKD;QAZG,CAlGM;QAiHZ9tD,KAAK,EAAE;UACL4gB,OAAO,EAAE,UAAShQ,SAAT,EAAoB;YAC3BtV,YAAY,CAACvD,MAAM,CAACwD,KAAR,CAAZ;YACAxD,MAAM,CAACwD,KAAP,GAAelC,UAAU,CAAC,YAAW;cACnCtB,MAAM,CAACI,OAAP,CAAe,yCAAf,EAA0DyY,SAA1D;cACA7Y,MAAM,CAACkH,OAAP;YACD,CAHwB,EAGtB,GAHsB,CAAzB;UAID,CAPI;UAQL8xC,eAAe,EAAE,UAASngC,SAAT,EAAoB;YACnC,GAAGgO,OAAH,CAAWznB,IAAX,CAAgByZ,SAAhB,EAA2B,UAAS+N,QAAT,EAAmB;cAC5C,IAAGA,QAAQ,CAAC8V,YAAZ,EAA0B;gBACxB,GAAG7V,OAAH,CAAWznB,IAAX,CAAgBwnB,QAAQ,CAAC8V,YAAzB,EAAuC,UAAS+c,IAAT,EAAe;kBACpD,IAAGA,IAAI,IAAI55C,OAAR,IAAmB5B,CAAC,CAACw7C,IAAD,CAAD,CAAQhyC,IAAR,CAAa5H,OAAb,EAAsByC,MAAtB,GAA+B,CAArD,EAAwD;oBACtDtC,MAAM,CAACS,KAAP,CAAa,+CAAb;oBACAT,MAAM,CAAC4C,OAAP;kBACD;gBACF,CALD;cAMD;YACF,CATD;UAUD,CAnBI;UAoBLkzD,IAAI,EAAE,YAAW;YACf91D,MAAM,CAACI,OAAP,CAAe,gCAAf;YACAI,qBAAqB,CAACR,MAAM,CAACkH,OAAR,CAArB;UACD,CAvBI;UAwBL4pC,MAAM,EAAE,YAAW;YACjB9wC,MAAM,CAACI,OAAP,CAAe,gBAAf;YACAI,qBAAqB,CAACR,MAAM,CAACkH,OAAR,CAArB;UACD,CA3BI;UA4BLszC,MAAM,EAAE,YAAW;YACjBh6C,qBAAqB,CAAC,YAAW;cAC/Bk1D,OAAO,CAAChX,cAAR,CAAuB,iBAAiB73C,cAAxC,EAAwD6uD,OAAO,CAACrxB,SAAR,EAAxD;YACD,CAFoB,CAArB;UAGD,CAhCI;UAiCL0xB,YAAY,EAAE,UAAS9tD,KAAT,EAAgBu1B,cAAhB,EAAgC;YAC5Cx9B,MAAM,CAACk2D,KAAP,CAAa14B,cAAb;YACAn+B,QAAQ,CAAC82D,QAAT,CAAkB/2D,IAAlB,CAAuBS,OAAvB;UACD;QApCI,CAjHK;QAwJZqH,OAAO,EAAE,UAASkvD,WAAT,EAAsB;UAC7Bp2D,MAAM,CAAC6H,KAAP;;UACA,IAAG,CAACxI,QAAQ,CAAC0E,OAAb,EAAsB;YACpB/D,MAAM,CAAC41D,gBAAP;UACD;;UACD,IAAGQ,WAAH,EAAgB;YACdp2D,MAAM,CAAC21D,kBAAP;UACD;;UACD31D,MAAM,CAACozB,IAAP,CAAYmoB,SAAZ;UACAv7C,MAAM,CAACk2D,KAAP;UACA72D,QAAQ,CAACg3D,YAAT,CAAsBj3D,IAAtB,CAA2BS,OAA3B;QACD,CAnKW;QAqKZi6C,QAAQ,EAAE;UACR2b,MAAM,EAAE,YAAW;YACjB,IACErsD,QAAQ,GAAGnL,CAAC,CAAC,QAAD,CADd;YAGAmL,QAAQ,CAACkI,QAAT,CAAkB3K,SAAS,CAAC2vD,SAA5B;YACA,OAAOltD,QAAQ,CAAC2S,GAAT,CAAa,UAAb,EAAyBxW,KAAzB,CAA+B,QAA/B,CAAP;UACD;QAPO,CArKE;QA+KZ6tB,IAAI,EAAE;UACJmjC,UAAU,EAAE,UAAS/b,MAAT,EAAiB;YAC3Bx6C,MAAM,CAACu2D,UAAP,GAAoB/b,MAApB;UACD,CAHG;UAIJgc,aAAa,EAAE,UAAShc,MAAT,EAAiB;YAC9Bx6C,MAAM,CAACw2D,aAAP,GAAuBhc,MAAvB;UACD,CANG;UAOJe,SAAS,EAAE,YAAW;YACpB,IACEnD,aAAa,GAAG;cACd/nB,MAAM,EAAGqlC,OAAO,CAACrlC,MAAR;YADK,CADlB;YAAA,IAIExwB,OAAO,GAAG;cACR66C,MAAM,EAAE;gBACN9U,GAAG,EAAMxtB,QAAQ,CAACxY,OAAO,CAACmc,GAAR,CAAY,YAAZ,CAAD,EAA4B,EAA5B,CADX;gBAENk8B,MAAM,EAAG7/B,QAAQ,CAACxY,OAAO,CAACmc,GAAR,CAAY,eAAZ,CAAD,EAA+B,EAA/B;cAFX,CADA;cAKR2J,MAAM,EAAG9lB,OAAO,CAAC8lB,MAAR,EALD;cAMRJ,KAAK,EAAI1lB,OAAO,CAACqqC,UAAR,EAND;cAOR5Z,MAAM,EAAGzwB,OAAO,CAACukC,WAAR;YAPD,CAJZ;YAAA,IAaEpgC,OAAO,GAAG;cACR2hB,MAAM,EAAG2L,QAAQ,CAAC3L,MAAT,EADD;cAER2K,MAAM,EAAGgB,QAAQ,CAAC8S,WAAT;YAFD,CAbZ;;YAkBA,IAAI,CAACnkC,MAAM,CAAC4J,EAAP,CAAU6sD,cAAV,EAAL,EAAkC;cAChCz2D,MAAM,CAACS,KAAP,CAAa,iEAAb;cAEA23C,aAAa,CAACxS,GAAd,GAAqB8vB,OAAO,CAACrxB,SAAR,EAArB;cACA+T,aAAa,CAACzyB,IAAd,GAAqB+vC,OAAO,CAAC1rB,UAAR,EAArB;cAEAnqC,OAAO,CAAC6lB,MAAR,CAAekgB,GAAf,IAAuBwS,aAAa,CAACxS,GAArC;cACA7hC,OAAO,CAAC2hB,MAAR,CAAekgB,GAAf,IAAuBwS,aAAa,CAACxS,GAArC;cACA/lC,OAAO,CAAC6lB,MAAR,CAAeC,IAAf,IAAuByyB,aAAa,CAACzyB,IAArC;cACA5hB,OAAO,CAAC2hB,MAAR,CAAeC,IAAf,IAAuByyB,aAAa,CAACzyB,IAArC;YACD;;YACD3lB,MAAM,CAACyC,KAAP,GAAe;cACbi0D,IAAI,EAAe72D,OAAO,CAACwwB,MAAR,GAAiBhxB,QAAQ,CAACqmB,MAA3B,IAAsC0yB,aAAa,CAAC/nB,MADzD;cAEbsmC,UAAU,EAAO92D,OAAO,CAACwwB,MAAR,IAAkBtsB,OAAO,CAACssB,MAF9B;cAGb+nB,aAAa,EAAG;gBACd/nB,MAAM,EAAG+nB,aAAa,CAAC/nB;cADT,CAHH;cAMbxwB,OAAO,EAAE;gBACP66C,MAAM,EAAG76C,OAAO,CAAC66C,MADV;gBAEP9U,GAAG,EAAM/lC,OAAO,CAAC6lB,MAAR,CAAekgB,GAAf,GAAqB/lC,OAAO,CAAC66C,MAAR,CAAe9U,GAFtC;gBAGPjgB,IAAI,EAAK9lB,OAAO,CAAC6lB,MAAR,CAAeC,IAHjB;gBAIPL,KAAK,EAAIzlB,OAAO,CAACylB,KAJV;gBAKP+K,MAAM,EAAGxwB,OAAO,CAACwwB,MALV;gBAMP4nB,MAAM,EAAGp4C,OAAO,CAAC6lB,MAAR,CAAekgB,GAAf,GAAqB/lC,OAAO,CAACwwB;cAN/B,CANI;cAcbtsB,OAAO,EAAE;gBACP6hC,GAAG,EAAa7hC,OAAO,CAAC2hB,MAAR,CAAekgB,GADxB;gBAEPvV,MAAM,EAAUtsB,OAAO,CAACssB,MAFjB;gBAGP4nB,MAAM,EAAUl0C,OAAO,CAAC2hB,MAAR,CAAekgB,GAAf,GAAqB7hC,OAAO,CAACssB;cAHtC;YAdI,CAAf;YAoBArwB,MAAM,CAACoH,GAAP,CAAWwvD,aAAX;YAEA52D,MAAM,CAACk2D,KAAP;YACAl2D,MAAM,CAACS,KAAP,CAAa,2BAAb,EAA0CT,MAAM,CAACyC,KAAjD;UACD;QA7DG,CA/KM;QA+OZwE,GAAG,EAAE;UACH+8B,SAAS,EAAE,UAASwW,MAAT,EAAiB;YAC1B,IACExW,SAAS,GAAG,MADd;YAGAwW,MAAM,GAAGA,MAAM,IAAIkb,OAAO,CAACrxB,SAAR,EAAnB;;YACA,IAAGrkC,MAAM,CAACu2D,UAAP,KAAsBn4D,SAAzB,EAAoC;cAClC,IAAG4B,MAAM,CAACu2D,UAAP,GAAoB/b,MAAvB,EAA+B;gBAC7BxW,SAAS,GAAG,MAAZ;cACD,CAFD,MAGK,IAAGhkC,MAAM,CAACu2D,UAAP,GAAoB/b,MAAvB,EAA+B;gBAClCxW,SAAS,GAAG,IAAZ;cACD;YACF;;YACD,OAAOA,SAAP;UACD,CAfE;UAgBH6yB,YAAY,EAAE,UAASrc,MAAT,EAAiB;YAC7BA,MAAM,GAAGA,MAAM,IAAIkb,OAAO,CAACrxB,SAAR,EAAnB;YACA,OAAQrkC,MAAM,CAACu2D,UAAR,GACF/b,MAAM,GAAGx6C,MAAM,CAACu2D,UADd,GAEH,CAFJ;UAID,CAtBE;UAuBHO,oBAAoB,EAAE,YAAW;YAC/B,IAAG92D,MAAM,CAACw2D,aAAV,EAAyB;cACvB,OAAOx2D,MAAM,CAACw2D,aAAd;YACD;;YACD,OAASx2D,MAAM,CAAC4J,EAAP,CAAUg8B,GAAV,EAAF,GACHngC,IAAI,CAACogD,GAAL,CAASztC,QAAQ,CAACxY,OAAO,CAACmc,GAAR,CAAY,KAAZ,CAAD,EAAqB,EAArB,CAAjB,KAAiD,CAD9C,GAEHtW,IAAI,CAACogD,GAAL,CAASztC,QAAQ,CAACxY,OAAO,CAACmc,GAAR,CAAY,QAAZ,CAAD,EAAwB,EAAxB,CAAjB,KAAiD,CAFrD;UAID,CA/BE;UAiCHy6C,aAAa,EAAE,UAAShc,MAAT,EAAiB;YAC9BA,MAAM,GAAGA,MAAM,IAAIkb,OAAO,CAACrxB,SAAR,EAAnB;YACA,IACExkC,OAAO,GAAUG,MAAM,CAACyC,KAAP,CAAa5C,OADhC;YAAA,IAEEu4C,aAAa,GAAIp4C,MAAM,CAACyC,KAAP,CAAa21C,aAFhC;YAAA,IAGE2e,KAAK,GAAY/2D,MAAM,CAACiH,GAAP,CAAW4vD,YAAX,CAAwBrc,MAAxB,CAHnB;YAAA,IAIEhW,SAAS,GAAS3kC,OAAO,CAACwwB,MAAR,GAAiB+nB,aAAa,CAAC/nB,MAA/B,GAAwChxB,QAAQ,CAACqmB,MAJrE;YAAA,IAKE8wC,aAAa,GAAIx2D,MAAM,CAACiH,GAAP,CAAW6vD,oBAAX,EALnB;YAAA,IAMEE,cAAc,GAAIR,aAAa,GAAGO,KANpC;;YAQA,IAAG/2D,MAAM,CAACyC,KAAP,CAAai0D,IAAb,IAAqBM,cAAc,GAAG,CAAzC,EAA4C;cAC1CR,aAAa,GAAG,CAAhB;YACD,CAFD,MAGK,IAAGQ,cAAc,GAAGxyB,SAApB,EAAgC;cACnCgyB,aAAa,GAAGhyB,SAAhB;YACD,CAFI,MAGA;cACHgyB,aAAa,GAAGQ,cAAhB;YACD;;YACD,OAAOR,aAAP;UACD;QArDE,CA/OO;QAuSZlsD,MAAM,EAAE;UACNisD,UAAU,EAAE,YAAW;YACrB,OAAOv2D,MAAM,CAACu2D,UAAd;UACD,CAHK;UAINC,aAAa,EAAE,UAAShc,MAAT,EAAiB;YAC9B,OAAOx6C,MAAM,CAACw2D,aAAd;UACD,CANK;UAONS,WAAW,EAAE,YAAW;YACtBv6C,UAAU,CACPX,GADH,CACO,YADP,EACqB,EADrB;UAGD,CAXK;UAYN2J,MAAM,EAAE,YAAW;YACjB9lB,OAAO,CAACmc,GAAR,CAAY,YAAZ,EAA0B,EAA1B;UACD;QAdK,CAvSI;QAwTZ3U,GAAG,EAAE;UACHse,MAAM,EAAE,YAAW;YACjB1lB,MAAM,CAACI,OAAP,CAAe,2BAAf,EAA4Cf,QAAQ,CAACqmB,MAArD;YACA9lB,OAAO,CACJmc,GADH,CACO,YADP,EACqB1c,QAAQ,CAACqmB,MAD9B;UAGD,CANE;UAOHkxC,aAAa,EAAE,YAAW;YACxB,IACEv5B,OAAO,GAAG3gB,UAAU,CAACzV,GAAX,CAAe,CAAf,EAAkBo2B,OAD9B;;YAGA,IAAGA,OAAO,KAAK,MAAZ,IAAsBA,OAAO,IAAI,MAApC,EAA4C;cAC1C;cACA;cACAr9B,MAAM,CAAC21D,kBAAP;YACD,CAJD,MAKK;cACH,IAAIlwD,IAAI,CAACogD,GAAL,CAASnpC,UAAU,CAACynB,WAAX,KAA2BnkC,MAAM,CAACyC,KAAP,CAAasB,OAAb,CAAqBssB,MAAzD,IAAmEhxB,QAAQ,CAAC49C,MAAhF,EAAwF;gBACtFj9C,MAAM,CAACS,KAAP,CAAa,4DAAb,EAA2ET,MAAM,CAACyC,KAAP,CAAasB,OAAb,CAAqBssB,MAAhG;gBACA3T,UAAU,CAACX,GAAX,CAAe;kBACbsU,MAAM,EAAErwB,MAAM,CAACyC,KAAP,CAAasB,OAAb,CAAqBssB;gBADhB,CAAf;cAGD;YACF;UACF,CAxBE;UAyBH4mC,WAAW,EAAE,YAAW;YACtB,IACEp3D,OAAO,GAAKG,MAAM,CAACyC,KAAP,CAAa5C,OAD3B;YAGA6c,UAAU,CACPX,GADH,CACO,YADP,EACqBlc,OAAO,CAACwwB,MAD7B;UAGD,CAhCE;UAiCHmqB,MAAM,EAAE,UAASA,MAAT,EAAiB;YACvBx6C,MAAM,CAACS,KAAP,CAAa,2BAAb,EAA0C+5C,MAA1C;;YACA,IAAGx6C,MAAM,CAACw2D,aAAP,IAAwBhc,MAA3B,EAAmC;cACjC;YACD;;YACD,IAAIx6C,MAAM,CAAC4J,EAAP,CAAUg8B,GAAV,EAAJ,EAAsB;cACpBhmC,OAAO,CACJmc,GADH,CACO,QADP,EACiB,EADjB,EAEGA,GAFH,CAEO,KAFP,EAEc,CAACy+B,MAFf;YAID;;YACD,IAAIx6C,MAAM,CAAC4J,EAAP,CAAUquC,MAAV,EAAJ,EAAyB;cACvBr4C,OAAO,CACJmc,GADH,CACO,KADP,EACc,EADd,EAEGA,GAFH,CAEO,QAFP,EAEiBy+B,MAFjB;YAID;UACF,CAlDE;UAmDH0c,IAAI,EAAE,YAAW;YACf,IAAGl3D,MAAM,CAACyC,KAAP,CAAa5C,OAAb,CAAqBwwB,MAArB,KAAgC,CAAhC,IAAqCrwB,MAAM,CAACyC,KAAP,CAAa5C,OAAb,CAAqBylB,KAArB,KAA+B,CAAvE,EAA0E;cACxEzlB,OAAO,CAAC4/C,KAAR,CAAc0X,WAAd,CAA0B,OAA1B,EAAoCn3D,MAAM,CAACyC,KAAP,CAAa5C,OAAb,CAAqBylB,KAArB,GAA8B,IAAlE,EAAwE,WAAxE;cACAzlB,OAAO,CAAC4/C,KAAR,CAAc0X,WAAd,CAA0B,QAA1B,EAAoCn3D,MAAM,CAACyC,KAAP,CAAa5C,OAAb,CAAqBwwB,MAArB,GAA8B,IAAlE,EAAwE,WAAxE;YACD;UACF;QAxDE,CAxTO;QAmXZzmB,EAAE,EAAE;UACF6sD,cAAc,EAAE,YAAW;YACzB,OAAQf,OAAO,CAAC,CAAD,CAAP,IAAcx3D,MAAtB;UACD,CAHC;UAIF0nC,GAAG,EAAE,YAAW;YACd,OAAOhmC,OAAO,CAACwK,QAAR,CAAiBzD,SAAS,CAACi/B,GAA3B,CAAP;UACD,CANC;UAOFqS,MAAM,EAAE,YAAW;YACjB,OAAOr4C,OAAO,CAACwK,QAAR,CAAiBzD,SAAS,CAACsxC,MAA3B,CAAP;UACD,CATC;UAUFyL,eAAe,EAAE,YAAW;YAC1B,OAAQ,CAAC1jD,MAAM,CAAC4J,EAAP,CAAUsuC,KAAV,EAAD,IAAsB,CAACl4C,MAAM,CAAC4J,EAAP,CAAUwtD,KAAV,EAA/B;UACD,CAZC;UAaF3qC,MAAM,EAAE,YAAW;YACjB,OAAQ,CAAC7sB,OAAO,CAACgK,EAAR,CAAW,UAAX,CAAT;UACD,CAfC;UAgBFwtD,KAAK,EAAE,YAAW;YAChB,OAAOx3D,OAAO,CAACwK,QAAR,CAAiBzD,SAAS,CAACywD,KAA3B,CAAP;UACD,CAlBC;UAmBFlf,KAAK,EAAE,YAAW;YAChB,OAAOt4C,OAAO,CAACwK,QAAR,CAAiBzD,SAAS,CAACuxC,KAA3B,CAAP;UACD;QArBC,CAnXQ;QA2YZge,KAAK,EAAE,UAAS1b,MAAT,EAAiB;UACtB,IACE6c,cAAc,GAAG7c,MAAM,IAAIkb,OAAO,CAACrxB,SAAR,EAD7B;UAAA,IAEE5hC,KAAK,GAAYzC,MAAM,CAACyC,KAF1B;UAAA,IAGEi0D,IAAI,GAAaj0D,KAAK,CAACi0D,IAHzB;UAAA,IAIEC,UAAU,GAAOl0D,KAAK,CAACk0D,UAJzB;UAAA,IAKE92D,OAAO,GAAU4C,KAAK,CAAC5C,OALzB;UAAA,IAMEu4C,aAAa,GAAI31C,KAAK,CAAC21C,aANzB;UAAA,IAOEr0C,OAAO,GAAUtB,KAAK,CAACsB,OAPzB;UAAA,IAQE2hB,MAAM,GAAY1lB,MAAM,CAAC4J,EAAP,CAAUquC,MAAV,MAAsB54C,QAAQ,CAACi4D,OAAhC,GACbj4D,QAAQ,CAACk4D,YADI,GAEbl4D,QAAQ,CAACqmB,MAVf;UAAA,IAWE80B,MAAM,GAAW;YACf5U,GAAG,EAAMyxB,cAAc,GAAG3xC,MADX;YAEfuyB,MAAM,EAAGof,cAAc,GAAG3xC,MAAjB,GAA0B0yB,aAAa,CAAC/nB;UAFlC,CAXnB;UAAA,IAeEmmC,aAAa,GAAKE,IAAD,GACb,CADa,GAEb12D,MAAM,CAACiH,GAAP,CAAWuvD,aAAX,CAAyBhc,MAAM,CAAC5U,GAAhC,CAjBN;UAAA,IAmBE;UACA4xB,SAAS,GAAQ,CAACd,IApBpB;UAAA,IAqBEe,cAAc,GAAI53D,OAAO,CAACwwB,MAAR,KAAmB,CArBvC;;UAuBA,IAAGonC,cAAc,IAAI,CAACd,UAAtB,EAAkC;YAEhC,IAAI32D,MAAM,CAAC4J,EAAP,CAAU85C,eAAV,EAAJ,EAAkC;cAChC,IAAGlJ,MAAM,CAAC5U,GAAP,IAAc7hC,OAAO,CAACk0C,MAAzB,EAAiC;gBAC/Bj4C,MAAM,CAACS,KAAP,CAAa,iDAAb;gBACAT,MAAM,CAAC03D,UAAP;cACD,CAHD,MAIK,IAAGld,MAAM,CAAC5U,GAAP,GAAa/lC,OAAO,CAAC+lC,GAAxB,EAA6B;gBAChC,IAAK/lC,OAAO,CAACwwB,MAAR,GAAiBmqB,MAAM,CAAC5U,GAAxB,GAA8B4wB,aAA/B,IAAiDzyD,OAAO,CAACk0C,MAA7D,EAAsE;kBACpEj4C,MAAM,CAACS,KAAP,CAAa,iDAAb;kBACAT,MAAM,CAAC03D,UAAP;gBACD,CAHD,MAIK;kBACH13D,MAAM,CAACS,KAAP,CAAa,mCAAb;kBACAT,MAAM,CAAC23D,MAAP;gBACD;cACF;YAEF,CAhBD,MAiBK,IAAI33D,MAAM,CAAC4J,EAAP,CAAUsuC,KAAV,EAAJ,EAAwB;cAE3B;cACA,IAAIl4C,MAAM,CAAC4J,EAAP,CAAUg8B,GAAV,EAAJ,EAAsB;gBACpB,IAAI4U,MAAM,CAAC5U,GAAP,IAAc/lC,OAAO,CAAC+lC,GAA1B,EAAgC;kBAC9B5lC,MAAM,CAACS,KAAP,CAAa,wCAAb;kBACAT,MAAM,CAAC43D,kBAAP;gBACD,CAHD,MAIK,IAAK/3D,OAAO,CAACwwB,MAAR,GAAiBmqB,MAAM,CAAC5U,GAAxB,GAA8B4wB,aAA/B,IAAiDzyD,OAAO,CAACk0C,MAA7D,EAAsE;kBACzEj4C,MAAM,CAACS,KAAP,CAAa,2CAAb;kBACAT,MAAM,CAAC03D,UAAP;gBACD,CAHI,CAIL;gBAJK,KAKA,IAAGF,SAAH,EAAc;kBACjBx3D,MAAM,CAACoH,GAAP,CAAWozC,MAAX,CAAkBgc,aAAlB;kBACAx2D,MAAM,CAACozB,IAAP,CAAYmjC,UAAZ,CAAuB/b,MAAM,CAAC5U,GAA9B;kBACA5lC,MAAM,CAACozB,IAAP,CAAYojC,aAAZ,CAA0BA,aAA1B;gBACD;cACF,CAfD,CAiBA;cAjBA,KAkBK,IAAGx2D,MAAM,CAAC4J,EAAP,CAAUquC,MAAV,EAAH,EAAwB;gBAE3B;gBACA,IAAKuC,MAAM,CAACvC,MAAP,GAAgBp4C,OAAO,CAACwwB,MAAzB,IAAoCxwB,OAAO,CAAC+lC,GAAhD,EAAqD;kBACnD5lC,MAAM,CAACS,KAAP,CAAa,gDAAb;kBACAT,MAAM,CAAC43D,kBAAP;gBACD,CAHD,CAIA;gBAJA,KAKK,IAAGpd,MAAM,CAACvC,MAAP,IAAiBl0C,OAAO,CAACk0C,MAA5B,EAAoC;kBACvCj4C,MAAM,CAACS,KAAP,CAAa,mDAAb;kBACAT,MAAM,CAAC03D,UAAP;gBACD,CAHI,CAIL;gBAJK,KAKA,IAAGF,SAAH,EAAc;kBACjBx3D,MAAM,CAACoH,GAAP,CAAWozC,MAAX,CAAkBgc,aAAlB;kBACAx2D,MAAM,CAACozB,IAAP,CAAYmjC,UAAZ,CAAuB/b,MAAM,CAAC5U,GAA9B;kBACA5lC,MAAM,CAACozB,IAAP,CAAYojC,aAAZ,CAA0BA,aAA1B;gBACD;cAEF;YACF,CAzCI,MA0CA,IAAIx2D,MAAM,CAAC4J,EAAP,CAAUquC,MAAV,EAAJ,EAAyB;cAC5B,IAAIuC,MAAM,CAAC5U,GAAP,IAAc/lC,OAAO,CAAC+lC,GAA1B,EAAgC;gBAC9B5lC,MAAM,CAACS,KAAP,CAAa,yEAAb;gBACAT,MAAM,CAAC43D,kBAAP;cACD,CAHD,MAIK;gBACH,IAAGv4D,QAAQ,CAACi4D,OAAZ,EAAqB;kBACnB,IAAGt3D,MAAM,CAAC4J,EAAP,CAAUwtD,KAAV,MAAqB5c,MAAM,CAACvC,MAAP,IAAiBl0C,OAAO,CAACk0C,MAAjD,EAA0D;oBACxDj4C,MAAM,CAACS,KAAP,CAAa,sDAAb;oBACAT,MAAM,CAAC63D,SAAP;kBACD;gBACF,CALD,MAMK;kBACH,IAAG73D,MAAM,CAAC4J,EAAP,CAAUwtD,KAAV,MAAsB5c,MAAM,CAAC5U,GAAP,IAAc7hC,OAAO,CAACk0C,MAAR,GAAiBp4C,OAAO,CAACwwB,MAAhE,EAA0E;oBACxErwB,MAAM,CAACS,KAAP,CAAa,mDAAb;oBACAT,MAAM,CAAC23D,MAAP;kBACD;gBACF;cACF;YACF;UACF;QACF,CArfW;QAufZG,OAAO,EAAE,YAAW;UAClB93D,MAAM,CAACS,KAAP,CAAa,4CAAb;UACAT,MAAM,CAACsK,MAAP,CAAcob,MAAd;UACA9lB,OAAO,CACJmc,GADH,CACO;YACH4J,IAAI,EAAW,EADZ;YAEHigB,GAAG,EAAY,EAFZ;YAGHmyB,YAAY,EAAG;UAHZ,CADP,EAMG1tD,WANH,CAMe1D,SAAS,CAACuxC,KANzB,EAOG7tC,WAPH,CAOe1D,SAAS,CAACsxC,MAPzB,EAQG3mC,QARH,CAQY3K,SAAS,CAACywD,KARtB,EASG9lD,QATH,CASY3K,SAAS,CAACi/B,GATtB;UAWAvmC,QAAQ,CAAC24D,KAAT,CAAe54D,IAAf,CAAoBS,OAApB;UACAR,QAAQ,CAAC44D,SAAT,CAAmB74D,IAAnB,CAAwBS,OAAxB;QACD,CAvgBW;QAwgBZ63D,UAAU,EAAE,YAAW;UACrB13D,MAAM,CAACS,KAAP,CAAa,+CAAb;UACAT,MAAM,CAACsK,MAAP,CAAcob,MAAd;UACA9lB,OAAO,CACJmc,GADH,CACO;YACH4J,IAAI,EAAW,EADZ;YAEHigB,GAAG,EAAY;UAFZ,CADP,EAKGv7B,WALH,CAKe1D,SAAS,CAACuxC,KALzB,EAMG7tC,WANH,CAMe1D,SAAS,CAACi/B,GANzB,EAOGt0B,QAPH,CAOY3K,SAAS,CAACywD,KAPtB,EAQG9lD,QARH,CAQY3K,SAAS,CAACsxC,MARtB;UAUA54C,QAAQ,CAAC64D,QAAT,CAAkB94D,IAAlB,CAAuBS,OAAvB;UACAR,QAAQ,CAAC44D,SAAT,CAAmB74D,IAAnB,CAAwBS,OAAxB;QACD,CAvhBW;QAyhBZ+3D,kBAAkB,EAAE,YAAW;UAC7B53D,MAAM,CAACS,KAAP,CAAa,+BAAb;UACAT,MAAM,CAACm4D,KAAP;UACAn4D,MAAM,CAACud,MAAP;QACD,CA7hBW;QAgiBZo6C,MAAM,EAAE,YAAW;UACjB33D,MAAM,CAACS,KAAP,CAAa,+BAAb;;UACA,IAAGpB,QAAQ,CAAC+4D,OAAZ,EAAqB;YACnBp4D,MAAM,CAACoH,GAAP,CAAW8vD,IAAX;UACD;;UACDl3D,MAAM,CAACoH,GAAP,CAAW6vD,WAAX;UACAj3D,MAAM,CAACoH,GAAP,CAAWse,MAAX;UACA9lB,OAAO,CACJmc,GADH,CACO;YACH4J,IAAI,EAAW3lB,MAAM,CAACyC,KAAP,CAAa5C,OAAb,CAAqB8lB,IADjC;YAEHsyB,MAAM,EAAS,EAFZ;YAGH8f,YAAY,EAAG;UAHZ,CADP,EAMG1tD,WANH,CAMe1D,SAAS,CAACywD,KANzB,EAOG/sD,WAPH,CAOe1D,SAAS,CAACsxC,MAPzB,EAQG3mC,QARH,CAQY3K,SAAS,CAACuxC,KARtB,EASG5mC,QATH,CASY3K,SAAS,CAACi/B,GATtB;UAWAvmC,QAAQ,CAACg5D,OAAT,CAAiBj5D,IAAjB,CAAsBS,OAAtB;QACD,CAnjBW;QAqjBZg4D,SAAS,EAAE,YAAW;UACpB73D,MAAM,CAACS,KAAP,CAAa,oCAAb;;UACA,IAAGpB,QAAQ,CAAC+4D,OAAZ,EAAqB;YACnBp4D,MAAM,CAACoH,GAAP,CAAW8vD,IAAX;UACD;;UACDl3D,MAAM,CAACoH,GAAP,CAAW6vD,WAAX;UACAj3D,MAAM,CAACoH,GAAP,CAAWse,MAAX;UACA9lB,OAAO,CACJmc,GADH,CACO;YACH4J,IAAI,EAAW3lB,MAAM,CAACyC,KAAP,CAAa5C,OAAb,CAAqB8lB,IADjC;YAEHsyB,MAAM,EAAS,EAFZ;YAGH8f,YAAY,EAAG;UAHZ,CADP,EAMG1tD,WANH,CAMe1D,SAAS,CAACywD,KANzB,EAOG/sD,WAPH,CAOe1D,SAAS,CAACi/B,GAPzB,EAQGt0B,QARH,CAQY3K,SAAS,CAACuxC,KARtB,EASG5mC,QATH,CASY3K,SAAS,CAACsxC,MATtB;UAWA54C,QAAQ,CAACg5D,OAAT,CAAiBj5D,IAAjB,CAAsBS,OAAtB;QACD,CAxkBW;QA0kBZ0d,MAAM,EAAE,YAAW;UACjB,IAAIvd,MAAM,CAAC4J,EAAP,CAAUwtD,KAAV,EAAJ,EAAwB;YACtBp3D,MAAM,CAACS,KAAP,CAAa,8CAAb;YACAT,MAAM,CAACsK,MAAP,CAAcob,MAAd;YACA9lB,OAAO,CACJyK,WADH,CACe1D,SAAS,CAACywD,KADzB,EAEG/sD,WAFH,CAEe1D,SAAS,CAACi/B,GAFzB,EAGGv7B,WAHH,CAGe1D,SAAS,CAACsxC,MAHzB;UAKD;QACF,CAplBW;QAslBZkgB,KAAK,EAAE,YAAW;UAChB,IAAIn4D,MAAM,CAAC4J,EAAP,CAAUsuC,KAAV,EAAJ,EAAwB;YACtBl4C,MAAM,CAACS,KAAP,CAAa,oCAAb;YACAT,MAAM,CAACsK,MAAP,CAAc2sD,WAAd;YACAj3D,MAAM,CAACsK,MAAP,CAAcob,MAAd;YACA9lB,OAAO,CACJyK,WADH,CACe1D,SAAS,CAACuxC,KADzB,EAEG7tC,WAFH,CAEe1D,SAAS,CAACi/B,GAFzB,EAGGv7B,WAHH,CAGe1D,SAAS,CAACsxC,MAHzB;YAKA54C,QAAQ,CAAC44D,SAAT,CAAmB74D,IAAnB,CAAwBS,OAAxB;UACD;QACF,CAlmBW;QAomBZgI,KAAK,EAAE,YAAW;UAChB7H,MAAM,CAACS,KAAP,CAAa,6BAAb;UACAT,MAAM,CAACud,MAAP;UACAvd,MAAM,CAACm4D,KAAP;UACAn4D,MAAM,CAACs4D,QAAP;UACAt4D,MAAM,CAACsK,MAAP,CAAcob,MAAd;UACA1lB,MAAM,CAACsK,MAAP,CAAcisD,UAAd;QACD,CA3mBW;QA6mBZ+B,QAAQ,EAAE,YAAW;UACnB14D,OAAO,CACJmc,GADH,CACO;YACHuJ,KAAK,EAAI,EADN;YAEH+K,MAAM,EAAG;UAFN,CADP;UAMA3T,UAAU,CACPX,GADH,CACO;YACHsU,MAAM,EAAE;UADL,CADP;QAKD,CAznBW;QA2nBZnuB,OAAO,EAAE,UAASV,IAAT,EAAeW,KAAf,EAAsB;UAC7B,IAAIlE,CAAC,CAACqB,aAAF,CAAgBkC,IAAhB,CAAJ,EAA4B;YAC1BvD,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAeF,QAAf,EAAyBmC,IAAzB;UACD,CAFD,MAGK,IAAGW,KAAK,KAAK/D,SAAb,EAAwB;YAC3BiB,QAAQ,CAACmC,IAAD,CAAR,GAAiBW,KAAjB;UACD,CAFI,MAGA;YACH,OAAO9C,QAAQ,CAACmC,IAAD,CAAf;UACD;QACF,CAroBW;QAsoBZsB,QAAQ,EAAE,UAAStB,IAAT,EAAeW,KAAf,EAAsB;UAC9B,IAAIlE,CAAC,CAACqB,aAAF,CAAgBkC,IAAhB,CAAJ,EAA4B;YAC1BvD,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAeS,MAAf,EAAuBwB,IAAvB;UACD,CAFD,MAGK,IAAGW,KAAK,KAAK/D,SAAb,EAAwB;YAC3B4B,MAAM,CAACwB,IAAD,CAAN,GAAeW,KAAf;UACD,CAFI,MAGA;YACH,OAAOnC,MAAM,CAACwB,IAAD,CAAb;UACD;QACF,CAhpBW;QAipBZf,KAAK,EAAE,YAAW;UAChB,IAAG,CAACpB,QAAQ,CAACgV,MAAV,IAAoBhV,QAAQ,CAACoB,KAAhC,EAAuC;YACrC,IAAGpB,QAAQ,CAACP,WAAZ,EAAyB;cACvBkB,MAAM,CAAClB,WAAP,CAAmB4B,GAAnB,CAAuB1B,SAAvB;YACD,CAFD,MAGK;cACHgB,MAAM,CAACS,KAAP,GAAesC,QAAQ,CAACC,SAAT,CAAmBC,IAAnB,CAAwB7D,IAAxB,CAA6BmB,OAAO,CAACmC,IAArC,EAA2CnC,OAA3C,EAAoDlB,QAAQ,CAACmC,IAAT,GAAgB,GAApE,CAAf;cACAxB,MAAM,CAACS,KAAP,CAAayC,KAAb,CAAmB3C,OAAnB,EAA4BvB,SAA5B;YACD;UACF;QACF,CA3pBW;QA4pBZoB,OAAO,EAAE,YAAW;UAClB,IAAG,CAACf,QAAQ,CAACgV,MAAV,IAAoBhV,QAAQ,CAACe,OAA7B,IAAwCf,QAAQ,CAACoB,KAApD,EAA2D;YACzD,IAAGpB,QAAQ,CAACP,WAAZ,EAAyB;cACvBkB,MAAM,CAAClB,WAAP,CAAmB4B,GAAnB,CAAuB1B,SAAvB;YACD,CAFD,MAGK;cACHgB,MAAM,CAACI,OAAP,GAAiB2C,QAAQ,CAACC,SAAT,CAAmBC,IAAnB,CAAwB7D,IAAxB,CAA6BmB,OAAO,CAACmC,IAArC,EAA2CnC,OAA3C,EAAoDlB,QAAQ,CAACmC,IAAT,GAAgB,GAApE,CAAjB;cACAxB,MAAM,CAACI,OAAP,CAAe8C,KAAf,CAAqB3C,OAArB,EAA8BvB,SAA9B;YACD;UACF;QACF,CAtqBW;QAuqBZS,KAAK,EAAE,YAAW;UAChB,IAAG,CAACJ,QAAQ,CAACgV,MAAb,EAAqB;YACnBrU,MAAM,CAACP,KAAP,GAAesD,QAAQ,CAACC,SAAT,CAAmBC,IAAnB,CAAwB7D,IAAxB,CAA6BmB,OAAO,CAACd,KAArC,EAA4Cc,OAA5C,EAAqDlB,QAAQ,CAACmC,IAAT,GAAgB,GAArE,CAAf;YACAxB,MAAM,CAACP,KAAP,CAAayD,KAAb,CAAmB3C,OAAnB,EAA4BvB,SAA5B;UACD;QACF,CA5qBW;QA6qBZF,WAAW,EAAE;UACX4B,GAAG,EAAE,UAASyC,OAAT,EAAkB;YACrB,IACEC,WADF,EAEEC,aAFF,EAGEC,YAHF;;YAKA,IAAGjE,QAAQ,CAACP,WAAZ,EAAyB;cACvBsE,WAAW,GAAK,IAAIxE,IAAJ,GAAWC,OAAX,EAAhB;cACAyE,YAAY,GAAI3E,IAAI,IAAIyE,WAAxB;cACAC,aAAa,GAAGD,WAAW,GAAGE,YAA9B;cACA3E,IAAI,GAAYyE,WAAhB;cACAtE,WAAW,CAACgD,IAAZ,CAAiB;gBACf,QAAmBqB,OAAO,CAAC,CAAD,CADX;gBAEf,aAAmB,GAAGhE,KAAH,CAASC,IAAT,CAAc+D,OAAd,EAAuB,CAAvB,KAA6B,EAFjC;gBAGf,WAAmBtD,OAHJ;gBAIf,kBAAmBwD;cAJJ,CAAjB;YAMD;;YACDE,YAAY,CAACvD,MAAM,CAAClB,WAAP,CAAmB0E,KAApB,CAAZ;YACAxD,MAAM,CAAClB,WAAP,CAAmB0E,KAAnB,GAA2BlC,UAAU,CAACtB,MAAM,CAAClB,WAAP,CAAmB2E,OAApB,EAA6B,CAA7B,CAArC;UACD,CArBU;UAsBXA,OAAO,EAAE,YAAW;YAClB,IACEC,KAAK,GAAGrE,QAAQ,CAACmC,IAAT,GAAgB,GAD1B;YAAA,IAEEmC,SAAS,GAAG,CAFd;YAIAhF,IAAI,GAAG,KAAP;YACA4E,YAAY,CAACvD,MAAM,CAAClB,WAAP,CAAmB0E,KAApB,CAAZ;YACAvF,CAAC,CAAC2D,IAAF,CAAO9C,WAAP,EAAoB,UAAS+C,KAAT,EAAgB9B,IAAhB,EAAsB;cACxC4D,SAAS,IAAI5D,IAAI,CAAC,gBAAD,CAAjB;YACD,CAFD;YAGA2D,KAAK,IAAI,MAAMC,SAAN,GAAkB,IAA3B;;YACA,IAAGkC,cAAH,EAAmB;cACjBnC,KAAK,IAAI,QAAQmC,cAAR,GAAyB,IAAlC;YACD;;YACD,IAAI,CAACtF,OAAO,CAACK,KAAR,KAAkBxC,SAAlB,IAA+BmC,OAAO,CAACqD,KAAR,KAAkBxF,SAAlD,KAAgEU,WAAW,CAACwD,MAAZ,GAAqB,CAAzF,EAA4F;cAC1F/B,OAAO,CAACO,cAAR,CAAuB4C,KAAvB;;cACA,IAAGnD,OAAO,CAACqD,KAAX,EAAkB;gBAChBrD,OAAO,CAACqD,KAAR,CAAc9E,WAAd;cACD,CAFD,MAGK;gBACHb,CAAC,CAAC2D,IAAF,CAAO9C,WAAP,EAAoB,UAAS+C,KAAT,EAAgB9B,IAAhB,EAAsB;kBACxCQ,OAAO,CAACG,GAAR,CAAYX,IAAI,CAAC,MAAD,CAAJ,GAAe,IAAf,GAAsBA,IAAI,CAAC,gBAAD,CAA1B,GAA6C,IAAzD;gBACD,CAFD;cAGD;;cACDQ,OAAO,CAACM,QAAR;YACD;;YACD/B,WAAW,GAAG,EAAd;UACD;QAjDU,CA7qBD;QAguBZ+E,MAAM,EAAE,UAAS9E,KAAT,EAAgB+E,eAAhB,EAAiCC,OAAjC,EAA0C;UAChD,IACEC,MAAM,GAAGlE,QADX;UAAA,IAEEmE,QAFF;UAAA,IAGEC,KAHF;UAAA,IAIEC,QAJF;UAMAL,eAAe,GAAGA,eAAe,IAAI5E,cAArC;UACA6E,OAAO,GAAWlE,OAAO,IAAYkE,OAArC;;UACA,IAAG,OAAOhF,KAAP,IAAgB,QAAhB,IAA4BiF,MAAM,KAAK5F,SAA1C,EAAqD;YACnDW,KAAK,GAAMA,KAAK,CAACqF,KAAN,CAAY,OAAZ,CAAX;YACAH,QAAQ,GAAGlF,KAAK,CAACuD,MAAN,GAAe,CAA1B;YACArE,CAAC,CAAC2D,IAAF,CAAO7C,KAAP,EAAc,UAASsF,KAAT,EAAgBlC,KAAhB,EAAuB;cACnC,IAAImC,cAAc,GAAID,KAAK,IAAIJ,QAAV,GACjB9B,KAAK,GAAGpD,KAAK,CAACsF,KAAK,GAAG,CAAT,CAAL,CAAiBE,MAAjB,CAAwB,CAAxB,EAA2BC,WAA3B,EAAR,GAAmDzF,KAAK,CAACsF,KAAK,GAAG,CAAT,CAAL,CAAiBlF,KAAjB,CAAuB,CAAvB,CADlC,GAEjBJ,KAFJ;;cAIA,IAAId,CAAC,CAACqB,aAAF,CAAiB0E,MAAM,CAACM,cAAD,CAAvB,KAA8CD,KAAK,IAAIJ,QAA3D,EAAuE;gBACrED,MAAM,GAAGA,MAAM,CAACM,cAAD,CAAf;cACD,CAFD,MAGK,IAAIN,MAAM,CAACM,cAAD,CAAN,KAA2BlG,SAA/B,EAA2C;gBAC9C8F,KAAK,GAAGF,MAAM,CAACM,cAAD,CAAd;gBACA,OAAO,KAAP;cACD,CAHI,MAIA,IAAIrG,CAAC,CAACqB,aAAF,CAAiB0E,MAAM,CAAC7B,KAAD,CAAvB,KAAqCkC,KAAK,IAAIJ,QAAlD,EAA8D;gBACjED,MAAM,GAAGA,MAAM,CAAC7B,KAAD,CAAf;cACD,CAFI,MAGA,IAAI6B,MAAM,CAAC7B,KAAD,CAAN,KAAkB/D,SAAtB,EAAkC;gBACrC8F,KAAK,GAAGF,MAAM,CAAC7B,KAAD,CAAd;gBACA,OAAO,KAAP;cACD,CAHI,MAIA;gBACH,OAAO,KAAP;cACD;YACF,CAtBD;UAuBD;;UACD,IAAKlE,CAAC,CAACI,UAAF,CAAc6F,KAAd,CAAL,EAA6B;YAC3BC,QAAQ,GAAGD,KAAK,CAAChB,KAAN,CAAYa,OAAZ,EAAqBD,eAArB,CAAX;UACD,CAFD,MAGK,IAAGI,KAAK,KAAK9F,SAAb,EAAwB;YAC3B+F,QAAQ,GAAGD,KAAX;UACD;;UACD,IAAGQ,KAAK,CAACC,OAAN,CAAc1E,aAAd,CAAH,EAAiC;YAC/BA,aAAa,CAAC6B,IAAd,CAAmBqC,QAAnB;UACD,CAFD,MAGK,IAAGlE,aAAa,KAAK7B,SAArB,EAAgC;YACnC6B,aAAa,GAAG,CAACA,aAAD,EAAgBkE,QAAhB,CAAhB;UACD,CAFI,MAGA,IAAGA,QAAQ,KAAK/F,SAAhB,EAA2B;YAC9B6B,aAAa,GAAGkE,QAAhB;UACD;;UACD,OAAOD,KAAP;QACD;MApxBW,CAAd;;MAuxBA,IAAGjF,aAAH,EAAkB;QAChB,IAAGa,QAAQ,KAAK1B,SAAhB,EAA2B;UACzB4B,MAAM,CAACE,UAAP;QACD;;QACDF,MAAM,CAAC6D,MAAP,CAAc9E,KAAd;MACD,CALD,MAMK;QACH,IAAGe,QAAQ,KAAK1B,SAAhB,EAA2B;UACzB0B,QAAQ,CAAC+D,MAAT,CAAgB,SAAhB;QACD;;QACD7D,MAAM,CAACE,UAAP;MACD;IACF,CAt0BH;IAy0BA,OAAQD,aAAa,KAAK7B,SAAnB,GACH6B,aADG,GAEH,IAFJ;EAID,CA31BD;;EA61BAhC,CAAC,CAACQ,EAAF,CAAKg3D,MAAL,CAAYp2D,QAAZ,GAAuB;IAErBmC,IAAI,EAAa,QAFI;IAGrBhC,SAAS,EAAQ,QAHI;IAKrB6U,MAAM,EAAW,KALI;IAMrB5T,KAAK,EAAY,KANI;IAOrBL,OAAO,EAAU,IAPI;IAQrBtB,WAAW,EAAM,IARI;IAUrB;IACAw4D,OAAO,EAAU,KAXI;IAarBvzD,OAAO,EAAU,KAbI;IAcrB8c,SAAS,EAAQ,KAdI;IAgBrB;IACAu3B,aAAa,EAAIl6C,MAjBI;IAmBrB;IACAwnB,MAAM,EAAW,CApBI;IAsBrB;IACA6xC,YAAY,EAAK,CAvBI;IAyBrB;IACAta,MAAM,EAAW,CA1BI;IA4BrB;IACAmb,OAAO,EAAU,IA7BI;IA+BrB;IACAz/C,cAAc,EAAG,KAhCI;IAkCrB;IACA09C,YAAY,EAAK,YAAU,CAAE,CAnCR;IAqCrB;IACAF,QAAQ,EAAS,YAAU,CAAE,CAtCR;IAwCrB;IACAkC,OAAO,EAAU,YAAU,CAAE,CAzCR;IA2CrB;IACAJ,SAAS,EAAQ,YAAU,CAAE,CA5CR;IA8CrB;IACAD,KAAK,EAAY,YAAU,CAAE,CA/CR;IAiDrB;IACAE,QAAQ,EAAS,YAAU,CAAE,CAlDR;IAoDrBz4D,KAAK,EAAW;MACdohB,SAAS,EAAQ,oDADH;MAEd0S,OAAO,EAAU,oIAFH;MAGd9uB,MAAM,EAAW,uCAHH;MAIduxD,cAAc,EAAG,kCAJH;MAKdC,WAAW,EAAM;IALH,CApDK;IA4DrBtvD,SAAS,EAAG;MACVywD,KAAK,EAAO,OADF;MAEVlf,KAAK,EAAO,OAFF;MAGVoe,SAAS,EAAG,QAHF;MAIV1wB,GAAG,EAAS,KAJF;MAKVqS,MAAM,EAAM;IALF;EA5DS,CAAvB;AAsEC,CAl7BA,EAk7BGzyC,MAl7BH,EAk7BWtH,MAl7BX,EAk7BmBC,QAl7BnB;AAo7BD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA;;AAAC,CAAC,UAAUF,CAAV,EAAaC,MAAb,EAAqBC,QAArB,EAA+BC,SAA/B,EAA0C;EAE5C;;EAEAH,CAAC,CAACm8C,QAAF,GAAan8C,CAAC,CAACm8C,QAAF,IAAc,UAAS97C,GAAT,EAAc;IACvC,OAAOA,GAAG,IAAI,IAAP,IAAeA,GAAG,KAAKA,GAAG,CAACJ,MAAlC;EACD,CAFD;;EAGAD,CAAC,CAACI,UAAF,GAAeJ,CAAC,CAACI,UAAF,IAAgB,UAASC,GAAT,EAAc;IAC3C,OAAO,OAAOA,GAAP,KAAe,UAAf,IAA6B,OAAOA,GAAG,CAACC,QAAX,KAAwB,QAA5D;EACD,CAFD;;EAIAL,MAAM,GAAI,OAAOA,MAAP,IAAiB,WAAjB,IAAgCA,MAAM,CAACuH,IAAP,IAAeA,IAAhD,GACLvH,MADK,GAEJ,OAAOwH,IAAP,IAAe,WAAf,IAA8BA,IAAI,CAACD,IAAL,IAAaA,IAA5C,GACEC,IADF,GAEE3C,QAAQ,CAAC,aAAD,CAAR,EAJN;;EAOA9E,CAAC,CAACQ,EAAF,CAAK85D,GAAL,GAAW,UAAS75D,UAAT,EAAqB;IAE9B,IACE;IACAkH,WAAW,GAAO3H,CAAC,CAACI,UAAF,CAAa,IAAb,IACZJ,CAAC,CAACC,MAAD,CADW,GAEZD,CAAC,CAAC,IAAD,CAJT;IAAA,IAME4H,cAAc,GAAID,WAAW,CAACE,QAAZ,IAAwB,EAN5C;IAAA,IAOEnH,IAAI,GAAc,IAAIC,IAAJ,GAAWC,OAAX,EAPpB;IAAA,IAQEC,WAAW,GAAO,EARpB;IAAA,IAUEC,KAAK,GAAaC,SAAS,CAAC,CAAD,CAV7B;IAAA,IAWEC,aAAa,GAAM,OAAOF,KAAP,IAAgB,QAXrC;IAAA,IAYEG,cAAc,GAAI,GAAGC,KAAH,CAASC,IAAT,CAAcJ,SAAd,EAAyB,CAAzB,CAZpB;IAAA,IAcEw5D,kBAAkB,GAAG,KAdvB;IAAA,IAeEv4D,aAfF;IAkBA2F,WAAW,CACRhE,IADH,CACQ,YAAW;MACf,IAEEvC,QAAQ,GAAYpB,CAAC,CAACqB,aAAF,CAAgBZ,UAAhB,CAAF,GACdT,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAe,EAAf,EAAmBtB,CAAC,CAACQ,EAAF,CAAK85D,GAAL,CAASl5D,QAA5B,EAAsCX,UAAtC,CADc,GAEdT,CAAC,CAACsB,MAAF,CAAS,EAAT,EAAatB,CAAC,CAACQ,EAAF,CAAK85D,GAAL,CAASl5D,QAAtB,CAJN;MAAA,IAMEsH,SAAS,GAAStH,QAAQ,CAACsH,SAN7B;MAAA,IAOED,QAAQ,GAAUrH,QAAQ,CAACqH,QAP7B;MAAA,IAQEZ,QAAQ,GAAUzG,QAAQ,CAACyG,QAR7B;MAAA,IASErG,KAAK,GAAaJ,QAAQ,CAACI,KAT7B;MAAA,IAUEmH,MAAM,GAAYvH,QAAQ,CAACuH,MAV7B;MAAA,IAYEC,cAAc,GAAI,MAAMxH,QAAQ,CAACG,SAZnC;MAAA,IAaEE,eAAe,GAAG,YAAYL,QAAQ,CAACG,SAbzC;MAAA,IAeEI,OAAO,GAAW3B,CAAC,CAAC,IAAD,CAfrB;MAAA,IAgBEozB,QAhBF;MAAA,IAiBEonC,KAjBF;MAAA,IAmBEh2D,KAAK,GAAa,EAnBpB;MAAA,IAoBEi2D,SAAS,GAAS,IApBpB;MAAA,IAqBEC,cAAc,GAAI,CArBpB;MAAA,IAsBE94D,OAAO,GAAW,IAtBpB;MAAA,IAuBEC,QAAQ,GAAUF,OAAO,CAACG,IAAR,CAAaL,eAAb,CAvBpB;MAAA,IAyBEk5D,aAzBF;MAAA,IA0BEC,cA1BF;MAAA,IA2BE74D,MA3BF;MAAA,IA6BE84D,YA7BF;MAiCA94D,MAAM,GAAG;QAEPE,UAAU,EAAE,YAAW;UACrBF,MAAM,CAACS,KAAP,CAAa,4BAAb,EAA2Cb,OAA3C;UACAI,MAAM,CAACM,GAAP,CAAWy4D,SAAX;UACA/4D,MAAM,CAACg5D,aAAP;UAEAh5D,MAAM,CAACS,KAAP,CAAa,kBAAb,EAAiCpB,QAAQ,CAAC0E,OAA1C,EAAmD00D,KAAnD,EALqB,CAMrB;;UACA,IAAGp5D,QAAQ,CAAC45D,IAAZ,EAAkB;YAChBj5D,MAAM,CAACoH,GAAP,CAAW6xD,IAAX;UACD;;UACDj5D,MAAM,CAACiD,IAAP,CAAYyV,MAAZ;;UAEA,IAAGrZ,QAAQ,CAAC2H,OAAT,IAAoB,CAACwxD,kBAAxB,EAA4C;YAC1Cx4D,MAAM,CAACk5D,iBAAP;YACAV,kBAAkB,GAAG,IAArB;UACD;;UAED,IAAGn5D,QAAQ,CAAC85D,iBAAT,IAA8Br5D,QAAQ,KAAK1B,SAA3C,IAAwD4B,MAAM,CAACgJ,SAAP,CAAiBowD,SAAjB,MAAgC,IAA3F,EAAiG;YAC/Fp5D,MAAM,CAACS,KAAP,CAAa,kDAAb,EAAiET,MAAM,CAACiH,GAAP,CAAWoyD,WAAX,EAAjE;YACAr5D,MAAM,CAACs5D,SAAP,CAAiBj6D,QAAQ,CAAC85D,iBAAT,KAA+B,IAA/B,GAAsCn5D,MAAM,CAACiH,GAAP,CAAWoyD,WAAX,EAAtC,GAAiEh6D,QAAQ,CAAC85D,iBAA3F;UACD;;UAAA;UAEDn5D,MAAM,CAACG,WAAP;QACD,CAzBM;QA2BPA,WAAW,EAAE,YAAY;UACvBH,MAAM,CAACI,OAAP,CAAe,4BAAf,EAA6CJ,MAA7C;UACAF,QAAQ,GAAGE,MAAX;UACAJ,OAAO,CACJG,IADH,CACQL,eADR,EACyBM,MADzB;QAGD,CAjCM;QAmCP4C,OAAO,EAAE,YAAW;UAClB5C,MAAM,CAACS,KAAP,CAAa,iBAAb,EAAgCb,OAAhC;UACAA,OAAO,CACJiD,UADH,CACcnD,eADd,EAEGgN,GAFH,CAEO7F,cAFP;QAID,CAzCM;QA2CP5D,IAAI,EAAE;UACJyV,MAAM,EAAE,YAAW;YACjB;YACA,IAAI,CAACza,CAAC,CAACm8C,QAAF,CAAYv6C,OAAZ,CAAL,EAA6B;cAC3BG,MAAM,CAACS,KAAP,CAAa,4CAAb,EAA2Db,OAA3D;cACAA,OAAO,CACJoI,EADH,CACM,UAAUnB,cADhB,EACgC7G,MAAM,CAACiI,KAAP,CAAagR,KAD7C;YAGD;UACF;QATG,CA3CC;QAuDP+/C,aAAa,EAAE,YAAW;UACxB,IACEO,UADF,CADwB,CAKxB;;UACA,IAAGl6D,QAAQ,CAAC0E,OAAT,KAAqB,QAAxB,EAAkC;YAChC,IAAGnE,OAAO,CAAC2J,OAAR,CAAgBzD,QAAQ,CAAC0zD,EAAzB,EAA6Bl3D,MAA7B,GAAsC,CAAzC,EAA4C;cAC1Ci3D,UAAU,GAAG35D,OAAO,CAAC2J,OAAR,CAAgBzD,QAAQ,CAAC0zD,EAAzB,CAAb;cACAx5D,MAAM,CAACI,OAAP,CAAe,oCAAf,EAAqDm5D,UAArD;YACD,CAHD,MAIK;cACHA,UAAU,GAAG35D,OAAb;YACD;;YACDyxB,QAAQ,GAAGkoC,UAAU,CAAClwD,MAAX,EAAX;YACArJ,MAAM,CAACI,OAAP,CAAe,gDAAf,EAAiEixB,QAAjE;UACD,CAVD,MAWK,IAAGhyB,QAAQ,CAAC0E,OAAZ,EAAqB;YACxBstB,QAAQ,GAAGpzB,CAAC,CAACoB,QAAQ,CAAC0E,OAAV,CAAZ;YACA/D,MAAM,CAACI,OAAP,CAAe,gCAAf,EAAiDf,QAAQ,CAAC0E,OAA1D,EAAmEstB,QAAnE;UACD,CAHI,MAIA;YACHA,QAAQ,GAAGpzB,CAAC,CAAC,MAAD,CAAZ;UACD,CAvBuB,CAwBxB;;;UACA,IAAGoB,QAAQ,CAACo6D,YAAZ,EAA0B;YACxBhB,KAAK,GAAGpnC,QAAQ,CAACjgB,QAAT,CAAkBtL,QAAQ,CAAC4zD,IAA3B,CAAR;YACA15D,MAAM,CAACS,KAAP,CAAa,yCAAb,EAAwD4wB,QAAxD,EAAkEonC,KAAlE;UACD,CAHD,MAIK;YACHA,KAAK,GAAGpnC,QAAQ,CAAC5pB,IAAT,CAAc3B,QAAQ,CAAC4zD,IAAvB,CAAR;YACA15D,MAAM,CAACS,KAAP,CAAa,gCAAb,EAA+C4wB,QAA/C,EAAyDonC,KAAzD;UACD;QACF,CAxFM;QA0FPn4D,GAAG,EAAE;UACHy4D,SAAS,EAAE,YAAW;YACpB,IAAI96D,CAAC,CAACqB,aAAF,CAAgBZ,UAAhB,MAAgCA,UAAU,CAACi7D,SAAX,IAAwBj7D,UAAU,CAACk7D,SAAnE,CAAJ,EAAoF;cAClF,IAAGl7D,UAAU,CAACi7D,SAAd,EAAyB;gBACvBj7D,UAAU,CAACm7D,MAAX,GAAoBn7D,UAAU,CAACi7D,SAA/B;gBACA,OAAOj7D,UAAU,CAACi7D,SAAlB;gBACA35D,MAAM,CAACP,KAAP,CAAaA,KAAK,CAACq6D,UAAnB,EAA+Bp7D,UAAU,CAACm7D,MAA1C;cACD;;cACD,IAAGn7D,UAAU,CAACk7D,SAAd,EAAyB;gBACvBl7D,UAAU,CAACq7D,WAAX,GAAyBr7D,UAAU,CAACk7D,SAApC;gBACA,OAAOl7D,UAAU,CAACk7D,SAAlB;gBACA55D,MAAM,CAACP,KAAP,CAAaA,KAAK,CAACu6D,UAAnB,EAA+Bt7D,UAAU,CAACq7D,WAA1C;cACD;;cACD16D,QAAQ,GAAGpB,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAe,EAAf,EAAmBtB,CAAC,CAACQ,EAAF,CAAK85D,GAAL,CAASl5D,QAA5B,EAAsCX,UAAtC,CAAX;YACD;UACF;QAfE,CA1FE;QA4GPw6D,iBAAiB,EAAE,YAAW;UAC5Bl5D,MAAM,CAACS,KAAP,CAAa,yBAAb;;UACA,IAAIxC,CAAC,CAACg8D,OAAF,KAAc77D,SAAlB,EAA8B;YAC5B4B,MAAM,CAACP,KAAP,CAAaA,KAAK,CAAC2+C,KAAnB;YACA,OAAO,KAAP;UACD,CAHD,MAIK;YACH,IAAG/+C,QAAQ,CAAC66D,WAAT,IAAwB,OAA3B,EAAoC;cAClCl6D,MAAM,CAACS,KAAP,CAAa,6BAAb;;cACA,IAAGpB,QAAQ,CAACs4C,IAAT,KAAkB,KAArB,EAA4B;gBAC1B15C,CAAC,CAACg8D,OAAF,CACGjzD,OADH,CACW,IADX,EAEGo3C,KAFH,CAES/+C,QAAQ,CAACs4C,IAFlB;cAID,CALD,MAMK;gBACH33C,MAAM,CAACP,KAAP,CAAaA,KAAK,CAACk4C,IAAnB;gBACA,OAAO,KAAP;cACD;YACF;;YACD15C,CAAC,CAACg8D,OAAF,CACGh3D,IADH,CACQ,QADR,EACkBjD,MAAM,CAACiI,KAAP,CAAajB,OAAb,CAAqB/E,MADvC;UAGD;QACF,CApIM;QAsIPgG,KAAK,EAAE;UACLgR,KAAK,EAAE,UAAShR,KAAT,EAAgB;YACrB,IACEkyD,OAAO,GAAGl8D,CAAC,CAAC,IAAD,CAAD,CAAQ8B,IAAR,CAAa2G,QAAQ,CAAC6xD,GAAtB,CADZ;;YAGA,IAAG4B,OAAO,KAAK/7D,SAAf,EAA0B;cACxB,IAAGiB,QAAQ,CAAC2H,OAAZ,EAAqB;gBACnBhH,MAAM,CAACI,OAAP,CAAe,qBAAf,EAAsC6H,KAAtC;gBACAhK,CAAC,CAACg8D,OAAF,CAAU93D,KAAV,CAAgBg4D,OAAhB;cACD,CAHD,MAIK;gBACHn6D,MAAM,CAACI,OAAP,CAAe,cAAf,EAA+B6H,KAA/B;gBACAjI,MAAM,CAACs5D,SAAP,CAAiBa,OAAjB;cACD;;cACDlyD,KAAK,CAACC,cAAN;YACD,CAVD,MAWK;cACHlI,MAAM,CAACS,KAAP,CAAa,kBAAb;YACD;UACF,CAnBI;UAoBLuG,OAAO,EAAE;YACP/E,MAAM,EAAE,UAASgG,KAAT,EAAgB;cACtB,IACEkyD,OAAO,GAAKlyD,KAAK,CAACmyD,SAAN,CAAgBvpC,IAAhB,CAAqB,GAArB,KAA6B7wB,MAAM,CAACiH,GAAP,CAAWoyD,WAAX,EAD3C;cAAA,IAEEgB,SAAS,GAAGh7D,QAAQ,CAACkS,SAAT,CAAmB+oD,cAAnB,CAAkCH,OAAlC,KAA8C,KAF5D;cAIAn6D,MAAM,CAAClB,WAAP,CAAmB2E,OAAnB;cACAzD,MAAM,CAACS,KAAP,CAAa,sBAAb,EAAqC05D,OAArC,EAA8ClyD,KAA9C;cACA6wD,YAAY,GAAG7wD,KAAf;;cACA,IAAGkyD,OAAO,KAAK/7D,SAAf,EAA0B;gBACxB4B,MAAM,CAACs5D,SAAP,CAAiBa,OAAjB;cACD;;cACD,IAAGE,SAAH,EAAc;gBACZp8D,CAAC,CAACg8D,OAAF,CAAUv2D,KAAV,CAAgB22D,SAAhB;cACD;YACF;UAfM;QApBJ,CAtIA;QA6KPnzD,OAAO,EAAE,YAAW;UAClB,IAAG0xD,aAAH,EAAkB;YAChB54D,MAAM,CAACS,KAAP,CAAa,gBAAb,EAA+Bm4D,aAA/B;YACA54D,MAAM,CAACs5D,SAAP,CAAiBV,aAAjB;UACD;QACF,CAlLM;QAoLPn2D,KAAK,EAAE;UAELu/B,IAAI,EAAE,UAASu4B,QAAT,EAAmB;YACvB,OAAQA,QAAQ,KAAKn8D,SAAd,GACHqE,KAAK,CAAC83D,QAAD,CADF,GAEH,KAFJ;UAID,CAPI;UAQL1qD,GAAG,EAAE,UAAS0qD,QAAT,EAAmB/hD,OAAnB,EAA4B;YAC/B+hD,QAAQ,GAAGA,QAAQ,IAAI3B,aAAvB;YACA54D,MAAM,CAACS,KAAP,CAAa,2BAAb,EAA0C85D,QAA1C;YACA93D,KAAK,CAAC83D,QAAD,CAAL,GAAkB/hD,OAAlB;UACD,CAZI;UAaLlO,MAAM,EAAE,UAASiwD,QAAT,EAAmB;YACzBA,QAAQ,GAAGA,QAAQ,IAAI3B,aAAvB;YACA54D,MAAM,CAACS,KAAP,CAAa,6BAAb,EAA4C85D,QAA5C;YACA,OAAO93D,KAAK,CAAC83D,QAAD,CAAZ;UACD;QAjBI,CApLA;QAwMPrtD,MAAM,EAAE;UACNwC,MAAM,EAAE,UAAS/B,IAAT,EAAe;YACrBA,IAAI,GAAI/B,MAAM,CAAC+B,IAAD,CAAd;YACA,OAAOA,IAAI,CAACI,OAAL,CAAanH,MAAM,CAACsG,MAApB,EAA4B,MAA5B,CAAP;UACD;QAJK,CAxMD;QA+MP9F,GAAG,EAAE;UACH6xD,IAAI,EAAE,YAAW;YACf,IACErkD,GAAG,GAAI,OAAOvV,QAAQ,CAACs4C,IAAhB,IAAwB,QAAzB,GACFt4C,QAAQ,CAACs4C,IAAT,CAAc5pC,OAAd,CAAsB,KAAtB,EAA6B,EAA7B,IAAmC,SADjC,GAEF,SAHN;YAKA/N,MAAM,CAACI,OAAP,CAAe,gDAAf,EAAiEwU,GAAjE;;YACA,IAAG3W,CAAC,CAACqB,aAAF,CAAgBD,QAAQ,CAAC41B,WAAzB,CAAH,EAA0C;cACxC51B,QAAQ,CAAC41B,WAAT,CAAqBrgB,GAArB,GAA2BA,GAA3B;YACD,CAFD,MAGK;cACHvV,QAAQ,CAAC41B,WAAT,GAAuB;gBACrBrgB,GAAG,EAAEA;cADgB,CAAvB;YAGD;UACF,CAhBE;UAiBHswB,OAAO,EAAE,UAASi1B,OAAT,EAAkB;YACzB,IACEK,IAAI,GAAQx6D,MAAM,CAACiH,GAAP,CAAWwzD,UAAX,CAAsBN,OAAtB,CADd;YAAA,IAEEO,SAAS,GAAGF,IAAI,CAACpwD,QAAL,CAAczD,SAAS,CAACu+B,OAAxB,CAFd;;YAIA,IAAG,CAACw1B,SAAJ,EAAe;cACb16D,MAAM,CAACI,OAAP,CAAe,2BAAf,EAA4Co6D,IAA5C;cACAA,IAAI,CACDlpD,QADH,CACY3K,SAAS,CAACu+B,OADtB,EAEGlI,QAFH,CAEYy7B,KAFZ,EAGKpuD,WAHL,CAGiB1D,SAAS,CAAC8S,MAAV,GAAmB,GAAnB,GAAyB9S,SAAS,CAACu+B,OAHpD;;cAKA,IAAGs1B,IAAI,CAACl4D,MAAL,GAAc,CAAjB,EAAoB;gBAClBjD,QAAQ,CAACs7D,SAAT,CAAmBv7D,IAAnB,CAAwBo7D,IAAI,CAAC,CAAD,CAA5B,EAAiCL,OAAjC;cACD;YACF;UACF,CAjCE;UAkCH/b,KAAK,EAAE,UAASA,KAAT,EAAgB;YACrBngD,CAAC,CAACg8D,OAAF,CAAU93D,KAAV,CAAgBi8C,KAAhB;UACD;QApCE,CA/ME;QAsPPkb,SAAS,EAAE,UAASa,OAAT,EAAkB;UAC3B,IACES,kBAAkB,GAAI18D,MAAM,CAAC8I,OAAP,IAAkB9I,MAAM,CAAC8I,OAAP,CAAe6zD,SADzD;UAAA,IAEEC,gBAAgB,GAAMF,kBAAkB,IAAIv7D,QAAQ,CAAC07D,eAA/B,IAAkDrC,SAF1E;UAAA,IAGEsC,aAAa,GAAS37D,QAAQ,CAAC45D,IAAT,IAAiBh7D,CAAC,CAACqB,aAAF,CAAgBD,QAAQ,CAAC41B,WAAzB,CAHzC;UAAA,IAIE;UACAgmC,SAAS,GAAID,aAAa,IAAI,CAACF,gBAAnB,GACR96D,MAAM,CAACiF,SAAP,CAAiBi2D,WAAjB,CAA6Bf,OAA7B,CADQ,GAERn6D,MAAM,CAACiH,GAAP,CAAWk0D,gBAAX,CAA4BhB,OAA5B,CAPN;UASAA,OAAO,GAAGn6D,MAAM,CAACiF,SAAP,CAAiBm2D,WAAjB,CAA6BH,SAA7B,CAAV;UACAh9D,CAAC,CAAC2D,IAAF,CAAOq5D,SAAP,EAAkB,UAASp5D,KAAT,EAAgB02D,GAAhB,EAAqB;YACrC,IACE8C,gBAAgB,GAAKJ,SAAS,CAAC97D,KAAV,CAAgB,CAAhB,EAAmB0C,KAAK,GAAG,CAA3B,CADvB;YAAA,IAEEy5D,WAAW,GAAUt7D,MAAM,CAACiF,SAAP,CAAiBm2D,WAAjB,CAA6BC,gBAA7B,CAFvB;YAAA,IAIEE,KAAK,GAAgBv7D,MAAM,CAAC4J,EAAP,CAAU2uD,GAAV,CAAc+C,WAAd,CAJvB;YAAA,IAKEE,WAAW,GAAW35D,KAAK,GAAG,CAAR,IAAao5D,SAAS,CAAC34D,MAL/C;YAAA,IAOEk4D,IAAI,GAAiBx6D,MAAM,CAACiH,GAAP,CAAWwzD,UAAX,CAAsBa,WAAtB,CAPvB;YAAA,IAQEG,OARF;YAAA,IASEC,aATF;YAAA,IAUEC,QAVF;YAAA,IAWEC,SAXF;YAaA57D,MAAM,CAACI,OAAP,CAAe,iBAAf,EAAkCm4D,GAAlC;;YACA,IAAGgD,KAAH,EAAU;cACRv7D,MAAM,CAACI,OAAP,CAAe,eAAf,EAAgCm4D,GAAhC,EADQ,CAER;;cACAK,aAAa,GAAI0C,WAAjB;cACAzC,cAAc,GAAG74D,MAAM,CAACiF,SAAP,CAAiB42D,WAAjB,CAA6BZ,SAA7B,EAAwCI,gBAAxC,CAAjB;;cAEA,IAAGG,WAAH,EAAgB;gBACdI,SAAS,GAAG,IAAZ;cACD,CAFD,MAGK;gBACHF,aAAa,GAAGT,SAAS,CAAC97D,KAAV,CAAgB,CAAhB,EAAmB0C,KAAK,GAAG,CAA3B,CAAhB;gBACA85D,QAAQ,GAAQ37D,MAAM,CAACiF,SAAP,CAAiBm2D,WAAjB,CAA6BM,aAA7B,CAAhB;gBACAE,SAAS,GAAS,CAAC57D,MAAM,CAAC4J,EAAP,CAAU2uD,GAAV,CAAcoD,QAAd,CAAnB;;gBACA,IAAGC,SAAH,EAAc;kBACZ57D,MAAM,CAACI,OAAP,CAAe,sBAAf,EAAuCs7D,aAAvC;gBACD;cACF;;cACD,IAAGE,SAAS,IAAIZ,aAAhB,EAA+B;gBAC7B,IAAG,CAACF,gBAAJ,EAAsB;kBACpB96D,MAAM,CAAC8gC,QAAP,CAAgBg7B,UAAhB,CAA2BR,WAA3B;kBACAt7D,MAAM,CAAC+7D,KAAP,CAAavjD,OAAb,CAAqB8iD,WAArB,EAAkCnB,OAAlC;gBACD,CAHD,MAIK;kBACHn6D,MAAM,CAACS,KAAP,CAAa,2CAAb,EAA0D66D,WAA1D;kBACA5C,SAAS,GAAG,KAAZ;kBACA14D,MAAM,CAACyC,KAAP,CAAaoN,GAAb,CAAiBsqD,OAAjB,EAA0BK,IAAI,CAAC9oD,IAAL,EAA1B;kBACA1R,MAAM,CAAC8gC,QAAP,CAAgBk7B,GAAhB,CAAoBV,WAApB;kBACAj8D,QAAQ,CAAC06D,WAAT,CAAqB36D,IAArB,CAA0Bo7D,IAAI,CAAC,CAAD,CAA9B,EAAmCc,WAAnC,EAAgDzC,cAAhD,EAAgEC,YAAhE;kBACAz5D,QAAQ,CAACw6D,MAAT,CAAgBz6D,IAAhB,CAAqBo7D,IAAI,CAAC,CAAD,CAAzB,EAA8Bc,WAA9B,EAA2CzC,cAA3C,EAA2DC,YAA3D;gBACD;;gBACD,OAAO,KAAP;cACD,CAdD,MAeK;gBACH94D,MAAM,CAACS,KAAP,CAAa,kBAAb,EAAiC66D,WAAjC;gBACAt7D,MAAM,CAAC8gC,QAAP,CAAgBk7B,GAAhB,CAAoBV,WAApB;;gBACA,IAAI,CAACt7D,MAAM,CAACyC,KAAP,CAAau/B,IAAb,CAAkBs5B,WAAlB,CAAL,EAAsC;kBACpCt7D,MAAM,CAACyC,KAAP,CAAaoN,GAAb,CAAiByrD,WAAjB,EAA8B,IAA9B;kBACAt7D,MAAM,CAACS,KAAP,CAAa,wCAAb;kBACApB,QAAQ,CAAC06D,WAAT,CAAqB36D,IAArB,CAA0Bo7D,IAAI,CAAC,CAAD,CAA9B,EAAmCc,WAAnC,EAAgDzC,cAAhD,EAAgEC,YAAhE;gBACD;;gBACDz5D,QAAQ,CAACw6D,MAAT,CAAgBz6D,IAAhB,CAAqBo7D,IAAI,CAAC,CAAD,CAAzB,EAA8Bc,WAA9B,EAA2CzC,cAA3C,EAA2DC,YAA3D;cACD;YAEF,CA3CD,MA4CK,IAAGqB,OAAO,CAACzrD,MAAR,CAAe,GAAf,KAAuB,CAAC,CAAxB,IAA6ByrD,OAAO,KAAK,EAA5C,EAAgD;cACnD;cACAA,OAAO,GAAGn6D,MAAM,CAACkN,MAAP,CAAcwC,MAAd,CAAqByqD,OAArB,CAAV;cACAsB,OAAO,GAAOx9D,CAAC,CAAC,MAAMk8D,OAAN,GAAgB,YAAhB,GAA+BA,OAA/B,GAAyC,IAA1C,CAAf;cACAmB,WAAW,GAAGG,OAAO,CAAClyD,OAAR,CAAgB,YAAhB,EAA8BxJ,IAA9B,CAAmC2G,QAAQ,CAAC6xD,GAA5C,CAAd;cACAiC,IAAI,GAAUx6D,MAAM,CAACiH,GAAP,CAAWwzD,UAAX,CAAsBa,WAAtB,CAAd,CALmD,CAMnD;;cACA,IAAGG,OAAO,IAAIA,OAAO,CAACn5D,MAAR,GAAiB,CAA5B,IAAiCg5D,WAApC,EAAiD;gBAC/Ct7D,MAAM,CAACS,KAAP,CAAa,sCAAb,EAAqD+5D,IAArD,EAA2DiB,OAA3D;;gBACA,IAAI,CAACjB,IAAI,CAACpwD,QAAL,CAAczD,SAAS,CAAC8S,MAAxB,CAAL,EAAuC;kBACrCnY,UAAU,CAAC,YAAW;oBACpBtB,MAAM,CAAC60D,QAAP,CAAgB4G,OAAhB;kBACD,CAFS,EAEP,CAFO,CAAV;gBAGD;;gBACDz7D,MAAM,CAAC8gC,QAAP,CAAgBk7B,GAAhB,CAAoBV,WAApB;;gBACA,IAAI,CAACt7D,MAAM,CAACyC,KAAP,CAAau/B,IAAb,CAAkBs5B,WAAlB,CAAL,EAAsC;kBACpCt7D,MAAM,CAACyC,KAAP,CAAaoN,GAAb,CAAiByrD,WAAjB,EAA8B,IAA9B;kBACAt7D,MAAM,CAACS,KAAP,CAAa,wCAAb;kBACApB,QAAQ,CAAC06D,WAAT,CAAqB36D,IAArB,CAA0Bo7D,IAAI,CAAC,CAAD,CAA9B,EAAmCc,WAAnC,EAAgDzC,cAAhD,EAAgEC,YAAhE;gBACD;;gBACDz5D,QAAQ,CAACw6D,MAAT,CAAgBz6D,IAAhB,CAAqBo7D,IAAI,CAAC,CAAD,CAAzB,EAA8Bc,WAA9B,EAA2CzC,cAA3C,EAA2DC,YAA3D;gBACA,OAAO,KAAP;cACD;YACF,CAvBI,MAwBA;cACH94D,MAAM,CAACP,KAAP,CAAaA,KAAK,CAACw8D,UAAnB,EAA+Br8D,OAA/B,EAAwCyxB,QAAxC,EAAkDiqC,WAAlD;cACA,OAAO,KAAP;YACD;UACF,CAvFD;QAwFD,CAzVM;QA2VPzG,QAAQ,EAAE,UAASzrD,QAAT,EAAmB;UAC3B,IACE8yD,YAAY,GAAI9yD,QAAQ,IAAIA,QAAQ,CAAC9G,MAAT,GAAkB,CAA/B,GACX8G,QAAQ,CAACsc,MAAT,GAAkBkgB,GADP,GAEX,KAHN;;UAKA,IAAGs2B,YAAY,KAAK,KAApB,EAA2B;YACzBl8D,MAAM,CAACS,KAAP,CAAa,mDAAb,EAAkEy7D,YAAlE,EAAgF9yD,QAAhF;YACAnL,CAAC,CAACE,QAAD,CAAD,CAAYkmC,SAAZ,CAAsB63B,YAAtB;UACD;QACF,CArWM;QAuWPv3C,MAAM,EAAE;UACNnM,OAAO,EAAE,UAAS2hD,OAAT,EAAkBzoD,IAAlB,EAAwByqD,eAAxB,EAAyC;YAChD,IACE3B,IAAI,GAAGx6D,MAAM,CAACiH,GAAP,CAAWwzD,UAAX,CAAsBN,OAAtB,CADT;YAAA,IAEE5B,GAAG,GAAIiC,IAAI,CAAC,CAAD,CAFb;YAIA2B,eAAe,GAAIA,eAAe,KAAK/9D,SAArB,GACd+9D,eADc,GAEd98D,QAAQ,CAAC88D,eAFb;;YAIA,IAAG,OAAO98D,QAAQ,CAAC+8D,SAAhB,IAA6B,QAA7B,IAAyC/8D,QAAQ,CAAC+8D,SAAT,CAAmB3lD,WAAnB,MAAoC,KAA7E,IAAsF,OAAO/E,IAAP,KAAgB,QAAzG,EAAmH;cACjH8oD,IAAI,CACD9uD,KADH,GAEGmS,MAFH,CAEU5f,CAAC,CAACyT,IAAD,CAAD,CAAQwwB,KAAR,CAAc,IAAd,CAFV;YAID,CALD,MAMK;cACH,IAAGi6B,eAAH,EAAoB;gBAClBn8D,MAAM,CAACS,KAAP,CAAa,6CAAb,EAA4D05D,OAA5D,EAAqEzoD,IAArE;gBACA8oD,IAAI,CAAC9oD,IAAL,CAAUA,IAAV;cACD,CAHD,MAIK;gBACH1R,MAAM,CAACS,KAAP,CAAa,eAAb,EAA8B05D,OAA9B,EAAuCzoD,IAAvC;gBACA6mD,GAAG,CAAC8D,SAAJ,GAAgB3qD,IAAhB;cACD;YACF;UACF;QA1BK,CAvWD;QAoYPqqD,KAAK,EAAE;UAELvjD,OAAO,EAAE,UAAS2hD,OAAT,EAAkBmC,WAAlB,EAA+B;YACtC,IACE9B,IAAI,GAAUx6D,MAAM,CAACiH,GAAP,CAAWwzD,UAAX,CAAsBN,OAAtB,CADhB;YAAA,IAEEllC,WAAW,GAAG;cACZsnC,QAAQ,EAAW,MADP;cAEZC,gBAAgB,EAAG,KAFP;cAGZx0D,EAAE,EAAiB,KAHP;cAIZvF,KAAK,EAAcpD,QAAQ,CAACo9D,aAJhB;cAKZC,OAAO,EAAY;gBACjB,YAAY;cADK,CALP;cAQZzpD,SAAS,EAAG,UAAS9O,QAAT,EAAmB;gBAC7B,IAAG9E,QAAQ,CAAC+8D,SAAT,IAAsB,UAAzB,EAAqC;kBACnCp8D,MAAM,CAACyC,KAAP,CAAaoN,GAAb,CAAiBysD,WAAjB,EAA8Bn4D,QAA9B;gBACD;;gBACDnE,MAAM,CAAC2kB,MAAP,CAAcnM,OAAd,CAAsB2hD,OAAtB,EAA+Bh2D,QAA/B;;gBACA,IAAGg2D,OAAO,IAAIvB,aAAd,EAA6B;kBAC3B54D,MAAM,CAACS,KAAP,CAAa,gBAAb,EAA+B05D,OAA/B;kBACAn6D,MAAM,CAAC8gC,QAAP,CAAgBy3B,GAAhB,CAAoB4B,OAApB;gBACD,CAHD,MAIK;kBACHn6D,MAAM,CAACS,KAAP,CAAa,8BAAb,EAA6C05D,OAA7C;gBACD;;gBACD96D,QAAQ,CAAC06D,WAAT,CAAqB36D,IAArB,CAA0Bo7D,IAAI,CAAC,CAAD,CAA9B,EAAmCL,OAAnC,EAA4CtB,cAA5C,EAA4DC,YAA5D;gBACAz5D,QAAQ,CAACw6D,MAAT,CAAgBz6D,IAAhB,CAAqBo7D,IAAI,CAAC,CAAD,CAAzB,EAA8BL,OAA9B,EAAuCtB,cAAvC,EAAuDC,YAAvD;;gBAEA,IAAGz5D,QAAQ,CAACs9D,QAAZ,EAAsB;kBACpB38D,MAAM,CAACyC,KAAP,CAAaoN,GAAb,CAAiBysD,WAAjB,EAA8B,IAA9B;gBACD,CAFD,MAGK,IAAG,OAAOj9D,QAAQ,CAAC+8D,SAAhB,IAA6B,QAA7B,IAAyC/8D,QAAQ,CAAC+8D,SAAT,CAAmB3lD,WAAnB,MAAoC,KAA7E,IAAsF+jD,IAAI,CAACppD,QAAL,GAAgB9O,MAAhB,GAAyB,CAAlH,EAAqH;kBACxHhB,UAAU,CAAC,YAAW;oBACpB,IACE+vD,MAAM,GAAGmJ,IAAI,CAACppD,QAAL,GAAgB8wB,KAAhB,CAAsB,IAAtB,CADX;oBAGAmvB,MAAM,GAAGA,MAAM,CAACt8C,GAAP,CAAW,QAAX,CAAT;oBACA/U,MAAM,CAACyC,KAAP,CAAaoN,GAAb,CAAiBysD,WAAjB,EAA8BjL,MAA9B;kBACD,CANS,EAMP,CANO,CAAV;gBAOD,CARI,MASA;kBACHrxD,MAAM,CAACyC,KAAP,CAAaoN,GAAb,CAAiBysD,WAAjB,EAA8B9B,IAAI,CAAC9oD,IAAL,EAA9B;gBACD;cACF,CAtCW;cAuCZwjB,OAAO,EAAE;gBACPqjC,GAAG,EAAE+D;cADE;YAvCG,CAFhB;YAAA,IA6CEM,OAAO,GAAWpC,IAAI,CAACxlC,GAAL,CAAS,aAAT,KAA2B,KA7C/C;YAAA,IA8CE6nC,eAAe,GAAKD,OAAO,IAAIA,OAAO,CAACxe,KAAR,OAAoB,SA9CrD;YAAA,IA+CE0e,eA/CF;YAAA,IAgDEC,aAhDF;YAmDAT,WAAW,GAAKA,WAAW,IAAInC,OAA/B;YACA4C,aAAa,GAAG/8D,MAAM,CAACyC,KAAP,CAAau/B,IAAb,CAAkBs6B,WAAlB,CAAhB;;YAGA,IAAGj9D,QAAQ,CAACoD,KAAT,IAAkBs6D,aAArB,EAAoC;cAClC/8D,MAAM,CAAC8gC,QAAP,CAAgBy3B,GAAhB,CAAoB4B,OAApB;cACAn6D,MAAM,CAACS,KAAP,CAAa,uBAAb,EAAsC67D,WAAtC;;cACA,IAAG,CAACj9D,QAAQ,CAACs9D,QAAb,EAAuB;gBACrB,IAAGt9D,QAAQ,CAAC88D,eAAT,IAA4B,MAA/B,EAAuC;kBACrCn8D,MAAM,CAAC2kB,MAAP,CAAcnM,OAAd,CAAsB2hD,OAAtB,EAA+B4C,aAA/B,EAA8C,KAA9C;gBACD,CAFD,MAGK;kBACH/8D,MAAM,CAAC2kB,MAAP,CAAcnM,OAAd,CAAsB2hD,OAAtB,EAA+B4C,aAA/B;gBACD;cACF;;cACD19D,QAAQ,CAACw6D,MAAT,CAAgBz6D,IAAhB,CAAqBo7D,IAAI,CAAC,CAAD,CAAzB,EAA8BL,OAA9B,EAAuCtB,cAAvC,EAAuDC,YAAvD;YACD,CAZD,MAaK,IAAG+D,eAAH,EAAoB;cACvB78D,MAAM,CAACoH,GAAP,CAAW89B,OAAX,CAAmBi1B,OAAnB;cACAn6D,MAAM,CAACS,KAAP,CAAa,4BAAb,EAA2C67D,WAA3C;YACD,CAHI,MAIA,IAAGr+D,CAAC,CAAC+2B,GAAF,KAAU52B,SAAb,EAAwB;cAC3B0+D,eAAe,GAAG7+D,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAe,EAAf,EAAmBF,QAAQ,CAAC41B,WAA5B,EAAyCA,WAAzC,CAAlB;cACAj1B,MAAM,CAACS,KAAP,CAAa,2BAAb,EAA0C67D,WAA1C,EAAuDQ,eAAvD;cACA98D,MAAM,CAACoH,GAAP,CAAW89B,OAAX,CAAmBi1B,OAAnB;cACAK,IAAI,CAACxlC,GAAL,CAAS8nC,eAAT;YACD,CALI,MAMA;cACH98D,MAAM,CAACP,KAAP,CAAaA,KAAK,CAACu1B,GAAnB;YACD;UACF;QApFI,CApYA;QA2dP8L,QAAQ,EAAE;UACRk7B,GAAG,EAAE,UAAS7B,OAAT,EAAkB;YACrBn6D,MAAM,CAAC8gC,QAAP,CAAgBy3B,GAAhB,CAAoB4B,OAApB;YACAn6D,MAAM,CAAC8gC,QAAP,CAAgBg7B,UAAhB,CAA2B3B,OAA3B;UACD,CAJO;UAKR5B,GAAG,EAAE,UAAS4B,OAAT,EAAkB;YACrB,IACEK,IAAI,GAAYx6D,MAAM,CAACiH,GAAP,CAAWwzD,UAAX,CAAsBN,OAAtB,CADlB;YAAA,IAEE6C,aAAa,GAAI39D,QAAQ,CAAC49D,UAAT,IAAuB,UAAxB,GACZzC,IAAI,CAACx9B,QAAL,CAAcy7B,KAAd,CADY,GAEZA,KAAK,CAAC1jD,GAAN,CAAUylD,IAAV,CAJN;YAAA,IAKEhhD,QAAQ,GAAQghD,IAAI,CAACpwD,QAAL,CAAczD,SAAS,CAAC8S,MAAxB,CALlB;YAOAzZ,MAAM,CAACI,OAAP,CAAe,yBAAf,EAA0Co6D,IAA1C;;YACA,IAAG,CAAChhD,QAAJ,EAAc;cACZghD,IAAI,CACDlpD,QADH,CACY3K,SAAS,CAAC8S,MADtB;cAGAujD,aAAa,CACV3yD,WADH,CACe1D,SAAS,CAAC8S,MAAV,GAAmB,GAAnB,GAAyB9S,SAAS,CAACu+B,OADlD;;cAGA,IAAGs1B,IAAI,CAACl4D,MAAL,GAAc,CAAjB,EAAoB;gBAClBjD,QAAQ,CAACye,SAAT,CAAmB1e,IAAnB,CAAwBo7D,IAAI,CAAC,CAAD,CAA5B,EAAiCL,OAAjC;cACD;YACF;UACF,CAzBO;UA0BR2B,UAAU,EAAE,UAAS3B,OAAT,EAAkB;YAC5B,IACE+C,WAAW,GAAWl9D,MAAM,CAACiH,GAAP,CAAWk2D,UAAX,CAAsBhD,OAAtB,CADxB;YAAA,IAEEiD,mBAAmB,GAAI/9D,QAAQ,CAAC49D,UAAT,IAAuB,UAAxB,GAClBC,WAAW,CAAClgC,QAAZ,CAAqBp3B,WAArB,CADkB,GAElBA,WAAW,CAACmP,GAAZ,CAAgBmoD,WAAhB,CAJN;YAAA,IAKE1jD,QAAQ,GAAM0jD,WAAW,CAAC9yD,QAAZ,CAAqBzD,SAAS,CAAC8S,MAA/B,CALhB;YAOAzZ,MAAM,CAACI,OAAP,CAAe,+BAAf,EAAgD88D,WAAhD,EAA6D/C,OAA7D;;YACA,IAAG,CAAC3gD,QAAJ,EAAc;cACZ0jD,WAAW,CACR5rD,QADH,CACY3K,SAAS,CAAC8S,MADtB;cAGA2jD,mBAAmB,CAChB/yD,WADH,CACe1D,SAAS,CAAC8S,MAAV,GAAmB,GAAnB,GAAyB9S,SAAS,CAACu+B,OADlD;YAGD;UACF;QA3CO,CA3dH;QAygBP+3B,UAAU,EAAE;UACVjB,GAAG,EAAE,YAAW;YACdh8D,MAAM,CAACi9D,UAAP,CAAkBnB,UAAlB;YACA97D,MAAM,CAACi9D,UAAP,CAAkBvD,IAAlB;UACD,CAJS;UAKVoC,UAAU,EAAE,YAAW;YACrBl2D,WAAW,CACRyE,WADH,CACe1D,SAAS,CAAC8S,MADzB;UAGD,CATS;UAUVigD,IAAI,EAAE,YAAW;YACfjB,KAAK,CACFpuD,WADH,CACe1D,SAAS,CAAC8S,MAAV,GAAmB,GAAnB,GAAyB9S,SAAS,CAACu+B,OADlD;UAGD;QAdS,CAzgBL;QA0hBPt7B,EAAE,EAAE;UACF2uD,GAAG,EAAE,UAAS8E,OAAT,EAAkB;YACrB,OAAQA,OAAO,KAAKj/D,SAAb,GACD4B,MAAM,CAACiH,GAAP,CAAWwzD,UAAX,CAAsB4C,OAAtB,EAA+B/6D,MAA/B,GAAwC,CADvC,GAEH,KAFJ;UAID;QANC,CA1hBG;QAmiBP2E,GAAG,EAAE;UACHoyD,WAAW,EAAE,YAAW;YACtB,OAAOzzD,WAAW,CAACwJ,EAAZ,CAAe,CAAf,EAAkBrP,IAAlB,CAAuB2G,QAAQ,CAAC6xD,GAAhC,KAAwCE,KAAK,CAACrpD,EAAN,CAAS,CAAT,EAAYrP,IAAZ,CAAiB2G,QAAQ,CAAC6xD,GAA1B,CAA/C;UACD,CAHE;UAIH5gB,IAAI,EAAE,YAAW;YACf,OAAO15C,CAAC,CAACg8D,OAAF,CAAU93D,KAAV,EAAP;UACD,CANE;UAOH;UACAg5D,gBAAgB,EAAE,UAAShB,OAAT,EAAkB;YAClC,OAAOn6D,MAAM,CAACiF,SAAP,CAAiBi2D,WAAjB,CAA8Bl7D,MAAM,CAACiH,GAAP,CAAWq2D,WAAX,CAAuBnD,OAAvB,CAA9B,CAAP;UACD,CAVE;UAWHmD,WAAW,EAAE,UAASnD,OAAT,EAAkB;YAC7B,IACEoD,WAAW,GAAG33D,WAAW,CAACoF,MAAZ,CAAmB,WAAWtE,QAAQ,CAAC6xD,GAApB,GAA0B,KAA1B,GAAkCv4D,MAAM,CAACkN,MAAP,CAAcwC,MAAd,CAAqByqD,OAArB,CAAlC,GAAkE,KAArF,EAA4F/qD,EAA5F,CAA+F,CAA/F,CADhB;YAAA,IAEEouD,UAAU,GAAID,WAAW,CAACx9D,IAAZ,CAAiB2G,QAAQ,CAAC6xD,GAA1B,KAAkC,KAFlD;;YAIA,IAAIiF,UAAJ,EAAiB;cACfx9D,MAAM,CAACS,KAAP,CAAa,mBAAb,EAAkC+8D,UAAlC;;cACA,IAAG7E,cAAc,GAAGt5D,QAAQ,CAAC4E,QAA7B,EAAuC;gBACrC00D,cAAc;gBACd,OAAO34D,MAAM,CAACiH,GAAP,CAAWq2D,WAAX,CAAuBE,UAAvB,CAAP;cACD;;cACDx9D,MAAM,CAACP,KAAP,CAAaA,KAAK,CAACg+D,SAAnB;YACD,CAPD,MAQK;cACHz9D,MAAM,CAACS,KAAP,CAAa,2BAAb,EAA0C05D,OAA1C,EAAmD1B,KAAnD;YACD;;YACDE,cAAc,GAAG,CAAjB;YACA,OAAOwB,OAAP;UACD,CA7BE;UA8BHgD,UAAU,EAAE,UAAShD,OAAT,EAAkB;YAC5BA,OAAO,GAAGA,OAAO,IAAIvB,aAArB;YACA,OAAOhzD,WAAW,CAACoF,MAAZ,CAAmB,WAAWtE,QAAQ,CAAC6xD,GAApB,GAA0B,IAA1B,GAAiCv4D,MAAM,CAACkN,MAAP,CAAcwC,MAAd,CAAqByqD,OAArB,CAAjC,GAAiE,IAApF,CAAP;UACD,CAjCE;UAkCHM,UAAU,EAAE,UAASN,OAAT,EAAkB;YAC5B,IACEuD,YADF,EAEEC,cAFF,EAGEC,YAHF,EAIEC,OAJF;YAMA1D,OAAO,GAAUA,OAAO,IAAIvB,aAA5B;YACAgF,YAAY,GAAK59D,MAAM,CAACiF,SAAP,CAAiBi2D,WAAjB,CAA6Bf,OAA7B,CAAjB;YACA0D,OAAO,GAAU79D,MAAM,CAACiF,SAAP,CAAiB45B,IAAjB,CAAsB++B,YAAtB,CAAjB;YACAF,YAAY,GAAKjF,KAAK,CAACztD,MAAN,CAAa,WAAWtE,QAAQ,CAAC6xD,GAApB,GAA0B,IAA1B,GAAiCv4D,MAAM,CAACkN,MAAP,CAAcwC,MAAd,CAAqByqD,OAArB,CAAjC,GAAiE,IAA9E,CAAjB;YACAwD,cAAc,GAAGlF,KAAK,CAACztD,MAAN,CAAa,WAAWtE,QAAQ,CAAC6xD,GAApB,GAA0B,IAA1B,GAAiCv4D,MAAM,CAACkN,MAAP,CAAcwC,MAAd,CAAqBmuD,OAArB,CAAjC,GAAiE,IAA9E,CAAjB;YACA,OAAQH,YAAY,CAACp7D,MAAb,GAAsB,CAAvB,GACHo7D,YADG,GAEHC,cAFJ;UAID,CAlDE;UAmDHpF,GAAG,EAAE,YAAW;YACd,OAAOK,aAAP;UACD;QArDE,CAniBE;QA2lBP5vD,SAAS,EAAE;UACTowD,SAAS,EAAE,YAAW;YACpB,IAAIA,SAAS,GAAG,IAAhB;YAEAX,KAAK,CAAC72D,IAAN,CAAW,UAASoP,MAAT,EAAiBunD,GAAjB,EAAsB;cAC/B,IAAIiC,IAAI,GAAGv8D,CAAC,CAACs6D,GAAD,CAAZ;;cAEA,IAAIiC,IAAI,CAACpwD,QAAL,CAAczD,SAAS,CAAC8S,MAAxB,CAAJ,EAAsC;gBACpC,IACE0gD,OAAO,GAAGl8D,CAAC,CAAC,IAAD,CAAD,CAAQ8B,IAAR,CAAa2G,QAAQ,CAAC6xD,GAAtB,CADZ;gBAAA,IAEEkD,OAAO,GAAG71D,WAAW,CAACoF,MAAZ,CAAmB,WAAWtE,QAAQ,CAAC6xD,GAApB,GAA0B,IAA1B,GAAiCv4D,MAAM,CAACkN,MAAP,CAAcwC,MAAd,CAAqByqD,OAArB,CAAjC,GAAiE,IAApF,CAFZ;;gBAKA,IAAIsB,OAAO,CAACrxD,QAAR,CAAiBzD,SAAS,CAAC8S,MAA3B,CAAJ,EAAyC;kBACvC2/C,SAAS,GAAGe,OAAZ;gBACD;cACF;YACF,CAbD;YAeA,OAAOf,SAAP;UACD;QApBQ,CA3lBJ;QAknBPn0D,SAAS,EAAE;UACT42D,WAAW,EAAE,UAASiC,SAAT,EAAoBC,WAApB,EAAiC;YAC5C,OAAO9/D,CAAC,CAACgT,IAAF,CAAO6sD,SAAP,EAAkB,UAASE,SAAT,EAAoB;cAC3C,OAAS//D,CAAC,CAAC+Z,OAAF,CAAUgmD,SAAV,EAAqBD,WAArB,KAAqC,CAAC,CAA/C;YACD,CAFM,CAAP;UAGD,CALQ;UAMTl/B,IAAI,EAAE,UAAS0C,KAAT,EAAgB;YACpB,OAAO78B,KAAK,CAACC,OAAN,CAAc48B,KAAd,IACHA,KAAK,CAAEA,KAAK,CAACj/B,MAAN,GAAe,CAAjB,CADF,GAEH,KAFJ;UAID,CAXQ;UAYT44D,WAAW,EAAE,UAAS+C,QAAT,EAAmB;YAC9B,IAAGA,QAAQ,KAAK7/D,SAAhB,EAA2B;cACzB6/D,QAAQ,GAAGrF,aAAX;YACD;;YACD,OAAO,OAAOqF,QAAP,IAAmB,QAAnB,GACHA,QAAQ,CAAC75D,KAAT,CAAe,GAAf,CADG,GAEH,CAAC65D,QAAD,CAFJ;UAID,CApBQ;UAqBT7C,WAAW,EAAE,UAASH,SAAT,EAAoB;YAC/B,OAAOv2D,KAAK,CAACC,OAAN,CAAcs2D,SAAd,IACHA,SAAS,CAACpqC,IAAV,CAAe,GAAf,CADG,GAEH,KAFJ;UAID;QA1BQ,CAlnBJ;QA+oBP3uB,OAAO,EAAE,UAASV,IAAT,EAAeW,KAAf,EAAsB;UAC7BnC,MAAM,CAACS,KAAP,CAAa,kBAAb,EAAiCe,IAAjC,EAAuCW,KAAvC;;UACA,IAAIlE,CAAC,CAACqB,aAAF,CAAgBkC,IAAhB,CAAJ,EAA4B;YAC1BvD,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAeF,QAAf,EAAyBmC,IAAzB;UACD,CAFD,MAGK,IAAGW,KAAK,KAAK/D,SAAb,EAAwB;YAC3B,IAAGH,CAAC,CAACqB,aAAF,CAAgBD,QAAQ,CAACmC,IAAD,CAAxB,CAAH,EAAoC;cAClCvD,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAeF,QAAQ,CAACmC,IAAD,CAAvB,EAA+BW,KAA/B;YACD,CAFD,MAGK;cACH9C,QAAQ,CAACmC,IAAD,CAAR,GAAiBW,KAAjB;YACD;UACF,CAPI,MAQA;YACH,OAAO9C,QAAQ,CAACmC,IAAD,CAAf;UACD;QACF,CA/pBM;QAgqBPsB,QAAQ,EAAE,UAAStB,IAAT,EAAeW,KAAf,EAAsB;UAC9B,IAAIlE,CAAC,CAACqB,aAAF,CAAgBkC,IAAhB,CAAJ,EAA4B;YAC1BvD,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAeS,MAAf,EAAuBwB,IAAvB;UACD,CAFD,MAGK,IAAGW,KAAK,KAAK/D,SAAb,EAAwB;YAC3B4B,MAAM,CAACwB,IAAD,CAAN,GAAeW,KAAf;UACD,CAFI,MAGA;YACH,OAAOnC,MAAM,CAACwB,IAAD,CAAb;UACD;QACF,CA1qBM;QA2qBPf,KAAK,EAAE,YAAW;UAChB,IAAG,CAACpB,QAAQ,CAACgV,MAAV,IAAoBhV,QAAQ,CAACoB,KAAhC,EAAuC;YACrC,IAAGpB,QAAQ,CAACP,WAAZ,EAAyB;cACvBkB,MAAM,CAAClB,WAAP,CAAmB4B,GAAnB,CAAuB1B,SAAvB;YACD,CAFD,MAGK;cACHgB,MAAM,CAACS,KAAP,GAAesC,QAAQ,CAACC,SAAT,CAAmBC,IAAnB,CAAwB7D,IAAxB,CAA6BmB,OAAO,CAACmC,IAArC,EAA2CnC,OAA3C,EAAoDlB,QAAQ,CAACmC,IAAT,GAAgB,GAApE,CAAf;cACAxB,MAAM,CAACS,KAAP,CAAayC,KAAb,CAAmB3C,OAAnB,EAA4BvB,SAA5B;YACD;UACF;QACF,CArrBM;QAsrBPoB,OAAO,EAAE,YAAW;UAClB,IAAG,CAACf,QAAQ,CAACgV,MAAV,IAAoBhV,QAAQ,CAACe,OAA7B,IAAwCf,QAAQ,CAACoB,KAApD,EAA2D;YACzD,IAAGpB,QAAQ,CAACP,WAAZ,EAAyB;cACvBkB,MAAM,CAAClB,WAAP,CAAmB4B,GAAnB,CAAuB1B,SAAvB;YACD,CAFD,MAGK;cACHgB,MAAM,CAACI,OAAP,GAAiB2C,QAAQ,CAACC,SAAT,CAAmBC,IAAnB,CAAwB7D,IAAxB,CAA6BmB,OAAO,CAACmC,IAArC,EAA2CnC,OAA3C,EAAoDlB,QAAQ,CAACmC,IAAT,GAAgB,GAApE,CAAjB;cACAxB,MAAM,CAACI,OAAP,CAAe8C,KAAf,CAAqB3C,OAArB,EAA8BvB,SAA9B;YACD;UACF;QACF,CAhsBM;QAisBPS,KAAK,EAAE,YAAW;UAChB,IAAG,CAACJ,QAAQ,CAACgV,MAAb,EAAqB;YACnBrU,MAAM,CAACP,KAAP,GAAesD,QAAQ,CAACC,SAAT,CAAmBC,IAAnB,CAAwB7D,IAAxB,CAA6BmB,OAAO,CAACd,KAArC,EAA4Cc,OAA5C,EAAqDlB,QAAQ,CAACmC,IAAT,GAAgB,GAArE,CAAf;YACAxB,MAAM,CAACP,KAAP,CAAayD,KAAb,CAAmB3C,OAAnB,EAA4BvB,SAA5B;UACD;QACF,CAtsBM;QAusBPF,WAAW,EAAE;UACX4B,GAAG,EAAE,UAASyC,OAAT,EAAkB;YACrB,IACEC,WADF,EAEEC,aAFF,EAGEC,YAHF;;YAKA,IAAGjE,QAAQ,CAACP,WAAZ,EAAyB;cACvBsE,WAAW,GAAK,IAAIxE,IAAJ,GAAWC,OAAX,EAAhB;cACAyE,YAAY,GAAI3E,IAAI,IAAIyE,WAAxB;cACAC,aAAa,GAAGD,WAAW,GAAGE,YAA9B;cACA3E,IAAI,GAAYyE,WAAhB;cACAtE,WAAW,CAACgD,IAAZ,CAAiB;gBACf,QAAmBqB,OAAO,CAAC,CAAD,CADX;gBAEf,aAAmB,GAAGhE,KAAH,CAASC,IAAT,CAAc+D,OAAd,EAAuB,CAAvB,KAA6B,EAFjC;gBAGf,WAAmBtD,OAHJ;gBAIf,kBAAmBwD;cAJJ,CAAjB;YAMD;;YACDE,YAAY,CAACvD,MAAM,CAAClB,WAAP,CAAmB0E,KAApB,CAAZ;YACAxD,MAAM,CAAClB,WAAP,CAAmB0E,KAAnB,GAA2BlC,UAAU,CAACtB,MAAM,CAAClB,WAAP,CAAmB2E,OAApB,EAA6B,GAA7B,CAArC;UACD,CArBU;UAsBXA,OAAO,EAAE,YAAW;YAClB,IACEC,KAAK,GAAGrE,QAAQ,CAACmC,IAAT,GAAgB,GAD1B;YAAA,IAEEmC,SAAS,GAAG,CAFd;YAIAhF,IAAI,GAAG,KAAP;YACA4E,YAAY,CAACvD,MAAM,CAAClB,WAAP,CAAmB0E,KAApB,CAAZ;YACAvF,CAAC,CAAC2D,IAAF,CAAO9C,WAAP,EAAoB,UAAS+C,KAAT,EAAgB9B,IAAhB,EAAsB;cACxC4D,SAAS,IAAI5D,IAAI,CAAC,gBAAD,CAAjB;YACD,CAFD;YAGA2D,KAAK,IAAI,MAAMC,SAAN,GAAkB,IAA3B;;YACA,IAAGkC,cAAH,EAAmB;cACjBnC,KAAK,IAAI,QAAQmC,cAAR,GAAyB,IAAlC;YACD;;YACD,IAAI,CAACtF,OAAO,CAACK,KAAR,KAAkBxC,SAAlB,IAA+BmC,OAAO,CAACqD,KAAR,KAAkBxF,SAAlD,KAAgEU,WAAW,CAACwD,MAAZ,GAAqB,CAAzF,EAA4F;cAC1F/B,OAAO,CAACO,cAAR,CAAuB4C,KAAvB;;cACA,IAAGnD,OAAO,CAACqD,KAAX,EAAkB;gBAChBrD,OAAO,CAACqD,KAAR,CAAc9E,WAAd;cACD,CAFD,MAGK;gBACHb,CAAC,CAAC2D,IAAF,CAAO9C,WAAP,EAAoB,UAAS+C,KAAT,EAAgB9B,IAAhB,EAAsB;kBACxCQ,OAAO,CAACG,GAAR,CAAYX,IAAI,CAAC,MAAD,CAAJ,GAAe,IAAf,GAAsBA,IAAI,CAAC,gBAAD,CAA1B,GAA6C,IAAzD;gBACD,CAFD;cAGD;;cACDQ,OAAO,CAACM,QAAR;YACD;;YACD/B,WAAW,GAAG,EAAd;UACD;QAjDU,CAvsBN;QA0vBP+E,MAAM,EAAE,UAAS9E,KAAT,EAAgB+E,eAAhB,EAAiCC,OAAjC,EAA0C;UAChD,IACEC,MAAM,GAAGlE,QADX;UAAA,IAEEmE,QAFF;UAAA,IAGEC,KAHF;UAAA,IAIEC,QAJF;UAMAL,eAAe,GAAGA,eAAe,IAAI5E,cAArC;UACA6E,OAAO,GAAWlE,OAAO,IAAYkE,OAArC;;UACA,IAAG,OAAOhF,KAAP,IAAgB,QAAhB,IAA4BiF,MAAM,KAAK5F,SAA1C,EAAqD;YACnDW,KAAK,GAAMA,KAAK,CAACqF,KAAN,CAAY,OAAZ,CAAX;YACAH,QAAQ,GAAGlF,KAAK,CAACuD,MAAN,GAAe,CAA1B;YACArE,CAAC,CAAC2D,IAAF,CAAO7C,KAAP,EAAc,UAASsF,KAAT,EAAgBlC,KAAhB,EAAuB;cACnC,IAAImC,cAAc,GAAID,KAAK,IAAIJ,QAAV,GACjB9B,KAAK,GAAGpD,KAAK,CAACsF,KAAK,GAAG,CAAT,CAAL,CAAiBE,MAAjB,CAAwB,CAAxB,EAA2BC,WAA3B,EAAR,GAAmDzF,KAAK,CAACsF,KAAK,GAAG,CAAT,CAAL,CAAiBlF,KAAjB,CAAuB,CAAvB,CADlC,GAEjBJ,KAFJ;;cAIA,IAAId,CAAC,CAACqB,aAAF,CAAiB0E,MAAM,CAACM,cAAD,CAAvB,KAA8CD,KAAK,IAAIJ,QAA3D,EAAuE;gBACrED,MAAM,GAAGA,MAAM,CAACM,cAAD,CAAf;cACD,CAFD,MAGK,IAAIN,MAAM,CAACM,cAAD,CAAN,KAA2BlG,SAA/B,EAA2C;gBAC9C8F,KAAK,GAAGF,MAAM,CAACM,cAAD,CAAd;gBACA,OAAO,KAAP;cACD,CAHI,MAIA,IAAIrG,CAAC,CAACqB,aAAF,CAAiB0E,MAAM,CAAC7B,KAAD,CAAvB,KAAqCkC,KAAK,IAAIJ,QAAlD,EAA8D;gBACjED,MAAM,GAAGA,MAAM,CAAC7B,KAAD,CAAf;cACD,CAFI,MAGA,IAAI6B,MAAM,CAAC7B,KAAD,CAAN,KAAkB/D,SAAtB,EAAkC;gBACrC8F,KAAK,GAAGF,MAAM,CAAC7B,KAAD,CAAd;gBACA,OAAO,KAAP;cACD,CAHI,MAIA;gBACHnC,MAAM,CAACP,KAAP,CAAaA,KAAK,CAACgF,MAAnB,EAA2B1F,KAA3B;gBACA,OAAO,KAAP;cACD;YACF,CAvBD;UAwBD;;UACD,IAAKd,CAAC,CAACI,UAAF,CAAc6F,KAAd,CAAL,EAA6B;YAC3BC,QAAQ,GAAGD,KAAK,CAAChB,KAAN,CAAYa,OAAZ,EAAqBD,eAArB,CAAX;UACD,CAFD,MAGK,IAAGI,KAAK,KAAK9F,SAAb,EAAwB;YAC3B+F,QAAQ,GAAGD,KAAX;UACD;;UACD,IAAGQ,KAAK,CAACC,OAAN,CAAc1E,aAAd,CAAH,EAAiC;YAC/BA,aAAa,CAAC6B,IAAd,CAAmBqC,QAAnB;UACD,CAFD,MAGK,IAAGlE,aAAa,KAAK7B,SAArB,EAAgC;YACnC6B,aAAa,GAAG,CAACA,aAAD,EAAgBkE,QAAhB,CAAhB;UACD,CAFI,MAGA,IAAGA,QAAQ,KAAK/F,SAAhB,EAA2B;YAC9B6B,aAAa,GAAGkE,QAAhB;UACD;;UACD,OAAOD,KAAP;QACD;MA/yBM,CAAT;;MAizBA,IAAGjF,aAAH,EAAkB;QAChB,IAAGa,QAAQ,KAAK1B,SAAhB,EAA2B;UACzB4B,MAAM,CAACE,UAAP;QACD;;QACDF,MAAM,CAAC6D,MAAP,CAAc9E,KAAd;MACD,CALD,MAMK;QACH,IAAGe,QAAQ,KAAK1B,SAAhB,EAA2B;UACzB0B,QAAQ,CAAC+D,MAAT,CAAgB,SAAhB;QACD;;QACD7D,MAAM,CAACE,UAAP;MACD;IACF,CAh2BH;IAk2BA,OAAQD,aAAa,KAAK7B,SAAnB,GACH6B,aADG,GAEH,IAFJ;EAKD,CA33BD,CAlB4C,CA+4B5C;;;EACAhC,CAAC,CAACs6D,GAAF,GAAQ,YAAW;IACjBt6D,CAAC,CAACC,MAAD,CAAD,CAAUq6D,GAAV,CAAcr1D,KAAd,CAAoB,IAApB,EAA0BlE,SAA1B;EACD,CAFD;;EAIAf,CAAC,CAACQ,EAAF,CAAK85D,GAAL,CAASl5D,QAAT,GAAoB;IAElBmC,IAAI,EAAc,KAFA;IAGlBhC,SAAS,EAAS,KAHA;IAKlB6U,MAAM,EAAY,KALA;IAMlB5T,KAAK,EAAa,KANA;IAOlBL,OAAO,EAAW,KAPA;IAQlBtB,WAAW,EAAO,IARA;IAUlBm6D,IAAI,EAAc,KAVA;IAUY;IAC9BjyD,OAAO,EAAW,KAXA;IAWY;IAC9BkzD,WAAW,EAAO,MAZA;IAYY;IAC9BviB,IAAI,EAAc,KAbA;IAaY;IAE9B5zC,OAAO,EAAW,KAfA;IAeY;IAC9B01D,YAAY,EAAM,KAhBA;IAgBY;IAC9Bx1D,QAAQ,EAAU,EAjBA;IAiBY;IAE9Bg5D,UAAU,EAAQ,UAnBA;IAmBY;IAE9BR,aAAa,EAAK,KArBA;IAqBY;IAC9Bh6D,KAAK,EAAa,IAtBA;IAsBY;IAC9Bk6D,QAAQ,EAAU,KAvBA;IAuBY;IAC9BP,SAAS,EAAS,UAxBA;IAwBY;IAC9BrB,eAAe,EAAG,KAzBA;IAyBY;IAE9B9lC,WAAW,EAAO,KA3BA;IA2BY;IAC9BknC,eAAe,EAAG,MA5BA;IA4BY;IAC9BhD,iBAAiB,EAAE,IA7BD;IA6BY;IAE9BY,WAAW,EAAG,UAASI,OAAT,EAAkBtB,cAAlB,EAAkCC,YAAlC,EAAgD,CAAE,CA/B9C;IA+BgD;IAClEe,MAAM,EAAQ,UAASM,OAAT,EAAkBtB,cAAlB,EAAkCC,YAAlC,EAAgD,CAAE,CAhC9C;IAgCgD;IAClEh7C,SAAS,EAAK,UAASq8C,OAAT,EAAkBtB,cAAlB,EAAkCC,YAAlC,EAAgD,CAAE,CAjC9C;IAiCgD;IAClE6B,SAAS,EAAK,UAASR,OAAT,EAAkBtB,cAAlB,EAAkCC,YAAlC,EAAgD,CAAE,CAlC9C;IAkCgD;IAElEvnD,SAAS,EAAG;MACV+oD,cAAc,EAAE,UAAS4D,QAAT,EAAmB,CAAE,CAD3B,CAC4B;;IAD5B,CApCM;IAwClBz+D,KAAK,EAAE;MACLu1B,GAAG,EAAU,kDADR;MAELvwB,MAAM,EAAO,sCAFR;MAGLw3D,UAAU,EAAG,yDAHR;MAILkC,SAAS,EAAI,iDAJR;MAKLxmB,IAAI,EAAS,4CALR;MAML8lB,SAAS,EAAI,6BANR;MAOLzD,UAAU,EAAG,4EAPR;MAQLF,UAAU,EAAG,sEARR;MASL1b,KAAK,EAAQ;IATR,CAxCW;IAoDlBx3C,MAAM,EAAG;MACPsG,MAAM,EAAK;IADJ,CApDS;IAwDlBxG,QAAQ,EAAG;MACT6xD,GAAG,EAAM,KADA;MAET6F,MAAM,EAAG,QAFA;MAGTC,OAAO,EAAE;IAHA,CAxDO;IA8DlB13D,SAAS,EAAK;MACZu+B,OAAO,EAAG,SADE;MAEZzrB,MAAM,EAAI;IAFE,CA9DI;IAmElB3T,QAAQ,EAAM;MACZ4zD,IAAI,EAAG,SADK;MAEZF,EAAE,EAAK;IAFK;EAnEI,CAApB;AA0EC,CA99BA,EA89BGh0D,MA99BH,EA89BWtH,MA99BX,EA89BmBC,QA99BnB;AAg+BD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA;;AAAC,CAAC,UAAUF,CAAV,EAAaC,MAAb,EAAqBC,QAArB,EAA+BC,SAA/B,EAA0C;EAE5C;;EAEAH,CAAC,CAACI,UAAF,GAAeJ,CAAC,CAACI,UAAF,IAAgB,UAASC,GAAT,EAAc;IAC3C,OAAO,OAAOA,GAAP,KAAe,UAAf,IAA6B,OAAOA,GAAG,CAACC,QAAX,KAAwB,QAA5D;EACD,CAFD;;EAIAL,MAAM,GAAI,OAAOA,MAAP,IAAiB,WAAjB,IAAgCA,MAAM,CAACuH,IAAP,IAAeA,IAAhD,GACLvH,MADK,GAEJ,OAAOwH,IAAP,IAAe,WAAf,IAA8BA,IAAI,CAACD,IAAL,IAAaA,IAA5C,GACEC,IADF,GAEE3C,QAAQ,CAAC,aAAD,CAAR,EAJN;;EAOA9E,CAAC,CAACQ,EAAF,CAAK6/D,KAAL,GAAa,UAAS5/D,UAAT,EAAqB;IAChC,IACEkH,WAAW,GAAM3H,CAAC,CAAC,IAAD,CADpB;IAAA,IAEE4H,cAAc,GAAGD,WAAW,CAACE,QAAZ,IAAwB,EAF3C;IAAA,IAIEnH,IAAI,GAAa,IAAIC,IAAJ,GAAWC,OAAX,EAJnB;IAAA,IAKEC,WAAW,GAAM,EALnB;IAAA,IAOEC,KAAK,GAAYC,SAAS,CAAC,CAAD,CAP5B;IAAA,IAQEC,aAAa,GAAK,OAAOF,KAAP,IAAgB,QARpC;IAAA,IASEG,cAAc,GAAG,GAAGC,KAAH,CAASC,IAAT,CAAcJ,SAAd,EAAyB,CAAzB,CATnB;IAAA,IAUEiB,aAVF;IAYA2F,WAAW,CACRhE,IADH,CACQ,YAAW;MACf,IACEvC,QAAQ,GAAcpB,CAAC,CAACqB,aAAF,CAAgBZ,UAAhB,CAAF,GAChBT,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAe,EAAf,EAAmBtB,CAAC,CAACQ,EAAF,CAAK6/D,KAAL,CAAWj/D,QAA9B,EAAwCX,UAAxC,CADgB,GAEhBT,CAAC,CAACsB,MAAF,CAAS,EAAT,EAAatB,CAAC,CAACQ,EAAF,CAAK6/D,KAAL,CAAWj/D,QAAxB,CAHN;MAAA,IAKEsH,SAAS,GAAUtH,QAAQ,CAACsH,SAL9B;MAAA,IAMEb,QAAQ,GAAWzG,QAAQ,CAACyG,QAN9B;MAAA,IAOErG,KAAK,GAAcJ,QAAQ,CAACI,KAP9B;MAAA,IAQED,SAAS,GAAUH,QAAQ,CAACG,SAR9B;MAAA,IASE4O,MAAM,GAAa/O,QAAQ,CAAC+O,MAT9B;MAAA,IAWEvH,cAAc,GAAK,MAAMrH,SAX3B;MAAA,IAYEE,eAAe,GAAIF,SAAS,GAAG,SAZjC;MAAA,IAcEI,OAAO,GAAY3B,CAAC,CAAC,IAAD,CAdtB;MAAA,IAeEsgE,SAfF;MAAA,IAgBEC,MAhBF;MAAA,IAiBEjvB,QAjBF;MAAA,IAkBEsS,SAlBF;MAAA,IAmBE4c,YAnBF;MAAA,IAoBEC,gBApBF;MAAA,IAqBEjwB,MArBF;MAAA,IAsBEpd,QAAQ,GAAYhyB,QAAQ,CAAC0E,OAAV,GACf9F,CAAC,CAACoB,QAAQ,CAAC0E,OAAV,CADc,GAEf9F,CAAC,CAAC,MAAD,CAxBP;MAAA,IA0BE0gE,gBAAgB,GAAG/+D,OAAO,CAACwK,QAAR,CAAiB,OAAjB,KAA6BxK,OAAO,CAACwK,QAAR,CAAiB,SAAjB,CAA7B,IAA4DxK,OAAO,CAACwK,QAAR,CAAiB,MAAjB,CA1BjF;MAAA,IA4BEvK,OAAO,GAAY,IA5BrB;MAAA,IA6BEC,QAAQ,GAAW6+D,gBAAgB,GAAG/+D,OAAO,CAACG,IAAR,CAAaL,eAAb,CAAH,GAAmCtB,SA7BxE;MAAA,IA+BE4B,MA/BF;MAiCAA,MAAM,GAAG;QAEPE,UAAU,EAAE,YAAW;UACrBF,MAAM,CAACI,OAAP,CAAe,sBAAf;;UACA,IAAI,CAACJ,MAAM,CAAC6Q,GAAP,CAAWgQ,SAAX,EAAL,EAA6B;YAC3B7gB,MAAM,CAACsd,MAAP,CAAcuD,SAAd;UACD;;UACD,IAAG89C,gBAAgB,IAAIt/D,QAAQ,CAAC8D,OAAT,KAAqB,EAAzC,IAA+C9D,QAAQ,CAACqE,KAAT,KAAmB,EAAlE,IAAwE1D,MAAM,CAACiH,GAAP,CAAWikC,SAAX,OAA2B,EAAnG,IAAyG7rC,QAAQ,CAACu/D,SAAlH,IAA+H5+D,MAAM,CAAC6Q,GAAP,CAAWy+B,aAAX,EAAlI,EAA8J;YAC5J,IAAG,OAAOjwC,QAAQ,CAACw/D,YAAhB,KAAiC,QAAjC,IAA6C,CAACl4D,SAAS,CAACi/B,GAAX,EAAej/B,SAAS,CAACsxC,MAAzB,EAAiClpC,OAAjC,CAAyC1P,QAAQ,CAACw/D,YAAlD,MAAoE,CAAC,CAArH,EAAyH;cACvHx/D,QAAQ,CAACw/D,YAAT,GAAwB,KAAxB;YACD;;YACD7+D,MAAM,CAACsd,MAAP,CAAcghD,KAAd;;YACA,IAAGj/D,QAAQ,CAACy/D,YAAT,KAA0Bz/D,QAAQ,CAAC4wC,SAAT,IAAsBhyC,CAAC,CAACugE,MAAD,CAAD,CAAU/2D,IAAV,CAAe3B,QAAQ,CAACgH,KAAxB,EAA+BxK,MAA/B,GAAwC,CAA9D,IAAmEtC,MAAM,CAAC6Q,GAAP,CAAWy+B,aAAX,EAA7F,CAAH,EAA4H;cAC1HjwC,QAAQ,CAACy/D,YAAT,GAAwB,KAAxB;YACD;;YACD,IAAG,CAACz/D,QAAQ,CAACy/D,YAAb,EAA2B;cACzBP,SAAS,CAACjtD,QAAV,CAAmB3K,SAAS,CAACo4D,WAA7B;YACD;;YACD/+D,MAAM,CAACiD,IAAP,CAAYyV,MAAZ;UACD;;UACD1Y,MAAM,CAACG,WAAP;;UACA,IAAGo+D,SAAH,EAAc;YACZv+D,MAAM,CAACqsB,IAAP;UACD;QACF,CAxBM;QA0BPlsB,WAAW,EAAE,YAAW;UACtBH,MAAM,CAACI,OAAP,CAAe,2BAAf;UACAN,QAAQ,GAAGE,MAAX;UACAJ,OAAO,CACFG,IADL,CACUL,eADV,EAC2BI,QAD3B;QAGD,CAhCM;QAkCP8C,OAAO,EAAE,YAAW;UAClB,IAAG27D,SAAH,EAAc;YACZv+D,MAAM,CAACS,KAAP,CAAa,gBAAb,EAA+B89D,SAA/B;YACAv+D,MAAM,CAACud,MAAP,CAAc7E,MAAd;YACA6lD,SAAS,CAACj0D,MAAV;YACAi0D,SAAS,GAAGngE,SAAZ;YACAogE,MAAM,GAAGpgE,SAAT;YACAsgE,gBAAgB,GAAGtgE,SAAnB;YACAiB,QAAQ,CAAC8oC,QAAT,CAAkB/oC,IAAlB,CAAuBm/D,SAAvB,EAAkC1+D,OAAlC;YACAgiD,SAAS,GAAGzjD,SAAZ;YACAqgE,YAAY,GAAGrgE,SAAf;YACAqwC,MAAM,GAAGrwC,SAAT;UACD;;UACDwB,OAAO,CACJiD,UADH,CACcnD,eADd;QAGD,CAlDM;QAoDP2sB,IAAI,EAAE,UAAShrB,QAAT,EAAmB;UACvBA,QAAQ,GAAGA,QAAQ,IAAI,YAAU,CAAE,CAAnC;;UACArB,MAAM,CAACS,KAAP,CAAa,eAAb;;UACA,IAAGpB,QAAQ,CAAC4e,MAAT,CAAgB7e,IAAhB,CAAqBm/D,SAArB,EAAgC1+D,OAAhC,MAA6C,KAAhD,EAAuD;YACrDG,MAAM,CAACS,KAAP,CAAa,4DAAb;YACA;UACD;;UACDT,MAAM,CAAC0a,OAAP,CAAe2R,IAAf,CAAoBhrB,QAApB;QACD,CA5DM;QA8DPwY,KAAK,EAAE,UAASxY,QAAT,EAAmB;UACxBA,QAAQ,GAAGA,QAAQ,IAAI,YAAU,CAAE,CAAnC;;UACArB,MAAM,CAACsK,MAAP,CAAcipB,OAAd;UACAvzB,MAAM,CAACud,MAAP,CAAc7E,MAAd;UACA1Y,MAAM,CAAC0a,OAAP,CAAeb,KAAf,CAAqBxY,QAArB;QAED,CApEM;QAsEPic,MAAM,EAAE;UACNuD,SAAS,EAAE,YAAW;YACpB7gB,MAAM,CAACI,OAAP,CAAe,oBAAf;YACAixB,QAAQ,CAACxT,MAAT,CAAgB5f,CAAC,CAAC,QAAD,EAAU;cAACgmB,KAAK,EAAE5kB,QAAQ,CAACykB,QAAT,GAAoB,GAApB,GAA0Bnd,SAAS,CAACka,SAApC,GAAgD,GAAhD,IAAsDxhB,QAAQ,CAAC2/D,UAAT,GAAsBr4D,SAAS,CAACq4D,UAAhC,GAA6C,EAAnG;YAAR,CAAV,CAAjB;UACD,CAJK;UAKNV,KAAK,EAAE,YAAW;YAChBC,SAAS,GAAGtgE,CAAC,CAAC,QAAD,EAAW;cAACgmB,KAAK,EAAEtd,SAAS,CAAC0rD;YAAlB,CAAX,CAAb;YACA,IAAInnB,SAAS,GAAGlrC,MAAM,CAACiH,GAAP,CAAWikC,SAAX,EAAhB;;YACA,IAAI,CAACyzB,gBAAL,EAAuB;cACrB3+D,MAAM,CAACI,OAAP,CAAe,gBAAf;cACAo+D,MAAM,GAAGvgE,CAAC,CAAC,QAAD,CAAV;cACA,IAAIsa,QAAQ,GAAGta,CAAC,CAAC,QAAD,EAAW;gBAACgmB,KAAK,EAAEtd,SAAS,CAAC6R;cAAlB,CAAX,CAAhB;;cACA,IAAI0yB,SAAS,KAAK,EAAlB,EAAsB;gBACpBszB,MAAM,CAAC3gD,MAAP,CAAc5f,CAAC,CAAC,MAAD,EAAS;kBAACgmB,KAAK,EAAEinB,SAAS,GAAG,GAAZ,GAAkBvkC,SAAS,CAACgrB;gBAApC,CAAT,CAAf;cACD;;cAED,IAAItyB,QAAQ,CAACu/D,SAAb,EAAwB;gBACtBJ,MAAM,CAAC3gD,MAAP,CAAc5f,CAAC,CAAC,OAAD,EAAU;kBACvBgmB,KAAK,EAAEtd,SAAS,CAACqkC,KAAV,GAAkB,GAAlB,GAAwB3rC,QAAQ,CAAC4/D,UADjB;kBAEvB/wB,GAAG,EAAE7uC,QAAQ,CAACu/D;gBAFS,CAAV,CAAf;cAID;;cACD,IAAIv/D,QAAQ,CAACqE,KAAT,KAAmB,EAAvB,EAA2B;gBACzB6U,QAAQ,CAACsF,MAAT,CAAgB5f,CAAC,CAAC,QAAD,EAAW;kBAC1BgmB,KAAK,EAAEtd,SAAS,CAACjD,KADS;kBAE1BiK,IAAI,EAAEtO,QAAQ,CAACqE;gBAFW,CAAX,CAAjB;cAID;;cAED6U,QAAQ,CAACsF,MAAT,CAAgB5f,CAAC,CAAC,QAAD,EAAW;gBAACgmB,KAAK,EAAEtd,SAAS,CAACxD,OAAlB;gBAA2BuO,IAAI,EAAE1R,MAAM,CAACmvC,OAAP,CAAejiC,MAAf,CAAsB7N,QAAQ,CAAC8D,OAA/B,EAAwC9D,QAAQ,CAACu2B,YAAjD;cAAjC,CAAX,CAAjB;cAEA4oC,MAAM,CACHltD,QADH,CACYjS,QAAQ,CAAC4kB,KAAT,GAAiB,GAAjB,GAAuBtd,SAAS,CAAC23D,KAD7C,EAEGzgD,MAFH,CAEUtF,QAFV;cAIAimD,MAAM,CAACziD,GAAP,CAAW,SAAX,EAAsB1c,QAAQ,CAACsb,OAA/B;;cACA,IAAItb,QAAQ,CAAC4wC,SAAb,EAAwB;gBACtBxB,MAAM,GAAGxwC,CAAC,CAAC,MAAD,EAAS;kBAACgmB,KAAK,EAAEtd,SAAS,CAACkT,KAAV,GAAkB,GAAlB,IAAyB,OAAOxa,QAAQ,CAAC4wC,SAAhB,KAA8B,QAA9B,GAAyC5wC,QAAQ,CAAC4wC,SAAlD,GAA8D,EAAvF;gBAAR,CAAT,CAAV;;gBACA,IAAGxB,MAAM,CAACrkC,QAAP,CAAgBzD,SAAS,CAACgf,IAA1B,CAAH,EAAoC;kBAClC64C,MAAM,CAACluB,OAAP,CAAe7B,MAAf;gBACD,CAFD,MAEO;kBACL+vB,MAAM,CAAC3gD,MAAP,CAAc4wB,MAAd;gBACD;cACF;YACF,CApCD,MAoCO;cACL+vB,MAAM,GAAGn/D,QAAQ,CAAC6/D,WAAT,GAAuBt/D,OAAO,CAACsiC,KAAR,GAAgB1uB,UAAhB,CAA2B,IAA3B,CAAvB,GAA0D5T,OAAnE;cACA6uC,MAAM,GAAG+vB,MAAM,CAAC/2D,IAAP,CAAY,QAAMzH,MAAM,CAACmvC,OAAP,CAAegwB,OAAf,CAAuBx4D,SAAS,CAACkT,KAAjC,CAAlB,CAAT;cACAxa,QAAQ,CAAC4wC,SAAT,GAAsBxB,MAAM,CAACnsC,MAAP,GAAgB,CAAtC;;cACA,IAAI4oC,SAAS,KAAK,EAAlB,EAAsB;gBACpBszB,MAAM,CAAC/2D,IAAP,CAAY3B,QAAQ,CAAC6rB,IAArB,EAA2B9e,IAA3B,CAAgC,OAAhC,EAAwCq4B,SAAS,GAAG,GAAZ,GAAkBvkC,SAAS,CAACgrB,IAApE;cACD;;cACD,IAAItyB,QAAQ,CAACu/D,SAAb,EAAwB;gBACtBJ,MAAM,CAAC/2D,IAAP,CAAY3B,QAAQ,CAACklC,KAArB,EAA4Bn4B,IAA5B,CAAiC,KAAjC,EAAuCxT,QAAQ,CAACu/D,SAAhD;cACD;;cACD,IAAIv/D,QAAQ,CAACqE,KAAT,KAAmB,EAAvB,EAA2B;gBACzB86D,MAAM,CAAC/2D,IAAP,CAAY3B,QAAQ,CAACpC,KAArB,EAA4BgO,IAA5B,CAAiC1R,MAAM,CAACmvC,OAAP,CAAejiC,MAAf,CAAsB7N,QAAQ,CAACqE,KAA/B,EAAsCrE,QAAQ,CAACu2B,YAA/C,CAAjC;cACD;;cACD,IAAIv2B,QAAQ,CAAC8D,OAAT,KAAqB,EAAzB,EAA6B;gBAC3Bq7D,MAAM,CAAC/2D,IAAP,CAAY3B,QAAQ,CAAC3C,OAArB,EAA8BuO,IAA9B,CAAmC1R,MAAM,CAACmvC,OAAP,CAAejiC,MAAf,CAAsB7N,QAAQ,CAAC8D,OAA/B,EAAwC9D,QAAQ,CAACu2B,YAAjD,CAAnC;cACD;YACF;;YACD,IAAI4oC,MAAM,CAACp0D,QAAP,CAAgBzD,SAAS,CAACy4D,OAA1B,CAAJ,EAAwC;cACtC//D,QAAQ,CAAC+/D,OAAT,GAAmB,IAAnB;YACD;;YACD,IAAIZ,MAAM,CAACp0D,QAAP,CAAgB,MAAhB,CAAJ,EAA6B;cAC3B/K,QAAQ,CAAC+/D,OAAT,GAAmB,KAAnB;YACD;;YACD7vB,QAAQ,GAAGivB,MAAM,CAAC/2D,IAAP,CAAY,UAAZ,CAAX;;YACA,IAAIzH,MAAM,CAAC6Q,GAAP,CAAWy+B,aAAX,EAAJ,EAAgC;cAC9B,IAAIC,QAAQ,CAACjtC,MAAT,KAAoB,CAAxB,EAA2B;gBACzBitC,QAAQ,GAAGtxC,CAAC,CAAC,QAAD,EAAW;kBAACgmB,KAAK,EAAEtd,SAAS,CAAC6oC,OAAV,GAAoB,GAApB,IAA2BnwC,QAAQ,CAACowC,YAAT,IAAyB,EAApD;gBAAR,CAAX,CAAD,CAA8Eh+B,QAA9E,CAAuF+sD,MAAvF,CAAX;cACD;;cACD,IAAGA,MAAM,CAACp0D,QAAP,CAAgB,MAAhB,KAA2B,CAACmlC,QAAQ,CAACnlC,QAAT,CAAkBzD,SAAS,CAAC04D,QAA5B,CAA/B,EAAsE;gBACpE9vB,QAAQ,CAACj+B,QAAT,CAAkB3K,SAAS,CAAC24D,YAA5B;;gBACA,IAAG/vB,QAAQ,CAACnlC,QAAT,CAAkBzD,SAAS,CAAC6/C,QAA5B,CAAH,EAA0C;kBACxCjX,QAAQ,CAACllC,WAAT,CAAqB1D,SAAS,CAAC6/C,QAA/B;kBACAxmD,MAAM,CAACP,KAAP,CAAaA,KAAK,CAAC8/D,YAAnB;gBACD;cACF;;cACDlgE,QAAQ,CAACmwC,OAAT,CAAiB3oB,OAAjB,CAAyB,UAAUte,EAAV,EAAc;gBACrC,IAAIopB,IAAI,GAAGppB,EAAE,CAAC6F,MAAM,CAACujB,IAAR,CAAF,GAAkB,eAAe3xB,MAAM,CAACmvC,OAAP,CAAe/T,OAAf,CAAuB7yB,EAAE,CAAC6F,MAAM,CAACujB,IAAR,CAAzB,CAAf,GAAyD,aAA3E,GAA2F,EAAtG;gBAAA,IACEhkB,IAAI,GAAG3N,MAAM,CAACmvC,OAAP,CAAejiC,MAAf,CAAsB3E,EAAE,CAAC6F,MAAM,CAACT,IAAR,CAAF,IAAmB,EAAzC,EAA6CtO,QAAQ,CAACu2B,YAAtD,CADT;gBAAA,IAEE8Z,GAAG,GAAG1vC,MAAM,CAACmvC,OAAP,CAAe/T,OAAf,CAAuB7yB,EAAE,CAAC6F,MAAM,CAAC6V,KAAR,CAAF,IAAoB,EAA3C,CAFR;gBAAA,IAGEhL,KAAK,GAAG1Q,EAAE,CAAC6F,MAAM,CAAC6K,KAAR,CAAF,IAAoBhb,CAAC,CAACI,UAAF,CAAakK,EAAE,CAAC6F,MAAM,CAAC6K,KAAR,CAAf,CAApB,GAAqD1Q,EAAE,CAAC6F,MAAM,CAAC6K,KAAR,CAAvD,GAAwE,YAAY,CAAE,CAHhG;gBAIAs2B,QAAQ,CAAC1xB,MAAT,CAAgB5f,CAAC,CAAC,WAAD,EAAc;kBAC7ByT,IAAI,EAAEigB,IAAI,GAAGhkB,IADgB;kBAE7BsW,KAAK,EAAEtd,SAAS,CAACgpC,MAAV,GAAmB,GAAnB,GAAyBD,GAFH;kBAG7Bz2B,KAAK,EAAE,YAAY;oBACjB,IAAIA,KAAK,CAAC7Z,IAAN,CAAWS,OAAX,EAAoBD,OAApB,MAAiC,KAArC,EAA4C;sBAC1C;oBACD;;oBACDI,MAAM,CAAC6Z,KAAP;kBACD;gBAR4B,CAAd,CAAjB;cAUD,CAfD;YAgBD;;YACD,IAAI01B,QAAQ,IAAIA,QAAQ,CAACnlC,QAAT,CAAkBzD,SAAS,CAAC6/C,QAA5B,CAAhB,EAAuD;cACnDgY,MAAM,CAACltD,QAAP,CAAgB3K,SAAS,CAAC6/C,QAA1B;YACH;;YACD,IAAGjX,QAAQ,CAACjtC,MAAT,GAAkB,CAAlB,IAAuB,CAACitC,QAAQ,CAACnlC,QAAT,CAAkBzD,SAAS,CAAC04D,QAA5B,CAA3B,EAAkE;cAChE,IAAI9vB,QAAQ,KAAK,CAACA,QAAQ,CAACnlC,QAAT,CAAkBzD,SAAS,CAACo2C,KAA5B,CAAD,IAAuCxN,QAAQ,CAACnlC,QAAT,CAAkBzD,SAAS,CAACgf,IAA5B,CAA5C,CAAZ,EAA4F;gBAC1F64C,MAAM,CAACltD,QAAP,CAAgB3K,SAAS,CAAC6oC,OAA1B;cACD;YACF;;YACD,IAAGnwC,QAAQ,CAACq3C,WAAT,KAAyB,MAA5B,EAAmC;cACjCr3C,QAAQ,CAACq3C,WAAT,GAAuBjxC,IAAI,CAAC+Q,GAAL,CAASnX,QAAQ,CAACmgE,cAAlB,EAAkChB,MAAM,CAAC7wD,IAAP,GAAcvJ,KAAd,CAAoB,GAApB,EAAyB9B,MAAzB,GAAkCjD,QAAQ,CAACogE,cAA3C,GAA4D,KAA9F,CAAvB;YACD;;YACDlB,SAAS,CAAC1gD,MAAV,CAAiB2gD,MAAjB;;YAEA,IAAGjvB,QAAQ,CAACjtC,MAAT,GAAkB,CAAlB,IAAuBitC,QAAQ,CAACnlC,QAAT,CAAkBzD,SAAS,CAAC04D,QAA5B,CAA1B,EAAiE;cAC/D9vB,QAAQ,CAACj+B,QAAT,CAAkB3K,SAAS,CAACwf,OAA5B;cACAopB,QAAQ,CAACxgB,MAAT;cACAyvC,MAAM,CAACltD,QAAP,CAAgB3K,SAAS,CAAC04D,QAA1B;;cACA,IAAI,CAAC9vB,QAAQ,CAACnlC,QAAT,CAAkBzD,SAAS,CAAC6/C,QAA5B,CAAL,EAA4C;gBAC1C,IAAIjX,QAAQ,CAACnlC,QAAT,CAAkBzD,SAAS,CAACi/B,GAA5B,CAAJ,EAAsC;kBACpC24B,SAAS,CAACjuB,OAAV,CAAkBf,QAAlB;kBACAivB,MAAM,CAACltD,QAAP,CAAgB3K,SAAS,CAACsxC,MAA1B;gBACD,CAHD,MAGO;kBACLsmB,SAAS,CAAC1gD,MAAV,CAAiB0xB,QAAjB;kBACAivB,MAAM,CAACltD,QAAP,CAAgB3K,SAAS,CAACi/B,GAA1B;gBACD;cACF,CARD,MAQO;gBACL44B,MAAM,CAACkB,IAAP,CACEzhE,CAAC,CAAC,QAAD,EAAU;kBACTgmB,KAAK,EAACtd,SAAS,CAAC6/C,QAAV,GAAqB,GAArB,GACA7/C,SAAS,CAAC04D,QADV,GACqB,GADrB,IAEChgE,QAAQ,CAAC+/D,OAAT,GAAmBz4D,SAAS,CAACy4D,OAA7B,GAAuC,EAFxC;gBADG,CAAV,CADH;;gBAOA,IAAG7vB,QAAQ,CAACnlC,QAAT,CAAkBzD,SAAS,CAACgf,IAA5B,CAAH,EAAsC;kBACpC64C,MAAM,CAACltD,QAAP,CAAgB3K,SAAS,CAACgf,IAA1B,EAAgCtc,MAAhC,GAAyCiI,QAAzC,CAAkD3K,SAAS,CAACgf,IAA5D,EAAkE2qB,OAAlE,CAA0Ef,QAA1E;gBACD,CAFD,MAEO;kBACLivB,MAAM,CAACn1D,MAAP,GAAgBwU,MAAhB,CAAuB0xB,QAAvB;gBACD;cACF;YACF;;YACD,IAAG3vC,OAAO,KAAK4+D,MAAf,EAAuB;cACrB5+D,OAAO,GAAG4+D,MAAV;cACA3+D,OAAO,GAAG2+D,MAAM,CAAC,CAAD,CAAhB;YACD;;YACD,IAAGn/D,QAAQ,CAACq3C,WAAT,GAAuB,CAA1B,EAA6B;cAC3B,IAAIipB,gBAAgB,GAAGh5D,SAAS,CAACi5D,WAAV,GAAsB,GAAtB,IAA2BvgE,QAAQ,CAACwgE,YAAT,GAAwBl5D,SAAS,CAACm5D,QAAlC,GAA2C,EAAtE,CAAvB;;cACA,IAAI,CAAC,CAACzgE,QAAQ,CAACw/D,YAAf,EAA6B;gBAC3Bhd,SAAS,GAAG5jD,CAAC,CAAC,QAAD,EAAW;kBACtBgmB,KAAK,EAAEtd,SAAS,CAACu2C,QAAV,GAAqB,GAArB,IAA4B79C,QAAQ,CAAC0gE,aAAT,IAA0B1gE,QAAQ,CAAC4kB,KAA/D,CADe;kBAEtB,gBAAgB;gBAFM,CAAX,CAAb;;gBAIA,IAAG,CAAC5kB,QAAQ,CAAC0gE,aAAb,EAA4B;kBAC1B,IAAIvB,MAAM,CAACp0D,QAAP,CAAgB,OAAhB,KAA4B,CAACo0D,MAAM,CAACp0D,QAAP,CAAgBzD,SAAS,CAACsW,QAA1B,CAAjC,EAAsE;oBACpE4kC,SAAS,CAACvwC,QAAV,CAAmB3K,SAAS,CAACsW,QAA7B;kBACD,CAFD,MAEO;oBACL4kC,SAAS,CAACx3C,WAAV,CAAsB1D,SAAS,CAACsW,QAAhC;kBACD;gBACF;;gBACDwhD,YAAY,GAAGxgE,CAAC,CAAC,QAAD,EAAW;kBAACgmB,KAAK,EAAE,UAAQ5kB,QAAQ,CAAC2gE,UAAT,GAAsB,KAAtB,GAA8B,OAAtC,IAA+CL;gBAAvD,CAAX,CAAhB;gBACA9d,SAAS,CACJvwC,QADL,CACcjS,QAAQ,CAACw/D,YADvB,EAEKhhD,MAFL,CAEY4gD,YAFZ;;gBAGA,IAAI5c,SAAS,CAACz3C,QAAV,CAAmBzD,SAAS,CAACi/B,GAA7B,CAAJ,EAAuC;kBACrC24B,SAAS,CAACjuB,OAAV,CAAkBuR,SAAlB;gBACD,CAFD,MAEO;kBACL0c,SAAS,CAAC1gD,MAAV,CAAiBgkC,SAAjB;gBACD;;gBACD4c,YAAY,CAAC1iD,GAAb,CAAiB,oBAAjB,EAAuC1c,QAAQ,CAACq3C,WAAT,GAAuB,IAAvB,GAA8B,GAArE;cACD;;cACDgoB,gBAAgB,GAAGzgE,CAAC,CAAC,SAAD,EAAW;gBAACgmB,KAAK,EAAC,UAAQ07C;cAAf,CAAX,CAApB;cACAjB,gBAAgB,CAAC3iD,GAAjB,CAAqB,oBAArB,EAA2C1c,QAAQ,CAACq3C,WAAT,GAAuB,IAAvB,GAA8B,GAAzE;cACAgoB,gBAAgB,CAACjtD,QAAjB,CAA0B+sD,MAA1B;YACD;;YACD,IAAIn/D,QAAQ,CAAC+/D,OAAb,EAAsB;cACpBb,SAAS,CAACjtD,QAAV,CAAmB3K,SAAS,CAACy4D,OAA7B;cACAZ,MAAM,CAACltD,QAAP,CAAgB3K,SAAS,CAACy4D,OAA1B;;cACA,IAAGvd,SAAH,EAAc;gBACZA,SAAS,CAACvwC,QAAV,CAAmB3K,SAAS,CAACy4D,OAA7B;cACD;YACF;;YACD,IAAI//D,QAAQ,CAAC4gE,WAAb,EAA0B;cACxB1B,SAAS,CAACzoC,SAAV,CAAoB91B,MAAM,CAACiH,GAAP,CAAW4Z,SAAX,EAApB;YACD,CAFD,MAGK;cACH09C,SAAS,CAAC9sD,QAAV,CAAmBzR,MAAM,CAACiH,GAAP,CAAW4Z,SAAX,EAAnB;YACD;UACF;QAtLK,CAtED;QA+PP5d,IAAI,EAAE;UACJyV,MAAM,EAAE,YAAW;YACjB1Y,MAAM,CAACS,KAAP,CAAa,yBAAb;;YACA,IAAGpB,QAAQ,CAACy/D,YAAT,IAAyBz/D,QAAQ,CAAC4wC,SAArC,EAAgD;cAC9C,CAAC5wC,QAAQ,CAAC4wC,SAAT,GAAqBxB,MAArB,GAA8B+vB,MAA/B,EACKx2D,EADL,CACQ,UAAUnB,cADlB,EACkC7G,MAAM,CAACiI,KAAP,CAAagR,KAD/C;YAGD;;YACD,IAAGylD,gBAAH,EAAqB;cACnBA,gBAAgB,CAAC12D,EAAjB,CAAoB,iBAAiBnB,cAArC,EAAqD7G,MAAM,CAAC6Z,KAA5D;YACD;;YACD0kD,SAAS,CACNv2D,EADH,CACM,UAAUnB,cADhB,EACgCf,QAAQ,CAAC8qC,OADzC,EACkD5wC,MAAM,CAACiI,KAAP,CAAa2oC,OAD/D,EAEG5oC,EAFH,CAEM,UAAUnB,cAFhB,EAEgCf,QAAQ,CAAC+qC,IAFzC,EAE+C7wC,MAAM,CAACiI,KAAP,CAAa4oC,IAF5D;UAID;QAfG,CA/PC;QAiRPtzB,MAAM,EAAE;UACN7E,MAAM,EAAE,YAAW;YACjB1Y,MAAM,CAACS,KAAP,CAAa,2BAAb;;YACA,IAAGpB,QAAQ,CAACy/D,YAAT,IAAyBz/D,QAAQ,CAAC4wC,SAArC,EAAgD;cAC9C,CAAC5wC,QAAQ,CAAC4wC,SAAT,GAAqBxB,MAArB,GAA8B+vB,MAA/B,EACK9xD,GADL,CACS,UAAU7F,cADnB;YAGD;;YACD,IAAG63D,gBAAH,EAAqB;cACnBA,gBAAgB,CAAChyD,GAAjB,CAAqB,iBAAiB7F,cAAtC;YACD;;YACD03D,SAAS,CACN7xD,GADH,CACO,UAAU7F,cADjB;UAGD;QAdK,CAjRD;QAkSP6T,OAAO,EAAE;UACP2R,IAAI,EAAE,UAAShrB,QAAT,EAAmB;YACvBA,QAAQ,GAAGpD,CAAC,CAACI,UAAF,CAAagD,QAAb,IAAyBA,QAAzB,GAAoC,YAAU,CAAE,CAA3D;;YACA,IAAGhC,QAAQ,CAACsS,UAAT,IAAuB3R,MAAM,CAACgK,GAAP,CAAWC,UAAX,CAAsB,YAAtB,CAAvB,IAA8DrK,OAAO,CAAC+R,UAAR,CAAmB,cAAnB,CAAjE,EAAqG;cACnG3R,MAAM,CAACoH,GAAP,CAAWmsB,OAAX;cACAgrC,SAAS,CACN5sD,UADH,CACc;gBACV0I,SAAS,EAAIhb,QAAQ,CAACsS,UAAT,CAAoBwe,UAApB,GAAiC,KADpC;gBAEV7V,KAAK,EAAQ,KAFH;gBAGV7Z,KAAK,EAAQpB,QAAQ,CAACoB,KAHZ;gBAIVL,OAAO,EAAMf,QAAQ,CAACe,OAJZ;gBAKVwR,QAAQ,EAAKvS,QAAQ,CAACsS,UAAT,CAAoB8e,YALvB;gBAMVhW,UAAU,EAAG,YAAW;kBACtBpZ,QAAQ,CAACjC,IAAT,CAAcm/D,SAAd,EAAyB1+D,OAAzB;kBACAR,QAAQ,CAACye,SAAT,CAAmB1e,IAAnB,CAAwBm/D,SAAxB,EAAmC1+D,OAAnC;gBACD;cATS,CADd;YAaD;UACF,CAnBM;UAoBPga,KAAK,EAAE,UAASxY,QAAT,EAAmB;YACxBA,QAAQ,GAAGpD,CAAC,CAACI,UAAF,CAAagD,QAAb,IAAyBA,QAAzB,GAAoC,YAAU,CAAE,CAA3D;YACArB,MAAM,CAACS,KAAP,CAAa,eAAb;;YACA,IAAGpB,QAAQ,CAACqf,MAAT,CAAgBtf,IAAhB,CAAqBm/D,SAArB,EAAgC1+D,OAAhC,MAA6C,KAAhD,EAAuD;cACrDG,MAAM,CAACS,KAAP,CAAa,4DAAb;cACA;YACD;;YACD,IAAGpB,QAAQ,CAACsS,UAAT,IAAuB1T,CAAC,CAACQ,EAAF,CAAKkT,UAAL,KAAoBvT,SAA3C,IAAwDwB,OAAO,CAAC+R,UAAR,CAAmB,cAAnB,CAA3D,EAA+F;cAC7F4sD,SAAS,CACN5sD,UADH,CACc;gBACV0I,SAAS,EAAIhb,QAAQ,CAACsS,UAAT,CAAoB4e,UAApB,GAAiC,MADpC;gBAEVjW,KAAK,EAAQ,KAFH;gBAGV1I,QAAQ,EAAKvS,QAAQ,CAACsS,UAAT,CAAoB6e,YAHvB;gBAIV/vB,KAAK,EAAQpB,QAAQ,CAACoB,KAJZ;gBAKVL,OAAO,EAAMf,QAAQ,CAACe,OALZ;gBAMV+9C,QAAQ,EAAK,EANH;gBAQV+hB,YAAY,EAAE,UAAS7+D,QAAT,EAAkB;kBAC5BA,QAAQ,GAAGpD,CAAC,CAACI,UAAF,CAAagD,QAAb,IAAuBA,QAAvB,GAAkC,YAAU,CAAE,CAAzD;;kBACA,IAAGhC,QAAQ,CAACsS,UAAT,CAAoBwuD,WAApB,KAAoC,EAAvC,EAA0C;oBACtC,IAAG5B,SAAH,EAAc;sBACZA,SAAS,CAACxiD,GAAV,CAAc,SAAd,EAAyB,CAAzB;sBACAwiD,SAAS,CAACmB,IAAV,CAAe,QAAf,EAAyBr2D,MAAzB,GAAkC+iB,IAAlC,CAAuC/sB,QAAQ,CAACsS,UAAT,CAAoByuD,aAA3D,EAA0E/gE,QAAQ,CAACsS,UAAT,CAAoBwuD,WAA9F,EAA2G,YAAY;wBACrH,IAAI5B,SAAJ,EAAe;0BACbA,SAAS,CAACl1D,MAAV,GAAmBiB,MAAnB;0BACAjJ,QAAQ,CAACjC,IAAT,CAAcm/D,SAAd;wBACD;sBACF,CALD;oBAMD;kBACJ,CAVD,MAUO;oBACLl9D,QAAQ,CAACjC,IAAT,CAAcm/D,SAAd;kBACD;gBACJ,CAvBS;gBAwBV9jD,UAAU,EAAG,YAAW;kBACtBpZ,QAAQ,CAACjC,IAAT,CAAcm/D,SAAd,EAAyB1+D,OAAzB;kBACAR,QAAQ,CAAC2e,QAAT,CAAkB5e,IAAlB,CAAuBm/D,SAAvB,EAAkC1+D,OAAlC;kBACAG,MAAM,CAAC4C,OAAP;gBACD;cA5BS,CADd;YAgCD,CAjCD,MAkCK;cACH5C,MAAM,CAACP,KAAP,CAAaA,KAAK,CAAC0qC,YAAnB;YACD;UACF,CAhEM;UAiEPk2B,KAAK,EAAE,YAAW;YAChB3B,gBAAgB,CAAC3iD,GAAjB,CAAqB,oBAArB,EAA0C,QAA1C;;YACA,IAAG0iD,YAAH,EAAiB;cACfA,YAAY,CAAC1iD,GAAb,CAAiB,oBAAjB,EAAuC,QAAvC;YACD;UACF,CAtEM;UAuEPukD,QAAQ,EAAE,YAAW;YACnB5B,gBAAgB,CAAC3iD,GAAjB,CAAqB,oBAArB,EAA0C,SAA1C;;YACA,IAAG0iD,YAAH,EAAiB;cACfA,YAAY,CAAC1iD,GAAb,CAAiB,oBAAjB,EAAuC,SAAvC;YACD;UACF;QA5EM,CAlSF;QAiXPlL,GAAG,EAAE;UACHgQ,SAAS,EAAE,YAAW;YACpB7gB,MAAM,CAACI,OAAP,CAAe,6CAAf;YACA,OAAQixB,QAAQ,CAAC5pB,IAAT,CAAczH,MAAM,CAACmvC,OAAP,CAAegwB,OAAf,CAAuB9/D,QAAQ,CAACykB,QAAhC,IAA4Che,QAAQ,CAAC+a,SAArD,IAAkExhB,QAAQ,CAAC2/D,UAAT,GAAsBh/D,MAAM,CAACmvC,OAAP,CAAegwB,OAAf,CAAuBx4D,SAAS,CAACq4D,UAAjC,CAAtB,GAAqE,EAAvI,CAAd,EAA0J18D,MAA1J,GAAmK,CAA3K;UACD,CAJE;UAKHg8D,KAAK,EAAE,YAAU;YACf,OAAO,CAAC,CAACt+D,MAAM,CAACiH,GAAP,CAAWq3D,KAAX,EAAT;UACD,CAPE;UAQHiC,MAAM,EAAE,YAAU;YAChB,OAAOvgE,MAAM,CAACiH,GAAP,CAAWs5D,MAAX,GAAoBj+D,MAApB,GAA6B,CAApC;UACD,CAVE;UAWHgtC,aAAa,EAAE,YAAY;YACzB,OAAO5qC,KAAK,CAACC,OAAN,CAActF,QAAQ,CAACmwC,OAAvB,KAAmCnwC,QAAQ,CAACmwC,OAAT,CAAiBltC,MAAjB,GAA0B,CAApE;UACD;QAbE,CAjXE;QAiYP2E,GAAG,EAAE;UACH4Z,SAAS,EAAE,YAAW;YACpB,OAAQwQ,QAAQ,CAAC5pB,IAAT,CAAczH,MAAM,CAACmvC,OAAP,CAAegwB,OAAf,CAAuB9/D,QAAQ,CAACykB,QAAhC,IAA4Che,QAAQ,CAAC+a,SAAnE,EAA8E,CAA9E,CAAR;UACD,CAHE;UAIH2/C,QAAQ,EAAE,YAAW;YACnB,OAAOjC,SAAS,IAAI,IAApB;UACD,CANE;UAOHD,KAAK,EAAE,YAAW;YAChB,OAAOE,MAAM,IAAI,IAAjB;UACD,CATE;UAUH+B,MAAM,EAAE,YAAW;YACjB,OAAOtiE,CAAC,CAAC+B,MAAM,CAACiH,GAAP,CAAW4Z,SAAX,EAAD,CAAD,CAA0BpZ,IAA1B,CAA+B3B,QAAQ,CAACusD,GAAxC,CAAP;UACD,CAZE;UAaHnnB,SAAS,EAAE,YAAW;YACpB,OAAO,OAAO7rC,QAAQ,CAACohE,QAAhB,KAA6B,QAA7B,GAAwCphE,QAAQ,CAACohE,QAAjD,GAA4DphE,QAAQ,CAACohE,QAAT,IAAqBphE,QAAQ,CAACqhE,KAAT,CAAerhE,QAAQ,CAAC4kB,KAAxB,CAArB,GAAsD5kB,QAAQ,CAACqhE,KAAT,CAAerhE,QAAQ,CAAC4kB,KAAxB,CAAtD,GAAuF,EAA1J;UACD,CAfE;UAgBH08C,aAAa,EAAE,YAAW;YACxB,OAAOjC,gBAAgB,GAAGA,gBAAgB,CAAC3iD,GAAjB,CAAqB,SAArB,IAAkC1c,QAAQ,CAACq3C,WAA9C,GAA4D,CAAnF;UACD;QAlBE,CAjYE;QAsZPtvC,GAAG,EAAE;UACHmsB,OAAO,EAAE,YAAW;YAClBirC,MAAM,CAACltD,QAAP,CAAgB3K,SAAS,CAAC4sB,OAA1B;UACD;QAHE,CAtZE;QA4ZPjpB,MAAM,EAAE;UACNipB,OAAO,EAAE,YAAW;YAClBirC,MAAM,CAACn0D,WAAP,CAAmB1D,SAAS,CAAC4sB,OAA7B;UACD;QAHK,CA5ZD;QAkaPtrB,KAAK,EAAE;UACLgR,KAAK,EAAE,UAAShR,KAAT,EAAgB;YACrB,IAAGhK,CAAC,CAACgK,KAAK,CAACie,MAAP,CAAD,CAAgB3c,OAAhB,CAAwB,GAAxB,EAA6BjH,MAA7B,KAAwC,CAA3C,EAA8C;cAC5CjD,QAAQ,CAACuhE,OAAT,CAAiBxhE,IAAjB,CAAsBm/D,SAAtB,EAAiC1+D,OAAjC;cACAG,MAAM,CAAC6Z,KAAP;YACD;UACF,CANI;UAOL+2B,OAAO,EAAE,YAAW;YAClB,IAAGvxC,QAAQ,CAAC+xC,SAAT,CAAmBhyC,IAAnB,CAAwBS,OAAxB,EAAiCD,OAAjC,MAA8C,KAAjD,EAAwD;cACtDI,MAAM,CAACI,OAAP,CAAe,kDAAf;cACA;YACD;;YACDJ,MAAM,CAAC6Z,KAAP;UACD,CAbI;UAcLg3B,IAAI,EAAE,YAAW;YACf,IAAGxxC,QAAQ,CAACgyC,MAAT,CAAgBjyC,IAAhB,CAAqBS,OAArB,EAA8BD,OAA9B,MAA2C,KAA9C,EAAqD;cACnDI,MAAM,CAACI,OAAP,CAAe,+CAAf;cACA;YACD;;YACDJ,MAAM,CAAC6Z,KAAP;UACD;QApBI,CAlaA;QAybPs1B,OAAO,EAAE;UACPgwB,OAAO,EAAE,UAASr5D,QAAT,EAAmB;YAC1B,IACE+6D,OAAO,GAAG/6D,QAAQ,CAAC1B,KAAT,CAAe,GAAf,CADZ;YAAA,IAEE+mD,MAAM,GAAG,EAFX;YAKA0V,OAAO,CAACh6C,OAAR,CAAgB,UAAUhnB,OAAV,EAAmB;cACjCsrD,MAAM,IAAI,MAAMtrD,OAAhB;YACD,CAFD;YAIA,OAAOsrD,MAAP;UACD,CAZM;UAaP/vB,OAAO,EAAE,UAAS1rB,MAAT,EAAiB;YACxB,OAAO9D,MAAM,CAAC8D,MAAD,CAAN,CAAe3B,OAAf,CAAuB,IAAvB,EAA4B,EAA5B,CAAP;UACD,CAfM;UAgBPb,MAAM,EAAE,UAASwC,MAAT,EAAiBkmB,YAAjB,EAA+B;YACrC,IAAIA,YAAJ,EAAiB;cACf,OAAOlmB,MAAP;YACD;;YACD,IACE86B,QAAQ,GAAO,UADjB;YAAA,IAEEC,YAAY,GAAG,UAFjB;YAAA,IAGEv9B,MAAM,GAAS;cACb,KAAK,MADQ;cAEb,KAAK,MAFQ;cAGb,KAAK,QAHQ;cAIb,KAAK,QAJQ;cAKb,KAAK;YALQ,CAHjB;YAAA,IAUEw9B,WAAW,GAAI,UAASC,GAAT,EAAc;cAC3B,OAAOz9B,MAAM,CAACy9B,GAAD,CAAb;YACD,CAZH;;YAcA,IAAGF,YAAY,CAACp+B,IAAb,CAAkBqD,MAAlB,CAAH,EAA8B;cAC5BA,MAAM,GAAGA,MAAM,CAAC3B,OAAP,CAAe,sBAAf,EAAuC,OAAvC,CAAT;cACA,OAAO2B,MAAM,CAAC3B,OAAP,CAAey8B,QAAf,EAAyBE,WAAzB,CAAP;YACD;;YACD,OAAOh7B,MAAP;UACD;QAvCM,CAzbF;QAmeP1F,GAAG,EAAE;UACHC,UAAU,EAAE,UAASpK,OAAT,EAAiB;YAC3B,IAAI5B,CAAC,CAACQ,EAAF,CAAKoB,OAAL,MAAkBzB,SAAtB,EAAiC;cAC/B,OAAO,IAAP;YACD;;YACD4B,MAAM,CAACP,KAAP,CAAaA,KAAK,CAACqR,SAAN,CAAgB/C,OAAhB,CAAwB,WAAxB,EAAoClO,OAApC,CAAb;YACA,OAAO,KAAP;UACD;QAPE,CAneE;QA6ePqC,OAAO,EAAE,UAASV,IAAT,EAAeW,KAAf,EAAsB;UAC7BnC,MAAM,CAACS,KAAP,CAAa,kBAAb,EAAiCe,IAAjC,EAAuCW,KAAvC;;UACA,IAAIlE,CAAC,CAACqB,aAAF,CAAgBkC,IAAhB,CAAJ,EAA4B;YAC1BvD,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAeF,QAAf,EAAyBmC,IAAzB;UACD,CAFD,MAGK,IAAGW,KAAK,KAAK/D,SAAb,EAAwB;YAC3B,IAAGH,CAAC,CAACqB,aAAF,CAAgBD,QAAQ,CAACmC,IAAD,CAAxB,CAAH,EAAoC;cAClCvD,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAeF,QAAQ,CAACmC,IAAD,CAAvB,EAA+BW,KAA/B;YACD,CAFD,MAGK;cACH9C,QAAQ,CAACmC,IAAD,CAAR,GAAiBW,KAAjB;YACD;UACF,CAPI,MAQA;YACH,OAAO9C,QAAQ,CAACmC,IAAD,CAAf;UACD;QACF,CA7fM;QA8fPsB,QAAQ,EAAE,UAAStB,IAAT,EAAeW,KAAf,EAAsB;UAC9B,IAAIlE,CAAC,CAACqB,aAAF,CAAgBkC,IAAhB,CAAJ,EAA4B;YAC1BvD,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAeS,MAAf,EAAuBwB,IAAvB;UACD,CAFD,MAGK,IAAGW,KAAK,KAAK/D,SAAb,EAAwB;YAC3B4B,MAAM,CAACwB,IAAD,CAAN,GAAeW,KAAf;UACD,CAFI,MAGA;YACH,OAAOnC,MAAM,CAACwB,IAAD,CAAb;UACD;QACF,CAxgBM;QAygBPf,KAAK,EAAE,YAAW;UAChB,IAAG,CAACpB,QAAQ,CAACgV,MAAV,IAAoBhV,QAAQ,CAACoB,KAAhC,EAAuC;YACrC,IAAGpB,QAAQ,CAACP,WAAZ,EAAyB;cACvBkB,MAAM,CAAClB,WAAP,CAAmB4B,GAAnB,CAAuB1B,SAAvB;YACD,CAFD,MAGK;cACHgB,MAAM,CAACS,KAAP,GAAesC,QAAQ,CAACC,SAAT,CAAmBC,IAAnB,CAAwB7D,IAAxB,CAA6BmB,OAAO,CAACmC,IAArC,EAA2CnC,OAA3C,EAAoDlB,QAAQ,CAACmC,IAAT,GAAgB,GAApE,CAAf;cACAxB,MAAM,CAACS,KAAP,CAAayC,KAAb,CAAmB3C,OAAnB,EAA4BvB,SAA5B;YACD;UACF;QACF,CAnhBM;QAohBPoB,OAAO,EAAE,YAAW;UAClB,IAAG,CAACf,QAAQ,CAACgV,MAAV,IAAoBhV,QAAQ,CAACe,OAA7B,IAAwCf,QAAQ,CAACoB,KAApD,EAA2D;YACzD,IAAGpB,QAAQ,CAACP,WAAZ,EAAyB;cACvBkB,MAAM,CAAClB,WAAP,CAAmB4B,GAAnB,CAAuB1B,SAAvB;YACD,CAFD,MAGK;cACHgB,MAAM,CAACI,OAAP,GAAiB2C,QAAQ,CAACC,SAAT,CAAmBC,IAAnB,CAAwB7D,IAAxB,CAA6BmB,OAAO,CAACmC,IAArC,EAA2CnC,OAA3C,EAAoDlB,QAAQ,CAACmC,IAAT,GAAgB,GAApE,CAAjB;cACAxB,MAAM,CAACI,OAAP,CAAe8C,KAAf,CAAqB3C,OAArB,EAA8BvB,SAA9B;YACD;UACF;QACF,CA9hBM;QA+hBPS,KAAK,EAAE,YAAW;UAChB,IAAG,CAACJ,QAAQ,CAACgV,MAAb,EAAqB;YACnBrU,MAAM,CAACP,KAAP,GAAesD,QAAQ,CAACC,SAAT,CAAmBC,IAAnB,CAAwB7D,IAAxB,CAA6BmB,OAAO,CAACd,KAArC,EAA4Cc,OAA5C,EAAqDlB,QAAQ,CAACmC,IAAT,GAAgB,GAArE,CAAf;YACAxB,MAAM,CAACP,KAAP,CAAayD,KAAb,CAAmB3C,OAAnB,EAA4BvB,SAA5B;UACD;QACF,CApiBM;QAqiBPF,WAAW,EAAE;UACX4B,GAAG,EAAE,UAASyC,OAAT,EAAkB;YACrB,IACEC,WADF,EAEEC,aAFF,EAGEC,YAHF;;YAKA,IAAGjE,QAAQ,CAACP,WAAZ,EAAyB;cACvBsE,WAAW,GAAK,IAAIxE,IAAJ,GAAWC,OAAX,EAAhB;cACAyE,YAAY,GAAI3E,IAAI,IAAIyE,WAAxB;cACAC,aAAa,GAAGD,WAAW,GAAGE,YAA9B;cACA3E,IAAI,GAAYyE,WAAhB;cACAtE,WAAW,CAACgD,IAAZ,CAAiB;gBACf,QAAmBqB,OAAO,CAAC,CAAD,CADX;gBAEf,aAAmB,GAAGhE,KAAH,CAASC,IAAT,CAAc+D,OAAd,EAAuB,CAAvB,KAA6B,EAFjC;gBAGf,WAAmBtD,OAHJ;gBAIf,kBAAmBwD;cAJJ,CAAjB;YAMD;;YACDE,YAAY,CAACvD,MAAM,CAAClB,WAAP,CAAmB0E,KAApB,CAAZ;YACAxD,MAAM,CAAClB,WAAP,CAAmB0E,KAAnB,GAA2BlC,UAAU,CAACtB,MAAM,CAAClB,WAAP,CAAmB2E,OAApB,EAA6B,GAA7B,CAArC;UACD,CArBU;UAsBXA,OAAO,EAAE,YAAW;YAClB,IACEC,KAAK,GAAGrE,QAAQ,CAACmC,IAAT,GAAgB,GAD1B;YAAA,IAEEmC,SAAS,GAAG,CAFd;YAIAhF,IAAI,GAAG,KAAP;YACA4E,YAAY,CAACvD,MAAM,CAAClB,WAAP,CAAmB0E,KAApB,CAAZ;YACAvF,CAAC,CAAC2D,IAAF,CAAO9C,WAAP,EAAoB,UAAS+C,KAAT,EAAgB9B,IAAhB,EAAsB;cACxC4D,SAAS,IAAI5D,IAAI,CAAC,gBAAD,CAAjB;YACD,CAFD;YAGA2D,KAAK,IAAI,MAAMC,SAAN,GAAkB,IAA3B;;YACA,IAAGkC,cAAH,EAAmB;cACjBnC,KAAK,IAAI,QAAQmC,cAAR,GAAyB,IAAlC;YACD;;YACD,IAAI,CAACtF,OAAO,CAACK,KAAR,KAAkBxC,SAAlB,IAA+BmC,OAAO,CAACqD,KAAR,KAAkBxF,SAAlD,KAAgEU,WAAW,CAACwD,MAAZ,GAAqB,CAAzF,EAA4F;cAC1F/B,OAAO,CAACO,cAAR,CAAuB4C,KAAvB;;cACA,IAAGnD,OAAO,CAACqD,KAAX,EAAkB;gBAChBrD,OAAO,CAACqD,KAAR,CAAc9E,WAAd;cACD,CAFD,MAGK;gBACHb,CAAC,CAAC2D,IAAF,CAAO9C,WAAP,EAAoB,UAAS+C,KAAT,EAAgB9B,IAAhB,EAAsB;kBACxCQ,OAAO,CAACG,GAAR,CAAYX,IAAI,CAAC,MAAD,CAAJ,GAAe,IAAf,GAAsBA,IAAI,CAAC,gBAAD,CAA1B,GAA6C,IAAzD;gBACD,CAFD;cAGD;;cACDQ,OAAO,CAACM,QAAR;YACD;;YACD/B,WAAW,GAAG,EAAd;UACD;QAjDU,CAriBN;QAwlBP+E,MAAM,EAAE,UAAS9E,KAAT,EAAgB+E,eAAhB,EAAiCC,OAAjC,EAA0C;UAChD,IACEC,MAAM,GAAGlE,QADX;UAAA,IAEEmE,QAFF;UAAA,IAGEC,KAHF;UAAA,IAIEC,QAJF;UAMAL,eAAe,GAAGA,eAAe,IAAI5E,cAArC;UACA6E,OAAO,GAAWlE,OAAO,IAAYkE,OAArC;;UACA,IAAG,OAAOhF,KAAP,IAAgB,QAAhB,IAA4BiF,MAAM,KAAK5F,SAA1C,EAAqD;YACnDW,KAAK,GAAMA,KAAK,CAACqF,KAAN,CAAY,OAAZ,CAAX;YACAH,QAAQ,GAAGlF,KAAK,CAACuD,MAAN,GAAe,CAA1B;YACArE,CAAC,CAAC2D,IAAF,CAAO7C,KAAP,EAAc,UAASsF,KAAT,EAAgBlC,KAAhB,EAAuB;cACnC,IAAImC,cAAc,GAAID,KAAK,IAAIJ,QAAV,GACjB9B,KAAK,GAAGpD,KAAK,CAACsF,KAAK,GAAG,CAAT,CAAL,CAAiBE,MAAjB,CAAwB,CAAxB,EAA2BC,WAA3B,EAAR,GAAmDzF,KAAK,CAACsF,KAAK,GAAG,CAAT,CAAL,CAAiBlF,KAAjB,CAAuB,CAAvB,CADlC,GAEjBJ,KAFJ;;cAIA,IAAId,CAAC,CAACqB,aAAF,CAAiB0E,MAAM,CAACM,cAAD,CAAvB,KAA8CD,KAAK,IAAIJ,QAA3D,EAAuE;gBACrED,MAAM,GAAGA,MAAM,CAACM,cAAD,CAAf;cACD,CAFD,MAGK,IAAIN,MAAM,CAACM,cAAD,CAAN,KAA2BlG,SAA/B,EAA2C;gBAC9C8F,KAAK,GAAGF,MAAM,CAACM,cAAD,CAAd;gBACA,OAAO,KAAP;cACD,CAHI,MAIA,IAAIrG,CAAC,CAACqB,aAAF,CAAiB0E,MAAM,CAAC7B,KAAD,CAAvB,KAAqCkC,KAAK,IAAIJ,QAAlD,EAA8D;gBACjED,MAAM,GAAGA,MAAM,CAAC7B,KAAD,CAAf;cACD,CAFI,MAGA,IAAI6B,MAAM,CAAC7B,KAAD,CAAN,KAAkB/D,SAAtB,EAAkC;gBACrC8F,KAAK,GAAGF,MAAM,CAAC7B,KAAD,CAAd;gBACA,OAAO,KAAP;cACD,CAHI,MAIA;gBACHnC,MAAM,CAACP,KAAP,CAAaA,KAAK,CAACgF,MAAnB,EAA2B1F,KAA3B;gBACA,OAAO,KAAP;cACD;YACF,CAvBD;UAwBD;;UACD,IAAKd,CAAC,CAACI,UAAF,CAAc6F,KAAd,CAAL,EAA6B;YAC3BC,QAAQ,GAAGD,KAAK,CAAChB,KAAN,CAAYa,OAAZ,EAAqBD,eAArB,CAAX;UACD,CAFD,MAGK,IAAGI,KAAK,KAAK9F,SAAb,EAAwB;YAC3B+F,QAAQ,GAAGD,KAAX;UACD;;UACD,IAAGQ,KAAK,CAACC,OAAN,CAAc1E,aAAd,CAAH,EAAiC;YAC/BA,aAAa,CAAC6B,IAAd,CAAmBqC,QAAnB;UACD,CAFD,MAGK,IAAGlE,aAAa,KAAK7B,SAArB,EAAgC;YACnC6B,aAAa,GAAG,CAACA,aAAD,EAAgBkE,QAAhB,CAAhB;UACD,CAFI,MAGA,IAAGA,QAAQ,KAAK/F,SAAhB,EAA2B;YAC9B6B,aAAa,GAAGkE,QAAhB;UACD;;UACD,OAAOD,KAAP;QACD;MA7oBM,CAAT;;MAgpBA,IAAGjF,aAAH,EAAkB;QAChB,IAAGa,QAAQ,KAAK1B,SAAhB,EAA2B;UACzB4B,MAAM,CAACE,UAAP;QACD;;QACDF,MAAM,CAAC6D,MAAP,CAAc9E,KAAd;MACD,CALD,MAMK;QACH,IAAGe,QAAQ,KAAK1B,SAAhB,EAA2B;UACzB0B,QAAQ,CAAC+D,MAAT,CAAgB,SAAhB;QACD;;QACD7D,MAAM,CAACE,UAAP;QACAD,aAAa,GAAGL,OAAhB;MACD;IACF,CAhsBH;IAmsBA,OAAQK,aAAa,KAAK7B,SAAnB,GACH6B,aADG,GAEH,IAFJ;EAID,CAptBD;;EAstBAhC,CAAC,CAACQ,EAAF,CAAK6/D,KAAL,CAAWj/D,QAAX,GAAsB;IAEpBmC,IAAI,EAAa,OAFG;IAGpBhC,SAAS,EAAQ,OAHG;IAKpB6U,MAAM,EAAW,KALG;IAMpB5T,KAAK,EAAY,KANG;IAOpBL,OAAO,EAAU,KAPG;IAQpBtB,WAAW,EAAM,IARG;IAUpBiF,OAAO,EAAU,MAVG;IAYpB+f,QAAQ,EAAS,WAZG;IAapBk7C,UAAU,EAAO,KAbG;IAcpB/6C,KAAK,EAAY,SAdG;IAepB87C,aAAa,EAAI,KAfG;IAgBpBtwB,YAAY,EAAK,KAhBG;IAiBpBwvB,UAAU,EAAO,MAjBG;IAmBpBv7D,KAAK,EAAY,EAnBG;IAoBpBP,OAAO,EAAU,EApBG;IAqBpBuzC,WAAW,EAAM,IArBG;IAqBG;IACvB8oB,cAAc,EAAG,IAtBG;IAsBG;IACvBC,cAAc,EAAG,GAvBG;IAwBpBgB,QAAQ,EAAS,KAxBG;IAyBpBR,WAAW,EAAM,KAzBG;IA0BpBpB,YAAY,EAAK,KA1BG;IA2BpBgB,YAAY,EAAK,IA3BG;IA4BpBG,UAAU,EAAO,KA5BG;IA4BI;IACxBrlD,OAAO,EAAU,CA7BG;IA8BpBykD,OAAO,EAAU,IA9BG;IA+BpBnvB,SAAS,EAAQ,KA/BG;IAgCpB6uB,YAAY,EAAK,IAhCG;IAiCpBI,WAAW,EAAM,IAjCG;IAkCpB1vB,OAAO,EAAU,KAlCG;IAmCpB5Z,YAAY,EAAK,IAnCG;IAoCpBgpC,SAAS,EAAQ,KApCG;IAsCpB;IACAjtD,UAAU,EAAO;MACfwe,UAAU,EAAK,OADA;MAEfM,YAAY,EAAG,GAFA;MAGfF,UAAU,EAAK,OAHA;MAIfC,YAAY,EAAG,GAJA;MAKf2vC,WAAW,EAAI,cALA;MAKiB;MAChCC,aAAa,EAAE;IANA,CAvCG;IAgDpB3gE,KAAK,EAAE;MACLgF,MAAM,EAAS,uCADV;MAELqM,SAAS,EAAM,mCAFV;MAGLyuD,YAAY,EAAG;IAHV,CAhDa;IAsDpB54D,SAAS,EAAQ;MACfka,SAAS,EAAM,oBADA;MAEfwxC,GAAG,EAAY,oBAFA;MAGfnV,QAAQ,EAAO,6BAHA;MAIfohB,KAAK,EAAU,UAJA;MAKf3sC,IAAI,EAAW,eALA;MAMf4B,OAAO,EAAQ,SANA;MAOf/a,OAAO,EAAQ,SAPA;MAQf9U,KAAK,EAAU,WARA;MASfP,OAAO,EAAQ,SATA;MAUfqsC,OAAO,EAAQ,SAVA;MAWf8vB,YAAY,EAAG,eAXA;MAYf3vB,MAAM,EAAS,WAZA;MAafxpB,OAAO,EAAQ,YAbA;MAcftM,KAAK,EAAU,YAdA;MAefmxB,KAAK,EAAU,UAfA;MAgBfwb,QAAQ,EAAO,UAhBA;MAiBfwY,UAAU,EAAK,YAjBA;MAkBfK,QAAQ,EAAO,UAlBA;MAmBfpiD,QAAQ,EAAO,UAnBA;MAoBfmiD,OAAO,EAAQ,SApBA;MAqBfU,QAAQ,EAAO,UArBA;MAsBfF,WAAW,EAAI,aAtBA;MAuBfh6B,GAAG,EAAY,KAvBA;MAwBfqS,MAAM,EAAS,QAxBA;MAyBftyB,IAAI,EAAW,MAzBA;MA0Bfo3B,KAAK,EAAU,OA1BA;MA2BfgiB,WAAW,EAAI;IA3BA,CAtDG;IAoFpB2B,KAAK,EAAY;MACfh+D,IAAI,EAAW,MADA;MAEfoP,OAAO,EAAQ,WAFA;MAGfkuC,OAAO,EAAQ,SAHA;MAIfvgD,KAAK,EAAU;IAJA,CApFG;IA2FpBqG,QAAQ,EAAS;MACf+a,SAAS,EAAM,qBADA;MAEfwxC,GAAG,EAAY,YAFA;MAGfiM,KAAK,EAAU,WAHA;MAIf56D,KAAK,EAAU,SAJA;MAKfP,OAAO,EAAQ,mBALA;MAMf6nC,KAAK,EAAU,6BANA;MAOfrZ,IAAI,EAAW,UAPA;MAQf7kB,KAAK,EAAU,+EARA;MASf8jC,OAAO,EAAQ,qDATA;MAUfC,IAAI,EAAW;IAVA,CA3FG;IAwGpBziC,MAAM,EAAW;MACf6V,KAAK,EAAU,OADA;MAEftW,IAAI,EAAW,MAFA;MAGfgkB,IAAI,EAAW,MAHA;MAIf1Y,KAAK,EAAU;IAJA,CAxGG;IA+GpB;IACAgF,MAAM,EAAW,YAAU,CAAE,CAhHT;IAiHpBH,SAAS,EAAQ,YAAU,CAAE,CAjHT;IAkHpB8iD,OAAO,EAAU,YAAU,CAAE,CAlHT;IAmHpBliD,MAAM,EAAW,YAAU,CAAE,CAnHT;IAoHpBV,QAAQ,EAAS,YAAU,CAAE,CApHT;IAqHpBmqB,QAAQ,EAAS,YAAU,CAAE,CArHT;IAsHpBiJ,SAAS,EAAQ,YAAU,CAAE,CAtHT;IAuHpBC,MAAM,EAAW,YAAU,CAAE;EAvHT,CAAtB;EA0HApzC,CAAC,CAACsB,MAAF,CAAUtB,CAAC,CAAC6c,MAAZ,EAAoB;IAChBgmD,aAAa,EAAE,UAAU7kD,CAAV,EAAatM,CAAb,EAAgBuM,CAAhB,EAAmBC,CAAnB,EAAsBC,CAAtB,EAAyB;MACpC,IAAI,CAACzM,CAAC,IAAEyM,CAAJ,IAAU,IAAE,IAAhB,EAAuB;QACnB,OAAOD,CAAC,IAAE,SAAOxM,CAAP,GAASA,CAAX,CAAD,GAAiBuM,CAAxB;MACH,CAFD,MAEO,IAAIvM,CAAC,GAAI,IAAE,IAAX,EAAkB;QACrB,OAAOwM,CAAC,IAAE,UAAQxM,CAAC,IAAG,MAAI,IAAhB,IAAuBA,CAAvB,GAA2B,GAA7B,CAAD,GAAqCuM,CAA5C;MACH,CAFM,MAEA,IAAIvM,CAAC,GAAI,MAAI,IAAb,EAAoB;QACvB,OAAOwM,CAAC,IAAE,UAAQxM,CAAC,IAAG,OAAK,IAAjB,IAAwBA,CAAxB,GAA4B,KAA9B,CAAD,GAAwCuM,CAA/C;MACH,CAFM,MAEA;QACH,OAAOC,CAAC,IAAE,UAAQxM,CAAC,IAAG,QAAM,IAAlB,IAAyBA,CAAzB,GAA6B,OAA/B,CAAD,GAA2CuM,CAAlD;MACH;IACJ,CAXe;IAYhB6kD,YAAY,EAAE,UAAUpxD,CAAV,EAAa;MACzB,OAAQ,EAAEA,CAAH,GAAMA,CAAN,GAAQA,CAAR,GAAU,CAAjB;IACD;EAde,CAApB;AAkBC,CAj3BA,EAi3BGnK,MAj3BH,EAi3BWtH,MAj3BX,EAi3BmBC,QAj3BnB;AAm3BD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA;;AAAC,CAAC,UAAUF,CAAV,EAAaC,MAAb,EAAqBC,QAArB,EAA+BC,SAA/B,EAA0C;EAE5C;;EAEAH,CAAC,CAACI,UAAF,GAAeJ,CAAC,CAACI,UAAF,IAAgB,UAASC,GAAT,EAAc;IAC3C,OAAO,OAAOA,GAAP,KAAe,UAAf,IAA6B,OAAOA,GAAG,CAACC,QAAX,KAAwB,QAA5D;EACD,CAFD;;EAIAL,MAAM,GAAI,OAAOA,MAAP,IAAiB,WAAjB,IAAgCA,MAAM,CAACuH,IAAP,IAAeA,IAAhD,GACLvH,MADK,GAEJ,OAAOwH,IAAP,IAAe,WAAf,IAA8BA,IAAI,CAACD,IAAL,IAAaA,IAA5C,GACEC,IADF,GAEE3C,QAAQ,CAAC,aAAD,CAAR,EAJN;;EAOA9E,CAAC,CAACQ,EAAF,CAAKkT,UAAL,GAAkB,YAAW;IAC3B,IACE/L,WAAW,GAAO3H,CAAC,CAAC,IAAD,CADrB;IAAA,IAEE4H,cAAc,GAAID,WAAW,CAACE,QAAZ,IAAwB,EAF5C;IAAA,IAIEnH,IAAI,GAAc,IAAIC,IAAJ,GAAWC,OAAX,EAJpB;IAAA,IAKEC,WAAW,GAAO,EALpB;IAAA,IAOEkiE,eAAe,GAAGhiE,SAPpB;IAAA,IAQED,KAAK,GAAaiiE,eAAe,CAAC,CAAD,CARnC;IAAA,IASE9hE,cAAc,GAAI,GAAGC,KAAH,CAASC,IAAT,CAAcJ,SAAd,EAAyB,CAAzB,CATpB;IAAA,IAUEC,aAAa,GAAM,OAAOF,KAAP,KAAiB,QAVtC;IAAA,IAYEkB,aAZF;IAcA2F,WAAW,CACRhE,IADH,CACQ,UAASC,KAAT,EAAgB;MACpB,IACEjC,OAAO,GAAI3B,CAAC,CAAC,IAAD,CADd;MAAA,IAEE4B,OAAO,GAAI,IAFb;MAAA,IAIE;MACAR,QALF;MAAA,IAMES,QANF;MAAA,IAQEL,KARF;MAAA,IASEkH,SATF;MAAA,IAUED,QAVF;MAAA,IAWEu6D,YAXF;MAAA,IAaEvhE,eAbF;MAAA,IAcEmH,cAdF;MAAA,IAeE7G,MAfF;MAkBAA,MAAM,GAAG;QAEPE,UAAU,EAAE,YAAW;UAErB;UACAb,QAAQ,GAAUW,MAAM,CAACiH,GAAP,CAAW5H,QAAX,CAAoB6D,KAApB,CAA0BrD,OAA1B,EAAmCmhE,eAAnC,CAAlB,CAHqB,CAKrB;;UACAr6D,SAAS,GAAStH,QAAQ,CAACsH,SAA3B;UACAlH,KAAK,GAAaJ,QAAQ,CAACI,KAA3B;UACAiH,QAAQ,GAAUrH,QAAQ,CAACqH,QAA3B,CARqB,CAUrB;;UACAG,cAAc,GAAI,MAAMxH,QAAQ,CAACG,SAAjC;UACAE,eAAe,GAAG,YAAYL,QAAQ,CAACG,SAAvC;UACAM,QAAQ,GAAUF,OAAO,CAACG,IAAR,CAAaL,eAAb,KAAiCM,MAAnD,CAbqB,CAerB;;UACAihE,YAAY,GAAMjhE,MAAM,CAACiH,GAAP,CAAWi6D,iBAAX,EAAlB;;UAEA,IAAGjiE,aAAH,EAAkB;YAChBA,aAAa,GAAGe,MAAM,CAAC6D,MAAP,CAAc9E,KAAd,CAAhB;UACD,CApBoB,CAsBrB;;;UACA,IAAGE,aAAa,KAAK,KAArB,EAA4B;YAC1Be,MAAM,CAACI,OAAP,CAAe,0CAAf,EAA2Df,QAA3D;;YACA,IAAGA,QAAQ,CAAC8+C,QAAZ,EAAsB;cACpBn+C,MAAM,CAACyN,KAAP,CAAapO,QAAQ,CAACqb,OAAtB;YACD,CAFD,MAGM;cACJ1a,MAAM,CAAC0a,OAAP;YACD;;YACD1a,MAAM,CAACG,WAAP;UACD;QACF,CAnCM;QAqCPA,WAAW,EAAE,YAAW;UACtBH,MAAM,CAACI,OAAP,CAAe,4BAAf,EAA6CJ,MAA7C;UACAF,QAAQ,GAAGE,MAAX;UACAJ,OAAO,CACJG,IADH,CACQL,eADR,EACyBI,QADzB;QAGD,CA3CM;QA6CP8C,OAAO,EAAE,YAAW;UAClB5C,MAAM,CAACI,OAAP,CAAe,gCAAf,EAAiDP,OAAjD;UACAD,OAAO,CACJiD,UADH,CACcnD,eADd;QAGD,CAlDM;QAoDPwH,OAAO,EAAE,YAAW;UAClBlH,MAAM,CAACI,OAAP,CAAe,2CAAf;UACA,OAAOJ,MAAM,CAACkwB,WAAd;QACD,CAvDM;QAyDPixC,YAAY,EAAE,YAAW;UACvBnhE,MAAM,CAACI,OAAP,CAAe,yBAAf;UACA,IACEghE,cAAc,GAAGxhE,OAAO,CAACyJ,MAAR,EADnB;UAAA,IAEEg4D,YAAY,GAAGzhE,OAAO,CAACyZ,IAAR,EAFjB;;UAIA,IAAGgoD,YAAY,CAAC/+D,MAAb,KAAwB,CAA3B,EAA8B;YAC5B1C,OAAO,CAACmvB,MAAR,GAAiBtd,QAAjB,CAA0B2vD,cAA1B;UACD,CAFD,MAGK;YACHxhE,OAAO,CAACmvB,MAAR,GAAiBuG,YAAjB,CAA8B+rC,YAA9B;UACD;QACF,CArEM;QAuEPvQ,OAAO,EAAE,YAAW;UAClB9wD,MAAM,CAACI,OAAP,CAAe,oBAAf;UACA,IACE2wD,cAAc,GAAGlxD,OAAO,CAACmxD,WAD3B;QAGD,CA5EM;QA8EPvjD,KAAK,EAAE,UAAS0wC,QAAT,EAAmB;UACxB,IACEna,SAAS,GAAGhkC,MAAM,CAACiH,GAAP,CAAWq6D,kBAAX,EADd;UAAA,IAEEC,aAFF;UAAA,IAGE9zD,KAHF;;UAKA,IAAG,CAACu2B,SAAJ,EAAe;YACbA,SAAS,GAAGhkC,MAAM,CAACgK,GAAP,CAAW2H,UAAX,KACR3R,MAAM,CAACiH,GAAP,CAAW+8B,SAAX,EADQ,GAER,QAFJ;UAID;;UACDma,QAAQ,GAAIA,QAAQ,KAAK//C,SAAd,GACP+/C,QADO,GAEP9+C,QAAQ,CAAC8+C,QAFb;UAIAojB,aAAa,GAAIliE,QAAQ,CAAC0zC,OAAT,IAAoB,MAApB,IAA8B/O,SAAS,IAAIr9B,SAAS,CAAC66D,OAAtE;UACA/zD,KAAK,GAAI8zD,aAAa,IAAIliE,QAAQ,CAAC0zC,OAAT,IAAoB,IAAtC,GACJ,CAACntC,WAAW,CAACtD,MAAZ,GAAqBT,KAAtB,IAA+BxC,QAAQ,CAAC8+C,QADpC,GAEJt8C,KAAK,GAAGxC,QAAQ,CAAC8+C,QAFrB;UAIAn+C,MAAM,CAACS,KAAP,CAAa,uBAAb,EAAsCgN,KAAtC;UACAnM,UAAU,CAACtB,MAAM,CAAC0a,OAAR,EAAiBjN,KAAjB,CAAV;QACD,CArGM;QAuGPiN,OAAO,EAAE,UAAS+mD,gBAAT,EAA2B;UAClCpiE,QAAQ,GAAGoiE,gBAAgB,IAAIpiE,QAA/B;;UACA,IAAG,CAACW,MAAM,CAAC4J,EAAP,CAAU0sD,SAAV,EAAJ,EAA2B;YACzBt2D,MAAM,CAACP,KAAP,CAAaA,KAAK,CAACiiE,OAAnB;YACA,OAAO,KAAP;UACD;;UACD1hE,MAAM,CAACS,KAAP,CAAa,qBAAb,EAAoCpB,QAAQ,CAACgb,SAA7C;;UACA,IAAGra,MAAM,CAAC4J,EAAP,CAAU2P,SAAV,EAAH,EAA0B;YACxB,IAAGla,QAAQ,CAACib,KAAZ,EAAmB;cACjB,IAAG,CAACjb,QAAQ,CAACuyD,YAAV,IAA0B5xD,MAAM,CAAC6Q,GAAP,CAAWmzB,SAAX,EAA1B,IAAoDhkC,MAAM,CAAC4J,EAAP,CAAU+3D,SAAV,EAApD,IAA6E3hE,MAAM,CAAC4hE,OAAP,KAAmB,IAAnG,EAAyG;gBACvG5hE,MAAM,CAACS,KAAP,CAAa,sEAAb,EAAqFpB,QAAQ,CAACgb,SAA9F;cACD,CAFD,MAGK;gBACHra,MAAM,CAACsa,KAAP,CAAajb,QAAQ,CAACgb,SAAtB;cACD;;cACD,OAAO,KAAP;YACD,CARD,MASK,IAAG,CAAChb,QAAQ,CAACuyD,YAAV,IAA0B5xD,MAAM,CAAC4J,EAAP,CAAU+3D,SAAV,EAA7B,EAAoD;cACvD3hE,MAAM,CAACS,KAAP,CAAa,qEAAb,EAAoFpB,QAAQ,CAACgb,SAA7F;cACA,OAAO,KAAP;YACD,CAHI,MAIA;cACHra,MAAM,CAACS,KAAP,CAAa,kDAAb,EAAiEpB,QAAQ,CAACgb,SAA1E;cACAva,QAAQ,CAACkpB,QAAT;YACD;UACF;;UACD,IAAIhpB,MAAM,CAACgK,GAAP,CAAW0Q,OAAX,EAAJ,EAA2B;YACzB1a,MAAM,CAACoH,GAAP,CAAWmS,SAAX,CAAqBla,QAAQ,CAACgb,SAA9B;UACD,CAFD,MAGK;YACHra,MAAM,CAACP,KAAP,CAAaA,KAAK,CAACoiE,WAAnB,EAAgCxiE,QAAQ,CAACgb,SAAzC,EAAoDxa,OAApD;UACD;QACF,CAvIM;QAyIPgI,KAAK,EAAE,YAAW;UAChB7H,MAAM,CAACS,KAAP,CAAa,6CAAb;UACAT,MAAM,CAACsK,MAAP,CAAcw3D,kBAAd;UACA9hE,MAAM,CAACqzB,OAAP,CAAeumB,UAAf;UACA55C,MAAM,CAACsK,MAAP,CAAciP,SAAd;QACD,CA9IM;QAgJPe,KAAK,EAAE,UAASD,SAAT,EAAoB;UACzBra,MAAM,CAACS,KAAP,CAAa,uBAAb,EAAsC4Z,SAAtC;UACAra,MAAM,CAAC4hE,OAAP,GAAiB,IAAjB;UACAhiE,OAAO,CACJwN,GADH,CACO6zD,YAAY,GAAG,QAAf,GAA0Bp6D,cADjC,EACiD,YAAW;YACxD7G,MAAM,CAAC4hE,OAAP,GAAiB,KAAjB;YACA5hE,MAAM,CAAC8wD,OAAP;YACA9wD,MAAM,CAAC0a,OAAP,CAAexX,KAAf,CAAqB,IAArB,EAA2B7D,QAA3B;UACD,CALH;QAOD,CA1JM;QA4JP2pB,QAAQ,EAAE,UAAU/gB,KAAV,EAAiB;UACzB,IAAGA,KAAK,IAAIA,KAAK,CAACie,MAAN,KAAiBrmB,OAA7B,EAAsC;YAClCoI,KAAK,CAACme,eAAN;UACH;;UACDpmB,MAAM,CAACS,KAAP,CAAa,oBAAb,EAAmCpB,QAAQ,CAACgb,SAA5C;UACAra,MAAM,CAACsK,MAAP,CAAcy3D,gBAAd;UACA/hE,MAAM,CAACsK,MAAP,CAAc03D,QAAd;;UACA,IAAG,CAAChiE,MAAM,CAAC4J,EAAP,CAAUq4D,OAAV,EAAJ,EAAyB;YACvB,IAAIjiE,MAAM,CAAC4J,EAAP,CAAU43D,OAAV,EAAJ,EAA0B;cACxBxhE,MAAM,CAACI,OAAP,CAAe,sCAAf;cACAJ,MAAM,CAACqzB,OAAP,CAAeumB,UAAf;cACA55C,MAAM,CAACosB,IAAP;YACD,CAJD,MAKK,IAAIpsB,MAAM,CAAC4J,EAAP,CAAUs4D,MAAV,EAAJ,EAAyB;cAC5BliE,MAAM,CAACI,OAAP,CAAe,uCAAf;cACAJ,MAAM,CAACqzB,OAAP,CAAeumB,UAAf;cACA55C,MAAM,CAACqsB,IAAP;YACD,CAJI,MAKA;cACHrsB,MAAM,CAACI,OAAP,CAAe,4BAAf;cACAJ,MAAM,CAACqzB,OAAP,CAAeumB,UAAf;cACAv6C,QAAQ,CAACob,UAAT,CAAoBrb,IAApB,CAAyBS,OAAzB;YACD;UACF;QACF,CApLM;QAsLPsiE,KAAK,EAAE;UACL5uC,OAAO,EAAE,YAAW;YAClB,IACEksB,KAAK,GAAY7/C,OAAO,CAACiT,IAAR,CAAa,OAAb,CADnB;YAAA,IAEEuvD,SAAS,GAAQpiE,MAAM,CAACiH,GAAP,CAAWm7D,SAAX,CAAqB3iB,KAArB,CAFnB;YAAA,IAGEvvB,WAAW,GAAMlwB,MAAM,CAACiH,GAAP,CAAWipB,WAAX,EAHnB;YAAA,IAIEmyC,aAAa,GAAID,SAAS,GAAG,WAAZ,GAA0BlyC,WAA1B,GAAwC,cAJ3D;YAAA,IAKEoyC,aAAa,GAAI1iE,OAAO,CAAC,CAAD,CAAP,CAAW6/C,KAAX,CAAiBh8C,OALpC;YAAA,IAME8+D,cAAc,GAAG,CAACryC,WAAD,IAAiBoyC,aAAa,KAAK,MAAlB,IAA4BjjE,QAAQ,CAACmb,gBAAtD,IAA2E5a,OAAO,CAAC,CAAD,CAAP,CAAWy9B,OAAX,CAAmB93B,KAAnB,CAAyB,sBAAzB,CAN9F;;YAQA,IAAIg9D,cAAJ,EAAmB;cACjBviE,MAAM,CAACsK,MAAP,CAAcqH,UAAd;cACA,OAAO,KAAP;YACD;;YACD3R,MAAM,CAACI,OAAP,CAAe,4CAAf,EAA6D8vB,WAA7D;YACAtwB,OAAO,CACJiT,IADH,CACQ,OADR,EACiBwvD,aADjB;YAGA,OAAO,IAAP;UACD,CAnBI;UAoBL51C,MAAM,EAAE,YAAW;YACjB,IACEgzB,KAAK,GAAY7/C,OAAO,CAACiT,IAAR,CAAa,OAAb,CADnB;YAAA,IAEE2vD,cAAc,GAAG5iE,OAAO,CAACmc,GAAR,CAAY,SAAZ,CAFnB;YAAA,IAGE0mD,UAAU,GAAQhjB,KAAK,KAAKrhD,SAAV,IAAuBqhD,KAAK,KAAK,EAHrD;;YAKA,IAAG+iB,cAAc,KAAK,MAAnB,IAA6B,CAACxiE,MAAM,CAAC4J,EAAP,CAAU6iB,MAAV,EAAjC,EAAqD;cACnDzsB,MAAM,CAACI,OAAP,CAAe,4CAAf;cACAR,OAAO,CACJmc,GADH,CACO,SADP,EACkB,MADlB;YAGD,CALD,MAMK,IAAG0mD,UAAH,EAAe;cAClB7iE,OAAO,CACJ4T,UADH,CACc,OADd;YAGD;UACF;QArCI,CAtLA;QA8NP3C,GAAG,EAAE;UACHmzB,SAAS,EAAE,UAAS3pB,SAAT,EAAoB;YAC7B,IACEqoD,YAAY,GAAG,KADjB;YAGAroD,SAAS,GAAGA,SAAS,IAAIhb,QAAQ,CAACgb,SAAlC;;YACA,IAAG,OAAOA,SAAP,KAAqB,QAAxB,EAAkC;cAChCA,SAAS,GAAGA,SAAS,CAACjW,KAAV,CAAgB,GAAhB,CAAZ;cACAnG,CAAC,CAAC2D,IAAF,CAAOyY,SAAP,EAAkB,UAASxY,KAAT,EAAgB+pB,IAAhB,EAAqB;gBACrC,IAAGA,IAAI,KAAKjlB,SAAS,CAACu7D,MAAnB,IAA6Bt2C,IAAI,KAAKjlB,SAAS,CAAC66D,OAAnD,EAA4D;kBAC1DkB,YAAY,GAAG,IAAf;gBACD;cACF,CAJD;YAKD;;YACD,OAAOA,YAAP;UACD,CAfE;UAgBHJ,aAAa,EAAE,YAAW;YACxB,IACE7iB,KAAK,GAAG7/C,OAAO,CAACiT,IAAR,CAAa,OAAb,KAAyB,EADnC;YAGA,OAAOnO,KAAK,CAACC,OAAN,CAAc86C,KAAK,CAACl6C,KAAN,CAAY,aAAZ,EAA2B,EAA3B,CAAd,CAAP;UACD;QArBE,CA9NE;QAsPP6B,GAAG,EAAE;UACHmS,SAAS,EAAE,UAASc,SAAT,EAAoB;YAC7B;YACAra,MAAM,CAACsK,MAAP,CAAcy3D,gBAAd,GAF6B,CAI7B;;YACA1nD,SAAS,GAAGA,SAAS,IAAIhb,QAAQ,CAACgb,SAAlC;YACA,IAAIsoD,cAAc,GAAG3iE,MAAM,CAACiH,GAAP,CAAW07D,cAAX,CAA0BtoD,SAA1B,CAArB,CAN6B,CAQ3B;;YACFra,MAAM,CAACozB,IAAP,CAAY/Y,SAAZ,CAAsBsoD,cAAtB;;YAEA,IAAG3iE,MAAM,CAACmiE,KAAP,CAAa5uC,OAAb,EAAH,EAA2B;cACzBvzB,MAAM,CAACsK,MAAP,CAAcmiB,MAAd;cACAzsB,MAAM,CAACsK,MAAP,CAAc05B,SAAd;cAEAhkC,MAAM,CAACkqC,KAAP,CAAa7vB,SAAb,CAAuBsoD,cAAvB;YACD;UACF,CAlBE;UAmBH/wD,QAAQ,EAAE,UAASgxD,aAAT,EAAwBhxD,QAAxB,EAAkC;YAC1CA,QAAQ,GAAGA,QAAQ,IAAIvS,QAAQ,CAACuS,QAAhC;YACAA,QAAQ,GAAI,OAAOA,QAAP,IAAmB,QAApB,GACPA,QAAQ,GAAG,IADJ,GAEPA,QAFJ;;YAIA,IAAGA,QAAQ,IAAIA,QAAQ,KAAK,CAA5B,EAA+B;cAC7B5R,MAAM,CAACI,OAAP,CAAe,4BAAf,EAA6CwR,QAA7C;cACAhS,OAAO,CACJmc,GADH,CACO;gBACH,sBAAuBnK;cADpB,CADP;YAKD;UACF,CAjCE;UAkCHoyB,SAAS,EAAE,UAASA,SAAT,EAAoB;YAC7BA,SAAS,GAAGA,SAAS,IAAIhkC,MAAM,CAACiH,GAAP,CAAW+8B,SAAX,EAAzB;;YACA,IAAGA,SAAS,IAAIr9B,SAAS,CAACu7D,MAA1B,EAAkC;cAChCliE,MAAM,CAACoH,GAAP,CAAW86D,MAAX;YACD,CAFD,MAGK;cACHliE,MAAM,CAACoH,GAAP,CAAWo6D,OAAX;YACD;UACF,CA1CE;UA2CHS,OAAO,EAAE,YAAW;YAClBjiE,MAAM,CAACS,KAAP,CAAa,wBAAb;YACAb,OAAO,CACJ0R,QADH,CACY3K,SAAS,CAACs7D,OADtB;UAGD,CAhDE;UAiDHx1C,MAAM,EAAE,YAAW;YACjB7sB,OAAO,CACJ0R,QADH,CACY3K,SAAS,CAACgL,UADtB,EAEGL,QAFH,CAEY3K,SAAS,CAAC8lB,MAFtB;UAID,CAtDE;UAuDHy1C,MAAM,EAAE,YAAW;YACjBliE,MAAM,CAACS,KAAP,CAAa,6BAAb;YACAb,OAAO,CACJyK,WADH,CACe1D,SAAS,CAAC66D,OADzB,EAEGlwD,QAFH,CAEY3K,SAAS,CAACu7D,MAFtB;UAID,CA7DE;UA8DHV,OAAO,EAAE,YAAW;YAClBxhE,MAAM,CAACS,KAAP,CAAa,8BAAb;YACAb,OAAO,CACJyK,WADH,CACe1D,SAAS,CAACu7D,MADzB,EAEG5wD,QAFH,CAEY3K,SAAS,CAAC66D,OAFtB;UAID,CApEE;UAqEHjuC,OAAO,EAAE,YAAW;YAClB3zB,OAAO,CACJ0R,QADH,CACY3K,SAAS,CAACgL,UADtB,EAEGL,QAFH,CAEY3K,SAAS,CAAC4sB,OAFtB;UAID;QA1EE,CAtPE;QAmUP2W,KAAK,EAAE;UACL7vB,SAAS,EAAE,UAASsoD,cAAT,EAAyB;YAClCA,cAAc,GAAGA,cAAc,IAAI3iE,MAAM,CAACiH,GAAP,CAAW07D,cAAX,EAAnC;YACA3iE,MAAM,CAACS,KAAP,CAAa,gBAAb,EAA+BkiE,cAA/B;YACA/iE,OAAO,CACJ0R,QADH,CACYqxD,cADZ,EAEGv1D,GAFH,CAEO6zD,YAAY,GAAG,WAAf,GAA6Bp6D,cAFpC,EAEoD7G,MAAM,CAACgpB,QAF3D;;YAIA,IAAG3pB,QAAQ,CAACkb,WAAZ,EAAyB;cACvBva,MAAM,CAAC6P,GAAP,CAAWmyD,QAAX;YACD;;YACDhiE,MAAM,CAACoH,GAAP,CAAWwK,QAAX,CAAoBvS,QAAQ,CAACuS,QAA7B;YACAvS,QAAQ,CAAC+wB,OAAT,CAAiBhxB,IAAjB,CAAsBS,OAAtB;UACD;QAbI,CAnUA;QAmVPuzB,IAAI,EAAE;UACJ/Y,SAAS,EAAE,UAASA,SAAT,EAAoB;YAC7B,IAAG,CAACra,MAAM,CAACyC,KAAX,EAAkB;cAChBzC,MAAM,CAACyC,KAAP,GAAe,EAAf;YACD;;YACDzC,MAAM,CAACyC,KAAP,CAAa4X,SAAb,GAAyBA,SAAzB;UACD,CANG;UAOJ6V,WAAW,EAAE,UAASA,WAAT,EAAsB;YACjC,IAAGA,WAAW,KAAK,MAAnB,EAA2B;cACzBtwB,OAAO,CAACG,IAAR,CAAa2G,QAAQ,CAACwpB,WAAtB,EAAmCA,WAAnC;YACD;UACF,CAXG;UAYJ2yC,gBAAgB,EAAE,UAASxoD,SAAT,EAAoBy+B,MAApB,EAA4B;YAC5C76C,CAAC,CAACQ,EAAF,CAAKkT,UAAL,CAAgBmnC,MAAhB,CAAuBz+B,SAAvB,IAAoCy+B,MAApC;YACA94C,MAAM,CAACI,OAAP,CAAe,gCAAf,EAAiDia,SAAjD,EAA4Dy+B,MAA5D;UACD;QAfG,CAnVC;QAqWPzlB,OAAO,EAAE;UACPumB,UAAU,EAAE,YAAW;YACrB,IACEv/B,SAAS,GAAGra,MAAM,CAACiH,GAAP,CAAW67D,gBAAX,EADd;;YAGA,IAAGzoD,SAAH,EAAc;cACZza,OAAO,CACJyK,WADH,CACegQ,SADf;cAGAra,MAAM,CAACI,OAAP,CAAe,0BAAf,EAA2CJ,MAAM,CAACyC,KAAlD;YACD;;YACDzC,MAAM,CAACsK,MAAP,CAAcsH,QAAd;UACD;QAZM,CArWF;QAoXP/B,GAAG,EAAE;UACHmyD,QAAQ,EAAE,YAAW;YACnB,IACEpwD,QAAQ,GAAG5R,MAAM,CAACiH,GAAP,CAAW2K,QAAX,EADb;YAGA5R,MAAM,CAACwD,KAAP,GAAelC,UAAU,CAAC,YAAW;cACnC1B,OAAO,CAAC8+C,cAAR,CAAuBuiB,YAAvB;YACD,CAFwB,EAEtBrvD,QAAQ,GAAGvS,QAAQ,CAACs/C,aAFE,CAAzB;YAGA3+C,MAAM,CAACI,OAAP,CAAe,wBAAf,EAAyCJ,MAAM,CAACwD,KAAhD;UACD;QATE,CApXE;QAgYP8G,MAAM,EAAE;UACNiP,SAAS,EAAE,YAAW;YACpB3Z,OAAO,CAACyK,WAAR,CAAoB1D,SAAS,CAAC4S,SAA9B;UACD,CAHK;UAINuoD,kBAAkB,EAAE,YAAW;YAC7B9hE,MAAM,CAACsK,MAAP,CAAcy4D,aAAd;YACA/iE,MAAM,CAACsK,MAAP,CAAcy3D,gBAAd;UACD,CAPK;UAQNgB,aAAa,EAAE,YAAW;YACxBnjE,OAAO,CAAC8M,GAAR,CAAY,WAAW7F,cAAvB;UACD,CAVK;UAWNk7D,gBAAgB,EAAE,YAAW;YAC3BniE,OAAO,CAAC8M,GAAR,CAAY,cAAc7F,cAA1B;UACD,CAbK;UAcNpD,OAAO,EAAE,YAAW;YAClB7D,OAAO,CAACmc,GAAR,CAAY,SAAZ,EAAuB,EAAvB;UACD,CAhBK;UAiBNioB,SAAS,EAAE,YAAW;YACpBpkC,OAAO,CACJyK,WADH,CACe1D,SAAS,CAACu7D,MADzB,EAEG73D,WAFH,CAEe1D,SAAS,CAAC66D,OAFzB;UAID,CAtBK;UAuBN5vD,QAAQ,EAAE,YAAW;YACnBhS,OAAO,CACJmc,GADH,CACO,oBADP,EAC6B,EAD7B;UAGD,CA3BK;UA4BNimD,QAAQ,EAAE,YAAW;YACnBhiE,MAAM,CAACI,OAAP,CAAe,0BAAf,EAA2CJ,MAAM,CAACwD,KAAlD;;YACA,IAAGxD,MAAM,CAACwD,KAAV,EAAiB;cACfD,YAAY,CAACvD,MAAM,CAACwD,KAAR,CAAZ;YACD;UACF,CAjCK;UAkCNipB,MAAM,EAAE,YAAW;YACjB7sB,OAAO,CAACyK,WAAR,CAAoB1D,SAAS,CAAC8lB,MAA9B;UACD,CApCK;UAqCN8G,OAAO,EAAE,YAAW;YAClB3zB,OAAO,CAACyK,WAAR,CAAoB1D,SAAS,CAAC4sB,OAA9B;UACD,CAvCK;UAwCN0uC,OAAO,EAAE,YAAW;YAClBjiE,MAAM,CAACS,KAAP,CAAa,mCAAb;;YACA,IAAIT,MAAM,CAAC4J,EAAP,CAAUq4D,OAAV,EAAJ,EAA0B;cACxBjiE,MAAM,CAAC6H,KAAP;cACAjI,OAAO,CACJyK,WADH,CACe1D,SAAS,CAACs7D,OADzB;YAGD;UACF,CAhDK;UAiDNtwD,UAAU,EAAE,YAAW;YACrB/R,OAAO,CACJyK,WADH,CACe1D,SAAS,CAACgL,UADzB,EAEGtH,WAFH,CAEe1D,SAAS,CAAC4sB,OAFzB,EAGGlpB,WAHH,CAGe1D,SAAS,CAAC8lB,MAHzB;UAKD;QAvDK,CAhYD;QAybPxlB,GAAG,EAAE;UACH5H,QAAQ,EAAE,UAASgb,SAAT,EAAoBzI,QAApB,EAA8B6I,UAA9B,EAA0C;YAClD;YACA,IAAG,OAAOJ,SAAP,IAAoB,QAAvB,EAAiC;cAC/B,OAAOpc,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAe,EAAf,EAAmBtB,CAAC,CAACQ,EAAF,CAAKkT,UAAL,CAAgBtS,QAAnC,EAA6Cgb,SAA7C,CAAP;YACD,CAFD,CAGA;YAHA,KAIK,IAAG,OAAOI,UAAP,IAAqB,UAAxB,EAAoC;cACvC,OAAOxc,CAAC,CAACsB,MAAF,CAAS,EAAT,EAAatB,CAAC,CAACQ,EAAF,CAAKkT,UAAL,CAAgBtS,QAA7B,EAAuC;gBAC5Cgb,SAAS,EAAIA,SAD+B;gBAE5CI,UAAU,EAAGA,UAF+B;gBAG5C7I,QAAQ,EAAKA;cAH+B,CAAvC,CAAP;YAKD,CANI,CAOL;YAPK,KAQA,IAAG,OAAOA,QAAP,IAAmB,QAAnB,IAA+B,OAAOA,QAAP,IAAmB,QAArD,EAA+D;cAClE,OAAO3T,CAAC,CAACsB,MAAF,CAAS,EAAT,EAAatB,CAAC,CAACQ,EAAF,CAAKkT,UAAL,CAAgBtS,QAA7B,EAAuC;gBAC5Cgb,SAAS,EAAGA,SADgC;gBAE5CzI,QAAQ,EAAIA;cAFgC,CAAvC,CAAP;YAID,CALI,CAML;YANK,KAOA,IAAG,OAAOA,QAAP,IAAmB,QAAtB,EAAgC;cACnC,OAAO3T,CAAC,CAACsB,MAAF,CAAS,EAAT,EAAatB,CAAC,CAACQ,EAAF,CAAKkT,UAAL,CAAgBtS,QAA7B,EAAuCuS,QAAvC,EAAiD;gBACtDyI,SAAS,EAAGA;cAD0C,CAAjD,CAAP;YAGD,CAJI,CAKL;YALK,KAMA,IAAG,OAAOzI,QAAP,IAAmB,UAAtB,EAAkC;cACrC,OAAO3T,CAAC,CAACsB,MAAF,CAAS,EAAT,EAAatB,CAAC,CAACQ,EAAF,CAAKkT,UAAL,CAAgBtS,QAA7B,EAAuC;gBAC5Cgb,SAAS,EAAIA,SAD+B;gBAE5CI,UAAU,EAAG7I;cAF+B,CAAvC,CAAP;YAID,CALI,CAML;YANK,KAOA;cACH,OAAO3T,CAAC,CAACsB,MAAF,CAAS,EAAT,EAAatB,CAAC,CAACQ,EAAF,CAAKkT,UAAL,CAAgBtS,QAA7B,EAAuC;gBAC5Cgb,SAAS,EAAGA;cADgC,CAAvC,CAAP;YAGD;UACF,CAxCE;UAyCHsoD,cAAc,EAAE,UAAStoD,SAAT,EAAoB;YAClC,IACEsoD,cAAc,GAAGtoD,SAAS,IAAIhb,QAAQ,CAACgb,SADzC;YAAA,IAEE2oD,cAAc,GAAIhjE,MAAM,CAACgK,GAAP,CAAW2H,UAAX,MAA2B,CAAC3R,MAAM,CAAC6Q,GAAP,CAAWmzB,SAAX,EAA7B,GACbhkC,MAAM,CAACiH,GAAP,CAAW+8B,SAAX,KAAyB,GADZ,GAEb,EAJN;YAMA,OAAOr9B,SAAS,CAAC4S,SAAV,GAAsB,GAAtB,GACH5S,SAAS,CAACgL,UADP,GACoB,GADpB,GAEHqxD,cAFG,GAGHL,cAHJ;UAKD,CArDE;UAsDHG,gBAAgB,EAAE,YAAW;YAC3B,OAAQ9iE,MAAM,CAACyC,KAAP,IAAgBzC,MAAM,CAACyC,KAAP,CAAa4X,SAAb,KAA2Bjc,SAA5C,GACH4B,MAAM,CAACyC,KAAP,CAAa4X,SADV,GAEH,KAFJ;UAID,CA3DE;UA4DH4oD,gBAAgB,EAAE,YAAW;YAC3B,OAAOjjE,MAAM,CAAC4J,EAAP,CAAUs4D,MAAV,KACHv7D,SAAS,CAACu7D,MADP,GAEHv7D,SAAS,CAAC66D,OAFd;UAID,CAjEE;UAkEHx9B,SAAS,EAAE,YAAW;YACpB,OAAOhkC,MAAM,CAAC4J,EAAP,CAAU6iB,MAAV,MAAsB,CAACzsB,MAAM,CAAC4J,EAAP,CAAU2pB,OAAV,EAAvB,GACH5sB,SAAS,CAACu7D,MADP,GAEHv7D,SAAS,CAAC66D,OAFd;UAID,CAvEE;UAwEHF,kBAAkB,EAAE,UAASjnD,SAAT,EAAoB;YACtC,IACE2pB,SADF;YAGA3pB,SAAS,GAAGA,SAAS,IAAIhb,QAAQ,CAACgb,SAAlC;;YACA,IAAG,OAAOA,SAAP,KAAqB,QAAxB,EAAkC;cAChCA,SAAS,GAAGA,SAAS,CAACjW,KAAV,CAAgB,GAAhB,CAAZ,CADgC,CAEhC;;cACAnG,CAAC,CAAC2D,IAAF,CAAOyY,SAAP,EAAkB,UAASxY,KAAT,EAAgB+pB,IAAhB,EAAqB;gBACrC,IAAGA,IAAI,KAAKjlB,SAAS,CAACu7D,MAAtB,EAA8B;kBAC5Bl+B,SAAS,GAAGr9B,SAAS,CAACu7D,MAAtB;gBACD,CAFD,MAGK,IAAGt2C,IAAI,KAAKjlB,SAAS,CAAC66D,OAAtB,EAA+B;kBAClCx9B,SAAS,GAAGr9B,SAAS,CAAC66D,OAAtB;gBACD;cACF,CAPD;YAQD,CAhBqC,CAiBtC;;;YACA,IAAGx9B,SAAH,EAAc;cACZ,OAAOA,SAAP;YACD;;YACD,OAAO,KAAP;UACD,CA9FE;UA+FHpyB,QAAQ,EAAE,UAASA,QAAT,EAAmB;YAC3BA,QAAQ,GAAGA,QAAQ,IAAIvS,QAAQ,CAACuS,QAAhC;;YACA,IAAGA,QAAQ,KAAK,KAAhB,EAAuB;cACrBA,QAAQ,GAAGhS,OAAO,CAACmc,GAAR,CAAY,oBAAZ,KAAqC,CAAhD;YACD;;YACD,OAAQ,OAAOnK,QAAP,KAAoB,QAArB,GACFA,QAAQ,CAAC7C,OAAT,CAAiB,IAAjB,IAAyB,CAAC,CAA3B,GACEwxC,UAAU,CAAC3uC,QAAD,CADZ,GAEE2uC,UAAU,CAAC3uC,QAAD,CAAV,GAAuB,IAHtB,GAIHA,QAJJ;UAMD,CA1GE;UA2GHse,WAAW,EAAE,UAASgzC,eAAT,EAA0B;YACrCA,eAAe,GAAIA,eAAe,KAAK9kE,SAArB,GACd8kE,eADc,GAEd,IAFJ;;YAIA,IAAG7jE,QAAQ,CAAC6wB,WAAZ,EAAyB;cACvB,OAAO7wB,QAAQ,CAAC6wB,WAAhB;YACD;;YACD,IAAGgzC,eAAe,IAAItjE,OAAO,CAACG,IAAR,CAAa2G,QAAQ,CAACwpB,WAAtB,MAAuC9xB,SAA7D,EAAwE;cACtE,IAAIokE,cAAc,GAAG5iE,OAAO,CAACmc,GAAR,CAAY,SAAZ,CAArB;;cACA,IAAGymD,cAAc,KAAK,EAAnB,IAAyBA,cAAc,KAAK,MAA/C,EAAsD;gBACtD;gBACExiE,MAAM,CAACgK,GAAP,CAAW2H,UAAX,CAAsB,IAAtB;cACD,CAHD,MAGO;gBACL3R,MAAM,CAACozB,IAAP,CAAYlD,WAAZ,CAAwBsyC,cAAxB;cACD;YACF;;YACD,OAAO5iE,OAAO,CAACG,IAAR,CAAa2G,QAAQ,CAACwpB,WAAtB,CAAP;UACD,CA7HE;UA8HHkyC,SAAS,EAAE,UAAS3iB,KAAT,EAAgB;YACzBA,KAAK,GAAGA,KAAK,IAAI7/C,OAAO,CAACiT,IAAR,CAAa,OAAb,CAAT,IAAkC,EAA1C;YACA,OAAO4sC,KAAK,CAAC1xC,OAAN,CAAc,aAAd,EAA6B,EAA7B,CAAP;UACD,CAjIE;UAkIH80D,gBAAgB,EAAE,UAASxoD,SAAT,EAAoB;YACpC,OAAOpc,CAAC,CAACQ,EAAF,CAAKkT,UAAL,CAAgBmnC,MAAhB,CAAuBz+B,SAAvB,CAAP;UACD,CApIE;UAqIH8oD,mBAAmB,EAAE,YAAW;YAC9B,IACEtjE,OAAO,GAAO1B,QAAQ,CAAC6P,aAAT,CAAuB,KAAvB,CADhB;YAAA,IAEEo1D,UAAU,GAAI;cACZ,aAAmB,gBADP;cAEZ,cAAmB,iBAFP;cAGZ,gBAAmB,mBAHP;cAIZ,mBAAmB;YAJP,CAFhB;YAAA,IAQE/oD,SARF;;YAUA,KAAIA,SAAJ,IAAiB+oD,UAAjB,EAA4B;cAC1B,IAAIvjE,OAAO,CAAC4/C,KAAR,CAAcplC,SAAd,MAA6Bjc,SAAjC,EAA4C;gBAC1C,OAAOglE,UAAU,CAAC/oD,SAAD,CAAjB;cACD;YACF;;YACD,OAAO,KAAP;UACD,CAtJE;UAuJH6mD,iBAAiB,EAAE,YAAW;YAC5B,IACErhE,OAAO,GAAO1B,QAAQ,CAAC6P,aAAT,CAAuB,KAAvB,CADhB;YAAA,IAEEo1D,UAAU,GAAI;cACZ,aAAmB,cADP;cAEZ,cAAmB,eAFP;cAGZ,gBAAmB,iBAHP;cAIZ,mBAAmB;YAJP,CAFhB;YAAA,IAQE/oD,SARF;;YAUA,KAAIA,SAAJ,IAAiB+oD,UAAjB,EAA4B;cAC1B,IAAIvjE,OAAO,CAAC4/C,KAAR,CAAcplC,SAAd,MAA6Bjc,SAAjC,EAA4C;gBAC1C,OAAOglE,UAAU,CAAC/oD,SAAD,CAAjB;cACD;YACF;;YACD,OAAO,KAAP;UACD;QAxKE,CAzbE;QAqmBPrQ,GAAG,EAAE;UACH2H,UAAU,EAAE,UAAS0xD,MAAT,EAAiB;YAC3B,IACEhpD,SAAS,GAAWhb,QAAQ,CAACgb,SAD/B;YAAA,IAEEwoD,gBAAgB,GAAI7iE,MAAM,CAACiH,GAAP,CAAW47D,gBAAX,CAA4BxoD,SAA5B,CAFtB;YAAA,IAGE6V,WAAW,GAASlwB,MAAM,CAACiH,GAAP,CAAWipB,WAAX,CAAuB,KAAvB,CAHtB;YAAA,IAIEozC,YAJF;YAAA,IAKEjmC,OALF;YAAA,IAMEg0B,MANF;YAAA,IAOEyR,gBAPF;YAAA,IAQES,WARF;YAAA,IASEC,eATF;;YAWA,IAAIX,gBAAgB,KAAKzkE,SAArB,IAAkCilE,MAAtC,EAA8C;cAC5CrjE,MAAM,CAACI,OAAP,CAAe,sCAAf;cACAkjE,YAAY,GAAG1jE,OAAO,CAACiT,IAAR,CAAa,OAAb,CAAf;cACAwqB,OAAO,GAAQz9B,OAAO,CAAC8I,IAAR,CAAa,SAAb,CAAf;cAEA2oD,MAAM,GAAGpzD,CAAC,CAAC,MAAMo/B,OAAN,GAAgB,KAAjB,CAAD,CAAyB/rB,QAAzB,CAAmCgyD,YAAnC,EAAkDt0C,WAAlD,CAA8DpvB,OAA9D,CAAT;cACAkjE,gBAAgB,GAAGzR,MAAM,CACtB//C,QADgB,CACP+I,SADO,EAEhBhQ,WAFgB,CAEJ1D,SAAS,CAACu7D,MAFN,EAGhB73D,WAHgB,CAGJ1D,SAAS,CAAC66D,OAHN,EAIhBlwD,QAJgB,CAIP3K,SAAS,CAAC4S,SAJH,EAKhBjI,QALgB,CAKP3K,SAAS,CAACgL,UALH,EAMhBoK,GANgB,CAMZ,eANY,CAAnB;cAQAwnD,WAAW,GAAGlS,MAAM,CACjB//C,QADW,CACF3K,SAAS,CAACu7D,MADR,EAEXnmD,GAFW,CAEP,eAFO,CAAd;;cAIA,IAAG,CAACmU,WAAJ,EAAiB;gBACfA,WAAW,GAAGmhC,MAAM,CACjBx+C,IADW,CACN,OADM,EACGywD,YADH,EAEX9vD,UAFW,CAEA,OAFA,EAGXnJ,WAHW,CAGC1D,SAAS,CAAC8lB,MAHX,EAIXpiB,WAJW,CAIC1D,SAAS,CAAC4sB,OAJX,EAKXlH,IALW,GAMXtQ,GANW,CAMP,SANO,CAAd;gBAQA/b,MAAM,CAACI,OAAP,CAAe,iCAAf,EAAkD8vB,WAAlD;gBACAlwB,MAAM,CAACozB,IAAP,CAAYlD,WAAZ,CAAwBA,WAAxB;cACD;;cAEDmhC,MAAM,CAAC/mD,MAAP;;cACA,IAAGw4D,gBAAgB,IAAIS,WAAvB,EAAoC;gBAClCvjE,MAAM,CAACS,KAAP,CAAa,gCAAb,EAA+C4Z,SAA/C;gBACAmpD,eAAe,GAAG,IAAlB;cACD,CAHD,MAIK,IAAGV,gBAAgB,IAAI,MAApB,IAA8B,CAACA,gBAAlC,EAAoD;gBACvD9iE,MAAM,CAACS,KAAP,CAAa,6BAAb,EAA4C4Z,SAA5C;gBACA;cACD,CAHI,MAIA;gBACHra,MAAM,CAACS,KAAP,CAAa,wBAAb,EAAuC4Z,SAAvC,EAAkD6V,WAAlD;gBACAszC,eAAe,GAAG,KAAlB;cACD;;cACDxjE,MAAM,CAACozB,IAAP,CAAYyvC,gBAAZ,CAA6BxoD,SAA7B,EAAwCmpD,eAAxC;YACD;;YACD,OAAQX,gBAAgB,KAAKzkE,SAAtB,GACHykE,gBADG,GAEHW,eAFJ;UAID,CA/DE;UAgEH9oD,OAAO,EAAE,YAAW;YAClB;YACA,OAAQ1a,MAAM,CAACgK,GAAP,CAAW2H,UAAX,OAA4BvT,SAApC;UACD;QAnEE,CArmBE;QA2qBPwL,EAAE,EAAE;UACF2P,SAAS,EAAE,YAAW;YACpB,OAAO3Z,OAAO,CAACwK,QAAR,CAAiBzD,SAAS,CAAC4S,SAA3B,CAAP;UACD,CAHC;UAIF2oD,MAAM,EAAE,YAAW;YACjB,OAAOtiE,OAAO,CAACwK,QAAR,CAAiBzD,SAAS,CAACu7D,MAA3B,CAAP;UACD,CANC;UAOFV,OAAO,EAAE,YAAW;YAClB,OAAO5hE,OAAO,CAACwK,QAAR,CAAiBzD,SAAS,CAAC66D,OAA3B,CAAP;UACD,CATC;UAUFS,OAAO,EAAE,YAAW;YAClB,OAAOriE,OAAO,CAACwK,QAAR,CAAiBzD,SAAS,CAACs7D,OAA3B,CAAP;UACD,CAZC;UAaFN,SAAS,EAAE,UAAStnD,SAAT,EAAoB;YAC7BA,SAAS,GAAGA,SAAS,IAAIhb,QAAQ,CAACgb,SAAlC;YACAA,SAAS,GAAG,MAAMA,SAAS,CAACtM,OAAV,CAAkB,GAAlB,EAAuB,GAAvB,CAAlB;YACA,OAASnO,OAAO,CAACoL,MAAR,CAAeqP,SAAf,EAA0B/X,MAA1B,GAAmC,CAA5C;UACD,CAjBC;UAkBFixB,OAAO,EAAE,YAAW;YAClB,OAAO3zB,OAAO,CAACgK,EAAR,CAAW,UAAX,CAAP;UACD,CApBC;UAqBF6iB,MAAM,EAAE,YAAW;YACjB,OAAO7sB,OAAO,CAACmc,GAAR,CAAY,YAAZ,MAA8B,QAArC;UACD,CAvBC;UAwBFu6C,SAAS,EAAE,YAAW;YACpB,OAAO2K,YAAY,KAAK,KAAxB;UACD;QA1BC,CA3qBG;QAwsBP70C,IAAI,EAAE,YAAW;UACfpsB,MAAM,CAACI,OAAP,CAAe,gBAAf;;UACA,IAAIJ,MAAM,CAAC4J,EAAP,CAAU2P,SAAV,EAAJ,EAA4B;YAC1BvZ,MAAM,CAAC6H,KAAP;UACD;;UACDhI,OAAO,CAACuI,IAAR,GALe,CAKC;;UAChBpI,MAAM,CAACsK,MAAP,CAAc7G,OAAd;UACAzD,MAAM,CAACsK,MAAP,CAAcipB,OAAd;;UACA,IAAGt1B,CAAC,CAACI,UAAF,CAAagB,QAAQ,CAAC6gE,YAAtB,CAAH,EAAuC;YACrC7gE,QAAQ,CAAC6gE,YAAT,CAAsB9gE,IAAtB,CAA2BS,OAA3B,EAAmC,YAAU;cACzCG,MAAM,CAACyjE,OAAP;YACH,CAFD;UAGD,CAJD,MAIO;YACHzjE,MAAM,CAACyjE,OAAP;UACH;QAEF,CAxtBM;QA0tBPA,OAAO,EAAE,YAAW;UAChBzjE,MAAM,CAACoH,GAAP,CAAWqlB,MAAX;UACAzsB,MAAM,CAACmiE,KAAP,CAAa11C,MAAb;UACAptB,QAAQ,CAACqf,MAAT,CAAgBtf,IAAhB,CAAqBS,OAArB;UACAR,QAAQ,CAACob,UAAT,CAAoBrb,IAApB,CAAyBS,OAAzB,EAJgB,CAKhB;QACH,CAhuBM;QAkuBPwsB,IAAI,EAAE,UAAS5oB,OAAT,EAAkB;UACtBzD,MAAM,CAACI,OAAP,CAAe,iBAAf,EAAkCqD,OAAlC;;UACA,IAAGzD,MAAM,CAACmiE,KAAP,CAAa5uC,OAAb,EAAH,EAA2B;YACzBvzB,MAAM,CAACsK,MAAP,CAAcmiB,MAAd;YACAzsB,MAAM,CAACoH,GAAP,CAAWmsB,OAAX;YACAl0B,QAAQ,CAAC4e,MAAT,CAAgB7e,IAAhB,CAAqBS,OAArB;YACAR,QAAQ,CAACob,UAAT,CAAoBrb,IAApB,CAAyBS,OAAzB,EAJyB,CAKzB;UACD;QACF,CA3uBM;QA6uBPqZ,MAAM,EAAE,YAAW;UACjB,IAAIlZ,MAAM,CAAC4J,EAAP,CAAU2pB,OAAV,EAAJ,EAA0B;YACxBvzB,MAAM,CAACosB,IAAP;UACD,CAFD,MAGK;YACHpsB,MAAM,CAACqsB,IAAP;UACD;QACF,CApvBM;QAsvBPlS,IAAI,EAAE,YAAW;UACfna,MAAM,CAACS,KAAP,CAAa,4BAAb;UACAb,OAAO,CAAC8+C,cAAR,CAAuBuiB,YAAvB;QACD,CAzvBM;QA2vBPyC,OAAO,EAAE,YAAW;UAClB1jE,MAAM,CAACS,KAAP,CAAa,wBAAb;UACAT,MAAM,CAACsK,MAAP,CAAcy4D,aAAd;UACAnjE,OAAO,CAAC8+C,cAAR,CAAuBuiB,YAAvB;QACD,CA/vBM;QAiwBPhgE,KAAK,EAAE;UACLqZ,KAAK,EAAE,YAAW;YAChBta,MAAM,CAACS,KAAP,CAAa,0BAAb;YACAT,MAAM,CAACsK,MAAP,CAAcy4D,aAAd;UACD;QAJI,CAjwBA;QAwwBPvgE,MAAM,EAAE,YAAW;UACjBxC,MAAM,CAACI,OAAP,CAAe,oBAAf;UACAR,OAAO,CAACyK,WAAR,CAAoB1D,SAAS,CAAC5E,QAA9B;QACD,CA3wBM;QA6wBPpB,OAAO,EAAE,YAAW;UAClBX,MAAM,CAACS,KAAP,CAAa,oBAAb;UACAb,OAAO,CAAC0R,QAAR,CAAiB3K,SAAS,CAAC5E,QAA3B;QACD,CAhxBM;QAkxBPG,OAAO,EAAE,UAASV,IAAT,EAAeW,KAAf,EAAsB;UAC7BnC,MAAM,CAACS,KAAP,CAAa,kBAAb,EAAiCe,IAAjC,EAAuCW,KAAvC;;UACA,IAAIlE,CAAC,CAACqB,aAAF,CAAgBkC,IAAhB,CAAJ,EAA4B;YAC1BvD,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAeF,QAAf,EAAyBmC,IAAzB;UACD,CAFD,MAGK,IAAGW,KAAK,KAAK/D,SAAb,EAAwB;YAC3B,IAAGH,CAAC,CAACqB,aAAF,CAAgBD,QAAQ,CAACmC,IAAD,CAAxB,CAAH,EAAoC;cAClCvD,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAeF,QAAQ,CAACmC,IAAD,CAAvB,EAA+BW,KAA/B;YACD,CAFD,MAGK;cACH9C,QAAQ,CAACmC,IAAD,CAAR,GAAiBW,KAAjB;YACD;UACF,CAPI,MAQA;YACH,OAAO9C,QAAQ,CAACmC,IAAD,CAAf;UACD;QACF,CAlyBM;QAmyBPsB,QAAQ,EAAE,UAAStB,IAAT,EAAeW,KAAf,EAAsB;UAC9B,IAAIlE,CAAC,CAACqB,aAAF,CAAgBkC,IAAhB,CAAJ,EAA4B;YAC1BvD,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAeS,MAAf,EAAuBwB,IAAvB;UACD,CAFD,MAGK,IAAGW,KAAK,KAAK/D,SAAb,EAAwB;YAC3B4B,MAAM,CAACwB,IAAD,CAAN,GAAeW,KAAf;UACD,CAFI,MAGA;YACH,OAAOnC,MAAM,CAACwB,IAAD,CAAb;UACD;QACF,CA7yBM;QA8yBPf,KAAK,EAAE,YAAW;UAChB,IAAG,CAACpB,QAAQ,CAACgV,MAAV,IAAoBhV,QAAQ,CAACoB,KAAhC,EAAuC;YACrC,IAAGpB,QAAQ,CAACP,WAAZ,EAAyB;cACvBkB,MAAM,CAAClB,WAAP,CAAmB4B,GAAnB,CAAuB1B,SAAvB;YACD,CAFD,MAGK;cACHgB,MAAM,CAACS,KAAP,GAAesC,QAAQ,CAACC,SAAT,CAAmBC,IAAnB,CAAwB7D,IAAxB,CAA6BmB,OAAO,CAACmC,IAArC,EAA2CnC,OAA3C,EAAoDlB,QAAQ,CAACmC,IAAT,GAAgB,GAApE,CAAf;cACAxB,MAAM,CAACS,KAAP,CAAayC,KAAb,CAAmB3C,OAAnB,EAA4BvB,SAA5B;YACD;UACF;QACF,CAxzBM;QAyzBPoB,OAAO,EAAE,YAAW;UAClB,IAAG,CAACf,QAAQ,CAACgV,MAAV,IAAoBhV,QAAQ,CAACe,OAA7B,IAAwCf,QAAQ,CAACoB,KAApD,EAA2D;YACzD,IAAGpB,QAAQ,CAACP,WAAZ,EAAyB;cACvBkB,MAAM,CAAClB,WAAP,CAAmB4B,GAAnB,CAAuB1B,SAAvB;YACD,CAFD,MAGK;cACHgB,MAAM,CAACI,OAAP,GAAiB2C,QAAQ,CAACC,SAAT,CAAmBC,IAAnB,CAAwB7D,IAAxB,CAA6BmB,OAAO,CAACmC,IAArC,EAA2CnC,OAA3C,EAAoDlB,QAAQ,CAACmC,IAAT,GAAgB,GAApE,CAAjB;cACAxB,MAAM,CAACI,OAAP,CAAe8C,KAAf,CAAqB3C,OAArB,EAA8BvB,SAA9B;YACD;UACF;QACF,CAn0BM;QAo0BPS,KAAK,EAAE,YAAW;UAChB,IAAG,CAACJ,QAAQ,CAACgV,MAAb,EAAqB;YACnBrU,MAAM,CAACP,KAAP,GAAesD,QAAQ,CAACC,SAAT,CAAmBC,IAAnB,CAAwB7D,IAAxB,CAA6BmB,OAAO,CAACd,KAArC,EAA4Cc,OAA5C,EAAqDlB,QAAQ,CAACmC,IAAT,GAAgB,GAArE,CAAf;YACAxB,MAAM,CAACP,KAAP,CAAayD,KAAb,CAAmB3C,OAAnB,EAA4BvB,SAA5B;UACD;QACF,CAz0BM;QA00BPF,WAAW,EAAE;UACX4B,GAAG,EAAE,UAASyC,OAAT,EAAkB;YACrB,IACEC,WADF,EAEEC,aAFF,EAGEC,YAHF;;YAKA,IAAGjE,QAAQ,CAACP,WAAZ,EAAyB;cACvBsE,WAAW,GAAK,IAAIxE,IAAJ,GAAWC,OAAX,EAAhB;cACAyE,YAAY,GAAI3E,IAAI,IAAIyE,WAAxB;cACAC,aAAa,GAAGD,WAAW,GAAGE,YAA9B;cACA3E,IAAI,GAAYyE,WAAhB;cACAtE,WAAW,CAACgD,IAAZ,CAAiB;gBACf,QAAmBqB,OAAO,CAAC,CAAD,CADX;gBAEf,aAAmB,GAAGhE,KAAH,CAASC,IAAT,CAAc+D,OAAd,EAAuB,CAAvB,KAA6B,EAFjC;gBAGf,WAAmBtD,OAHJ;gBAIf,kBAAmBwD;cAJJ,CAAjB;YAMD;;YACDE,YAAY,CAACvD,MAAM,CAAClB,WAAP,CAAmB0E,KAApB,CAAZ;YACAxD,MAAM,CAAClB,WAAP,CAAmB0E,KAAnB,GAA2BlC,UAAU,CAACtB,MAAM,CAAClB,WAAP,CAAmB2E,OAApB,EAA6B,GAA7B,CAArC;UACD,CArBU;UAsBXA,OAAO,EAAE,YAAW;YAClB,IACEC,KAAK,GAAGrE,QAAQ,CAACmC,IAAT,GAAgB,GAD1B;YAAA,IAEEmC,SAAS,GAAG,CAFd;YAIAhF,IAAI,GAAG,KAAP;YACA4E,YAAY,CAACvD,MAAM,CAAClB,WAAP,CAAmB0E,KAApB,CAAZ;YACAvF,CAAC,CAAC2D,IAAF,CAAO9C,WAAP,EAAoB,UAAS+C,KAAT,EAAgB9B,IAAhB,EAAsB;cACxC4D,SAAS,IAAI5D,IAAI,CAAC,gBAAD,CAAjB;YACD,CAFD;YAGA2D,KAAK,IAAI,MAAMC,SAAN,GAAkB,IAA3B;;YACA,IAAGkC,cAAH,EAAmB;cACjBnC,KAAK,IAAI,QAAQmC,cAAR,GAAyB,IAAlC;YACD;;YACD,IAAGD,WAAW,CAACtD,MAAZ,GAAqB,CAAxB,EAA2B;cACzBoB,KAAK,IAAI,MAAM,GAAN,GAAYkC,WAAW,CAACtD,MAAxB,GAAiC,GAA1C;YACD;;YACD,IAAI,CAAC/B,OAAO,CAACK,KAAR,KAAkBxC,SAAlB,IAA+BmC,OAAO,CAACqD,KAAR,KAAkBxF,SAAlD,KAAgEU,WAAW,CAACwD,MAAZ,GAAqB,CAAzF,EAA4F;cAC1F/B,OAAO,CAACO,cAAR,CAAuB4C,KAAvB;;cACA,IAAGnD,OAAO,CAACqD,KAAX,EAAkB;gBAChBrD,OAAO,CAACqD,KAAR,CAAc9E,WAAd;cACD,CAFD,MAGK;gBACHb,CAAC,CAAC2D,IAAF,CAAO9C,WAAP,EAAoB,UAAS+C,KAAT,EAAgB9B,IAAhB,EAAsB;kBACxCQ,OAAO,CAACG,GAAR,CAAYX,IAAI,CAAC,MAAD,CAAJ,GAAe,IAAf,GAAsBA,IAAI,CAAC,gBAAD,CAA1B,GAA6C,IAAzD;gBACD,CAFD;cAGD;;cACDQ,OAAO,CAACM,QAAR;YACD;;YACD/B,WAAW,GAAG,EAAd;UACD;QApDU,CA10BN;QAg4BP;QACA+E,MAAM,EAAE,UAAS9E,KAAT,EAAgB+E,eAAhB,EAAiCC,OAAjC,EAA0C;UAChD,IACEC,MAAM,GAAGlE,QADX;UAAA,IAEEmE,QAFF;UAAA,IAGEC,KAHF;UAAA,IAIEC,QAJF;UAMAL,eAAe,GAAGA,eAAe,IAAI5E,cAArC;UACA6E,OAAO,GAAWlE,OAAO,IAAYkE,OAArC;;UACA,IAAG,OAAOhF,KAAP,IAAgB,QAAhB,IAA4BiF,MAAM,KAAK5F,SAA1C,EAAqD;YACnDW,KAAK,GAAMA,KAAK,CAACqF,KAAN,CAAY,OAAZ,CAAX;YACAH,QAAQ,GAAGlF,KAAK,CAACuD,MAAN,GAAe,CAA1B;YACArE,CAAC,CAAC2D,IAAF,CAAO7C,KAAP,EAAc,UAASsF,KAAT,EAAgBlC,KAAhB,EAAuB;cACnC,IAAImC,cAAc,GAAID,KAAK,IAAIJ,QAAV,GACjB9B,KAAK,GAAGpD,KAAK,CAACsF,KAAK,GAAG,CAAT,CAAL,CAAiBE,MAAjB,CAAwB,CAAxB,EAA2BC,WAA3B,EAAR,GAAmDzF,KAAK,CAACsF,KAAK,GAAG,CAAT,CAAL,CAAiBlF,KAAjB,CAAuB,CAAvB,CADlC,GAEjBJ,KAFJ;;cAIA,IAAId,CAAC,CAACqB,aAAF,CAAiB0E,MAAM,CAACM,cAAD,CAAvB,KAA8CD,KAAK,IAAIJ,QAA3D,EAAuE;gBACrED,MAAM,GAAGA,MAAM,CAACM,cAAD,CAAf;cACD,CAFD,MAGK,IAAIN,MAAM,CAACM,cAAD,CAAN,KAA2BlG,SAA/B,EAA2C;gBAC9C8F,KAAK,GAAGF,MAAM,CAACM,cAAD,CAAd;gBACA,OAAO,KAAP;cACD,CAHI,MAIA,IAAIrG,CAAC,CAACqB,aAAF,CAAiB0E,MAAM,CAAC7B,KAAD,CAAvB,KAAqCkC,KAAK,IAAIJ,QAAlD,EAA8D;gBACjED,MAAM,GAAGA,MAAM,CAAC7B,KAAD,CAAf;cACD,CAFI,MAGA,IAAI6B,MAAM,CAAC7B,KAAD,CAAN,KAAkB/D,SAAtB,EAAkC;gBACrC8F,KAAK,GAAGF,MAAM,CAAC7B,KAAD,CAAd;gBACA,OAAO,KAAP;cACD,CAHI,MAIA;gBACH,OAAO,KAAP;cACD;YACF,CAtBD;UAuBD;;UACD,IAAKlE,CAAC,CAACI,UAAF,CAAc6F,KAAd,CAAL,EAA6B;YAC3BC,QAAQ,GAAGD,KAAK,CAAChB,KAAN,CAAYa,OAAZ,EAAqBD,eAArB,CAAX;UACD,CAFD,MAGK,IAAGI,KAAK,KAAK9F,SAAb,EAAwB;YAC3B+F,QAAQ,GAAGD,KAAX;UACD;;UAED,IAAGQ,KAAK,CAACC,OAAN,CAAc1E,aAAd,CAAH,EAAiC;YAC/BA,aAAa,CAAC6B,IAAd,CAAmBqC,QAAnB;UACD,CAFD,MAGK,IAAGlE,aAAa,KAAK7B,SAArB,EAAgC;YACnC6B,aAAa,GAAG,CAACA,aAAD,EAAgBkE,QAAhB,CAAhB;UACD,CAFI,MAGA,IAAGA,QAAQ,KAAK/F,SAAhB,EAA2B;YAC9B6B,aAAa,GAAGkE,QAAhB;UACD;;UACD,OAAQD,KAAK,KAAK9F,SAAX,GACH8F,KADG,GAEH,KAFJ;QAID;MAz7BM,CAAT;MA27BAlE,MAAM,CAACE,UAAP;IACD,CAh9BH;IAk9BA,OAAQD,aAAa,KAAK7B,SAAnB,GACH6B,aADG,GAEH,IAFJ;EAID,CAr+BD,CAf4C,CAs/B5C;;;EACAhC,CAAC,CAACQ,EAAF,CAAKkT,UAAL,CAAgBmnC,MAAhB,GAAyB,EAAzB;EAEA76C,CAAC,CAACQ,EAAF,CAAKkT,UAAL,CAAgBtS,QAAhB,GAA2B;IAEzB;IACAmC,IAAI,EAAY,YAHS;IAKzB;IACA6S,MAAM,EAAU,KANS;IAQzB;IACA5T,KAAK,EAAW,KATS;IAWzB;IACAL,OAAO,EAAS,KAZS;IAczB;IACAtB,WAAW,EAAK,IAfS;IAiBzB;IACAU,SAAS,EAAO,YAlBS;IAoBzB;IACA2+C,QAAQ,EAAQ,CArBS;IAuBzB;IACApL,OAAO,EAAS,MAxBS;IA0BzB;IACA3iB,OAAO,EAAS,YAAW,CAAE,CA3BJ;IA4BzB3V,UAAU,EAAM,YAAW,CAAE,CA5BJ;IA6BzBwD,MAAM,EAAU,YAAW,CAAE,CA7BJ;IA8BzBS,MAAM,EAAU,YAAW,CAAE,CA9BJ;IAgCzB;IACAnE,WAAW,EAAK,IAjCS;IAmCzB;IACAokC,aAAa,EAAG,GApCS;IAsCzB;IACAiT,YAAY,EAAI,KAvCS;IAyCzB;IACA1hC,WAAW,EAAK,KA1CS;IA4CzB;IACA7V,SAAS,EAAO,MA7CS;IA8CzBzI,QAAQ,EAAQ,KA9CS;IAgDzB;IACA0I,KAAK,EAAW,IAjDS;IAmD3B;IACEE,gBAAgB,EAAE,KApDO;IAsDzB9T,QAAQ,EAAG;MACTwpB,WAAW,EAAE;IADJ,CAtDc;IA0DzBvpB,SAAS,EAAK;MACZ4S,SAAS,EAAI,WADD;MAEZxX,QAAQ,EAAK,UAFD;MAGZ0qB,MAAM,EAAO,QAHD;MAIZy1C,MAAM,EAAO,IAJD;MAKZh9B,OAAO,EAAM,SALD;MAMZ+8B,OAAO,EAAM,SAND;MAOZT,OAAO,EAAM,KAPD;MAQZ7vD,UAAU,EAAG,YARD;MASZ4hB,OAAO,EAAM;IATD,CA1DW;IAsEzB;IACA9zB,KAAK,EAAE;MACLoiE,WAAW,EAAG,sHADT;MAEL8B,QAAQ,EAAM,oEAFT;MAGLl/D,MAAM,EAAQ,sCAHT;MAILi9D,OAAO,EAAO;IAJT;EAvEkB,CAA3B;AAiFC,CA1kCA,EA0kCGl8D,MA1kCH,EA0kCWtH,MA1kCX,EA0kCmBC,QA1kCnB;AA4kCD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA;;AAAC,CAAC,UAAUF,CAAV,EAAaC,MAAb,EAAqBC,QAArB,EAA+BC,SAA/B,EAA0C;EAE5C;;EAEAH,CAAC,CAACm8C,QAAF,GAAan8C,CAAC,CAACm8C,QAAF,IAAc,UAAS97C,GAAT,EAAc;IACvC,OAAOA,GAAG,IAAI,IAAP,IAAeA,GAAG,KAAKA,GAAG,CAACJ,MAAlC;EACD,CAFD;;EAIEA,MAAM,GAAI,OAAOA,MAAP,IAAiB,WAAjB,IAAgCA,MAAM,CAACuH,IAAP,IAAeA,IAAhD,GACLvH,MADK,GAEJ,OAAOwH,IAAP,IAAe,WAAf,IAA8BA,IAAI,CAACD,IAAL,IAAaA,IAA5C,GACEC,IADF,GAEE3C,QAAQ,CAAC,aAAD,CAAR,EAJN;;EAOF9E,CAAC,CAAC+2B,GAAF,GAAQ/2B,CAAC,CAACQ,EAAF,CAAKu2B,GAAL,GAAW,UAASt2B,UAAT,EAAqB;IAEtC,IACE;IACAkH,WAAW,GAAO3H,CAAC,CAACI,UAAF,CAAa,IAAb,IACZJ,CAAC,CAACC,MAAD,CADW,GAEZD,CAAC,CAAC,IAAD,CAJT;IAAA,IAKE4H,cAAc,GAAGD,WAAW,CAACE,QAAZ,IAAwB,EAL3C;IAAA,IAMEnH,IAAI,GAAa,IAAIC,IAAJ,GAAWC,OAAX,EANnB;IAAA,IAOEC,WAAW,GAAM,EAPnB;IAAA,IASEC,KAAK,GAAYC,SAAS,CAAC,CAAD,CAT5B;IAAA,IAUEC,aAAa,GAAK,OAAOF,KAAP,IAAgB,QAVpC;IAAA,IAWEG,cAAc,GAAG,GAAGC,KAAH,CAASC,IAAT,CAAcJ,SAAd,EAAyB,CAAzB,CAXnB;IAAA,IAaEiB,aAbF;IAgBA2F,WAAW,CACRhE,IADH,CACQ,YAAW;MACf,IACEvC,QAAQ,GAAcpB,CAAC,CAACqB,aAAF,CAAgBZ,UAAhB,CAAF,GAChBT,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAe,EAAf,EAAmBtB,CAAC,CAACQ,EAAF,CAAKu2B,GAAL,CAAS31B,QAA5B,EAAsCX,UAAtC,CADgB,GAEhBT,CAAC,CAACsB,MAAF,CAAS,EAAT,EAAatB,CAAC,CAACQ,EAAF,CAAKu2B,GAAL,CAAS31B,QAAtB,CAHN;MAAA,IAKE;MACAG,SAAS,GAASH,QAAQ,CAACG,SAN7B;MAAA,IAOEkH,QAAQ,GAAUrH,QAAQ,CAACqH,QAP7B;MAAA,IAQEZ,QAAQ,GAAUzG,QAAQ,CAACyG,QAR7B;MAAA,IASErG,KAAK,GAAaJ,QAAQ,CAACI,KAT7B;MAAA,IAUEkH,SAAS,GAAStH,QAAQ,CAACsH,SAV7B;MAAA,IAYE;MACAE,cAAc,GAAI,MAAMrH,SAb1B;MAAA,IAcEE,eAAe,GAAG,YAAYF,SAdhC;MAAA,IAgBE;MACAI,OAAO,GAAW3B,CAAC,CAAC,IAAD,CAjBrB;MAAA,IAkBE2lE,KAAK,GAAahkE,OAAO,CAAC2J,OAAR,CAAgBzD,QAAQ,CAACH,IAAzB,CAlBpB;MAAA,IAoBE;MACA0rB,QAAQ,GAAWhyB,QAAQ,CAACwkE,YAAV,GACd5lE,CAAC,CAACoB,QAAQ,CAACwkE,YAAV,CADa,GAEdjkE,OAvBN;MAAA,IAyBE;MACAkkE,YA1BF;MAAA,IA2BEhH,eA3BF;MAAA,IA4BEloD,GA5BF;MAAA,IA6BE7U,IA7BF;MAAA,IA8BEgkE,gBA9BF;MAAA,IAgCE;MACAlkE,OAAO,GAAW,IAjCpB;MAAA,IAkCEkE,OAAO,GAAWstB,QAAQ,CAAC,CAAD,CAlC5B;MAAA,IAmCEvxB,QAAQ,GAAUF,OAAO,CAACG,IAAR,CAAaL,eAAb,CAnCpB;MAAA,IAoCEM,MApCF;MAuCAA,MAAM,GAAG;QAEPE,UAAU,EAAE,YAAW;UACrB,IAAG,CAACjB,aAAJ,EAAmB;YACjBe,MAAM,CAACiD,IAAP,CAAYyV,MAAZ;UACD;;UACD1Y,MAAM,CAACG,WAAP;QACD,CAPM;QASPA,WAAW,EAAE,YAAW;UACtBH,MAAM,CAACI,OAAP,CAAe,4BAAf,EAA6CJ,MAA7C;UACAF,QAAQ,GAAGE,MAAX;UACAJ,OAAO,CACJG,IADH,CACQL,eADR,EACyBI,QADzB;QAGD,CAfM;QAiBP8C,OAAO,EAAE,YAAW;UAClB5C,MAAM,CAACI,OAAP,CAAe,gCAAf,EAAiDP,OAAjD;UACAD,OAAO,CACJiD,UADH,CACcnD,eADd,EAEGgN,GAFH,CAEO7F,cAFP;QAID,CAvBM;QAyBP5D,IAAI,EAAE;UACJyV,MAAM,EAAE,YAAW;YACjB,IACEsrD,YAAY,GAAGhkE,MAAM,CAACiH,GAAP,CAAWgB,KAAX,EADjB;;YAGA,IAAI+7D,YAAJ,EAAmB;cACjBhkE,MAAM,CAACI,OAAP,CAAe,iCAAf,EAAkD4jE,YAAlD;cACApkE,OAAO,CACJoI,EADH,CACMg8D,YAAY,GAAGn9D,cADrB,EACqC7G,MAAM,CAACiI,KAAP,CAAaoK,OADlD;YAGD,CALD,MAMK,IAAGhT,QAAQ,CAAC2I,EAAT,IAAe,KAAlB,EAAyB;cAC5BhI,MAAM,CAACS,KAAP,CAAa,mCAAb;cACAT,MAAM,CAACjB,KAAP;YACD;UACF;QAfG,CAzBC;QA2CPklE,MAAM,EAAE;UACNC,IAAI,EAAE,UAAS//D,QAAT,EAAmB;YACvB,IAAGA,QAAQ,KAAK/F,SAAb,IAA0B,OAAO+F,QAAP,IAAmB,QAAhD,EAA0D;cACxD,IAAI;gBACHA,QAAQ,GAAGggE,IAAI,CAACjX,KAAL,CAAW/oD,QAAX,CAAX;cACA,CAFD,CAGA,OAAM4E,CAAN,EAAS,CACP;cACD;YACF;;YACD,OAAO5E,QAAP;UACD;QAXK,CA3CD;QAyDP69B,IAAI,EAAE;UACJoiC,cAAc,EAAE,UAASxvD,GAAT,EAAc;YAC5B,IACEzQ,QADF;;YAGA,IAAGjG,MAAM,CAACwlC,OAAP,KAAmBtlC,SAAtB,EAAiC;cAC/B4B,MAAM,CAACP,KAAP,CAAaA,KAAK,CAACkkC,SAAnB;cACA;YACD;;YACDx/B,QAAQ,GAAGy/B,cAAc,CAACC,OAAf,CAAuBjvB,GAAvB,CAAX;YACA5U,MAAM,CAACS,KAAP,CAAa,uBAAb,EAAsCmU,GAAtC,EAA2CzQ,QAA3C;YACAA,QAAQ,GAAGnE,MAAM,CAACikE,MAAP,CAAcC,IAAd,CAAmB//D,QAAnB,CAAX;YACA,OAAOA,QAAP;UACD;QAbG,CAzDC;QAwEP6pD,KAAK,EAAE;UACLoW,cAAc,EAAE,UAASxvD,GAAT,EAAczQ,QAAd,EAAwB;YACtC,IAAGA,QAAQ,IAAIA,QAAQ,KAAK,EAA5B,EAAgC;cAC9BnE,MAAM,CAACS,KAAP,CAAa,6BAAb,EAA4C0D,QAA5C;cACA;YACD;;YACD,IAAGjG,MAAM,CAACwlC,OAAP,KAAmBtlC,SAAtB,EAAiC;cAC/B4B,MAAM,CAACP,KAAP,CAAaA,KAAK,CAACkkC,SAAnB;cACA;YACD;;YACD,IAAI1lC,CAAC,CAACqB,aAAF,CAAgB6E,QAAhB,CAAJ,EAAgC;cAC9BA,QAAQ,GAAGggE,IAAI,CAACE,SAAL,CAAelgE,QAAf,CAAX;YACD;;YACDy/B,cAAc,CAACE,OAAf,CAAuBlvB,GAAvB,EAA4BzQ,QAA5B;YACAnE,MAAM,CAACI,OAAP,CAAe,iCAAf,EAAkDwU,GAAlD,EAAuDzQ,QAAvD;UACD;QAfI,CAxEA;QA0FPpF,KAAK,EAAE,YAAW;UAEhB,IAAGiB,MAAM,CAAC4J,EAAP,CAAU7H,QAAV,EAAH,EAAyB;YACvB/B,MAAM,CAACS,KAAP,CAAa,yCAAb;YACA;UACD;;UAED,IAAGT,MAAM,CAAC4J,EAAP,CAAUs7B,OAAV,EAAH,EAAwB;YACtB,IAAG7lC,QAAQ,CAACilE,iBAAZ,EAA+B;cAC7BtkE,MAAM,CAACS,KAAP,CAAa,+BAAb;cACAT,MAAM,CAACukE,KAAP;YACD,CAHD,MAIK;cACHvkE,MAAM,CAACS,KAAP,CAAa,uDAAb;cACA;YACD;UACF,CAhBe,CAkBhB;;;UACA,IAAGpB,QAAQ,CAACmlE,WAAZ,EAAyB;YACvBvmE,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAeF,QAAQ,CAAC61B,OAAxB,EAAiCl1B,MAAM,CAACiH,GAAP,CAAWu9D,WAAX,EAAjC;UACD,CArBe,CAuBhB;;;UACA,IAAGnlE,QAAQ,CAAColE,aAAZ,EAA2B;YACzBplE,QAAQ,CAACU,IAAT,GAAgBC,MAAM,CAAC6P,GAAP,CAAW60D,QAAX,CAAoBrlE,QAAQ,CAACU,IAA7B,CAAhB;UACD,CA1Be,CA4BhB;;;UACA+8D,eAAe,GAAG98D,MAAM,CAACiH,GAAP,CAAW5H,QAAX,EAAlB,CA7BgB,CA+BhB;;UACA,IAAGy9D,eAAe,KAAK,KAAvB,EAA8B;YAC5B98D,MAAM,CAAC2kE,SAAP,GAAmB,IAAnB;YACA3kE,MAAM,CAACP,KAAP,CAAaA,KAAK,CAACmlE,UAAnB;YACA;UACD,CAJD,MAKK;YACH5kE,MAAM,CAAC2kE,SAAP,GAAmB,KAAnB;UACD,CAvCe,CAyChB;;;UACA/vD,GAAG,GAAG5U,MAAM,CAACiH,GAAP,CAAW49D,YAAX,EAAN;;UAEA,IAAG,CAACjwD,GAAD,IAAQ,CAAC5U,MAAM,CAAC4J,EAAP,CAAUk7D,MAAV,EAAZ,EAAgC;YAC9B9kE,MAAM,CAACP,KAAP,CAAaA,KAAK,CAACslE,UAAnB;YACA;UACD,CA/Ce,CAiDhB;;;UACAnwD,GAAG,GAAG5U,MAAM,CAAC6P,GAAP,CAAWqlB,OAAX,CAAoBtgB,GAApB,CAAN,CAlDgB,CAmDhB;;UACA,IAAI,CAACA,GAAD,IAAQ,CAAC5U,MAAM,CAAC4J,EAAP,CAAUk7D,MAAV,EAAb,EAAiC;YAC/B;UACD;;UAEDhI,eAAe,CAACloD,GAAhB,GAAsBvV,QAAQ,CAAC2lE,IAAT,GAAgBpwD,GAAtC,CAxDgB,CA0DhB;;UACAkvD,YAAY,GAAG7lE,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAe,EAAf,EAAmBF,QAAnB,EAA6B;YAC1CoJ,IAAI,EAASpJ,QAAQ,CAACoF,MAAT,IAAmBpF,QAAQ,CAACoJ,IADC;YAE1C1I,IAAI,EAASA,IAF6B;YAG1C6U,GAAG,EAAUvV,QAAQ,CAAC2lE,IAAT,GAAgBpwD,GAHa;YAI1CgwD,UAAU,EAAGvlE,QAAQ,CAAC4lE,SAJoB;YAK1CnzD,OAAO,EAAM,YAAW,CAAE,CALgB;YAM1CozD,OAAO,EAAM,YAAW,CAAE,CANgB;YAO1Cl8C,QAAQ,EAAK,YAAW,CAAE;UAPgB,CAA7B,CAAf;UAUAhpB,MAAM,CAACS,KAAP,CAAa,cAAb,EAA6BqjE,YAAY,CAAClvD,GAA1C;UACA5U,MAAM,CAACI,OAAP,CAAe,qBAAf,EAAsC0jE,YAAtC;;UACA,IAAGzkE,QAAQ,CAACoD,KAAT,KAAmB,OAAnB,IAA8BzC,MAAM,CAACgiC,IAAP,CAAYoiC,cAAZ,CAA2BxvD,GAA3B,CAAjC,EAAkE;YAChE5U,MAAM,CAACS,KAAP,CAAa,oCAAb;YACAT,MAAM,CAAC48D,OAAP,GAAiB58D,MAAM,CAACsd,MAAP,CAAcs/C,OAAd,EAAjB;YACA58D,MAAM,CAAC48D,OAAP,CAAeuI,WAAf,CAA2BphE,OAA3B,EAAoC,CAAE/D,MAAM,CAACgiC,IAAP,CAAYoiC,cAAZ,CAA2BxvD,GAA3B,CAAF,CAApC;YACA;UACD;;UAED,IAAI,CAACvV,QAAQ,CAAC45B,QAAd,EAAyB;YACvBj5B,MAAM,CAACS,KAAP,CAAa,iBAAb,EAAgCV,IAAhC,EAAsC+jE,YAAY,CAACr/D,MAAnD;YACAzE,MAAM,CAAColE,IAAP,CAAYxI,OAAZ;UACD,CAHD,MAIK;YACH,IAAG,CAACv9D,QAAQ,CAACgmE,oBAAV,IAAkC,CAACrlE,MAAM,CAACwD,KAA7C,EAAoD;cAClDxD,MAAM,CAACS,KAAP,CAAa,iBAAb,EAAgCV,IAAhC,EAAsC+jE,YAAY,CAACr/D,MAAnD;cACAzE,MAAM,CAAColE,IAAP,CAAYxI,OAAZ;cACA58D,MAAM,CAACwD,KAAP,GAAelC,UAAU,CAAC,YAAU,CAAE,CAAb,EAAejC,QAAQ,CAAC45B,QAAxB,CAAzB;YACD,CAJD,MAKK;cACHj5B,MAAM,CAACS,KAAP,CAAa,oBAAb,EAAmCpB,QAAQ,CAAC45B,QAA5C;cACA11B,YAAY,CAACvD,MAAM,CAACwD,KAAR,CAAZ;cACAxD,MAAM,CAACwD,KAAP,GAAelC,UAAU,CAAC,YAAW;gBACnC,IAAGtB,MAAM,CAACwD,KAAV,EAAiB;kBACf,OAAOxD,MAAM,CAACwD,KAAd;gBACD;;gBACDxD,MAAM,CAACS,KAAP,CAAa,2BAAb,EAA0CV,IAA1C,EAAgD+jE,YAAY,CAACr/D,MAA7D;gBACAzE,MAAM,CAAColE,IAAP,CAAYxI,OAAZ;cACD,CANwB,EAMtBv9D,QAAQ,CAAC45B,QANa,CAAzB;YAOD;UACF;QAEF,CA/LM;QAiMPrM,MAAM,EAAE;UACN04C,WAAW,EAAE,YAAW;YACtB,OAASjmE,QAAQ,CAACkmE,SAAT,KAAuB,IAAvB,IAAgClmE,QAAQ,CAACkmE,SAAT,KAAuB,MAAvB,IAAiC,CAACvlE,MAAM,CAAC4J,EAAP,CAAUjE,IAAV,EAA3E;UACD;QAHK,CAjMD;QAuMPiE,EAAE,EAAE;UACF7H,QAAQ,EAAE,YAAW;YACnB,OAAQnC,OAAO,CAACoL,MAAR,CAAelF,QAAQ,CAAC/D,QAAxB,EAAkCO,MAAlC,GAA2C,CAAnD;UACD,CAHC;UAIFkjE,aAAa,EAAE,YAAW;YACxB,OAAOnmE,QAAQ,CAACk9D,QAAT,KAAsB,MAAtB,IAAgCl9D,QAAQ,CAACk9D,QAAT,KAAsB,OAA7D;UACD,CANC;UAOF52D,IAAI,EAAE,YAAW;YACf,OAAO/F,OAAO,CAACgK,EAAR,CAAW,MAAX,KAAsBynB,QAAQ,CAACznB,EAAT,CAAY,MAAZ,CAA7B;UACD,CATC;UAUFk7D,MAAM,EAAE,YAAW;YACjB,OAAQzlE,QAAQ,CAAComE,YAAT,IAAyBpmE,QAAQ,CAACqmE,iBAAlC,IAAuDrmE,QAAQ,CAAC8E,QAAhE,IAA4E9E,QAAQ,CAACsmE,aAA7F;UACD,CAZC;UAaF74D,KAAK,EAAE,YAAW;YAChB,OAAOlN,OAAO,CAACgK,EAAR,CAAW,OAAX,CAAP;UACD,CAfC;UAgBFs7B,OAAO,EAAE,YAAW;YAClB,OAAQllC,MAAM,CAAC48D,OAAR,GACF58D,MAAM,CAAC48D,OAAP,CAAexe,KAAf,MAA0B,SADxB,GAEH,KAFJ;UAID,CArBC;UAsBFwnB,cAAc,EAAE,UAASC,GAAT,EAAc;YAC5B,IAAGA,GAAG,IAAIA,GAAG,CAACC,UAAJ,KAAmB1nE,SAA1B,IAAuCynE,GAAG,CAACC,UAAJ,KAAmB,CAA7D,EAAgE;cAC9D9lE,MAAM,CAACI,OAAP,CAAe,sCAAf;cACA,OAAO,IAAP;YACD,CAHD,MAIK;cACHJ,MAAM,CAACI,OAAP,CAAe,6BAAf;cACA,OAAO,KAAP;YACD;UACF,CA/BC;UAgCF2lE,aAAa,EAAE,UAAS5hE,QAAT,EAAmB;YAChC,IAAK,CAACnE,MAAM,CAAC4J,EAAP,CAAU47D,aAAV,EAAF,IAAgC,CAACvnE,CAAC,CAACI,UAAF,CAAagB,QAAQ,CAAC2mE,WAAtB,CAArC,EAA0E;cACxEhmE,MAAM,CAACI,OAAP,CAAe,2CAAf,EAA4Df,QAAQ,CAAC2mE,WAArE,EAAkF7hE,QAAlF;cACA,OAAO,IAAP;YACD;;YACDnE,MAAM,CAACS,KAAP,CAAa,gCAAb,EAA+CpB,QAAQ,CAAC2mE,WAAxD,EAAqE7hE,QAArE;;YACA,IAAI9E,QAAQ,CAAC2mE,WAAT,CAAqB7hE,QAArB,CAAJ,EAAqC;cACnCnE,MAAM,CAACS,KAAP,CAAa,8BAAb,EAA6C0D,QAA7C;cACA,OAAO,IAAP;YACD,CAHD,MAIK;cACHnE,MAAM,CAACS,KAAP,CAAa,8BAAb,EAA6C0D,QAA7C;cACA,OAAO,KAAP;YACD;UACF;QA9CC,CAvMG;QAwPP8hE,GAAG,EAAE;UACHtB,SAAS,EAAE,YAAW;YACpB,OAAQ3kE,MAAM,CAAC2kE,SAAP,IAAoB,KAA5B;UACD,CAHE;UAIHuB,SAAS,EAAE,YAAW;YACpBlmE,MAAM,CAACI,OAAP,CAAe,0EAAf;YACA,OAAOJ,MAAM,CAACimE,GAAP,CAAWE,UAAX,EAAP;UACD,CAPE;UAQHA,UAAU,EAAE,YAAW;YACrB,OAAQnmE,MAAM,CAAC48D,OAAP,IAAkB58D,MAAM,CAAC48D,OAAP,CAAexe,KAAf,MAA0B,UAApD;UACD,CAVE;UAWH8mB,OAAO,EAAE,YAAW;YAClB,OAAQllE,MAAM,CAAC48D,OAAP,IAAkB58D,MAAM,CAAC48D,OAAP,CAAexe,KAAf,MAA0B,UAApD;UACD,CAbE;UAcHp1B,QAAQ,EAAE,YAAW;YACnB,OAAQhpB,MAAM,CAAC48D,OAAP,KAAmB58D,MAAM,CAAC48D,OAAP,CAAexe,KAAf,MAA0B,UAA1B,IAAwCp+C,MAAM,CAAC48D,OAAP,CAAexe,KAAf,MAA0B,UAArF,CAAR;UACD;QAhBE,CAxPE;QA2QPvuC,GAAG,EAAE;UACHqlB,OAAO,EAAE,UAAStgB,GAAT,EAAcsgB,OAAd,EAAuB;YAC9B,IACEkxC,iBADF,EAEEC,iBAFF;;YAIA,IAAGzxD,GAAH,EAAQ;cACNwxD,iBAAiB,GAAGxxD,GAAG,CAACrP,KAAJ,CAAUlG,QAAQ,CAACuH,MAAT,CAAgB8L,QAA1B,CAApB;cACA2zD,iBAAiB,GAAGzxD,GAAG,CAACrP,KAAJ,CAAUlG,QAAQ,CAACuH,MAAT,CAAgBkM,QAA1B,CAApB;cACAoiB,OAAO,GAAaA,OAAO,IAAI71B,QAAQ,CAAC61B,OAAxC;;cACA,IAAGkxC,iBAAH,EAAsB;gBACpBpmE,MAAM,CAACS,KAAP,CAAa,oCAAb,EAAmD2lE,iBAAnD;gBACAnoE,CAAC,CAAC2D,IAAF,CAAOwkE,iBAAP,EAA0B,UAASvkE,KAAT,EAAgBykE,eAAhB,EAAiC;kBACzD,IACE;kBACAhkB,QAAQ,GAAIgkB,eAAe,CAACv3D,OAAhB,CAAwB,GAAxB,MAAiC,CAAC,CAAnC,GACPu3D,eAAe,CAAC5yC,MAAhB,CAAuB,CAAvB,EAA0B4yC,eAAe,CAAChkE,MAAhB,GAAyB,CAAnD,CADO,GAEPgkE,eAAe,CAAC5yC,MAAhB,CAAuB,CAAvB,EAA0B4yC,eAAe,CAAChkE,MAAhB,GAAyB,CAAnD,CAJN;kBAAA,IAKEH,KAAK,GAAMlE,CAAC,CAACqB,aAAF,CAAgB41B,OAAhB,KAA4BA,OAAO,CAACotB,QAAD,CAAP,KAAsBlkD,SAAnD,GACN82B,OAAO,CAACotB,QAAD,CADD,GAEL1iD,OAAO,CAACG,IAAR,CAAauiD,QAAb,MAA2BlkD,SAA5B,GACEwB,OAAO,CAACG,IAAR,CAAauiD,QAAb,CADF,GAEGjxB,QAAQ,CAACtxB,IAAT,CAAcuiD,QAAd,MAA4BlkD,SAA7B,GACEizB,QAAQ,CAACtxB,IAAT,CAAcuiD,QAAd,CADF,GAEEptB,OAAO,CAACotB,QAAD,CAXjB,CADyD,CAczD;;kBACA,IAAGngD,KAAK,KAAK/D,SAAb,EAAwB;oBACtB4B,MAAM,CAACP,KAAP,CAAaA,KAAK,CAAC8mE,iBAAnB,EAAsCjkB,QAAtC,EAAgD1tC,GAAhD;oBACAA,GAAG,GAAG,KAAN;oBACA,OAAO,KAAP;kBACD,CAJD,MAKK;oBACH5U,MAAM,CAACI,OAAP,CAAe,yBAAf,EAA0CkiD,QAA1C,EAAoDngD,KAApD;oBACAA,KAAK,GAAI9C,QAAQ,CAACm9D,gBAAV,GACJx8D,MAAM,CAACiH,GAAP,CAAWu/D,eAAX,CAA2BrkE,KAA3B,CADI,GAEJA,KAFJ;oBAIAyS,GAAG,GAAGA,GAAG,CAAC7G,OAAJ,CAAYu4D,eAAZ,EAA6BnkE,KAA7B,CAAN;kBACD;gBACF,CA5BD;cA6BD;;cACD,IAAGkkE,iBAAH,EAAsB;gBACpBrmE,MAAM,CAACS,KAAP,CAAa,oCAAb,EAAmD2lE,iBAAnD;gBACAnoE,CAAC,CAAC2D,IAAF,CAAOykE,iBAAP,EAA0B,UAASxkE,KAAT,EAAgBykE,eAAhB,EAAiC;kBACzD,IACE;kBACAhkB,QAAQ,GAAIgkB,eAAe,CAACv3D,OAAhB,CAAwB,GAAxB,MAAiC,CAAC,CAAnC,GACPu3D,eAAe,CAAC5yC,MAAhB,CAAuB,CAAvB,EAA0B4yC,eAAe,CAAChkE,MAAhB,GAAyB,CAAnD,CADO,GAEPgkE,eAAe,CAAC5yC,MAAhB,CAAuB,CAAvB,EAA0B4yC,eAAe,CAAChkE,MAAhB,GAAyB,CAAnD,CAJN;kBAAA,IAKEH,KAAK,GAAMlE,CAAC,CAACqB,aAAF,CAAgB41B,OAAhB,KAA4BA,OAAO,CAACotB,QAAD,CAAP,KAAsBlkD,SAAnD,GACN82B,OAAO,CAACotB,QAAD,CADD,GAEL1iD,OAAO,CAACG,IAAR,CAAauiD,QAAb,MAA2BlkD,SAA5B,GACEwB,OAAO,CAACG,IAAR,CAAauiD,QAAb,CADF,GAEGjxB,QAAQ,CAACtxB,IAAT,CAAcuiD,QAAd,MAA4BlkD,SAA7B,GACEizB,QAAQ,CAACtxB,IAAT,CAAcuiD,QAAd,CADF,GAEEptB,OAAO,CAACotB,QAAD,CAXjB,CADyD,CAczD;;kBACA,IAAGngD,KAAK,KAAK/D,SAAb,EAAwB;oBACtB4B,MAAM,CAACI,OAAP,CAAe,yBAAf,EAA0CkiD,QAA1C,EAAoDngD,KAApD;oBACAyS,GAAG,GAAGA,GAAG,CAAC7G,OAAJ,CAAYu4D,eAAZ,EAA6BnkE,KAA7B,CAAN;kBACD,CAHD,MAIK;oBACHnC,MAAM,CAACI,OAAP,CAAe,6BAAf,EAA8CkiD,QAA9C,EADG,CAEH;;oBACA,IAAG1tC,GAAG,CAAC7F,OAAJ,CAAY,MAAMu3D,eAAlB,MAAuC,CAAC,CAA3C,EAA8C;sBAC5C1xD,GAAG,GAAGA,GAAG,CAAC7G,OAAJ,CAAY,MAAMu4D,eAAlB,EAAmC,EAAnC,CAAN;oBACD,CAFD,MAGK;sBACH1xD,GAAG,GAAGA,GAAG,CAAC7G,OAAJ,CAAYu4D,eAAZ,EAA6B,EAA7B,CAAN;oBACD;kBACF;gBACF,CA7BD;cA8BD;YACF;;YACD,OAAO1xD,GAAP;UACD,CA7EE;UA8EH8vD,QAAQ,EAAE,UAAS3kE,IAAT,EAAe;YACvB,IACE0mE,YAAY,GAAIxoE,CAAC,CAACQ,EAAF,CAAKioE,eAAL,KAAyBtoE,SAD3C;YAAA,IAEEsmE,QAAQ,GAAQ+B,YAAD,GACX7C,KAAK,CAAC8C,eAAN,EADW,GAEX9C,KAAK,CAAC+C,SAAN,EAJN;YAAA,IAKEC,YALF;YAOA7mE,IAAI,GAAWA,IAAI,IAAIV,QAAQ,CAACU,IAAhC;YACA6mE,YAAY,GAAG3oE,CAAC,CAACqB,aAAF,CAAgBS,IAAhB,CAAf;;YAEA,IAAG6mE,YAAH,EAAiB;cACf,IAAGH,YAAH,EAAiB;gBACfzmE,MAAM,CAACS,KAAP,CAAa,wCAAb,EAAuDV,IAAvD,EAA6D2kE,QAA7D;gBACA3kE,IAAI,GAAG9B,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAe,EAAf,EAAmBQ,IAAnB,EAAyB2kE,QAAzB,CAAP;cACD,CAHD,MAIK;gBACH1kE,MAAM,CAACP,KAAP,CAAaA,KAAK,CAAConE,gBAAnB;gBACA7mE,MAAM,CAACS,KAAP,CAAa,iDAAb,EAAgEV,IAAhE,EAAsE2kE,QAAtE;gBACA3kE,IAAI,GAAG2kE,QAAP;cACD;YACF,CAVD,MAWK;cACH1kE,MAAM,CAACS,KAAP,CAAa,kBAAb,EAAiCikE,QAAjC;cACA3kE,IAAI,GAAG2kE,QAAP;YACD;;YACD,OAAO3kE,IAAP;UACD;QAzGE,CA3QE;QAuXPqlE,IAAI,EAAE;UACJxI,OAAO,EAAE,YAAW;YAClB58D,MAAM,CAACoH,GAAP,CAAW89B,OAAX;YACAllC,MAAM,CAAC48D,OAAP,GAAiB58D,MAAM,CAACsd,MAAP,CAAcs/C,OAAd,EAAjB;;YACA,IAAI58D,MAAM,CAAC4J,EAAP,CAAUk7D,MAAV,EAAJ,EAAyB;cACvB9kE,MAAM,CAAC8mE,SAAP,GAAmB9mE,MAAM,CAACsd,MAAP,CAAcwpD,SAAd,EAAnB;YACD,CAFD,MAGK;cACH9mE,MAAM,CAAC6lE,GAAP,GAAa7lE,MAAM,CAACsd,MAAP,CAAcuoD,GAAd,EAAb;YACD;;YACDxmE,QAAQ,CAACs7D,SAAT,CAAmBv7D,IAAnB,CAAwB2E,OAAxB,EAAiC/D,MAAM,CAAC48D,OAAxC,EAAiD58D,MAAM,CAAC6lE,GAAxD;UACD;QAXG,CAvXC;QAqYP59D,KAAK,EAAE;UACLoK,OAAO,EAAE,UAASpK,KAAT,EAAgB;YACvBjI,MAAM,CAACjB,KAAP;;YACA,IAAGkJ,KAAK,CAACQ,IAAN,IAAc,QAAd,IAA0BR,KAAK,CAACQ,IAAN,IAAc,OAA3C,EAAoD;cAClDR,KAAK,CAACC,cAAN;YACD;UACF,CANI;UAOL29D,GAAG,EAAE;YACHkB,MAAM,EAAE,YAAW,CACjB;YACD,CAHE;YAIHC,IAAI,EAAE,UAAS7iE,QAAT,EAAmB8iE,UAAnB,EAA+BpB,GAA/B,EAAoC;cACxC,IACE9hE,OAAO,GAAc,IADvB;cAAA,IAEEmjE,WAAW,GAAW,IAAItoE,IAAJ,GAAWC,OAAX,KAAuBklE,gBAF/C;cAAA,IAGEoD,QAAQ,GAAc9nE,QAAQ,CAAC+nE,eAAT,GAA2BF,WAHnD;cAAA,IAIEG,kBAAkB,GAAKppE,CAAC,CAACI,UAAF,CAAagB,QAAQ,CAACioE,UAAtB,CAAF,GACjBtnE,MAAM,CAAC4J,EAAP,CAAU47D,aAAV,MAA6B,CAACnmE,QAAQ,CAACkoE,WAAvC,GACEloE,QAAQ,CAACioE,UAAT,CAAoBloE,IAApB,CAAyB2E,OAAzB,EAAkC9F,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAe,EAAf,EAAmB4E,QAAnB,CAAlC,CADF,GAEE9E,QAAQ,CAACioE,UAAT,CAAoBloE,IAApB,CAAyB2E,OAAzB,EAAkCI,QAAlC,CAHe,GAIjB,KARN;cAUAgjE,QAAQ,GAAIA,QAAQ,GAAG,CAAZ,GACPA,QADO,GAEP,CAFJ;;cAIA,IAAGE,kBAAH,EAAuB;gBACrBrnE,MAAM,CAACS,KAAP,CAAa,8CAAb,EAA6DpB,QAAQ,CAACioE,UAAtE,EAAkFD,kBAAlF,EAAsGljE,QAAtG;gBACAA,QAAQ,GAAGkjE,kBAAX;cACD;;cACD,IAAGF,QAAQ,GAAG,CAAd,EAAiB;gBACfnnE,MAAM,CAACS,KAAP,CAAa,mDAAb,EAAkE0mE,QAAlE;cACD;;cACD7lE,UAAU,CAAC,YAAW;gBACpB,IAAItB,MAAM,CAAC4J,EAAP,CAAUm8D,aAAV,CAAwB5hE,QAAxB,CAAJ,EAAwC;kBACtCnE,MAAM,CAAC48D,OAAP,CAAeuI,WAAf,CAA2BphE,OAA3B,EAAoC,CAACI,QAAD,EAAW0hE,GAAX,CAApC;gBACD,CAFD,MAGK;kBACH7lE,MAAM,CAAC48D,OAAP,CAAe4K,UAAf,CAA0BzjE,OAA1B,EAAmC,CAAC8hE,GAAD,EAAM,SAAN,CAAnC;gBACD;cACF,CAPS,EAOPsB,QAPO,CAAV;YAQD,CAlCE;YAmCHM,IAAI,EAAE,UAAS5B,GAAT,EAAc6B,MAAd,EAAsBC,WAAtB,EAAmC;cACvC,IACE5jE,OAAO,GAAO,IADhB;cAAA,IAEEmjE,WAAW,GAAI,IAAItoE,IAAJ,GAAWC,OAAX,KAAuBklE,gBAFxC;cAAA,IAGEoD,QAAQ,GAAO9nE,QAAQ,CAAC+nE,eAAT,GAA2BF,WAH5C;cAKAC,QAAQ,GAAIA,QAAQ,GAAG,CAAZ,GACPA,QADO,GAEP,CAFJ;;cAIA,IAAGA,QAAQ,GAAG,CAAd,EAAiB;gBACfnnE,MAAM,CAACS,KAAP,CAAa,mDAAb,EAAkE0mE,QAAlE;cACD;;cACD7lE,UAAU,CAAC,YAAW;gBACpB,IAAItB,MAAM,CAAC4J,EAAP,CAAUg8D,cAAV,CAAyBC,GAAzB,CAAJ,EAAoC;kBAClC7lE,MAAM,CAAC48D,OAAP,CAAe4K,UAAf,CAA0BzjE,OAA1B,EAAmC,CAAC8hE,GAAD,EAAM,SAAN,EAAiB8B,WAAjB,CAAnC;gBACD,CAFD,MAGK;kBACH3nE,MAAM,CAAC48D,OAAP,CAAe4K,UAAf,CAA0BzjE,OAA1B,EAAmC,CAAC8hE,GAAD,EAAM,OAAN,EAAe6B,MAAf,EAAuBC,WAAvB,CAAnC;gBACD;cACF,CAPS,EAOPR,QAPO,CAAV;YAQD;UAxDE,CAPA;UAiELvK,OAAO,EAAE;YACPoK,IAAI,EAAE,UAAS7iE,QAAT,EAAmB0hE,GAAnB,EAAwB;cAC5B7lE,MAAM,CAACS,KAAP,CAAa,yBAAb,EAAwC0D,QAAxC;;cACA,IAAG9E,QAAQ,CAACoD,KAAT,KAAmB,OAAnB,IAA8BmS,GAAjC,EAAsC;gBACpC5U,MAAM,CAACguD,KAAP,CAAaoW,cAAb,CAA4BxvD,GAA5B,EAAiCzQ,QAAjC;gBACAnE,MAAM,CAACS,KAAP,CAAa,gCAAb,EAA+CT,MAAM,CAACyC,KAAtD;cACD;;cACDpD,QAAQ,CAAC4T,SAAT,CAAmB7T,IAAnB,CAAwB2E,OAAxB,EAAiCI,QAAjC,EAA2CvE,OAA3C,EAAoDimE,GAApD;YACD,CARM;YASP78C,QAAQ,EAAE,UAAS4+C,cAAT,EAAyBC,eAAzB,EAA0C;cAClD,IACEhC,GADF,EAEE1hE,QAFF,CADkD,CAKlD;;cACA,IAAInE,MAAM,CAACimE,GAAP,CAAWE,UAAX,EAAJ,EAA8B;gBAC5BhiE,QAAQ,GAAGyjE,cAAX;gBACA/B,GAAG,GAAQgC,eAAX;cACD,CAHD,MAIK;gBACHhC,GAAG,GAAQ+B,cAAX;gBACAzjE,QAAQ,GAAGnE,MAAM,CAACiH,GAAP,CAAW6gE,eAAX,CAA2BjC,GAA3B,CAAX;cACD;;cACD7lE,MAAM,CAACsK,MAAP,CAAc46B,OAAd;cACA7lC,QAAQ,CAACob,UAAT,CAAoBrb,IAApB,CAAyB2E,OAAzB,EAAkCI,QAAlC,EAA4CvE,OAA5C,EAAqDimE,GAArD;YACD,CAzBM;YA0BP4B,IAAI,EAAE,UAAS5B,GAAT,EAAc6B,MAAd,EAAsBC,WAAtB,EAAmC;cACvC,IACE;cACAxjE,QAAQ,GAAOnE,MAAM,CAACiH,GAAP,CAAW6gE,eAAX,CAA2BjC,GAA3B,CAFjB;cAAA,IAGEkC,YAAY,GAAG/nE,MAAM,CAACiH,GAAP,CAAW+gE,gBAAX,CAA4B7jE,QAA5B,EAAsCujE,MAAtC,EAA8CC,WAA9C,CAHjB;;cAKA,IAAGD,MAAM,IAAI,SAAb,EAAwB;gBACtB1nE,MAAM,CAACS,KAAP,CAAa,oEAAb,EAAmFinE,MAAnF,EAA2FC,WAA3F;gBACAtoE,QAAQ,CAAC+tD,OAAT,CAAiBhuD,IAAjB,CAAsB2E,OAAtB,EAA+B2jE,MAA/B,EAAuC9nE,OAAvC,EAAgDimE,GAAhD;gBACA,OAAO,IAAP;cACD,CAJD,MAKK,IAAG6B,MAAM,IAAI,SAAb,EAAwB;gBAC3B1nE,MAAM,CAACS,KAAP,CAAa,8EAAb,EAA6F0D,QAA7F;cACD,CAFI,MAGA,IAAGujE,MAAM,IAAI,OAAb,EAAsB;gBACzB,IAAG7B,GAAG,KAAKznE,SAAX,EAAsB;kBACpB4B,MAAM,CAACS,KAAP,CAAa,6BAAb,EAA4CinE,MAA5C,EAAoDC,WAApD,EADoB,CAEpB;;kBACA,IAAI,CAAC9B,GAAG,CAAC6B,MAAJ,GAAa,GAAb,IAAoB7B,GAAG,CAAC6B,MAAJ,IAAc,GAAnC,KAA2CC,WAAW,KAAKvpE,SAA3D,IAAwEupE,WAAW,KAAK,EAA5F,EAAgG;oBAC9F3nE,MAAM,CAACP,KAAP,CAAaA,KAAK,CAACwoE,aAAN,GAAsBN,WAAnC,EAAgD7D,YAAY,CAAClvD,GAA7D;kBACD;;kBACDvV,QAAQ,CAAC65B,OAAT,CAAiB95B,IAAjB,CAAsB2E,OAAtB,EAA+BgkE,YAA/B,EAA6CnoE,OAA7C,EAAsDimE,GAAtD;gBACD;cACF;;cAED,IAAGxmE,QAAQ,CAAC25B,aAAT,IAA0B0uC,MAAM,KAAK,SAAxC,EAAmD;gBACjD1nE,MAAM,CAACS,KAAP,CAAa,oBAAb;gBACAT,MAAM,CAACoH,GAAP,CAAW3H,KAAX;;gBACA,IAAIO,MAAM,CAAC4sB,MAAP,CAAc04C,WAAd,EAAJ,EAAkC;kBAChChkE,UAAU,CAACtB,MAAM,CAACsK,MAAP,CAAc7K,KAAf,EAAsBJ,QAAQ,CAAC25B,aAA/B,CAAV;gBACD;cACF;;cACDh5B,MAAM,CAACS,KAAP,CAAa,oBAAb,EAAmCsnE,YAAnC,EAAiDlC,GAAjD;cACAxmE,QAAQ,CAACoU,SAAT,CAAmBrU,IAAnB,CAAwB2E,OAAxB,EAAiCI,QAAjC,EAA2CvE,OAA3C,EAAoDimE,GAApD;YACD;UA5DM;QAjEJ,CArYA;QAsgBPvoD,MAAM,EAAE;UAENs/C,OAAO,EAAE,YAAW;YAClB;YACA,OAAO3+D,CAAC,CAACiqE,QAAF,GACJnB,MADI,CACG/mE,MAAM,CAACiI,KAAP,CAAa20D,OAAb,CAAqB5zC,QADxB,EAEJg+C,IAFI,CAEChnE,MAAM,CAACiI,KAAP,CAAa20D,OAAb,CAAqBoK,IAFtB,EAGJS,IAHI,CAGCznE,MAAM,CAACiI,KAAP,CAAa20D,OAAb,CAAqB6K,IAHtB,CAAP;UAKD,CATK;UAWNX,SAAS,EAAE,YAAY;YACrB,IACE;YACAG,UAAU,GAAO,KAFnB;YAAA,IAGES,MAAM,GAAW,KAHnB;YAAA,IAIEC,WAAW,GAAM,KAJnB;YAAA,IAKEQ,SAAS,GAAQ9oE,QAAQ,CAAComE,YAAT,IAA8BpmE,QAAQ,CAAC8E,QAL1D;YAAA,IAMEikE,cAAc,GAAG/oE,QAAQ,CAACqmE,iBAAT,IAA8BrmE,QAAQ,CAACsmE,aAN1D;YAAA,IAOE0C,aAPF;YAAA,IAQElkE,QARF;YAAA,IASE2iE,SATF;YAYAA,SAAS,GAAG7oE,CAAC,CAACiqE,QAAF,GACTnB,MADS,CACF/mE,MAAM,CAACiI,KAAP,CAAa49D,GAAb,CAAiB78C,QADf,EAETg+C,IAFS,CAEJhnE,MAAM,CAACiI,KAAP,CAAa49D,GAAb,CAAiBmB,IAFb,EAGTS,IAHS,CAGJznE,MAAM,CAACiI,KAAP,CAAa49D,GAAb,CAAiB4B,IAHb,CAAZ;;YAMA,IAAGU,SAAH,EAAc;cACZ,IAAIlqE,CAAC,CAACI,UAAF,CAAa8pE,SAAb,CAAJ,EAA8B;gBAC5BnoE,MAAM,CAACS,KAAP,CAAa,sCAAb,EAAqD0nE,SAArD;gBACAhkE,QAAQ,GAAGgkE,SAAS,CAAC/oE,IAAV,CAAe2E,OAAf,EAAwB+4D,eAAxB,CAAX;cACD,CAHD,MAIK;gBACH98D,MAAM,CAACS,KAAP,CAAa,mCAAb,EAAkD0nE,SAAlD;gBACAhkE,QAAQ,GAAGgkE,SAAX;cACD,CARW,CASZ;;;cACArB,SAAS,CAAC3B,WAAV,CAAsBphE,OAAtB,EAA+B,CAAEI,QAAF,EAAY8iE,UAAZ,EAAwB;gBAAEqB,YAAY,EAAEnkE;cAAhB,CAAxB,CAA/B;YACD,CAXD,MAYK,IAAIlG,CAAC,CAACI,UAAF,CAAa+pE,cAAb,CAAJ,EAAmC;cACtCC,aAAa,GAAG,UAASlkE,QAAT,EAAmB;gBACjCnE,MAAM,CAACS,KAAP,CAAa,kCAAb,EAAiD0D,QAAjD;;gBAEA,IAAGA,QAAH,EAAa;kBACX2iE,SAAS,CAAC3B,WAAV,CAAsBphE,OAAtB,EAA+B,CAAEI,QAAF,EAAY8iE,UAAZ,EAAwB;oBAAEqB,YAAY,EAAEnkE;kBAAhB,CAAxB,CAA/B;gBACD,CAFD,MAGK;kBACH2iE,SAAS,CAACU,UAAV,CAAqBzjE,OAArB,EAA8B,CAAC;oBAAEukE,YAAY,EAAEnkE;kBAAhB,CAAD,EAA6BujE,MAA7B,EAAqCC,WAArC,CAA9B;gBACD;cACF,CATD;;cAUA3nE,MAAM,CAACS,KAAP,CAAa,yCAAb,EAAwD2nE,cAAxD;cACAA,cAAc,CAAChpE,IAAf,CAAoB2E,OAApB,EAA6B+4D,eAA7B,EAA8CuL,aAA9C;YACD;;YACD,OAAOvB,SAAP;UACD,CAzDK;UA2DNjB,GAAG,EAAE,YAAW;YACd,IACEA,GADF,CADc,CAId;;YACAA,GAAG,GAAG5nE,CAAC,CAACsqE,IAAF,CAAOzE,YAAP,EACHiD,MADG,CACI/mE,MAAM,CAACiI,KAAP,CAAa49D,GAAb,CAAiBkB,MADrB,EAEHC,IAFG,CAEEhnE,MAAM,CAACiI,KAAP,CAAa49D,GAAb,CAAiBmB,IAFnB,EAGHS,IAHG,CAGEznE,MAAM,CAACiI,KAAP,CAAa49D,GAAb,CAAiB4B,IAHnB,CAAN;YAKAznE,MAAM,CAACI,OAAP,CAAe,wBAAf,EAAyCylE,GAAzC,EAA8C/B,YAA9C;YACA,OAAO+B,GAAP;UACD;QAvEK,CAtgBD;QAglBPz+D,GAAG,EAAE;UACH3H,KAAK,EAAE,YAAW;YAChBO,MAAM,CAACI,OAAP,CAAe,+BAAf,EAAgDixB,QAAhD;YACAA,QAAQ,CAAC/f,QAAT,CAAkB3K,SAAS,CAAClH,KAA5B;UACD,CAJE;UAKHylC,OAAO,EAAE,YAAW;YAClBllC,MAAM,CAACI,OAAP,CAAe,iCAAf,EAAkDixB,QAAlD;YACAA,QAAQ,CAAC/f,QAAT,CAAkB3K,SAAS,CAACu+B,OAA5B;YACA6+B,gBAAgB,GAAG,IAAInlE,IAAJ,GAAWC,OAAX,EAAnB;UACD;QATE,CAhlBE;QA4lBPyL,MAAM,EAAE;UACN7K,KAAK,EAAE,YAAW;YAChBO,MAAM,CAACI,OAAP,CAAe,mCAAf,EAAoDixB,QAApD;YACAA,QAAQ,CAAChnB,WAAT,CAAqB1D,SAAS,CAAClH,KAA/B;UACD,CAJK;UAKNylC,OAAO,EAAE,YAAW;YAClBllC,MAAM,CAACI,OAAP,CAAe,qCAAf,EAAsDixB,QAAtD;YACAA,QAAQ,CAAChnB,WAAT,CAAqB1D,SAAS,CAACu+B,OAA/B;UACD;QARK,CA5lBD;QAumBPj+B,GAAG,EAAE;UACH6gE,eAAe,EAAE,UAASjC,GAAT,EAAc;YAC7B,OAAO5nE,CAAC,CAACqB,aAAF,CAAgBumE,GAAhB,IACF7lE,MAAM,CAAC4J,EAAP,CAAU47D,aAAV,EAAD,GACExlE,MAAM,CAACikE,MAAP,CAAcC,IAAd,CAAmB2B,GAAG,CAACyC,YAAvB,CADF,GAEEzC,GAAG,CAACyC,YAHH,GAIH,KAJJ;UAMD,CARE;UASHN,gBAAgB,EAAE,UAAS7jE,QAAT,EAAmBujE,MAAnB,EAA2BC,WAA3B,EAAwC;YACxD,OAAQ1pE,CAAC,CAACqB,aAAF,CAAgB6E,QAAhB,KAA6BA,QAAQ,CAAC1E,KAAT,KAAmBrB,SAAjD,GACH+F,QAAQ,CAAC1E,KADN,CACY;YADZ,EAEFJ,QAAQ,CAACI,KAAT,CAAeioE,MAAf,MAA2BtpE,SAA5B,CAAuC;YAAvC,EACEiB,QAAQ,CAACI,KAAT,CAAeioE,MAAf,CADF,GAEEC,WAJN;UAMD,CAhBE;UAiBH/K,OAAO,EAAE,YAAW;YAClB,OAAO58D,MAAM,CAAC48D,OAAP,IAAkB,KAAzB;UACD,CAnBE;UAoBHiJ,GAAG,EAAE,YAAW;YACd,OAAO7lE,MAAM,CAAC6lE,GAAP,IAAc,KAArB;UACD,CAtBE;UAuBHxmE,QAAQ,EAAE,YAAW;YACnB,IACEmpE,WADF;YAGAA,WAAW,GAAGnpE,QAAQ,CAACulE,UAAT,CAAoBxlE,IAApB,CAAyBQ,OAAzB,EAAkCP,QAAlC,CAAd;;YACA,IAAGmpE,WAAH,EAAgB;cACd,IAAGA,WAAW,CAAC12D,OAAZ,KAAwB1T,SAA3B,EAAsC;gBACpC4B,MAAM,CAACS,KAAP,CAAa,kCAAb,EAAiD+nE,WAAjD;gBACAxoE,MAAM,CAACP,KAAP,CAAaA,KAAK,CAACsG,gBAAnB,EAAqCyiE,WAAW,CAAC12D,OAAjD;gBACA02D,WAAW,CAACv1D,SAAZ,GAAwBu1D,WAAW,CAAC12D,OAApC;cACD;;cACD,IAAG02D,WAAW,CAACtD,OAAZ,KAAwB9mE,SAA3B,EAAsC;gBACpC4B,MAAM,CAACS,KAAP,CAAa,kCAAb,EAAiD+nE,WAAjD;gBACAxoE,MAAM,CAACP,KAAP,CAAaA,KAAK,CAACsG,gBAAnB,EAAqCyiE,WAAW,CAACtD,OAAjD;gBACAsD,WAAW,CAAC/0D,SAAZ,GAAwB+0D,WAAW,CAACtD,OAApC;cACD;;cACD,IAAGsD,WAAW,CAACx/C,QAAZ,KAAyB5qB,SAA5B,EAAuC;gBACrC4B,MAAM,CAACS,KAAP,CAAa,mCAAb,EAAkD+nE,WAAlD;gBACAxoE,MAAM,CAACP,KAAP,CAAaA,KAAK,CAACsG,gBAAnB,EAAqCyiE,WAAW,CAACx/C,QAAjD;gBACAw/C,WAAW,CAAC/tD,UAAZ,GAAyB+tD,WAAW,CAACx/C,QAArC;cACD;YACF;;YACD,IAAGw/C,WAAW,KAAKpqE,SAAnB,EAA8B;cAC5B4B,MAAM,CAACP,KAAP,CAAaA,KAAK,CAACgpE,eAAnB;YACD;;YACD,IAAGD,WAAW,KAAK,KAAnB,EAA0B;cACxB,OAAOA,WAAP;YACD;;YACD,OAAQA,WAAW,KAAKpqE,SAAjB,GACHH,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAe,EAAf,EAAmBipE,WAAnB,CADG,GAEHvqE,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAe,EAAf,EAAmBF,QAAnB,CAFJ;UAID,CAvDE;UAwDHmnE,eAAe,EAAE,UAASrkE,KAAT,EAAgB;YAC/B,IACEumE,YAAY,GAAKxqE,MAAM,CAACg5C,kBAAP,CAA0B/0C,KAA1B,CADnB;YAAA,IAEEwmE,YAAY,GAAKzqE,MAAM,CAACgvC,kBAAP,CAA0B/qC,KAA1B,CAFnB;YAAA,IAGEymE,cAAc,GAAIF,YAAY,KAAKvmE,KAHrC;;YAKA,IAAGymE,cAAH,EAAmB;cACjB5oE,MAAM,CAACS,KAAP,CAAa,wDAAb,EAAuE0B,KAAvE;cACA,OAAOA,KAAP;YACD;;YACDnC,MAAM,CAACI,OAAP,CAAe,yCAAf,EAA0D+B,KAA1D,EAAiEwmE,YAAjE;YACA,OAAOA,YAAP;UACD,CApEE;UAqEHnE,WAAW,EAAE,YAAW;YACtB,IACEzkE,IAAI,GAAG,EADT;;YAGA,IAAI,CAAC9B,CAAC,CAACm8C,QAAF,CAAWv6C,OAAX,CAAL,EAA2B;cACzB,IAAIG,MAAM,CAAC4J,EAAP,CAAUkD,KAAV,EAAJ,EAAwB;gBACtB/M,IAAI,CAACoC,KAAL,GAAavC,OAAO,CAAC6K,GAAR,EAAb;cACD,CAFD,MAGK,IAAIzK,MAAM,CAAC4J,EAAP,CAAUjE,IAAV,EAAJ,EAAuB,CAE3B,CAFI,MAGA;gBACH5F,IAAI,CAAC4N,IAAL,GAAY/N,OAAO,CAAC+N,IAAR,EAAZ;cACD;YACF;;YACD,OAAO5N,IAAP;UACD,CArFE;UAsFHkI,KAAK,EAAE,YAAW;YAChB,IAAIhK,CAAC,CAACm8C,QAAF,CAAWv6C,OAAX,KAAuBR,QAAQ,CAAC2I,EAAT,IAAe,KAA1C,EAAkD;cAChDhI,MAAM,CAACS,KAAP,CAAa,gDAAb;cACA,OAAO,KAAP;YACD,CAHD,MAIK,IAAGpB,QAAQ,CAAC2I,EAAT,IAAe,MAAlB,EAA0B;cAC7B,IAAIpI,OAAO,CAACgK,EAAR,CAAW,OAAX,CAAJ,EAA0B;gBACxB,OAAQ/J,OAAO,CAACoO,OAAR,KAAoB7P,SAArB,GACH,OADG,GAEFyB,OAAO,CAACqO,gBAAR,KAA6B9P,SAA9B,GACE,gBADF,GAEE,OAJN;cAMD,CAPD,MAQK,IAAIwB,OAAO,CAACgK,EAAR,CAAW,MAAX,CAAJ,EAAyB;gBAC5B,OAAO,QAAP;cACD,CAFI,MAGA;gBACH,OAAO,OAAP;cACD;YACF,CAfI,MAgBA;cACH,OAAOvK,QAAQ,CAAC2I,EAAhB;YACD;UACF,CA9GE;UA+GH68D,YAAY,EAAE,UAAS98D,MAAT,EAAiB;YAC7BA,MAAM,GAAGA,MAAM,IAAInI,OAAO,CAACG,IAAR,CAAa2G,QAAQ,CAACqB,MAAtB,CAAV,IAA2C1I,QAAQ,CAAC0I,MAApD,IAA8D,KAAvE;YACA6M,GAAG,GAAMhV,OAAO,CAACG,IAAR,CAAa2G,QAAQ,CAACkO,GAAtB,KAA8BvV,QAAQ,CAACuV,GAAvC,IAA8C,KAAvD;;YACA,IAAGA,GAAH,EAAQ;cACN5U,MAAM,CAACS,KAAP,CAAa,qBAAb,EAAoCmU,GAApC;cACA,OAAOA,GAAP;YACD;;YACD,IAAG7M,MAAH,EAAW;cACT/H,MAAM,CAACS,KAAP,CAAa,2BAAb,EAA0CsH,MAA1C,EAAkD1I,QAAQ,CAAC21B,GAA3D;;cACA,IAAG31B,QAAQ,CAAC21B,GAAT,CAAajtB,MAAb,MAAyB3J,SAAzB,IAAsC,CAAC4B,MAAM,CAAC4J,EAAP,CAAUk7D,MAAV,EAA1C,EAA8D;gBAC5D9kE,MAAM,CAACP,KAAP,CAAaA,KAAK,CAACopE,aAAnB,EAAkCxpE,QAAQ,CAAC0I,MAA3C,EAAmD1I,QAAQ,CAAC21B,GAA5D;gBACA;cACD;;cACDpgB,GAAG,GAAGvV,QAAQ,CAAC21B,GAAT,CAAajtB,MAAb,CAAN;YACD,CAPD,MAQK,IAAI/H,MAAM,CAAC4J,EAAP,CAAUjE,IAAV,EAAJ,EAAuB;cAC1BiP,GAAG,GAAGhV,OAAO,CAACiT,IAAR,CAAa,QAAb,KAA0Bwe,QAAQ,CAACxe,IAAT,CAAc,QAAd,CAA1B,IAAqD,KAA3D;cACA7S,MAAM,CAACS,KAAP,CAAa,uDAAb,EAAsEmU,GAAtE;YACD;;YACD,OAAOA,GAAP;UACD;QAnIE,CAvmBE;QA6uBP2vD,KAAK,EAAE,YAAW;UAChB,IACEsB,GAAG,GAAG7lE,MAAM,CAACiH,GAAP,CAAW4+D,GAAX,EADR;;UAGA,IAAIA,GAAG,IAAIA,GAAG,CAACznB,KAAJ,OAAgB,UAA3B,EAAuC;YACrCp+C,MAAM,CAACS,KAAP,CAAa,wBAAb;YACAolE,GAAG,CAACtB,KAAJ;UACD;QACF,CArvBM;QAuvBP;QACA18D,KAAK,EAAE,YAAW;UAChB7H,MAAM,CAACsK,MAAP,CAAc7K,KAAd;UACAO,MAAM,CAACsK,MAAP,CAAc46B,OAAd;QACD,CA3vBM;QA6vBPhjC,OAAO,EAAE,UAASV,IAAT,EAAeW,KAAf,EAAsB;UAC7BnC,MAAM,CAACS,KAAP,CAAa,kBAAb,EAAiCe,IAAjC,EAAuCW,KAAvC;;UACA,IAAIlE,CAAC,CAACqB,aAAF,CAAgBkC,IAAhB,CAAJ,EAA4B;YAC1BvD,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAeF,QAAf,EAAyBmC,IAAzB;UACD,CAFD,MAGK,IAAGW,KAAK,KAAK/D,SAAb,EAAwB;YAC3B,IAAGH,CAAC,CAACqB,aAAF,CAAgBD,QAAQ,CAACmC,IAAD,CAAxB,CAAH,EAAoC;cAClCvD,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAeF,QAAQ,CAACmC,IAAD,CAAvB,EAA+BW,KAA/B;YACD,CAFD,MAGK;cACH9C,QAAQ,CAACmC,IAAD,CAAR,GAAiBW,KAAjB;YACD;UACF,CAPI,MAQA;YACH,OAAO9C,QAAQ,CAACmC,IAAD,CAAf;UACD;QACF,CA7wBM;QA8wBPsB,QAAQ,EAAE,UAAStB,IAAT,EAAeW,KAAf,EAAsB;UAC9B,IAAIlE,CAAC,CAACqB,aAAF,CAAgBkC,IAAhB,CAAJ,EAA4B;YAC1BvD,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAeS,MAAf,EAAuBwB,IAAvB;UACD,CAFD,MAGK,IAAGW,KAAK,KAAK/D,SAAb,EAAwB;YAC3B4B,MAAM,CAACwB,IAAD,CAAN,GAAeW,KAAf;UACD,CAFI,MAGA;YACH,OAAOnC,MAAM,CAACwB,IAAD,CAAb;UACD;QACF,CAxxBM;QAyxBPf,KAAK,EAAE,YAAW;UAChB,IAAG,CAACpB,QAAQ,CAACgV,MAAV,IAAoBhV,QAAQ,CAACoB,KAAhC,EAAuC;YACrC,IAAGpB,QAAQ,CAACP,WAAZ,EAAyB;cACvBkB,MAAM,CAAClB,WAAP,CAAmB4B,GAAnB,CAAuB1B,SAAvB;YACD,CAFD,MAGK;cACHgB,MAAM,CAACS,KAAP,GAAesC,QAAQ,CAACC,SAAT,CAAmBC,IAAnB,CAAwB7D,IAAxB,CAA6BmB,OAAO,CAACmC,IAArC,EAA2CnC,OAA3C,EAAoDlB,QAAQ,CAACmC,IAAT,GAAgB,GAApE,CAAf;cACAxB,MAAM,CAACS,KAAP,CAAayC,KAAb,CAAmB3C,OAAnB,EAA4BvB,SAA5B;YACD;UACF;QACF,CAnyBM;QAoyBPoB,OAAO,EAAE,YAAW;UAClB,IAAG,CAACf,QAAQ,CAACgV,MAAV,IAAoBhV,QAAQ,CAACe,OAA7B,IAAwCf,QAAQ,CAACoB,KAApD,EAA2D;YACzD,IAAGpB,QAAQ,CAACP,WAAZ,EAAyB;cACvBkB,MAAM,CAAClB,WAAP,CAAmB4B,GAAnB,CAAuB1B,SAAvB;YACD,CAFD,MAGK;cACHgB,MAAM,CAACI,OAAP,GAAiB2C,QAAQ,CAACC,SAAT,CAAmBC,IAAnB,CAAwB7D,IAAxB,CAA6BmB,OAAO,CAACmC,IAArC,EAA2CnC,OAA3C,EAAoDlB,QAAQ,CAACmC,IAAT,GAAgB,GAApE,CAAjB;cACAxB,MAAM,CAACI,OAAP,CAAe8C,KAAf,CAAqB3C,OAArB,EAA8BvB,SAA9B;YACD;UACF;QACF,CA9yBM;QA+yBPS,KAAK,EAAE,YAAW;UAChB,IAAG,CAACJ,QAAQ,CAACgV,MAAb,EAAqB;YACnBrU,MAAM,CAACP,KAAP,GAAesD,QAAQ,CAACC,SAAT,CAAmBC,IAAnB,CAAwB7D,IAAxB,CAA6BmB,OAAO,CAACd,KAArC,EAA4Cc,OAA5C,EAAqDlB,QAAQ,CAACmC,IAAT,GAAgB,GAArE,CAAf;YACAxB,MAAM,CAACP,KAAP,CAAayD,KAAb,CAAmB3C,OAAnB,EAA4BvB,SAA5B;UACD;QACF,CApzBM;QAqzBPF,WAAW,EAAE;UACX4B,GAAG,EAAE,UAASyC,OAAT,EAAkB;YACrB,IACEC,WADF,EAEEC,aAFF,EAGEC,YAHF;;YAKA,IAAGjE,QAAQ,CAACP,WAAZ,EAAyB;cACvBsE,WAAW,GAAK,IAAIxE,IAAJ,GAAWC,OAAX,EAAhB;cACAyE,YAAY,GAAI3E,IAAI,IAAIyE,WAAxB;cACAC,aAAa,GAAGD,WAAW,GAAGE,YAA9B;cACA3E,IAAI,GAAYyE,WAAhB;cACAtE,WAAW,CAACgD,IAAZ,CAAiB;gBACf,QAAmBqB,OAAO,CAAC,CAAD,CADX;gBAEf,aAAmB,GAAGhE,KAAH,CAASC,IAAT,CAAc+D,OAAd,EAAuB,CAAvB,KAA6B,EAFjC;gBAGf;gBACA,kBAAmBE;cAJJ,CAAjB;YAMD;;YACDE,YAAY,CAACvD,MAAM,CAAClB,WAAP,CAAmB0E,KAApB,CAAZ;YACAxD,MAAM,CAAClB,WAAP,CAAmB0E,KAAnB,GAA2BlC,UAAU,CAACtB,MAAM,CAAClB,WAAP,CAAmB2E,OAApB,EAA6B,GAA7B,CAArC;UACD,CArBU;UAsBXA,OAAO,EAAE,YAAW;YAClB,IACEC,KAAK,GAAGrE,QAAQ,CAACmC,IAAT,GAAgB,GAD1B;YAAA,IAEEmC,SAAS,GAAG,CAFd;YAIAhF,IAAI,GAAG,KAAP;YACA4E,YAAY,CAACvD,MAAM,CAAClB,WAAP,CAAmB0E,KAApB,CAAZ;YACAvF,CAAC,CAAC2D,IAAF,CAAO9C,WAAP,EAAoB,UAAS+C,KAAT,EAAgB9B,IAAhB,EAAsB;cACxC4D,SAAS,IAAI5D,IAAI,CAAC,gBAAD,CAAjB;YACD,CAFD;YAGA2D,KAAK,IAAI,MAAMC,SAAN,GAAkB,IAA3B;;YACA,IAAGkC,cAAH,EAAmB;cACjBnC,KAAK,IAAI,QAAQmC,cAAR,GAAyB,IAAlC;YACD;;YACD,IAAI,CAACtF,OAAO,CAACK,KAAR,KAAkBxC,SAAlB,IAA+BmC,OAAO,CAACqD,KAAR,KAAkBxF,SAAlD,KAAgEU,WAAW,CAACwD,MAAZ,GAAqB,CAAzF,EAA4F;cAC1F/B,OAAO,CAACO,cAAR,CAAuB4C,KAAvB;;cACA,IAAGnD,OAAO,CAACqD,KAAX,EAAkB;gBAChBrD,OAAO,CAACqD,KAAR,CAAc9E,WAAd;cACD,CAFD,MAGK;gBACHb,CAAC,CAAC2D,IAAF,CAAO9C,WAAP,EAAoB,UAAS+C,KAAT,EAAgB9B,IAAhB,EAAsB;kBACxCQ,OAAO,CAACG,GAAR,CAAYX,IAAI,CAAC,MAAD,CAAJ,GAAe,IAAf,GAAsBA,IAAI,CAAC,gBAAD,CAA1B,GAA6C,IAAzD;gBACD,CAFD;cAGD;;cACDQ,OAAO,CAACM,QAAR;YACD;;YACD/B,WAAW,GAAG,EAAd;UACD;QAjDU,CArzBN;QAw2BP+E,MAAM,EAAE,UAAS9E,KAAT,EAAgB+E,eAAhB,EAAiCC,OAAjC,EAA0C;UAChD,IACEC,MAAM,GAAGlE,QADX;UAAA,IAEEmE,QAFF;UAAA,IAGEC,KAHF;UAAA,IAIEC,QAJF;UAMAL,eAAe,GAAGA,eAAe,IAAI5E,cAArC;UACA6E,OAAO,GAAWlE,OAAO,IAAYkE,OAArC;;UACA,IAAG,OAAOhF,KAAP,IAAgB,QAAhB,IAA4BiF,MAAM,KAAK5F,SAA1C,EAAqD;YACnDW,KAAK,GAAMA,KAAK,CAACqF,KAAN,CAAY,OAAZ,CAAX;YACAH,QAAQ,GAAGlF,KAAK,CAACuD,MAAN,GAAe,CAA1B;YACArE,CAAC,CAAC2D,IAAF,CAAO7C,KAAP,EAAc,UAASsF,KAAT,EAAgBlC,KAAhB,EAAuB;cACnC,IAAImC,cAAc,GAAID,KAAK,IAAIJ,QAAV,GACjB9B,KAAK,GAAGpD,KAAK,CAACsF,KAAK,GAAG,CAAT,CAAL,CAAiBE,MAAjB,CAAwB,CAAxB,EAA2BC,WAA3B,EAAR,GAAmDzF,KAAK,CAACsF,KAAK,GAAG,CAAT,CAAL,CAAiBlF,KAAjB,CAAuB,CAAvB,CADlC,GAEjBJ,KAFJ;;cAIA,IAAId,CAAC,CAACqB,aAAF,CAAiB0E,MAAM,CAACM,cAAD,CAAvB,KAA8CD,KAAK,IAAIJ,QAA3D,EAAuE;gBACrED,MAAM,GAAGA,MAAM,CAACM,cAAD,CAAf;cACD,CAFD,MAGK,IAAIN,MAAM,CAACM,cAAD,CAAN,KAA2BlG,SAA/B,EAA2C;gBAC9C8F,KAAK,GAAGF,MAAM,CAACM,cAAD,CAAd;gBACA,OAAO,KAAP;cACD,CAHI,MAIA,IAAIrG,CAAC,CAACqB,aAAF,CAAiB0E,MAAM,CAAC7B,KAAD,CAAvB,KAAqCkC,KAAK,IAAIJ,QAAlD,EAA8D;gBACjED,MAAM,GAAGA,MAAM,CAAC7B,KAAD,CAAf;cACD,CAFI,MAGA,IAAI6B,MAAM,CAAC7B,KAAD,CAAN,KAAkB/D,SAAtB,EAAkC;gBACrC8F,KAAK,GAAGF,MAAM,CAAC7B,KAAD,CAAd;gBACA,OAAO,KAAP;cACD,CAHI,MAIA;gBACHnC,MAAM,CAACP,KAAP,CAAaA,KAAK,CAACgF,MAAnB,EAA2B1F,KAA3B;gBACA,OAAO,KAAP;cACD;YACF,CAvBD;UAwBD;;UACD,IAAKd,CAAC,CAACI,UAAF,CAAc6F,KAAd,CAAL,EAA6B;YAC3BC,QAAQ,GAAGD,KAAK,CAAChB,KAAN,CAAYa,OAAZ,EAAqBD,eAArB,CAAX;UACD,CAFD,MAGK,IAAGI,KAAK,KAAK9F,SAAb,EAAwB;YAC3B+F,QAAQ,GAAGD,KAAX;UACD;;UACD,IAAGQ,KAAK,CAACC,OAAN,CAAc1E,aAAd,CAAH,EAAiC;YAC/BA,aAAa,CAAC6B,IAAd,CAAmBqC,QAAnB;UACD,CAFD,MAGK,IAAGlE,aAAa,KAAK7B,SAArB,EAAgC;YACnC6B,aAAa,GAAG,CAACA,aAAD,EAAgBkE,QAAhB,CAAhB;UACD,CAFI,MAGA,IAAGA,QAAQ,KAAK/F,SAAhB,EAA2B;YAC9B6B,aAAa,GAAGkE,QAAhB;UACD;;UACD,OAAOD,KAAP;QACD;MA75BM,CAAT;;MAg6BA,IAAGjF,aAAH,EAAkB;QAChB,IAAGa,QAAQ,KAAK1B,SAAhB,EAA2B;UACzB4B,MAAM,CAACE,UAAP;QACD;;QACDF,MAAM,CAAC6D,MAAP,CAAc9E,KAAd;MACD,CALD,MAMK;QACH,IAAGe,QAAQ,KAAK1B,SAAhB,EAA2B;UACzB0B,QAAQ,CAAC+D,MAAT,CAAgB,SAAhB;QACD;;QACD7D,MAAM,CAACE,UAAP;MACD;IACF,CAr9BH;IAw9BA,OAAQD,aAAa,KAAK7B,SAAnB,GACH6B,aADG,GAEH,IAFJ;EAID,CA9+BD;;EAg/BAhC,CAAC,CAAC+2B,GAAF,CAAM31B,QAAN,GAAiB;IAEfmC,IAAI,EAAgB,KAFL;IAGfhC,SAAS,EAAW,KAHL;IAKfiB,KAAK,EAAe,KALL;IAMfL,OAAO,EAAa,KANL;IAOftB,WAAW,EAAS,IAPL;IASf;IACAk2B,GAAG,EAAiB,EAVL;IAYf;IACAvyB,KAAK,EAAe,IAbL;IAef;IACA6hE,iBAAiB,EAAG,IAhBL;IAkBf;IACAt8D,EAAE,EAAkB,MAnBL;IAqBf;IACA67D,YAAY,EAAQ,KAtBL;IAwBf;IACAuD,eAAe,EAAK,CAzBL;IA2Bf;IACA7B,SAAS,EAAW,MA5BL;IA8Bf;IACAvsC,aAAa,EAAO,IA/BL;IAiCf;IACAwjC,gBAAgB,EAAI,IAlCL;IAoCf;IACAz0D,MAAM,EAAc,KArCL;IAuCf;IACA6M,GAAG,EAAiB,KAxCL;IA0Cf;IACAowD,IAAI,EAAgB,EA3CL;IA6Cf;IACA9vC,OAAO,EAAa,EA9CL;IAgDf;IACAsvC,WAAW,EAAY,IAjDR;IAmDf;IACAC,aAAa,EAAU,KApDR;IAsDf;IACAxrC,QAAQ,EAAe,CAvDR;IAyDf;IACAosC,oBAAoB,EAAG,IA1DR;IA4Df;IACA5gE,MAAM,EAAc,KA7DL;IA8Df1E,IAAI,EAAgB,EA9DL;IA+Dfw8D,QAAQ,EAAY,MA/DL;IAiEf;IACAkJ,YAAY,EAAQ,KAlEL;IAmEfC,iBAAiB,EAAG,KAnEL;IAqEf;IACAvhE,QAAQ,EAAY,KAtEL;IAuEfwhE,aAAa,EAAO,KAvEL;IAyEjB;IACE4B,WAAW,EAAS,KA1EL;IA4Ef;IACA3C,UAAU,EAAI,UAASvlE,QAAT,EAAmB;MAAE,OAAOA,QAAP;IAAkB,CA7EtC;IA8Ef4lE,SAAS,EAAK,UAASY,GAAT,EAAc,CAAE,CA9Ef;IA+EflL,SAAS,EAAK,UAAS0D,OAAT,EAAkBwH,GAAlB,EAAuB,CAAE,CA/ExB;IAiFf;IACAyB,UAAU,EAAI,KAlFC;IAkFM;IAErB;IACAr0D,SAAS,EAAK,UAAS9O,QAAT,EAAmBvE,OAAnB,EAA4B,CAAE,CArF7B;IAuFf;IACA6a,UAAU,EAAI,UAAStW,QAAT,EAAmBvE,OAAnB,EAA4B,CAAE,CAxF7B;IA0Ff;IACA6T,SAAS,EAAK,UAAStP,QAAT,EAAmBvE,OAAnB,EAA4B,CAAE,CA3F7B;IA6Ff;IACAs5B,OAAO,EAAO,UAAS6uC,YAAT,EAAuBnoE,OAAvB,EAAgC,CAAE,CA9FjC;IAgGf;IACAwtD,OAAO,EAAO,UAAS2a,YAAT,EAAuBnoE,OAAvB,EAAgC,CAAE,CAjGjC;IAmGfomE,WAAW,EAAG,KAnGC;IAqGf;IACAvmE,KAAK,EAAG;MACNmlE,UAAU,EAAU,kDADd;MAENnlE,KAAK,EAAe,sCAFd;MAGNqpE,cAAc,EAAM,0CAHd;MAINC,SAAS,EAAW,gDAJd;MAKNhjE,gBAAgB,EAAI,iDALd;MAMNtB,MAAM,EAAc,sCANd;MAONokE,aAAa,EAAO,wCAPd;MAQNhC,gBAAgB,EAAI,iFARd;MASN9B,UAAU,EAAU,gCATd;MAUN0D,eAAe,EAAK,4EAVd;MAWN9kC,SAAS,EAAW,oDAXd;MAYNqlC,UAAU,EAAU,yCAZd;MAaNzC,iBAAiB,EAAG,oCAbd;MAcN0B,aAAa,EAAO,wBAdd;MAeNgB,OAAO,EAAa;IAfd,CAtGO;IAwHfriE,MAAM,EAAI;MACR8L,QAAQ,EAAG,mBADH;MAERI,QAAQ,EAAG;IAFH,CAxHK;IA6HfnM,SAAS,EAAE;MACTu+B,OAAO,EAAG,SADD;MAETzlC,KAAK,EAAK;IAFD,CA7HI;IAkIfqG,QAAQ,EAAE;MACR/D,QAAQ,EAAG,WADH;MAER4D,IAAI,EAAQ;IAFJ,CAlIK;IAuIfe,QAAQ,EAAE;MACRqB,MAAM,EAAI,QADF;MAER6M,GAAG,EAAO;IAFF;EAvIK,CAAjB;AA+IC,CA9oCA,EA8oCGpP,MA9oCH,EA8oCWtH,MA9oCX,EA8oCmBC,QA9oCnB;AAgpCD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA;;AAAC,CAAC,UAAUF,CAAV,EAAaC,MAAb,EAAqBC,QAArB,EAA+BC,SAA/B,EAA0C;EAE5C;;EAEAH,CAAC,CAACI,UAAF,GAAeJ,CAAC,CAACI,UAAF,IAAgB,UAASC,GAAT,EAAc;IAC3C,OAAO,OAAOA,GAAP,KAAe,UAAf,IAA6B,OAAOA,GAAG,CAACC,QAAX,KAAwB,QAA5D;EACD,CAFD;;EAIAL,MAAM,GAAI,OAAOA,MAAP,IAAiB,WAAjB,IAAgCA,MAAM,CAACuH,IAAP,IAAeA,IAAhD,GACLvH,MADK,GAEJ,OAAOwH,IAAP,IAAe,WAAf,IAA8BA,IAAI,CAACD,IAAL,IAAaA,IAA5C,GACEC,IADF,GAEE3C,QAAQ,CAAC,aAAD,CAAR,EAJN;;EAOA9E,CAAC,CAACQ,EAAF,CAAK2/C,KAAL,GAAa,UAAS1/C,UAAT,EAAqB;IAChC,IACEkH,WAAW,GAAO3H,CAAC,CAAC,IAAD,CADrB;IAAA,IAGE4H,cAAc,GAAID,WAAW,CAACE,QAAZ,IAAwB,EAH5C;IAAA,IAKEnH,IAAI,GAAc,IAAIC,IAAJ,GAAWC,OAAX,EALpB;IAAA,IAMEC,WAAW,GAAO,EANpB;IAAA,IAQEC,KAAK,GAAaC,SAAS,CAAC,CAAD,CAR7B;IAAA,IASEC,aAAa,GAAM,OAAOF,KAAP,IAAgB,QATrC;IAAA,IAUEG,cAAc,GAAI,GAAGC,KAAH,CAASC,IAAT,CAAcJ,SAAd,EAAyB,CAAzB,CAVpB;IAAA,IAYEiB,aAZF;IAcA2F,WAAW,CACRhE,IADH,CACQ,YAAW;MACf,IACEvC,QAAQ,GAAcpB,CAAC,CAACqB,aAAF,CAAgBZ,UAAhB,CAAF,GAChBT,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAe,EAAf,EAAmBtB,CAAC,CAACQ,EAAF,CAAK2/C,KAAL,CAAW/+C,QAA9B,EAAwCX,UAAxC,CADgB,GAEhBT,CAAC,CAACsB,MAAF,CAAS,EAAT,EAAatB,CAAC,CAACQ,EAAF,CAAK2/C,KAAL,CAAW/+C,QAAxB,CAHN;MAAA,IAKEI,KAAK,GAAaJ,QAAQ,CAACI,KAL7B;MAAA,IAMEiH,QAAQ,GAAUrH,QAAQ,CAACqH,QAN7B;MAAA,IAOEC,SAAS,GAAStH,QAAQ,CAACsH,SAP7B;MAAA,IAQEnH,SAAS,GAASH,QAAQ,CAACG,SAR7B;MAAA,IASEkL,MAAM,GAAYrL,QAAQ,CAACqL,MAT7B;MAAA,IAUEiD,IAAI,GAActO,QAAQ,CAACsO,IAV7B;MAAA,IAYE9G,cAAc,GAAI,MAAMrH,SAZ1B;MAAA,IAaEE,eAAe,GAAGF,SAAS,GAAG,SAbhC;MAAA,IAeEI,OAAO,GAAW3B,CAAC,CAAC,IAAD,CAfrB;MAAA,IAiBE4B,OAAO,GAAW,IAjBpB;MAAA,IAkBEC,QAAQ,GAAUF,OAAO,CAACG,IAAR,CAAaL,eAAb,CAlBpB;MAAA,IAoBEM,MApBF;MAsBAA,MAAM,GAAG;QAEPE,UAAU,EAAE,YAAW;UACrBF,MAAM,CAACI,OAAP,CAAe,qBAAf,EADqB,CAGrB;;UACA,IAAGf,QAAQ,CAACqsD,SAAZ,EAAuB;YACrB1rD,MAAM,CAAC6P,GAAP,CAAWxI,QAAX;UACD,CANoB,CAQrB;;;UACA,IAAGhI,QAAQ,CAAC0E,OAAT,IAAoB8B,cAAc,KAAK,EAA1C,EAA8C;YAC5C5H,CAAC,CAACoB,QAAQ,CAAC0E,OAAV,CAAD,CACGiE,EADH,CACMnC,cADN,EACsB,eAAegB,cADrC,EACqD7G,MAAM,CAACiC,MAAP,CAAc0L,IADnE,EAEG3F,EAFH,CAEMnC,cAFN,EAEsB,eAAegB,cAFrC,EAEqD7G,MAAM,CAAC6H,KAAP,CAAa8F,IAFlE,EAGG3F,EAHH,CAGMnC,cAHN,EAGsB,UAAegB,cAHrC,EAGqD7G,MAAM,CAACkZ,MAAP,CAAcklC,KAHnE;UAKD,CAND,MAOK;YACHx+C,OAAO,CACJoI,EADH,CACM,eAAenB,cADrB,EACqC7G,MAAM,CAACiC,MAAP,CAAc0L,IADnD,EAEG3F,EAFH,CAEM,eAAenB,cAFrB,EAEqC7G,MAAM,CAAC6H,KAAP,CAAa8F,IAFlD,EAGG3F,EAHH,CAGM,UAAenB,cAHrB,EAGqC7G,MAAM,CAACkZ,MAAP,CAAcklC,KAHnD;UAKD;;UACDp+C,MAAM,CAACG,WAAP;QACD,CA1BM;QA4BPA,WAAW,EAAE,YAAW;UACtBH,MAAM,CAACI,OAAP,CAAe,4BAAf,EAA6CJ,MAA7C;UACAF,QAAQ,GAAGE,MAAX;UACAJ,OAAO,CACJG,IADH,CACQL,eADR,EACyBM,MADzB;QAGD,CAlCM;QAoCP4C,OAAO,EAAE,YAAW;UAClB5C,MAAM,CAACI,OAAP,CAAe,4BAAf,EAA6CN,QAA7C;UACAF,OAAO,CACJ8M,GADH,CACO7F,cADP,EAEGhE,UAFH,CAEcnD,eAFd;QAID,CA1CM;QA4CPwH,OAAO,EAAE,YAAW;UAClBlH,MAAM,CAACI,OAAP,CAAe,2BAAf;UACAR,OAAO,GAAG3B,CAAC,CAAC4B,OAAD,CAAX;QACD,CA/CM;QAiDPgQ,GAAG,EAAE;UACHxI,QAAQ,EAAE,YAAW;YACnB,IACE6hE,UAAU,GAAGxqE,UAAU,IAAIT,CAAC,CAACqB,aAAF,CAAgBZ,UAAU,CAACgM,MAA3B,CAAd,GACThM,UAAU,CAACgM,MADF,GAET,EAHN;YAKAzM,CAAC,CAAC2D,IAAF,CAAOvC,QAAQ,CAACgI,QAAhB,EAA0B,UAASoB,IAAT,EAAe0gE,UAAf,EAA2B;cACnD,IAAInpE,MAAM,CAAC4J,EAAP,CAAUnB,IAAV,MAAoBrK,SAApB,IAAiC4B,MAAM,CAAC4J,EAAP,CAAUnB,IAAV,GAArC,EAAyD;gBACvDzI,MAAM,CAACI,OAAP,CAAe,uBAAf,EAAwCqI,IAAxC,EAA8C5I,OAA9C;gBACA5B,CAAC,CAACsB,MAAF,CAASF,QAAQ,CAACqL,MAAlB,EAA0By+D,UAA1B,EAAsCD,UAAtC;cACD;YACF,CALD;UAMD;QAbE,CAjDE;QAiEPt/D,EAAE,EAAE;UAEF6P,MAAM,EAAE,YAAW;YACjB,OAAO7Z,OAAO,CAACwK,QAAR,CAAiBzD,SAAS,CAAC8S,MAA3B,CAAP;UACD,CAJC;UAKFyrB,OAAO,EAAE,YAAW;YAClB,OAAOtlC,OAAO,CAACwK,QAAR,CAAiBzD,SAAS,CAACu+B,OAA3B,CAAP;UACD,CAPC;UAQFkkC,QAAQ,EAAE,YAAW;YACnB,OAAO,CAAGxpE,OAAO,CAACwK,QAAR,CAAiBzD,SAAS,CAAC8S,MAA3B,CAAV;UACD,CAVC;UAWF2kC,KAAK,EAAE,UAASA,KAAT,EAAgB;YACrB,IAAGz3C,SAAS,CAACy3C,KAAD,CAAT,KAAqBhgD,SAAxB,EAAmC;cACjC,OAAO,KAAP;YACD;;YACD,OAAOwB,OAAO,CAACwK,QAAR,CAAkBzD,SAAS,CAACy3C,KAAD,CAA3B,CAAP;UACD,CAhBC;UAkBF38C,OAAO,EAAE,YAAW;YAClB,OAAO,CAAG7B,OAAO,CAACgK,EAAR,CAAWvK,QAAQ,CAAC2L,MAAT,CAAgByO,MAA3B,CAAV;UACD,CApBC;UAqBF1X,QAAQ,EAAE,YAAW;YACnB,OAASnC,OAAO,CAACgK,EAAR,CAAWvK,QAAQ,CAAC2L,MAAT,CAAgByO,MAA3B,CAAT;UACD,CAvBC;UAwBF4vD,WAAW,EAAE,YAAW;YACtB,OAAO,CAAGzpE,OAAO,CAACgK,EAAR,CAAWvK,QAAQ,CAAC2L,MAAT,CAAgB2C,IAA3B,CAAV;UACD,CA1BC;UA4BF;UACAgiC,MAAM,EAAE,YAAW;YACjB,OAAO/vC,OAAO,CAACgK,EAAR,CAAW,yBAAX,CAAP;UACD,CA/BC;UAgCFkD,KAAK,EAAE,YAAW;YAChB,OAAOlN,OAAO,CAACgK,EAAR,CAAW,OAAX,CAAP;UACD,CAlCC;UAmCFszC,QAAQ,EAAE,YAAW;YACnB,OAAOt9C,OAAO,CAACgK,EAAR,CAAW,cAAX,CAAP;UACD;QArCC,CAjEG;QAyGP0/D,KAAK,EAAE,UAASlrB,KAAT,EAAgB;UACrBp+C,MAAM,CAACS,KAAP,CAAa,oBAAb,EAAmC29C,KAAnC;UACA1zC,MAAM,CAAC0zC,KAAD,CAAN,GAAgB,IAAhB;QACD,CA5GM;QA6GPmrB,QAAQ,EAAE,UAASnrB,KAAT,EAAgB;UACxBp+C,MAAM,CAACS,KAAP,CAAa,oBAAb,EAAmC29C,KAAnC;UACA1zC,MAAM,CAAC0zC,KAAD,CAAN,GAAgB,KAAhB;QACD,CAhHM;QAkHPorB,MAAM,EAAE,UAASprB,KAAT,EAAgB;UACtB,OAAO1zC,MAAM,CAAC0zC,KAAD,CAAN,IAAiB,KAAxB;QACD,CApHM;QAsHP57C,MAAM,EAAE,YAAW;UACjB5C,OAAO,CAACyK,WAAR,CAAoB1D,SAAS,CAAC5E,QAA9B;QACD,CAxHM;QA0HPpB,OAAO,EAAE,YAAW;UAClBf,OAAO,CAAC0R,QAAR,CAAiB3K,SAAS,CAAC5E,QAA3B;QACD,CA5HM;QA8HP0nE,QAAQ,EAAE,UAASrrB,KAAT,EAAgB;UACxB,IAAGp+C,MAAM,CAACwpE,MAAP,CAAcprB,KAAd,CAAH,EAAyB;YACvBx+C,OAAO,CAAC0R,QAAR,CAAkB3K,SAAS,CAACy3C,KAAD,CAA3B;UACD;QACF,CAlIM;QAoIPsrB,WAAW,EAAE,UAAStrB,KAAT,EAAgB;UAC3B,IAAGp+C,MAAM,CAACwpE,MAAP,CAAcprB,KAAd,CAAH,EAAyB;YACvBx+C,OAAO,CAACyK,WAAR,CAAqB1D,SAAS,CAACy3C,KAAD,CAA9B;UACD;QACF,CAxIM;QA0IPllC,MAAM,EAAE;UACNklC,KAAK,EAAE,YAAW;YAChB,IACEurB,UADF,EAEEC,gBAFF;;YAIA,IAAI5pE,MAAM,CAACwpE,MAAP,CAAc,QAAd,KAA2BxpE,MAAM,CAAC4J,EAAP,CAAUnI,OAAV,EAA/B,EAAqD;cACnDzB,MAAM,CAACkH,OAAP;;cACA,IAAGjJ,CAAC,CAACQ,EAAF,CAAKu2B,GAAL,KAAa52B,SAAhB,EAA2B;gBACzBurE,UAAU,GAAS/pE,OAAO,CAACo1B,GAAR,CAAY,aAAZ,CAAnB;gBACA40C,gBAAgB,GAAGhqE,OAAO,CAACo1B,GAAR,CAAY,eAAZ,CAAnB;;gBACA,IAAI40C,gBAAJ,EAAuB;kBACrB5pE,MAAM,CAACS,KAAP,CAAa,qCAAb;;kBACApB,QAAQ,CAACwqE,YAAT,GAA0B,YAAU;oBAAE,OAAO,KAAP;kBAAe,CAArD;;kBACAxqE,QAAQ,CAACyqE,cAAT,GAA0B,YAAU;oBAAE,OAAO,KAAP;kBAAe,CAArD;gBACD,CAJD,MAKK,IAAGH,UAAH,EAAe;kBAClB3pE,MAAM,CAAC+pE,QAAP,CAAgBJ,UAAhB;kBACA;gBACD;cACF;;cACD3pE,MAAM,CAACiC,MAAP,CAAcm8C,KAAd;YACD;UACF;QAvBK,CA1ID;QAoKP2rB,QAAQ,EAAE,UAASJ,UAAT,EAAqB;UAC7B3pE,MAAM,CAACS,KAAP,CAAa,gDAAb,EAA+DkpE,UAA/D;;UACA,IAAGA,UAAH,EAAe;YACb,IAAGh8D,IAAI,CAACu3B,OAAR,EAAiB;cACfllC,MAAM,CAAC2kB,MAAP,CAAchX,IAAd,CAAmBA,IAAI,CAACu3B,OAAxB;YACD;;YACDjnC,CAAC,CAAC+rE,IAAF,CAAOL,UAAP,EACGM,IADH,CACQ,YAAW;cACf,IAAGN,UAAU,CAACvrB,KAAX,MAAsB,UAAzB,EAAqC;gBACnCp+C,MAAM,CAACS,KAAP,CAAa,uBAAb;;gBACApB,QAAQ,CAACwqE,YAAT,GAA0B,YAAU;kBAAE,OAAO,IAAP;gBAAc,CAApD;;gBACAxqE,QAAQ,CAACyqE,cAAT,GAA0B,YAAU;kBAAE,OAAO,IAAP;gBAAc,CAApD;cACD,CAJD,MAKK;gBACH9pE,MAAM,CAACS,KAAP,CAAa,oBAAb;;gBACApB,QAAQ,CAACwqE,YAAT,GAA0B,YAAU;kBAAE,OAAO,KAAP;gBAAe,CAArD;;gBACAxqE,QAAQ,CAACyqE,cAAT,GAA0B,YAAU;kBAAE,OAAO,KAAP;gBAAe,CAArD;cACD;;cACD9pE,MAAM,CAACiC,MAAP,CAAcm8C,KAAd;YACD,CAbH;UAeD;QACF,CA1LM;QA4LP;QACAn8C,MAAM,EAAE;UAENm8C,KAAK,EAAE,YAAW;YAChBp+C,MAAM,CAACS,KAAP,CAAa,oCAAb,EADgB,CAEhB;;YACA,IAAIT,MAAM,CAAC4J,EAAP,CAAUw/D,QAAV,EAAJ,EAA2B;cACzBppE,MAAM,CAAC8gC,QAAP;YACD,CAFD,MAGK;cACH9gC,MAAM,CAACi9D,UAAP;YACD;;YACD,IAAG59D,QAAQ,CAAC6qE,IAAZ,EAAkB;cAChBlqE,MAAM,CAACkqE,IAAP;YACD;;YACD7qE,QAAQ,CAAC2b,QAAT,CAAkB5b,IAAlB,CAAuBS,OAAvB;UACD,CAfK;UAiBN8N,IAAI,EAAE,YAAW;YACf,IAAI3N,MAAM,CAAC4J,EAAP,CAAUy/D,WAAV,EAAJ,EAA8B;cAC5B,IAAGrpE,MAAM,CAAC4J,EAAP,CAAU7H,QAAV,EAAH,EAA0B;gBACxB/B,MAAM,CAACI,OAAP,CAAe,gCAAf,EAAiDuN,IAAI,CAACw4C,KAAtD;gBACAnmD,MAAM,CAAC2kB,MAAP,CAAchX,IAAd,CAAmBA,IAAI,CAAC5L,QAAxB;cACD,CAHD,MAIK,IAAI/B,MAAM,CAAC4J,EAAP,CAAU6P,MAAV,EAAJ,EAAyB;gBAC5B,IAAG9L,IAAI,CAACw4C,KAAR,EAAe;kBACbnmD,MAAM,CAACI,OAAP,CAAe,6BAAf,EAA8CuN,IAAI,CAACw4C,KAAnD;kBACAnmD,MAAM,CAAC2kB,MAAP,CAAchX,IAAd,CAAmBA,IAAI,CAACw4C,KAAxB;gBACD,CAHD,MAIK,IAAGx4C,IAAI,CAACsvD,UAAR,EAAoB;kBACvBj9D,MAAM,CAACI,OAAP,CAAe,oCAAf,EAAqDuN,IAAI,CAACsvD,UAA1D;kBACAj9D,MAAM,CAAC2kB,MAAP,CAAchX,IAAd,CAAmBA,IAAI,CAACsvD,UAAxB;gBACD;cACF,CATI,MAUA;gBACH,IAAGtvD,IAAI,CAACw4C,KAAR,EAAe;kBACbnmD,MAAM,CAACI,OAAP,CAAe,6BAAf,EAA8CuN,IAAI,CAACw4C,KAAnD;kBACAnmD,MAAM,CAAC2kB,MAAP,CAAchX,IAAd,CAAmBA,IAAI,CAACw4C,KAAxB;gBACD,CAHD,MAIK,IAAGx4C,IAAI,CAACmzB,QAAR,EAAiB;kBACpB9gC,MAAM,CAACI,OAAP,CAAe,kCAAf,EAAmDuN,IAAI,CAACmzB,QAAxD;kBACA9gC,MAAM,CAAC2kB,MAAP,CAAchX,IAAd,CAAmBA,IAAI,CAACmzB,QAAxB;gBACD;cACF;YACF;UACF;QA5CK,CA7LD;QA6OPA,QAAQ,EAAE,YAAW;UACnB,IAAIzhC,QAAQ,CAACwqE,YAAT,CAAsBzqE,IAAtB,CAA2BS,OAA3B,CAAJ,EAA0C;YACxCG,MAAM,CAACS,KAAP,CAAa,yBAAb;YACAb,OAAO,CACJ0R,QADH,CACY3K,SAAS,CAAC8S,MADtB;YAGAzZ,MAAM,CAAC2kB,MAAP,CAAchX,IAAd,CAAmBA,IAAI,CAAC8L,MAAxB;YACApa,QAAQ,CAAC8qE,UAAT,CAAoB/qE,IAApB,CAAyBS,OAAzB;UACD;QACF,CAtPM;QAwPPo9D,UAAU,EAAE,YAAW;UACrB,IAAI59D,QAAQ,CAACyqE,cAAT,CAAwB1qE,IAAxB,CAA6BS,OAA7B,CAAJ,EAA4C;YAC1CG,MAAM,CAACS,KAAP,CAAa,2BAAb;YACAb,OAAO,CACJyK,WADH,CACe1D,SAAS,CAAC8S,MADzB;YAGAzZ,MAAM,CAAC2kB,MAAP,CAAchX,IAAd,CAAmBA,IAAI,CAACy7D,QAAxB;YACA/pE,QAAQ,CAAC+qE,YAAT,CAAsBhrE,IAAtB,CAA2BS,OAA3B;UACD;QACF,CAjQM;QAmQPqqE,IAAI,EAAE,YAAW;UACflqE,MAAM,CAACI,OAAP,CAAe,wCAAf;;UACA,IAAIJ,MAAM,CAAC4J,EAAP,CAAU6P,MAAV,EAAJ,EAAyB;YACvB7T,WAAW,CACRmP,GADH,CACOnV,OADP,EAEKw+C,KAFL,CAEW,UAFX;UAGD,CAJD,MAKK;YACHx4C,WAAW,CACRmP,GADH,CACOnV,OADP,EAEKw+C,KAFL,CAEW,YAFX;UAID;QACF,CAhRM;QAkRPn3C,GAAG,EAAE;UACH0G,IAAI,EAAE,YAAW;YACf,OAAQtO,QAAQ,CAACyG,QAAT,CAAkB6H,IAAnB,GACH/N,OAAO,CAAC6H,IAAR,CAAapI,QAAQ,CAACyG,QAAT,CAAkB6H,IAA/B,EAAqCA,IAArC,EADG,GAEH/N,OAAO,CAAC8R,IAAR,EAFJ;UAID,CANE;UAOH24D,OAAO,EAAE,UAASjsB,KAAT,EAAgB;YACvB,OAAOzwC,IAAI,CAACywC,KAAD,CAAJ,IAAe,KAAtB;UACD;QATE,CAlRE;QA8RPksB,KAAK,EAAE;UACL38D,IAAI,EAAE,UAASA,IAAT,EAAeiE,QAAf,EAAyBvQ,QAAzB,EAAmC;YACvC,IACEkpE,YAAY,GAAGvqE,MAAM,CAACiH,GAAP,CAAW0G,IAAX,EADjB;YAGA3N,MAAM,CAACS,KAAP,CAAa,uBAAb,EAAsCkN,IAAtC,EAA4CiE,QAA5C;YACAjE,IAAI,GAAOA,IAAI,IAAQtO,QAAQ,CAACsO,IAAT,CAAc28D,KAArC;YACA14D,QAAQ,GAAGA,QAAQ,IAAIvS,QAAQ,CAACmrE,aAAhC;;YACAnpE,QAAQ,GAAGA,QAAQ,IAAI,YAAW,CAAE,CAApC;;YACArB,MAAM,CAAC2kB,MAAP,CAAchX,IAAd,CAAmBA,IAAnB;YACArM,UAAU,CAAC,YAAU;cACnBtB,MAAM,CAAC2kB,MAAP,CAAchX,IAAd,CAAmB48D,YAAnB;cACAlpE,QAAQ,CAACjC,IAAT,CAAcS,OAAd;YACD,CAHS,EAGP+R,QAHO,CAAV;UAID;QAdI,CA9RA;QA+SP/J,KAAK,EAAE;UACL;UACA8F,IAAI,EAAE,YAAW;YACf,IACE88D,UAAU,GAAK98D,IAAI,CAAC8L,MAAL,IAAiB7Z,OAAO,CAACG,IAAR,CAAa2G,QAAQ,CAACgkE,UAAtB,CADlC;YAAA,IAEEC,YAAY,GAAGh9D,IAAI,CAACy7D,QAAL,IAAiBxpE,OAAO,CAACG,IAAR,CAAa2G,QAAQ,CAACgkE,UAAtB,CAFlC;;YAIA,IAAI1qE,MAAM,CAAC4J,EAAP,CAAUy/D,WAAV,EAAJ,EAA8B;cAC5B,IAAIrpE,MAAM,CAAC4J,EAAP,CAAU6P,MAAV,MAAsBgxD,UAA1B,EAAsC;gBACpCzqE,MAAM,CAACI,OAAP,CAAe,uBAAf,EAAwCqqE,UAAxC;gBACAzqE,MAAM,CAAC2kB,MAAP,CAAchX,IAAd,CAAmB88D,UAAnB;cACD,CAHD,MAIK,IAAGE,YAAH,EAAiB;gBACpB3qE,MAAM,CAACI,OAAP,CAAe,yBAAf,EAA0CqqE,UAA1C;gBACAzqE,MAAM,CAAC2kB,MAAP,CAAchX,IAAd,CAAmBg9D,YAAnB;cACD;YACF;UACF;QAjBI,CA/SA;QAmUPhmD,MAAM,EAAE;UACNhX,IAAI,EAAE,UAASA,IAAT,EAAe;YACnB,IACEi9D,WAAW,GAAG5qE,MAAM,CAACiH,GAAP,CAAW0G,IAAX,EADhB;;YAGA,IAAGA,IAAI,IAAIA,IAAI,KAAKi9D,WAApB,EAAiC;cAC/B5qE,MAAM,CAACS,KAAP,CAAa,eAAb,EAA8BkN,IAA9B;;cACA,IAAGtO,QAAQ,CAACyG,QAAT,CAAkB6H,IAArB,EAA2B;gBACzB/N,OAAO,CACJG,IADH,CACQ2G,QAAQ,CAACgkE,UADjB,EAC6B/8D,IAD7B,EAEGlG,IAFH,CAEQpI,QAAQ,CAACyG,QAAT,CAAkB6H,IAF1B,EAGKA,IAHL,CAGUA,IAHV;cAKD,CAND,MAOK;gBACH/N,OAAO,CACJG,IADH,CACQ2G,QAAQ,CAACgkE,UADjB,EAC6B/8D,IAD7B,EAEG+D,IAFH,CAEQ/D,IAFR;cAID;YACF,CAfD,MAgBK;cACH3N,MAAM,CAACS,KAAP,CAAa,sCAAb,EAAqDkN,IAArD;YACD;UACF;QAxBK,CAnUD;QA8VPzL,OAAO,EAAE,UAASV,IAAT,EAAeW,KAAf,EAAsB;UAC7BnC,MAAM,CAACS,KAAP,CAAa,kBAAb,EAAiCe,IAAjC,EAAuCW,KAAvC;;UACA,IAAIlE,CAAC,CAACqB,aAAF,CAAgBkC,IAAhB,CAAJ,EAA4B;YAC1BvD,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAeF,QAAf,EAAyBmC,IAAzB;UACD,CAFD,MAGK,IAAGW,KAAK,KAAK/D,SAAb,EAAwB;YAC3B,IAAGH,CAAC,CAACqB,aAAF,CAAgBD,QAAQ,CAACmC,IAAD,CAAxB,CAAH,EAAoC;cAClCvD,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAeF,QAAQ,CAACmC,IAAD,CAAvB,EAA+BW,KAA/B;YACD,CAFD,MAGK;cACH9C,QAAQ,CAACmC,IAAD,CAAR,GAAiBW,KAAjB;YACD;UACF,CAPI,MAQA;YACH,OAAO9C,QAAQ,CAACmC,IAAD,CAAf;UACD;QACF,CA9WM;QA+WPsB,QAAQ,EAAE,UAAStB,IAAT,EAAeW,KAAf,EAAsB;UAC9B,IAAIlE,CAAC,CAACqB,aAAF,CAAgBkC,IAAhB,CAAJ,EAA4B;YAC1BvD,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAeS,MAAf,EAAuBwB,IAAvB;UACD,CAFD,MAGK,IAAGW,KAAK,KAAK/D,SAAb,EAAwB;YAC3B4B,MAAM,CAACwB,IAAD,CAAN,GAAeW,KAAf;UACD,CAFI,MAGA;YACH,OAAOnC,MAAM,CAACwB,IAAD,CAAb;UACD;QACF,CAzXM;QA0XPf,KAAK,EAAE,YAAW;UAChB,IAAG,CAACpB,QAAQ,CAACgV,MAAV,IAAoBhV,QAAQ,CAACoB,KAAhC,EAAuC;YACrC,IAAGpB,QAAQ,CAACP,WAAZ,EAAyB;cACvBkB,MAAM,CAAClB,WAAP,CAAmB4B,GAAnB,CAAuB1B,SAAvB;YACD,CAFD,MAGK;cACHgB,MAAM,CAACS,KAAP,GAAesC,QAAQ,CAACC,SAAT,CAAmBC,IAAnB,CAAwB7D,IAAxB,CAA6BmB,OAAO,CAACmC,IAArC,EAA2CnC,OAA3C,EAAoDlB,QAAQ,CAACmC,IAAT,GAAgB,GAApE,CAAf;cACAxB,MAAM,CAACS,KAAP,CAAayC,KAAb,CAAmB3C,OAAnB,EAA4BvB,SAA5B;YACD;UACF;QACF,CApYM;QAqYPoB,OAAO,EAAE,YAAW;UAClB,IAAG,CAACf,QAAQ,CAACgV,MAAV,IAAoBhV,QAAQ,CAACe,OAA7B,IAAwCf,QAAQ,CAACoB,KAApD,EAA2D;YACzD,IAAGpB,QAAQ,CAACP,WAAZ,EAAyB;cACvBkB,MAAM,CAAClB,WAAP,CAAmB4B,GAAnB,CAAuB1B,SAAvB;YACD,CAFD,MAGK;cACHgB,MAAM,CAACI,OAAP,GAAiB2C,QAAQ,CAACC,SAAT,CAAmBC,IAAnB,CAAwB7D,IAAxB,CAA6BmB,OAAO,CAACmC,IAArC,EAA2CnC,OAA3C,EAAoDlB,QAAQ,CAACmC,IAAT,GAAgB,GAApE,CAAjB;cACAxB,MAAM,CAACI,OAAP,CAAe8C,KAAf,CAAqB3C,OAArB,EAA8BvB,SAA9B;YACD;UACF;QACF,CA/YM;QAgZPS,KAAK,EAAE,YAAW;UAChB,IAAG,CAACJ,QAAQ,CAACgV,MAAb,EAAqB;YACnBrU,MAAM,CAACP,KAAP,GAAesD,QAAQ,CAACC,SAAT,CAAmBC,IAAnB,CAAwB7D,IAAxB,CAA6BmB,OAAO,CAACd,KAArC,EAA4Cc,OAA5C,EAAqDlB,QAAQ,CAACmC,IAAT,GAAgB,GAArE,CAAf;YACAxB,MAAM,CAACP,KAAP,CAAayD,KAAb,CAAmB3C,OAAnB,EAA4BvB,SAA5B;UACD;QACF,CArZM;QAsZPF,WAAW,EAAE;UACX4B,GAAG,EAAE,UAASyC,OAAT,EAAkB;YACrB,IACEC,WADF,EAEEC,aAFF,EAGEC,YAHF;;YAKA,IAAGjE,QAAQ,CAACP,WAAZ,EAAyB;cACvBsE,WAAW,GAAK,IAAIxE,IAAJ,GAAWC,OAAX,EAAhB;cACAyE,YAAY,GAAI3E,IAAI,IAAIyE,WAAxB;cACAC,aAAa,GAAGD,WAAW,GAAGE,YAA9B;cACA3E,IAAI,GAAYyE,WAAhB;cACAtE,WAAW,CAACgD,IAAZ,CAAiB;gBACf,QAAmBqB,OAAO,CAAC,CAAD,CADX;gBAEf,aAAmB,GAAGhE,KAAH,CAASC,IAAT,CAAc+D,OAAd,EAAuB,CAAvB,KAA6B,EAFjC;gBAGf,WAAmBtD,OAHJ;gBAIf,kBAAmBwD;cAJJ,CAAjB;YAMD;;YACDE,YAAY,CAACvD,MAAM,CAAClB,WAAP,CAAmB0E,KAApB,CAAZ;YACAxD,MAAM,CAAClB,WAAP,CAAmB0E,KAAnB,GAA2BlC,UAAU,CAACtB,MAAM,CAAClB,WAAP,CAAmB2E,OAApB,EAA6B,GAA7B,CAArC;UACD,CArBU;UAsBXA,OAAO,EAAE,YAAW;YAClB,IACEC,KAAK,GAAGrE,QAAQ,CAACmC,IAAT,GAAgB,GAD1B;YAAA,IAEEmC,SAAS,GAAG,CAFd;YAIAhF,IAAI,GAAG,KAAP;YACA4E,YAAY,CAACvD,MAAM,CAAClB,WAAP,CAAmB0E,KAApB,CAAZ;YACAvF,CAAC,CAAC2D,IAAF,CAAO9C,WAAP,EAAoB,UAAS+C,KAAT,EAAgB9B,IAAhB,EAAsB;cACxC4D,SAAS,IAAI5D,IAAI,CAAC,gBAAD,CAAjB;YACD,CAFD;YAGA2D,KAAK,IAAI,MAAMC,SAAN,GAAkB,IAA3B;;YACA,IAAGkC,cAAH,EAAmB;cACjBnC,KAAK,IAAI,QAAQmC,cAAR,GAAyB,IAAlC;YACD;;YACD,IAAI,CAACtF,OAAO,CAACK,KAAR,KAAkBxC,SAAlB,IAA+BmC,OAAO,CAACqD,KAAR,KAAkBxF,SAAlD,KAAgEU,WAAW,CAACwD,MAAZ,GAAqB,CAAzF,EAA4F;cAC1F/B,OAAO,CAACO,cAAR,CAAuB4C,KAAvB;;cACA,IAAGnD,OAAO,CAACqD,KAAX,EAAkB;gBAChBrD,OAAO,CAACqD,KAAR,CAAc9E,WAAd;cACD,CAFD,MAGK;gBACHb,CAAC,CAAC2D,IAAF,CAAO9C,WAAP,EAAoB,UAAS+C,KAAT,EAAgB9B,IAAhB,EAAsB;kBACxCQ,OAAO,CAACG,GAAR,CAAYX,IAAI,CAAC,MAAD,CAAJ,GAAe,IAAf,GAAsBA,IAAI,CAAC,gBAAD,CAA1B,GAA6C,IAAzD;gBACD,CAFD;cAGD;;cACDQ,OAAO,CAACM,QAAR;YACD;;YACD/B,WAAW,GAAG,EAAd;UACD;QAjDU,CAtZN;QAycP+E,MAAM,EAAE,UAAS9E,KAAT,EAAgB+E,eAAhB,EAAiCC,OAAjC,EAA0C;UAChD,IACEC,MAAM,GAAGlE,QADX;UAAA,IAEEmE,QAFF;UAAA,IAGEC,KAHF;UAAA,IAIEC,QAJF;UAMAL,eAAe,GAAGA,eAAe,IAAI5E,cAArC;UACA6E,OAAO,GAAWlE,OAAO,IAAYkE,OAArC;;UACA,IAAG,OAAOhF,KAAP,IAAgB,QAAhB,IAA4BiF,MAAM,KAAK5F,SAA1C,EAAqD;YACnDW,KAAK,GAAMA,KAAK,CAACqF,KAAN,CAAY,OAAZ,CAAX;YACAH,QAAQ,GAAGlF,KAAK,CAACuD,MAAN,GAAe,CAA1B;YACArE,CAAC,CAAC2D,IAAF,CAAO7C,KAAP,EAAc,UAASsF,KAAT,EAAgBlC,KAAhB,EAAuB;cACnC,IAAImC,cAAc,GAAID,KAAK,IAAIJ,QAAV,GACjB9B,KAAK,GAAGpD,KAAK,CAACsF,KAAK,GAAG,CAAT,CAAL,CAAiBE,MAAjB,CAAwB,CAAxB,EAA2BC,WAA3B,EAAR,GAAmDzF,KAAK,CAACsF,KAAK,GAAG,CAAT,CAAL,CAAiBlF,KAAjB,CAAuB,CAAvB,CADlC,GAEjBJ,KAFJ;;cAIA,IAAId,CAAC,CAACqB,aAAF,CAAiB0E,MAAM,CAACM,cAAD,CAAvB,KAA8CD,KAAK,IAAIJ,QAA3D,EAAuE;gBACrED,MAAM,GAAGA,MAAM,CAACM,cAAD,CAAf;cACD,CAFD,MAGK,IAAIN,MAAM,CAACM,cAAD,CAAN,KAA2BlG,SAA/B,EAA2C;gBAC9C8F,KAAK,GAAGF,MAAM,CAACM,cAAD,CAAd;gBACA,OAAO,KAAP;cACD,CAHI,MAIA,IAAIrG,CAAC,CAACqB,aAAF,CAAiB0E,MAAM,CAAC7B,KAAD,CAAvB,KAAqCkC,KAAK,IAAIJ,QAAlD,EAA8D;gBACjED,MAAM,GAAGA,MAAM,CAAC7B,KAAD,CAAf;cACD,CAFI,MAGA,IAAI6B,MAAM,CAAC7B,KAAD,CAAN,KAAkB/D,SAAtB,EAAkC;gBACrC8F,KAAK,GAAGF,MAAM,CAAC7B,KAAD,CAAd;gBACA,OAAO,KAAP;cACD,CAHI,MAIA;gBACHnC,MAAM,CAACP,KAAP,CAAaA,KAAK,CAACgF,MAAnB,EAA2B1F,KAA3B;gBACA,OAAO,KAAP;cACD;YACF,CAvBD;UAwBD;;UACD,IAAKd,CAAC,CAACI,UAAF,CAAc6F,KAAd,CAAL,EAA6B;YAC3BC,QAAQ,GAAGD,KAAK,CAAChB,KAAN,CAAYa,OAAZ,EAAqBD,eAArB,CAAX;UACD,CAFD,MAGK,IAAGI,KAAK,KAAK9F,SAAb,EAAwB;YAC3B+F,QAAQ,GAAGD,KAAX;UACD;;UACD,IAAGQ,KAAK,CAACC,OAAN,CAAc1E,aAAd,CAAH,EAAiC;YAC/BA,aAAa,CAAC6B,IAAd,CAAmBqC,QAAnB;UACD,CAFD,MAGK,IAAGlE,aAAa,KAAK7B,SAArB,EAAgC;YACnC6B,aAAa,GAAG,CAACA,aAAD,EAAgBkE,QAAhB,CAAhB;UACD,CAFI,MAGA,IAAGA,QAAQ,KAAK/F,SAAhB,EAA2B;YAC9B6B,aAAa,GAAGkE,QAAhB;UACD;;UACD,OAAOD,KAAP;QACD;MA9fM,CAAT;;MAigBA,IAAGjF,aAAH,EAAkB;QAChB,IAAGa,QAAQ,KAAK1B,SAAhB,EAA2B;UACzB4B,MAAM,CAACE,UAAP;QACD;;QACDF,MAAM,CAAC6D,MAAP,CAAc9E,KAAd;MACD,CALD,MAMK;QACH,IAAGe,QAAQ,KAAK1B,SAAhB,EAA2B;UACzB0B,QAAQ,CAAC+D,MAAT,CAAgB,SAAhB;QACD;;QACD7D,MAAM,CAACE,UAAP;MACD;IACF,CAriBH;IAwiBA,OAAQD,aAAa,KAAK7B,SAAnB,GACH6B,aADG,GAEH,IAFJ;EAID,CA3jBD;;EA6jBAhC,CAAC,CAACQ,EAAF,CAAK2/C,KAAL,CAAW/+C,QAAX,GAAsB;IAEpB;IACAmC,IAAI,EAAa,OAHG;IAKpB;IACAf,KAAK,EAAY,KANG;IAQpB;IACAL,OAAO,EAAU,KATG;IAWpB;IACAZ,SAAS,EAAQ,OAZG;IAcpB;IACAV,WAAW,EAAM,IAfG;IAiBpB;IACAqrE,UAAU,EAAO,YAAW,CAAE,CAlBV;IAmBpBC,YAAY,EAAK,YAAW,CAAE,CAnBV;IAoBpBpvD,QAAQ,EAAS,YAAW,CAAE,CApBV;IAsBpB;IACA6uD,YAAY,EAAK,YAAW;MAAE,OAAO,IAAP;IAAc,CAvBxB;IAwBpBC,cAAc,EAAG,YAAW;MAAE,OAAO,IAAP;IAAc,CAxBxB;IA0BpB;IACApe,SAAS,EAAQ,IA3BG;IA6BpB;IACAwe,IAAI,EAAa,KA9BG;IAgCpB;IACAM,aAAa,EAAI,IAjCG;IAmCpB;IACAx/D,MAAM,EAAO;MACX2C,IAAI,EAAK,qBADE;MAEX8L,MAAM,EAAG;IAFE,CApCO;IAyCpB1V,OAAO,EAAM,KAzCO;IA2CpB;IACAtE,KAAK,EAAE;MACLmlE,UAAU,EAAG,qDADR;MAELngE,MAAM,EAAO;IAFR,CA5Ca;IAiDpB;IACAiC,QAAQ,EAAE;MACR23D,OAAO,EAAM,SADL;MAERqM,UAAU,EAAG;IAFL,CAlDU;IAuDpB;IACA/jE,SAAS,EAAE;MACT8S,MAAM,EAAK,QADF;MAET1X,QAAQ,EAAG,UAFF;MAGTtC,KAAK,EAAM,OAHF;MAITylC,OAAO,EAAI,SAJF;MAKTpzB,OAAO,EAAI,SALF;MAMTkuC,OAAO,EAAI;IANF,CAxDS;IAiEpBl6C,QAAQ,EAAE;MACR;MACA6H,IAAI,EAAE;IAFE,CAjEU;IAsEpBtG,QAAQ,EAAG;MACTyF,KAAK,EAAE;QACL/K,QAAQ,EAAG,IADN;QAELmjC,OAAO,EAAI,IAFN;QAGLzrB,MAAM,EAAK;MAHN,CADE;MAMTk2B,MAAM,EAAE;QACN5tC,QAAQ,EAAG,IADL;QAENmjC,OAAO,EAAI,IAFL;QAGNzrB,MAAM,EAAK;MAHL,CANC;MAWTyjC,QAAQ,EAAE;QACRzjC,MAAM,EAAK,IADH;QAER3H,OAAO,EAAI,IAFH;QAGRkuC,OAAO,EAAI,IAHH;QAIRvgD,KAAK,EAAM;MAJH;IAXD,CAtES;IAyFpBiL,MAAM,EAAO;MACX+O,MAAM,EAAK,IADA;MAEX1X,QAAQ,EAAG,IAFA;MAGXtC,KAAK,EAAM,IAHA;MAIXylC,OAAO,EAAI,IAJA;MAKXpzB,OAAO,EAAI,IALA;MAMXkuC,OAAO,EAAI;IANA,CAzFO;IAkGpBryC,IAAI,EAAO;MACT5L,QAAQ,EAAK,KADJ;MAETuoE,KAAK,EAAQ,KAFJ;MAGTnkB,KAAK,EAAQ,KAHJ;MAIT1sC,MAAM,EAAO,KAJJ;MAKT2vD,QAAQ,EAAK,KALJ;MAMTtoC,QAAQ,EAAK,KANJ;MAOTm8B,UAAU,EAAG;IAPJ;EAlGS,CAAtB;AAgHC,CA5rBA,EA4rBGz3D,MA5rBH,EA4rBWtH,MA5rBX,EA4rBmBC,QA5rBnB;AA8rBD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA;;AAAC,CAAC,UAAUF,CAAV,EAAaC,MAAb,EAAqBC,QAArB,EAA+BC,SAA/B,EAA0C;EAE5C;;EAEAH,CAAC,CAACI,UAAF,GAAeJ,CAAC,CAACI,UAAF,IAAgB,UAASC,GAAT,EAAc;IAC3C,OAAO,OAAOA,GAAP,KAAe,UAAf,IAA6B,OAAOA,GAAG,CAACC,QAAX,KAAwB,QAA5D;EACD,CAFD;;EAIAL,MAAM,GAAI,OAAOA,MAAP,IAAiB,WAAjB,IAAgCA,MAAM,CAACuH,IAAP,IAAeA,IAAhD,GACLvH,MADK,GAEJ,OAAOwH,IAAP,IAAe,WAAf,IAA8BA,IAAI,CAACD,IAAL,IAAaA,IAA5C,GACEC,IADF,GAEE3C,QAAQ,CAAC,aAAD,CAAR,EAJN;;EAOA9E,CAAC,CAACQ,EAAF,CAAKosE,UAAL,GAAkB,UAASnsE,UAAT,EAAqB;IACrC,IACEkH,WAAW,GAAM3H,CAAC,CAAC,IAAD,CADpB;IAAA,IAEE4H,cAAc,GAAGD,WAAW,CAACE,QAAZ,IAAwB,EAF3C;IAAA,IAIEnH,IAAI,GAAa,IAAIC,IAAJ,GAAWC,OAAX,EAJnB;IAAA,IAKEC,WAAW,GAAM,EALnB;IAAA,IAOEC,KAAK,GAAYC,SAAS,CAAC,CAAD,CAP5B;IAAA,IAQEC,aAAa,GAAK,OAAOF,KAAP,IAAgB,QARpC;IAAA,IASEG,cAAc,GAAG,GAAGC,KAAH,CAASC,IAAT,CAAcJ,SAAd,EAAyB,CAAzB,CATnB;IAAA,IAUEiB,aAVF;IAAA,IAYE6qE,WAAW,GAAMllE,WAAW,CAACtD,MAZ/B;IAAA,IAaEyoE,WAAW,GAAM,CAbnB;IAgBAnlE,WAAW,CACRhE,IADH,CACQ,YAAW;MACf,IACEvC,QAAQ,GAAYpB,CAAC,CAACqB,aAAF,CAAgBZ,UAAhB,CAAF,GACdT,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAe,EAAf,EAAmBtB,CAAC,CAACQ,EAAF,CAAKosE,UAAL,CAAgBxrE,QAAnC,EAA6CX,UAA7C,CADc,GAEdT,CAAC,CAACsB,MAAF,CAAS,EAAT,EAAatB,CAAC,CAACQ,EAAF,CAAKosE,UAAL,CAAgBxrE,QAA7B,CAHN;MAAA,IAKEsH,SAAS,GAAStH,QAAQ,CAACsH,SAL7B;MAAA,IAMEnH,SAAS,GAASH,QAAQ,CAACG,SAN7B;MAAA,IAOEC,KAAK,GAAaJ,QAAQ,CAACI,KAP7B;MAAA,IAQEiH,QAAQ,GAAUrH,QAAQ,CAACqH,QAR7B;MAAA,IAUEG,cAAc,GAAI,MAAMrH,SAV1B;MAAA,IAWEE,eAAe,GAAG,YAAYF,SAXhC;MAAA,IAaE+uC,OAAO,GAAWtwC,CAAC,CAACC,MAAD,CAbrB;MAAA,IAeE0B,OAAO,GAAW3B,CAAC,CAAC,IAAD,CAfrB;MAAA,IAgBEozB,QAAQ,GAAUpzB,CAAC,CAACoB,QAAQ,CAAC0E,OAAV,CAhBrB;MAAA,IAkBEkoC,YAlBF;MAAA,IAoBEnsC,QAAQ,GAAUF,OAAO,CAACG,IAAR,CAAaL,eAAb,CApBpB;MAAA,IAsBEc,qBAAqB,GAAGtC,MAAM,CAACsC,qBAAP,IACnBtC,MAAM,CAACgD,wBADY,IAEnBhD,MAAM,CAACiD,2BAFY,IAGnBjD,MAAM,CAACkD,uBAHY,IAInB,UAASC,QAAT,EAAmB;QAAEC,UAAU,CAACD,QAAD,EAAW,CAAX,CAAV;MAA0B,CA1BtD;MAAA,IA4BExB,OAAO,GAAW,IA5BpB;MAAA,IA6BEkC,QAAQ,GAAU,KA7BpB;MAAA,IA+BEipE,eA/BF;MAAA,IAgCEvyD,QAhCF;MAAA,IAiCEzY,MAjCF;;MAoCAA,MAAM,GAAG;QAEPE,UAAU,EAAE,YAAW;UACrBF,MAAM,CAACS,KAAP,CAAa,cAAb,EAA6BpB,QAA7B;UAEAW,MAAM,CAACqd,KAAP,CAAa5a,KAAb;;UAEA,IAAIzC,MAAM,CAAC4sB,MAAP,CAAcq+C,YAAd,EAAJ,EAAmC;YAEjC,IAAG5rE,QAAQ,CAACoJ,IAAT,IAAiB,OAApB,EAA6B;cAC3BzI,MAAM,CAACqd,KAAP,CAAa2tB,KAAb;YACD;;YACD,IAAG3rC,QAAQ,CAACoJ,IAAT,IAAiB,OAApB,EAA6B;cAC3BzI,MAAM,CAACqd,KAAP,CAAa66B,KAAb;YACD;;YAED,IAAG74C,QAAQ,CAACsZ,cAAZ,EAA4B;cAC1B3Y,MAAM,CAAC2Y,cAAP;YACD;;YACD3Y,MAAM,CAACiD,IAAP,CAAYyV,MAAZ;UACD;;UAED1Y,MAAM,CAACozB,IAAP,CAAYtP,QAAZ;;UACA,IAAI,CAAC9jB,MAAM,CAAC4J,EAAP,CAAU2pB,OAAV,EAAL,EAA2B;YACzBvzB,MAAM,CAACP,KAAP,CAAaA,KAAK,CAAC8zB,OAAnB,EAA4B3zB,OAA5B;UACD;;UAED,IAAGP,QAAQ,CAAC6rE,YAAZ,EAA0B;YACxBlrE,MAAM,CAACmrE,eAAP;UACD;;UACDnrE,MAAM,CAACG,WAAP;QACD,CA/BM;QAiCPA,WAAW,EAAE,YAAW;UACtBH,MAAM,CAACS,KAAP,CAAa,kBAAb,EAAiCT,MAAjC;UACAJ,OAAO,CACJG,IADH,CACQL,eADR,EACyBM,MADzB;UAGAF,QAAQ,GAAGE,MAAX;QACD,CAvCM;QAyCP4C,OAAO,EAAE,YAAW;UAClB5C,MAAM,CAACI,OAAP,CAAe,4BAAf;;UACA,IAAGqY,QAAH,EAAa;YACXA,QAAQ,CAAC+E,UAAT;UACD;;UACD,IAAGwtD,eAAH,EAAoB;YAClBA,eAAe,CAACxtD,UAAhB;UACD;;UACD+wB,OAAO,CACJ7hC,GADH,CACO,SAAW7F,cADlB,EACkC7G,MAAM,CAACiI,KAAP,CAAa6tD,IAD/C,EAEGppD,GAFH,CAEO,WAAW7F,cAFlB,EAEkC7G,MAAM,CAACiI,KAAP,CAAa6oC,MAF/C;UAIAzf,QAAQ,CACL3kB,GADH,CACO,WAAiB7F,cADxB,EACwC7G,MAAM,CAACiI,KAAP,CAAauyC,MADrD,EAEG9tC,GAFH,CAEO,iBAAiB7F,cAFxB,EAEwC7G,MAAM,CAACiI,KAAP,CAAa8tD,YAFrD;;UAIA,IAAG12D,QAAQ,CAACoJ,IAAT,IAAiB,OAApB,EAA6B;YAC3BzI,MAAM,CAACorE,UAAP;YACAprE,MAAM,CAACsK,MAAP,CAAc22B,WAAd;UACD;;UACDrhC,OAAO,CACJ8M,GADH,CACO7F,cADP,EAEGhE,UAFH,CAEcnD,eAFd;QAID,CAjEM;QAmEPiZ,cAAc,EAAE,YAAW;UACzB,IAAG,sBAAsBza,MAAzB,EAAiC;YAC/B8sE,eAAe,GAAG,IAAIpyD,gBAAJ,CAAqB5Y,MAAM,CAACiI,KAAP,CAAaojE,cAAlC,CAAlB;YACA5yD,QAAQ,GAAU,IAAIG,gBAAJ,CAAqB5Y,MAAM,CAACiI,KAAP,CAAa4gB,OAAlC,CAAlB;YACAmiD,eAAe,CAAClyD,OAAhB,CAAwB3a,QAAxB,EAAkC;cAChC4a,SAAS,EAAG,IADoB;cAEhCC,OAAO,EAAK;YAFoB,CAAlC;YAIAP,QAAQ,CAACK,OAAT,CAAiBjZ,OAAjB,EAA0B;cACxBkZ,SAAS,EAAG,IADY;cAExBC,OAAO,EAAK;YAFY,CAA1B;YAIAhZ,MAAM,CAACS,KAAP,CAAa,8BAAb,EAA6CgY,QAA7C;UACD;QACF,CAjFM;QAmFPxV,IAAI,EAAE;UACJyV,MAAM,EAAE,YAAW;YACjB1Y,MAAM,CAACI,OAAP,CAAe,gDAAf;;YACA,IAAGf,QAAQ,CAACisE,aAAZ,EAA2B;cACzB/8B,OAAO,CACJvmC,EADH,CACM,SAAWnB,cADjB,EACiC7G,MAAM,CAACiI,KAAP,CAAa6tD,IAD9C;YAGD;;YACDvnB,OAAO,CACJvmC,EADH,CACM,WAAWnB,cADjB,EACiC7G,MAAM,CAACiI,KAAP,CAAa6oC,MAD9C,EAPiB,CAUjB;;YACAzf,QAAQ,CACL3kB,GADH,CACO,WAAgB7F,cADvB,EAEGmB,EAFH,CAEM,WAAiBnB,cAFvB,EAEuC7G,MAAM,CAACiI,KAAP,CAAauyC,MAFpD,EAGGxyC,EAHH,CAGM,iBAAiBnB,cAHvB,EAGuC7G,MAAM,CAACiI,KAAP,CAAa8tD,YAHpD;UAKD;QAjBG,CAnFC;QAuGP9tD,KAAK,EAAE;UACL4gB,OAAO,EAAE,UAAShQ,SAAT,EAAoB;YAC3B7Y,MAAM,CAACI,OAAP,CAAe,qDAAf;YACAJ,MAAM,CAACwD,KAAP,GAAelC,UAAU,CAAC,YAAW;cACnCtB,MAAM,CAACI,OAAP,CAAe,yCAAf;cACAJ,MAAM,CAACkH,OAAP;YACD,CAHwB,EAGtB,GAHsB,CAAzB;UAID,CAPI;UAQLmkE,cAAc,EAAE,UAASxyD,SAAT,EAAoB;YAClC,GAAGgO,OAAH,CAAWznB,IAAX,CAAgByZ,SAAhB,EAA2B,UAAS+N,QAAT,EAAmB;cAC5C,IAAGA,QAAQ,CAAC8V,YAAZ,EAA0B;gBACxB,GAAG7V,OAAH,CAAWznB,IAAX,CAAgBwnB,QAAQ,CAAC8V,YAAzB,EAAuC,UAAS+c,IAAT,EAAe;kBACpD,IAAGA,IAAI,IAAI55C,OAAR,IAAmB5B,CAAC,CAACw7C,IAAD,CAAD,CAAQhyC,IAAR,CAAa5H,OAAb,EAAsByC,MAAtB,GAA+B,CAArD,EAAwD;oBACtDtC,MAAM,CAACS,KAAP,CAAa,+CAAb;oBACAT,MAAM,CAAC4C,OAAP;kBACD;gBACF,CALD;cAMD;YACF,CATD;UAUD,CAnBI;UAoBLkuC,MAAM,EAAE,YAAW;YACjB9wC,MAAM,CAACS,KAAP,CAAa,gBAAb;;YACA,IAAGpB,QAAQ,CAACksE,eAAZ,EAA6B;cAC3B/qE,qBAAqB,CAACR,MAAM,CAACkH,OAAR,CAArB;YACD;UACF,CAzBI;UA0BL4uD,IAAI,EAAE,YAAW;YACf91D,MAAM,CAACS,KAAP,CAAa,uBAAb;YACAD,qBAAqB,CAACR,MAAM,CAACkH,OAAR,CAArB;UACD,CA7BI;UA8BL;UACAszC,MAAM,EAAE,YAAW;YACjB,IAAGn7C,QAAQ,CAAC45B,QAAZ,EAAsB;cACpB11B,YAAY,CAACvD,MAAM,CAACwD,KAAR,CAAZ;cACAxD,MAAM,CAACwD,KAAP,GAAelC,UAAU,CAAC,YAAW;gBACnC+vB,QAAQ,CAACqtB,cAAT,CAAwB,iBAAiB73C,cAAzC,EAAyD,CAAEwqB,QAAQ,CAACgT,SAAT,EAAF,CAAzD;cACD,CAFwB,EAEtBhlC,QAAQ,CAAC45B,QAFa,CAAzB;YAGD,CALD,MAMK;cACHz4B,qBAAqB,CAAC,YAAW;gBAC/B6wB,QAAQ,CAACqtB,cAAT,CAAwB,iBAAiB73C,cAAzC,EAAyD,CAAEwqB,QAAQ,CAACgT,SAAT,EAAF,CAAzD;cACD,CAFoB,CAArB;YAGD;UACF,CA3CI;UA4CL;UACA0xB,YAAY,EAAE,UAAS9tD,KAAT,EAAgBu1B,cAAhB,EAAgC;YAC5Cx9B,MAAM,CAACmrE,eAAP,CAAuB3tC,cAAvB;UACD;QA/CI,CAvGA;QAyJPguC,QAAQ,EAAE,UAASC,MAAT,EAAiBpqE,QAAjB,EAA2B;UACnC,IAAI,EAAEoqE,MAAM,YAAY/mE,KAApB,CAAJ,EAAgC;YAC9B+mE,MAAM,GAAG,CAACA,MAAD,CAAT;UACD;;UACD,IACEC,YAAY,GAAID,MAAM,CAACnpE,MADzB;UAAA,IAEEqpE,aAAa,GAAG,CAFlB;UAAA,IAGElpE,KAAK,GAAW,EAHlB;UAAA,IAIEmpE,UAAU,GAAMztE,QAAQ,CAAC6P,aAAT,CAAuB,KAAvB,CAJlB;UAAA,IAKE69D,UAAU,GAAM,YAAW;YACzBF,aAAa;;YACb,IAAIA,aAAa,IAAIF,MAAM,CAACnpE,MAA5B,EAAoC;cAClC,IAAIrE,CAAC,CAACI,UAAF,CAAagD,QAAb,CAAJ,EAA4B;gBAC1BA,QAAQ;cACT;YACF;UACF,CAZH;;UAcA,OAAOqqE,YAAY,EAAnB,EAAuB;YACrBE,UAAU,GAAWztE,QAAQ,CAAC6P,aAAT,CAAuB,KAAvB,CAArB;YACA49D,UAAU,CAACE,MAAX,GAAqBD,UAArB;YACAD,UAAU,CAACG,OAAX,GAAqBF,UAArB;YACAD,UAAU,CAAC19B,GAAX,GAAqBu9B,MAAM,CAACC,YAAD,CAA3B;YACAjpE,KAAK,CAACX,IAAN,CAAW8pE,UAAX;UACD;QACF,CAlLM;QAoLPI,eAAe,EAAE,YAAW;UAC1BhsE,MAAM,CAACS,KAAP,CAAa,6BAAb;UACAsB,QAAQ,GAAG,KAAX;QACD,CAvLM;QAyLPkqE,gBAAgB,EAAE,YAAW;UAC3BjsE,MAAM,CAACS,KAAP,CAAa,qCAAb;UACAsB,QAAQ,GAAG,IAAX;QACD,CA5LM;QA8LP6qB,MAAM,EAAE;UACNq+C,YAAY,EAAE,YAAW;YACvB,IAAGhsE,aAAH,EAAkB;cAChBe,MAAM,CAACS,KAAP,CAAa,wCAAb;cACA,OAAO,KAAP;YACD;;YACDT,MAAM,CAACS,KAAP,CAAa,0BAAb;YACA,OAAO,IAAP;UACD;QARK,CA9LD;QAyMP4c,KAAK,EAAE;UACL5a,KAAK,EAAE,YAAW;YAChBzC,MAAM,CAACyC,KAAP,GAAe;cACbypE,QAAQ,EAAG,EADE;cAEbzxB,MAAM,EAAK,EAFE;cAGb56C,OAAO,EAAI;YAHE,CAAf;UAKD,CAPI;UAQLmrC,KAAK,EAAE,YAAW;YAChB,IACEkD,GAAG,GAAGtuC,OAAO,CAACG,IAAR,CAAa2G,QAAQ,CAACwnC,GAAtB,CADR;;YAGA,IAAGA,GAAH,EAAQ;cACNluC,MAAM,CAACI,OAAP,CAAe,oBAAf,EAAqC8tC,GAArC;cACA7uC,QAAQ,CAAC8sE,IAAT,GAA0B,IAA1B;cACA9sE,QAAQ,CAACsZ,cAAT,GAA0B,KAA1B,CAHM,CAKN;;cACAtZ,QAAQ,CAAC+sE,UAAT,GAAsB,YAAW;gBAC/BpsE,MAAM,CAACS,KAAP,CAAa,iBAAb,EAAgCZ,OAAhC;gBACAG,MAAM,CAACwrE,QAAP,CAAgBt9B,GAAhB,EAAqB,YAAW;kBAC9BluC,MAAM,CAACoH,GAAP,CAAW4jC,KAAX,CAAiBkD,GAAjB,EAAsB,YAAW;oBAC/B68B,WAAW;;oBACX,IAAGA,WAAW,IAAID,WAAlB,EAA+B;sBAC7BzrE,QAAQ,CAACgtE,WAAT,CAAqBjtE,IAArB,CAA0B,IAA1B;oBACD;;oBACDC,QAAQ,CAACw6D,MAAT,CAAgBz6D,IAAhB,CAAqB,IAArB;kBACD,CAND;gBAOD,CARD;cASD,CAXD;YAYD;UACF,CA/BI;UAgCL84C,KAAK,EAAE,YAAW;YAChBl4C,MAAM,CAACS,KAAP,CAAa,kBAAb;YACApB,QAAQ,CAAC8sE,IAAT,GAA0B,KAA1B;YACA9sE,QAAQ,CAACsZ,cAAT,GAA0B,KAA1B;YACAtZ,QAAQ,CAAC6rE,YAAT,GAA0B,IAA1B;YACA7rE,QAAQ,CAACisE,aAAT,GAA0B,IAA1B;;YACA,IAAG,CAAC5sE,UAAU,CAACiT,UAAf,EAA2B;cACzBtS,QAAQ,CAACsS,UAAT,GAAsB,KAAtB;YACD;;YACD3R,MAAM,CAACsd,MAAP,CAAc2jB,WAAd;YACAjhC,MAAM,CAACS,KAAP,CAAa,mBAAb,EAAkCwrC,YAAlC;;YACA5sC,QAAQ,CAACitE,WAAT,GAAuB,YAAW;cAChCtsE,MAAM,CAACS,KAAP,CAAa,uCAAb,EAAsDb,OAAtD;cACAI,MAAM,CAACqsB,IAAP,CAAY4U,WAAZ;cACAjhC,MAAM,CAACoH,GAAP,CAAW8wC,KAAX;;cACA,IAAG74C,QAAQ,CAACsS,UAAZ,EAAwB;gBACtB,IAAG1T,CAAC,CAACQ,EAAF,CAAKkT,UAAL,KAAoBvT,SAAvB,EAAkC;kBAChCwB,OAAO,CAAC+R,UAAR,CAAmBtS,QAAQ,CAACsS,UAA5B,EAAwCtS,QAAQ,CAACuS,QAAjD;gBACD;cACF;YACF,CATD;;YAUAvS,QAAQ,CAACktE,kBAAT,GAA8B,YAAW;cACvCvsE,MAAM,CAACS,KAAP,CAAa,8CAAb,EAA6Db,OAA7D;cACAI,MAAM,CAACosB,IAAP,CAAY6U,WAAZ;cACAjhC,MAAM,CAACsK,MAAP,CAAc4tC,KAAd;YACD,CAJD;UAKD;QA1DI,CAzMA;QAsQP56B,MAAM,EAAE;UACN2jB,WAAW,EAAE,YAAW;YACtBjhC,MAAM,CAACI,OAAP,CAAe,qCAAf;YACA6rC,YAAY,GAAGrsC,OAAO,CACnBsiC,KADY,CACN,KADM,EAEZnmB,GAFY,CAER,SAFQ,EAEG,MAFH,EAGZzK,QAHY,CAGH3K,SAAS,CAACs6B,WAHP,EAIZjS,WAJY,CAIApvB,OAJA,CAAf;UAMD;QATK,CAtQD;QAkRPysB,IAAI,EAAE;UACJ4U,WAAW,EAAE,YAAW;YACtBjhC,MAAM,CAACI,OAAP,CAAe,qBAAf;YACA6rC,YAAY,CACTlwB,GADH,CACO,SADP,EACkB,OADlB,EAEGA,GAFH,CAEO,YAFP,EAEqB,QAFrB;UAID;QAPG,CAlRC;QA2RPqQ,IAAI,EAAE;UACJ6U,WAAW,EAAE,YAAW;YACtBjhC,MAAM,CAACI,OAAP,CAAe,oBAAf;YACA6rC,YAAY,CACTlwB,GADH,CACO,SADP,EACkB,MADlB,EAEGA,GAFH,CAEO,YAFP,EAEqB,EAFrB;UAID;QAPG,CA3RC;QAqSP3U,GAAG,EAAE;UACH8wC,KAAK,EAAE,YAAW;YAChBl4C,MAAM,CAACI,OAAP,CAAe,mCAAf;YACAR,OAAO,CACJ0R,QADH,CACY3K,SAAS,CAACuxC,KADtB,EAEGn8B,GAFH,CAEO;cACH+H,QAAQ,EAAG,OADR;cAEH8hB,GAAG,EAAQvmC,QAAQ,CAACqmB,MAAT,GAAkB,IAF1B;cAGHC,IAAI,EAAO,MAHR;cAIH6mD,MAAM,EAAKntE,QAAQ,CAACmtE;YAJjB,CAFP;YASAntE,QAAQ,CAACotE,OAAT,CAAiBrtE,IAAjB,CAAsBS,OAAtB;UACD,CAbE;UAcHmrC,KAAK,EAAE,UAASkD,GAAT,EAAc7sC,QAAd,EAAwB;YAC7BzB,OAAO,CACJiT,IADH,CACQ,KADR,EACeq7B,GADf;;YAGA,IAAG7uC,QAAQ,CAACsS,UAAZ,EAAwB;cACtB,IAAI1T,CAAC,CAACQ,EAAF,CAAKkT,UAAL,KAAoBvT,SAAxB,EAAmC;gBACjC,IAAGwB,OAAO,CAACwK,QAAR,CAAiBzD,SAAS,CAAC4sB,OAA3B,CAAH,EAAwC;kBACtCvzB,MAAM,CAACS,KAAP,CAAa,+DAAb;kBACA;gBACD;;gBACDb,OAAO,CAAC+R,UAAR,CAAmBtS,QAAQ,CAACsS,UAA5B,EAAwCtS,QAAQ,CAACuS,QAAjD,EAA2DvQ,QAA3D;cACD,CAND,MAOK;gBACHzB,OAAO,CAACiS,MAAR,CAAexS,QAAQ,CAACuS,QAAxB,EAAkCvQ,QAAlC;cACD;YACF,CAXD,MAYK;cACHzB,OAAO,CAACysB,IAAR;YACD;UACF;QAjCE,CArSE;QAyUPziB,EAAE,EAAE;UACF8/B,QAAQ,EAAE,YAAW;YACnB,IACEC,YAAY,GAAK3pC,MAAM,CAACiH,GAAP,CAAWylE,mBAAX,EADnB;YAGA,OAAO/iC,YAAY,CAACD,QAApB;UACD,CANC;UAOFijC,SAAS,EAAE,YAAW;YACpB,IACEhjC,YAAY,GAAK3pC,MAAM,CAACiH,GAAP,CAAWylE,mBAAX,EADnB;YAGA,OAAO/iC,YAAY,CAACgjC,SAApB;UACD,CAZC;UAaFp5C,OAAO,EAAE,YAAW;YAClB,IAAGvzB,MAAM,CAACyC,KAAP,IAAgBzC,MAAM,CAACyC,KAAP,CAAa5C,OAAhC,EAAyC;cACvC,OAAO,EAAEG,MAAM,CAACyC,KAAP,CAAa5C,OAAb,CAAqBylB,KAArB,KAA+B,CAA/B,IAAoCtlB,MAAM,CAACyC,KAAP,CAAa5C,OAAb,CAAqB6lB,MAArB,CAA4BkgB,GAA5B,KAAoC,CAA1E,CAAP;YACD;;YACD,OAAO,KAAP;UACD,CAlBC;UAmBFyD,2BAA2B,EAAE,YAAW;YACtC,IACEC,SAAS,GAAIjY,QAAQ,CAACpqB,GAAT,CAAa,CAAb,MAAoB/I,MAArB,GACRmzB,QAAQ,CAACtV,GAAT,CAAa,YAAb,CADQ,GAER,KAHN;YAKA,OAAQutB,SAAS,IAAI,MAAb,IAAuBA,SAAS,IAAI,QAA5C;UACD,CA1BC;UA2BFC,6BAA6B,EAAE,YAAW;YACxC,IACEC,SAAS,GAAInY,QAAQ,CAACpqB,GAAT,CAAa,CAAb,MAAoB/I,MAArB,GACRmzB,QAAQ,CAACtV,GAAT,CAAa,YAAb,CADQ,GAER,KAHN;YAKA,OAAQytB,SAAS,IAAI,MAAb,IAAuBA,SAAS,IAAI,QAA5C;UACD;QAlCC,CAzUG;QA8WPtiC,OAAO,EAAE,YAAW;UAClBlH,MAAM,CAACS,KAAP,CAAa,qCAAb;;UACA,IAAGpB,QAAQ,CAACoJ,IAAT,IAAiB,OAApB,EAA6B;YAC3BzI,MAAM,CAACorE,UAAP;UACD;;UACDprE,MAAM,CAAC6H,KAAP;UACA7H,MAAM,CAACozB,IAAP,CAAYtP,QAAZ;;UACA,IAAGzkB,QAAQ,CAACutE,cAAZ,EAA4B;YAC1B5sE,MAAM,CAACmrE,eAAP;UACD;;UACD9rE,QAAQ,CAACwtE,SAAT,CAAmBztE,IAAnB,CAAwBS,OAAxB;QACD,CAzXM;QA2XPurE,UAAU,EAAE,YAAY;UACtBprE,MAAM,CAACsK,MAAP,CAAc4tC,KAAd;UACAl4C,MAAM,CAACsK,MAAP,CAAc4hE,QAAd;QACD,CA9XM;QAgYPrkE,KAAK,EAAE,YAAW;UAChB7H,MAAM,CAACI,OAAP,CAAe,6BAAf;;UACA,IAAInC,CAAC,CAACqB,aAAF,CAAgBU,MAAM,CAACyC,KAAvB,CAAJ,EAAoC;YAClCzC,MAAM,CAACyC,KAAP,CAAag4C,MAAb,GAAsB,EAAtB;YACAz6C,MAAM,CAACyC,KAAP,CAAa5C,OAAb,GAAuB,EAAvB;UACD;QACF,CAtYM;QAwYPsrE,eAAe,EAAE,UAAS3wB,MAAT,EAAiB;UAChCx6C,MAAM,CAACI,OAAP,CAAe,gCAAf,EAAiDJ,MAAM,CAACyC,KAAP,CAAa5C,OAA9D;;UAEA,IAAI,CAACkC,QAAD,IAAa/B,MAAM,CAAC4J,EAAP,CAAU2pB,OAAV,EAAjB,EAAuC;YAErC;YACAvzB,MAAM,CAACozB,IAAP,CAAYonB,MAAZ,CAAmBA,MAAnB,EAHqC,CAKrC;;YACAx6C,MAAM,CAACozB,IAAP,CAAYuW,YAAZ,GANqC,CAQrC;;YACA3pC,MAAM,CAAC8sE,MAAP,GATqC,CAWrC;;YACA9sE,MAAM,CAAC+sE,cAAP;YACA/sE,MAAM,CAACgtE,iBAAP;YACAhtE,MAAM,CAACitE,oBAAP;YACAjtE,MAAM,CAACktE,gBAAP;YACAltE,MAAM,CAACmtE,mBAAP,GAhBqC,CAkBrC;;YACAntE,MAAM,CAAC0pC,QAAP;YACA1pC,MAAM,CAAC2sE,SAAP;YACA3sE,MAAM,CAACotE,OAAP;YACAptE,MAAM,CAACqtE,UAAP;YACArtE,MAAM,CAACstE,aAAP;YACAttE,MAAM,CAACutE,SAAP;YACAvtE,MAAM,CAACwtE,YAAP,GAzBqC,CA2BrC;;YACA,IAAGnuE,QAAQ,CAACouE,QAAZ,EAAsB;cACpBpuE,QAAQ,CAACouE,QAAT,CAAkBruE,IAAlB,CAAuBS,OAAvB,EAAgCG,MAAM,CAACiH,GAAP,CAAWylE,mBAAX,EAAhC;YACD;UACF;QACF,CA3aM;QA6aPI,MAAM,EAAE,UAASY,MAAT,EAAiBC,WAAjB,EAA8B;UACpC,IACEhkC,YAAY,GAAK3pC,MAAM,CAACiH,GAAP,CAAWylE,mBAAX,EADnB,CADoC,CAIpC;;UACA,IAAGgB,MAAM,IAAIC,WAAb,EAA0B;YACxBtuE,QAAQ,CAACuuE,QAAT,CAAkBF,MAAlB,IAA4BC,WAA5B;UACD,CAFD,MAGK,IAAGD,MAAM,KAAKtvE,SAAd,EAAyB;YAC5B,OAAQ4B,MAAM,CAACiH,GAAP,CAAW4mE,YAAX,CAAwBH,MAAxB,IAAkC/jC,YAAY,CAACkkC,YAAvD;UACD,CAFI,MAGA,IAAGlkC,YAAY,CAACyjC,OAAhB,EAAyB;YAC5BnvE,CAAC,CAAC2D,IAAF,CAAOvC,QAAQ,CAACuuE,QAAhB,EAA0B,UAASF,MAAT,EAAiBrsE,QAAjB,EAA2B;cACnD,IAAGsoC,YAAY,CAAC2jC,aAAb,IAA8B3jC,YAAY,CAACkkC,YAAb,GAA4B7tE,MAAM,CAACiH,GAAP,CAAW4mE,YAAX,CAAwBH,MAAxB,CAA7D,EAA8F;gBAC5F1tE,MAAM,CAAC8tE,OAAP,CAAezsE,QAAf,EAAyBqsE,MAAzB;cACD,CAFD,MAGK,IAAG,CAACruE,QAAQ,CAAC8sE,IAAb,EAAmB;gBACtBnsE,MAAM,CAACsK,MAAP,CAAc4hE,QAAd,CAAuB7qE,QAAvB;cACD;YACF,CAPD;UAQD;QACF,CAlcM;QAocPqoC,QAAQ,EAAE,UAASikC,WAAT,EAAsB;UAC9B,IACEhkC,YAAY,GAAG3pC,MAAM,CAACiH,GAAP,CAAWylE,mBAAX,EADjB;UAAA,IAEErrE,QAAQ,GAAOssE,WAAW,IAAItuE,QAAQ,CAAC+sE,UAFzC;UAAA,IAGE2B,YAAY,GAAG,UAHjB;;UAKA,IAAGJ,WAAH,EAAgB;YACd3tE,MAAM,CAACS,KAAP,CAAa,8BAAb,EAA6CktE,WAA7C;YACAtuE,QAAQ,CAAC+sE,UAAT,GAAsBuB,WAAtB;UACD;;UACD,IAAGhkC,YAAY,CAACD,QAAhB,EAA0B;YACxB1pC,MAAM,CAAC8tE,OAAP,CAAezsE,QAAf,EAAyB0sE,YAAzB;UACD,CAFD,MAGK,IAAG,CAAC1uE,QAAQ,CAAC8sE,IAAb,EAAmB;YACtBnsE,MAAM,CAACsK,MAAP,CAAc4hE,QAAd,CAAuB6B,YAAvB;UACD;;UACD,IAAGJ,WAAW,KAAKvvE,SAAnB,EAA8B;YAC5B,OAAOurC,YAAY,CAACyiC,UAApB;UACD;QACF,CAvdM;QAydPO,SAAS,EAAE,UAASgB,WAAT,EAAsB;UAC/B,IACEhkC,YAAY,GAAG3pC,MAAM,CAACiH,GAAP,CAAWylE,mBAAX,EADjB;UAAA,IAEErrE,QAAQ,GAAOssE,WAAW,IAAItuE,QAAQ,CAAC2uE,WAFzC;UAAA,IAGED,YAAY,GAAG,WAHjB;;UAKA,IAAGJ,WAAH,EAAgB;YACd3tE,MAAM,CAACS,KAAP,CAAa,+BAAb,EAA8CktE,WAA9C;YACAtuE,QAAQ,CAAC2uE,WAAT,GAAuBL,WAAvB;UACD;;UACD,IAAGhkC,YAAY,CAACgjC,SAAhB,EAA2B;YACzB3sE,MAAM,CAAC8tE,OAAP,CAAezsE,QAAf,EAAyB0sE,YAAzB;UACD,CAFD,MAGK,IAAG,CAAC1uE,QAAQ,CAAC8sE,IAAb,EAAmB;YACtBnsE,MAAM,CAACsK,MAAP,CAAc4hE,QAAd,CAAuB6B,YAAvB;UACD;;UACD,IAAGJ,WAAW,KAAKvvE,SAAnB,EAA8B;YAC5B,OAAOurC,YAAY,CAACqkC,WAApB;UACD;QACF,CA5eM;QA8ePZ,OAAO,EAAE,UAASO,WAAT,EAAsB;UAC7B,IACEhkC,YAAY,GAAG3pC,MAAM,CAACiH,GAAP,CAAWylE,mBAAX,EADjB;UAAA,IAEErrE,QAAQ,GAAOssE,WAAW,IAAItuE,QAAQ,CAAC4uE,SAFzC;UAAA,IAGEF,YAAY,GAAG,SAHjB;;UAKA,IAAGJ,WAAH,EAAgB;YACd3tE,MAAM,CAACS,KAAP,CAAa,6BAAb,EAA4CktE,WAA5C;YACAtuE,QAAQ,CAAC4uE,SAAT,GAAqBN,WAArB;UACD;;UACD,IAAGhkC,YAAY,CAACyjC,OAAhB,EAAyB;YACvBptE,MAAM,CAAC8tE,OAAP,CAAezsE,QAAf,EAAyB0sE,YAAzB;UACD,CAFD,MAGK,IAAG,CAAC1uE,QAAQ,CAAC8sE,IAAb,EAAmB;YACtBnsE,MAAM,CAACsK,MAAP,CAAc4hE,QAAd,CAAuB6B,YAAvB;UACD;;UACD,IAAGJ,WAAW,KAAKvvE,SAAnB,EAA8B;YAC5B,OAAOurC,YAAY,CAACyjC,OAApB;UACD;QACF,CAjgBM;QAogBPC,UAAU,EAAE,UAASM,WAAT,EAAsB;UAChC,IACEhkC,YAAY,GAAG3pC,MAAM,CAACiH,GAAP,CAAWylE,mBAAX,EADjB;UAAA,IAEErrE,QAAQ,GAAOssE,WAAW,IAAItuE,QAAQ,CAAC6uE,YAFzC;UAAA,IAGEH,YAAY,GAAG,YAHjB;;UAKA,IAAGJ,WAAH,EAAgB;YACd3tE,MAAM,CAACS,KAAP,CAAa,iCAAb,EAAgDktE,WAAhD;YACAtuE,QAAQ,CAAC6uE,YAAT,GAAwBP,WAAxB;UACD;;UACD,IAAGhkC,YAAY,CAAC0jC,UAAhB,EAA4B;YAC1BrtE,MAAM,CAAC8tE,OAAP,CAAezsE,QAAf,EAAyB0sE,YAAzB;UACD,CAFD,MAGK,IAAG,CAAC1uE,QAAQ,CAAC8sE,IAAb,EAAmB;YACtBnsE,MAAM,CAACsK,MAAP,CAAc4hE,QAAd,CAAuB6B,YAAvB;UACD;;UACD,IAAGJ,WAAW,KAAKvvE,SAAnB,EAA8B;YAC5B,OAAOurC,YAAY,CAAC0jC,UAApB;UACD;QACF,CAvhBM;QAyhBPC,aAAa,EAAE,UAASK,WAAT,EAAsB;UACnC,IACEhkC,YAAY,GAAG3pC,MAAM,CAACiH,GAAP,CAAWylE,mBAAX,EADjB;UAAA,IAEErrE,QAAQ,GAAOssE,WAAW,IAAItuE,QAAQ,CAAC8uE,eAFzC;UAAA,IAGEJ,YAAY,GAAG,eAHjB;;UAKA,IAAGJ,WAAH,EAAgB;YACd3tE,MAAM,CAACS,KAAP,CAAa,oCAAb,EAAmDktE,WAAnD;YACAtuE,QAAQ,CAAC8uE,eAAT,GAA2BR,WAA3B;UACD;;UACD,IAAGhkC,YAAY,CAAC2jC,aAAhB,EAA+B;YAC7BttE,MAAM,CAAC8tE,OAAP,CAAezsE,QAAf,EAAyB0sE,YAAzB;UACD,CAFD,MAGK,IAAG,CAAC1uE,QAAQ,CAAC8sE,IAAb,EAAmB;YACtBnsE,MAAM,CAACsK,MAAP,CAAc4hE,QAAd,CAAuB6B,YAAvB;UACD;;UACD,IAAGJ,WAAW,KAAKvvE,SAAnB,EAA8B;YAC5B,OAAOurC,YAAY,CAAC2jC,aAApB;UACD;QACF,CA5iBM;QA8iBPC,SAAS,EAAE,UAASI,WAAT,EAAsB;UAC/B,IACEhkC,YAAY,GAAG3pC,MAAM,CAACiH,GAAP,CAAWylE,mBAAX,EADjB;UAAA,IAEErrE,QAAQ,GAAOssE,WAAW,IAAItuE,QAAQ,CAACitE,WAFzC;UAAA,IAGEyB,YAAY,GAAG,WAHjB;;UAKA,IAAGJ,WAAH,EAAgB;YACd3tE,MAAM,CAACS,KAAP,CAAa,gCAAb,EAA+CktE,WAA/C;YACAtuE,QAAQ,CAACitE,WAAT,GAAuBqB,WAAvB;UACD;;UACD,IAAGhkC,YAAY,CAAC4jC,SAAhB,EAA2B;YACzBvtE,MAAM,CAAC8tE,OAAP,CAAezsE,QAAf,EAAyB0sE,YAAzB;UACD,CAFD,MAGK,IAAG,CAAC1uE,QAAQ,CAAC8sE,IAAb,EAAmB;YACtBnsE,MAAM,CAACsK,MAAP,CAAc4hE,QAAd,CAAuB6B,YAAvB;UACD;;UACD,IAAGJ,WAAW,KAAKvvE,SAAnB,EAA8B;YAC5B,OAAOurC,YAAY,CAAC4jC,SAApB;UACD;QACF,CAjkBM;QAmkBPC,YAAY,EAAE,UAASG,WAAT,EAAsB;UAClC,IACEhkC,YAAY,GAAG3pC,MAAM,CAACiH,GAAP,CAAWylE,mBAAX,EADjB;UAAA,IAEErrE,QAAQ,GAAOssE,WAAW,IAAItuE,QAAQ,CAAC+uE,cAFzC;UAAA,IAGEL,YAAY,GAAG,cAHjB;;UAKA,IAAGJ,WAAH,EAAgB;YACd3tE,MAAM,CAACS,KAAP,CAAa,mCAAb,EAAkDktE,WAAlD;YACAtuE,QAAQ,CAAC+uE,cAAT,GAA0BT,WAA1B;UACD;;UACD,IAAGhkC,YAAY,CAAC6jC,YAAhB,EAA8B;YAC5BxtE,MAAM,CAAC8tE,OAAP,CAAezsE,QAAf,EAAyB0sE,YAAzB;UACD,CAFD,MAGK,IAAG,CAAC1uE,QAAQ,CAAC8sE,IAAb,EAAmB;YACtBnsE,MAAM,CAACsK,MAAP,CAAc4hE,QAAd,CAAuB6B,YAAvB;UACD;;UACD,IAAGJ,WAAW,KAAKvvE,SAAnB,EAA8B;YAC5B,OAAOurC,YAAY,CAAC6jC,YAApB;UACD;QACF,CAtlBM;QAwlBPT,cAAc,EAAE,UAASY,WAAT,EAAsB;UACpC,IACEhkC,YAAY,GAAG3pC,MAAM,CAACiH,GAAP,CAAWylE,mBAAX,EADjB;UAAA,IAEErrE,QAAQ,GAAOssE,WAAW,IAAItuE,QAAQ,CAACgvE,gBAFzC;UAAA,IAGEN,YAAY,GAAG,gBAHjB;;UAKA,IAAGJ,WAAH,EAAgB;YACd3tE,MAAM,CAACS,KAAP,CAAa,qCAAb,EAAoDktE,WAApD;YACAtuE,QAAQ,CAACgvE,gBAAT,GAA4BV,WAA5B;UACD;;UACD,IAAG,CAAChkC,YAAY,CAACyjC,OAAjB,EAA0B;YACxB,IAAGptE,MAAM,CAACiH,GAAP,CAAWilE,QAAX,CAAoB,SAApB,CAAH,EAAmC;cACjClsE,MAAM,CAAC8tE,OAAP,CAAezsE,QAAf,EAAyB0sE,YAAzB;YACD;UACF,CAJD,MAKK,IAAG,CAAC1uE,QAAQ,CAAC8sE,IAAb,EAAmB;YACtBnsE,MAAM,CAACsK,MAAP,CAAc4hE,QAAd,CAAuB6B,YAAvB;UACD;;UACD,IAAGJ,WAAW,KAAKvvE,SAAnB,EAA8B;YAC5B,OAAO,CAACurC,YAAY,CAACyjC,OAArB;UACD;QACF,CA7mBM;QAgnBPJ,iBAAiB,EAAE,UAASW,WAAT,EAAsB;UACvC,IACEhkC,YAAY,GAAG3pC,MAAM,CAACiH,GAAP,CAAWylE,mBAAX,EADjB;UAAA,IAEErrE,QAAQ,GAAOssE,WAAW,IAAItuE,QAAQ,CAACivE,mBAFzC;UAAA,IAGEP,YAAY,GAAG,mBAHjB;;UAKA,IAAGJ,WAAH,EAAgB;YACd3tE,MAAM,CAACS,KAAP,CAAa,yCAAb,EAAwDktE,WAAxD;YACAtuE,QAAQ,CAACivE,mBAAT,GAA+BX,WAA/B;UACD;;UACD,IAAG,CAAChkC,YAAY,CAAC0jC,UAAjB,EAA6B;YAC3B,IAAGrtE,MAAM,CAACiH,GAAP,CAAWilE,QAAX,CAAoB,YAApB,CAAH,EAAsC;cACpClsE,MAAM,CAAC8tE,OAAP,CAAezsE,QAAf,EAAyB0sE,YAAzB;YACD;UACF,CAJD,MAKK,IAAG,CAAC1uE,QAAQ,CAAC8sE,IAAb,EAAmB;YACtBnsE,MAAM,CAACsK,MAAP,CAAc4hE,QAAd,CAAuB6B,YAAvB;UACD;;UACD,IAAGJ,WAAW,KAAKvvE,SAAnB,EAA8B;YAC5B,OAAO,CAACurC,YAAY,CAAC0jC,UAArB;UACD;QACF,CAroBM;QAuoBPJ,oBAAoB,EAAE,UAASU,WAAT,EAAsB;UAC1C,IACEhkC,YAAY,GAAG3pC,MAAM,CAACiH,GAAP,CAAWylE,mBAAX,EADjB;UAAA,IAEErrE,QAAQ,GAAOssE,WAAW,IAAItuE,QAAQ,CAACkvE,sBAFzC;UAAA,IAGER,YAAY,GAAG,sBAHjB;;UAKA,IAAGJ,WAAH,EAAgB;YACd3tE,MAAM,CAACS,KAAP,CAAa,4CAAb,EAA2DktE,WAA3D;YACAtuE,QAAQ,CAACkvE,sBAAT,GAAkCZ,WAAlC;UACD;;UACD,IAAG,CAAChkC,YAAY,CAAC2jC,aAAjB,EAAgC;YAC9B,IAAGttE,MAAM,CAACiH,GAAP,CAAWilE,QAAX,CAAoB,eAApB,CAAH,EAAyC;cACvClsE,MAAM,CAAC8tE,OAAP,CAAezsE,QAAf,EAAyB0sE,YAAzB;YACD;UACF,CAJD,MAKK,IAAG,CAAC1uE,QAAQ,CAAC8sE,IAAb,EAAmB;YACtBnsE,MAAM,CAACsK,MAAP,CAAc4hE,QAAd,CAAuB6B,YAAvB;UACD;;UACD,IAAGJ,WAAW,KAAKvvE,SAAnB,EAA8B;YAC5B,OAAO,CAACurC,YAAY,CAAC2jC,aAArB;UACD;QACF,CA5pBM;QA8pBPJ,gBAAgB,EAAE,UAASS,WAAT,EAAsB;UACtC,IACEhkC,YAAY,GAAG3pC,MAAM,CAACiH,GAAP,CAAWylE,mBAAX,EADjB;UAAA,IAEErrE,QAAQ,GAAOssE,WAAW,IAAItuE,QAAQ,CAACktE,kBAFzC;UAAA,IAGEwB,YAAY,GAAG,kBAHjB;;UAKA,IAAGJ,WAAH,EAAgB;YACd3tE,MAAM,CAACS,KAAP,CAAa,wCAAb,EAAuDktE,WAAvD;YACAtuE,QAAQ,CAACktE,kBAAT,GAA8BoB,WAA9B;UACD;;UACD,IAAG,CAAChkC,YAAY,CAAC4jC,SAAjB,EAA4B;YAC1B,IAAGvtE,MAAM,CAACiH,GAAP,CAAWilE,QAAX,CAAoB,WAApB,CAAH,EAAqC;cACnClsE,MAAM,CAAC8tE,OAAP,CAAezsE,QAAf,EAAyB0sE,YAAzB;YACD;UACF,CAJD,MAKK,IAAG,CAAC1uE,QAAQ,CAAC8sE,IAAb,EAAmB;YACtBnsE,MAAM,CAACsK,MAAP,CAAc4hE,QAAd,CAAuB6B,YAAvB;UACD;;UACD,IAAGJ,WAAW,KAAKvvE,SAAnB,EAA8B;YAC5B,OAAO,CAACurC,YAAY,CAAC2iC,WAArB;UACD;QACF,CAnrBM;QAqrBPa,mBAAmB,EAAE,UAASQ,WAAT,EAAsB;UACzC,IACEhkC,YAAY,GAAG3pC,MAAM,CAACiH,GAAP,CAAWylE,mBAAX,EADjB;UAAA,IAEErrE,QAAQ,GAAOssE,WAAW,IAAItuE,QAAQ,CAACmvE,qBAFzC;UAAA,IAGET,YAAY,GAAG,qBAHjB;;UAKA,IAAGJ,WAAH,EAAgB;YACd3tE,MAAM,CAACS,KAAP,CAAa,2CAAb,EAA0DktE,WAA1D;YACAtuE,QAAQ,CAACmvE,qBAAT,GAAiCb,WAAjC;UACD;;UACD,IAAG,CAAChkC,YAAY,CAAC6jC,YAAjB,EAA+B;YAC7B,IAAGxtE,MAAM,CAACiH,GAAP,CAAWilE,QAAX,CAAoB,cAApB,CAAH,EAAwC;cACtClsE,MAAM,CAAC8tE,OAAP,CAAezsE,QAAf,EAAyB0sE,YAAzB;YACD;UACF,CAJD,MAKK,IAAG,CAAC1uE,QAAQ,CAAC8sE,IAAb,EAAmB;YACtBnsE,MAAM,CAACsK,MAAP,CAAc4hE,QAAd,CAAuB6B,YAAvB;UACD;;UACD,IAAGJ,WAAW,KAAKvvE,SAAnB,EAA8B;YAC5B,OAAO,CAACurC,YAAY,CAAC6jC,YAArB;UACD;QACF,CA1sBM;QA4sBPM,OAAO,EAAE,UAASzsE,QAAT,EAAmB0sE,YAAnB,EAAiC;UACxC,IACEpkC,YAAY,GAAG3pC,MAAM,CAACiH,GAAP,CAAWylE,mBAAX,EADjB;UAAA,IAEEjyB,MAAM,GAASz6C,MAAM,CAACiH,GAAP,CAAWwnE,kBAAX,EAFjB;UAIAptE,QAAQ,GAAGA,QAAQ,IAAI,KAAvB;;UACA,IAAGA,QAAH,EAAa;YACX,IAAGhC,QAAQ,CAACqvE,UAAZ,EAAwB;cACtB1uE,MAAM,CAACS,KAAP,CAAa,oCAAb,EAAmDstE,YAAnD,EAAiEpkC,YAAjE;cACAtoC,QAAQ,CAACjC,IAAT,CAAcS,OAAd,EAAuB8pC,YAAvB,EAAqC8Q,MAArC;YACD,CAHD,MAIK,IAAG,CAACz6C,MAAM,CAACiH,GAAP,CAAWilE,QAAX,CAAoB6B,YAApB,CAAJ,EAAuC;cAC1C/tE,MAAM,CAACS,KAAP,CAAa,gBAAb,EAA+BstE,YAA/B,EAA6CpkC,YAA7C;cACAtoC,QAAQ,CAACjC,IAAT,CAAcS,OAAd,EAAuB8pC,YAAvB,EAAqC8Q,MAArC;YACD;UACF;;UACDz6C,MAAM,CAACozB,IAAP,CAAY84C,QAAZ,CAAqB6B,YAArB;QACD,CA7tBM;QA+tBPzjE,MAAM,EAAE;UACN4tC,KAAK,EAAE,YAAW;YAChBl4C,MAAM,CAACS,KAAP,CAAa,yBAAb;YACAb,OAAO,CACJyK,WADH,CACe1D,SAAS,CAACuxC,KADzB,EAEGn8B,GAFH,CAEO;cACH+H,QAAQ,EAAG,EADR;cAEH8hB,GAAG,EAAQ,EAFR;cAGHjgB,IAAI,EAAO,EAHR;cAIH6mD,MAAM,EAAK;YAJR,CAFP;YASAntE,QAAQ,CAACsvE,SAAT,CAAmBvvE,IAAnB,CAAwBS,OAAxB;UACD,CAbK;UAcNohC,WAAW,EAAE,YAAW;YACtBjhC,MAAM,CAACS,KAAP,CAAa,8BAAb;;YACA,IAAGwrC,YAAH,EAAiB;cACfA,YAAY,CAAC3hC,MAAb;YACD;UACF,CAnBK;UAoBN4hE,QAAQ,EAAE,UAAS7qE,QAAT,EAAmB;YAC3B,IAAGA,QAAH,EAAa;cACX,IACE6qE,QAAQ,GAAGlsE,MAAM,CAACyC,KAAP,CAAaypE,QAD1B;;cAGA,IAAGA,QAAQ,CAAC7qE,QAAD,CAAR,KAAuBjD,SAAvB,IAAoC8tE,QAAQ,CAAC7qE,QAAD,CAAR,KAAuB,IAA9D,EAAoE;gBAClErB,MAAM,CAACS,KAAP,CAAa,kCAAb,EAAiDY,QAAjD;gBACArB,MAAM,CAACyC,KAAP,CAAaypE,QAAb,CAAsB7qE,QAAtB,IAAkC,KAAlC;cACD;YACF,CARD,MASK;cACHrB,MAAM,CAACyC,KAAP,CAAaypE,QAAb,GAAwB,EAAxB;YACD;UACF;QAjCK,CA/tBD;QAmwBP94C,IAAI,EAAE;UACJuW,YAAY,EAAE,YAAW;YACvB3pC,MAAM,CAACI,OAAP,CAAe,4DAAf;YACAJ,MAAM,CAACozB,IAAP,CAAY4Q,SAAZ;YACAhkC,MAAM,CAACozB,IAAP,CAAYq7C,kBAAZ;YACAzuE,MAAM,CAACozB,IAAP,CAAYs5C,mBAAZ;UACD,CANG;UAOJR,QAAQ,EAAE,UAAS7qE,QAAT,EAAmB;YAC3B,IAAGA,QAAH,EAAa;cACX,IAAGrB,MAAM,CAACyC,KAAP,CAAaypE,QAAb,CAAsB7qE,QAAtB,MAAoCjD,SAApC,IAAkD4B,MAAM,CAACyC,KAAP,CAAaypE,QAAb,CAAsB7qE,QAAtB,MAAoC,IAAzF,EAAgG;gBAC9FrB,MAAM,CAACI,OAAP,CAAe,0BAAf,EAA2CiB,QAA3C;gBACArB,MAAM,CAACyC,KAAP,CAAaypE,QAAb,CAAsB7qE,QAAtB,IAAkC,IAAlC;cACD;YACF;UACF,CAdG;UAeJm5C,MAAM,EAAE,UAAShd,cAAT,EAAyB;YAC/BA,cAAc,GAAQA,cAAc,GAAGn+B,QAAQ,CAACqmB,MAA1B,IAAoC2L,QAAQ,CAACgT,SAAT,KAAuBhlC,QAAQ,CAACqmB,MAA1F;YACA1lB,MAAM,CAACyC,KAAP,CAAa+3C,MAAb,GAAsBhd,cAAtB;UACD,CAlBG;UAmBJwG,SAAS,EAAE,YAAW;YACpB,IACEwW,MAAM,GAAOx6C,MAAM,CAACiH,GAAP,CAAWuzC,MAAX,EADf;YAAA,IAEE+b,UAAU,GAAGv2D,MAAM,CAACiH,GAAP,CAAWsvD,UAAX,EAFf;YAAA,IAGEvyB,SAHF;;YAKA,IAAGwW,MAAM,GAAG+b,UAAT,IAAuBA,UAA1B,EAAsC;cACpCvyB,SAAS,GAAG,MAAZ;YACD,CAFD,MAGK,IAAGwW,MAAM,GAAG+b,UAAT,IAAuBA,UAA1B,EAAsC;cACzCvyB,SAAS,GAAG,IAAZ;YACD,CAFI,MAGA;cACHA,SAAS,GAAG,QAAZ;YACD;;YACDhkC,MAAM,CAACyC,KAAP,CAAauhC,SAAb,GAAyBA,SAAzB;YACA,OAAOhkC,MAAM,CAACyC,KAAP,CAAauhC,SAApB;UACD,CApCG;UAqCJ4qC,eAAe,EAAE,YAAW;YAC1B,IACE/uE,OAAO,GAAGG,MAAM,CAACyC,KAAP,CAAa5C,OADzB;YAAA,IAEE46C,MAAM,GAAIz6C,MAAM,CAACiH,GAAP,CAAW4nE,UAAX,EAFZ;YAIA7uE,MAAM,CAACI,OAAP,CAAe,yBAAf,EAL0B,CAM1B;;YACAP,OAAO,CAAC62D,IAAR,GAAyB72D,OAAO,CAACwwB,MAAR,GAAiBoqB,MAAM,CAACpqB,MAAjD;YACAxwB,OAAO,CAAC6lB,MAAR,GAAwB9lB,OAAO,CAAC8lB,MAAR,EAAxB;YACA7lB,OAAO,CAACylB,KAAR,GAAwB1lB,OAAO,CAACqqC,UAAR,EAAxB;YACApqC,OAAO,CAACwwB,MAAR,GAAwBzwB,OAAO,CAACukC,WAAR,EAAxB,CAV0B,CAW1B;;YACA,IAAGnkC,MAAM,CAAC4J,EAAP,CAAUy/B,2BAAV,EAAH,EAA4C;cAC1CxpC,OAAO,CAAC6lB,MAAR,CAAekgB,GAAf,IAAsBvU,QAAQ,CAACgT,SAAT,KAAuBhT,QAAQ,CAAC3L,MAAT,GAAkBkgB,GAA/D;YACD;;YACD,IAAG5lC,MAAM,CAAC4J,EAAP,CAAU2/B,6BAAV,EAAH,EAA8C;cAC5C1pC,OAAO,CAAC6lB,MAAR,CAAeC,IAAf,IAAuB0L,QAAQ,CAAC2Y,UAAT,KAAwB3Y,QAAQ,CAAC3L,MAAT,GAAkBC,IAAjE;YACD,CAjByB,CAkB1B;;;YACA3lB,MAAM,CAACyC,KAAP,CAAa5C,OAAb,GAAuBA,OAAvB;YACA,OAAOA,OAAP;UACD,CA1DG;UA2DJ6sE,mBAAmB,EAAE,YAAW;YAC9B,IACEjyB,MAAM,GAAOz6C,MAAM,CAACiH,GAAP,CAAWwnE,kBAAX,EADf;YAAA,IAEE5uE,OAAO,GAAMG,MAAM,CAACiH,GAAP,CAAW2nE,eAAX,EAFf,CAD8B,CAK9B;;YACA,IAAGvvE,QAAQ,CAACyvE,aAAZ,EAA2B;cACzBjvE,OAAO,CAAC66C,MAAR,GAAwB,EAAxB;cACA76C,OAAO,CAAC66C,MAAR,CAAe9U,GAAf,GAAwBxtB,QAAQ,CAACxY,OAAO,CAACmc,GAAR,CAAY,YAAZ,CAAD,EAA4B,EAA5B,CAAhC;cACAlc,OAAO,CAAC66C,MAAR,CAAezC,MAAf,GAAwB7/B,QAAQ,CAACxY,OAAO,CAACmc,GAAR,CAAY,eAAZ,CAAD,EAA+B,EAA/B,CAAhC;cACAlc,OAAO,CAAC+lC,GAAR,GAAiB/lC,OAAO,CAAC6lB,MAAR,CAAekgB,GAAf,GAAqB/lC,OAAO,CAAC66C,MAAR,CAAe9U,GAArD;cACA/lC,OAAO,CAACo4C,MAAR,GAAiBp4C,OAAO,CAAC6lB,MAAR,CAAekgB,GAAf,GAAqB/lC,OAAO,CAACwwB,MAA7B,GAAsCxwB,OAAO,CAAC66C,MAAR,CAAezC,MAAtE;YACD,CAND,MAOK;cACHp4C,OAAO,CAAC+lC,GAAR,GAAiB/lC,OAAO,CAAC6lB,MAAR,CAAekgB,GAAhC;cACA/lC,OAAO,CAACo4C,MAAR,GAAiBp4C,OAAO,CAAC6lB,MAAR,CAAekgB,GAAf,GAAqB/lC,OAAO,CAACwwB,MAA9C;YACD,CAhB6B,CAkB9B;;;YACAxwB,OAAO,CAAC0tE,SAAR,GAA4B9yB,MAAM,CAAC7U,GAAP,IAAc/lC,OAAO,CAAC+lC,GAAlD;YACA/lC,OAAO,CAAC2tE,YAAR,GAA4B/yB,MAAM,CAAC7U,GAAP,IAAc/lC,OAAO,CAACo4C,MAAlD;YACAp4C,OAAO,CAACwtE,UAAR,GAA4B5yB,MAAM,CAACxC,MAAP,IAAiBp4C,OAAO,CAAC+lC,GAA1B,IAAkC,CAAC/lC,OAAO,CAAC0tE,SAAtE;YACA1tE,OAAO,CAACytE,aAAR,GAA4B7yB,MAAM,CAACxC,MAAP,IAAiBp4C,OAAO,CAACo4C,MAA1B,IAAqC,CAACp4C,OAAO,CAAC2tE,YAAzE;YACA3tE,OAAO,CAACguE,YAAR,GAA2B,CAA3B;YACAhuE,OAAO,CAACkvE,gBAAR,GAA2B,CAA3B,CAxB8B,CA0B9B;;YACAlvE,OAAO,CAAC6pC,QAAR,GAAqB,CAAC7pC,OAAO,CAACwtE,UAAR,IAAsBxtE,OAAO,CAACutE,OAA/B,KAA2C,CAACvtE,OAAO,CAAC2tE,YAAzE;YACA3tE,OAAO,CAACutE,OAAR,GAAqBvtE,OAAO,CAAC0tE,SAAR,IAAqB,CAAC1tE,OAAO,CAAC2tE,YAAnD;YACA3tE,OAAO,CAAC8sE,SAAR,GAAqB,CAAC9sE,OAAO,CAAC6pC,QAA9B,CA7B8B,CA+B9B;;YACA,IAAG7pC,OAAO,CAACutE,OAAX,EAAoB;cAClBvtE,OAAO,CAACguE,YAAR,GAA4BpzB,MAAM,CAAC7U,GAAP,GAAa/lC,OAAO,CAAC+lC,GAAjD;cACA/lC,OAAO,CAACkvE,gBAAR,GAA2B,CAACt0B,MAAM,CAAC7U,GAAP,GAAa/lC,OAAO,CAAC+lC,GAAtB,IAA6B/lC,OAAO,CAACwwB,MAAhE;YACD;;YACDrwB,MAAM,CAACyC,KAAP,CAAa5C,OAAb,GAAuBA,OAAvB;YACAG,MAAM,CAACI,OAAP,CAAe,8BAAf,EAA+CP,OAA/C;YACA,OAAOA,OAAP;UACD,CAlGG;UAmGJ4uE,kBAAkB,EAAE,YAAW;YAC7B,IACEj0B,MAAM,GAAGx6C,MAAM,CAACiH,GAAP,CAAWuzC,MAAX,EADX;YAGAx6C,MAAM,CAACozB,IAAP,CAAY4Q,SAAZ;YACAhkC,MAAM,CAACyC,KAAP,CAAag4C,MAAb,CAAoB7U,GAApB,GAA6B4U,MAA7B;YACAx6C,MAAM,CAACyC,KAAP,CAAag4C,MAAb,CAAoBxC,MAApB,GAA6BuC,MAAM,GAAGx6C,MAAM,CAACyC,KAAP,CAAag4C,MAAb,CAAoBpqB,MAA1D;YACA,OAAOrwB,MAAM,CAACyC,KAAP,CAAag4C,MAApB;UACD,CA3GG;UA4GJo0B,UAAU,EAAE,YAAW;YACrB7uE,MAAM,CAACI,OAAP,CAAe,wBAAf;YACAJ,MAAM,CAACyC,KAAP,CAAag4C,MAAb,GAAsB;cACpBpqB,MAAM,EAAEgB,QAAQ,CAAChB,MAAT;YADY,CAAtB;UAGD,CAjHG;UAkHJvM,QAAQ,EAAE,YAAW;YACnB9jB,MAAM,CAACozB,IAAP,CAAYy7C,UAAZ;YACA7uE,MAAM,CAACozB,IAAP,CAAYw7C,eAAZ;UACD;QArHG,CAnwBC;QA23BP3nE,GAAG,EAAE;UACH4mE,YAAY,EAAE,UAASH,MAAT,EAAiB;YAC7B,IACE7tE,OAAO,GAAGG,MAAM,CAACiH,GAAP,CAAWylE,mBAAX,EADZ;;YAGA,IAAGgB,MAAM,CAACh/D,MAAP,CAAc,GAAd,IAAqB,CAAC,CAAzB,EAA4B;cAC1B,OAAS7O,OAAO,CAACwwB,MAAR,IAAkBjY,QAAQ,CAACs1D,MAAD,EAAS,EAAT,CAAR,GAAuB,GAAzC,CAAT;YACD;;YACD,OAAOt1D,QAAQ,CAACs1D,MAAD,EAAS,EAAT,CAAf;UACD,CATE;UAUHxB,QAAQ,EAAE,UAAS7qE,QAAT,EAAmB;YAC3B,OAAQrB,MAAM,CAACyC,KAAP,CAAaypE,QAAb,KAA0B9tE,SAA3B,GACH4B,MAAM,CAACyC,KAAP,CAAaypE,QAAb,CAAsB7qE,QAAtB,KAAmC,KADhC,GAEH,KAFJ;UAID,CAfE;UAgBH2iC,SAAS,EAAE,YAAW;YACpB,IAAGhkC,MAAM,CAACyC,KAAP,CAAauhC,SAAb,KAA2B5lC,SAA9B,EAAyC;cACvC4B,MAAM,CAACozB,IAAP,CAAY4Q,SAAZ;YACD;;YACD,OAAOhkC,MAAM,CAACyC,KAAP,CAAauhC,SAApB;UACD,CArBE;UAsBH4qC,eAAe,EAAE,YAAW;YAC1B,IAAG5uE,MAAM,CAACyC,KAAP,CAAa5C,OAAb,KAAyBzB,SAA5B,EAAuC;cACrC4B,MAAM,CAACozB,IAAP,CAAYw7C,eAAZ;YACD;;YACD,OAAO5uE,MAAM,CAACyC,KAAP,CAAa5C,OAApB;UACD,CA3BE;UA4BH6sE,mBAAmB,EAAE,YAAW;YAC9B,IAAG1sE,MAAM,CAACyC,KAAP,CAAa5C,OAAb,KAAyBzB,SAA5B,EAAuC;cACrC4B,MAAM,CAACozB,IAAP,CAAYs5C,mBAAZ;YACD;;YACD,OAAO1sE,MAAM,CAACyC,KAAP,CAAa5C,OAApB;UACD,CAjCE;UAkCH4uE,kBAAkB,EAAE,YAAW;YAC7B,IAAGzuE,MAAM,CAACyC,KAAP,CAAag4C,MAAb,KAAwBr8C,SAA3B,EAAsC;cACpC4B,MAAM,CAACozB,IAAP,CAAYq7C,kBAAZ;YACD;;YACD,OAAOzuE,MAAM,CAACyC,KAAP,CAAag4C,MAApB;UACD,CAvCE;UAwCHo0B,UAAU,EAAE,YAAW;YACrB,IAAG7uE,MAAM,CAACyC,KAAP,CAAag4C,MAAb,KAAwBr8C,SAA3B,EAAsC;cACpC4B,MAAM,CAACozB,IAAP,CAAYy7C,UAAZ;YACD;;YACD,OAAO7uE,MAAM,CAACyC,KAAP,CAAag4C,MAApB;UACD,CA7CE;UA8CHD,MAAM,EAAE,YAAW;YACjB,IAAGx6C,MAAM,CAACyC,KAAP,CAAa+3C,MAAb,KAAwBp8C,SAA3B,EAAsC;cACpC4B,MAAM,CAACozB,IAAP,CAAYonB,MAAZ;YACD;;YACD,OAAOx6C,MAAM,CAACyC,KAAP,CAAa+3C,MAApB;UACD,CAnDE;UAoDH+b,UAAU,EAAE,YAAW;YACrB,IAAGv2D,MAAM,CAACyC,KAAP,CAAag4C,MAAb,KAAwBr8C,SAA3B,EAAsC;cACpC4B,MAAM,CAACS,KAAP,CAAa,mDAAb;cACA,OAAO,KAAP;YACD;;YACD,OAAOT,MAAM,CAACyC,KAAP,CAAag4C,MAAb,CAAoB7U,GAA3B;UACD;QA1DE,CA33BE;QAw7BP1jC,OAAO,EAAE,UAASV,IAAT,EAAeW,KAAf,EAAsB;UAC7B,IAAIlE,CAAC,CAACqB,aAAF,CAAgBkC,IAAhB,CAAJ,EAA4B;YAC1BvD,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAeF,QAAf,EAAyBmC,IAAzB;UACD,CAFD,MAGK,IAAGW,KAAK,KAAK/D,SAAb,EAAwB;YAC3BiB,QAAQ,CAACmC,IAAD,CAAR,GAAiBW,KAAjB;UACD,CAFI,MAGA;YACH,OAAO9C,QAAQ,CAACmC,IAAD,CAAf;UACD;QACF,CAl8BM;QAm8BPsB,QAAQ,EAAE,UAAStB,IAAT,EAAeW,KAAf,EAAsB;UAC9B,IAAIlE,CAAC,CAACqB,aAAF,CAAgBkC,IAAhB,CAAJ,EAA4B;YAC1BvD,CAAC,CAACsB,MAAF,CAAS,IAAT,EAAeS,MAAf,EAAuBwB,IAAvB;UACD,CAFD,MAGK,IAAGW,KAAK,KAAK/D,SAAb,EAAwB;YAC3B4B,MAAM,CAACwB,IAAD,CAAN,GAAeW,KAAf;UACD,CAFI,MAGA;YACH,OAAOnC,MAAM,CAACwB,IAAD,CAAb;UACD;QACF,CA78BM;QA88BPf,KAAK,EAAE,YAAW;UAChB,IAAG,CAACpB,QAAQ,CAACgV,MAAV,IAAoBhV,QAAQ,CAACoB,KAAhC,EAAuC;YACrC,IAAGpB,QAAQ,CAACP,WAAZ,EAAyB;cACvBkB,MAAM,CAAClB,WAAP,CAAmB4B,GAAnB,CAAuB1B,SAAvB;YACD,CAFD,MAGK;cACHgB,MAAM,CAACS,KAAP,GAAesC,QAAQ,CAACC,SAAT,CAAmBC,IAAnB,CAAwB7D,IAAxB,CAA6BmB,OAAO,CAACmC,IAArC,EAA2CnC,OAA3C,EAAoDlB,QAAQ,CAACmC,IAAT,GAAgB,GAApE,CAAf;cACAxB,MAAM,CAACS,KAAP,CAAayC,KAAb,CAAmB3C,OAAnB,EAA4BvB,SAA5B;YACD;UACF;QACF,CAx9BM;QAy9BPoB,OAAO,EAAE,YAAW;UAClB,IAAG,CAACf,QAAQ,CAACgV,MAAV,IAAoBhV,QAAQ,CAACe,OAA7B,IAAwCf,QAAQ,CAACoB,KAApD,EAA2D;YACzD,IAAGpB,QAAQ,CAACP,WAAZ,EAAyB;cACvBkB,MAAM,CAAClB,WAAP,CAAmB4B,GAAnB,CAAuB1B,SAAvB;YACD,CAFD,MAGK;cACHgB,MAAM,CAACI,OAAP,GAAiB2C,QAAQ,CAACC,SAAT,CAAmBC,IAAnB,CAAwB7D,IAAxB,CAA6BmB,OAAO,CAACmC,IAArC,EAA2CnC,OAA3C,EAAoDlB,QAAQ,CAACmC,IAAT,GAAgB,GAApE,CAAjB;cACAxB,MAAM,CAACI,OAAP,CAAe8C,KAAf,CAAqB3C,OAArB,EAA8BvB,SAA9B;YACD;UACF;QACF,CAn+BM;QAo+BPS,KAAK,EAAE,YAAW;UAChB,IAAG,CAACJ,QAAQ,CAACgV,MAAb,EAAqB;YACnBrU,MAAM,CAACP,KAAP,GAAesD,QAAQ,CAACC,SAAT,CAAmBC,IAAnB,CAAwB7D,IAAxB,CAA6BmB,OAAO,CAACd,KAArC,EAA4Cc,OAA5C,EAAqDlB,QAAQ,CAACmC,IAAT,GAAgB,GAArE,CAAf;YACAxB,MAAM,CAACP,KAAP,CAAayD,KAAb,CAAmB3C,OAAnB,EAA4BvB,SAA5B;UACD;QACF,CAz+BM;QA0+BPF,WAAW,EAAE;UACX4B,GAAG,EAAE,UAASyC,OAAT,EAAkB;YACrB,IACEC,WADF,EAEEC,aAFF,EAGEC,YAHF;;YAKA,IAAGjE,QAAQ,CAACP,WAAZ,EAAyB;cACvBsE,WAAW,GAAK,IAAIxE,IAAJ,GAAWC,OAAX,EAAhB;cACAyE,YAAY,GAAI3E,IAAI,IAAIyE,WAAxB;cACAC,aAAa,GAAGD,WAAW,GAAGE,YAA9B;cACA3E,IAAI,GAAYyE,WAAhB;cACAtE,WAAW,CAACgD,IAAZ,CAAiB;gBACf,QAAmBqB,OAAO,CAAC,CAAD,CADX;gBAEf,aAAmB,GAAGhE,KAAH,CAASC,IAAT,CAAc+D,OAAd,EAAuB,CAAvB,KAA6B,EAFjC;gBAGf,WAAmBtD,OAHJ;gBAIf,kBAAmBwD;cAJJ,CAAjB;YAMD;;YACDE,YAAY,CAACvD,MAAM,CAAClB,WAAP,CAAmB0E,KAApB,CAAZ;YACAxD,MAAM,CAAClB,WAAP,CAAmB0E,KAAnB,GAA2BlC,UAAU,CAACtB,MAAM,CAAClB,WAAP,CAAmB2E,OAApB,EAA6B,GAA7B,CAArC;UACD,CArBU;UAsBXA,OAAO,EAAE,YAAW;YAClB,IACEC,KAAK,GAAGrE,QAAQ,CAACmC,IAAT,GAAgB,GAD1B;YAAA,IAEEmC,SAAS,GAAG,CAFd;YAIAhF,IAAI,GAAG,KAAP;YACA4E,YAAY,CAACvD,MAAM,CAAClB,WAAP,CAAmB0E,KAApB,CAAZ;YACAvF,CAAC,CAAC2D,IAAF,CAAO9C,WAAP,EAAoB,UAAS+C,KAAT,EAAgB9B,IAAhB,EAAsB;cACxC4D,SAAS,IAAI5D,IAAI,CAAC,gBAAD,CAAjB;YACD,CAFD;YAGA2D,KAAK,IAAI,MAAMC,SAAN,GAAkB,IAA3B;;YACA,IAAGkC,cAAH,EAAmB;cACjBnC,KAAK,IAAI,QAAQmC,cAAR,GAAyB,IAAlC;YACD;;YACD,IAAI,CAACtF,OAAO,CAACK,KAAR,KAAkBxC,SAAlB,IAA+BmC,OAAO,CAACqD,KAAR,KAAkBxF,SAAlD,KAAgEU,WAAW,CAACwD,MAAZ,GAAqB,CAAzF,EAA4F;cAC1F/B,OAAO,CAACO,cAAR,CAAuB4C,KAAvB;;cACA,IAAGnD,OAAO,CAACqD,KAAX,EAAkB;gBAChBrD,OAAO,CAACqD,KAAR,CAAc9E,WAAd;cACD,CAFD,MAGK;gBACHb,CAAC,CAAC2D,IAAF,CAAO9C,WAAP,EAAoB,UAAS+C,KAAT,EAAgB9B,IAAhB,EAAsB;kBACxCQ,OAAO,CAACG,GAAR,CAAYX,IAAI,CAAC,MAAD,CAAJ,GAAe,IAAf,GAAsBA,IAAI,CAAC,gBAAD,CAA1B,GAA6C,IAAzD;gBACD,CAFD;cAGD;;cACDQ,OAAO,CAACM,QAAR;YACD;;YACD/B,WAAW,GAAG,EAAd;UACD;QAjDU,CA1+BN;QA6hCP+E,MAAM,EAAE,UAAS9E,KAAT,EAAgB+E,eAAhB,EAAiCC,OAAjC,EAA0C;UAChD,IACEC,MAAM,GAAGlE,QADX;UAAA,IAEEmE,QAFF;UAAA,IAGEC,KAHF;UAAA,IAIEC,QAJF;UAMAL,eAAe,GAAGA,eAAe,IAAI5E,cAArC;UACA6E,OAAO,GAAWlE,OAAO,IAAYkE,OAArC;;UACA,IAAG,OAAOhF,KAAP,IAAgB,QAAhB,IAA4BiF,MAAM,KAAK5F,SAA1C,EAAqD;YACnDW,KAAK,GAAMA,KAAK,CAACqF,KAAN,CAAY,OAAZ,CAAX;YACAH,QAAQ,GAAGlF,KAAK,CAACuD,MAAN,GAAe,CAA1B;YACArE,CAAC,CAAC2D,IAAF,CAAO7C,KAAP,EAAc,UAASsF,KAAT,EAAgBlC,KAAhB,EAAuB;cACnC,IAAImC,cAAc,GAAID,KAAK,IAAIJ,QAAV,GACjB9B,KAAK,GAAGpD,KAAK,CAACsF,KAAK,GAAG,CAAT,CAAL,CAAiBE,MAAjB,CAAwB,CAAxB,EAA2BC,WAA3B,EAAR,GAAmDzF,KAAK,CAACsF,KAAK,GAAG,CAAT,CAAL,CAAiBlF,KAAjB,CAAuB,CAAvB,CADlC,GAEjBJ,KAFJ;;cAIA,IAAId,CAAC,CAACqB,aAAF,CAAiB0E,MAAM,CAACM,cAAD,CAAvB,KAA8CD,KAAK,IAAIJ,QAA3D,EAAuE;gBACrED,MAAM,GAAGA,MAAM,CAACM,cAAD,CAAf;cACD,CAFD,MAGK,IAAIN,MAAM,CAACM,cAAD,CAAN,KAA2BlG,SAA/B,EAA2C;gBAC9C8F,KAAK,GAAGF,MAAM,CAACM,cAAD,CAAd;gBACA,OAAO,KAAP;cACD,CAHI,MAIA,IAAIrG,CAAC,CAACqB,aAAF,CAAiB0E,MAAM,CAAC7B,KAAD,CAAvB,KAAqCkC,KAAK,IAAIJ,QAAlD,EAA8D;gBACjED,MAAM,GAAGA,MAAM,CAAC7B,KAAD,CAAf;cACD,CAFI,MAGA,IAAI6B,MAAM,CAAC7B,KAAD,CAAN,KAAkB/D,SAAtB,EAAkC;gBACrC8F,KAAK,GAAGF,MAAM,CAAC7B,KAAD,CAAd;gBACA,OAAO,KAAP;cACD,CAHI,MAIA;gBACHnC,MAAM,CAACP,KAAP,CAAaA,KAAK,CAACgF,MAAnB,EAA2B1F,KAA3B;gBACA,OAAO,KAAP;cACD;YACF,CAvBD;UAwBD;;UACD,IAAKd,CAAC,CAACI,UAAF,CAAc6F,KAAd,CAAL,EAA6B;YAC3BC,QAAQ,GAAGD,KAAK,CAAChB,KAAN,CAAYa,OAAZ,EAAqBD,eAArB,CAAX;UACD,CAFD,MAGK,IAAGI,KAAK,KAAK9F,SAAb,EAAwB;YAC3B+F,QAAQ,GAAGD,KAAX;UACD;;UACD,IAAGQ,KAAK,CAACC,OAAN,CAAc1E,aAAd,CAAH,EAAiC;YAC/BA,aAAa,CAAC6B,IAAd,CAAmBqC,QAAnB;UACD,CAFD,MAGK,IAAGlE,aAAa,KAAK7B,SAArB,EAAgC;YACnC6B,aAAa,GAAG,CAACA,aAAD,EAAgBkE,QAAhB,CAAhB;UACD,CAFI,MAGA,IAAGA,QAAQ,KAAK/F,SAAhB,EAA2B;YAC9B6B,aAAa,GAAGkE,QAAhB;UACD;;UACD,OAAOD,KAAP;QACD;MAllCM,CAAT;;MAqlCA,IAAGjF,aAAH,EAAkB;QAChB,IAAGa,QAAQ,KAAK1B,SAAhB,EAA2B;UACzB4B,MAAM,CAACE,UAAP;QACD;;QACDJ,QAAQ,CAACszB,IAAT,CAAconB,MAAd;QACA16C,QAAQ,CAACszB,IAAT,CAAcuW,YAAd;QACA3pC,MAAM,CAAC6D,MAAP,CAAc9E,KAAd;MACD,CAPD,MAQK;QACH,IAAGe,QAAQ,KAAK1B,SAAhB,EAA2B;UACzB0B,QAAQ,CAAC+D,MAAT,CAAgB,SAAhB;QACD;;QACD7D,MAAM,CAACE,UAAP;MACD;IACF,CAzoCH;IA4oCA,OAAQD,aAAa,KAAK7B,SAAnB,GACH6B,aADG,GAEH,IAFJ;EAID,CAjqCD;;EAmqCAhC,CAAC,CAACQ,EAAF,CAAKosE,UAAL,CAAgBxrE,QAAhB,GAA2B;IAEzBmC,IAAI,EAAqB,YAFA;IAGzBhC,SAAS,EAAgB,YAHA;IAKzBiB,KAAK,EAAoB,KALA;IAMzBL,OAAO,EAAkB,KANA;IAOzBtB,WAAW,EAAc,IAPA;IASzB;IACA6Z,cAAc,EAAW,IAVA;IAYzB;IACAuyD,YAAY,EAAa,IAbA;IAezB;IACAI,aAAa,EAAY,IAhBA;IAkBzB;IACAC,eAAe,EAAU,IAnBA;IAqBzB;IACAqB,cAAc,EAAW,IAtBA;IAwBzB;IACAT,IAAI,EAAqB,IAzBA;IA2BzB;IACAuC,UAAU,EAAe,KA5BA;IA8BzB;IACAhpD,MAAM,EAAmB,CA/BA;IAiCzB;IACAopD,aAAa,EAAY,KAlCA;IAoCzB;IACA/qE,OAAO,EAAkB7F,MArCA;IAuCzB;IACA+6B,QAAQ,EAAiB,KAxCA;IA0CzB;IACAxwB,IAAI,EAAqB,KA3CA;IA6CzB;IACA+jE,MAAM,EAAmB,IA9CA;IAgDzB;IACA76D,UAAU,EAAe,SAjDA;IAkDzBC,QAAQ,EAAiB,IAlDA;IAoDzB;IACAg8D,QAAQ,EAAiB,EArDA;IAuDzB;IACAxB,UAAU,EAAe,KAxDA;IAyDzB4B,WAAW,EAAc,KAzDA;IA0DzBC,SAAS,EAAgB,KA1DA;IA2DzBC,YAAY,EAAa,KA3DA;IA4DzBC,eAAe,EAAU,KA5DA;IA6DzB7B,WAAW,EAAc,KA7DA;IA8DzB8B,cAAc,EAAW,KA9DA;IAgEzB;IACAC,gBAAgB,EAAS,KAjEA;IAkEzBC,mBAAmB,EAAM,KAlEA;IAmEzBC,sBAAsB,EAAG,KAnEA;IAoEzBhC,kBAAkB,EAAO,KApEA;IAqEzBiC,qBAAqB,EAAI,KArEA;IAuEzB;IACA3U,MAAM,EAAmB,YAAW,CAAE,CAxEb;IAyEzBwS,WAAW,EAAc,YAAW,CAAE,CAzEb;IA2EzB;IACAI,OAAO,EAAkB,YAAW,CAAE,CA5Eb;IA6EzBkC,SAAS,EAAgB,YAAW,CAAE,CA7Eb;IA+EzB;IACAlB,QAAQ,EAAiB,KAhFA;IAgFO;IAChCZ,SAAS,EAAgB,YAAU,CAAE,CAjFZ;IAmFzBnmE,QAAQ,EAAG;MACTwnC,GAAG,EAAE;IADI,CAnFc;IAuFzBvnC,SAAS,EAAE;MACTuxC,KAAK,EAAS,OADL;MAETjX,WAAW,EAAG,YAFL;MAGT1N,OAAO,EAAO;IAHL,CAvFc;IA6FzB9zB,KAAK,EAAG;MACNgF,MAAM,EAAI,uCADJ;MAEN8uB,OAAO,EAAG;IAFJ;EA7FiB,CAA3B;AAoGC,CAtxCA,EAsxCG/tB,MAtxCH,EAsxCWtH,MAtxCX,EAsxCmBC,QAtxCnB"},"metadata":{},"sourceType":"script"}