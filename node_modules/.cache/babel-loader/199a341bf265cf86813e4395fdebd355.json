{"ast":null,"code":"'use strict';\n/**\n * Module dependencies.\n */\n\nvar url = require('url');\n\nvar LRU = require('lru-cache');\n\nvar Agent = require('agent-base');\n\nvar inherits = require('util').inherits;\n\nvar debug = require('debug')('proxy-agent');\n\nvar getProxyForUrl = require('proxy-from-env').getProxyForUrl;\n\nvar http = require('http');\n\nvar https = require('https');\n\nvar PacProxyAgent = require('pac-proxy-agent');\n\nvar HttpProxyAgent = require('http-proxy-agent');\n\nvar HttpsProxyAgent = require('https-proxy-agent');\n\nvar SocksProxyAgent = require('socks-proxy-agent');\n/**\n * Module exports.\n */\n\n\nexports = module.exports = ProxyAgent;\n/**\n * Number of `http.Agent` instances to cache.\n *\n * This value was arbitrarily chosen... a better\n * value could be conceived with some benchmarks.\n */\n\nvar cacheSize = 20;\n/**\n * Cache for `http.Agent` instances.\n */\n\nexports.cache = new LRU(cacheSize);\n/**\n * Built-in proxy types.\n */\n\nexports.proxies = Object.create(null);\nexports.proxies.http = httpOrHttpsProxy;\nexports.proxies.https = httpOrHttpsProxy;\nexports.proxies.socks = SocksProxyAgent;\nexports.proxies.socks4 = SocksProxyAgent;\nexports.proxies.socks4a = SocksProxyAgent;\nexports.proxies.socks5 = SocksProxyAgent;\nexports.proxies.socks5h = SocksProxyAgent;\nPacProxyAgent.protocols.forEach(function (protocol) {\n  exports.proxies['pac+' + protocol] = PacProxyAgent;\n});\n\nfunction httpOrHttps(opts, secureEndpoint) {\n  if (secureEndpoint) {\n    // HTTPS\n    return https.globalAgent;\n  } else {\n    // HTTP\n    return http.globalAgent;\n  }\n}\n\nfunction httpOrHttpsProxy(opts, secureEndpoint) {\n  if (secureEndpoint) {\n    // HTTPS\n    return new HttpsProxyAgent(opts);\n  } else {\n    // HTTP\n    return new HttpProxyAgent(opts);\n  }\n}\n\nfunction mapOptsToProxy(opts) {\n  // NO_PROXY case\n  if (!opts) {\n    return {\n      uri: 'no proxy',\n      fn: httpOrHttps\n    };\n  }\n\n  if ('string' == typeof opts) opts = url.parse(opts);\n  var proxies;\n\n  if (opts.proxies) {\n    proxies = Object.assign({}, exports.proxies, opts.proxies);\n  } else {\n    proxies = exports.proxies;\n  } // get the requested proxy \"protocol\"\n\n\n  var protocol = opts.protocol;\n\n  if (!protocol) {\n    throw new TypeError('You must specify a \"protocol\" for the ' + 'proxy type (' + Object.keys(proxies).join(', ') + ')');\n  } // strip the trailing \":\" if present\n\n\n  if (':' == protocol[protocol.length - 1]) {\n    protocol = protocol.substring(0, protocol.length - 1);\n  } // get the proxy `http.Agent` creation function\n\n\n  var proxyFn = proxies[protocol];\n\n  if ('function' != typeof proxyFn) {\n    throw new TypeError('unsupported proxy protocol: \"' + protocol + '\"');\n  } // format the proxy info back into a URI, since an opts object\n  // could have been passed in originally. This generated URI is used\n  // as part of the \"key\" for the LRU cache\n\n\n  return {\n    opts: opts,\n    uri: url.format({\n      protocol: protocol + ':',\n      slashes: true,\n      auth: opts.auth,\n      hostname: opts.hostname || opts.host,\n      port: opts.port\n    }),\n    fn: proxyFn\n  };\n}\n/**\n * Attempts to get an `http.Agent` instance based off of the given proxy URI\n * information, and the `secure` flag.\n *\n * An LRU cache is used, to prevent unnecessary creation of proxy\n * `http.Agent` instances.\n *\n * @param {String} uri proxy url\n * @param {Boolean} secure true if this is for an HTTPS request, false for HTTP\n * @return {http.Agent}\n * @api public\n */\n\n\nfunction ProxyAgent(opts) {\n  if (!(this instanceof ProxyAgent)) return new ProxyAgent(opts);\n  debug('creating new ProxyAgent instance: %o', opts);\n  Agent.call(this);\n\n  if (opts) {\n    var proxy = mapOptsToProxy(opts);\n    this.proxy = proxy.opts;\n    this.proxyUri = proxy.uri;\n    this.proxyFn = proxy.fn;\n  }\n}\n\ninherits(ProxyAgent, Agent);\n/**\n *\n */\n\nProxyAgent.prototype.callback = function (req, opts, fn) {\n  var proxyOpts = this.proxy;\n  var proxyUri = this.proxyUri;\n  var proxyFn = this.proxyFn; // if we did not instantiate with a proxy, set one per request\n\n  if (!proxyOpts) {\n    var urlOpts = getProxyForUrl(opts);\n    var proxy = mapOptsToProxy(urlOpts, opts);\n    proxyOpts = proxy.opts;\n    proxyUri = proxy.uri;\n    proxyFn = proxy.fn;\n  } // create the \"key\" for the LRU cache\n\n\n  var key = proxyUri;\n  if (opts.secureEndpoint) key += ' secure'; // attempt to get a cached `http.Agent` instance first\n\n  var agent = exports.cache.get(key);\n\n  if (!agent) {\n    // get an `http.Agent` instance from protocol-specific agent function\n    agent = proxyFn(proxyOpts, opts.secureEndpoint);\n\n    if (agent) {\n      exports.cache.set(key, agent);\n    }\n  } else {\n    debug('cache hit with key: %o', key);\n  }\n\n  if (!proxyOpts) {\n    agent.addRequest(req, opts);\n  } else {\n    // XXX: agent.callback() is an agent-base-ism\n    agent.callback(req, opts).then(function (socket) {\n      fn(null, socket);\n    }).catch(function (error) {\n      fn(error);\n    });\n  }\n};","map":{"version":3,"names":["url","require","LRU","Agent","inherits","debug","getProxyForUrl","http","https","PacProxyAgent","HttpProxyAgent","HttpsProxyAgent","SocksProxyAgent","exports","module","ProxyAgent","cacheSize","cache","proxies","Object","create","httpOrHttpsProxy","socks","socks4","socks4a","socks5","socks5h","protocols","forEach","protocol","httpOrHttps","opts","secureEndpoint","globalAgent","mapOptsToProxy","uri","fn","parse","assign","TypeError","keys","join","length","substring","proxyFn","format","slashes","auth","hostname","host","port","call","proxy","proxyUri","prototype","callback","req","proxyOpts","urlOpts","key","agent","get","set","addRequest","then","socket","catch","error"],"sources":["C:/Users/bryan/Desktop/myrepresentatives/frontend/node_modules/proxy-agent/index.js"],"sourcesContent":["'use strict';\n\n/**\n * Module dependencies.\n */\n\nvar url = require('url');\nvar LRU = require('lru-cache');\nvar Agent = require('agent-base');\nvar inherits = require('util').inherits;\nvar debug = require('debug')('proxy-agent');\nvar getProxyForUrl = require('proxy-from-env').getProxyForUrl;\n\nvar http = require('http');\nvar https = require('https');\nvar PacProxyAgent = require('pac-proxy-agent');\nvar HttpProxyAgent = require('http-proxy-agent');\nvar HttpsProxyAgent = require('https-proxy-agent');\nvar SocksProxyAgent = require('socks-proxy-agent');\n\n/**\n * Module exports.\n */\n\nexports = module.exports = ProxyAgent;\n\n/**\n * Number of `http.Agent` instances to cache.\n *\n * This value was arbitrarily chosen... a better\n * value could be conceived with some benchmarks.\n */\n\nvar cacheSize = 20;\n\n/**\n * Cache for `http.Agent` instances.\n */\n\nexports.cache = new LRU(cacheSize);\n\n/**\n * Built-in proxy types.\n */\n\nexports.proxies = Object.create(null);\nexports.proxies.http = httpOrHttpsProxy;\nexports.proxies.https = httpOrHttpsProxy;\nexports.proxies.socks = SocksProxyAgent;\nexports.proxies.socks4 = SocksProxyAgent;\nexports.proxies.socks4a = SocksProxyAgent;\nexports.proxies.socks5 = SocksProxyAgent;\nexports.proxies.socks5h = SocksProxyAgent;\n\nPacProxyAgent.protocols.forEach(function (protocol) {\n  exports.proxies['pac+' + protocol] = PacProxyAgent;\n});\n\nfunction httpOrHttps(opts, secureEndpoint) {\n  if (secureEndpoint) {\n    // HTTPS\n    return https.globalAgent;\n  } else {\n    // HTTP\n    return http.globalAgent;\n  }\n}\n\nfunction httpOrHttpsProxy(opts, secureEndpoint) {\n  if (secureEndpoint) {\n    // HTTPS\n    return new HttpsProxyAgent(opts);\n  } else {\n    // HTTP\n    return new HttpProxyAgent(opts);\n  }\n}\n\nfunction mapOptsToProxy(opts) {\n  // NO_PROXY case\n  if (!opts) {\n    return {\n      uri: 'no proxy',\n      fn: httpOrHttps\n    };\n  }\n\n  if ('string' == typeof opts) opts = url.parse(opts);\n\n  var proxies;\n  if (opts.proxies) {\n    proxies = Object.assign({}, exports.proxies, opts.proxies);\n  } else {\n    proxies = exports.proxies;\n  }\n\n  // get the requested proxy \"protocol\"\n  var protocol = opts.protocol;\n  if (!protocol) {\n    throw new TypeError('You must specify a \"protocol\" for the ' +\n                        'proxy type (' + Object.keys(proxies).join(', ') + ')');\n  }\n\n  // strip the trailing \":\" if present\n  if (':' == protocol[protocol.length - 1]) {\n    protocol = protocol.substring(0, protocol.length - 1);\n  }\n\n  // get the proxy `http.Agent` creation function\n  var proxyFn = proxies[protocol];\n  if ('function' != typeof proxyFn) {\n    throw new TypeError('unsupported proxy protocol: \"' + protocol + '\"');\n  }\n\n  // format the proxy info back into a URI, since an opts object\n  // could have been passed in originally. This generated URI is used\n  // as part of the \"key\" for the LRU cache\n  return {\n    opts: opts,\n    uri: url.format({\n      protocol: protocol + ':',\n      slashes: true,\n      auth: opts.auth,\n      hostname: opts.hostname || opts.host,\n      port: opts.port\n    }),\n    fn: proxyFn,\n  }\n}\n\n/**\n * Attempts to get an `http.Agent` instance based off of the given proxy URI\n * information, and the `secure` flag.\n *\n * An LRU cache is used, to prevent unnecessary creation of proxy\n * `http.Agent` instances.\n *\n * @param {String} uri proxy url\n * @param {Boolean} secure true if this is for an HTTPS request, false for HTTP\n * @return {http.Agent}\n * @api public\n */\n\nfunction ProxyAgent (opts) {\n  if (!(this instanceof ProxyAgent)) return new ProxyAgent(opts);\n  debug('creating new ProxyAgent instance: %o', opts);\n  Agent.call(this);\n\n  if (opts) {\n    var proxy = mapOptsToProxy(opts);\n    this.proxy = proxy.opts;\n    this.proxyUri = proxy.uri;\n    this.proxyFn = proxy.fn;\n  }\n}\ninherits(ProxyAgent, Agent);\n\n/**\n *\n */\n\nProxyAgent.prototype.callback = function(req, opts, fn) {\n  var proxyOpts = this.proxy;\n  var proxyUri = this.proxyUri;\n  var proxyFn = this.proxyFn;\n\n  // if we did not instantiate with a proxy, set one per request\n  if (!proxyOpts) {\n    var urlOpts = getProxyForUrl(opts);\n    var proxy = mapOptsToProxy(urlOpts, opts);\n    proxyOpts = proxy.opts;\n    proxyUri = proxy.uri;\n    proxyFn = proxy.fn;\n  }\n\n  // create the \"key\" for the LRU cache\n  var key = proxyUri;\n  if (opts.secureEndpoint) key += ' secure';\n\n  // attempt to get a cached `http.Agent` instance first\n  var agent = exports.cache.get(key);\n  if (!agent) {\n    // get an `http.Agent` instance from protocol-specific agent function\n    agent = proxyFn(proxyOpts, opts.secureEndpoint);\n    if (agent) {\n      exports.cache.set(key, agent);\n    }\n  } else {\n    debug('cache hit with key: %o', key);\n  }\n\n  if (!proxyOpts) {\n    agent.addRequest(req, opts);\n  } else {\n    // XXX: agent.callback() is an agent-base-ism\n    agent.callback(req, opts)\n      .then(function(socket) { fn(null, socket); })\n      .catch(function(error) { fn(error); });\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}